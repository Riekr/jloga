plugins {
	id 'java'
	id 'application'
}

repositories {
	mavenCentral()
}

def mainClassName = 'org.riekr.jloga.Main'
application {
	mainClass = mainClassName
}

java {
	toolchain {
		languageVersion = JavaLanguageVersion.of(11)
	}
}

/* Would be nice to use javafx for finos perspective integration but as of now webassembly and workers are not supported
   keeping definitions here for further reference */
//	id "org.openjfx.javafxplugin" version "0.0.12"
//javafx {
////	version = '17.0.0.1'
//	version = '19-ea+3'
//	modules = ['javafx.swing', 'javafx.web']
//}

sourceSets {
	main {
		java {
			srcDir 'src/main/java'
		}
		resources {
			srcDir 'src/main/resources'
			srcDir 'src/main/html'
		}
	}
}

compileJava {
	options.warnings = true
	options.deprecation = true
	options.debug = false
	options.compilerArgs = ["-Xlint:unchecked"]
}

dependencies {
	implementation 'com.formdev:flatlaf:2.0.2'
	implementation 'org.drjekyll:fontchooser:2.4'
//	implementation 'org.nanohttpd:nanohttpd:2.3.1'
	implementation 'org.nanohttpd:nanohttpd-websocket:2.3.1'
	compileOnly 'org.jetbrains:annotations:22.0.0'
}

jar {
	manifest {
		attributes(
				"Implementation-Version": "0.0.4",
				"Main-Class": mainClassName
		)
	}
}