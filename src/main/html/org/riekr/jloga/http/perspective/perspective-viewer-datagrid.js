var hi=Object.create;var mr=Object.defineProperty;var ui=Object.getOwnPropertyDescriptor;var _i=Object.getOwnPropertyNames;var pi=Object.getPrototypeOf,gi=Object.prototype.hasOwnProperty;var bi=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var mi=(e,r,o,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let l of _i(r))!gi.call(e,l)&&l!==o&&mr(e,l,{get:()=>r[l],enumerable:!(n=ui(r,l))||n.enumerable});return e};var wt=(e,r,o)=>(o=e!=null?hi(pi(e)):{},mi(r||!e||!e.__esModule?mr(o,"default",{value:e,enumerable:!0}):o,e));var dt=bi((ct,ft)=>{(function(){var e,r,o,n,l,h,_,p,x,M,m,z,F,T,E,I,P,J,D,g,re,j,ge,$,oe,ee,ve,ne,ie,Ne,Ee,Oe,ce,pe,Se,Ae,Pe,Be,we,Le,We,ut,de,he,Zt,Ft,Jt,_t,je,pt,Qt,B,er,tr,rr,ir,ae,or,sr,lr,nr,ar,cr,fr,Tt,Rt,It,dr,hr,ur,gt,bt,_r,be,pr,Ye,xe,Dt,Q,te,Fe,mt,yt,Me=[].slice;Q=function(){var t,i,s,a,c;for(t={},c="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),a=0,i=c.length;a<i;a++)s=c[a],t["[object "+s+"]"]=s.toLowerCase();return function(f){var d;return d=Object.prototype.toString.call(f),t[d]||"object"}}(),_t=function(t,i,s){return i==null&&(i=0),s==null&&(s=1),t<i&&(t=i),t>s&&(t=s),t},te=function(t){return t.length>=3?Array.prototype.slice.call(t):t[0]},re=function(t){var i,s;for(t._clipped=!1,t._unclipped=t.slice(0),i=s=0;s<3;i=++s)i<3?((t[i]<0||t[i]>255)&&(t._clipped=!0),t[i]<0&&(t[i]=0),t[i]>255&&(t[i]=255)):i===3&&(t[i]<0&&(t[i]=0),t[i]>1&&(t[i]=1));return t._clipped||delete t._unclipped,t},n=Math.PI,be=Math.round,$=Math.cos,ie=Math.floor,ae=Math.pow,je=Math.log,Ye=Math.sin,xe=Math.sqrt,T=Math.atan2,B=Math.max,F=Math.abs,_=n*2,l=n/3,r=n/180,h=180/n,g=function(){return arguments[0]instanceof e?arguments[0]:function(t,i,s){s.prototype=t.prototype;var a=new s,c=t.apply(a,i);return Object(c)===c?c:a}(e,arguments,function(){})},g.default=g,z=[],typeof ft<"u"&&ft!==null&&ft.exports!=null&&(ft.exports=g),typeof define=="function"&&define.amd?define([],function(){return g}):(_r=typeof ct<"u"&&ct!==null?ct:this,_r.chroma=g),g.version="1.4.1",m={},x=[],M=!1,e=function(){function t(){var i,s,a,c,f,d,u,b,v;for(d=this,s=[],b=0,c=arguments.length;b<c;b++)i=arguments[b],i!=null&&s.push(i);if(s.length>1&&(u=s[s.length-1]),m[u]!=null)d._rgb=re(m[u](te(s.slice(0,-1))));else{for(M||(x=x.sort(function(k,N){return N.p-k.p}),M=!0),v=0,f=x.length;v<f&&(a=x[v],u=a.test.apply(a,s),!u);v++);u&&(d._rgb=re(m[u].apply(m,s)))}d._rgb==null&&console.warn("unknown format: "+s),d._rgb==null&&(d._rgb=[0,0,0]),d._rgb.length===3&&d._rgb.push(1)}return t.prototype.toString=function(){return this.hex()},t}(),g._input=m;g.brewer=J={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var t,i;i=[];for(t in J)i.push(J[t.toLowerCase()]=J[t]);return i}(),Fe={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},g.colors=ge=Fe,de=function(){var t,i,s,a,c,f,d,u,b;return i=te(arguments),c=i[0],t=i[1],s=i[2],u=(c+16)/116,d=isNaN(t)?u:u+t/500,b=isNaN(s)?u:u-s/200,u=o.Yn*he(u),d=o.Xn*he(d),b=o.Zn*he(b),f=yt(3.2404542*d-1.5371385*u-.4985314*b),a=yt(-.969266*d+1.8760108*u+.041556*b),s=yt(.0556434*d-.2040259*u+1.0572252*b),[f,a,s,i.length>3?i[3]:1]},yt=function(t){return 255*(t<=.00304?12.92*t:1.055*ae(t,1/2.4)-.055)},he=function(t){return t>o.t1?t*t*t:o.t2*(t-o.t0)},o={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Tt=function(){var t,i,s,a,c,f,d,u;return a=te(arguments),s=a[0],i=a[1],t=a[2],c=ur(s,i,t),f=c[0],d=c[1],u=c[2],[116*d-16,500*(f-d),200*(d-u)]},gt=function(t){return(t/=255)<=.04045?t/12.92:ae((t+.055)/1.055,2.4)},mt=function(t){return t>o.t3?ae(t,1/3):t/o.t2+o.t0},ur=function(){var t,i,s,a,c,f,d;return a=te(arguments),s=a[0],i=a[1],t=a[2],s=gt(s),i=gt(i),t=gt(t),c=mt((.4124564*s+.3575761*i+.1804375*t)/o.Xn),f=mt((.2126729*s+.7151522*i+.072175*t)/o.Yn),d=mt((.0193339*s+.119192*i+.9503041*t)/o.Zn),[c,f,d]},g.lab=function(){return function(t,i,s){s.prototype=t.prototype;var a=new s,c=t.apply(a,i);return Object(c)===c?c:a}(e,Me.call(arguments).concat(["lab"]),function(){})},m.lab=de,e.prototype.lab=function(){return Tt(this._rgb)},E=function(t){var i,s,a,c,f,d,u,b,v,k,N;return t=function(){var L,w,A;for(A=[],w=0,L=t.length;w<L;w++)c=t[w],A.push(g(c));return A}(),t.length===2?(v=function(){var L,w,A;for(A=[],w=0,L=t.length;w<L;w++)c=t[w],A.push(c.lab());return A}(),f=v[0],d=v[1],i=function(L){var w,A;return A=function(){var S,R;for(R=[],w=S=0;S<=2;w=++S)R.push(f[w]+L*(d[w]-f[w]));return R}(),g.lab.apply(g,A)}):t.length===3?(k=function(){var L,w,A;for(A=[],w=0,L=t.length;w<L;w++)c=t[w],A.push(c.lab());return A}(),f=k[0],d=k[1],u=k[2],i=function(L){var w,A;return A=function(){var S,R;for(R=[],w=S=0;S<=2;w=++S)R.push((1-L)*(1-L)*f[w]+2*(1-L)*L*d[w]+L*L*u[w]);return R}(),g.lab.apply(g,A)}):t.length===4?(N=function(){var L,w,A;for(A=[],w=0,L=t.length;w<L;w++)c=t[w],A.push(c.lab());return A}(),f=N[0],d=N[1],u=N[2],b=N[3],i=function(L){var w,A;return A=function(){var S,R;for(R=[],w=S=0;S<=2;w=++S)R.push((1-L)*(1-L)*(1-L)*f[w]+3*(1-L)*(1-L)*L*d[w]+3*(1-L)*L*L*u[w]+L*L*L*b[w]);return R}(),g.lab.apply(g,A)}):t.length===5&&(s=E(t.slice(0,3)),a=E(t.slice(2,5)),i=function(L){return L<.5?s(L*2):a((L-.5)*2)}),i},g.bezier=function(t){var i;return i=E(t),i.scale=function(){return g.scale(i)},i},g.cubehelix=function(t,i,s,a,c){var f,d,u;return t==null&&(t=300),i==null&&(i=-1.5),s==null&&(s=1),a==null&&(a=1),c==null&&(c=[0,1]),f=0,Q(c)==="array"?d=c[1]-c[0]:(d=0,c=[c,c]),u=function(b){var v,k,N,L,w,A,S,R,X;return v=_*((t+120)/360+i*b),S=ae(c[0]+d*b,a),A=f!==0?s[0]+b*f:s,k=A*S*(1-S)/2,L=$(v),X=Ye(v),R=S+k*(-.14861*L+1.78277*X),w=S+k*(-.29227*L-.90649*X),N=S+k*(1.97294*L),g(re([R*255,w*255,N*255,1]))},u.start=function(b){return b==null?t:(t=b,u)},u.rotations=function(b){return b==null?i:(i=b,u)},u.gamma=function(b){return b==null?a:(a=b,u)},u.hue=function(b){return b==null?s:(s=b,Q(s)==="array"?(f=s[1]-s[0],f===0&&(s=s[1])):f=0,u)},u.lightness=function(b){return b==null?c:(Q(b)==="array"?(c=b,d=b[1]-b[0]):(c=[b,b],d=0),u)},u.scale=function(){return g.scale(u)},u.hue(s),u},g.random=function(){var t,i,s,a;for(i="0123456789abcdef",t="#",s=a=0;a<6;s=++a)t+=i.charAt(ie(Math.random()*16));return new e(t)},z=[],Ae=function(t,i,s,a){var c,f,d,u;for(s==null&&(s=.5),a==null&&(a="rgb"),Q(t)!=="object"&&(t=g(t)),Q(i)!=="object"&&(i=g(i)),d=0,f=z.length;d<f;d++)if(c=z[d],a===c[0]){u=c[1](t,i,s,a);break}if(u==null)throw"color mode "+a+" is not supported";return u.alpha(t.alpha()+s*(i.alpha()-t.alpha()))},g.interpolate=Ae,e.prototype.interpolate=function(t,i,s){return Ae(this,t,i,s)},g.mix=Ae,e.prototype.mix=e.prototype.interpolate,m.rgb=function(){var t,i,s,a;i=te(arguments),s=[];for(t in i)a=i[t],s.push(a);return s},g.rgb=function(){return function(t,i,s){s.prototype=t.prototype;var a=new s,c=t.apply(a,i);return Object(c)===c?c:a}(e,Me.call(arguments).concat(["rgb"]),function(){})},e.prototype.rgb=function(t){return t==null&&(t=!0),t?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},e.prototype.rgba=function(t){return t==null&&(t=!0),t?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},x.push({p:3,test:function(t){var i;if(i=te(arguments),Q(i)==="array"&&i.length===3||i.length===4&&Q(i[3])==="number"&&i[3]>=0&&i[3]<=1)return"rgb"}}),m.lrgb=m.rgb,we=function(t,i,s,a){var c,f;return c=t._rgb,f=i._rgb,new e(xe(ae(c[0],2)*(1-s)+ae(f[0],2)*s),xe(ae(c[1],2)*(1-s)+ae(f[1],2)*s),xe(ae(c[2],2)*(1-s)+ae(f[2],2)*s),a)},p=function(t){var i,s,a,c,f,d;for(s=1/t.length,d=[0,0,0,0],c=0,a=t.length;c<a;c++)i=t[c],f=i._rgb,d[0]+=ae(f[0],2)*s,d[1]+=ae(f[1],2)*s,d[2]+=ae(f[2],2)*s,d[3]+=f[3]*s;return d[0]=xe(d[0]),d[1]=xe(d[1]),d[2]=xe(d[2]),d[3]>1&&(d[3]=1),new e(re(d))},z.push(["lrgb",we]),g.average=function(t,i){var s,a,c,f,d,u,b,v,k,N,L,w,A;if(i==null&&(i="rgb"),k=t.length,t=t.map(function(S){return g(S)}),b=t.splice(0,1)[0],i==="lrgb")return p(t);w=b.get(i),f=[],d=0,u=0;for(v in w)w[v]=w[v]||0,f.push(isNaN(w[v])?0:1),i.charAt(v)==="h"&&!isNaN(w[v])&&(s=w[v]/180*n,d+=$(s),u+=Ye(s));for(a=b.alpha(),L=0,N=t.length;L<N;L++){c=t[L],A=c.get(i),a+=c.alpha();for(v in w)isNaN(A[v])||(f[v]+=1,i.charAt(v)==="h"?(s=A[v]/180*n,d+=$(s),u+=Ye(s)):w[v]+=A[v])}for(v in w)if(i.charAt(v)==="h"){for(s=T(u/f[v],d/f[v])/n*180;s<0;)s+=360;for(;s>=360;)s-=360;w[v]=s}else w[v]=w[v]/f[v];return g(w,i).alpha(a/k)},Ee=function(t){var i,s,a,c,f,d;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(t.length===4||t.length===7)&&(t=t.substr(1)),t.length===3&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),d=parseInt(t,16),c=d>>16,a=d>>8&255,s=d&255,[c,a,s,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return t.length===9&&(t=t.substr(1)),d=parseInt(t,16),c=d>>24&255,a=d>>16&255,s=d>>8&255,i=be((d&255)/255*100)/100,[c,a,s,i];if(m.css!=null&&(f=m.css(t)))return f;throw"unknown color: "+t},nr=function(t,i){var s,a,c,f,d,u,b;return i==null&&(i="auto"),d=t[0],c=t[1],a=t[2],s=t[3],i==="auto"&&(i=s<1?"rgba":"rgb"),d=Math.round(d),c=Math.round(c),a=Math.round(a),b=d<<16|c<<8|a,u="000000"+b.toString(16),u=u.substr(u.length-6),f="0"+be(s*255).toString(16),f=f.substr(f.length-2),"#"+function(){switch(i.toLowerCase()){case"rgba":return u+f;case"argb":return f+u;default:return u}}()},m.hex=function(t){return Ee(t)},g.hex=function(){return function(t,i,s){s.prototype=t.prototype;var a=new s,c=t.apply(a,i);return Object(c)===c?c:a}(e,Me.call(arguments).concat(["hex"]),function(){})},e.prototype.hex=function(t){return t==null&&(t="auto"),nr(this._rgb,t)},x.push({p:4,test:function(t){if(arguments.length===1&&Q(t)==="string")return"hex"}}),pe=function(){var t,i,s,a,c,f,d,u,b,v,k,N,L,w;if(t=te(arguments),c=t[0],k=t[1],d=t[2],k===0)b=a=i=d*255;else{for(w=[0,0,0],s=[0,0,0],L=d<.5?d*(1+k):d+k-d*k,N=2*d-L,c/=360,w[0]=c+1/3,w[1]=c,w[2]=c-1/3,f=u=0;u<=2;f=++u)w[f]<0&&(w[f]+=1),w[f]>1&&(w[f]-=1),6*w[f]<1?s[f]=N+(L-N)*6*w[f]:2*w[f]<1?s[f]=L:3*w[f]<2?s[f]=N+(L-N)*(2/3-w[f])*6:s[f]=N;v=[be(s[0]*255),be(s[1]*255),be(s[2]*255)],b=v[0],a=v[1],i=v[2]}return t.length>3?[b,a,i,t[3]]:[b,a,i]},cr=function(t,i,s){var a,c,f,d,u;return t!==void 0&&t.length>=3&&(d=t,t=d[0],i=d[1],s=d[2]),t/=255,i/=255,s/=255,f=Math.min(t,i,s),B=Math.max(t,i,s),c=(B+f)/2,B===f?(u=0,a=Number.NaN):u=c<.5?(B-f)/(B+f):(B-f)/(2-B-f),t===B?a=(i-s)/(B-f):i===B?a=2+(s-t)/(B-f):s===B&&(a=4+(t-i)/(B-f)),a*=60,a<0&&(a+=360),[a,u,c]},g.hsl=function(){return function(t,i,s){s.prototype=t.prototype;var a=new s,c=t.apply(a,i);return Object(c)===c?c:a}(e,Me.call(arguments).concat(["hsl"]),function(){})},m.hsl=pe,e.prototype.hsl=function(){return cr(this._rgb)},Se=function(){var t,i,s,a,c,f,d,u,b,v,k,N,L,w,A,S,R,X;if(t=te(arguments),c=t[0],S=t[1],X=t[2],X*=255,S===0)b=a=i=X;else switch(c===360&&(c=0),c>360&&(c-=360),c<0&&(c+=360),c/=60,f=ie(c),s=c-f,d=X*(1-S),u=X*(1-S*s),R=X*(1-S*(1-s)),f){case 0:v=[X,R,d],b=v[0],a=v[1],i=v[2];break;case 1:k=[u,X,d],b=k[0],a=k[1],i=k[2];break;case 2:N=[d,X,R],b=N[0],a=N[1],i=N[2];break;case 3:L=[d,u,X],b=L[0],a=L[1],i=L[2];break;case 4:w=[R,d,X],b=w[0],a=w[1],i=w[2];break;case 5:A=[X,d,u],b=A[0],a=A[1],i=A[2]}return[b,a,i,t.length>3?t[3]:1]},fr=function(){var t,i,s,a,c,f,d,u,b;return d=te(arguments),f=d[0],s=d[1],t=d[2],c=Math.min(f,s,t),B=Math.max(f,s,t),i=B-c,b=B/255,B===0?(a=Number.NaN,u=0):(u=i/B,f===B&&(a=(s-t)/i),s===B&&(a=2+(t-f)/i),t===B&&(a=4+(f-s)/i),a*=60,a<0&&(a+=360)),[a,u,b]},g.hsv=function(){return function(t,i,s){s.prototype=t.prototype;var a=new s,c=t.apply(a,i);return Object(c)===c?c:a}(e,Me.call(arguments).concat(["hsv"]),function(){})},m.hsv=Se,e.prototype.hsv=function(){return fr(this._rgb)},rr=function(t){var i,s,a;return Q(t)==="number"&&t>=0&&t<=16777215?(a=t>>16,s=t>>8&255,i=t&255,[a,s,i,1]):(console.warn("unknown num color: "+t),[0,0,0,1])},dr=function(){var t,i,s,a;return a=te(arguments),s=a[0],i=a[1],t=a[2],(s<<16)+(i<<8)+t},g.num=function(t){return new e(t,"num")},e.prototype.num=function(t){return t==null&&(t="rgb"),dr(this._rgb,t)},m.num=rr,x.push({p:1,test:function(t){if(arguments.length===1&&Q(t)==="number"&&t>=0&&t<=16777215)return"num"}}),Ne=function(){var t,i,s,a,c,f,d,u,b,v,k,N,L,w,A,S,R,X,se,O;if(s=te(arguments),u=s[0],c=s[1],i=s[2],c=c/100,d=d/100*255,t=c*255,c===0)N=d=a=i;else switch(u===360&&(u=0),u>360&&(u-=360),u<0&&(u+=360),u/=60,b=ie(u),f=u-b,v=i*(1-c),k=v+t*(1-f),se=v+t*f,O=v+t,b){case 0:L=[O,se,v],N=L[0],d=L[1],a=L[2];break;case 1:w=[k,O,v],N=w[0],d=w[1],a=w[2];break;case 2:A=[v,O,se],N=A[0],d=A[1],a=A[2];break;case 3:S=[v,k,O],N=S[0],d=S[1],a=S[2];break;case 4:R=[se,v,O],N=R[0],d=R[1],a=R[2];break;case 5:X=[O,v,k],N=X[0],d=X[1],a=X[2]}return[N,d,a,s.length>3?s[3]:1]},lr=function(){var t,i,s,a,c,f,d,u,b;return b=te(arguments),u=b[0],c=b[1],i=b[2],d=Math.min(u,c,i),B=Math.max(u,c,i),a=B-d,s=a*100/255,t=d/(255-a)*100,a===0?f=Number.NaN:(u===B&&(f=(c-i)/a),c===B&&(f=2+(i-u)/a),i===B&&(f=4+(u-c)/a),f*=60,f<0&&(f+=360)),[f,s,t]},g.hcg=function(){return function(t,i,s){s.prototype=t.prototype;var a=new s,c=t.apply(a,i);return Object(c)===c?c:a}(e,Me.call(arguments).concat(["hcg"]),function(){})},m.hcg=Ne,e.prototype.hcg=function(){return lr(this._rgb)},oe=function(t){var i,s,a,c,f,d,u,b;if(t=t.toLowerCase(),g.colors!=null&&g.colors[t])return Ee(g.colors[t]);if(f=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(u=f.slice(1,4),c=d=0;d<=2;c=++d)u[c]=+u[c];u[3]=1}else if(f=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(u=f.slice(1,5),c=b=0;b<=3;c=++b)u[c]=+u[c];else if(f=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(u=f.slice(1,4),c=i=0;i<=2;c=++i)u[c]=be(u[c]*2.55);u[3]=1}else if(f=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(u=f.slice(1,5),c=s=0;s<=2;c=++s)u[c]=be(u[c]*2.55);u[3]=+u[3]}else(f=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(a=f.slice(1,4),a[1]*=.01,a[2]*=.01,u=pe(a),u[3]=1):(f=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(a=f.slice(1,4),a[1]*=.01,a[2]*=.01,u=pe(a),u[3]=+f[4]);return u},sr=function(t){var i;if(i=t[3]<1?"rgba":"rgb",i==="rgb")return i+"("+t.slice(0,3).map(be).join(",")+")";if(i==="rgba")return i+"("+t.slice(0,3).map(be).join(",")+","+t[3]+")"},bt=function(t){return be(t*100)/100},ce=function(t,i){var s;return s=i<1?"hsla":"hsl",t[0]=bt(t[0]||0),t[1]=bt(t[1]*100)+"%",t[2]=bt(t[2]*100)+"%",s==="hsla"&&(t[3]=i),s+"("+t.join(",")+")"},m.css=function(t){return oe(t)},g.css=function(){return function(t,i,s){s.prototype=t.prototype;var a=new s,c=t.apply(a,i);return Object(c)===c?c:a}(e,Me.call(arguments).concat(["css"]),function(){})},e.prototype.css=function(t){if(t==null&&(t="rgb"),t.slice(0,3)==="rgb")return sr(this._rgb);if(t.slice(0,3)==="hsl")return ce(this.hsl(),this.alpha())},m.named=function(t){return Ee(Fe[t])},x.push({p:5,test:function(t){if(arguments.length===1&&Fe[t]!=null)return"named"}}),e.prototype.name=function(t){var i,s;arguments.length&&(Fe[t]&&(this._rgb=Ee(Fe[t])),this._rgb[3]=1),i=this.hex("rgb");for(s in Fe)if(i===Fe[s])return s;return i},Zt=function(){var t,i,s,a;return a=te(arguments),s=a[0],t=a[1],i=a[2],i=i*r,[s,$(i)*t,Ye(i)*t]},Ft=function(){var t,i,s,a,c,f,d,u,b,v,k;return s=te(arguments),u=s[0],c=s[1],d=s[2],v=Zt(u,c,d),t=v[0],i=v[1],a=v[2],k=de(t,i,a),b=k[0],f=k[1],a=k[2],[b,f,a,s.length>3?s[3]:1]},ut=function(){var t,i,s,a,c,f;return f=te(arguments),c=f[0],t=f[1],i=f[2],s=xe(t*t+i*i),a=(T(i,t)*h+360)%360,be(s*1e4)===0&&(a=Number.NaN),[c,s,a]},Rt=function(){var t,i,s,a,c,f,d;return f=te(arguments),c=f[0],s=f[1],i=f[2],d=Tt(c,s,i),a=d[0],t=d[1],i=d[2],ut(a,t,i)},g.lch=function(){var t;return t=te(arguments),new e(t,"lch")},g.hcl=function(){var t;return t=te(arguments),new e(t,"hcl")},m.lch=Ft,m.hcl=function(){var t,i,s,a;return a=te(arguments),i=a[0],t=a[1],s=a[2],Ft([s,t,i])},e.prototype.lch=function(){return Rt(this._rgb)},e.prototype.hcl=function(){return Rt(this._rgb).reverse()},or=function(t){var i,s,a,c,f,d,u,b,v;return t==null&&(t="rgb"),b=te(arguments),u=b[0],c=b[1],i=b[2],u=u/255,c=c/255,i=i/255,f=1-Math.max(u,Math.max(c,i)),a=f<1?1/(1-f):0,s=(1-u-f)*a,d=(1-c-f)*a,v=(1-i-f)*a,[s,d,v,f]},j=function(){var t,i,s,a,c,f,d,u,b;return i=te(arguments),a=i[0],d=i[1],b=i[2],f=i[3],t=i.length>4?i[4]:1,f===1?[0,0,0,t]:(u=a>=1?0:255*(1-a)*(1-f),c=d>=1?0:255*(1-d)*(1-f),s=b>=1?0:255*(1-b)*(1-f),[u,c,s,t])},m.cmyk=function(){return j(te(arguments))},g.cmyk=function(){return function(t,i,s){s.prototype=t.prototype;var a=new s,c=t.apply(a,i);return Object(c)===c?c:a}(e,Me.call(arguments).concat(["cmyk"]),function(){})},e.prototype.cmyk=function(){return or(this._rgb)},m.gl=function(){var t,i,s,a,c;for(a=function(){var f,d;f=te(arguments),d=[];for(i in f)c=f[i],d.push(c);return d}.apply(this,arguments),t=s=0;s<=2;t=++s)a[t]*=255;return a},g.gl=function(){return function(t,i,s){s.prototype=t.prototype;var a=new s,c=t.apply(a,i);return Object(c)===c?c:a}(e,Me.call(arguments).concat(["gl"]),function(){})},e.prototype.gl=function(){var t;return t=this._rgb,[t[0]/255,t[1]/255,t[2]/255,t[3]]},It=function(t,i,s){var a;return a=te(arguments),t=a[0],i=a[1],s=a[2],t=pt(t),i=pt(i),s=pt(s),.2126*t+.7152*i+.0722*s},pt=function(t){return t/=255,t<=.03928?t/12.92:ae((t+.055)/1.055,2.4)},We=function(t,i,s,a){var c,f;return c=t._rgb,f=i._rgb,new e(c[0]+s*(f[0]-c[0]),c[1]+s*(f[1]-c[1]),c[2]+s*(f[2]-c[2]),a)},z.push(["rgb",We]),e.prototype.luminance=function(t,i){var s,a,c,f,d;return i==null&&(i="rgb"),arguments.length?(f=this._rgb,t===0?f=[0,0,0,this._rgb[3]]:t===1?f=[255,255,255,this[3]]:(s=It(this._rgb),a=1e-7,c=20,d=function(u,b){var v,k;return k=u.interpolate(b,.5,i),v=k.luminance(),Math.abs(t-v)<a||!c--?k:v>t?d(u,k):d(k,b)},s>t?f=d(g("black"),this).rgba():f=d(this,g("white")).rgba()),g(f).alpha(this.alpha())):It(this._rgb)},Dt=function(t){var i,s,a,c;return c=t/100,c<66?(a=255,s=-155.25485562709179-.44596950469579133*(s=c-2)+104.49216199393888*je(s),i=c<20?0:-254.76935184120902+.8274096064007395*(i=c-10)+115.67994401066147*je(i)):(a=351.97690566805693+.114206453784165*(a=c-55)-40.25366309332127*je(a),s=325.4494125711974+.07943456536662342*(s=c-50)-28.0852963507957*je(s),i=255),[a,s,i]},hr=function(){var t,i,s,a,c,f,d,u,b;for(d=te(arguments),f=d[0],s=d[1],t=d[2],c=1e3,a=4e4,i=.4;a-c>i;)b=(a+c)*.5,u=Dt(b),u[2]/u[0]>=t/f?a=b:c=b;return be(b)},g.temperature=g.kelvin=function(){return function(t,i,s){s.prototype=t.prototype;var a=new s,c=t.apply(a,i);return Object(c)===c?c:a}(e,Me.call(arguments).concat(["temperature"]),function(){})},m.temperature=m.kelvin=m.K=Dt,e.prototype.temperature=function(){return hr(this._rgb)},e.prototype.kelvin=e.prototype.temperature,g.contrast=function(t,i){var s,a,c,f;return((c=Q(t))==="string"||c==="number")&&(t=new e(t)),((f=Q(i))==="string"||f==="number")&&(i=new e(i)),s=t.luminance(),a=i.luminance(),s>a?(s+.05)/(a+.05):(a+.05)/(s+.05)},g.distance=function(t,i,s){var a,c,f,d,u,b,v;s==null&&(s="lab"),((u=Q(t))==="string"||u==="number")&&(t=new e(t)),((b=Q(i))==="string"||b==="number")&&(i=new e(i)),f=t.get(s),d=i.get(s),v=0;for(c in f)a=(f[c]||0)-(d[c]||0),v+=a*a;return Math.sqrt(v)},g.deltaE=function(t,i,s,a){var c,f,d,u,b,v,k,N,L,w,A,S,R,X,se,O,ze,me,G,U,ue,y,C,W,q,H,Y;for(s==null&&(s=1),a==null&&(a=1),((ze=Q(t))==="string"||ze==="number")&&(t=new e(t)),((me=Q(i))==="string"||me==="number")&&(i=new e(i)),G=t.lab(),c=G[0],d=G[1],b=G[2],U=i.lab(),f=U[0],u=U[1],v=U[2],k=xe(d*d+b*b),N=xe(u*u+v*v),C=c<16?.511:.040975*c/(1+.01765*c),ue=.0638*k/(1+.0131*k)+.638,O=k<1e-6?0:T(b,d)*180/n;O<0;)O+=360;for(;O>=360;)O-=360;return W=O>=164&&O<=345?.56+F(.2*$(n*(O+168)/180)):.36+F(.4*$(n*(O+35)/180)),L=k*k*k*k,se=xe(L/(L+1900)),y=ue*(se*W+1-se),X=c-f,R=k-N,A=d-u,S=b-v,w=A*A+S*S-R*R,q=X/(s*C),H=R/(a*ue),Y=y,xe(q*q+H*H+w/(Y*Y))},e.prototype.get=function(t){var i,s,a,c,f,d;return a=this,f=t.split("."),c=f[0],i=f[1],d=a[c](),i?(s=c.indexOf(i),s>-1?d[s]:console.warn("unknown channel "+i+" in mode "+c)):d},e.prototype.set=function(t,i){var s,a,c,f,d,u;if(c=this,d=t.split("."),f=d[0],s=d[1],s)if(u=c[f](),a=f.indexOf(s),a>-1)if(Q(i)==="string")switch(i.charAt(0)){case"+":u[a]+=+i;break;case"-":u[a]+=+i;break;case"*":u[a]*=+i.substr(1);break;case"/":u[a]/=+i.substr(1);break;default:u[a]=+i}else u[a]=i;else console.warn("unknown channel "+s+" in mode "+f);else u=i;return g(u,f).alpha(c.alpha())},e.prototype.clipped=function(){return this._rgb._clipped||!1},e.prototype.alpha=function(t){return arguments.length?g.rgb([this._rgb[0],this._rgb[1],this._rgb[2],t]):this._rgb[3]},e.prototype.darken=function(t){var i,s;return t==null&&(t=1),s=this,i=s.lab(),i[0]-=o.Kn*t,g.lab(i).alpha(s.alpha())},e.prototype.brighten=function(t){return t==null&&(t=1),this.darken(-t)},e.prototype.darker=e.prototype.darken,e.prototype.brighter=e.prototype.brighten,e.prototype.saturate=function(t){var i,s;return t==null&&(t=1),s=this,i=s.lch(),i[1]+=t*o.Kn,i[1]<0&&(i[1]=0),g.lch(i).alpha(s.alpha())},e.prototype.desaturate=function(t){return t==null&&(t=1),this.saturate(-t)},e.prototype.premultiply=function(){var t,i;return i=this.rgb(),t=this.alpha(),g(i[0]*t,i[1]*t,i[2]*t,t)},I=function(t,i,s){if(!I[s])throw"unknown blend mode "+s;return I[s](t,i)},P=function(t){return function(i,s){var a,c;return a=g(s).rgb(),c=g(i).rgb(),g(t(a,c),"rgb")}},ne=function(t){return function(i,s){var a,c,f;for(f=[],a=c=0;c<=3;a=++c)f[a]=t(i[a],s[a]);return f}},tr=function(t,i){return t},er=function(t,i){return t*i/255},ee=function(t,i){return t>i?i:t},Jt=function(t,i){return t>i?t:i},pr=function(t,i){return 255*(1-(1-t/255)*(1-i/255))},ir=function(t,i){return i<128?2*t*i/255:255*(1-2*(1-t/255)*(1-i/255))},D=function(t,i){return 255*(1-(1-i/255)/(t/255))},ve=function(t,i){return t===255||(t=255*(i/255)/(1-t/255),t>255)?255:t},I.normal=P(ne(tr)),I.multiply=P(ne(er)),I.screen=P(ne(pr)),I.overlay=P(ne(ir)),I.darken=P(ne(ee)),I.lighten=P(ne(Jt)),I.dodge=P(ne(ve)),I.burn=P(ne(D)),g.blend=I,g.analyze=function(t){var i,s,a,c;for(a={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},s=0,i=t.length;s<i;s++)c=t[s],c!=null&&!isNaN(c)&&(a.values.push(c),a.sum+=c,c<a.min&&(a.min=c),c>a.max&&(a.max=c),a.count+=1);return a.domain=[a.min,a.max],a.limits=function(f,d){return g.limits(a,f,d)},a},g.scale=function(t,i){var s,a,c,f,d,u,b,v,k,N,L,w,A,S,R,X,se,O,ze,me,G,U,ue;return N="rgb",L=g("#ccc"),R=0,u=!1,d=[0,1],S=[],A=[0,0],s=!1,c=[],w=!1,k=0,v=1,f=!1,a={},X=!0,b=1,U=function(y){var C,W,q,H,Y,Z;if(y==null&&(y=["#fff","#000"]),y!=null&&Q(y)==="string"&&g.brewer!=null&&(y=g.brewer[y]||g.brewer[y.toLowerCase()]||y),Q(y)==="array"){for(y.length===1&&(y=[y[0],y[0]]),y=y.slice(0),C=q=0,H=y.length-1;0<=H?q<=H:q>=H;C=0<=H?++q:--q)W=y[C],Q(W)==="string"&&(y[C]=g(W));for(S.length=0,C=Z=0,Y=y.length-1;0<=Y?Z<=Y:Z>=Y;C=0<=Y?++Z:--Z)S.push(C/(y.length-1))}return G(),c=y},ze=function(y){var C,W;if(s!=null){for(W=s.length-1,C=0;C<W&&y>=s[C];)C++;return C-1}return 0},ue=function(y){return y},se=function(y){var C,W,q,H,Y;return Y=y,s.length>2&&(H=s.length-1,C=ze(y),q=s[0]+(s[1]-s[0])*(0+R*.5),W=s[H-1]+(s[H]-s[H-1])*(1-R*.5),Y=k+(s[C]+(s[C+1]-s[C])*.5-q)/(W-q)*(v-k)),Y},me=function(y,C){var W,q,H,Y,Z,K,le,V;if(C==null&&(C=!1),isNaN(y)||y===null)return L;if(C?V=y:s&&s.length>2?(W=ze(y),V=W/(s.length-2)):v!==k?V=(y-k)/(v-k):V=1,C||(V=ue(V)),b!==1&&(V=ae(V,b)),V=A[0]+V*(1-A[0]-A[1]),V=Math.min(1,Math.max(0,V)),Y=Math.floor(V*1e4),X&&a[Y])q=a[Y];else{if(Q(c)==="array")for(H=Z=0,le=S.length-1;0<=le?Z<=le:Z>=le;H=0<=le?++Z:--Z){if(K=S[H],V<=K){q=c[H];break}if(V>=K&&H===S.length-1){q=c[H];break}if(V>K&&V<S[H+1]){V=(V-K)/(S[H+1]-K),q=g.interpolate(c[H],c[H+1],V,N);break}}else Q(c)==="function"&&(q=c(V));X&&(a[Y]=q)}return q},G=function(){return a={}},U(t),O=function(y){var C;return C=g(me(y)),w&&C[w]?C[w]():C},O.classes=function(y){var C;return y!=null?(Q(y)==="array"?(s=y,d=[y[0],y[y.length-1]]):(C=g.analyze(d),y===0?s=[C.min,C.max]:s=g.limits(C,"e",y)),O):s},O.domain=function(y){var C,W,q,H,Y,Z,K;if(!arguments.length)return d;if(k=y[0],v=y[y.length-1],S=[],q=c.length,y.length===q&&k!==v)for(Y=0,H=y.length;Y<H;Y++)W=y[Y],S.push((W-k)/(v-k));else for(C=K=0,Z=q-1;0<=Z?K<=Z:K>=Z;C=0<=Z?++K:--K)S.push(C/(q-1));return d=[k,v],O},O.mode=function(y){return arguments.length?(N=y,G(),O):N},O.range=function(y,C){return U(y,C),O},O.out=function(y){return w=y,O},O.spread=function(y){return arguments.length?(R=y,O):R},O.correctLightness=function(y){return y==null&&(y=!0),f=y,G(),f?ue=function(C){var W,q,H,Y,Z,K,le,V,fe;for(W=me(0,!0).lab()[0],q=me(1,!0).lab()[0],le=W>q,H=me(C,!0).lab()[0],Z=W+(q-W)*C,Y=H-Z,V=0,fe=1,K=20;Math.abs(Y)>.01&&K-- >0;)(function(){return le&&(Y*=-1),Y<0?(V=C,C+=(fe-C)*.5):(fe=C,C+=(V-C)*.5),H=me(C,!0).lab()[0],Y=H-Z})();return C}:ue=function(C){return C},O},O.padding=function(y){return y!=null?(Q(y)==="number"&&(y=[y,y]),A=y,O):A},O.colors=function(y,C){var W,q,H,Y,Z,K,le,V,fe;if(arguments.length<2&&(C="hex"),K=[],arguments.length===0)K=c.slice(0);else if(y===1)K=[O(.5)];else if(y>1)q=d[0],W=d[1]-q,K=function(){le=[];for(var _e=0;0<=y?_e<y:_e>y;0<=y?_e++:_e--)le.push(_e);return le}.apply(this).map(function(_e){return O(q+_e/(y-1)*W)});else{if(t=[],V=[],s&&s.length>2)for(H=fe=1,Z=s.length;1<=Z?fe<Z:fe>Z;H=1<=Z?++fe:--fe)V.push((s[H-1]+s[H])*.5);else V=d;K=V.map(function(_e){return O(_e)})}return g[C]&&(K=K.map(function(_e){return _e[C]()})),K},O.cache=function(y){return y!=null?(X=y,O):X},O.gamma=function(y){return y!=null?(b=y,O):b},O.nodata=function(y){return y!=null?(L=g(y),O):L},O},g.scales==null&&(g.scales={}),g.scales.cool=function(){return g.scale([g.hsl(180,1,.9),g.hsl(250,.7,.4)])},g.scales.hot=function(){return g.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},g.analyze=function(t,i,s){var a,c,f,d,u,b,v;if(u={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},s==null&&(s=function(){return!0}),a=function(k){k!=null&&!isNaN(k)&&(u.values.push(k),u.sum+=k,k<u.min&&(u.min=k),k>u.max&&(u.max=k),u.count+=1)},v=function(k,N){if(s(k,N))return i!=null&&Q(i)==="function"?a(i(k)):i!=null&&Q(i)==="string"||Q(i)==="number"?a(k[i]):a(k)},Q(t)==="array")for(d=0,f=t.length;d<f;d++)b=t[d],v(b);else for(c in t)b=t[c],v(b,c);return u.domain=[u.min,u.max],u.limits=function(k,N){return g.limits(u,k,N)},u},g.limits=function(t,i,s){var a,c,f,d,u,b,v,k,N,L,w,A,S,R,X,se,O,ze,me,G,U,ue,y,C,W,q,H,Y,Z,K,le,V,fe,_e,Ve,Xe,Ue,Ke,Ze,Je,gr,Qe,et,tt,rt,it,ot,st,lt,nt,di,Te,vt,br,Ce,at;if(i==null&&(i="equal"),s==null&&(s=7),Q(t)==="array"&&(t=g.analyze(t)),W=t.min,B=t.max,di=t.sum,Ce=t.values.sort(function(jt,Ht){return jt-Ht}),s===1)return[W,B];if(y=[],i.substr(0,1)==="c"&&(y.push(W),y.push(B)),i.substr(0,1)==="e"){for(y.push(W),G=le=1,Ve=s-1;1<=Ve?le<=Ve:le>=Ve;G=1<=Ve?++le:--le)y.push(W+G/s*(B-W));y.push(B)}else if(i.substr(0,1)==="l"){if(W<=0)throw"Logarithmic scales are only possible for values > 0";for(q=Math.LOG10E*je(W),C=Math.LOG10E*je(B),y.push(W),G=at=1,Xe=s-1;1<=Xe?at<=Xe:at>=Xe;G=1<=Xe?++at:--at)y.push(ae(10,q+G/s*(C-q)));y.push(B)}else if(i.substr(0,1)==="q"){for(y.push(W),G=a=1,Qe=s-1;1<=Qe?a<=Qe:a>=Qe;G=1<=Qe?++a:--a)V=(Ce.length-1)*G/s,fe=ie(V),fe===V?y.push(Ce[fe]):(_e=V-fe,y.push(Ce[fe]*(1-_e)+Ce[fe+1]*_e));y.push(B)}else if(i.substr(0,1)==="k"){for(Y=Ce.length,R=new Array(Y),ze=new Array(s),nt=!0,Z=0,se=null,se=[],se.push(W),G=c=1,et=s-1;1<=et?c<=et:c>=et;G=1<=et?++c:--c)se.push(W+G/s*(B-W));for(se.push(B);nt;){for(U=f=0,tt=s-1;0<=tt?f<=tt:f>=tt;U=0<=tt?++f:--f)ze[U]=0;for(G=d=0,rt=Y-1;0<=rt?d<=rt:d>=rt;G=0<=rt?++d:--d){for(br=Ce[G],H=Number.MAX_VALUE,U=u=0,it=s-1;0<=it?u<=it:u>=it;U=0<=it?++u:--u)me=F(se[U]-br),me<H&&(H=me,X=U);ze[X]++,R[G]=X}for(K=new Array(s),U=b=0,ot=s-1;0<=ot?b<=ot:b>=ot;U=0<=ot?++b:--b)K[U]=null;for(G=v=0,st=Y-1;0<=st?v<=st:v>=st;G=0<=st?++v:--v)O=R[G],K[O]===null?K[O]=Ce[G]:K[O]+=Ce[G];for(U=k=0,lt=s-1;0<=lt?k<=lt:k>=lt;U=0<=lt?++k:--k)K[U]*=1/ze[U];for(nt=!1,U=N=0,Ue=s-1;0<=Ue?N<=Ue:N>=Ue;U=0<=Ue?++N:--N)if(K[U]!==se[G]){nt=!0;break}se=K,Z++,Z>200&&(nt=!1)}for(ue={},U=L=0,Ke=s-1;0<=Ke?L<=Ke:L>=Ke;U=0<=Ke?++L:--L)ue[U]=[];for(G=w=0,Ze=Y-1;0<=Ze?w<=Ze:w>=Ze;G=0<=Ze?++w:--w)O=R[G],ue[O].push(Ce[G]);for(Te=[],U=A=0,Je=s-1;0<=Je?A<=Je:A>=Je;U=0<=Je?++A:--A)Te.push(ue[U][0]),Te.push(ue[U][ue[U].length-1]);for(Te=Te.sort(function(jt,Ht){return jt-Ht}),y.push(Te[0]),G=S=1,gr=Te.length-1;S<=gr;G=S+=2)vt=Te[G],!isNaN(vt)&&y.indexOf(vt)===-1&&y.push(vt)}return y},Oe=function(t,i,s){var a,c,f,d;return a=te(arguments),t=a[0],i=a[1],s=a[2],isNaN(t)&&(t=0),t/=360,t<1/3?(c=(1-i)/3,d=(1+i*$(_*t)/$(l-_*t))/3,f=1-(c+d)):t<2/3?(t-=1/3,d=(1-i)/3,f=(1+i*$(_*t)/$(l-_*t))/3,c=1-(d+f)):(t-=2/3,f=(1-i)/3,c=(1+i*$(_*t)/$(l-_*t))/3,d=1-(f+c)),d=_t(s*d*3),f=_t(s*f*3),c=_t(s*c*3),[d*255,f*255,c*255,a.length>3?a[3]:1]},ar=function(){var t,i,s,a,c,f,d,u;return d=te(arguments),f=d[0],i=d[1],t=d[2],_=Math.PI*2,f/=255,i/=255,t/=255,c=Math.min(f,i,t),a=(f+i+t)/3,u=1-c/a,u===0?s=0:(s=(f-i+(f-t))/2,s/=Math.sqrt((f-i)*(f-i)+(f-t)*(i-t)),s=Math.acos(s),t>i&&(s=_-s),s/=_),[s*360,u,a]},g.hsi=function(){return function(t,i,s){s.prototype=t.prototype;var a=new s,c=t.apply(a,i);return Object(c)===c?c:a}(e,Me.call(arguments).concat(["hsi"]),function(){})},m.hsi=Oe,e.prototype.hsi=function(){return ar(this._rgb)},Pe=function(t,i,s,a){var c,f,d,u,b,v,k,N,L,w,A,S,R;return a==="hsl"?(S=t.hsl(),R=i.hsl()):a==="hsv"?(S=t.hsv(),R=i.hsv()):a==="hcg"?(S=t.hcg(),R=i.hcg()):a==="hsi"?(S=t.hsi(),R=i.hsi()):(a==="lch"||a==="hcl")&&(a="hcl",S=t.hcl(),R=i.hcl()),a.substr(0,1)==="h"&&(d=S[0],w=S[1],v=S[2],u=R[0],A=R[1],k=R[2]),!isNaN(d)&&!isNaN(u)?(u>d&&u-d>180?c=u-(d+360):u<d&&d-u>180?c=u+360-d:c=u-d,f=d+s*c):isNaN(d)?isNaN(u)?f=Number.NaN:(f=u,(v===1||v===0)&&a!=="hsv"&&(L=A)):(f=d,(k===1||k===0)&&a!=="hsv"&&(L=w)),L==null&&(L=w+s*(A-w)),b=v+s*(k-v),N=g[a](f,L,b)},z=z.concat(function(){var t,i,s,a;for(s=["hsv","hsl","hsi","hcl","lch","hcg"],a=[],i=0,t=s.length;i<t;i++)Qt=s[i],a.push([Qt,Pe]);return a}()),Le=function(t,i,s,a){var c,f;return c=t.num(),f=i.num(),g.num(c+(f-c)*s,"num")},z.push(["num",Le]),Be=function(t,i,s,a){var c,f,d;return f=t.lab(),d=i.lab(),c=new e(f[0]+s*(d[0]-f[0]),f[1]+s*(d[1]-f[1]),f[2]+s*(d[2]-f[2]),a)},z.push(["lab",Be])}).call(ct)});var He=new WeakMap,yr=!0,yi=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,vi=yi?5e6:1e7,xt=0,$e=0,vr=performance.now();function wi(){let e=performance.now(),r=e-vr,o=xt,n=$e*1e3/r,l=1e3/o,h=$e;return xt=0,$e=0,vr=e,{avg:o,real_fps:n,virtual_fps:l,num_frames:h,elapsed:r}}function xi(e){xt=(xt*$e+e)/($e+1),$e+=1}var kr=(e,...r)=>e.map((o,n)=>[o,r[n]]).flat().filter(o=>!!o).join(""),ki=()=>{let e,r=new Promise(o=>{e=o});return r.resolve=e,r},Re=new Map;async function Li(e){return await new Promise(requestAnimationFrame),await Re.get(e)}async function Lr(e,r){if(Re.has(e)&&(await Re.get(e),Re.has(e))){await Re.get(e);return}Re.set(e,ki());try{return await r()}finally{let o=Re.get(e);Re.delete(e),o.resolve()}}var Mi=":host{position:absolute;top:0px;left:0px;right:0px;bottom:0px;overflow:scroll;overflow-anchor:none;overscroll-behavior:none;-webkit-overflow-scrolling:touch;}div.rt-virtual-panel{position:absolute;top:0;left:0;right:0;pointer-events:none;}div.rt-scroll-table-clip{position:sticky;contain:strict;overflow-anchor:none;width:100%;height:100%;}div.rt-tree-container{display:flex;align-items:center;height:100%;}slot{position:absolute;overflow:hidden;overflow-anchor:none;}",zi=":host ::slotted(table){--regular-table--transform-x:0px;--regular-table--transform-y:0px;--regular-table--clip-x:0px;--regular-table--clip-y:0px;}",Ei=class extends HTMLElement{create_shadow_dom(){this.attachShadow({mode:"open"});let e="<slot></slot>";this.shadowRoot.innerHTML=kr`
            <style>
                ${Mi}
            </style>
            <style>
                ${zi}
            </style>
            <div class="rt-virtual-panel"></div>
            <div class="rt-scroll-table-clip">
                ${e}
            </div>
        `;let[,r,o,n]=this.shadowRoot.children;this._sub_cell_style=r,this._table_clip=n,this._virtual_panel=o,this._setup_virtual_scroll()}_setup_virtual_scroll(){this._table_clip&&(this._virtual_mode==="both"||this._virtual_mode==="vertical"?this._table_clip.style.top="0px":this._table_clip.style.removeProperty("top"),this._virtual_mode==="both"||this._virtual_mode==="horizontal"?this._table_clip.style.left="0px":this._table_clip.style.removeProperty("left"),this._virtual_mode!=="both"?this._table_clip.style.contain="none":this._table_clip.style.removeProperty("contain"))}_calculate_viewport(e,r){let{start_row:o,end_row:n}=this._calculate_row_range(e),{start_col:l,end_col:h}=this._calculate_column_range(r);return this._nrows=e,{start_col:l,end_col:h,start_row:o,end_row:n}}_calculate_row_range(e){let{height:r}=this._container_size,o=this._column_sizes.row_height||19,n=this._view_cache.config.column_pivots.length,l=Math.max(1,this._virtual_panel.offsetHeight-this.clientHeight),h=Math.max(Math.ceil(this.scrollTop),0)/l,_=r/o-n,p=Math.max(0,Math.ceil((e||0)-_))*h,x=Math.max(0,Math.min(p+_,e));return{start_row:p,end_row:x}}_calc_start_column(){let e=this._view_cache.config.row_pivots.length,r=0,o=0,n=0;for(;o<this.scrollLeft;){let l=this._column_sizes.indices[r+e];n=this.scrollLeft-o,r+=1,o+=l!==void 0?l:60}return r+=n/(this._column_sizes.indices[r+e-1]||60),Math.max(0,r-1)}_calculate_column_range(e){if(this._virtual_mode==="none"||this._virtual_mode==="vertical")return{start_col:0,end_col:1/0};{let r=this._calc_start_column(),o=this.table_model.num_columns()||Math.min(e,Math.ceil(this._container_size.width/60)),n=r+o+1;return{start_col:r,end_col:n}}}_max_scroll_column(e){let r=0;if(this._view_cache.config.row_pivots.length>0)for(let l of this._column_sizes.indices.slice(0,this._view_cache.config.row_pivots.length))r+=l;let o=this._view_cache.config.row_pivots.length,n=e;for(;r<this._container_size.width&&n>=0;)n--,r+=this._column_sizes.indices[n+o]||60;return Math.min(e-1,n+1)}_validate_viewport({start_col:e,end_col:r,start_row:o,end_row:n}){o=Math.floor(o),n=Math.ceil(n),e=Math.floor(e),r=Math.ceil(r);let l=this._start_col!==e,h=this._start_row!==o||this._end_row!==n||this._end_col!==r;return this._start_col=e,this._end_col=r,this._start_row=o,this._end_row=n,{invalid_column:l,invalid_row:h}}_calc_scrollable_column_width(e){let r=this._view_cache.config.row_pivots.length,o=this._max_scroll_column(e),n=r,l=0;for(;n<o+r;)l+=this._column_sizes.indices[n]||60,n++;return l}_update_virtual_panel_width(e,r){if(e)if(this._virtual_mode==="vertical"||this._virtual_mode==="none")this._virtual_panel.style.width=this._column_sizes.indices.reduce((o,n)=>o+n,0)+"px";else{let o=this._calc_scrollable_column_width(r);if(o!==0){let n=this._container_size.width+o+2;this._virtual_panel.style.width=n+"px"}else this._virtual_panel.style.width="1px"}}_update_virtual_panel_height(e){let{row_height:r=19}=this._column_sizes,o=this._view_cache.config.column_pivots.length*r,n;if(this._virtual_mode==="horizontal"||this._virtual_mode==="none")n=e*r+o;else{let l=this.clientHeight/(this._table_clip.offsetHeight-o);n=Math.min(vi,e*r*l)}this._virtual_panel.style.height=`${n}px`}async draw(e={}){return typeof e.throttle<"u"&&!e.throttle?await wr.call(this,[e]):await Lr(this,()=>wr.call(this,[e]))}async _draw_flush(){await Li(this)}update_sub_cell_offset(e){let r=this._column_sizes.row_height*(e.start_row%1)||0,o=this._column_sizes.indices[(this.table_model._row_headers_length||0)+Math.floor(e.start_col)]*(e.start_col%1)||0,n=this._sub_cell_style.sheet?.cssRules[0].style;n&&(n.setProperty("--regular-table--clip-x",`${o}px`),n.setProperty("--regular-table--clip-y",`${r}px`),n.setProperty("--regular-table--transform-x",`-${o}px`),n.setProperty("--regular-table--transform-y",`-${r}px`))}};async function wr(e){let r=yr&&performance.now(),{invalid_viewport:o=!0,preserve_width:n=!1}=e,{num_columns:l,num_rows:h,row_height:_}=await this._view_cache.view(0,0,0,0);this._container_size={width:this._virtual_mode==="none"||this._virtual_mode==="vertical"?1/0:this._table_clip.clientWidth,height:this._virtual_mode==="none"||this._virtual_mode==="horizontal"?1/0:this._table_clip.clientHeight},this._update_virtual_panel_height(h),n||this._update_virtual_panel_width(o,l);let p=this._calculate_viewport(h,l),{invalid_row:x,invalid_column:M}=this._validate_viewport(p);if(this._invalid_schema||x||M||o){let m=[],z=!0;for await(let F of this.table_model.draw(this._container_size,this._view_cache,this._selected_id,n,p,l)){F!==void 0&&(m=m.concat(F)),z&&(this.update_sub_cell_offset(p),z=!1),this._is_styling=!0;let T=this._style_callbacks;for(let E of T)await E({detail:this});if(this._is_styling=!1,!this._invalidated&&F!==void 0)break;this._invalidated=!1}this.table_model.autosize_cells(m,_),this.table_model.header.reset_header_cache(),n||this._update_virtual_panel_width(this._invalid_schema||M,l),this._invalid_schema=!1}else this.update_sub_cell_offset(p);yr&&xi(performance.now()-r)}var Ai=!1,Ci=class extends Ei{register_listeners(){this.addEventListener("mousedown",this._on_click_or_dblclick.bind(this)),this.addEventListener("scroll",this._on_scroll.bind(this),{passive:!0}),this._register_glitch_scroll_listeners()}async _on_scroll(e){e.stopPropagation(),await this.draw({invalid_viewport:!1}),this.dispatchEvent(new CustomEvent("regular-table-scroll"))}_register_glitch_scroll_listeners(){this.addEventListener("mousewheel",this._on_mousewheel.bind(this)),Ai&&(this.addEventListener("touchmove",this._on_touchmove.bind(this)),this.addEventListener("touchstart",this._on_touchstart.bind(this),{passive:!0}))}_on_mousewheel(e){if(!window.safari)return;let{clientWidth:r,clientHeight:o,scrollTop:n,scrollLeft:l}=this;e.preventDefault(),e.returnValue=!1;let h=Math.max(1,this._virtual_panel.offsetHeight-o),_=Math.max(1,this._virtual_panel.offsetWidth-r);this.scrollTop=Math.max(0,Math.min(h,n+e.deltaY)),this.scrollLeft=Math.max(0,Math.min(_,l+e.deltaX)),this._on_scroll(e)}_on_touchmove(e){e.stopPropagation(),e.preventDefault(),e.returnValue=!1;let{clientWidth:r,clientHeight:o}=this,n=Math.max(1,this._virtual_panel.offsetHeight-o),l=Math.max(1,this._virtual_panel.offsetWidth-r);this.scrollTop=Math.min(n,this._memo_scroll_top+(this._memo_touch_startY-e.touches[0].pageY)),this.scrollLeft=Math.min(l,this._memo_scroll_left+(this._memo_touch_startX-e.touches[0].pageX)),this._on_scroll(e)}_on_touchstart(e){this._memo_touch_startY=e.touches[0].pageY,this._memo_touch_startX=e.touches[0].pageX,this._memo_scroll_top=this.scrollTop,this._memo_scroll_left=this.scrollLeft}async _on_dblclick(e){let r=e.target;for(;r.tagName!=="TD"&&r.tagName!=="TH";)if(r=r.parentElement,!this.contains(r))return;let o=e.target.classList.contains("rt-column-resize"),n=He.get(r);if(o){e.stopImmediatePropagation(),r.style.minWidth="",r.style.maxWidth="",e.shiftKey?(this._column_sizes.override=[],this._column_sizes.auto=[],this._column_sizes.indices=[]):(this._column_sizes.override[n.size_key]=void 0,this._column_sizes.auto[n.size_key]=void 0,this._column_sizes.indices[n.size_key]=void 0);for(let l of e.shiftKey?[this.table_model.header.cells[this.table_model.header.cells.length-1],...this.table_model.body.cells]:this.table_model.body.cells)for(let h of e.shiftKey?l:[l[n._virtual_x]])h&&(h.style.minWidth="",h.style.maxWidth="",h.classList.remove("rt-cell-clip"));await this.draw()}}async _on_click(e){if(e.button!==0)return;let r=e.target;for(;r.tagName!=="TD"&&r.tagName!=="TH";)if(r=r.parentElement,!this.contains(r))return;let o=e.target.classList.contains("rt-column-resize"),n=He.get(r);o&&(this._on_resize_column(e,r,n),e.stopImmediatePropagation())}async _on_click_or_dblclick(e){let r=performance.now();this._last_clicked_time&&r-this._last_clicked_time<500?(this._last_clicked_time=r,await this._on_dblclick(e)):(this._last_clicked_time=r,await this._on_click(e))}_on_resize_column(e,r,o){let{_virtual_x:n,size_key:l}=o,h=e.pageX,_=n+r.colSpan-1,p=this.table_model.header.get_column_header(_),x=this._column_sizes.indices[l],M=z=>Lr(this,async()=>await this._on_resize_column_move(z,p,h,x,l,_)),m=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",m);let z=this._column_sizes.override[l],F=this._column_sizes.indices[l]!==z;this._column_sizes.indices[l]=z,F&&this.draw()};document.addEventListener("mousemove",M),document.addEventListener("mouseup",m)}async _on_resize_column_move(e,r,o,n,l,h){await new Promise(requestAnimationFrame);let _=e.pageX-o,p=Math.max(1,n+_);if(this._column_sizes.override[l]=p,_<0)await this.draw({preserve_width:!0,throttle:!1});else{r.style.minWidth=p+"px",r.style.maxWidth=p+"px";let x=this._column_sizes.auto[l];for(let M of this.table_model.body.cells){let m=M[h];m&&(m.style.maxWidth=m.style.minWidth=p+"px",m.classList.toggle("rt-cell-clip",x>p))}}}},Si=class{constructor(e){this._name=e,this._elements=[],this._index=0}reset(){this._index=0}get(){this._elements[this._index]||(this._elements[this._index]=document.createElement(this._name));let e=this._elements[this._index];return this._index+=1,e}},Mr=class{constructor(e,r,o){this._column_sizes=e,this._container=r,this._span_factory=new Si("span"),this.table=o,this.cells=[],this.rows=[]}num_columns(){return this._get_row(Math.max(0,this.rows.length-1)).row_container.length}num_rows(){return this.cells.length}_set_metadata(e,r){He.set(e,r)}_get_or_create_metadata(e){if(e===void 0)return{};if(He.has(e))return He.get(e);{let r={};return He.set(e,r),r}}_replace_cell(e,r){let{tr:o,row_container:n}=this._get_row(e),l=n[r];return l&&(o.removeChild(l),n.splice(r,1,void 0)),l}_fetch_cell(e,r){if(!(e<0||r<0))return this.cells[e]?.[r]}_get_row(e){let r=this.rows[e];r||(r=this.rows[e]=document.createElement("tr"),this.table.appendChild(r));let o=this.cells[e];return o||(o=this.cells[e]=[]),{tr:r,row_container:o}}_get_cell(e="TD",r,o){let{tr:n,row_container:l}=this._get_row(r),h=l[o];if(h||(o<l.length?(h=l[o]=document.createElement(e),n.insertBefore(h,l.slice(o+1).find(_=>_))):(h=l[o]=document.createElement(e),n.appendChild(h))),h.tagName!==e){let _=document.createElement(e);n.replaceChild(_,h),this.cells[r].splice(o,1,_),h=_}return h}_clean_columns(e){for(let r=0;r<this.rows.length;r++){let o=this.rows[r],n=this.cells[r];this.cells[r]=n.slice(0,e[r]||e);let l=this.cells[r].filter(h=>h!==void 0).length;for(;o.children[l];)o.removeChild(o.children[l])}}_clean_rows(e){for(;this.table.children[e];)this.table.removeChild(this.table.children[e]);this.rows=this.rows.slice(0,e),this.cells=this.cells.slice(0,e)}},Ni=class extends Mr{constructor(...e){super(...e),this._group_header_cache=[],this._offset_cache=[]}_draw_group_th(e,r,o){let n=this._get_cell("TH",r,e[r]||0);if(e[r]+=1,n.removeAttribute("colspan"),n.style.minWidth="0",n.textContent="",o instanceof HTMLElement)n.appendChild(o);else{let h=this._span_factory.get("span");h.textContent=o,n.appendChild(h)}let l=this._span_factory.get("span");return l.className="rt-column-resize",n.appendChild(l),n}_draw_group(e,r,o){let n=this._get_or_create_metadata(o);return n.column_header=e,n.value=r,n.value=r,n}_draw_th(e,r,o,n,l){let h=this._get_or_create_metadata(o);if(h.column_header=e,h.value=r,h.size_key=l.length?l[0]:l,!(l.length>1)){let _=this._column_sizes.override[h.size_key],p=this._column_sizes.auto[h.size_key];_?(o.classList.toggle("rt-cell-clip",p>_),o.style.minWidth=_+"px",o.style.maxWidth=_+"px"):p?(o.classList.remove("rt-cell-clip"),o.style.maxWidth="",o.style.minWidth=p+"px"):(o.style.maxWidth="",o.style.maxWidth="")}return h}get_column_header(e){return this._get_cell("TH",this.num_rows()-1,e)}draw(e,r,o,n,l,h,_,p,x){let M=r?.length;if(M===0)return;let m,z,F,T;p=typeof p>"u"?M-1:p;for(let E=0;E<M;E++){if(F=r[E]?r[E]:"",this._offset_cache[E]=this._offset_cache[E]||0,E<p)x&&this._group_header_cache?.[E]?.[0]?.value===F?(m=this._group_header_cache[E][1],this._group_header_cache[E][2]+=1,o===1&&(this._group_header_cache[E][0].row_header_x=l),m.setAttribute("colspan",this._group_header_cache[E][2])):(m=this._draw_group_th(this._offset_cache,E,F),z=this._draw_group(r,F,m),this._group_header_cache[E]=[z,m,1]);else{m=this._draw_group_th(this._offset_cache,E,F),z=this._draw_th(e||r,F,m,n,l),typeof T>"u"&&(T={th:m,metadata:z});for(let[I]of this._group_header_cache)I.size_key=z.size_key;m.removeAttribute("colspan")}this._get_row(E).tr.classList.toggle("rt-autosize",E===p),m.classList.toggle("rt-group-corner",n===void 0),z&&(z.x=typeof n>"u"?n:Math.floor(n),z.column_header_y=E,z.x0=Math.floor(h),z._virtual_x=_,o===1&&(z.row_header_x=l))}return this._clean_rows(this._offset_cache.length),T=T||{th:m,metadata:z},T}clean(){this._clean_columns(this._offset_cache)}reset_header_cache(){this._offset_cache=[],this._group_header_cache=[]}},Oi=class extends Mr{_draw_td(e,r,o,n,{column_name:l},{ridx_offset:h},_){let p=this._get_cell(e,r,n),x=this._get_or_create_metadata(p);x.y=r+Math.floor(h),x.size_key=_,e==="TD"&&(x.column_header=l);let M=this._column_sizes.override[x.size_key];if(M){let m=this._column_sizes.auto[x.size_key];p.classList.toggle("rt-cell-clip",m>M),p.style.minWidth=M+"px",p.style.maxWidth=M+"px"}else p.classList.remove("rt-cell-clip"),p.style.minWidth="",p.style.maxWidth="";return x.value!==o&&(o instanceof HTMLElement?(p.textContent="",p.appendChild(o)):p.textContent=o),x.value=o,{td:p,metadata:x}}draw(e,r,o,n=!1,l,h,_,p){let{cidx:x,column_data:M,row_headers:m,column_data_listener_metadata:z}=r,{row_height:F}=o,T,E=[],I=[],P=0,J=[];for(let D=0;D<(n?o.row_headers_length:1);D++){P=0;for(let g of M){let re=m?.[P],j;if(n){let ge=g[D],$=this._fetch_cell(P-(E[D]||1),x+D),oe=this._get_or_create_metadata($),ee=this._fetch_cell(P,x+D-(J[P]||1)),ve=this._get_or_create_metadata(ee);p&&ee&&(ve.value===ge||ge===void 0)&&!ee.hasAttribute("rowspan")?(J[P]=J[P]?J[P]+1:2,ee.setAttribute("colspan",J[P]),this._replace_cell(P,x+D)):p&&$&&oe.value===ge&&!$.hasAttribute("colspan")?(E[D]=E[D]?E[D]+1:2,$.setAttribute("rowspan",E[D]),this._replace_cell(P,x+D)):(j=this._draw_td("TH",P,ge,x+D,r,o,D),j.td.style.display="",j.td.removeAttribute("rowspan"),j.td.removeAttribute("colspan"),j.metadata.row_header=g,j.metadata.row_header_x=D,j.metadata.y0=Math.floor(o.ridx_offset),j.metadata.y1=Math.ceil(o.y1),j.metadata._virtual_x=D,typeof h<"u"&&(j.metadata.x0=Math.floor(h)),E[D]=1,J[P]=1,I[D]=j)}else j=this._draw_td("TD",P,g,x,r,o,_),z&&(j.metadata.user=z[P]),j.metadata.x=typeof l>"u"?l:Math.floor(l),j.metadata.x1=Math.ceil(o.x1),j.metadata.row_header=re||[],j.metadata.y0=Math.floor(o.ridx_offset),j.metadata.y1=Math.ceil(o.y1),j.metadata.dx=Math.floor(l-h),j.metadata.dy=j.metadata.y-Math.floor(j.metadata.y0),j.metadata._virtual_x=x,typeof h<"u"&&(j.metadata.x0=Math.floor(h)),I[0]=j;if(P++,T=j?j.metadata:T,F=F||j?.td.offsetHeight,P*F>e)break}}return this._clean_rows(P),{tds:I,ridx:P,metadata:T,row_height:F}}clean({ridx:e,cidx:r}){this._clean_rows(e),this._clean_columns(r)}},xr=class{constructor(e,r,o){this.clear(o);let[n]=o.children,[l,h]=n.children;this.table=n,this._column_sizes=r,this.header=new Ni(r,e,l),this.body=new Oi(r,e,h),this.fragment=document.createDocumentFragment()}num_columns(){return this.header.num_columns()}clear(e){e.innerHTML=kr`
            <table cellspacing="0">
                <thead></thead>
                <tbody></tbody>
            </table>
        `}autosize_cells(e,r){for(;e.length>0;){let[o,n]=e.pop(),l=o.getBoundingClientRect();this._column_sizes.row_height=r||Math.max(10,Math.min(this._column_sizes.row_height||l.height,l.height)),this._column_sizes.indices[n.size_key]=l.width;let h=this._column_sizes.override[n.size_key]!==void 0;l.width&&!h&&(this._column_sizes.auto[n.size_key]=l.width),o.style.minWidth==="0px"&&(o.style.minWidth=`${l.width}px`)}}async*draw(e,r,o,n,l,h){let{width:_,height:p}=e,{view:x,config:M}=r,{data:m,row_headers:z,column_headers:F,metadata:T,column_header_merge_depth:E,merge_headers:I="both"}=await x(Math.floor(l.start_col),Math.floor(l.start_row),Math.ceil(l.end_col),Math.ceil(l.end_row)),P=I==="both"||I==="row",J=I==="both"||I==="column",{start_row:D=0,start_col:g=0,end_col:re=0,end_row:j=0}=l;z&&(this._row_headers_length=z.reduce((ie,Ne)=>Math.max(ie,Ne.length),0),z=z.map(ie=>(ie.length=this._row_headers_length,ie))),r.config.column_pivots=Array.from(Array(F?.[0]?.length||0).keys()),r.config.row_pivots=Array.from(Array(z?.[0]?.length||0).keys());let ge=this._column_sizes.indices[(this._row_headers_length||0)+Math.floor(l.start_col)]||0,$={viewport_width:0,selected_id:o,ridx_offset:D,sub_cell_offset:ge,x0:g,x1:re,y1:j,row_height:this._column_sizes.row_height,row_headers_length:this._row_headers_length},oe,ee=0,ve=[],ne=!0;if(z?.length>0){let ie=M.row_pivots.join(","),Ne={column_name:ie,cidx:0,column_data:z,row_headers:z,first_col:ne},Ee=ee+Math.floor(g);oe=this.body.draw(p,Ne,{...$,x0:0},!0,void 0,void 0,Ee,P);let Oe=[];for(let ce=0;ce<r.config.row_pivots.length;ce++){let pe=this.header.draw(ie,Array(r.config.column_pivots.length).fill(""),1,void 0,ce,g,ce,E,J);pe&&Oe.push(pe)}if(ne=!1,$.viewport_width+=Oe.reduce((ce,{th:pe},Se)=>ce+(this._column_sizes.indices[Se]||pe.offsetWidth),0),$.row_height=$.row_height||oe.row_height,ee=z[0].length,!n)for(let ce=0;ce<r.config.row_pivots.length;ce++){let{td:pe,metadata:Se}=oe.tds[ce]||{},{th:Ae,metadata:Pe}=Oe[ce]||{};(pe||Ae)&&ve.push([Ae||pe,Pe||Se])}}try{let ie=0,Ne=h-l.start_col;for(;ie<Ne;){if(!m[ie]){let we=Math.max(l.end_col,0);l.start_col=we;let Le=0,We=0;for(;this._column_sizes.indices.length>ee+g+Le+1&&We+$.viewport_width<_;)Le++,We+=this._column_sizes.indices[ee+g+Le];if(We+$.viewport_width<_){let he=Math.min(h,we+5);l.end_col=Math.max(1,Math.min(h,he))}else l.end_col=Math.max(1,Math.min(h,we+Le));let ut=x(Math.floor(l.start_col),Math.floor(l.start_row),Math.ceil(l.end_col),Math.ceil(l.end_row));yield void 0;let de=await ut;if(typeof de.column_header_merge_depth<"u"&&(E=de.column_header_merge_depth),typeof de.merge_headers<"u"&&(I=de.merge_headers),de.data.length===0){yield ve;return}l.end_col=l.start_col+de.data.length;for(let he=0;he<de.data.length;he++)m[ie+he]=de.data[he],de.metadata&&(T[ie+he]=de.metadata[he]),F&&(F[ie+he]=de.column_headers?.[he])}let Ee=F?.[ie]||"",Oe=m[ie],ce=T?.[ie],pe={column_name:Ee,cidx:ee,column_data:Oe,column_data_listener_metadata:ce,row_headers:z,first_col:ne},Se=ie+g,Ae=ee+Math.floor(g),Pe=this.header.draw(void 0,Ee,void 0,Se,Ae,g,ee,E,J);if(oe=this.body.draw(p,pe,$,!1,Se,g,Ae,P),ne=!1,!n)for(let{td:we,metadata:Le}of oe.tds)ve.push([Pe?.th||we,Pe?.metadata||Le]);let Be=this._column_sizes.indices[ee+Math.floor(g)];if(Be?$.viewport_width+=Be:$.viewport_width+=Pe?.th?.offsetWidth||oe.tds.reduce((we,Le)=>we+Le.td?.offsetWidth,0),$.row_height=$.row_height||oe.row_height,ee++,ie++,$.viewport_width-$.sub_cell_offset>_){this.body.clean({ridx:oe?.ridx||0,cidx:ee}),this.header.clean(),yield ve,$.viewport_width=0;for(let[we]of ve)$.viewport_width+=we.offsetWidth;if($.viewport_width-$.sub_cell_offset>_)return}}this.body.clean({ridx:oe?.ridx||0,cidx:ee}),this.header.clean(),yield ve}finally{this.body.clean({ridx:oe?.ridx||0,cidx:ee}),this.header.clean(),this.body._span_factory.reset(),this.header._span_factory.reset()}}},Pi=["both","horizontal","vertical","none"],Fi=class extends Ci{constructor(){super(),this._column_sizes={auto:[],override:[],indices:[]},this._style_callbacks=[],this._initialized=!1}connectedCallback(){this._initialized||(this.create_shadow_dom(),this.register_listeners(),this.setAttribute("tabindex","0"),this._initialized=!0,this.table_model=new xr(this._table_clip,this._column_sizes,this))}_reset_viewport(){this._start_row=void 0,this._end_row=void 0,this._start_col=void 0,this._end_col=void 0}_reset_scroll(){this._column_sizes.indices=[],this.scrollTop=0,this.scrollLeft=0,this._reset_viewport()}_resetAutoSize(){this._column_sizes.auto=[],this._column_sizes.override=[],this._column_sizes.indices=[];for(let e=0;e<this.table_model.header.num_columns();e++){let r=this.table_model.header.get_column_header(e);r.style.minWidth="",r.style.maxWidth=""}}clear(){this.table_model=new xr(this._table_clip,this._column_sizes,this)}addStyleListener(e){this._style_callbacks=this._style_callbacks.concat(e);let r=!0;return()=>{if(!r)return;r=!1;let o=this._style_callbacks=this._style_callbacks.slice(),n=o.indexOf(e);o.splice(n,1)}}invalidate(){if(!this._is_styling)throw new Error("Cannot call `invalidate()` outside of a `StyleListener`");this._invalidated=!0}getMeta(e){if(!(typeof e>"u")){if(e instanceof HTMLElement)return He.get(e);if(e.row_header_x>=0){if(e.row_header_x<this._view_cache.config.row_pivots.length){let r=this.table_model.body._fetch_cell(e.y,e.row_header_x);return this.getMeta(r)}}else if(e.column_header_y>=0){if(e.column_header_y<this._view_cache.config.column_pivots.length){let r=this.table_model.body._fetch_cell(e.column_header_y,e.y);return this.getMeta(r)}}else return this.getMeta(this.table_model.body._fetch_cell(e.dy,e.dx+this.table_model._row_headers_length))}}getDrawFPS(){return wi()}async scrollToCell(e,r){if(!this._view_cache){console.warn("data listener not configured");return}let o=this._column_sizes.row_height||19,n=this._view_cache.config.column_pivots.length*o,l=(this._table_clip.offsetHeight-n)%o,h=(this._virtual_panel.offsetHeight-l)/this._nrows;this.scrollTop=Math.ceil(h*r);let _=0;for(;e>0;)e--,_+=this._column_sizes.indices[e+this._view_cache.config.row_pivots.length]||60;this.scrollLeft=Math.ceil(_),await new Promise(requestAnimationFrame),await this._draw_flush()}setDataListener(e,{virtual_mode:r="both"}={}){let o={},n={row_pivots:[],column_pivots:[]};console.assert(Pi.indexOf(r)>-1,`Unknown virtual_mode ${r};  valid options are "both" (default), "horizontal", "vertical" or "none"`),this._virtual_mode=r,this._invalid_schema=!0,this._view_cache={view:e,config:n,schema:o},this._setup_virtual_scroll()}__noop_jsdoc_hints(){}};document.createElement("regular-table").constructor===HTMLElement&&window.customElements.define("regular-table",Fi);var zr='regular-table{padding:0;margin:12px 0 0 12px;font-family:inherit;--rt-hover--border-color:var(--inactive--color,#c5c9d080);}regular-table div[tabindex]{outline:none;}regular-table>div{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;}regular-table th{text-align:center;}regular-table thead tr:not(.rt-autosize) th{overflow:hidden;max-width:0px;}regular-table thead tr:last-child .rt-float,regular-table tbody .rt-float{text-align:right;}regular-table thead .rt-integer,regular-table tbody .rt-integer{text-align:right;}regular-table tbody th{text-align:left;}regular-table span.rt-tree-container{display:flex;align-items:center;height:100%;}regular-table thead .rt-string,regular-table tbody .rt-string,regular-table thead .rt-date,regular-table tbody .rt-date,regular-table thead .rt-datetime,regular-table tbody .rt-datetime{text-align:left;}regular-table thead tr:last-child th{border-bottom:1px solid#8b868045;}regular-table tbody tr:first-child td,regular-table tbody tr:first-child th{border-top:1px solid transparent!important;}regular-table th{position:relative;}regular-table tr th span.rt-tree-group{margin-left:5px;margin-right:15px;border-left:1px solid#eee;height:100%;}regular-table td,regular-table th{white-space:nowrap;font-size:12px;padding-right:5px;padding-left:5px;padding-top:0px;padding-bottom:0px;height:19px;}regular-table table *{box-sizing:border-box;}regular-table table{position:absolute;color:#666;outline:none;}regular-table span.rt-row-header-icon{color:#aaa;padding-right:4px;font-family:var(--button--font-family,"Material Icons");}regular-table span.rt-column-header-icon{font-size:10px;padding-left:3px;display:inline-block;width:10px;font-family:var(--button--font-family,"Material Icons");}regular-table span.rt-row-header-icon:hover{color:#1a7da1;text-shadow:0px 0px 3px#1a7da1;}regular-table .rt-selected td{background-color:#eee;}regular-table .rt-cell-clip{overflow:hidden;text-overflow:ellipsis;}regular-table td span.rt-group-name,regular-table th span.rt-group-name{margin-right:-5px;padding-right:5px;padding-left:8px;flex:1;height:100%;}regular-table th span.rt-group-name{text-align:left;}regular-table td th span.rt-group-leaf,regular-table th span.rt-group-leaf{margin-left:16px;height:100%;}regular-table .rt-column-resize{height:100%;width:10px;position:absolute;top:0;right:0;cursor:col-resize;}regular-table a{color:var(--rt-pos-cell--color);}regular-table a:visited{color:var(--active--color);}.psp-header-border:not(.psp-is-top):not(.psp-header-leaf){box-shadow:1px 0px var(--inactive--border-color,#8b868045);}.psp-header-group{box-shadow:0px 10px 0 -9px var(--inactive--border-color,#8b868045);}.psp-is-top{box-shadow:5px 4px 0px -4px var(--inactive--border-color,#8b868045);}.psp-is-top.psp-header-group:not(.psp-header-group-corner){box-shadow:5px 4px 0px -4px var(--inactive--border-color,#8b868045),0px 10px 0 -9px var(--inactive--border-color,#8b868045);}.psp-header-border.psp-header-group:not(.psp-is-top):not(.psp-header-group-corner){box-shadow:1px 0px var(--inactive--border-color,#8b868045),0px 10px 0 -9px var(--inactive--border-color,#8b868045);}perspective-viewer[settings] tr.rt-autosize .psp-header-leaf.psp-header-border:not(.psp-menu-enabled){box-shadow:1px 0px var(--inactive--border-color,#8b868045);}.psp-header-leaf.psp-header-border{box-shadow:5px -4px 0px -4px var(--inactive--border-color,#8b868045);}tr:only-child th{box-shadow:none!important;}regular-table tbody tr:hover th.psp-tree-leaf:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover th.psp-tree-label:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover td:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover:after{border-color:var(--rt-hover--border-color,#c5c9d080)!important;background-color:transparent;box-shadow:0px 1px 0px var(--rt-hover--border-color,#c5c9d080),0px 3px 0px rgba(0,0,0,0.05),0px 5px 0px rgba(0,0,0,0.01);}regular-table tbody tr:hover+tr th.psp-tree-leaf:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr th.psp-tree-label:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr td:not(.psp-row-selected):not(.psp-row-subselected){border-top-color:transparent;}regular-table tbody tr th:first-child:not(:empty),regular-table tbody tr th:first-child:empty+th:not(:empty),regular-table tbody tr th:first-child:empty~th:empty+th:not(:empty),regular-table tbody tr td:first-child{border-left-width:1px;border-left-color:transparent;}regular-table tbody tr th:last-child,regular-table tbody tr td:last-child{border-right-width:0px;border-right-color:transparent;}regular-table tbody tr:hover{color:inherit;}regular-table tbody tr:hover th:first-child:not(:empty),regular-table tbody tr:hover th:first-child:empty+th:not(:empty),regular-table tbody tr:hover th:first-child:empty~th:empty+th:not(:empty),regular-table tbody tr:hover td:first-child{border-left-color:var(--rt-hover--border-color,#c5c9d080)!important;}regular-table tbody tr:hover th:last-child,regular-table tbody tr:hover td:last-child{border-right-color:var(--rt-hover--border-color,#c5c9d080)!important;}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody td,perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table thead th:not(.rt-group-corner){transform:translate(var(--regular-table--transform-x,0px));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody{transform:translate(0,var(--regular-table--transform-y,0px));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:first-child td,perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:first-child th{clip-path:polygon(0 var(--regular-table--clip-y,0),0 200%,200% 200%,200% var(--regular-table--clip-y,0));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr td:first-of-type{clip-path:polygon(var(--regular-table--clip-x,0)0,var(--regular-table--clip-x,0)200%,200% 200%,200% 0);}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:first-child td:first-of-type{clip-path:polygon(var(--regular-table--clip-x,0)var(--regular-table--clip-y,0),var(--regular-table--clip-x,0)200%,200% 200%,200% var(--regular-table--clip-y,0));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table thead tr:last-child:after{transform:translate(var(--regular-table--transform-x,0px));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:not(:first-child):after{transform:translate(var(--regular-table--transform-x,0px));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table tbody tr:hover:first-child:after{clip-path:polygon(0 var(--regular-table--clip-y,0),0 200%,200% 200%,200% var(--regular-table--clip-y,0));}perspective-viewer-datagrid:not(.sub-cell-scroll-disabled) regular-table table thead tr th.rt-group-corner+th:not(.rt-group-corner){clip-path:polygon(var(--regular-table--clip-x,0)0,var(--regular-table--clip-x,0)200%,200% 200%,200% 0);}regular-table{scrollbar-color:transparent transparent;scrollbar-width:thin;outline:none;}regular-table::-webkit-scrollbar,regular-table::-webkit-scrollbar-corner{background-color:transparent;height:12px;width:12px;}regular-table::-webkit-scrollbar-thumb{background-clip:content-box;background:var(--icon--color);border:5.5px solid var(--plugin--background);max-height:50%;max-width:50%;min-width:10%;min-height:10%;}perspective-viewer:not([settings]) tr.rt-autosize+tr th{height:0px;}perspective-viewer:not([settings]) tr.rt-autosize+tr th span{display:none;}perspective-viewer[settings] .psp-menu-enabled{padding:0 6px;font-size:8px;border-radius:3px 3px 0 0;}perspective-viewer[settings] .psp-menu-enabled:hover,perspective-viewer[settings] tr:not(.rt-autosize) .psp-menu-open{color:var(--plugin--background);background-color:var(--icon--color);cursor:pointer;}perspective-viewer[settings] tr:not(.rt-autosize) .psp-menu-open:before{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;height:8px;width:10px;-webkit-mask-image:var(--column-settings-icon--mask-image);mask-image:var(--column-settings-icon--mask-image);margin-right:4px;background-color:var(--plugin--background);}.psp-sort-enabled:hover{cursor:pointer;}.psp-row-selected,:hover .psp-row-selected,:hover th.psp-tree-leaf.psp-row-selected,:hover th.psp-tree-label.psp-row-selected{color:white!important;background-color:#ea7319!important;border-color:#ea7319!important;}.psp-row-selected.psp-tree-label:not(:hover):before{color:white;}.psp-row-subselected,:hover .psp-row-subselected,:hover th.psp-tree-leaf.psp-row-subselected,:hover th.psp-tree-label.psp-row-subselected{background:rgba(234,115,25,0.2)!important;}.psp-error{color:red;}td:focus{outline:#666;outline-style:dotted;outline-width:1px;}perspective-viewer.dragging regular-table{pointer-events:none;}.psp-header-border:last-child{border-right-width:0px;}.psp-header-sort-desc:after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:14px;height:12px;-webkit-mask-image:var(--sort-desc-icon--mask-image);mask-image:var(--sort-desc-icon--mask-image);}.psp-header-sort-asc:after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:14px;height:12px;-webkit-mask-image:var(--sort-asc-icon--mask-image);mask-image:var(--sort-asc-icon--mask-image);}.psp-header-sort-col-desc:after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:14px;height:12px;-webkit-mask-image:var(--sort-col-desc-icon--mask-image);mask-image:var(--sort-col-desc-icon--mask-image);}.psp-header-sort-col-asc:after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:14px;height:12px;-webkit-mask-image:var(--sort-col-asc-icon--mask-image);mask-image:var(--sort-col-asc-icon--mask-image);}tbody th:last-of-type{border-right:1px solid var(--inactive--border-color,#8b868045);overflow:hidden;text-overflow:ellipsis;}tbody th:empty{background-image:linear-gradient(to right,transparent 9px,var(--inactive--border-color,#eee)10px,transparent 11px);background-repeat:no-repeat;min-width:20px;max-width:20px;pointer-events:none;}.psp-tree-label{max-width:0px;min-width:0px;}.psp-tree-label:before{color:var(--icon--color);font-family:var(--button--font-family,inherit);padding-right:11px;}.psp-tree-label-expand:before{content:var(--tree-label-expand--content,"+");}.psp-tree-label-collapse:before{content:var(--tree-label-collapse--content,"-");}.psp-tree-label-expand,.psp-tree-label-collapse{cursor:pointer;}.psp-tree-label:hover:before{color:var(--active--color);text-shadow:0px 0px 5px var(--active--color);}regular-table thead tr:last-child th{border-bottom-width:1px;border-bottom-color:var(--inactive--border-color,#8b868045);}.psp-tree-leaf{padding-left:24px;}.psp-align-right{text-align:right;}.psp-align-left{text-align:left;}.psp-positive:not(:focus){color:var(--rt-pos-cell--color);}.psp-negative:not(:focus){color:var(--rt-neg-cell--color);}regular-table table tbody td{min-width:52px!important;}.psp-is-width-override .rt-column-resize,.rt-column-resize:hover{border:1px dashed#999;border-bottom-width:0px;border-left-width:0px;}.boolean-editable{cursor:pointer;}regular-table table{user-select:none;color:inherit;border-collapse:separate;}regular-table table th{font-weight:400;}regular-table table td,regular-table table th{border-color:var(--inactive--border-color,#8b868045);height:23px;}regular-table table .psp-header-group{text-overflow:ellipsis;}regular-table table th.psp-header-leaf{border-bottom-width:0px;}regular-table table th.psp-header-leaf span{height:23px;min-height:23px;}regular-table table td,regular-table table th.psp-tree-label,regular-table table th.psp-tree-label,regular-table table th.psp-tree-leaf,regular-table table tbody tr:first-child th{border-style:solid;border-width:0px;border-top-width:1px;}regular-table table tbody th:empty{background-position:0px -10px;}perspective-viewer:not([settings]) regular-table #psp-column-edit-buttons:after{content:none;}regular-table table thead tr:last-child:after{width:10000px;box-sizing:border-box;display:block;height:23px;content:"";border-bottom:1px solid var(--inactive--border-color);}regular-table table tbody tr:after{width:10000px;box-sizing:border-box;display:block;height:23px;content:"";border-top:1px solid transparent;}regular-table table tbody tr:not(:first-child):after{border-top:1px solid var(--inactive--border-color);}regular-table table tbody tr:hover:not(:first-child):after{border-top:1px solid var(--rt-hover--border-color);}regular-table table tbody tr:hover+tr:after{border-top:1px solid var(--rt-hover--border-color);}@keyframes pulse_pos{0%{background-color:var(--pulse--background-color-start,rgba(0,128,255,0.5));}100%{background-color:var(--pulse--background-color-end,rgba(0,128,255,0));}}@keyframes pulse_pos2{0%{background-color:var(--pulse--background-color-start,rgba(0,128,255,0.5));}100%{background-color:var(--pulse--background-color-end,rgba(0,128,255,0));}}@keyframes pulse_neg{0%{background-color:var(--pulse--background-color-start,rgba(255,25,0,0.5));}100%{background-color:var(--pulse--background-color-end,rgba(255,25,0,0));}}@keyframes pulse_neg2{0%{background-color:var(--pulse--background-color-start,rgba(255,25,0,0.5));}100%{background-color:var(--pulse--background-color-end,rgba(255,25,0,0));}}';function Ri(e){return e.x>=0?this._column_types[e.x]:this._row_header_types[e.row_header_x-1]}function Wt(e,r){let o=Array.from(e.children[0].children[0].children),n=o.length;if(n<=1?o[0]?.removeAttribute("id"):o.forEach((h,_)=>{let p=_===n-2?"psp-column-titles":_===n-1?"psp-column-edit-buttons":null;p?h.setAttribute("id",p):h.removeAttribute("id")}),e.parentElement.parentElement.hasAttribute("settings")){let h=Array.from(o[n-2].children),_=Array.from(o[n-1].children);h&&_&&(o.slice(0,n-2).forEach(x=>{Array.from(x.children).forEach(M=>{M.classList.toggle("psp-menu-open",!1)})}),h.map((x,M)=>[x,_[M]]).forEach(([x,M])=>{let m=x.innerText===r;x.classList.toggle("psp-menu-open",m),M.classList.toggle("psp-menu-open",m)}))}}function Ar(e){let r=Array.from(e.children[0].children[0].children);if(r.length>0){Wt.call(this,e,this._column_settings_selected_column);let[o]=r.splice(this._config.split_by.length,1);Er.call(this,e,o,!1);let[n]=r.splice(this._config.split_by.length,1);n&&Er.call(this,e,n,!0)}}function Er(e,r,o){let n=e._view_cache.config.row_pivots.length-1;for(let l of r?.children){let h=e.getMeta(l),_=h.column_header?.[this._config.split_by.length],p=this._config.sort.find(I=>I[0]===_),x=h.row_header_x===n,M=typeof h.x>"u";x=x||(h.x+1)%this._config.columns.length===0,l.classList.toggle("psp-header-border",x),l.classList.toggle("psp-header-group",!1),l.classList.toggle("psp-header-leaf",!0),l.classList.toggle("psp-is-top",!1),l.classList.toggle("psp-header-corner",M),l.classList.toggle("psp-header-sort-asc",!o&&!!p&&p[1]==="asc"),l.classList.toggle("psp-header-sort-desc",!o&&!!p&&p[1]==="desc"),l.classList.toggle("psp-header-sort-col-asc",!o&&!!p&&p[1]==="col asc"),l.classList.toggle("psp-header-sort-col-desc",!o&&!!p&&p[1]==="col desc");let m=Ri.call(this,h),z=m==="integer"||m==="float",F=m==="string",T=m==="date",E=m==="datetime";l.classList.toggle("psp-align-right",z),l.classList.toggle("psp-align-left",!z),l.classList.toggle("psp-menu-enabled",(F||z||T||E)&&!M&&h.column_header_y==this._config.split_by.length+1),l.classList.toggle("psp-sort-enabled",(F||z||T||E)&&!M&&h.column_header_y===this._config.split_by.length),l.classList.toggle("psp-is-width-override",e._column_sizes?.override[h.size_key]!==void 0)}}function Cr(e){let r=e._view_cache.config.row_pivots.length-1,o=Array.from(e.children[0].children[0].children),n=[],l=new Set,h=e.children[0];for(let _=0;_<o.length;_++){let p=h.rows[_],x=new Set;for(let M=0;M<p.cells.length;M++){let m=p.cells[M];m.style.backgroundColor="";let z=e.getMeta(m),F=z.row_header_x===r||z.x>=0;m.classList.toggle("psp-align-right",!1),m.classList.toggle("psp-align-left",!1),m.classList.toggle("psp-header-group",!0),m.classList.toggle("psp-header-leaf",!1),m.classList.toggle("psp-header-border",F),m.classList.toggle("psp-header-group-corner",typeof z.x>"u"),m.classList.toggle("psp-color-mode-bar",!1),m.classList.toggle("psp-header-sort-asc",!1),m.classList.toggle("psp-header-sort-desc",!1),m.classList.toggle("psp-header-sort-col-asc",!1),m.classList.toggle("psp-header-sort-col-desc",!1),m.classList.toggle("psp-sort-enabled",!1);let T=p.cells[M],E=M,I,P;for(;n[_]&&n[_][E];++E);for(x.add(E),I=E;I<E+T.colSpan;++I)for(P=_;P<_+T.rowSpan;++P)n[P]||(n[P]=[]),n[P][I]=!0;T.classList.toggle("psp-is-top",_===0||!l.has(I))}l=x}}var ye=Symbol("Plugin Symbol");function Sr(e,r,[,,,,,o,n],[,,,,,l,h]){let _=this._ids?.[e.dy]?.join("|"),p=e.column_header.join("|");if(this.last_reverse_columns?.has(p)&&this.last_reverse_ids?.has(_)){let x=this.last_reverse_ids?.get(_),M=this.last_reverse_columns.get(p);this._is_old_viewport?this.last_meta?.[M]?.[x]>e.user?(r.style.setProperty("--pulse--background-color-start",l),r.style.setProperty("--pulse--background-color-end",h),r.style.animationName==="pulse_neg"?r.style.animation="pulse_neg2 0.5s linear":r.style.animation="pulse_neg 0.5s linear"):this.last_meta?.[M]?.[x]<e.user?(r.style.setProperty("--pulse--background-color-start",o),r.style.setProperty("--pulse--background-color-end",n),r.style.animationName==="pulse_pos"?r.style.animation="pulse_pos2 0.5s linear":r.style.animation="pulse_pos 0.5s linear"):x!==e.dy&&(r.style.animation=""):r.style.animation=""}else r.style.animation=""}var $t=wt(dt());function Gt(e,r){return $t.default.mix(e,`rgb(${r[0]},${r[1]},${r[2]})`,.5).hex()}function Ie([e,r,o,n],l=[255,255,255]){function h(_,p){return((1-n)*(l[_]/255)+n*(p/255))*255}return[h(0,e),h(1,r),h(2,o)]}function De([e,r,o]){return Math.sqrt(e*e*.299+r*r*.587+o*o*.114)>130?"#161616":"#ffffff"}function Ii(e){let[r,o,n]=e.rgb(),[l,h,_]=e.set("hsl.h",(e.get("hsl.h")-15)%360).rgb(),[p,x,M]=e.set("hsl.h",(e.get("hsl.h")+15)%360).rgb();return`linear-gradient(to right top,rgb(${l},${h},${_}),rgb(${r},${o},${n}) 50%,rgb(${p},${x},${M}))`}function ke(e){let r=(0,$t.default)(e),o=Ii(r),n=r.rgb();return[e,...n,o,`rgba(${n[0]},${n[1]},${n[2]},1)`,`rgba(${n[0]},${n[1]},${n[2]},0)`]}function Nr(e,r,o){let n=o.user>0,l=o.user<0,h;e?.pos_bg_color!==void 0?h=e.pos_bg_color:h=this._pos_bg_color;let _;e?.neg_bg_color!==void 0?_=e.neg_bg_color:_=this._neg_bg_color;let p=n?h:l?_:["",...this._plugin_background,""];{let[T,E,I,P,J]=p;if(r.style.position="",e?.number_bg_mode==="color")r.style.animation="",r.style.backgroundColor=T;else if(e?.number_bg_mode==="gradient"){let D=Math.max(0,Math.min(1,Math.abs(o.user/e.bg_gradient))),g=this._plugin_background,re=De(Ie([E,I,P,D],g));r.style.animation="",r.style.color=re,r.style.backgroundColor=`rgba(${E},${I},${P},${D})`}else e?.number_bg_mode==="pulse"?(Sr.call(this,o,r,h,_),r.style.backgroundColor=""):(e?.number_bg_mode==="disabled"||e?.number_bg_mode,r.style.animation="",r.style.backgroundColor="")}let[x,M,m,z,F]=(()=>e?.pos_fg_color!==void 0?n?e.pos_fg_color:l?e.neg_fg_color:["",...this._plugin_background,""]:n?this._pos_fg_color:l?this._neg_fg_color:["",...this._plugin_background,""])();if(e?.number_fg_mode==="disabled")if(e?.number_bg_mode==="color"){let T=this._plugin_background,E=De(Ie([p[1],p[2],p[3],1],T));r.style.color=E}else e?.number_bg_mode==="gradient"||(r.style.color="");else e?.number_fg_mode==="bar"?(r.style.color="",r.style.position="relative",F!==""&&r.children.length>0&&r.children[0].nodeType===Node.ELEMENT_NODE&&(r.children[0].style.background=F)):(e?.number_fg_mode==="color"||!e?.number_fg_mode)&&(r.style.color=x)}var qt=wt(dt());function Or(e,r,o){let n=o.column_header?.[this._config.split_by.length],[l,h,_,p,x]=(()=>e?.color!==void 0?e.color:this._color)();if(e?.string_color_mode==="foreground"&&o.user!==null)r.style.color=l,r.style.backgroundColor="",e?.format==="link"&&(r.children[0].style.color=l);else if(e?.string_color_mode==="background"&&o.user!==null){let M=this._plugin_background,m=De(Ie([h,_,p,1],M));r.style.color=m,r.style.backgroundColor=l}else if(e?.string_color_mode==="series"&&o.user!==null){this._series_color_map.has(n)||(this._series_color_map.set(n,new Map),this._series_color_seed.set(n,0));let M=this._series_color_map.get(n);if(!M.has(o.user)){let j=this._series_color_seed.get(n);M.set(o.user,j),this._series_color_seed.set(n,j+1)}let m=M.get(o.user),[z,F,T]=(0,qt.default)(l).hsl();z=z+m*150%360;let E=(0,qt.default)(z,F,T,"hsl"),[I,P,J]=E.rgb(),D=E.hex(),g=this._plugin_background,re=De(Ie([I,P,J,1],g));r.style.color=re,r.style.backgroundColor=D}else r.style.backgroundColor="",r.style.color=""}var go=wt(dt());function Pr(e,r,o){let n=o.column_header?.[this._config.split_by.length],[l,h,_,p,x]=(()=>e?.color!==void 0?e.color:this._color)();if(e?.datetime_color_mode==="foreground"&&o.user!==null)r.style.color=l,r.style.backgroundColor="";else if(e?.datetime_color_mode==="background"&&o.user!==null){let M=this._plugin_background,m=De(Ie([h,_,p,1],M));r.style.color=m,r.style.backgroundColor=l}else r.style.backgroundColor="",r.style.color=""}function Fr(e,r,o){let[n]=o.user===!0?this._pos_fg_color:o.user===!1?this._neg_fg_color:["",0,0,0,""];r.style.backgroundColor="",r.style.color=n}function Tr(e,r,o){let n=typeof o.value!=null&&typeof o.value!=null&&o.value?.toString()?.trim().length>0,l=o.row_header_x>=this._config.group_by.length,h=e.getMeta({dx:0,dy:o.y-o.y0+1}),_=h&&h.row_header&&typeof h.row_header[o.row_header_x+1]<"u";r.classList.toggle("psp-tree-label",n&&!l),r.classList.toggle("psp-tree-label-expand",n&&!l&&!_),r.classList.toggle("psp-tree-label-collapse",n&&!l&&_),r.classList.toggle("psp-tree-leaf",n&&l)}function Di(e){return e.x>=0?this._column_types[e.x]:this._row_header_types[e.row_header_x-1]}function Rr(e){let r=e[ye]||{};for(let o of e.children[0].children[1].children)for(let n of o.children){let l=e.getMeta(n),h=l.column_header?.[this._config.split_by.length],_=Di.call(this,l),p=r[h],x=_==="integer"||_==="float";x?Nr.call(this,p,n,l):_==="boolean"?Fr.call(this,p,n,l):_==="string"?Or.call(this,p,n,l):_==="date"||_==="datetime"?Pr.call(this,p,n,l):(n.style.backgroundColor="",n.style.color=""),n.classList.toggle("psp-bool-type",_==="boolean"&&l.user!==null);let M=n.tagName==="TH";M&&Tr.call(this,e,n,l),n.classList.toggle("psp-align-right",!M&&x),n.classList.toggle("psp-align-left",M||!x),n.classList.toggle("psp-color-mode-bar",p?.number_fg_mode==="bar"&&x)}}async function Ir(e,r,o){let l=e.getMeta(o).column_header[this._config.split_by.length],_=(r.shiftKey?ji:Hi).call(this,l);this._preserve_focus_state=!0,await e.parentElement.parentElement.restore({sort:_})}function ji(e){let r=[],o=!1;for(let n of this._config.sort){let[l,h]=n;if(l===e){o=!0;let _=Dr.call(this,e,h);_&&r.push(_)}else r.push(n)}return o||r.push([e,"desc"]),r}function Hi(e){for(let[r,o]of this._config.sort)if(r===e){let n=Dr.call(this,e,o);return n?[n]:[]}return[[e,"desc"]]}function Dr(e,r){let n=this._config.split_by.length>0?$i:Wi,l=r?n[r]:"desc";if(l)return[e,l]}var Wi={desc:"asc",asc:void 0},$i={desc:"asc",asc:"col desc","col desc":"col asc","col asc":void 0};async function jr(e,r){let o=e.getMeta(r.target),n=r.target.classList.contains("psp-tree-label-collapse");r.shiftKey&&n?this._view.set_depth(o.row_header.filter(l=>l!==void 0).length-2):r.shiftKey?this._view.set_depth(o.row_header.filter(l=>l!==void 0).length-1):n?this._view.collapse(o.y):this._view.expand(o.y),this._num_rows=await this._view.num_rows(),this._num_columns=await this._view.num_columns(),e.draw()}async function Hr(e,r,o){if(o.which!==1)return;let n=o.target;if(n.tagName!=="A"){for(;n.tagName!=="TD"&&n.tagName!=="TH";)if(n=n.parentElement,!e.contains(n))return;if(n.classList.contains("psp-tree-label")){jr.call(this,e,o),o.stopImmediatePropagation();return}if(n.classList.contains("psp-menu-enabled")){let h=e.getMeta(n).column_header?.[this._config.split_by.length];await r.toggleColumnSettings(h),o.preventDefault(),o.stopImmediatePropagation()}else n.classList.contains("psp-sort-enabled")&&(Ir.call(this,e,o,n),o.stopImmediatePropagation())}}function Wr(e,r){if(r.which!==1)return;let o=r.target;for(;o.tagName!=="TD"&&o.tagName!=="TH";)if(o=o.parentElement,!e.contains(o))return;(o.classList.contains("psp-tree-label")&&r.offsetX<26||o.classList.contains("psp-header-leaf")&&!o.classList.contains("psp-header-corner"))&&r.stopImmediatePropagation()}function $r(e,r=!1){let o=this._config.group_by.length===0&&this._config.split_by.length===0,n=e.hasAttribute("selectable"),l=r||!!e.children[0]._is_edit_mode;return o&&!n&&l}function Gr(e,r){let o=e[ye]||{},n=$r.call(this,r);e.parentElement.classList.toggle("edit-mode-allowed",$r.call(this,r,!0));for(let l of e.querySelectorAll("td")){let h=e.getMeta(l),_=this.get_psp_type(h);if(n&&this._is_editable[h.x]){let p=h.column_header[this._config.split_by.length];_==="string"&&o[p]?.format==="link"?(l.toggleAttribute("contenteditable",!1),l.classList.toggle("boolean-editable",!1)):_==="boolean"?(l.toggleAttribute("contenteditable",!1),l.classList.toggle("boolean-editable",h.user!==null)):(n!==l.hasAttribute("contenteditable")&&l.toggleAttribute("contenteditable",n),l.classList.toggle("boolean-editable",!1))}else l.toggleAttribute("contenteditable",!1),l.classList.toggle("boolean-editable",!1)}}var kt=(e,r,o)=>{let n=e.querySelectorAll("td"),l=o.get(e);if(l){for(let h of n){let _=e.getMeta(h);if(_.x===l.x&&_.y===l.y)return document.activeElement!==h&&h.focus({preventScroll:!0}),!0}document.activeElement!==document.body&&e.contains(document.activeElement)&&document.activeElement.blur()}};function Gi(e){let r;return async function(...o){if(!!r&&await r&&!!r)return;let n;r=new Promise(l=>n=l),await e.apply(this,o),r=void 0,n()}}function qr(){if(this.isContentEditable){let e=document.getSelection().getRangeAt(0),r=e.cloneRange();return r.selectNodeContents(this),r.setEnd(e.endContainer,e.endOffset),r.toString().length}else return this.target.selectionStart}function Bt(e,r,o){let n=e.getMeta(o),l=r._schema[r._column_paths[n.x]];if(n){let h=o.textContent,_=r._ids[n.y-n.y0];if(l==="float"||l==="integer"){if(h=parseFloat(h.replace(/,/g,"")),isNaN(h))return!1}else if(l==="date"||l==="datetime"){if(h=Date.parse(h),isNaN(h))return!1}else l==="boolean"&&(h=h==="check"?!1:h==="close"?!0:null);let p={__INDEX__:_,[r._column_paths[n.x]]:h};return r._table.update([p],{port_id:r._edit_port}),!0}}function Lt(e,r=!1){let o=this._config.group_by.length===0&&this._config.split_by.length===0,n=e.hasAttribute("selectable"),l=r||!!e.children[0]._is_edit_mode;return o&&!n&&l}var Ge=Gi(async function(e,r,o,n,l){let h=e.getMeta(o),_=this._column_paths.length,p=this._num_rows,x=r.get(e);if(!x)return;h.x+n<_&&0<=h.x+n&&(x.x=h.x+n),h.y+l<p&&0<=h.y+l&&(x.y=h.y+l);let M=Math.max(h.x0-10,0),m=Math.min(h.x0+10,_),z=Math.max(h.y0-5,0),F=Math.min(h.y0+10,p),T=h.x0+n,E=h.y0+l;for(;!kt(e,void 0,r)&&T>=M&&T<m&&E>=z&&E<F;)await e.scrollToCell(T,E,_,p),r.set(e,x),T+=n,E+=l});function Br(e,r,o,n){if(!Lt.call(this,r))return;let l=document.activeElement;switch(n.target.classList.remove("psp-error"),n.keyCode){case 13:n.preventDefault(),n.shiftKey?Ge.call(this,e,o,l,0,-1):Ge.call(this,e,o,l,0,1);break;case 37:qr.call(l)==0&&(n.preventDefault(),Ge.call(this,e,o,l,-1,0));break;case 38:n.preventDefault(),Ge.call(this,e,o,l,0,-1);break;case 39:qr.call(l)==l.textContent.length&&(n.preventDefault(),Ge.call(this,e,o,l,1,0));break;case 40:n.preventDefault(),Ge.call(this,e,o,l,0,1);break;default:}}function Yr(e,r,o){let n=e.getMeta(o.target);if(typeof n?.x<"u"){let l=Lt.call(this,r),h=this._is_editable[n.x],_=this.get_psp_type(n)==="boolean",p=o.target.textContent==="-";l&&h&&_&&!p&&Bt(e,this,o.target)}}function Vr(e,r,o,n){if(Lt.call(this,r)&&o.has(e)){n.target.classList.remove("psp-error");let l=o.get(e);o.delete(e),l.content!==n.target.textContent&&(Bt(e,this,n.target)||(n.target.textContent=l.content,n.target.classList.add("psp-error"),n.target.focus()))}}function Xr(e,r,o,n){let l=e.getMeta(n.target);if(l){let h={x:l.x,y:l.y,content:n.target.textContent};o.set(e,h)}}async function ht({_view:e,_config:r},o,n){let l=r.group_by,h=r.split_by,_=o>=0?o:0,p=_+1,x=await e.to_json({start_row:_,end_row:p}),m=x.map(J=>J.__ROW_PATH__)[0]||[],z=l.map((J,D)=>{let g=m[D];return g?[J,"==",g]:void 0}).filter(J=>J),F=l.length>0?n+1:n,T=Object.keys(x[0])[F],E={row:x[0]},I=[];if(T){let J=T.split("|");E.column_names=[J[h.length]],I=h.map((D,g)=>{let re=J[g];return re?[D,"==",re]:void 0}).filter(D=>D).filter(([,,D])=>D!=="__ROW_PATH__")}let P=r.filter.concat(z).concat(I);return E.config={filter:P},E}async function Ur(e,r,o,n){let l=e.getMeta(n.target);if(!r.hasAttribute("selectable")||n.handled||n.which!==1||!l)return;let h=this._ids[l.y-l.y0];if(l&&l.y>=0){let _=o.get(e),p=!!_&&_.reduce((T,E,I)=>T&&E===h[I],!0),x=!!_&&h.length===_.length&&p,M={selected:!x},{row:m,column_names:z,config:F}=await ht(this,l.y,l.x);x?(o.delete(e),M={...M,row:m,config:{filter:structuredClone(this._config.filter)}}):(o.set(e,h),M={...M,row:m,column_names:z,config:F}),await e.draw({preserve_width:!0}),n.handled=!0,r.dispatchEvent(new CustomEvent("perspective-select",{bubbles:!0,composed:!0,detail:M}))}}function Kr(e,r,o){if(!r.hasAttribute("selectable"))return;let n=o.has(e),l=o.get(e);for(let h of e.querySelectorAll("td"))if(!n)h.classList.toggle("psp-row-selected",!1),h.classList.toggle("psp-row-subselected",!1);else{let _=e.getMeta(h),p=this._ids[_.y-_.y0],x=l.reduce((M,m,z)=>M&&m===p[z],!0);h.classList.toggle("psp-row-selected",p.length===l.length&&x),h.classList.toggle("psp-row-subselected",p.length!==l.length&&x)}for(let h of e.querySelectorAll("tbody th")){let _=e.getMeta(h),p=this._ids[_.y-_.y0];if(!n||!!p[_.row_header_x])h.classList.toggle("psp-row-selected",!1),h.classList.toggle("psp-row-subselected",!1);else{let x=l.reduce((M,m,z)=>M&&m===p[z],!0);h.classList.toggle("psp-row-selected",p.length===l.length&&x),h.classList.toggle("psp-row-subselected",p.length!==l.length&&x)}}}async function Zr(e,r,o){o.delete(e);for(let n of e.querySelectorAll("td,th"))n.classList.toggle("psp-row-selected",!1),n.classList.toggle("psp-row-subselected",!1)}var ii=wt(dt());var Jr={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short",timeStyle:"medium"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short"},null_value:-1}}};function qe(e){let r={};if(Qr().types[e]&&Object.assign(r,Qr().types[e]),r.type){let o=qe(r.type);return Object.assign(o,r),o}else return r}function Yt(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Vt(e,...r){if(!r.length)return e;let o=r.shift();if(Yt(e)&&Yt(o))for(let n in o)Yt(o[n])?(e[n]||Object.assign(e,{[n]:{}}),Vt(e[n],o[n])):Object.assign(e,{[n]:o[n]});return Vt(e,...r)}function Qr(){return globalThis.__PERSPECTIVE_CONFIG__||(globalThis.__PERSPECTIVE_CONFIG__=Vt(Jr,globalThis.__TEMPLATE_CONFIG__||{})),globalThis.__PERSPECTIVE_CONFIG__}var ei={datetime:Intl.DateTimeFormat,date:Intl.DateTimeFormat,integer:Intl.NumberFormat,float:Intl.NumberFormat,boolean:class{format(e){return e?"true":"false"}}},Mt=class{constructor(){this._formatters=new Map}create_datetime_formatter(r,o){let n=qe(r);if(r==="datetime")if(o.format!=="custom"){let l={...n.format,timeZone:o.timeZone,dateStyle:o.dateStyle,timeStyle:o.timeStyle};return l.dateStyle==="disabled"?l.dateStyle=void 0:l.dateStyle===void 0&&(l.dateStyle=n.format.dateStyle),l.timeStyle==="disabled"?l.timeStyle=void 0:l.timeStyle===void 0&&(l.timeStyle=n.format.timeStyle),new Intl.DateTimeFormat([],l)}else{let l={timeZone:o.timeZone,second:o.second,minute:o.minute,hour:o.hour,day:o.day,weekday:o.weekday,month:o.month,year:o.year,hour12:o.hour12,fractionalSecondDigits:o.fractionalSecondDigits};return l.year==="disabled"?l.year=void 0:l.year===void 0&&(l.year="2-digit"),l.month==="disabled"?l.month=void 0:l.month===void 0&&(l.month="numeric"),l.day==="disabled"?l.day=void 0:l.day===void 0&&(l.day="numeric"),l.weekday==="disabled"&&(l.weekday=void 0),l.hour==="disabled"?l.hour=void 0:l.hour===void 0&&(l.hour="numeric"),l.minute==="disabled"?l.minute=void 0:l.minute===void 0&&(l.minute="numeric"),l.second==="disabled"?l.second=void 0:l.second===void 0&&(l.second="numeric"),l.hour12===void 0&&(l.hour12=!0),new Intl.DateTimeFormat([],l)}else{let l={...n.format,dateStyle:o.dateStyle};return l.dateStyle==="disabled"?l.dateStyle=void 0:l.dateStyle===void 0&&(l.dateStyle=n.format.dateStyle),new Intl.DateTimeFormat([],l)}}create_number_formatter(r,o){let{format:n}=qe(r);return o.fixed!==void 0&&(n.minimumFractionDigits=o.fixed,n.maximumFractionDigits=o.fixed),new ei[r]([],n)}create_boolean_formatter(r,o){let n=qe(r);return new ei[r]([],n.format)}get(r,o){let n=[r,o.fixed,o.timeZone,o.dateStyle,o.timeStyle,o.fractionalSecondDigits,o.format,o.year,o.month,o.day,o.weekday,o.hour,o.minute,o.second,o.hour12].join("-");if(!this._formatters.has(n)){let l=qe(r);r==="date"||r==="datetime"?this._formatters.set(n,this.create_datetime_formatter(r,o)):r==="integer"||r==="float"?this._formatters.set(n,this.create_number_formatter(r,o)):r==="boolean"?this._formatters.set(n,this.create_boolean_formatter(r,o)):this._formatters.set(n,!1)}return this._formatters.get(n)}};var qi=new Mt;function zt(e,r,o={},n=!1){if(r===null)return"-";let l=n&&this._table_schema[e]||this._schema[e]||"string",h=o[e]||{};if((l==="integer"||l==="float")&&h?.number_fg_mode==="bar"){let p=Math.max(0,Math.min(.95,Math.abs(r/h.fg_gradient)*.95)),x=this._div_factory.get(),M=r>=0?"left":"right";return x.setAttribute("style",`width:${(p*100).toFixed(2)}%;position:absolute;${M}:0;height:80%;top:10%;pointer-events:none;`),x}else if(h?.format==="link"&&l==="string"){let p=document.createElement("a");return p.setAttribute("href",r),p.setAttribute("target","_blank"),p.textContent=r,p}else if(h?.format==="bold"&&l==="string"){let p=document.createElement("b");return p.textContent=r,p}else if(h?.format==="italics"&&l==="string"){let p=document.createElement("i");return p.textContent=r,p}else{let p=qi.get(l,h);return p?p.format(r):r}}function*ti(e=[],r,o){let n=o[ye];for(let l of e){l=["TOTAL",...l];let h=l[l.length-1];l=l.slice(0,l.length-1).fill("");let _=zt.call(this,r[l.length-1],h,n,!0);_ instanceof HTMLElement?l=l.concat(_):l=l.concat({toString:()=>_}),l.length=r.length+1,yield l}}function ri(){let e,r,o,n,l;return async function(_,p,x,M,m){let z={},F;M-p>0&&m-x>0?(this._is_old_viewport=this._last_window?.start_row===x&&this._last_window?.end_row===m&&this._last_window?.start_col===p&&this._last_window?.end_col===M,F={start_row:x,start_col:p,end_row:m,end_col:M,id:!0},z=JSON.parse(await this._view.to_columns_string(F)),this._last_window=F,this._ids=z.__ID__,this._reverse_columns=this._column_paths.slice(p,M).reduce((D,g,re)=>(D.set(g,re),D),new Map),this._reverse_ids=this._ids.reduce((D,g,re)=>(D.set(g?.join("|"),re),D),new Map)):this._div_factory.clear();let T=[],E=[],I=[],P=[],J=_.parentElement.parentElement.hasAttribute("settings");for(let D=p;D<Math.min(M,this._column_paths.length);++D){let g=this._column_paths[D],re=g.split("|"),j=z[g]||new Array(m-x).fill(null);T.push(j.map(ge=>zt.call(this,re[this._config.split_by.length],ge,_[ye]))),E.push(j),J&&re.push("Edit"),I.push(re),P.push(g)}return M-p>0&&m-x>0&&(this.last_column_paths=r,this.last_meta=e,this.last_ids=o,this.last_reverse_ids=n,this.last_reverse_columns=l,r=P,e=E,o=this._ids,n=this._reverse_ids,l=this._reverse_columns),{num_rows:this._num_rows,num_columns:this._column_paths.length,row_headers:Array.from(ti.call(this,z.__ROW_PATH__,this._config.group_by,_)),column_headers:I,data:T,metadata:E,column_header_merge_depth:Math.max(0,this._config.split_by.length)}}}function Et(e,r,o){let n=window.getComputedStyle(e).getPropertyValue(r).trim();return n.length>0?n:o}var Xt=class{constructor(r){this._name=r,this._elements=[],this._index=0}clear(){this._index=0}get(){this._elements[this._index]||(this._elements[this._index]=document.createElement(this._name));let r=this._elements[this._index];return this._index+=1,r}};function Bi(e){return e.x>=0?this._column_types[e.x]:this._row_header_types[e.row_header_x-1]}async function Ut(e,r,o,n={}){let l=await o.get_config(),h=l.expressions.map(ee=>ee[1]),[_,p,x,M,m,z,F]=await Promise.all([r.schema(),r.validate_expressions(h),o.num_rows(),o.schema(),o.expression_schema(),o.column_paths(),this.parentElement.getEditPort()]),T=(0,ii.default)(Et(e,"--plugin--background","#FFFFFF")).rgb(),E=ke(Et(e,"--rt-pos-cell--color","#338DCD")),I=ke(Et(e,"--rt-neg-cell--color","#FF5942")),P=ke(Gt(E[0],T)),J=ke(Gt(I[0],T)),D=ke(Et(e,"--active--color","#ff0000")),g={...M,...m},re={..._,...p.expression_schema},j=z.filter(ee=>ee!=="__ROW_PATH__"&&ee!=="__ID__"),ge=[],$=[];for(let ee of j){let ne=ee.split("|")[l.split_by.length];$.push(g[ne]),ge.push(!!_[ne])}let oe=Object.assign(n,{_edit_port:F,_view:o,_table:r,_table_schema:re,_config:l,_num_rows:x,_schema:g,_ids:[],_plugin_background:T,_color:D,_pos_fg_color:E,_neg_fg_color:I,_pos_bg_color:P,_neg_bg_color:J,_column_paths:j,_column_types:$,_is_editable:ge,_row_header_types:l.group_by.map(ee=>re[ee]),_series_color_map:new Map,_series_color_seed:new Map,get_psp_type:Bi});return oe._div_factory=oe._div_factory||new Xt("div"),e.setDataListener(ri().bind(oe,e),{virtual_mode:window.getComputedStyle(e).getPropertyValue("--datagrid-virtual-mode")?.trim()||"both"}),oe}async function oi(e,r,o){let n=e.getMeta(o.target);if(!n)return;let{x:l,y:h}=n,{row:_,column_names:p,config:x}=await ht(this,h,l);r.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{row:_,column_names:p,config:x}}))}async function si(e){let r=this.parentElement,o=await r.getTable(!0);if(this._initialized)await Ut.call(this,this.regular_table,o,e,this.model);else{this.innerHTML="",this.appendChild(this.regular_table),this.model=await Ut.call(this,this.regular_table,o,e),this.regular_table.addStyleListener(Rr.bind(this.model,this.regular_table)),this.regular_table.addStyleListener(Cr.bind(this.model,this.regular_table)),this.regular_table.addStyleListener(Ar.bind(this.model,this.regular_table)),this.regular_table.addEventListener("click",Wr.bind(this.model,this.regular_table)),this.regular_table.addEventListener("mousedown",Hr.bind(this.model,this.regular_table,r));let n=new WeakMap;this.regular_table.addStyleListener(Kr.bind(this.model,this.regular_table,r,n)),this.regular_table.addEventListener("mousedown",Ur.bind(this.model,this.regular_table,r,n)),this.regular_table.addEventListener("psp-deselect-all",Zr.bind(this.model,this.regular_table,r,n)),this.regular_table.addEventListener("click",oi.bind(this.model,this.regular_table,r));let l=new WeakMap;this.regular_table.addStyleListener(Gr.bind(this.model,this.regular_table,r)),this.regular_table.addStyleListener(kt.bind(this.model,this.regular_table,r,l)),this.regular_table.addEventListener("click",Yr.bind(this.model,this.regular_table,r)),this.regular_table.addEventListener("focusin",Xr.bind(this.model,this.regular_table,r,l)),this.regular_table.addEventListener("focusout",Vr.bind(this.model,this.regular_table,r,l)),this.regular_table.addEventListener("keydown",Br.bind(this.model,this.regular_table,r,l)),r.addEventListener("perspective-toggle-column-settings",h=>{if(this.isConnected){if(Wt(this.regular_table,h.detail.column_name),!h.detail.open){this.model._column_settings_selected_column=null;return}this.model._column_settings_selected_column=h.detail.column_name}}),this._initialized=!0}}function At(e,r=!1){if(!this._initialized)return;r&&(this._cached_column_sizes=e);let o={},{group_by:n,columns:l}=this.model._config,h=n?.length>0?n.length+1:0;for(let _ of Object.keys(e))if(_==="__ROW_PATH__")o[h-1]=e[_];else{let p=this.model._column_paths.indexOf(_);o[p+h]=e[_]}this.regular_table._column_sizes.override=o}function Ct(){if(!this._initialized)return[];if(this._cached_column_sizes){let h=this._cached_column_sizes;return this._cached_column_sizes=void 0,h}let e=this.regular_table._column_sizes.override,{group_by:r,columns:o}=this.model._config,n=r?.length>0?r.length+1:0,l={};for(let h of Object.keys(e))if(e[h]!==void 0){let _=h-n;_>-1?l[this.model._column_paths[_]]=e[h]:_===-1&&(l.__ROW_PATH__=e[h])}return l}function St(e=void 0){typeof e>"u"&&(e=!this._is_edit_mode),this._is_edit_mode=e,this.classList.toggle("editable",e),this._edit_mode!==void 0&&(this._edit_mode.classList.toggle("editable",e),e?this._edit_mode.children[0].textContent="Editable":this._edit_mode.children[0].textContent="Read Only")}function Nt(e=void 0){typeof e>"u"&&(e=!this._is_scroll_lock),this._is_scroll_lock=e,this.classList.toggle("sub-cell-scroll-disabled",e),this._scroll_lock!==void 0&&(this._scroll_lock.classList.toggle("lock-scroll",e),e?this._scroll_lock.children[0].textContent="Align Scroll":this._scroll_lock.children[0].textContent="Free Scroll")}function li(e){e=JSON.parse(JSON.stringify(e));let r={};if(e.columns)for(let n of Object.keys(e.columns)){let l=e.columns[n];l.column_size_override!==void 0&&(r[n]=l.column_size_override,delete l.column_size_override),l?.pos_fg_color&&(l.pos_fg_color=ke(l.pos_fg_color),l.neg_fg_color=ke(l.neg_fg_color)),l?.pos_bg_color&&(l.pos_bg_color=ke(l.pos_bg_color),l.neg_bg_color=ke(l.neg_bg_color)),l?.color&&(l.color=ke(l.color)),Object.keys(l).length===0&&delete e.columns[n]}"editable"in e&&St.call(this,e.editable),"scroll_lock"in e&&Nt.call(this,e.scroll_lock);let o=this.regular_table;At.call(this,r,!0),o[ye]=e.columns}function ni(){this._toolbar||(this._toolbar=document.createElement("perspective-viewer-datagrid-toolbar")),this.parentElement.appendChild(this._toolbar)}function ai(){if(this.regular_table){let e=this.regular_table,r={columns:{},scroll_lock:!!this._is_scroll_lock,editable:!!this._is_edit_mode};for(let n of Object.keys(e[ye]||{})){let l=Object.assign({},e[ye][n]);(l?.pos_fg_color||l?.pos_bg_color)&&(l.pos_fg_color=l.pos_fg_color?.[0],l.neg_fg_color=l.neg_fg_color?.[0],l.pos_bg_color=l.pos_bg_color?.[0],l.neg_bg_color=l.neg_bg_color?.[0]),l?.color&&(l.color=l.color[0]),r.columns[n]=l}let o=Ct.call(this);for(let n of Object.keys(o||{}))r.columns[n]||(r.columns[n]={}),r.columns[n].column_size_override=o[n];return JSON.parse(JSON.stringify(r))}return{}}async function ci(e){if(this.parentElement&&await this.activate(e),!this.isConnected||this.offsetParent==null)return;let r=Ct.call(this),o=this.regular_table.draw({invalid_columns:!0});this.model._preserve_focus_state?this.model._preserve_focus_state=!1:(this.regular_table.scrollTop=0,this.regular_table.scrollLeft=0,this.regular_table.dispatchEvent(new CustomEvent("psp-deselect-all",{bubbles:!1})),this.regular_table._resetAutoSize()),At.call(this,r),await o,this._toolbar.classList.toggle("aggregated",this.model._config.group_by.length>0||this.model._config.split_by.length>0)}function Kt(){let e=o=>{let n;return o==="integer"||o==="float"?n={fg_gradient:0,pos_fg_color:this.model._pos_fg_color[0],neg_fg_color:this.model._neg_fg_color[0],number_fg_mode:"color",bg_gradient:0,pos_bg_color:this.model._pos_bg_color[0],neg_bg_color:this.model._neg_bg_color[0],number_bg_mode:"disabled",fixed:o==="float"?2:0}:n={color:this.model._color[0],bg_color:this.model._color[0]},n},r={};for(let o of["string","float","integer","bool","date","datetime"])r[o]=e(o);return r}var Ot=class extends HTMLElement{constructor(){super(),this.regular_table=document.createElement("regular-table"),this._is_scroll_lock=!1}connectedCallback(){return ni.call(this)}disconnectedCallback(){this._toolbar.parentElement.removeChild(this._toolbar)}async activate(r){return await si.call(this,r)}get name(){return"Datagrid"}get category(){return"Basic"}get select_mode(){return"toggle"}get min_config_columns(){}get config_column_names(){return["Columns"]}get priority(){return 1}get plugin_attributes(){return{style:Kt.call(this)}}async draw(r){return await ci.call(this,r)}async update(r){this.model._num_rows=await r.num_rows(),await this.regular_table.draw()}async resize(){!this.isConnected||this.offsetParent==null||this._initialized&&await this.regular_table.draw()}async clear(){this.regular_table._resetAutoSize(),this.regular_table.clear()}save(){return ai.call(this)}restore(r){return li.call(this,r)}async restyle(r){await this.draw(r)}delete(){this.regular_table.table_model&&this.regular_table._resetAutoSize(),this.regular_table.clear()}};var fi=':host{position:relative;display:block;}:host #container{position:absolute;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch;top:0;left:0;right:0;bottom:0;}:host #toolbar{display:flex;align-items:center;height:36px;}:host #slot-container{flex:1;position:relative;}#scroll_lock.lock-scroll:before{-webkit-mask-image:var(--toolbar-scroll-lock-active--content);}#scroll_lock:before{-webkit-mask-image:var(--toolbar-scroll-lock--content);}#select_mode:before{content:"highlight_alt";}#edit_mode:before{-webkit-mask-image:var(--toolbar-edit-mode--content);}#edit_mode.editable:before{-webkit-mask-image:var(--toolbar-edit-mode-active--content);}:host(.aggregated) #toolbar #edit_mode{display:none;}.button:before{width:25px;height:21px;content:"";-webkit-mask-image:cover;mask-image:cover;background-color:var(--icon--color,#ccc);margin:0 5px;}.button.editable:before,.button.lock-scroll:before{color:inherit;}.button{display:inline-flex;align-items:center;user-select:none;width:37px;height:22px;box-sizing:border-box;white-space:nowrap;border:1px solid transparent;border-radius:3px;}.button>span{display:none;margin:0;padding:0;}.button:hover{background-color:var(--icon--color);color:var(--plugin--background);opacity:1;display:flex;align-items:center;cursor:pointer;min-width:var(--button--min-width,105px);}.button:hover:before{background-color:var(--plugin--background);margin:0 5px 0 5px;}.button:hover>span{display:contents;font-size:9px;line-height:36px;}';var Pt=class extends HTMLElement{connectedCallback(){if(this._initialized)return;this._initialized=!0,this.setAttribute("slot","plugin-settings"),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`
            <style>
                ${fi}
            </style>
            <div id="toolbar">
                <span id="scroll_lock" class="button">
                    <span>Free Scroll</span>
                </span>
                <span id="edit_mode" class="button"><span>Read Only</span></span>
            </div>
        `;let r=this.parentElement,o=r.querySelector("perspective-viewer-datagrid");o._scroll_lock=this.shadowRoot.querySelector("#scroll_lock"),o._scroll_lock.addEventListener("click",()=>Nt.call(o)),o._edit_mode=this.shadowRoot.querySelector("#edit_mode"),o._edit_mode.addEventListener("click",()=>{St.call(o),o.regular_table.draw(),r.dispatchEvent(new Event("perspective-config-update"))})}};function Vi(){let e=document.createElement("style");e.textContent=zr,document.head.insertBefore(e,document.head.firstChild)}async function Xi(){customElements.define("perspective-viewer-datagrid-toolbar",Pt),customElements.define("perspective-viewer-datagrid",Ot),await customElements.whenDefined("perspective-viewer"),customElements.get("perspective-viewer").registerPlugin("perspective-viewer-datagrid")}Xi();Vi();
/**
	ColorBrewer colors for chroma.js

	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
	Pennsylvania State University.

	Licensed under the Apache License, Version 2.0 (the "License"); 
	you may not use this file except in compliance with the License.
	You may obtain a copy of the License at	
	http://www.apache.org/licenses/LICENSE-2.0

	Unless required by applicable law or agreed to in writing, software distributed
	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
	CONDITIONS OF ANY KIND, either express or implied. See the License for the
	specific language governing permissions and limitations under the License.

    @preserve
 */
/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */
//# sourceMappingURL=perspective-viewer-datagrid.js.map
