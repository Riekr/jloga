{
  "version": 3,
  "sources": ["../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/ascending.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/descending.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/bisector.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/number.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/bisect.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/blur.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/count.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/cross.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/cumsum.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/variance.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/deviation.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/extent.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/fsum.js", "../../../../node_modules/.pnpm/internmap@2.0.3/node_modules/internmap/src/index.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/identity.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/group.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/permute.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/sort.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/groupSort.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/array.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/constant.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/ticks.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/nice.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/threshold/sturges.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/bin.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/max.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/maxIndex.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/min.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/minIndex.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/quickselect.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/greatest.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/quantile.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/threshold/freedmanDiaconis.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/threshold/scott.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/mean.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/median.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/merge.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/mode.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/pairs.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/range.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/rank.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/least.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/leastIndex.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/greatestIndex.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/scan.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/shuffle.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/sum.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/transpose.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/zip.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/every.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/some.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/filter.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/map.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/reduce.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/reverse.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/difference.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/disjoint.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/intersection.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/superset.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/subset.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/union.js", "../../../../node_modules/.pnpm/d3-array@3.2.4/node_modules/d3-array/src/index.js", "../../../../node_modules/.pnpm/d3-array@1.2.4/node_modules/d3-array/dist/d3-array.js", "../../../../node_modules/.pnpm/d3-collection@1.0.7/node_modules/d3-collection/dist/d3-collection.js", "../../../../node_modules/.pnpm/d3-color@1.4.1/node_modules/d3-color/dist/d3-color.js", "../../../../node_modules/.pnpm/d3-interpolate@1.4.0/node_modules/d3-interpolate/dist/d3-interpolate.js", "../../../../node_modules/.pnpm/d3-format@1.0.2/node_modules/d3-format/build/d3-format.js", "../../../../node_modules/.pnpm/d3-time@1.1.0/node_modules/d3-time/dist/d3-time.js", "../../../../node_modules/.pnpm/d3-time-format@2.3.0/node_modules/d3-time-format/dist/d3-time-format.js", "../../../../node_modules/.pnpm/d3-scale@1.0.3/node_modules/d3-scale/build/d3-scale.js", "../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/interval.js", "../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/millisecond.js", "../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/second.js", "../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/minute.js", "../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/hour.js", "../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/day.js", "../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/week.js", "../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/month.js", "../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/year.js", "../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/ticks.js", "../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/index.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/defaultSource.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/uniform.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/int.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/normal.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/logNormal.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/irwinHall.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/bates.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/exponential.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/pareto.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/bernoulli.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/geometric.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/gamma.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/beta.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/binomial.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/weibull.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/cauchy.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/logistic.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/poisson.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/lcg.js", "../../../../node_modules/.pnpm/d3-random@3.0.1/node_modules/d3-random/src/index.js", "../../../../node_modules/.pnpm/d3-fetch@3.0.1/node_modules/d3-fetch/src/blob.js", "../../../../node_modules/.pnpm/d3-fetch@3.0.1/node_modules/d3-fetch/src/buffer.js", "../../../../node_modules/.pnpm/d3-dsv@3.0.1/node_modules/d3-dsv/src/dsv.js", "../../../../node_modules/.pnpm/d3-dsv@3.0.1/node_modules/d3-dsv/src/csv.js", "../../../../node_modules/.pnpm/d3-dsv@3.0.1/node_modules/d3-dsv/src/tsv.js", "../../../../node_modules/.pnpm/d3-dsv@3.0.1/node_modules/d3-dsv/src/index.js", "../../../../node_modules/.pnpm/d3-fetch@3.0.1/node_modules/d3-fetch/src/text.js", "../../../../node_modules/.pnpm/d3-fetch@3.0.1/node_modules/d3-fetch/src/dsv.js", "../../../../node_modules/.pnpm/d3-fetch@3.0.1/node_modules/d3-fetch/src/image.js", "../../../../node_modules/.pnpm/d3-fetch@3.0.1/node_modules/d3-fetch/src/json.js", "../../../../node_modules/.pnpm/d3-fetch@3.0.1/node_modules/d3-fetch/src/xml.js", "../../../../node_modules/.pnpm/d3-fetch@3.0.1/node_modules/d3-fetch/src/index.js", "../../../../node_modules/.pnpm/d3-path@3.1.0/node_modules/d3-path/src/path.js", "../../../../node_modules/.pnpm/d3-path@3.1.0/node_modules/d3-path/src/index.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/namespaces.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/namespace.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/creator.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selector.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/select.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/array.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selectorAll.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectAll.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/matcher.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectChild.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectChildren.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/filter.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/sparse.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/enter.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/constant.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/data.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/exit.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/join.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/merge.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/order.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/sort.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/call.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/nodes.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/node.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/size.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/empty.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/each.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/attr.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/window.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/style.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/property.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/classed.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/text.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/html.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/raise.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/lower.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/append.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/insert.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/remove.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/clone.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/datum.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/on.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/dispatch.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/iterator.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/index.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/select.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/create.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/local.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/sourceEvent.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/pointer.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/pointers.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selectAll.js", "../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/index.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/constant.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/math.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/path.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/arc.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/array.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/linear.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/point.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/line.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/area.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/descending.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/identity.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/pie.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/radial.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/lineRadial.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/areaRadial.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/pointRadial.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/bump.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/link.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/asterisk.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/circle.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/cross.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/diamond.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/diamond2.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/plus.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/square.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/square2.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/star.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/triangle.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/triangle2.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/wye.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol/times.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/symbol.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/noop.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/basis.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/basisClosed.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/basisOpen.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/bundle.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/cardinal.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/cardinalClosed.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/cardinalOpen.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/catmullRom.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/catmullRomClosed.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/catmullRomOpen.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/linearClosed.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/monotone.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/natural.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/curve/step.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/offset/none.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/order/none.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/stack.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/offset/expand.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/offset/diverging.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/offset/silhouette.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/offset/wiggle.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/order/appearance.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/order/ascending.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/order/descending.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/order/insideOut.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/order/reverse.js", "../../../../node_modules/.pnpm/d3-shape@3.2.0/node_modules/d3-shape/src/index.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/colors.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/category10.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Accent.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Dark2.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/observable10.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Paired.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Pastel1.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Pastel2.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Set1.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Set2.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Set3.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/categorical/Tableau10.js", "../../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/define.js", "../../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/color.js", "../../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/math.js", "../../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/cubehelix.js", "../../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/index.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/basis.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/basisClosed.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/constant.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/color.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/rgb.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/numberArray.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/array.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/date.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/number.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/object.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/string.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/value.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/round.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/decompose.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/parse.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/index.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/zoom.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/cubehelix.js", "../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/index.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/ramp.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/BrBG.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/PRGn.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/PiYG.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/PuOr.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/RdBu.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/RdGy.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/diverging/Spectral.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-single/Blues.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-single/Greens.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-single/Greys.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-single/Purples.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-single/Reds.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js", "../../../../node_modules/.pnpm/d3-scale-chromatic@3.1.0/node_modules/d3-scale-chromatic/src/index.js", "../../../../node_modules/.pnpm/d3-dispatch@1.0.1/node_modules/d3-dispatch/build/d3-dispatch.js", "../../../../node_modules/.pnpm/d3-dispatch@3.0.1/node_modules/d3-dispatch/src/dispatch.js", "../../../../node_modules/.pnpm/d3-dispatch@3.0.1/node_modules/d3-dispatch/src/index.js", "../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/noevent.js", "../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/nodrag.js", "../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/constant.js", "../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/event.js", "../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/drag.js", "../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/index.js", "../../../../node_modules/.pnpm/d3-timer@3.0.1/node_modules/d3-timer/src/timer.js", "../../../../node_modules/.pnpm/d3-timer@3.0.1/node_modules/d3-timer/src/timeout.js", "../../../../node_modules/.pnpm/d3-timer@3.0.1/node_modules/d3-timer/src/index.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/schedule.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/interrupt.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/interrupt.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/tween.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/interpolate.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/attr.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/attrTween.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/delay.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/duration.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/ease.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/easeVarying.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/filter.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/merge.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/on.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/remove.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/select.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/selectAll.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/selection.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/style.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/styleTween.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/text.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/textTween.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/transition.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/end.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/index.js", "../../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/cubic.js", "../../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/index.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/transition.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/index.js", "../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/index.js", "../../../../node_modules/.pnpm/d3-brush@3.0.0/node_modules/d3-brush/src/constant.js", "../../../../node_modules/.pnpm/d3-brush@3.0.0/node_modules/d3-brush/src/event.js", "../../../../node_modules/.pnpm/d3-brush@3.0.0/node_modules/d3-brush/src/noevent.js", "../../../../node_modules/.pnpm/d3-brush@3.0.0/node_modules/d3-brush/src/brush.js", "../../../../node_modules/.pnpm/d3-brush@3.0.0/node_modules/d3-brush/src/index.js", "../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/constant.js", "../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/event.js", "../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/transform.js", "../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/noevent.js", "../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/zoom.js", "../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/index.js", "../../../../node_modules/.pnpm/d3fc@15.2.13_d3-array@3.2.4_d3-brush@3.0.0_d3-dispatch@3.0.1_d3-fetch@3.0.1_d3-path@3.1.0_d3-_nf2duhwo2sqxzpvius74vs2fei/node_modules/d3fc/build/d3fc.js", "../../../../node_modules/.pnpm/gradient-parser@1.0.2/node_modules/gradient-parser/build/node.js", "../../src/ts/plugin/polyfills/matches.ts", "../../src/ts/plugin/polyfills/closest.ts", "../../src/ts/charts/bar.ts", "../../src/ts/axis/axisFactory.ts", "../../src/ts/axis/axisType.ts", "../../src/ts/axis/noAxis.ts", "../../../../node_modules/.pnpm/d3@7.9.0/node_modules/d3/src/index.js", "../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatDecimal.js", "../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/exponent.js", "../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatGroup.js", "../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatNumerals.js", "../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatSpecifier.js", "../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatTrim.js", "../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatPrefixAuto.js", "../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatRounded.js", "../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatTypes.js", "../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/identity.js", "../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/locale.js", "../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/defaultLocale.js", "../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/precisionFixed.js", "../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/precisionPrefix.js", "../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/precisionRound.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/count.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/each.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/eachBefore.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/eachAfter.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/find.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/sum.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/sort.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/path.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/ancestors.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/descendants.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/leaves.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/links.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/iterator.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/index.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/accessors.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/constant.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/round.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/dice.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/partition.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/slice.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/squarify.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/index.js", "../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/binary.js", "../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/band.js", "../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/init.js", "../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/ordinal.js", "../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/linear.js", "../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/continuous.js", "../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/constant.js", "../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/number.js", "../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/tickFormat.js", "../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/nice.js", "../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/time.js", "../../../../node_modules/.pnpm/d3-time-format@4.1.0/node_modules/d3-time-format/src/locale.js", "../../../../node_modules/.pnpm/d3-time-format@4.1.0/node_modules/d3-time-format/src/defaultLocale.js", "../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/sequential.js", "../../src/ts/axis/flatten.ts", "../../src/ts/axis/minBandwidth.ts", "../../src/ts/axis/withoutTicks.ts", "../../src/ts/axis/linearAxis.ts", "../../src/ts/d3fc/extent/extentLinear.ts", "../../src/ts/d3fc/padding/default.ts", "../../src/ts/axis/valueFormatter.ts", "../../src/ts/plugin/root.ts", "../../src/ts/axis/timeAxis.ts", "../../src/ts/axis/ordinalAxis.ts", "../../src/ts/d3fc/axis/multi-axis.ts", "../../src/ts/d3fc/axis/store.ts", "../../src/ts/axis/chartFactory.ts", "../../src/ts/series/barSeries.ts", "../../src/ts/utils/utils.ts", "../../src/ts/tooltip/selectionData.ts", "../../src/ts/tooltip/generateHTML.ts", "../../src/ts/tooltip/selectionEvent.ts", "../../src/ts/tooltip/tooltip.ts", "../../src/ts/series/seriesKey.ts", "../../src/ts/data/utils.ts", "../../src/ts/series/seriesColors.ts", "../../src/ts/axis/axisLabel.ts", "../../src/ts/data/splitIntoMultiSeries.ts", "../../src/ts/data/groupData.ts", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/namespaces.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/namespace.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/creator.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/local.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/matcher.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/on.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selector.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/select.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selectorAll.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/selectAll.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/filter.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/sparse.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/enter.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/constant.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/data.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/exit.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/merge.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/order.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/sort.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/call.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/nodes.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/node.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/size.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/empty.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/each.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/attr.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/window.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/style.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/property.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/classed.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/text.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/html.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/raise.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/lower.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/append.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/insert.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/remove.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/datum.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/dispatch.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/selection/index.js", "../../../../node_modules/.pnpm/d3-selection@1.0.2/node_modules/d3-selection/src/select.js", "../../../../node_modules/.pnpm/d3-array@1.0.1/node_modules/d3-array/src/ascending.js", "../../../../node_modules/.pnpm/d3-array@1.0.1/node_modules/d3-array/src/bisector.js", "../../../../node_modules/.pnpm/d3-array@1.0.1/node_modules/d3-array/src/bisect.js", "../../../../node_modules/.pnpm/d3-array@1.0.1/node_modules/d3-array/src/array.js", "../../../../node_modules/.pnpm/d3-array@1.0.1/node_modules/d3-array/src/ticks.js", "../../../../node_modules/.pnpm/d3-array@1.0.1/node_modules/d3-array/src/max.js", "../../../../node_modules/.pnpm/d3-array@1.0.1/node_modules/d3-array/src/sum.js", "../../../../node_modules/.pnpm/d3-svg-legend@2.25.6/node_modules/d3-svg-legend/src/legend.js", "../../../../node_modules/.pnpm/d3-svg-legend@2.25.6/node_modules/d3-svg-legend/src/color.js", "../../../../node_modules/.pnpm/d3-svg-legend@2.25.6/node_modules/d3-svg-legend/src/size.js", "../../../../node_modules/.pnpm/d3-svg-legend@2.25.6/node_modules/d3-svg-legend/src/symbol.js", "../../../../node_modules/.pnpm/d3-svg-legend@2.25.6/node_modules/d3-svg-legend/src/helpers.js", "../../../../node_modules/.pnpm/d3-svg-legend@2.25.6/node_modules/d3-svg-legend/index.js", "../../src/ts/legend/scrollableLegend.ts", "../../src/ts/legend/styling/cropCellContents.ts", "../../src/ts/legend/styling/enforceContainerBoundaries.ts", "../../src/ts/legend/styling/draggableComponent.ts", "../../src/ts/legend/styling/resizableComponent.ts", "../../src/ts/legend/legend.ts", "../../src/ts/legend/filter.ts", "../../src/ts/gridlines/gridlines.ts", "../../src/ts/d3fc/padding/hardLimitZero.ts", "../../src/ts/zoom/zoomableChart.ts", "../../src/ts/charts/column.ts", "../../src/ts/axis/domainMatchOrigins.ts", "../../src/ts/axis/splitterLabels.ts", "../../src/ts/axis/axisSplitter.ts", "../../src/ts/charts/line.ts", "../../src/ts/series/lineSeries.ts", "../../src/ts/data/splitData.ts", "../../src/ts/data/transposeData.ts", "../../src/ts/tooltip/nearbyTip.ts", "../../src/ts/data/findBest.ts", "../../src/ts/charts/xy-line.ts", "../../src/ts/series/pointSeriesCanvas.ts", "../../src/ts/series/seriesSymbols.ts", "../../src/ts/data/xySplitData.ts", "../../src/ts/charts/area.ts", "../../src/ts/series/areaSeries.ts", "../../src/ts/data/splitAndBaseData.ts", "../../src/ts/charts/y-scatter.ts", "../../src/ts/series/categoryPointSeries.ts", "../../src/ts/data/pointData.ts", "../../src/ts/series/seriesRange.ts", "../../src/ts/legend/colorRangeLegend.ts", "../../src/ts/layout/gridLayoutMultiChart.ts", "../../src/ts/series/xy-scatter/xyScatterSeries.ts", "../../src/ts/charts/xy-scatter.ts", "../../src/ts/series/heatmapSeries.ts", "../../src/ts/data/heatmapData.ts", "../../src/ts/charts/heatmap.ts", "../../src/ts/charts/ohlc.ts", "../../src/ts/charts/ohlcCandle.ts", "../../src/ts/data/ohlcData.ts", "../../src/ts/series/ohlcCandleSeries.ts", "../../src/ts/charts/candlestick.ts", "../../src/ts/series/sunburst/sunburstColor.ts", "../../src/ts/data/treeData.ts", "../../src/ts/series/sunburst/sunburstArc.ts", "../../src/ts/series/sunburst/sunburstLabel.ts", "../../src/ts/series/sunburst/sunburstClick.ts", "../../src/ts/series/sunburst/sunburstSeries.ts", "../../src/ts/charts/sunburst.ts", "../../src/ts/series/treemap/treemapColor.ts", "../../src/ts/series/treemap/treemapLabel.ts", "../../src/ts/series/treemap/treemapLayout.ts", "../../src/ts/series/treemap/treemapLevelCalculation.ts", "../../src/ts/series/treemap/treemapTransitions.ts", "../../src/ts/series/treemap/treemapControls.ts", "../../src/ts/series/treemap/treemapSeries.ts", "../../src/ts/charts/treemap.ts", "../../src/ts/charts/charts.ts", "../../src/ts/series/colorStyles.ts", "../../src/ts/plugin/plugin.ts", "../../src/ts/index.ts"],
  "sourcesContent": ["export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n", "import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can\u2019t do this\n  // for a comparator (except for specific, known comparators) because we can\u2019t\n  // tell if the comparator is symmetric, and an asymmetric comparator can\u2019t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n", "export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n", "import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n", "export function blur(values, r) {\n  if (!((r = +r) >= 0)) throw new RangeError(\"invalid r\");\n  let length = values.length;\n  if (!((length = Math.floor(length)) >= 0)) throw new RangeError(\"invalid length\");\n  if (!length || !r) return values;\n  const blur = blurf(r);\n  const temp = values.slice();\n  blur(values, temp, 0, length, 1);\n  blur(temp, values, 0, length, 1);\n  blur(values, temp, 0, length, 1);\n  return values;\n}\n\nexport const blur2 = Blur2(blurf);\n\nexport const blurImage = Blur2(blurfImage);\n\nfunction Blur2(blur) {\n  return function(data, rx, ry = rx) {\n    if (!((rx = +rx) >= 0)) throw new RangeError(\"invalid rx\");\n    if (!((ry = +ry) >= 0)) throw new RangeError(\"invalid ry\");\n    let {data: values, width, height} = data;\n    if (!((width = Math.floor(width)) >= 0)) throw new RangeError(\"invalid width\");\n    if (!((height = Math.floor(height !== undefined ? height : values.length / width)) >= 0)) throw new RangeError(\"invalid height\");\n    if (!width || !height || (!rx && !ry)) return data;\n    const blurx = rx && blur(rx);\n    const blury = ry && blur(ry);\n    const temp = values.slice();\n    if (blurx && blury) {\n      blurh(blurx, temp, values, width, height);\n      blurh(blurx, values, temp, width, height);\n      blurh(blurx, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n      blurv(blury, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n    } else if (blurx) {\n      blurh(blurx, values, temp, width, height);\n      blurh(blurx, temp, values, width, height);\n      blurh(blurx, values, temp, width, height);\n    } else if (blury) {\n      blurv(blury, values, temp, width, height);\n      blurv(blury, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n    }\n    return data;\n  };\n}\n\nfunction blurh(blur, T, S, w, h) {\n  for (let y = 0, n = w * h; y < n;) {\n    blur(T, S, y, y += w, 1);\n  }\n}\n\nfunction blurv(blur, T, S, w, h) {\n  for (let x = 0, n = w * h; x < w; ++x) {\n    blur(T, S, x, x + n, w);\n  }\n}\n\nfunction blurfImage(radius) {\n  const blur = blurf(radius);\n  return (T, S, start, stop, step) => {\n    start <<= 2, stop <<= 2, step <<= 2;\n    blur(T, S, start + 0, stop + 0, step);\n    blur(T, S, start + 1, stop + 1, step);\n    blur(T, S, start + 2, stop + 2, step);\n    blur(T, S, start + 3, stop + 3, step);\n  };\n}\n\n// Given a target array T, a source array S, sets each value T[i] to the average\n// of {S[i - r], \u2026, S[i], \u2026, S[i + r]}, where r = \u230Aradius\u230B, start <= i < stop,\n// for each i, i + step, i + 2 * step, etc., and where S[j] is clamped between\n// S[start] (inclusive) and S[stop] (exclusive). If the given radius is not an\n// integer, S[i - r - 1] and S[i + r + 1] are added to the sum, each weighted\n// according to r - \u230Aradius\u230B.\nfunction blurf(radius) {\n  const radius0 = Math.floor(radius);\n  if (radius0 === radius) return bluri(radius);\n  const t = radius - radius0;\n  const w = 2 * radius + 1;\n  return (T, S, start, stop, step) => { // stop must be aligned!\n    if (!((stop -= step) >= start)) return; // inclusive stop\n    let sum = radius0 * S[start];\n    const s0 = step * radius0;\n    const s1 = s0 + step;\n    for (let i = start, j = start + s0; i < j; i += step) {\n      sum += S[Math.min(stop, i)];\n    }\n    for (let i = start, j = stop; i <= j; i += step) {\n      sum += S[Math.min(stop, i + s0)];\n      T[i] = (sum + t * (S[Math.max(start, i - s1)] + S[Math.min(stop, i + s1)])) / w;\n      sum -= S[Math.max(start, i - s0)];\n    }\n  };\n}\n\n// Like blurf, but optimized for integer radius.\nfunction bluri(radius) {\n  const w = 2 * radius + 1;\n  return (T, S, start, stop, step) => { // stop must be aligned!\n    if (!((stop -= step) >= start)) return; // inclusive stop\n    let sum = radius * S[start];\n    const s = step * radius;\n    for (let i = start, j = start + s; i < j; i += step) {\n      sum += S[Math.min(stop, i)];\n    }\n    for (let i = start, j = stop; i <= j; i += step) {\n      sum += S[Math.min(stop, i + s)];\n      T[i] = sum / w;\n      sum -= S[Math.max(start, i - s)];\n    }\n  };\n}\n", "export default function count(values, valueof) {\n  let count = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  }\n  return count;\n}\n", "function length(array) {\n  return array.length | 0;\n}\n\nfunction empty(length) {\n  return !(length > 0);\n}\n\nfunction arrayify(values) {\n  return typeof values !== \"object\" || \"length\" in values ? values : Array.from(values);\n}\n\nfunction reducer(reduce) {\n  return values => reduce(...values);\n}\n\nexport default function cross(...values) {\n  const reduce = typeof values[values.length - 1] === \"function\" && reducer(values.pop());\n  values = values.map(arrayify);\n  const lengths = values.map(length);\n  const j = values.length - 1;\n  const index = new Array(j + 1).fill(0);\n  const product = [];\n  if (j < 0 || lengths.some(empty)) return product;\n  while (true) {\n    product.push(index.map((j, i) => values[i][j]));\n    let i = j;\n    while (++index[i] === lengths[i]) {\n      if (i === 0) return reduce ? product.map(reduce) : product;\n      index[i--] = 0;\n    }\n  }\n}\n", "export default function cumsum(values, valueof) {\n  var sum = 0, index = 0;\n  return Float64Array.from(values, valueof === undefined\n    ? v => (sum += +v || 0)\n    : v => (sum += +valueof(v, index++, values) || 0));\n}", "export default function variance(values, valueof) {\n  let count = 0;\n  let delta;\n  let mean = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n  if (count > 1) return sum / (count - 1);\n}\n", "import variance from \"./variance.js\";\n\nexport default function deviation(values, valueof) {\n  const v = variance(values, valueof);\n  return v ? Math.sqrt(v) : v;\n}\n", "export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n", "// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n", "export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n", "export default function identity(x) {\n  return x;\n}\n", "import {InternMap} from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nfunction flatten(groups, keys) {\n  for (let i = 1, n = keys.length; i < n; ++i) {\n    groups = groups.flatMap(g => g.pop().map(([key, value]) => [...g, key, value]));\n  }\n  return groups;\n}\n\nexport function flatGroup(values, ...keys) {\n  return flatten(groups(values, ...keys), keys);\n}\n\nexport function flatRollup(values, reduce, ...keys) {\n  return flatten(rollups(values, reduce, ...keys), keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values, ...keys) {\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values, ...keys) {\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n", "export default function permute(source, keys) {\n  return Array.from(keys, key => source[key]);\n}\n", "import ascending from \"./ascending.js\";\nimport permute from \"./permute.js\";\n\nexport default function sort(values, ...F) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  values = Array.from(values);\n  let [f] = F;\n  if ((f && f.length !== 2) || F.length > 1) {\n    const index = Uint32Array.from(values, (d, i) => i);\n    if (F.length > 1) {\n      F = F.map(f => values.map(f));\n      index.sort((i, j) => {\n        for (const f of F) {\n          const c = ascendingDefined(f[i], f[j]);\n          if (c) return c;\n        }\n      });\n    } else {\n      f = values.map(f);\n      index.sort((i, j) => ascendingDefined(f[i], f[j]));\n    }\n    return permute(values, index);\n  }\n  return values.sort(compareDefined(f));\n}\n\nexport function compareDefined(compare = ascending) {\n  if (compare === ascending) return ascendingDefined;\n  if (typeof compare !== \"function\") throw new TypeError(\"compare is not a function\");\n  return (a, b) => {\n    const x = compare(a, b);\n    if (x || x === 0) return x;\n    return (compare(b, b) === 0) - (compare(a, a) === 0);\n  };\n}\n\nexport function ascendingDefined(a, b) {\n  return (a == null || !(a >= a)) - (b == null || !(b >= b)) || (a < b ? -1 : a > b ? 1 : 0);\n}\n", "import ascending from \"./ascending.js\";\nimport group, {rollup} from \"./group.js\";\nimport sort from \"./sort.js\";\n\nexport default function groupSort(values, reduce, key) {\n  return (reduce.length !== 2\n    ? sort(rollup(values, reduce, key), (([ak, av], [bk, bv]) => ascending(av, bv) || ascending(ak, bk)))\n    : sort(group(values, key), (([ak, av], [bk, bv]) => reduce(av, bv) || ascending(ak, bk))))\n    .map(([key]) => key);\n}\n", "var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n", "export default function constant(x) {\n  return () => x;\n}\n", "const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n", "import {tickIncrement} from \"./ticks.js\";\n\nexport default function nice(start, stop, count) {\n  let prestep;\n  while (true) {\n    const step = tickIncrement(start, stop, count);\n    if (step === prestep || step === 0 || !isFinite(step)) {\n      return [start, stop];\n    } else if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n    }\n    prestep = step;\n  }\n}\n", "import count from \"../count.js\";\n\nexport default function thresholdSturges(values) {\n  return Math.max(1, Math.ceil(Math.log(count(values)) / Math.LN2) + 1);\n}\n", "import {slice} from \"./array.js\";\nimport bisect from \"./bisect.js\";\nimport constant from \"./constant.js\";\nimport extent from \"./extent.js\";\nimport identity from \"./identity.js\";\nimport nice from \"./nice.js\";\nimport ticks, {tickIncrement} from \"./ticks.js\";\nimport sturges from \"./threshold/sturges.js\";\n\nexport default function bin() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    if (!Array.isArray(data)) data = Array.from(data);\n\n    var i,\n        n = data.length,\n        x,\n        step,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds, and nice the\n    // default domain accordingly.\n    if (!Array.isArray(tz)) {\n      const max = x1, tn = +tz;\n      if (domain === extent) [x0, x1] = nice(x0, x1, tn);\n      tz = ticks(x0, x1, tn);\n\n      // If the domain is aligned with the first tick (which it will by\n      // default), then we can use quantization rather than bisection to bin\n      // values, which is substantially faster.\n      if (tz[0] <= x0) step = tickIncrement(x0, x1, tn);\n\n      // If the last threshold is coincident with the domain\u2019s upper bound, the\n      // last bin will be zero-width. If the default domain is used, and this\n      // last threshold is coincident with the maximum input value, we can\n      // extend the niced upper bound by one tick to ensure uniform bin widths;\n      // otherwise, we simply remove the last threshold. Note that we don\u2019t\n      // coerce values or the domain to numbers, and thus must be careful to\n      // compare order (>=) rather than strict equality (===)!\n      if (tz[tz.length - 1] >= x1) {\n        if (max >= x1 && domain === extent) {\n          const step = tickIncrement(x0, x1, tn);\n          if (isFinite(step)) {\n            if (step > 0) {\n              x1 = (Math.floor(x1 / step) + 1) * step;\n            } else if (step < 0) {\n              x1 = (Math.ceil(x1 * -step) + 1) / -step;\n            }\n          }\n        } else {\n          tz.pop();\n        }\n      }\n    }\n\n    // Remove any thresholds outside the domain.\n    // Be careful not to mutate an array owned by the user!\n    var m = tz.length, a = 0, b = m;\n    while (tz[a] <= x0) ++a;\n    while (tz[b - 1] > x1) --b;\n    if (a || b < m) tz = tz.slice(a, b), m = b - a;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    if (isFinite(step)) {\n      if (step > 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            bins[Math.min(m, Math.floor((x - x0) / step))].push(data[i]);\n          }\n        }\n      } else if (step < 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            const j = Math.floor((x0 - x) * step);\n            bins[Math.min(m, j + (tz[j] <= x))].push(data[i]); // handle off-by-one due to rounding\n          }\n        }\n      }\n    } else {\n      for (i = 0; i < n; ++i) {\n        if ((x = values[i]) != null && x0 <= x && x <= x1) {\n          bins[bisect(tz, x, 0, m)].push(data[i]);\n        }\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : constant(Array.isArray(_) ? slice.call(_) : _), histogram) : threshold;\n  };\n\n  return histogram;\n}\n", "export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n", "export default function maxIndex(values, valueof) {\n  let max;\n  let maxIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  }\n  return maxIndex;\n}\n", "export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n", "export default function minIndex(values, valueof) {\n  let min;\n  let minIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  }\n  return minIndex;\n}\n", "import {ascendingDefined, compareDefined} from \"./sort.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = Infinity, compare) {\n  k = Math.floor(k);\n  left = Math.floor(Math.max(0, left));\n  right = Math.floor(Math.min(array.length - 1, right));\n\n  if (!(left <= k && k <= right)) return array;\n\n  compare = compare === undefined ? ascendingDefined : compareDefined(compare);\n\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n", "import ascending from \"./ascending.js\";\n\nexport default function greatest(values, compare = ascending) {\n  let max;\n  let defined = false;\n  if (compare.length === 1) {\n    let maxValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, maxValue) > 0\n          : ascending(value, value) === 0) {\n        max = element;\n        maxValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, max) > 0\n          : compare(value, value) === 0) {\n        max = value;\n        defined = true;\n      }\n    }\n  }\n  return max;\n}\n", "import max from \"./max.js\";\nimport maxIndex from \"./maxIndex.js\";\nimport min from \"./min.js\";\nimport minIndex from \"./minIndex.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\nimport {ascendingDefined} from \"./sort.js\";\nimport greatest from \"./greatest.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileIndex(values, p, valueof = number) {\n  if (isNaN(p = +p)) return;\n  numbers = Float64Array.from(values, (_, i) => number(valueof(values[i], i, values)));\n  if (p <= 0) return minIndex(numbers);\n  if (p >= 1) return maxIndex(numbers);\n  var numbers,\n      index = Uint32Array.from(values, (_, i) => i),\n      j = numbers.length - 1,\n      i = Math.floor(j * p);\n  quickselect(index, i, 0, j, (i, j) => ascendingDefined(numbers[i], numbers[j]));\n  i = greatest(index.subarray(0, i + 1), (i) => numbers[i]);\n  return i >= 0 ? i : -1;\n}\n", "import count from \"../count.js\";\nimport quantile from \"../quantile.js\";\n\nexport default function thresholdFreedmanDiaconis(values, min, max) {\n  const c = count(values), d = quantile(values, 0.75) - quantile(values, 0.25);\n  return c && d ? Math.ceil((max - min) / (2 * d * Math.pow(c, -1 / 3))) : 1;\n}\n", "import count from \"../count.js\";\nimport deviation from \"../deviation.js\";\n\nexport default function thresholdScott(values, min, max) {\n  const c = count(values), d = deviation(values);\n  return c && d ? Math.ceil((max - min) * Math.cbrt(c) / (3.49 * d)) : 1;\n}\n", "export default function mean(values, valueof) {\n  let count = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  }\n  if (count) return sum / count;\n}\n", "import quantile, {quantileIndex} from \"./quantile.js\";\n\nexport default function median(values, valueof) {\n  return quantile(values, 0.5, valueof);\n}\n\nexport function medianIndex(values, valueof) {\n  return quantileIndex(values, 0.5, valueof);\n}\n", "function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n", "import {InternMap} from \"internmap\";\n\nexport default function mode(values, valueof) {\n  const counts = new InternMap();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && value >= value) {\n        counts.set(value, (counts.get(value) || 0) + 1);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && value >= value) {\n        counts.set(value, (counts.get(value) || 0) + 1);\n      }\n    }\n  }\n  let modeValue;\n  let modeCount = 0;\n  for (const [value, count] of counts) {\n    if (count > modeCount) {\n      modeCount = count;\n      modeValue = value;\n    }\n  }\n  return modeValue;\n}\n", "export default function pairs(values, pairof = pair) {\n  const pairs = [];\n  let previous;\n  let first = false;\n  for (const value of values) {\n    if (first) pairs.push(pairof(previous, value));\n    previous = value;\n    first = true;\n  }\n  return pairs;\n}\n\nexport function pair(a, b) {\n  return [a, b];\n}\n", "export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n", "import ascending from \"./ascending.js\";\nimport {ascendingDefined, compareDefined} from \"./sort.js\";\n\nexport default function rank(values, valueof = ascending) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  let V = Array.from(values);\n  const R = new Float64Array(V.length);\n  if (valueof.length !== 2) V = V.map(valueof), valueof = ascending;\n  const compareIndex = (i, j) => valueof(V[i], V[j]);\n  let k, r;\n  values = Uint32Array.from(V, (_, i) => i);\n  // Risky chaining due to Safari 14 https://github.com/d3/d3-array/issues/123\n  values.sort(valueof === ascending ? (i, j) => ascendingDefined(V[i], V[j]) : compareDefined(compareIndex));\n  values.forEach((j, i) => {\n      const c = compareIndex(j, k === undefined ? j : k);\n      if (c >= 0) {\n        if (k === undefined || c > 0) k = j, r = i;\n        R[j] = r;\n      } else {\n        R[j] = NaN;\n      }\n    });\n  return R;\n}\n", "import ascending from \"./ascending.js\";\n\nexport default function least(values, compare = ascending) {\n  let min;\n  let defined = false;\n  if (compare.length === 1) {\n    let minValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, minValue) < 0\n          : ascending(value, value) === 0) {\n        min = element;\n        minValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, min) < 0\n          : compare(value, value) === 0) {\n        min = value;\n        defined = true;\n      }\n    }\n  }\n  return min;\n}\n", "import ascending from \"./ascending.js\";\nimport minIndex from \"./minIndex.js\";\n\nexport default function leastIndex(values, compare = ascending) {\n  if (compare.length === 1) return minIndex(values, compare);\n  let minValue;\n  let min = -1;\n  let index = -1;\n  for (const value of values) {\n    ++index;\n    if (min < 0\n        ? compare(value, value) === 0\n        : compare(value, minValue) < 0) {\n      minValue = value;\n      min = index;\n    }\n  }\n  return min;\n}\n", "import ascending from \"./ascending.js\";\nimport maxIndex from \"./maxIndex.js\";\n\nexport default function greatestIndex(values, compare = ascending) {\n  if (compare.length === 1) return maxIndex(values, compare);\n  let maxValue;\n  let max = -1;\n  let index = -1;\n  for (const value of values) {\n    ++index;\n    if (max < 0\n        ? compare(value, value) === 0\n        : compare(value, maxValue) > 0) {\n      maxValue = value;\n      max = index;\n    }\n  }\n  return max;\n}\n", "import leastIndex from \"./leastIndex.js\";\n\nexport default function scan(values, compare) {\n  const index = leastIndex(values, compare);\n  return index < 0 ? undefined : index;\n}\n", "export default shuffler(Math.random);\n\nexport function shuffler(random) {\n  return function shuffle(array, i0 = 0, i1 = array.length) {\n    let m = i1 - (i0 = +i0);\n    while (m) {\n      const i = random() * m-- | 0, t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n    return array;\n  };\n}\n", "export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n", "import min from \"./min.js\";\n\nexport default function transpose(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n", "import transpose from \"./transpose.js\";\n\nexport default function zip() {\n  return transpose(arguments);\n}\n", "export default function every(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  let index = -1;\n  for (const value of values) {\n    if (!test(value, ++index, values)) {\n      return false;\n    }\n  }\n  return true;\n}\n", "export default function some(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  let index = -1;\n  for (const value of values) {\n    if (test(value, ++index, values)) {\n      return true;\n    }\n  }\n  return false;\n}\n", "export default function filter(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  const array = [];\n  let index = -1;\n  for (const value of values) {\n    if (test(value, ++index, values)) {\n      array.push(value);\n    }\n  }\n  return array;\n}\n", "export default function map(values, mapper) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  if (typeof mapper !== \"function\") throw new TypeError(\"mapper is not a function\");\n  return Array.from(values, (value, index) => mapper(value, index, values));\n}\n", "export default function reduce(values, reducer, value) {\n  if (typeof reducer !== \"function\") throw new TypeError(\"reducer is not a function\");\n  const iterator = values[Symbol.iterator]();\n  let done, next, index = -1;\n  if (arguments.length < 3) {\n    ({done, value} = iterator.next());\n    if (done) return;\n    ++index;\n  }\n  while (({done, value: next} = iterator.next()), !done) {\n    value = reducer(value, next, ++index, values);\n  }\n  return value;\n}\n", "export default function reverse(values) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  return Array.from(values).reverse();\n}\n", "import {InternSet} from \"internmap\";\n\nexport default function difference(values, ...others) {\n  values = new InternSet(values);\n  for (const other of others) {\n    for (const value of other) {\n      values.delete(value);\n    }\n  }\n  return values;\n}\n", "import {InternSet} from \"internmap\";\n\nexport default function disjoint(values, other) {\n  const iterator = other[Symbol.iterator](), set = new InternSet();\n  for (const v of values) {\n    if (set.has(v)) return false;\n    let value, done;\n    while (({value, done} = iterator.next())) {\n      if (done) break;\n      if (Object.is(v, value)) return false;\n      set.add(value);\n    }\n  }\n  return true;\n}\n", "import {InternSet} from \"internmap\";\n\nexport default function intersection(values, ...others) {\n  values = new InternSet(values);\n  others = others.map(set);\n  out: for (const value of values) {\n    for (const other of others) {\n      if (!other.has(value)) {\n        values.delete(value);\n        continue out;\n      }\n    }\n  }\n  return values;\n}\n\nfunction set(values) {\n  return values instanceof InternSet ? values : new InternSet(values);\n}\n", "export default function superset(values, other) {\n  const iterator = values[Symbol.iterator](), set = new Set();\n  for (const o of other) {\n    const io = intern(o);\n    if (set.has(io)) continue;\n    let value, done;\n    while (({value, done} = iterator.next())) {\n      if (done) return false;\n      const ivalue = intern(value);\n      set.add(ivalue);\n      if (Object.is(io, ivalue)) break;\n    }\n  }\n  return true;\n}\n\nfunction intern(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n", "import superset from \"./superset.js\";\n\nexport default function subset(values, other) {\n  return superset(other, values);\n}\n", "import {InternSet} from \"internmap\";\n\nexport default function union(...others) {\n  const set = new InternSet();\n  for (const other of others) {\n    for (const o of other) {\n      set.add(o);\n    }\n  }\n  return set;\n}\n", "export {default as bisect, bisectRight, bisectLeft, bisectCenter} from \"./bisect.js\";\nexport {default as ascending} from \"./ascending.js\";\nexport {default as bisector} from \"./bisector.js\";\nexport {blur, blur2, blurImage} from \"./blur.js\";\nexport {default as count} from \"./count.js\";\nexport {default as cross} from \"./cross.js\";\nexport {default as cumsum} from \"./cumsum.js\";\nexport {default as descending} from \"./descending.js\";\nexport {default as deviation} from \"./deviation.js\";\nexport {default as extent} from \"./extent.js\";\nexport {Adder, fsum, fcumsum} from \"./fsum.js\";\nexport {default as group, flatGroup, flatRollup, groups, index, indexes, rollup, rollups} from \"./group.js\";\nexport {default as groupSort} from \"./groupSort.js\";\nexport {default as bin, default as histogram} from \"./bin.js\"; // Deprecated; use bin.\nexport {default as thresholdFreedmanDiaconis} from \"./threshold/freedmanDiaconis.js\";\nexport {default as thresholdScott} from \"./threshold/scott.js\";\nexport {default as thresholdSturges} from \"./threshold/sturges.js\";\nexport {default as max} from \"./max.js\";\nexport {default as maxIndex} from \"./maxIndex.js\";\nexport {default as mean} from \"./mean.js\";\nexport {default as median, medianIndex} from \"./median.js\";\nexport {default as merge} from \"./merge.js\";\nexport {default as min} from \"./min.js\";\nexport {default as minIndex} from \"./minIndex.js\";\nexport {default as mode} from \"./mode.js\";\nexport {default as nice} from \"./nice.js\";\nexport {default as pairs} from \"./pairs.js\";\nexport {default as permute} from \"./permute.js\";\nexport {default as quantile, quantileIndex, quantileSorted} from \"./quantile.js\";\nexport {default as quickselect} from \"./quickselect.js\";\nexport {default as range} from \"./range.js\";\nexport {default as rank} from \"./rank.js\";\nexport {default as least} from \"./least.js\";\nexport {default as leastIndex} from \"./leastIndex.js\";\nexport {default as greatest} from \"./greatest.js\";\nexport {default as greatestIndex} from \"./greatestIndex.js\";\nexport {default as scan} from \"./scan.js\"; // Deprecated; use leastIndex.\nexport {default as shuffle, shuffler} from \"./shuffle.js\";\nexport {default as sum} from \"./sum.js\";\nexport {default as ticks, tickIncrement, tickStep} from \"./ticks.js\";\nexport {default as transpose} from \"./transpose.js\";\nexport {default as variance} from \"./variance.js\";\nexport {default as zip} from \"./zip.js\";\nexport {default as every} from \"./every.js\";\nexport {default as some} from \"./some.js\";\nexport {default as filter} from \"./filter.js\";\nexport {default as map} from \"./map.js\";\nexport {default as reduce} from \"./reduce.js\";\nexport {default as reverse} from \"./reverse.js\";\nexport {default as sort} from \"./sort.js\";\nexport {default as difference} from \"./difference.js\";\nexport {default as disjoint} from \"./disjoint.js\";\nexport {default as intersection} from \"./intersection.js\";\nexport {default as subset} from \"./subset.js\";\nexport {default as superset} from \"./superset.js\";\nexport {default as union} from \"./union.js\";\nexport {InternMap, InternSet} from \"internmap\";\n", "// https://d3js.org/d3-array/ v1.2.4 Copyright 2018 Mike Bostock\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\ntypeof define === 'function' && define.amd ? define(['exports'], factory) :\n(factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nfunction bisector(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n\nvar ascendingBisect = bisector(ascending);\nvar bisectRight = ascendingBisect.right;\nvar bisectLeft = ascendingBisect.left;\n\nfunction pairs(array, f) {\n  if (f == null) f = pair;\n  var i = 0, n = array.length - 1, p = array[0], pairs = new Array(n < 0 ? 0 : n);\n  while (i < n) pairs[i] = f(p, p = array[++i]);\n  return pairs;\n}\n\nfunction pair(a, b) {\n  return [a, b];\n}\n\nfunction cross(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}\n\nfunction descending(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n\nfunction number(x) {\n  return x === null ? NaN : +x;\n}\n\nfunction variance(values, valueof) {\n  var n = values.length,\n      m = 0,\n      i = -1,\n      mean = 0,\n      value,\n      delta,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  if (m > 1) return sum / (m - 1);\n}\n\nfunction deviation(array, f) {\n  var v = variance(array, f);\n  return v ? Math.sqrt(v) : v;\n}\n\nfunction extent(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return [min, max];\n}\n\nvar array = Array.prototype;\n\nvar slice = array.slice;\nvar map = array.map;\n\nfunction constant(x) {\n  return function() {\n    return x;\n  };\n}\n\nfunction identity(x) {\n  return x;\n}\n\nfunction range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nfunction tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nfunction tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n\nfunction sturges(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n\nfunction histogram() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    var i,\n        n = data.length,\n        x,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      tz = tickStep(x0, x1, tz);\n      tz = range(Math.ceil(x0 / tz) * tz, x1, tz); // exclusive\n    }\n\n    // Remove any thresholds outside the domain.\n    var m = tz.length;\n    while (tz[0] <= x0) tz.shift(), --m;\n    while (tz[m - 1] > x1) tz.pop(), --m;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    for (i = 0; i < n; ++i) {\n      x = values[i];\n      if (x0 <= x && x <= x1) {\n        bins[bisectRight(tz, x, 0, m)].push(data[i]);\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n  };\n\n  return histogram;\n}\n\nfunction quantile(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nfunction freedmanDiaconis(values, min, max) {\n  values = map.call(values, number).sort(ascending);\n  return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n}\n\nfunction scott(values, min, max) {\n  return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n}\n\nfunction max(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return max;\n}\n\nfunction mean(values, valueof) {\n  var n = values.length,\n      m = n,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;\n      else --m;\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;\n      else --m;\n    }\n  }\n\n  if (m) return sum / m;\n}\n\nfunction median(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      numbers = [];\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  return quantile(numbers.sort(ascending), 0.5);\n}\n\nfunction merge(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n\nfunction min(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  return min;\n}\n\nfunction permute(array, indexes) {\n  var i = indexes.length, permutes = new Array(i);\n  while (i--) permutes[i] = array[indexes[i]];\n  return permutes;\n}\n\nfunction scan(values, compare) {\n  if (!(n = values.length)) return;\n  var n,\n      i = 0,\n      j = 0,\n      xi,\n      xj = values[j];\n\n  if (compare == null) compare = ascending;\n\n  while (++i < n) {\n    if (compare(xi = values[i], xj) < 0 || compare(xj, xj) !== 0) {\n      xj = xi, j = i;\n    }\n  }\n\n  if (compare(xj, xj) === 0) return j;\n}\n\nfunction shuffle(array, i0, i1) {\n  var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m + i0];\n    array[m + i0] = array[i + i0];\n    array[i + i0] = t;\n  }\n\n  return array;\n}\n\nfunction sum(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n}\n\nfunction transpose(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n\nfunction zip() {\n  return transpose(arguments);\n}\n\nexports.bisect = bisectRight;\nexports.bisectRight = bisectRight;\nexports.bisectLeft = bisectLeft;\nexports.ascending = ascending;\nexports.bisector = bisector;\nexports.cross = cross;\nexports.descending = descending;\nexports.deviation = deviation;\nexports.extent = extent;\nexports.histogram = histogram;\nexports.thresholdFreedmanDiaconis = freedmanDiaconis;\nexports.thresholdScott = scott;\nexports.thresholdSturges = sturges;\nexports.max = max;\nexports.mean = mean;\nexports.median = median;\nexports.merge = merge;\nexports.min = min;\nexports.pairs = pairs;\nexports.permute = permute;\nexports.quantile = quantile;\nexports.range = range;\nexports.scan = scan;\nexports.shuffle = shuffle;\nexports.sum = sum;\nexports.ticks = ticks;\nexports.tickIncrement = tickIncrement;\nexports.tickStep = tickStep;\nexports.transpose = transpose;\nexports.variance = variance;\nexports.zip = zip;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n", "// https://d3js.org/d3-collection/ v1.0.7 Copyright 2018 Mike Bostock\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\ntypeof define === 'function' && define.amd ? define(['exports'], factory) :\n(factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nfunction nest() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map$$1, depth) {\n    if (++depth > keys.length) return map$$1;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map$$1.entries();\n    else array = [], map$$1.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map$$1, key, value) {\n  map$$1.set(key, value);\n}\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it\u2019s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nfunction keys(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n}\n\nfunction values(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n}\n\nfunction entries(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n}\n\nexports.nest = nest;\nexports.set = set;\nexports.map = map;\nexports.keys = keys;\nexports.values = values;\nexports.entries = entries;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n", "// https://d3js.org/d3-color/ v1.4.1 Copyright 2020 Mike Bostock\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\ntypeof define === 'function' && define.amd ? define(['exports'], factory) :\n(global = global || self, factory(global.d3 = global.d3 || {}));\n}(this, function (exports) { 'use strict';\n\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n\nfunction Color() {}\n\nvar darker = 0.7;\nvar brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n\nvar deg2rad = Math.PI / 180;\nvar rad2deg = 180 / Math.PI;\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nfunction gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nfunction lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nfunction Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nfunction lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nfunction hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * deg2rad;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nfunction cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n\nexports.color = color;\nexports.cubehelix = cubehelix;\nexports.gray = gray;\nexports.hcl = hcl;\nexports.hsl = hsl;\nexports.lab = lab;\nexports.lch = lch;\nexports.rgb = rgb;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n}));\n", "// https://d3js.org/d3-interpolate/ v1.4.0 Copyright 2019 Mike Bostock\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-color')) :\ntypeof define === 'function' && define.amd ? define(['exports', 'd3-color'], factory) :\n(global = global || self, factory(global.d3 = global.d3 || {}, global.d3));\n}(this, function (exports, d3Color) { 'use strict';\n\nfunction basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nfunction basis$1(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n\nfunction basisClosed(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n\nfunction constant(x) {\n  return function() {\n    return x;\n  };\n}\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n\nvar rgb = (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = d3Color.rgb(start)).r, (end = d3Color.rgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = d3Color.rgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nvar rgbBasis = rgbSpline(basis$1);\nvar rgbBasisClosed = rgbSpline(basisClosed);\n\nfunction numberArray(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nfunction isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n\nfunction array(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nfunction genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n\nfunction date(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n\nfunction number(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n\nfunction object(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nfunction string(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n\nfunction value(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = d3Color.color(b)) ? (b = c, rgb) : string)\n      : b instanceof d3Color.color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n\nfunction discrete(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nfunction hue$1(a, b) {\n  var i = hue(+a, +b);\n  return function(t) {\n    var x = i(t);\n    return x - 360 * Math.floor(x / 360);\n  };\n}\n\nfunction round(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n\nvar degrees = 180 / Math.PI;\n\nvar identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nfunction decompose(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nfunction parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nfunction parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n\nvar rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nfunction zoom(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0 \u2245 u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    };\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    };\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = d3Color.hsl(start)).h, (end = d3Color.hsl(end)).h),\n        s = nogamma(start.s, end.s),\n        l = nogamma(start.l, end.l),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nvar hsl$1 = hsl(hue);\nvar hslLong = hsl(nogamma);\n\nfunction lab(start, end) {\n  var l = nogamma((start = d3Color.lab(start)).l, (end = d3Color.lab(end)).l),\n      a = nogamma(start.a, end.a),\n      b = nogamma(start.b, end.b),\n      opacity = nogamma(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = d3Color.hcl(start)).h, (end = d3Color.hcl(end)).h),\n        c = nogamma(start.c, end.c),\n        l = nogamma(start.l, end.l),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nvar hcl$1 = hcl(hue);\nvar hclLong = hcl(nogamma);\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = d3Color.cubehelix(start)).h, (end = d3Color.cubehelix(end)).h),\n          s = nogamma(start.s, end.s),\n          l = nogamma(start.l, end.l),\n          opacity = nogamma(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nvar cubehelix$1 = cubehelix(hue);\nvar cubehelixLong = cubehelix(nogamma);\n\nfunction piecewise(interpolate, values) {\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n\nfunction quantize(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n\nexports.interpolate = value;\nexports.interpolateArray = array;\nexports.interpolateBasis = basis$1;\nexports.interpolateBasisClosed = basisClosed;\nexports.interpolateCubehelix = cubehelix$1;\nexports.interpolateCubehelixLong = cubehelixLong;\nexports.interpolateDate = date;\nexports.interpolateDiscrete = discrete;\nexports.interpolateHcl = hcl$1;\nexports.interpolateHclLong = hclLong;\nexports.interpolateHsl = hsl$1;\nexports.interpolateHslLong = hslLong;\nexports.interpolateHue = hue$1;\nexports.interpolateLab = lab;\nexports.interpolateNumber = number;\nexports.interpolateNumberArray = numberArray;\nexports.interpolateObject = object;\nexports.interpolateRgb = rgb;\nexports.interpolateRgbBasis = rgbBasis;\nexports.interpolateRgbBasisClosed = rgbBasisClosed;\nexports.interpolateRound = round;\nexports.interpolateString = string;\nexports.interpolateTransformCss = interpolateTransformCss;\nexports.interpolateTransformSvg = interpolateTransformSvg;\nexports.interpolateZoom = zoom;\nexports.piecewise = piecewise;\nexports.quantize = quantize;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n}));\n", "// https://d3js.org/d3-format/ Version 1.0.2. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, function (exports) { 'use strict';\n\n  // Computes the decimal coefficient and exponent of the specified number x with\n  // significant digits p, where x is positive and p is in [1, 21] or undefined.\n  // For example, formatDecimal(1.23) returns [\"123\", 0].\n  function formatDecimal(x, p) {\n    if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, \u00B1Infinity\n    var i, coefficient = x.slice(0, i);\n\n    // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n    // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n    return [\n      coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n      +x.slice(i + 1)\n    ];\n  }\n\n  function exponent(x) {\n    return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n  }\n\n  function formatGroup(grouping, thousands) {\n    return function(value, width) {\n      var i = value.length,\n          t = [],\n          j = 0,\n          g = grouping[0],\n          length = 0;\n\n      while (i > 0 && g > 0) {\n        if (length + g + 1 > width) g = Math.max(1, width - length);\n        t.push(value.substring(i -= g, i + g));\n        if ((length += g + 1) > width) break;\n        g = grouping[j = (j + 1) % grouping.length];\n      }\n\n      return t.reverse().join(thousands);\n    };\n  }\n\n  function formatDefault(x, p) {\n    x = x.toPrecision(p);\n\n    out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n      switch (x[i]) {\n        case \".\": i0 = i1 = i; break;\n        case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n        case \"e\": break out;\n        default: if (i0 > 0) i0 = 0; break;\n      }\n    }\n\n    return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n  }\n\n  var prefixExponent;\n\n  function formatPrefixAuto(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d) return x + \"\";\n    var coefficient = d[0],\n        exponent = d[1],\n        i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n        n = coefficient.length;\n    return i === n ? coefficient\n        : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n        : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n        : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n  }\n\n  function formatRounded(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d) return x + \"\";\n    var coefficient = d[0],\n        exponent = d[1];\n    return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n        : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n        : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n  }\n\n  var formatTypes = {\n    \"\": formatDefault,\n    \"%\": function(x, p) { return (x * 100).toFixed(p); },\n    \"b\": function(x) { return Math.round(x).toString(2); },\n    \"c\": function(x) { return x + \"\"; },\n    \"d\": function(x) { return Math.round(x).toString(10); },\n    \"e\": function(x, p) { return x.toExponential(p); },\n    \"f\": function(x, p) { return x.toFixed(p); },\n    \"g\": function(x, p) { return x.toPrecision(p); },\n    \"o\": function(x) { return Math.round(x).toString(8); },\n    \"p\": function(x, p) { return formatRounded(x * 100, p); },\n    \"r\": formatRounded,\n    \"s\": formatPrefixAuto,\n    \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n    \"x\": function(x) { return Math.round(x).toString(16); }\n  };\n\n  // [[fill]align][sign][symbol][0][width][,][.precision][type]\n  var re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\n  function formatSpecifier(specifier) {\n    return new FormatSpecifier(specifier);\n  }\n\n  function FormatSpecifier(specifier) {\n    if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n    var match,\n        fill = match[1] || \" \",\n        align = match[2] || \">\",\n        sign = match[3] || \"-\",\n        symbol = match[4] || \"\",\n        zero = !!match[5],\n        width = match[6] && +match[6],\n        comma = !!match[7],\n        precision = match[8] && +match[8].slice(1),\n        type = match[9] || \"\";\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // Map invalid types to the default format.\n    else if (!formatTypes[type]) type = \"\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    this.fill = fill;\n    this.align = align;\n    this.sign = sign;\n    this.symbol = symbol;\n    this.zero = zero;\n    this.width = width;\n    this.comma = comma;\n    this.precision = precision;\n    this.type = type;\n  }\n\n  FormatSpecifier.prototype.toString = function() {\n    return this.fill\n        + this.align\n        + this.sign\n        + this.symbol\n        + (this.zero ? \"0\" : \"\")\n        + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n        + (this.comma ? \",\" : \"\")\n        + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n        + this.type;\n  };\n\n  var prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\u00B5\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\n  function identity(x) {\n    return x;\n  }\n\n  function formatLocale(locale) {\n    var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n        currency = locale.currency,\n        decimal = locale.decimal;\n\n    function newFormat(specifier) {\n      specifier = formatSpecifier(specifier);\n\n      var fill = specifier.fill,\n          align = specifier.align,\n          sign = specifier.sign,\n          symbol = specifier.symbol,\n          zero = specifier.zero,\n          width = specifier.width,\n          comma = specifier.comma,\n          precision = specifier.precision,\n          type = specifier.type;\n\n      // Compute the prefix and suffix.\n      // For SI-prefix, the suffix is lazily computed.\n      var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n          suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? \"%\" : \"\";\n\n      // What format function should we use?\n      // Is this an integer type?\n      // Can this type generate exponential notation?\n      var formatType = formatTypes[type],\n          maybeSuffix = !type || /[defgprs%]/.test(type);\n\n      // Set the default precision if not specified,\n      // or clamp the specified precision to the supported range.\n      // For significant precision, it must be in [1, 21].\n      // For fixed precision, it must be in [0, 20].\n      precision = precision == null ? (type ? 6 : 12)\n          : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n          : Math.max(0, Math.min(20, precision));\n\n      function format(value) {\n        var valuePrefix = prefix,\n            valueSuffix = suffix,\n            i, n, c;\n\n        if (type === \"c\") {\n          valueSuffix = formatType(value) + valueSuffix;\n          value = \"\";\n        } else {\n          value = +value;\n\n          // Convert negative to positive, and compute the prefix.\n          // Note that -0 is not less than 0, but 1 / -0 is!\n          var valueNegative = (value < 0 || 1 / value < 0) && (value *= -1, true);\n\n          // Perform the initial formatting.\n          value = formatType(value, precision);\n\n          // If the original value was negative, it may be rounded to zero during\n          // formatting; treat this as (positive) zero.\n          if (valueNegative) {\n            i = -1, n = value.length;\n            valueNegative = false;\n            while (++i < n) {\n              if (c = value.charCodeAt(i), (48 < c && c < 58)\n                  || (type === \"x\" && 96 < c && c < 103)\n                  || (type === \"X\" && 64 < c && c < 71)) {\n                valueNegative = true;\n                break;\n              }\n            }\n          }\n\n          // Compute the prefix and suffix.\n          valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n          valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n          // Break the formatted value into the integer \u201Cvalue\u201D part that can be\n          // grouped, and fractional or exponential \u201Csuffix\u201D part that is not.\n          if (maybeSuffix) {\n            i = -1, n = value.length;\n            while (++i < n) {\n              if (c = value.charCodeAt(i), 48 > c || c > 57) {\n                valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n                value = value.slice(0, i);\n                break;\n              }\n            }\n          }\n        }\n\n        // If the fill character is not \"0\", grouping is applied before padding.\n        if (comma && !zero) value = group(value, Infinity);\n\n        // Compute the padding.\n        var length = valuePrefix.length + value.length + valueSuffix.length,\n            padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n        // If the fill character is \"0\", grouping is applied after padding.\n        if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n        // Reconstruct the final output based on the desired alignment.\n        switch (align) {\n          case \"<\": return valuePrefix + value + valueSuffix + padding;\n          case \"=\": return valuePrefix + padding + value + valueSuffix;\n          case \"^\": return padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n        }\n        return padding + valuePrefix + value + valueSuffix;\n      }\n\n      format.toString = function() {\n        return specifier + \"\";\n      };\n\n      return format;\n    }\n\n    function formatPrefix(specifier, value) {\n      var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n          e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n          k = Math.pow(10, -e),\n          prefix = prefixes[8 + e / 3];\n      return function(value) {\n        return f(k * value) + prefix;\n      };\n    }\n\n    return {\n      format: newFormat,\n      formatPrefix: formatPrefix\n    };\n  }\n\n  var locale;\n  defaultLocale({\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [3],\n    currency: [\"$\", \"\"]\n  });\n\n  function defaultLocale(definition) {\n    locale = formatLocale(definition);\n    exports.format = locale.format;\n    exports.formatPrefix = locale.formatPrefix;\n    return locale;\n  }\n\n  function precisionFixed(step) {\n    return Math.max(0, -exponent(Math.abs(step)));\n  }\n\n  function precisionPrefix(step, value) {\n    return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n  }\n\n  function precisionRound(step, max) {\n    step = Math.abs(step), max = Math.abs(max) - step;\n    return Math.max(0, exponent(max) - exponent(step)) + 1;\n  }\n\n  exports.formatDefaultLocale = defaultLocale;\n  exports.formatLocale = formatLocale;\n  exports.formatSpecifier = formatSpecifier;\n  exports.precisionFixed = precisionFixed;\n  exports.precisionPrefix = precisionPrefix;\n  exports.precisionRound = precisionRound;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));", "// https://d3js.org/d3-time/ v1.1.0 Copyright 2019 Mike Bostock\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\ntypeof define === 'function' && define.amd ? define(['exports'], factory) :\n(global = global || self, factory(global.d3 = global.d3 || {}));\n}(this, function (exports) { 'use strict';\n\nvar t0 = new Date,\n    t1 = new Date;\n\nfunction newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n\nvar millisecond = newInterval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return newInterval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\nvar milliseconds = millisecond.range;\n\nvar durationSecond = 1e3;\nvar durationMinute = 6e4;\nvar durationHour = 36e5;\nvar durationDay = 864e5;\nvar durationWeek = 6048e5;\n\nvar second = newInterval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\nvar seconds = second.range;\n\nvar minute = newInterval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\nvar minutes = minute.range;\n\nvar hour = newInterval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\nvar hours = hour.range;\n\nvar day = newInterval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\nvar days = day.range;\n\nfunction weekday(i) {\n  return newInterval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\n\nvar sundays = sunday.range;\nvar mondays = monday.range;\nvar tuesdays = tuesday.range;\nvar wednesdays = wednesday.range;\nvar thursdays = thursday.range;\nvar fridays = friday.range;\nvar saturdays = saturday.range;\n\nvar month = newInterval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\nvar months = month.range;\n\nvar year = newInterval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\nvar years = year.range;\n\nvar utcMinute = newInterval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\nvar utcMinutes = utcMinute.range;\n\nvar utcHour = newInterval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\nvar utcHours = utcHour.range;\n\nvar utcDay = newInterval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\nvar utcDays = utcDay.range;\n\nfunction utcWeekday(i) {\n  return newInterval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nvar utcSunday = utcWeekday(0);\nvar utcMonday = utcWeekday(1);\nvar utcTuesday = utcWeekday(2);\nvar utcWednesday = utcWeekday(3);\nvar utcThursday = utcWeekday(4);\nvar utcFriday = utcWeekday(5);\nvar utcSaturday = utcWeekday(6);\n\nvar utcSundays = utcSunday.range;\nvar utcMondays = utcMonday.range;\nvar utcTuesdays = utcTuesday.range;\nvar utcWednesdays = utcWednesday.range;\nvar utcThursdays = utcThursday.range;\nvar utcFridays = utcFriday.range;\nvar utcSaturdays = utcSaturday.range;\n\nvar utcMonth = newInterval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\nvar utcMonths = utcMonth.range;\n\nvar utcYear = newInterval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\nvar utcYears = utcYear.range;\n\nexports.timeDay = day;\nexports.timeDays = days;\nexports.timeFriday = friday;\nexports.timeFridays = fridays;\nexports.timeHour = hour;\nexports.timeHours = hours;\nexports.timeInterval = newInterval;\nexports.timeMillisecond = millisecond;\nexports.timeMilliseconds = milliseconds;\nexports.timeMinute = minute;\nexports.timeMinutes = minutes;\nexports.timeMonday = monday;\nexports.timeMondays = mondays;\nexports.timeMonth = month;\nexports.timeMonths = months;\nexports.timeSaturday = saturday;\nexports.timeSaturdays = saturdays;\nexports.timeSecond = second;\nexports.timeSeconds = seconds;\nexports.timeSunday = sunday;\nexports.timeSundays = sundays;\nexports.timeThursday = thursday;\nexports.timeThursdays = thursdays;\nexports.timeTuesday = tuesday;\nexports.timeTuesdays = tuesdays;\nexports.timeWednesday = wednesday;\nexports.timeWednesdays = wednesdays;\nexports.timeWeek = sunday;\nexports.timeWeeks = sundays;\nexports.timeYear = year;\nexports.timeYears = years;\nexports.utcDay = utcDay;\nexports.utcDays = utcDays;\nexports.utcFriday = utcFriday;\nexports.utcFridays = utcFridays;\nexports.utcHour = utcHour;\nexports.utcHours = utcHours;\nexports.utcMillisecond = millisecond;\nexports.utcMilliseconds = milliseconds;\nexports.utcMinute = utcMinute;\nexports.utcMinutes = utcMinutes;\nexports.utcMonday = utcMonday;\nexports.utcMondays = utcMondays;\nexports.utcMonth = utcMonth;\nexports.utcMonths = utcMonths;\nexports.utcSaturday = utcSaturday;\nexports.utcSaturdays = utcSaturdays;\nexports.utcSecond = second;\nexports.utcSeconds = seconds;\nexports.utcSunday = utcSunday;\nexports.utcSundays = utcSundays;\nexports.utcThursday = utcThursday;\nexports.utcThursdays = utcThursdays;\nexports.utcTuesday = utcTuesday;\nexports.utcTuesdays = utcTuesdays;\nexports.utcWednesday = utcWednesday;\nexports.utcWednesdays = utcWednesdays;\nexports.utcWeek = utcSunday;\nexports.utcWeeks = utcSundays;\nexports.utcYear = utcYear;\nexports.utcYears = utcYears;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n}));\n", "// https://d3js.org/d3-time-format/ v2.3.0 Copyright 2020 Mike Bostock\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-time')) :\ntypeof define === 'function' && define.amd ? define(['exports', 'd3-time'], factory) :\n(global = global || self, factory(global.d3 = global.d3 || {}, global.d3));\n}(this, function (exports, d3Time) { 'use strict';\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nfunction formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? d3Time.utcMonday.ceil(week) : d3Time.utcMonday(week);\n          week = d3Time.utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? d3Time.timeMonday.ceil(week) : d3Time.timeMonday(week);\n          week = d3Time.timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + d3Time.timeDay.count(d3Time.timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(d3Time.timeSunday.count(d3Time.timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? d3Time.timeThursday(d) : d3Time.timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(d3Time.timeThursday.count(d3Time.timeYear(d), d) + (d3Time.timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(d3Time.timeMonday.count(d3Time.timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? d3Time.timeThursday(d) : d3Time.timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + d3Time.utcDay.count(d3Time.utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(d3Time.utcSunday.count(d3Time.utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? d3Time.utcThursday(d) : d3Time.utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d3Time.utcThursday.count(d3Time.utcYear(d), d) + (d3Time.utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(d3Time.utcMonday.count(d3Time.utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? d3Time.utcThursday(d) : d3Time.utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n\nvar locale;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  exports.timeFormat = locale.format;\n  exports.timeParse = locale.parse;\n  exports.utcFormat = locale.utcFormat;\n  exports.utcParse = locale.utcParse;\n  return locale;\n}\n\nvar isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : exports.utcFormat(isoSpecifier);\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : exports.utcParse(isoSpecifier);\n\nexports.isoFormat = formatIso;\nexports.isoParse = parseIso;\nexports.timeFormatDefaultLocale = defaultLocale;\nexports.timeFormatLocale = formatLocale;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n}));\n", "// https://d3js.org/d3-scale/ Version 1.0.3. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-array'), require('d3-collection'), require('d3-interpolate'), require('d3-format'), require('d3-time'), require('d3-time-format'), require('d3-color')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'd3-array', 'd3-collection', 'd3-interpolate', 'd3-format', 'd3-time', 'd3-time-format', 'd3-color'], factory) :\n  (factory((global.d3 = global.d3 || {}),global.d3,global.d3,global.d3,global.d3,global.d3,global.d3,global.d3));\n}(this, function (exports,d3Array,d3Collection,d3Interpolate,d3Format,d3Time,d3TimeFormat,d3Color) { 'use strict';\n\n  var array = Array.prototype;\n\n  var map$1 = array.map;\n  var slice = array.slice;\n\n  var implicit = {name: \"implicit\"};\n\n  function ordinal(range) {\n    var index = d3Collection.map(),\n        domain = [],\n        unknown = implicit;\n\n    range = range == null ? [] : slice.call(range);\n\n    function scale(d) {\n      var key = d + \"\", i = index.get(key);\n      if (!i) {\n        if (unknown !== implicit) return unknown;\n        index.set(key, i = domain.push(d));\n      }\n      return range[(i - 1) % range.length];\n    }\n\n    scale.domain = function(_) {\n      if (!arguments.length) return domain.slice();\n      domain = [], index = d3Collection.map();\n      var i = -1, n = _.length, d, key;\n      while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n      return scale;\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice.call(_), scale) : range.slice();\n    };\n\n    scale.unknown = function(_) {\n      return arguments.length ? (unknown = _, scale) : unknown;\n    };\n\n    scale.copy = function() {\n      return ordinal()\n          .domain(domain)\n          .range(range)\n          .unknown(unknown);\n    };\n\n    return scale;\n  }\n\n  function band() {\n    var scale = ordinal().unknown(undefined),\n        domain = scale.domain,\n        ordinalRange = scale.range,\n        range = [0, 1],\n        step,\n        bandwidth,\n        round = false,\n        paddingInner = 0,\n        paddingOuter = 0,\n        align = 0.5;\n\n    delete scale.unknown;\n\n    function rescale() {\n      var n = domain().length,\n          reverse = range[1] < range[0],\n          start = range[reverse - 0],\n          stop = range[1 - reverse];\n      step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n      if (round) step = Math.floor(step);\n      start += (stop - start - step * (n - paddingInner)) * align;\n      bandwidth = step * (1 - paddingInner);\n      if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n      var values = d3Array.range(n).map(function(i) { return start + step * i; });\n      return ordinalRange(reverse ? values.reverse() : values);\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain(_), rescale()) : domain();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n    };\n\n    scale.rangeRound = function(_) {\n      return range = [+_[0], +_[1]], round = true, rescale();\n    };\n\n    scale.bandwidth = function() {\n      return bandwidth;\n    };\n\n    scale.step = function() {\n      return step;\n    };\n\n    scale.round = function(_) {\n      return arguments.length ? (round = !!_, rescale()) : round;\n    };\n\n    scale.padding = function(_) {\n      return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n    };\n\n    scale.paddingInner = function(_) {\n      return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n    };\n\n    scale.paddingOuter = function(_) {\n      return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n    };\n\n    scale.align = function(_) {\n      return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n    };\n\n    scale.copy = function() {\n      return band()\n          .domain(domain())\n          .range(range)\n          .round(round)\n          .paddingInner(paddingInner)\n          .paddingOuter(paddingOuter)\n          .align(align);\n    };\n\n    return rescale();\n  }\n\n  function pointish(scale) {\n    var copy = scale.copy;\n\n    scale.padding = scale.paddingOuter;\n    delete scale.paddingInner;\n    delete scale.paddingOuter;\n\n    scale.copy = function() {\n      return pointish(copy());\n    };\n\n    return scale;\n  }\n\n  function point() {\n    return pointish(band().paddingInner(1));\n  }\n\n  function constant(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function number(x) {\n    return +x;\n  }\n\n  var unit = [0, 1];\n\n  function deinterpolate(a, b) {\n    return (b -= (a = +a))\n        ? function(x) { return (x - a) / b; }\n        : constant(b);\n  }\n\n  function deinterpolateClamp(deinterpolate) {\n    return function(a, b) {\n      var d = deinterpolate(a = +a, b = +b);\n      return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n    };\n  }\n\n  function reinterpolateClamp(reinterpolate) {\n    return function(a, b) {\n      var r = reinterpolate(a = +a, b = +b);\n      return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n    };\n  }\n\n  function bimap(domain, range, deinterpolate, reinterpolate) {\n    var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n    if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n    else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n    return function(x) { return r0(d0(x)); };\n  }\n\n  function polymap(domain, range, deinterpolate, reinterpolate) {\n    var j = Math.min(domain.length, range.length) - 1,\n        d = new Array(j),\n        r = new Array(j),\n        i = -1;\n\n    // Reverse descending domains.\n    if (domain[j] < domain[0]) {\n      domain = domain.slice().reverse();\n      range = range.slice().reverse();\n    }\n\n    while (++i < j) {\n      d[i] = deinterpolate(domain[i], domain[i + 1]);\n      r[i] = reinterpolate(range[i], range[i + 1]);\n    }\n\n    return function(x) {\n      var i = d3Array.bisect(domain, x, 1, j) - 1;\n      return r[i](d[i](x));\n    };\n  }\n\n  function copy(source, target) {\n    return target\n        .domain(source.domain())\n        .range(source.range())\n        .interpolate(source.interpolate())\n        .clamp(source.clamp());\n  }\n\n  // deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n  // reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\n  function continuous(deinterpolate$$, reinterpolate) {\n    var domain = unit,\n        range = unit,\n        interpolate = d3Interpolate.interpolate,\n        clamp = false,\n        piecewise,\n        output,\n        input;\n\n    function rescale() {\n      piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n      output = input = null;\n      return scale;\n    }\n\n    function scale(x) {\n      return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate$$) : deinterpolate$$, interpolate)))(+x);\n    }\n\n    scale.invert = function(y) {\n      return (input || (input = piecewise(range, domain, deinterpolate, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n    };\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain = map$1.call(_, number), rescale()) : domain.slice();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n    };\n\n    scale.rangeRound = function(_) {\n      return range = slice.call(_), interpolate = d3Interpolate.interpolateRound, rescale();\n    };\n\n    scale.clamp = function(_) {\n      return arguments.length ? (clamp = !!_, rescale()) : clamp;\n    };\n\n    scale.interpolate = function(_) {\n      return arguments.length ? (interpolate = _, rescale()) : interpolate;\n    };\n\n    return rescale();\n  }\n\n  function tickFormat(domain, count, specifier) {\n    var start = domain[0],\n        stop = domain[domain.length - 1],\n        step = d3Array.tickStep(start, stop, count == null ? 10 : count),\n        precision;\n    specifier = d3Format.formatSpecifier(specifier == null ? \",f\" : specifier);\n    switch (specifier.type) {\n      case \"s\": {\n        var value = Math.max(Math.abs(start), Math.abs(stop));\n        if (specifier.precision == null && !isNaN(precision = d3Format.precisionPrefix(step, value))) specifier.precision = precision;\n        return d3Format.formatPrefix(specifier, value);\n      }\n      case \"\":\n      case \"e\":\n      case \"g\":\n      case \"p\":\n      case \"r\": {\n        if (specifier.precision == null && !isNaN(precision = d3Format.precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n        break;\n      }\n      case \"f\":\n      case \"%\": {\n        if (specifier.precision == null && !isNaN(precision = d3Format.precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n        break;\n      }\n    }\n    return d3Format.format(specifier);\n  }\n\n  function linearish(scale) {\n    var domain = scale.domain;\n\n    scale.ticks = function(count) {\n      var d = domain();\n      return d3Array.ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      return tickFormat(domain(), count, specifier);\n    };\n\n    scale.nice = function(count) {\n      var d = domain(),\n          i = d.length - 1,\n          n = count == null ? 10 : count,\n          start = d[0],\n          stop = d[i],\n          step = d3Array.tickStep(start, stop, n);\n\n      if (step) {\n        step = d3Array.tickStep(Math.floor(start / step) * step, Math.ceil(stop / step) * step, n);\n        d[0] = Math.floor(start / step) * step;\n        d[i] = Math.ceil(stop / step) * step;\n        domain(d);\n      }\n\n      return scale;\n    };\n\n    return scale;\n  }\n\n  function linear() {\n    var scale = continuous(deinterpolate, d3Interpolate.interpolateNumber);\n\n    scale.copy = function() {\n      return copy(scale, linear());\n    };\n\n    return linearish(scale);\n  }\n\n  function identity() {\n    var domain = [0, 1];\n\n    function scale(x) {\n      return +x;\n    }\n\n    scale.invert = scale;\n\n    scale.domain = scale.range = function(_) {\n      return arguments.length ? (domain = map$1.call(_, number), scale) : domain.slice();\n    };\n\n    scale.copy = function() {\n      return identity().domain(domain);\n    };\n\n    return linearish(scale);\n  }\n\n  function nice(domain, interval) {\n    domain = domain.slice();\n\n    var i0 = 0,\n        i1 = domain.length - 1,\n        x0 = domain[i0],\n        x1 = domain[i1],\n        t;\n\n    if (x1 < x0) {\n      t = i0, i0 = i1, i1 = t;\n      t = x0, x0 = x1, x1 = t;\n    }\n\n    domain[i0] = interval.floor(x0);\n    domain[i1] = interval.ceil(x1);\n    return domain;\n  }\n\n  function deinterpolate$1(a, b) {\n    return (b = Math.log(b / a))\n        ? function(x) { return Math.log(x / a) / b; }\n        : constant(b);\n  }\n\n  function reinterpolate(a, b) {\n    return a < 0\n        ? function(t) { return -Math.pow(-b, t) * Math.pow(-a, 1 - t); }\n        : function(t) { return Math.pow(b, t) * Math.pow(a, 1 - t); };\n  }\n\n  function pow10(x) {\n    return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n  }\n\n  function powp(base) {\n    return base === 10 ? pow10\n        : base === Math.E ? Math.exp\n        : function(x) { return Math.pow(base, x); };\n  }\n\n  function logp(base) {\n    return base === Math.E ? Math.log\n        : base === 10 && Math.log10\n        || base === 2 && Math.log2\n        || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n  }\n\n  function reflect(f) {\n    return function(x) {\n      return -f(-x);\n    };\n  }\n\n  function log() {\n    var scale = continuous(deinterpolate$1, reinterpolate).domain([1, 10]),\n        domain = scale.domain,\n        base = 10,\n        logs = logp(10),\n        pows = powp(10);\n\n    function rescale() {\n      logs = logp(base), pows = powp(base);\n      if (domain()[0] < 0) logs = reflect(logs), pows = reflect(pows);\n      return scale;\n    }\n\n    scale.base = function(_) {\n      return arguments.length ? (base = +_, rescale()) : base;\n    };\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain(_), rescale()) : domain();\n    };\n\n    scale.ticks = function(count) {\n      var d = domain(),\n          u = d[0],\n          v = d[d.length - 1],\n          r;\n\n      if (r = v < u) i = u, u = v, v = i;\n\n      var i = logs(u),\n          j = logs(v),\n          p,\n          k,\n          t,\n          n = count == null ? 10 : +count,\n          z = [];\n\n      if (!(base % 1) && j - i < n) {\n        i = Math.round(i) - 1, j = Math.round(j) + 1;\n        if (u > 0) for (; i < j; ++i) {\n          for (k = 1, p = pows(i); k < base; ++k) {\n            t = p * k;\n            if (t < u) continue;\n            if (t > v) break;\n            z.push(t);\n          }\n        } else for (; i < j; ++i) {\n          for (k = base - 1, p = pows(i); k >= 1; --k) {\n            t = p * k;\n            if (t < u) continue;\n            if (t > v) break;\n            z.push(t);\n          }\n        }\n      } else {\n        z = d3Array.ticks(i, j, Math.min(j - i, n)).map(pows);\n      }\n\n      return r ? z.reverse() : z;\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n      if (typeof specifier !== \"function\") specifier = d3Format.format(specifier);\n      if (count === Infinity) return specifier;\n      if (count == null) count = 10;\n      var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n      return function(d) {\n        var i = d / pows(Math.round(logs(d)));\n        if (i * base < base - 0.5) i *= base;\n        return i <= k ? specifier(d) : \"\";\n      };\n    };\n\n    scale.nice = function() {\n      return domain(nice(domain(), {\n        floor: function(x) { return pows(Math.floor(logs(x))); },\n        ceil: function(x) { return pows(Math.ceil(logs(x))); }\n      }));\n    };\n\n    scale.copy = function() {\n      return copy(scale, log().base(base));\n    };\n\n    return scale;\n  }\n\n  function raise(x, exponent) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  }\n\n  function pow() {\n    var exponent = 1,\n        scale = continuous(deinterpolate, reinterpolate),\n        domain = scale.domain;\n\n    function deinterpolate(a, b) {\n      return (b = raise(b, exponent) - (a = raise(a, exponent)))\n          ? function(x) { return (raise(x, exponent) - a) / b; }\n          : constant(b);\n    }\n\n    function reinterpolate(a, b) {\n      b = raise(b, exponent) - (a = raise(a, exponent));\n      return function(t) { return raise(a + b * t, 1 / exponent); };\n    }\n\n    scale.exponent = function(_) {\n      return arguments.length ? (exponent = +_, domain(domain())) : exponent;\n    };\n\n    scale.copy = function() {\n      return copy(scale, pow().exponent(exponent));\n    };\n\n    return linearish(scale);\n  }\n\n  function sqrt() {\n    return pow().exponent(0.5);\n  }\n\n  function quantile$1() {\n    var domain = [],\n        range = [],\n        thresholds = [];\n\n    function rescale() {\n      var i = 0, n = Math.max(1, range.length);\n      thresholds = new Array(n - 1);\n      while (++i < n) thresholds[i - 1] = d3Array.quantile(domain, i / n);\n      return scale;\n    }\n\n    function scale(x) {\n      if (!isNaN(x = +x)) return range[d3Array.bisect(thresholds, x)];\n    }\n\n    scale.invertExtent = function(y) {\n      var i = range.indexOf(y);\n      return i < 0 ? [NaN, NaN] : [\n        i > 0 ? thresholds[i - 1] : domain[0],\n        i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n      ];\n    };\n\n    scale.domain = function(_) {\n      if (!arguments.length) return domain.slice();\n      domain = [];\n      for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n      domain.sort(d3Array.ascending);\n      return rescale();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n    };\n\n    scale.quantiles = function() {\n      return thresholds.slice();\n    };\n\n    scale.copy = function() {\n      return quantile$1()\n          .domain(domain)\n          .range(range);\n    };\n\n    return scale;\n  }\n\n  function quantize() {\n    var x0 = 0,\n        x1 = 1,\n        n = 1,\n        domain = [0.5],\n        range = [0, 1];\n\n    function scale(x) {\n      if (x <= x) return range[d3Array.bisect(domain, x, 0, n)];\n    }\n\n    function rescale() {\n      var i = -1;\n      domain = new Array(n);\n      while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n      return scale;\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n    };\n\n    scale.invertExtent = function(y) {\n      var i = range.indexOf(y);\n      return i < 0 ? [NaN, NaN]\n          : i < 1 ? [x0, domain[0]]\n          : i >= n ? [domain[n - 1], x1]\n          : [domain[i - 1], domain[i]];\n    };\n\n    scale.copy = function() {\n      return quantize()\n          .domain([x0, x1])\n          .range(range);\n    };\n\n    return linearish(scale);\n  }\n\n  function threshold() {\n    var domain = [0.5],\n        range = [0, 1],\n        n = 1;\n\n    function scale(x) {\n      if (x <= x) return range[d3Array.bisect(domain, x, 0, n)];\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n    };\n\n    scale.invertExtent = function(y) {\n      var i = range.indexOf(y);\n      return [domain[i - 1], domain[i]];\n    };\n\n    scale.copy = function() {\n      return threshold()\n          .domain(domain)\n          .range(range);\n    };\n\n    return scale;\n  }\n\n  var durationSecond = 1000;\n  var durationMinute = durationSecond * 60;\n  var durationHour = durationMinute * 60;\n  var durationDay = durationHour * 24;\n  var durationWeek = durationDay * 7;\n  var durationMonth = durationDay * 30;\n  var durationYear = durationDay * 365;\n  function date(t) {\n    return new Date(t);\n  }\n\n  function number$1(t) {\n    return t instanceof Date ? +t : +new Date(+t);\n  }\n\n  function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n    var scale = continuous(deinterpolate, d3Interpolate.interpolateNumber),\n        invert = scale.invert,\n        domain = scale.domain;\n\n    var formatMillisecond = format(\".%L\"),\n        formatSecond = format(\":%S\"),\n        formatMinute = format(\"%I:%M\"),\n        formatHour = format(\"%I %p\"),\n        formatDay = format(\"%a %d\"),\n        formatWeek = format(\"%b %d\"),\n        formatMonth = format(\"%B\"),\n        formatYear = format(\"%Y\");\n\n    var tickIntervals = [\n      [second,  1,      durationSecond],\n      [second,  5,  5 * durationSecond],\n      [second, 15, 15 * durationSecond],\n      [second, 30, 30 * durationSecond],\n      [minute,  1,      durationMinute],\n      [minute,  5,  5 * durationMinute],\n      [minute, 15, 15 * durationMinute],\n      [minute, 30, 30 * durationMinute],\n      [  hour,  1,      durationHour  ],\n      [  hour,  3,  3 * durationHour  ],\n      [  hour,  6,  6 * durationHour  ],\n      [  hour, 12, 12 * durationHour  ],\n      [   day,  1,      durationDay   ],\n      [   day,  2,  2 * durationDay   ],\n      [  week,  1,      durationWeek  ],\n      [ month,  1,      durationMonth ],\n      [ month,  3,  3 * durationMonth ],\n      [  year,  1,      durationYear  ]\n    ];\n\n    function tickFormat(date) {\n      return (second(date) < date ? formatMillisecond\n          : minute(date) < date ? formatSecond\n          : hour(date) < date ? formatMinute\n          : day(date) < date ? formatHour\n          : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n          : year(date) < date ? formatMonth\n          : formatYear)(date);\n    }\n\n    function tickInterval(interval, start, stop, step) {\n      if (interval == null) interval = 10;\n\n      // If a desired tick count is specified, pick a reasonable tick interval\n      // based on the extent of the domain and a rough estimate of tick size.\n      // Otherwise, assume interval is already a time interval and use it.\n      if (typeof interval === \"number\") {\n        var target = Math.abs(stop - start) / interval,\n            i = d3Array.bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n        if (i === tickIntervals.length) {\n          step = d3Array.tickStep(start / durationYear, stop / durationYear, interval);\n          interval = year;\n        } else if (i) {\n          i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n          step = i[1];\n          interval = i[0];\n        } else {\n          step = d3Array.tickStep(start, stop, interval);\n          interval = millisecond;\n        }\n      }\n\n      return step == null ? interval : interval.every(step);\n    }\n\n    scale.invert = function(y) {\n      return new Date(invert(y));\n    };\n\n    scale.domain = function(_) {\n      return arguments.length ? domain(map$1.call(_, number$1)) : domain().map(date);\n    };\n\n    scale.ticks = function(interval, step) {\n      var d = domain(),\n          t0 = d[0],\n          t1 = d[d.length - 1],\n          r = t1 < t0,\n          t;\n      if (r) t = t0, t0 = t1, t1 = t;\n      t = tickInterval(interval, t0, t1, step);\n      t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n      return r ? t.reverse() : t;\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      return specifier == null ? tickFormat : format(specifier);\n    };\n\n    scale.nice = function(interval, step) {\n      var d = domain();\n      return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n          ? domain(nice(d, interval))\n          : scale;\n    };\n\n    scale.copy = function() {\n      return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n    };\n\n    return scale;\n  }\n\n  function time() {\n    return calendar(d3Time.timeYear, d3Time.timeMonth, d3Time.timeWeek, d3Time.timeDay, d3Time.timeHour, d3Time.timeMinute, d3Time.timeSecond, d3Time.timeMillisecond, d3TimeFormat.timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n  }\n\n  function utcTime() {\n    return calendar(d3Time.utcYear, d3Time.utcMonth, d3Time.utcWeek, d3Time.utcDay, d3Time.utcHour, d3Time.utcMinute, d3Time.utcSecond, d3Time.utcMillisecond, d3TimeFormat.utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]);\n  }\n\n  function colors(s) {\n    return s.match(/.{6}/g).map(function(x) {\n      return \"#\" + x;\n    });\n  }\n\n  var category10 = colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n\n  var category20b = colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n\n  var category20c = colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n\n  var category20 = colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n\n  var cubehelix$1 = d3Interpolate.interpolateCubehelixLong(d3Color.cubehelix(300, 0.5, 0.0), d3Color.cubehelix(-240, 0.5, 1.0));\n\n  var warm = d3Interpolate.interpolateCubehelixLong(d3Color.cubehelix(-100, 0.75, 0.35), d3Color.cubehelix(80, 1.50, 0.8));\n\n  var cool = d3Interpolate.interpolateCubehelixLong(d3Color.cubehelix(260, 0.75, 0.35), d3Color.cubehelix(80, 1.50, 0.8));\n\n  var rainbow = d3Color.cubehelix();\n\n  function rainbow$1(t) {\n    if (t < 0 || t > 1) t -= Math.floor(t);\n    var ts = Math.abs(t - 0.5);\n    rainbow.h = 360 * t - 100;\n    rainbow.s = 1.5 - 1.5 * ts;\n    rainbow.l = 0.8 - 0.9 * ts;\n    return rainbow + \"\";\n  }\n\n  function ramp(range) {\n    var n = range.length;\n    return function(t) {\n      return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n    };\n  }\n\n  var viridis = ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\n  var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\n  var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\n  var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n\n  function sequential(interpolator) {\n    var x0 = 0,\n        x1 = 1,\n        clamp = false;\n\n    function scale(x) {\n      var t = (x - x0) / (x1 - x0);\n      return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (x0 = +_[0], x1 = +_[1], scale) : [x0, x1];\n    };\n\n    scale.clamp = function(_) {\n      return arguments.length ? (clamp = !!_, scale) : clamp;\n    };\n\n    scale.interpolator = function(_) {\n      return arguments.length ? (interpolator = _, scale) : interpolator;\n    };\n\n    scale.copy = function() {\n      return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n    };\n\n    return linearish(scale);\n  }\n\n  exports.scaleBand = band;\n  exports.scalePoint = point;\n  exports.scaleIdentity = identity;\n  exports.scaleLinear = linear;\n  exports.scaleLog = log;\n  exports.scaleOrdinal = ordinal;\n  exports.scaleImplicit = implicit;\n  exports.scalePow = pow;\n  exports.scaleSqrt = sqrt;\n  exports.scaleQuantile = quantile$1;\n  exports.scaleQuantize = quantize;\n  exports.scaleThreshold = threshold;\n  exports.scaleTime = time;\n  exports.scaleUtc = utcTime;\n  exports.schemeCategory10 = category10;\n  exports.schemeCategory20b = category20b;\n  exports.schemeCategory20c = category20c;\n  exports.schemeCategory20 = category20;\n  exports.interpolateCubehelixDefault = cubehelix$1;\n  exports.interpolateRainbow = rainbow$1;\n  exports.interpolateWarm = warm;\n  exports.interpolateCool = cool;\n  exports.interpolateViridis = viridis;\n  exports.interpolateMagma = magma;\n  exports.interpolateInferno = inferno;\n  exports.interpolatePlasma = plasma;\n  exports.scaleSequential = sequential;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));", "const t0 = new Date, t1 = new Date;\n\nexport function timeInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = (date) => {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = (date) => {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = (date) => {\n    const d0 = interval(date), d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = (date, step) => {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = (start, stop, step) => {\n    const range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    let previous;\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = (test) => {\n    return timeInterval((date) => {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, (date, step) => {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = (start, end) => {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = (step) => {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? (d) => field(d) % step === 0\n              : (d) => interval.count(0, d) % step === 0);\n    };\n  }\n\n  return interval;\n}\n", "import {timeInterval} from \"./interval.js\";\n\nexport const millisecond = timeInterval(() => {\n  // noop\n}, (date, step) => {\n  date.setTime(+date + step);\n}, (start, end) => {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = (k) => {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return timeInterval((date) => {\n    date.setTime(Math.floor(date / k) * k);\n  }, (date, step) => {\n    date.setTime(+date + step * k);\n  }, (start, end) => {\n    return (end - start) / k;\n  });\n};\n\nexport const milliseconds = millisecond.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nexport const second = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds());\n}, (date, step) => {\n  date.setTime(+date + step * durationSecond);\n}, (start, end) => {\n  return (end - start) / durationSecond;\n}, (date) => {\n  return date.getUTCSeconds();\n});\n\nexport const seconds = second.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeMinute = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getMinutes();\n});\n\nexport const timeMinutes = timeMinute.range;\n\nexport const utcMinute = timeInterval((date) => {\n  date.setUTCSeconds(0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getUTCMinutes();\n});\n\nexport const utcMinutes = utcMinute.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeHour = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getHours();\n});\n\nexport const timeHours = timeHour.range;\n\nexport const utcHour = timeInterval((date) => {\n  date.setUTCMinutes(0, 0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getUTCHours();\n});\n\nexport const utcHours = utcHour.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nexport const timeDay = timeInterval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport const timeDays = timeDay.range;\n\nexport const utcDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return date.getUTCDate() - 1;\n});\n\nexport const utcDays = utcDay.range;\n\nexport const unixDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return Math.floor(date / durationDay);\n});\n\nexport const unixDays = unixDay.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction timeWeekday(i) {\n  return timeInterval((date) => {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setDate(date.getDate() + step * 7);\n  }, (start, end) => {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport const timeSunday = timeWeekday(0);\nexport const timeMonday = timeWeekday(1);\nexport const timeTuesday = timeWeekday(2);\nexport const timeWednesday = timeWeekday(3);\nexport const timeThursday = timeWeekday(4);\nexport const timeFriday = timeWeekday(5);\nexport const timeSaturday = timeWeekday(6);\n\nexport const timeSundays = timeSunday.range;\nexport const timeMondays = timeMonday.range;\nexport const timeTuesdays = timeTuesday.range;\nexport const timeWednesdays = timeWednesday.range;\nexport const timeThursdays = timeThursday.range;\nexport const timeFridays = timeFriday.range;\nexport const timeSaturdays = timeSaturday.range;\n\nfunction utcWeekday(i) {\n  return timeInterval((date) => {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, (start, end) => {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport const utcSunday = utcWeekday(0);\nexport const utcMonday = utcWeekday(1);\nexport const utcTuesday = utcWeekday(2);\nexport const utcWednesday = utcWeekday(3);\nexport const utcThursday = utcWeekday(4);\nexport const utcFriday = utcWeekday(5);\nexport const utcSaturday = utcWeekday(6);\n\nexport const utcSundays = utcSunday.range;\nexport const utcMondays = utcMonday.range;\nexport const utcTuesdays = utcTuesday.range;\nexport const utcWednesdays = utcWednesday.range;\nexport const utcThursdays = utcThursday.range;\nexport const utcFridays = utcFriday.range;\nexport const utcSaturdays = utcSaturday.range;\n", "import {timeInterval} from \"./interval.js\";\n\nexport const timeMonth = timeInterval((date) => {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setMonth(date.getMonth() + step);\n}, (start, end) => {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, (date) => {\n  return date.getMonth();\n});\n\nexport const timeMonths = timeMonth.range;\n\nexport const utcMonth = timeInterval((date) => {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, (start, end) => {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, (date) => {\n  return date.getUTCMonth();\n});\n\nexport const utcMonths = utcMonth.range;\n", "import {timeInterval} from \"./interval.js\";\n\nexport const timeYear = timeInterval((date) => {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setFullYear(date.getFullYear() + step);\n}, (start, end) => {\n  return end.getFullYear() - start.getFullYear();\n}, (date) => {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\ntimeYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport const timeYears = timeYear.range;\n\nexport const utcYear = timeInterval((date) => {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, (start, end) => {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, (date) => {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport const utcYears = utcYear.range;\n", "import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport {millisecond} from \"./millisecond.js\";\nimport {second} from \"./second.js\";\nimport {timeMinute, utcMinute} from \"./minute.js\";\nimport {timeHour, utcHour} from \"./hour.js\";\nimport {timeDay, unixDay} from \"./day.js\";\nimport {timeSunday, utcSunday} from \"./week.js\";\nimport {timeMonth, utcMonth} from \"./month.js\";\nimport {timeYear, utcYear} from \"./year.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcSunday, unixDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n", "export {\n  timeInterval\n} from \"./interval.js\";\n\nexport {\n  millisecond as utcMillisecond,\n  milliseconds as utcMilliseconds,\n  millisecond as timeMillisecond,\n  milliseconds as timeMilliseconds\n} from \"./millisecond.js\";\n\nexport {\n  second as utcSecond,\n  seconds as utcSeconds,\n  second as timeSecond,\n  seconds as timeSeconds\n} from \"./second.js\";\n\nexport {\n  timeMinute,\n  timeMinutes,\n  utcMinute,\n  utcMinutes\n} from \"./minute.js\";\n\nexport {\n  timeHour,\n  timeHours,\n  utcHour,\n  utcHours\n} from \"./hour.js\";\n\nexport {\n  timeDay,\n  timeDays,\n  utcDay,\n  utcDays,\n  unixDay,\n  unixDays\n} from \"./day.js\";\n\nexport {\n  timeSunday as timeWeek,\n  timeSundays as timeWeeks,\n  timeSunday,\n  timeSundays,\n  timeMonday,\n  timeMondays,\n  timeTuesday,\n  timeTuesdays,\n  timeWednesday,\n  timeWednesdays,\n  timeThursday,\n  timeThursdays,\n  timeFriday,\n  timeFridays,\n  timeSaturday,\n  timeSaturdays,\n  utcSunday as utcWeek,\n  utcSundays as utcWeeks,\n  utcSunday,\n  utcSundays,\n  utcMonday,\n  utcMondays,\n  utcTuesday,\n  utcTuesdays,\n  utcWednesday,\n  utcWednesdays,\n  utcThursday,\n  utcThursdays,\n  utcFriday,\n  utcFridays,\n  utcSaturday,\n  utcSaturdays\n} from \"./week.js\";\n\nexport {\n  timeMonth,\n  timeMonths,\n  utcMonth,\n  utcMonths\n} from \"./month.js\";\n\nexport {\n  timeYear,\n  timeYears,\n  utcYear,\n  utcYears\n} from \"./year.js\";\n\nexport {\n  utcTicks,\n  utcTickInterval,\n  timeTicks,\n  timeTickInterval\n} from \"./ticks.js\";\n", "export default Math.random;\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomUniform(source) {\n  function randomUniform(min, max) {\n    min = min == null ? 0 : +min;\n    max = max == null ? 1 : +max;\n    if (arguments.length === 1) max = min, min = 0;\n    else max -= min;\n    return function() {\n      return source() * max + min;\n    };\n  }\n\n  randomUniform.source = sourceRandomUniform;\n\n  return randomUniform;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomInt(source) {\n  function randomInt(min, max) {\n    if (arguments.length < 2) max = min, min = 0;\n    min = Math.floor(min);\n    max = Math.floor(max) - min;\n    return function() {\n      return Math.floor(source() * max + min);\n    };\n  }\n\n  randomInt.source = sourceRandomInt;\n\n  return randomInt;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomNormal(source) {\n  function randomNormal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function() {\n      var y;\n\n      // If available, use the second previously-generated uniform random.\n      if (x != null) y = x, x = null;\n\n      // Otherwise, generate a new x and y.\n      else do {\n        x = source() * 2 - 1;\n        y = source() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  randomNormal.source = sourceRandomNormal;\n\n  return randomNormal;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\nimport normal from \"./normal.js\";\n\nexport default (function sourceRandomLogNormal(source) {\n  var N = normal.source(source);\n\n  function randomLogNormal() {\n    var randomNormal = N.apply(this, arguments);\n    return function() {\n      return Math.exp(randomNormal());\n    };\n  }\n\n  randomLogNormal.source = sourceRandomLogNormal;\n\n  return randomLogNormal;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomIrwinHall(source) {\n  function randomIrwinHall(n) {\n    if ((n = +n) <= 0) return () => 0;\n    return function() {\n      for (var sum = 0, i = n; i > 1; --i) sum += source();\n      return sum + i * source();\n    };\n  }\n\n  randomIrwinHall.source = sourceRandomIrwinHall;\n\n  return randomIrwinHall;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\nimport irwinHall from \"./irwinHall.js\";\n\nexport default (function sourceRandomBates(source) {\n  var I = irwinHall.source(source);\n\n  function randomBates(n) {\n    // use limiting distribution at n === 0\n    if ((n = +n) === 0) return source;\n    var randomIrwinHall = I(n);\n    return function() {\n      return randomIrwinHall() / n;\n    };\n  }\n\n  randomBates.source = sourceRandomBates;\n\n  return randomBates;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomExponential(source) {\n  function randomExponential(lambda) {\n    return function() {\n      return -Math.log1p(-source()) / lambda;\n    };\n  }\n\n  randomExponential.source = sourceRandomExponential;\n\n  return randomExponential;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomPareto(source) {\n  function randomPareto(alpha) {\n    if ((alpha = +alpha) < 0) throw new RangeError(\"invalid alpha\");\n    alpha = 1 / -alpha;\n    return function() {\n      return Math.pow(1 - source(), alpha);\n    };\n  }\n\n  randomPareto.source = sourceRandomPareto;\n\n  return randomPareto;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomBernoulli(source) {\n  function randomBernoulli(p) {\n    if ((p = +p) < 0 || p > 1) throw new RangeError(\"invalid p\");\n    return function() {\n      return Math.floor(source() + p);\n    };\n  }\n\n  randomBernoulli.source = sourceRandomBernoulli;\n\n  return randomBernoulli;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomGeometric(source) {\n  function randomGeometric(p) {\n    if ((p = +p) < 0 || p > 1) throw new RangeError(\"invalid p\");\n    if (p === 0) return () => Infinity;\n    if (p === 1) return () => 1;\n    p = Math.log1p(-p);\n    return function() {\n      return 1 + Math.floor(Math.log1p(-source()) / p);\n    };\n  }\n\n  randomGeometric.source = sourceRandomGeometric;\n\n  return randomGeometric;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\nimport normal from \"./normal.js\";\n\nexport default (function sourceRandomGamma(source) {\n  var randomNormal = normal.source(source)();\n\n  function randomGamma(k, theta) {\n    if ((k = +k) < 0) throw new RangeError(\"invalid k\");\n    // degenerate distribution if k === 0\n    if (k === 0) return () => 0;\n    theta = theta == null ? 1 : +theta;\n    // exponential distribution if k === 1\n    if (k === 1) return () => -Math.log1p(-source()) * theta;\n\n    var d = (k < 1 ? k + 1 : k) - 1 / 3,\n        c = 1 / (3 * Math.sqrt(d)),\n        multiplier = k < 1 ? () => Math.pow(source(), 1 / k) : () => 1;\n    return function() {\n      do {\n        do {\n          var x = randomNormal(),\n              v = 1 + c * x;\n        } while (v <= 0);\n        v *= v * v;\n        var u = 1 - source();\n      } while (u >= 1 - 0.0331 * x * x * x * x && Math.log(u) >= 0.5 * x * x + d * (1 - v + Math.log(v)));\n      return d * v * multiplier() * theta;\n    };\n  }\n\n  randomGamma.source = sourceRandomGamma;\n\n  return randomGamma;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\nimport gamma from \"./gamma.js\";\n\nexport default (function sourceRandomBeta(source) {\n  var G = gamma.source(source);\n\n  function randomBeta(alpha, beta) {\n    var X = G(alpha),\n        Y = G(beta);\n    return function() {\n      var x = X();\n      return x === 0 ? 0 : x / (x + Y());\n    };\n  }\n\n  randomBeta.source = sourceRandomBeta;\n\n  return randomBeta;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\nimport beta from \"./beta.js\";\nimport geometric from \"./geometric.js\";\n\nexport default (function sourceRandomBinomial(source) {\n  var G = geometric.source(source),\n      B = beta.source(source);\n\n  function randomBinomial(n, p) {\n    n = +n;\n    if ((p = +p) >= 1) return () => n;\n    if (p <= 0) return () => 0;\n    return function() {\n      var acc = 0, nn = n, pp = p;\n      while (nn * pp > 16 && nn * (1 - pp) > 16) {\n        var i = Math.floor((nn + 1) * pp),\n            y = B(i, nn - i + 1)();\n        if (y <= pp) {\n          acc += i;\n          nn -= i;\n          pp = (pp - y) / (1 - y);\n        } else {\n          nn = i - 1;\n          pp /= y;\n        }\n      }\n      var sign = pp < 0.5,\n          pFinal = sign ? pp : 1 - pp,\n          g = G(pFinal);\n      for (var s = g(), k = 0; s <= nn; ++k) s += g();\n      return acc + (sign ? k : nn - k);\n    };\n  }\n\n  randomBinomial.source = sourceRandomBinomial;\n\n  return randomBinomial;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomWeibull(source) {\n  function randomWeibull(k, a, b) {\n    var outerFunc;\n    if ((k = +k) === 0) {\n      outerFunc = x => -Math.log(x);\n    } else {\n      k = 1 / k;\n      outerFunc = x => Math.pow(x, k);\n    }\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      return a + b * outerFunc(-Math.log1p(-source()));\n    };\n  }\n\n  randomWeibull.source = sourceRandomWeibull;\n\n  return randomWeibull;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomCauchy(source) {\n  function randomCauchy(a, b) {\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      return a + b * Math.tan(Math.PI * source());\n    };\n  }\n\n  randomCauchy.source = sourceRandomCauchy;\n\n  return randomCauchy;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomLogistic(source) {\n  function randomLogistic(a, b) {\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      var u = source();\n      return a + b * Math.log(u / (1 - u));\n    };\n  }\n\n  randomLogistic.source = sourceRandomLogistic;\n\n  return randomLogistic;\n})(defaultSource);\n", "import defaultSource from \"./defaultSource.js\";\nimport binomial from \"./binomial.js\";\nimport gamma from \"./gamma.js\";\n\nexport default (function sourceRandomPoisson(source) {\n  var G = gamma.source(source),\n      B = binomial.source(source);\n\n  function randomPoisson(lambda) {\n    return function() {\n      var acc = 0, l = lambda;\n      while (l > 16) {\n        var n = Math.floor(0.875 * l),\n            t = G(n)();\n        if (t > l) return acc + B(n - 1, l / t)();\n        acc += n;\n        l -= t;\n      }\n      for (var s = -Math.log1p(-source()), k = 0; s <= l; ++k) s -= Math.log1p(-source());\n      return acc + k;\n    };\n  }\n\n  randomPoisson.source = sourceRandomPoisson;\n\n  return randomPoisson;\n})(defaultSource);\n", "// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst mul = 0x19660D;\nconst inc = 0x3C6EF35F;\nconst eps = 1 / 0x100000000;\n\nexport default function lcg(seed = Math.random()) {\n  let state = (0 <= seed && seed < 1 ? seed / eps : Math.abs(seed)) | 0;\n  return () => (state = mul * state + inc | 0, eps * (state >>> 0));\n}\n", "export {default as randomUniform} from \"./uniform.js\";\nexport {default as randomInt} from \"./int.js\";\nexport {default as randomNormal} from \"./normal.js\";\nexport {default as randomLogNormal} from \"./logNormal.js\";\nexport {default as randomBates} from \"./bates.js\";\nexport {default as randomIrwinHall} from \"./irwinHall.js\";\nexport {default as randomExponential} from \"./exponential.js\";\nexport {default as randomPareto} from \"./pareto.js\";\nexport {default as randomBernoulli} from \"./bernoulli.js\";\nexport {default as randomGeometric} from \"./geometric.js\";\nexport {default as randomBinomial} from \"./binomial.js\";\nexport {default as randomGamma} from \"./gamma.js\";\nexport {default as randomBeta} from \"./beta.js\";\nexport {default as randomWeibull} from \"./weibull.js\";\nexport {default as randomCauchy} from \"./cauchy.js\";\nexport {default as randomLogistic} from \"./logistic.js\";\nexport {default as randomPoisson} from \"./poisson.js\";\nexport {default as randomLcg} from \"./lcg.js\";\n", "function responseBlob(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.blob();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseBlob);\n}\n", "function responseArrayBuffer(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.arrayBuffer();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseArrayBuffer);\n}\n", "var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n", "import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n", "import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n", "export {default as dsvFormat} from \"./dsv.js\";\nexport {csvParse, csvParseRows, csvFormat, csvFormatBody, csvFormatRows, csvFormatRow, csvFormatValue} from \"./csv.js\";\nexport {tsvParse, tsvParseRows, tsvFormat, tsvFormatBody, tsvFormatRows, tsvFormatRow, tsvFormatValue} from \"./tsv.js\";\nexport {default as autoType} from \"./autoType.js\";\n", "function responseText(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.text();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseText);\n}\n", "import {csvParse, dsvFormat, tsvParse} from \"d3-dsv\";\nimport text from \"./text.js\";\n\nfunction dsvParse(parse) {\n  return function(input, init, row) {\n    if (arguments.length === 2 && typeof init === \"function\") row = init, init = undefined;\n    return text(input, init).then(function(response) {\n      return parse(response, row);\n    });\n  };\n}\n\nexport default function dsv(delimiter, input, init, row) {\n  if (arguments.length === 3 && typeof init === \"function\") row = init, init = undefined;\n  var format = dsvFormat(delimiter);\n  return text(input, init).then(function(response) {\n    return format.parse(response, row);\n  });\n}\n\nexport var csv = dsvParse(csvParse);\nexport var tsv = dsvParse(tsvParse);\n", "export default function(input, init) {\n  return new Promise(function(resolve, reject) {\n    var image = new Image;\n    for (var key in init) image[key] = init[key];\n    image.onerror = reject;\n    image.onload = function() { resolve(image); };\n    image.src = input;\n  });\n}\n", "function responseJson(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  if (response.status === 204 || response.status === 205) return;\n  return response.json();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseJson);\n}\n", "import text from \"./text.js\";\n\nfunction parser(type) {\n  return (input, init) => text(input, init)\n    .then(text => (new DOMParser).parseFromString(text, type));\n}\n\nexport default parser(\"application/xml\");\n\nexport var html = parser(\"text/html\");\n\nexport var svg = parser(\"image/svg+xml\");\n", "export {default as blob} from \"./blob.js\";\nexport {default as buffer} from \"./buffer.js\";\nexport {default as dsv, csv, tsv} from \"./dsv.js\";\nexport {default as image} from \"./image.js\";\nexport {default as json} from \"./json.js\";\nexport {default as text} from \"./text.js\";\nexport {default as xml, html, svg} from \"./xml.js\";\n", "const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? We\u2019re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n", "export {Path, path, pathRound} from \"./path.js\";\n", "export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n", "import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n", "import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n", "function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n", "// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don\u2019t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n", "function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n", "export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n", "import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n", "import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n", "import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n", "export default function(update) {\n  return new Array(update.length);\n}\n", "import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n", "export default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don\u2019t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn\u2019t worried about \u201Clive\u201D collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don\u2019t; we\u2019d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n", "import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n", "export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n", "import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n", "export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n", "import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n", "export default function() {\n  return Array.from(this);\n}\n", "export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n", "export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n", "export default function() {\n  return !this.node();\n}\n", "export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n", "import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n", "export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n", "import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n", "function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n", "function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n", "function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n", "function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n", "function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n", "function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n", "import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n", "import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n", "function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n", "function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n", "export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n", "function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n", "import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n", "export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n", "import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n", "import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n", "import creator from \"./creator.js\";\nimport select from \"./select.js\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n", "var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n", "export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n", "import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n", "import pointer from \"./pointer.js\";\nimport sourceEvent from \"./sourceEvent.js\";\n\nexport default function(events, node) {\n  if (events.target) { // i.e., instanceof Event, not TouchList or iterable\n    events = sourceEvent(events);\n    if (node === undefined) node = events.currentTarget;\n    events = events.touches || [events];\n  }\n  return Array.from(events, event => pointer(event, node));\n}\n", "import array from \"./array.js\";\nimport {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([array(selector)], root);\n}\n", "export {default as create} from \"./create.js\";\nexport {default as creator} from \"./creator.js\";\nexport {default as local} from \"./local.js\";\nexport {default as matcher} from \"./matcher.js\";\nexport {default as namespace} from \"./namespace.js\";\nexport {default as namespaces} from \"./namespaces.js\";\nexport {default as pointer} from \"./pointer.js\";\nexport {default as pointers} from \"./pointers.js\";\nexport {default as select} from \"./select.js\";\nexport {default as selectAll} from \"./selectAll.js\";\nexport {default as selection} from \"./selection/index.js\";\nexport {default as selector} from \"./selector.js\";\nexport {default as selectorAll} from \"./selectorAll.js\";\nexport {styleValue as style} from \"./selection/style.js\";\nexport {default as window} from \"./window.js\";\n", "export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n", "export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n", "import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n", "import constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\nimport {withPath} from \"./path.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null,\n      path = withPath(arc);\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 \u2265 r0, da1 \u2265 da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle. If this\n        // intersection fails, it\u2019s probably because the arc is too small, so\n        // disable the corner radius entirely.\n        if (da < pi) {\n          if (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10)) {\n            var ax = x01 - oc[0],\n                ay = y01 - oc[1],\n                bx = x11 - oc[0],\n                by = y11 - oc[1],\n                kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n                lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n            rc0 = min(rc, (r0 - lc) / (kc - 1));\n            rc1 = min(rc, (r1 - lc) / (kc + 1));\n          } else {\n            rc0 = rc1 = 0;\n          }\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector\u2019s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it\u2019s a circular sector?\n      // Or perhaps it\u2019s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector\u2019s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n", "export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n", "function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n", "export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n", "import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(line);\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n", "import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(area);\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n", "export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n", "export default function(d) {\n  return d;\n}\n", "import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = (data = array(data)).length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n", "import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n", "import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport line from \"./line.js\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n", "import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport area from \"./area.js\";\nimport {lineRadial} from \"./lineRadial.js\";\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n", "export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n", "import pointRadial from \"../pointRadial.js\";\n\nclass Bump {\n  constructor(context, x) {\n    this._context = context;\n    this._x = x;\n  }\n  areaStart() {\n    this._line = 0;\n  }\n  areaEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  }\n  point(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: {\n        this._point = 1;\n        if (this._line) this._context.lineTo(x, y);\n        else this._context.moveTo(x, y);\n        break;\n      }\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._x) this._context.bezierCurveTo(this._x0 = (this._x0 + x) / 2, this._y0, this._x0, y, x, y);\n        else this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + y) / 2, x, this._y0, x, y);\n        break;\n      }\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nclass BumpRadial {\n  constructor(context) {\n    this._context = context;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {}\n  point(x, y) {\n    x = +x, y = +y;\n    if (this._point === 0) {\n      this._point = 1;\n    } else {\n      const p0 = pointRadial(this._x0, this._y0);\n      const p1 = pointRadial(this._x0, this._y0 = (this._y0 + y) / 2);\n      const p2 = pointRadial(x, this._y0);\n      const p3 = pointRadial(x, y);\n      this._context.moveTo(...p0);\n      this._context.bezierCurveTo(...p1, ...p2, ...p3);\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nexport function bumpX(context) {\n  return new Bump(context, true);\n}\n\nexport function bumpY(context) {\n  return new Bump(context, false);\n}\n\nexport function bumpRadial(context) {\n  return new BumpRadial(context);\n}\n", "import {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport {bumpX, bumpY, bumpRadial} from \"./curve/bump.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nexport function link(curve) {\n  let source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null,\n      output = null,\n      path = withPath(link);\n\n  function link() {\n    let buffer;\n    const argv = slice.call(arguments);\n    const s = source.apply(this, argv);\n    const t = target.apply(this, argv);\n    if (context == null) output = curve(buffer = path());\n    output.lineStart();\n    argv[0] = s, output.point(+x.apply(this, argv), +y.apply(this, argv));\n    argv[0] = t, output.point(+x.apply(this, argv), +y.apply(this, argv));\n    output.lineEnd();\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), link) : context;\n  };\n\n  return link;\n}\n\nexport function linkHorizontal() {\n  return link(bumpX);\n}\n\nexport function linkVertical() {\n  return link(bumpY);\n}\n\nexport function linkRadial() {\n  const l = link(bumpRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n", "import {min, sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size + min(size / 28, 0.75)) * 0.59436;\n    const t = r / 2;\n    const u = t * sqrt3;\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n    context.moveTo(-u, -t);\n    context.lineTo(u, t);\n    context.moveTo(-u, t);\n    context.lineTo(u, -t);\n  }\n};\n", "import {pi, sqrt, tau} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nconst tan30 = sqrt(1 / 3);\nconst tan30_2 = tan30 * 2;\n\nexport default {\n  draw(context, size) {\n    const y = sqrt(size / tan30_2);\n    const x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size) * 0.62625;\n    context.moveTo(0, -r);\n    context.lineTo(r, 0);\n    context.lineTo(0, r);\n    context.lineTo(-r, 0);\n    context.closePath();\n  }\n};\n", "import {min, sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size - min(size / 7, 2)) * 0.87559;\n    context.moveTo(-r, 0);\n    context.lineTo(r, 0);\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const w = sqrt(size);\n    const x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size) * 0.4431;\n    context.moveTo(r, r);\n    context.lineTo(r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, r);\n    context.closePath();\n  }\n};\n", "import {sin, cos, sqrt, pi, tau} from \"../math.js\";\n\nconst ka = 0.89081309152928522810;\nconst kr = sin(pi / 10) / sin(7 * pi / 10);\nconst kx = sin(tau / 10) * kr;\nconst ky = -cos(tau / 10) * kr;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size * ka);\n    const x = kx * r;\n    const y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (let i = 1; i < 5; ++i) {\n      const a = tau * i / 5;\n      const c = cos(a);\n      const s = sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const y = -sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const s = sqrt(size) * 0.6824;\n    const t = s  / 2;\n    const u = (s * sqrt3) / 2; // cos(Math.PI / 6)\n    context.moveTo(0, -s);\n    context.lineTo(u, t);\n    context.lineTo(-u, t);\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nconst c = -0.5;\nconst s = sqrt(3) / 2;\nconst k = 1 / sqrt(12);\nconst a = (k / 2 + 1) * 3;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / a);\n    const x0 = r / 2, y0 = r * k;\n    const x1 = x0, y1 = r * k + r;\n    const x2 = -x1, y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n", "import {min, sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size - min(size / 6, 1.7)) * 0.6189;\n    context.moveTo(-r, -r);\n    context.lineTo(r, r);\n    context.moveTo(-r, r);\n    context.lineTo(r, -r);\n  }\n};\n", "import constant from \"./constant.js\";\nimport {withPath} from \"./path.js\";\nimport asterisk from \"./symbol/asterisk.js\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport diamond2 from \"./symbol/diamond2.js\";\nimport plus from \"./symbol/plus.js\";\nimport square from \"./symbol/square.js\";\nimport square2 from \"./symbol/square2.js\";\nimport star from \"./symbol/star.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport triangle2 from \"./symbol/triangle2.js\";\nimport wye from \"./symbol/wye.js\";\nimport times from \"./symbol/times.js\";\n\n// These symbols are designed to be filled.\nexport const symbolsFill = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\n// These symbols are designed to be stroked (with a width of 1.5px and round caps).\nexport const symbolsStroke = [\n  circle,\n  plus,\n  times,\n  triangle2,\n  asterisk,\n  square2,\n  diamond2\n];\n\nexport default function Symbol(type, size) {\n  let context = null,\n      path = withPath(symbol);\n\n  type = typeof type === \"function\" ? type : constant(type || circle);\n  size = typeof size === \"function\" ? size : constant(size === undefined ? 64 : +size);\n\n  function symbol() {\n    let buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n", "export default function() {}\n", "export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // falls through\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n", "import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n", "import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n", "import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n", "export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n", "import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n", "import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n", "import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n", "import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n", "import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n", "import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n", "function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic B\u00E9zier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n", "function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n", "function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n", "export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n", "export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n", "import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n        i, n = sz.length, j = -1,\n        oz;\n\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n\n    for (i = 0, oz = array(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n", "import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n", "export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = 0, d[1] = dy;\n      }\n    }\n  }\n}\n", "import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n", "import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n", "import none from \"./none.js\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n", "import none from \"./none.js\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n", "import ascending from \"./ascending.js\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n", "import appearance from \"./appearance.js\";\nimport {sum} from \"./ascending.js\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n", "import none from \"./none.js\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n", "export {default as arc} from \"./arc.js\";\nexport {default as area} from \"./area.js\";\nexport {default as line} from \"./line.js\";\nexport {default as pie} from \"./pie.js\";\nexport {default as areaRadial, default as radialArea} from \"./areaRadial.js\"; // Note: radialArea is deprecated!\nexport {default as lineRadial, default as radialLine} from \"./lineRadial.js\"; // Note: radialLine is deprecated!\nexport {default as pointRadial} from \"./pointRadial.js\";\nexport {link, linkHorizontal, linkVertical, linkRadial} from \"./link.js\";\n\nexport {default as symbol, symbolsStroke, symbolsFill, symbolsFill as symbols} from \"./symbol.js\";\nexport {default as symbolAsterisk} from \"./symbol/asterisk.js\";\nexport {default as symbolCircle} from \"./symbol/circle.js\";\nexport {default as symbolCross} from \"./symbol/cross.js\";\nexport {default as symbolDiamond} from \"./symbol/diamond.js\";\nexport {default as symbolDiamond2} from \"./symbol/diamond2.js\";\nexport {default as symbolPlus} from \"./symbol/plus.js\";\nexport {default as symbolSquare} from \"./symbol/square.js\";\nexport {default as symbolSquare2} from \"./symbol/square2.js\";\nexport {default as symbolStar} from \"./symbol/star.js\";\nexport {default as symbolTriangle} from \"./symbol/triangle.js\";\nexport {default as symbolTriangle2} from \"./symbol/triangle2.js\";\nexport {default as symbolWye} from \"./symbol/wye.js\";\nexport {default as symbolTimes, default as symbolX} from \"./symbol/times.js\";\n\nexport {default as curveBasisClosed} from \"./curve/basisClosed.js\";\nexport {default as curveBasisOpen} from \"./curve/basisOpen.js\";\nexport {default as curveBasis} from \"./curve/basis.js\";\nexport {bumpX as curveBumpX, bumpY as curveBumpY} from \"./curve/bump.js\";\nexport {default as curveBundle} from \"./curve/bundle.js\";\nexport {default as curveCardinalClosed} from \"./curve/cardinalClosed.js\";\nexport {default as curveCardinalOpen} from \"./curve/cardinalOpen.js\";\nexport {default as curveCardinal} from \"./curve/cardinal.js\";\nexport {default as curveCatmullRomClosed} from \"./curve/catmullRomClosed.js\";\nexport {default as curveCatmullRomOpen} from \"./curve/catmullRomOpen.js\";\nexport {default as curveCatmullRom} from \"./curve/catmullRom.js\";\nexport {default as curveLinearClosed} from \"./curve/linearClosed.js\";\nexport {default as curveLinear} from \"./curve/linear.js\";\nexport {monotoneX as curveMonotoneX, monotoneY as curveMonotoneY} from \"./curve/monotone.js\";\nexport {default as curveNatural} from \"./curve/natural.js\";\nexport {default as curveStep, stepAfter as curveStepAfter, stepBefore as curveStepBefore} from \"./curve/step.js\";\n\nexport {default as stack} from \"./stack.js\";\nexport {default as stackOffsetExpand} from \"./offset/expand.js\";\nexport {default as stackOffsetDiverging} from \"./offset/diverging.js\";\nexport {default as stackOffsetNone} from \"./offset/none.js\";\nexport {default as stackOffsetSilhouette} from \"./offset/silhouette.js\";\nexport {default as stackOffsetWiggle} from \"./offset/wiggle.js\";\nexport {default as stackOrderAppearance} from \"./order/appearance.js\";\nexport {default as stackOrderAscending} from \"./order/ascending.js\";\nexport {default as stackOrderDescending} from \"./order/descending.js\";\nexport {default as stackOrderInsideOut} from \"./order/insideOut.js\";\nexport {default as stackOrderNone} from \"./order/none.js\";\nexport {default as stackOrderReverse} from \"./order/reverse.js\";\n", "export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n", "import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n", "export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n", "import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n", "export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n", "import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n", "export {default as color, rgb, hsl} from \"./color.js\";\nexport {default as lab, hcl, lch, gray} from \"./lab.js\";\nexport {default as cubehelix} from \"./cubehelix.js\";\n", "export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "export default x => () => x;\n", "import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n", "import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n", "export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n", "import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n", "export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n", "export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n", "import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n", "import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n", "import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n", "export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n", "var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n", "import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n", "import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n", "var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 \u2245 u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n", "import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n", "export {default as interpolate} from \"./value.js\";\nexport {default as interpolateArray} from \"./array.js\";\nexport {default as interpolateBasis} from \"./basis.js\";\nexport {default as interpolateBasisClosed} from \"./basisClosed.js\";\nexport {default as interpolateDate} from \"./date.js\";\nexport {default as interpolateDiscrete} from \"./discrete.js\";\nexport {default as interpolateHue} from \"./hue.js\";\nexport {default as interpolateNumber} from \"./number.js\";\nexport {default as interpolateNumberArray} from \"./numberArray.js\";\nexport {default as interpolateObject} from \"./object.js\";\nexport {default as interpolateRound} from \"./round.js\";\nexport {default as interpolateString} from \"./string.js\";\nexport {interpolateTransformCss, interpolateTransformSvg} from \"./transform/index.js\";\nexport {default as interpolateZoom} from \"./zoom.js\";\nexport {default as interpolateRgb, rgbBasis as interpolateRgbBasis, rgbBasisClosed as interpolateRgbBasisClosed} from \"./rgb.js\";\nexport {default as interpolateHsl, hslLong as interpolateHslLong} from \"./hsl.js\";\nexport {default as interpolateLab} from \"./lab.js\";\nexport {default as interpolateHcl, hclLong as interpolateHclLong} from \"./hcl.js\";\nexport {default as interpolateCubehelix, cubehelixLong as interpolateCubehelixLong} from \"./cubehelix.js\";\nexport {default as piecewise} from \"./piecewise.js\";\nexport {default as quantize} from \"./quantize.js\";\n", "import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default scheme => interpolateRgbBasis(scheme[scheme.length - 1]);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n", "export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n", "import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n", "import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n", "import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n", "export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n", "import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n", "export {default as schemeCategory10} from \"./categorical/category10.js\";\nexport {default as schemeAccent} from \"./categorical/Accent.js\";\nexport {default as schemeDark2} from \"./categorical/Dark2.js\";\nexport {default as schemeObservable10} from \"./categorical/observable10.js\";\nexport {default as schemePaired} from \"./categorical/Paired.js\";\nexport {default as schemePastel1} from \"./categorical/Pastel1.js\";\nexport {default as schemePastel2} from \"./categorical/Pastel2.js\";\nexport {default as schemeSet1} from \"./categorical/Set1.js\";\nexport {default as schemeSet2} from \"./categorical/Set2.js\";\nexport {default as schemeSet3} from \"./categorical/Set3.js\";\nexport {default as schemeTableau10} from \"./categorical/Tableau10.js\";\nexport {default as interpolateBrBG, scheme as schemeBrBG} from \"./diverging/BrBG.js\";\nexport {default as interpolatePRGn, scheme as schemePRGn} from \"./diverging/PRGn.js\";\nexport {default as interpolatePiYG, scheme as schemePiYG} from \"./diverging/PiYG.js\";\nexport {default as interpolatePuOr, scheme as schemePuOr} from \"./diverging/PuOr.js\";\nexport {default as interpolateRdBu, scheme as schemeRdBu} from \"./diverging/RdBu.js\";\nexport {default as interpolateRdGy, scheme as schemeRdGy} from \"./diverging/RdGy.js\";\nexport {default as interpolateRdYlBu, scheme as schemeRdYlBu} from \"./diverging/RdYlBu.js\";\nexport {default as interpolateRdYlGn, scheme as schemeRdYlGn} from \"./diverging/RdYlGn.js\";\nexport {default as interpolateSpectral, scheme as schemeSpectral} from \"./diverging/Spectral.js\";\nexport {default as interpolateBuGn, scheme as schemeBuGn} from \"./sequential-multi/BuGn.js\";\nexport {default as interpolateBuPu, scheme as schemeBuPu} from \"./sequential-multi/BuPu.js\";\nexport {default as interpolateGnBu, scheme as schemeGnBu} from \"./sequential-multi/GnBu.js\";\nexport {default as interpolateOrRd, scheme as schemeOrRd} from \"./sequential-multi/OrRd.js\";\nexport {default as interpolatePuBuGn, scheme as schemePuBuGn} from \"./sequential-multi/PuBuGn.js\";\nexport {default as interpolatePuBu, scheme as schemePuBu} from \"./sequential-multi/PuBu.js\";\nexport {default as interpolatePuRd, scheme as schemePuRd} from \"./sequential-multi/PuRd.js\";\nexport {default as interpolateRdPu, scheme as schemeRdPu} from \"./sequential-multi/RdPu.js\";\nexport {default as interpolateYlGnBu, scheme as schemeYlGnBu} from \"./sequential-multi/YlGnBu.js\";\nexport {default as interpolateYlGn, scheme as schemeYlGn} from \"./sequential-multi/YlGn.js\";\nexport {default as interpolateYlOrBr, scheme as schemeYlOrBr} from \"./sequential-multi/YlOrBr.js\";\nexport {default as interpolateYlOrRd, scheme as schemeYlOrRd} from \"./sequential-multi/YlOrRd.js\";\nexport {default as interpolateBlues, scheme as schemeBlues} from \"./sequential-single/Blues.js\";\nexport {default as interpolateGreens, scheme as schemeGreens} from \"./sequential-single/Greens.js\";\nexport {default as interpolateGreys, scheme as schemeGreys} from \"./sequential-single/Greys.js\";\nexport {default as interpolatePurples, scheme as schemePurples} from \"./sequential-single/Purples.js\";\nexport {default as interpolateReds, scheme as schemeReds} from \"./sequential-single/Reds.js\";\nexport {default as interpolateOranges, scheme as schemeOranges} from \"./sequential-single/Oranges.js\";\nexport {default as interpolateCividis} from \"./sequential-multi/cividis.js\";\nexport {default as interpolateCubehelixDefault} from \"./sequential-multi/cubehelix.js\";\nexport {default as interpolateRainbow, warm as interpolateWarm, cool as interpolateCool} from \"./sequential-multi/rainbow.js\";\nexport {default as interpolateSinebow} from \"./sequential-multi/sinebow.js\";\nexport {default as interpolateTurbo} from \"./sequential-multi/turbo.js\";\nexport {default as interpolateViridis, magma as interpolateMagma, inferno as interpolateInferno, plasma as interpolatePlasma} from \"./sequential-multi/viridis.js\";\n", "// https://d3js.org/d3-dispatch/ Version 1.0.1. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, function (exports) { 'use strict';\n\n  var noop = {value: function() {}};\n\n  function dispatch() {\n    for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n      if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n      _[t] = [];\n    }\n    return new Dispatch(_);\n  }\n\n  function Dispatch(_) {\n    this._ = _;\n  }\n\n  function parseTypenames(typenames, types) {\n    return typenames.trim().split(/^|\\s+/).map(function(t) {\n      var name = \"\", i = t.indexOf(\".\");\n      if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n      if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n      return {type: t, name: name};\n    });\n  }\n\n  Dispatch.prototype = dispatch.prototype = {\n    constructor: Dispatch,\n    on: function(typename, callback) {\n      var _ = this._,\n          T = parseTypenames(typename + \"\", _),\n          t,\n          i = -1,\n          n = T.length;\n\n      // If no callback was specified, return the callback of the given type and name.\n      if (arguments.length < 2) {\n        while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n        return;\n      }\n\n      // If a type was specified, set the callback for the given type and name.\n      // Otherwise, if a null callback was specified, remove callbacks of the given name.\n      if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      while (++i < n) {\n        if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n        else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n      }\n\n      return this;\n    },\n    copy: function() {\n      var copy = {}, _ = this._;\n      for (var t in _) copy[t] = _[t].slice();\n      return new Dispatch(copy);\n    },\n    call: function(type, that) {\n      if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n      if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n      for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n    },\n    apply: function(type, that, args) {\n      if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n      for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n    }\n  };\n\n  function get(type, name) {\n    for (var i = 0, n = type.length, c; i < n; ++i) {\n      if ((c = type[i]).name === name) {\n        return c.value;\n      }\n    }\n  }\n\n  function set(type, name, callback) {\n    for (var i = 0, n = type.length; i < n; ++i) {\n      if (type[i].name === name) {\n        type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n        break;\n      }\n    }\n    if (callback != null) type.push({name: name, value: callback});\n    return type;\n  }\n\n  exports.dispatch = dispatch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));", "var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n", "export {default as dispatch} from \"./dispatch.js\";\n", "// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n", "import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n", "export default x => () => x;\n", "export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n", "import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n", "export {default as drag} from \"./drag.js\";\nexport {default as dragDisable, yesdrag as dragEnable} from \"./nodrag.js\";\n", "var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we\u2019ve set an alarm, if we haven\u2019t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n", "import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n", "export {\n  now,\n  timer,\n  timerFlush\n} from \"./timer.js\";\n\nexport {\n  default as timeout\n} from \"./timeout.js\";\n\nexport {\n  default as interval\n} from \"./interval.js\";\n", "import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n", "import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n", "import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n", "import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we\u2019re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we\u2019re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n", "import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n", "import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n", "import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n", "import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n", "import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n", "import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n", "import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n", "import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n", "import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n", "import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we\u2019re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n", "function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n", "import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n", "import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n", "import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n", "import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we\u2019re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n", "function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n", "import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n", "function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n", "import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n", "import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we\u2019re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n", "import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n", "export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n", "export {\n  linear as easeLinear\n} from \"./linear.js\";\n\nexport {\n  quadInOut as easeQuad,\n  quadIn as easeQuadIn,\n  quadOut as easeQuadOut,\n  quadInOut as easeQuadInOut\n} from \"./quad.js\";\n\nexport {\n  cubicInOut as easeCubic,\n  cubicIn as easeCubicIn,\n  cubicOut as easeCubicOut,\n  cubicInOut as easeCubicInOut\n} from \"./cubic.js\";\n\nexport {\n  polyInOut as easePoly,\n  polyIn as easePolyIn,\n  polyOut as easePolyOut,\n  polyInOut as easePolyInOut\n} from \"./poly.js\";\n\nexport {\n  sinInOut as easeSin,\n  sinIn as easeSinIn,\n  sinOut as easeSinOut,\n  sinInOut as easeSinInOut\n} from \"./sin.js\";\n\nexport {\n  expInOut as easeExp,\n  expIn as easeExpIn,\n  expOut as easeExpOut,\n  expInOut as easeExpInOut\n} from \"./exp.js\";\n\nexport {\n  circleInOut as easeCircle,\n  circleIn as easeCircleIn,\n  circleOut as easeCircleOut,\n  circleInOut as easeCircleInOut\n} from \"./circle.js\";\n\nexport {\n  bounceOut as easeBounce,\n  bounceIn as easeBounceIn,\n  bounceOut as easeBounceOut,\n  bounceInOut as easeBounceInOut\n} from \"./bounce.js\";\n\nexport {\n  backInOut as easeBack,\n  backIn as easeBackIn,\n  backOut as easeBackOut,\n  backInOut as easeBackInOut\n} from \"./back.js\";\n\nexport {\n  elasticOut as easeElastic,\n  elasticIn as easeElasticIn,\n  elasticOut as easeElasticOut,\n  elasticInOut as easeElasticInOut\n} from \"./elastic.js\";\n", "import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n", "import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n", "import \"./selection/index.js\";\nexport {default as transition} from \"./transition/index.js\";\nexport {default as active} from \"./active.js\";\nexport {default as interrupt} from \"./interrupt.js\";\n", "export default x => () => x;\n", "export default function BrushEvent(type, {\n  sourceEvent,\n  target,\n  selection,\n  mode,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    selection: {value: selection, enumerable: true, configurable: true},\n    mode: {value: mode, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n", "export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n", "import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name \u201C__brush\u201D rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n", "export {\n  default as brush,\n  brushX,\n  brushY,\n  brushSelection\n} from \"./brush.js\";\n", "export default x => () => x;\n", "export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n", "export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n", "export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n", "import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won\u2019t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n", "export {default as zoom} from \"./zoom.js\";\nexport {default as zoomTransform, identity as zoomIdentity, Transform as ZoomTransform} from \"./transform.js\";\n", "(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-array'), require('d3-scale'), require('d3-time'), require('d3-random'), require('d3-fetch'), require('d3-path'), require('d3-selection'), require('d3-shape'), require('d3-scale-chromatic'), require('d3-dispatch'), require('d3-brush'), require('d3-zoom')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'd3-array', 'd3-scale', 'd3-time', 'd3-random', 'd3-fetch', 'd3-path', 'd3-selection', 'd3-shape', 'd3-scale-chromatic', 'd3-dispatch', 'd3-brush', 'd3-zoom'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.fc = {}, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3));\n})(this, (function (exports, d3Array, d3Scale, d3Time, d3Random, d3Fetch, d3Path, d3Selection, d3Shape, d3ScaleChromatic, d3Dispatch, d3Brush, d3Zoom) { 'use strict';\n\n    var createReboundMethod = (function (target, source, name) {\n      var method = source[name];\n      if (typeof method !== 'function') {\n        throw new Error(\"Attempt to rebind \".concat(name, \" which isn't a function on the source object\"));\n      }\n      return function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        var value = method.apply(source, args);\n        return value === source ? target : value;\n      };\n    });\n\n    var rebind = (function (target, source) {\n      for (var _len = arguments.length, names = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        names[_key - 2] = arguments[_key];\n      }\n      for (var _i = 0, _names = names; _i < _names.length; _i++) {\n        var name = _names[_i];\n        target[name] = createReboundMethod(target, source, name);\n      }\n      return target;\n    });\n\n    var createTransform = function createTransform(transforms) {\n      return function (name) {\n        return transforms.reduce(function (name, fn) {\n          return name && fn(name);\n        }, name);\n      };\n    };\n    var rebindAll = (function (target, source) {\n      for (var _len = arguments.length, transforms = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        transforms[_key - 2] = arguments[_key];\n      }\n      var transform = createTransform(transforms);\n      for (var _i = 0, _Object$keys = Object.keys(source); _i < _Object$keys.length; _i++) {\n        var name = _Object$keys[_i];\n        var result = transform(name);\n        if (result) {\n          target[result] = createReboundMethod(target, source, name);\n        }\n      }\n      return target;\n    });\n\n    var regexify = (function (strsOrRegexes) {\n      return strsOrRegexes.map(function (strOrRegex) {\n        return typeof strOrRegex === 'string' ? new RegExp(\"^\".concat(strOrRegex, \"$\")) : strOrRegex;\n      });\n    });\n\n    var exclude = (function () {\n      for (var _len = arguments.length, exclusions = new Array(_len), _key = 0; _key < _len; _key++) {\n        exclusions[_key] = arguments[_key];\n      }\n      exclusions = regexify(exclusions);\n      return function (name) {\n        return exclusions.every(function (exclusion) {\n          return !exclusion.test(name);\n        }) && name;\n      };\n    });\n\n    var include = (function () {\n      for (var _len = arguments.length, inclusions = new Array(_len), _key = 0; _key < _len; _key++) {\n        inclusions[_key] = arguments[_key];\n      }\n      inclusions = regexify(inclusions);\n      return function (name) {\n        return inclusions.some(function (inclusion) {\n          return inclusion.test(name);\n        }) && name;\n      };\n    });\n\n    var includeMap = (function (mappings) {\n      return function (name) {\n        return mappings[name];\n      };\n    });\n\n    var capitalizeFirstLetter = function capitalizeFirstLetter(str) {\n      return str[0].toUpperCase() + str.slice(1);\n    };\n    var prefix = (function (prefix) {\n      return function (name) {\n        return prefix + capitalizeFirstLetter(name);\n      };\n    });\n\n    function identity$5(d) {\n      return d;\n    }\n    function noop(d) {}\n    function functor$6(v) {\n      return typeof v === 'function' ? v : function () {\n        return v;\n      };\n    }\n    function convertNaN(value) {\n      return typeof value === 'number' && isNaN(value) ? undefined : value;\n    }\n\n    function _slidingWindow () {\n      var period = function period() {\n        return 10;\n      };\n      var accumulator = noop;\n      var value = identity$5;\n      var defined = function defined(d) {\n        return d != null;\n      };\n      var slidingWindow = function slidingWindow(data) {\n        var size = period.apply(this, arguments);\n        var windowData = data.slice(0, size).map(value);\n        return data.map(function (d, i) {\n          if (i >= size) {\n            // Treat windowData as FIFO rolling buffer\n            windowData.shift();\n            windowData.push(value(d, i));\n          }\n          if (i < size - 1 || windowData.some(function (d) {\n            return !defined(d);\n          })) {\n            return accumulator(undefined, i);\n          }\n          return accumulator(windowData, i);\n        });\n      };\n      slidingWindow.period = function () {\n        if (!arguments.length) {\n          return period;\n        }\n        period = functor$6(arguments.length <= 0 ? undefined : arguments[0]);\n        return slidingWindow;\n      };\n      slidingWindow.accumulator = function () {\n        if (!arguments.length) {\n          return accumulator;\n        }\n        accumulator = arguments.length <= 0 ? undefined : arguments[0];\n        return slidingWindow;\n      };\n      slidingWindow.defined = function () {\n        if (!arguments.length) {\n          return defined;\n        }\n        defined = arguments.length <= 0 ? undefined : arguments[0];\n        return slidingWindow;\n      };\n      slidingWindow.value = function () {\n        if (!arguments.length) {\n          return value;\n        }\n        value = arguments.length <= 0 ? undefined : arguments[0];\n        return slidingWindow;\n      };\n      return slidingWindow;\n    }\n\n    function bollingerBands () {\n      var multiplier = 2;\n      var slidingWindow = _slidingWindow().accumulator(function (values) {\n        var stdDev = values && d3Array.deviation(values);\n        var average = values && d3Array.mean(values);\n        return {\n          average: average,\n          upper: convertNaN(average + multiplier * stdDev),\n          lower: convertNaN(average - multiplier * stdDev)\n        };\n      });\n      var bollingerBands = function bollingerBands(data) {\n        return slidingWindow(data);\n      };\n      bollingerBands.multiplier = function () {\n        if (!arguments.length) {\n          return multiplier;\n        }\n        multiplier = arguments.length <= 0 ? undefined : arguments[0];\n        return bollingerBands;\n      };\n      rebind(bollingerBands, slidingWindow, 'period', 'value');\n      return bollingerBands;\n    }\n\n    function exponentialMovingAverage () {\n      var value = identity$5;\n      var period = function period() {\n        return 9;\n      };\n      var initialMovingAverageAccumulator = function initialMovingAverageAccumulator(period) {\n        var values = [];\n        return function (value) {\n          var movingAverage;\n          if (values.length < period) {\n            if (value != null) {\n              values.push(value);\n            } else {\n              values = [];\n            }\n          }\n          if (values.length >= period) {\n            movingAverage = d3Array.mean(values);\n          }\n          return movingAverage;\n        };\n      };\n      var exponentialMovingAverage = function exponentialMovingAverage(data) {\n        var size = period.apply(this, arguments);\n        var alpha = 2 / (size + 1);\n        var initialAccumulator = initialMovingAverageAccumulator(size);\n        var ema;\n        return data.map(function (d, i) {\n          var v = value(d, i);\n          if (ema === undefined) {\n            ema = initialAccumulator(v);\n          } else {\n            ema = v * alpha + (1 - alpha) * ema;\n          }\n          return convertNaN(ema);\n        });\n      };\n      exponentialMovingAverage.period = function () {\n        if (!arguments.length) {\n          return period;\n        }\n        period = functor$6(arguments.length <= 0 ? undefined : arguments[0]);\n        return exponentialMovingAverage;\n      };\n      exponentialMovingAverage.value = function () {\n        if (!arguments.length) {\n          return value;\n        }\n        value = arguments.length <= 0 ? undefined : arguments[0];\n        return exponentialMovingAverage;\n      };\n      return exponentialMovingAverage;\n    }\n\n    function macd () {\n      var value = identity$5;\n      var fastEMA = exponentialMovingAverage().period(12);\n      var slowEMA = exponentialMovingAverage().period(26);\n      var signalEMA = exponentialMovingAverage().period(9);\n      var macd = function macd(data) {\n        fastEMA.value(value);\n        slowEMA.value(value);\n        var diff = d3Array.zip(fastEMA(data), slowEMA(data)).map(function (d) {\n          return d[0] !== undefined && d[1] !== undefined ? d[0] - d[1] : undefined;\n        });\n        var averageDiff = signalEMA(diff);\n        return d3Array.zip(diff, averageDiff).map(function (d) {\n          return {\n            macd: d[0],\n            signal: d[1],\n            divergence: d[0] !== undefined && d[1] !== undefined ? d[0] - d[1] : undefined\n          };\n        });\n      };\n      macd.value = function () {\n        if (!arguments.length) {\n          return value;\n        }\n        value = arguments.length <= 0 ? undefined : arguments[0];\n        return macd;\n      };\n      rebindAll(macd, fastEMA, includeMap({\n        'period': 'fastPeriod'\n      }));\n      rebindAll(macd, slowEMA, includeMap({\n        'period': 'slowPeriod'\n      }));\n      rebindAll(macd, signalEMA, includeMap({\n        'period': 'signalPeriod'\n      }));\n      return macd;\n    }\n\n    function _arrayLikeToArray(r, a) {\n      (null == a || a > r.length) && (a = r.length);\n      for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n      return n;\n    }\n    function _arrayWithHoles(r) {\n      if (Array.isArray(r)) return r;\n    }\n    function _arrayWithoutHoles(r) {\n      if (Array.isArray(r)) return _arrayLikeToArray(r);\n    }\n    function _assertThisInitialized(e) {\n      if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      return e;\n    }\n    function _classCallCheck(a, n) {\n      if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n    function _construct(t, e, r) {\n      if (_isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments);\n      var o = [null];\n      o.push.apply(o, e);\n      var p = new (t.bind.apply(t, o))();\n      return r && _setPrototypeOf(p, r.prototype), p;\n    }\n    function _defineProperties(e, r) {\n      for (var t = 0; t < r.length; t++) {\n        var o = r[t];\n        o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o);\n      }\n    }\n    function _createClass(e, r, t) {\n      return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n        writable: !1\n      }), e;\n    }\n    function _createForOfIteratorHelper(r, e) {\n      var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n      if (!t) {\n        if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) {\n          t && (r = t);\n          var n = 0,\n            F = function () {};\n          return {\n            s: F,\n            n: function () {\n              return n >= r.length ? {\n                done: !0\n              } : {\n                done: !1,\n                value: r[n++]\n              };\n            },\n            e: function (r) {\n              throw r;\n            },\n            f: F\n          };\n        }\n        throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }\n      var o,\n        a = !0,\n        u = !1;\n      return {\n        s: function () {\n          t = t.call(r);\n        },\n        n: function () {\n          var r = t.next();\n          return a = r.done, r;\n        },\n        e: function (r) {\n          u = !0, o = r;\n        },\n        f: function () {\n          try {\n            a || null == t.return || t.return();\n          } finally {\n            if (u) throw o;\n          }\n        }\n      };\n    }\n    function _createSuper(t) {\n      var r = _isNativeReflectConstruct();\n      return function () {\n        var e,\n          o = _getPrototypeOf(t);\n        if (r) {\n          var s = _getPrototypeOf(this).constructor;\n          e = Reflect.construct(o, arguments, s);\n        } else e = o.apply(this, arguments);\n        return _possibleConstructorReturn(this, e);\n      };\n    }\n    function _getPrototypeOf(t) {\n      return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n        return t.__proto__ || Object.getPrototypeOf(t);\n      }, _getPrototypeOf(t);\n    }\n    function _inherits(t, e) {\n      if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n      t.prototype = Object.create(e && e.prototype, {\n        constructor: {\n          value: t,\n          writable: !0,\n          configurable: !0\n        }\n      }), Object.defineProperty(t, \"prototype\", {\n        writable: !1\n      }), e && _setPrototypeOf(t, e);\n    }\n    function _isNativeFunction(t) {\n      try {\n        return -1 !== Function.toString.call(t).indexOf(\"[native code]\");\n      } catch (n) {\n        return \"function\" == typeof t;\n      }\n    }\n    function _isNativeReflectConstruct() {\n      try {\n        var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n      } catch (t) {}\n      return (_isNativeReflectConstruct = function () {\n        return !!t;\n      })();\n    }\n    function _iterableToArray(r) {\n      if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n    }\n    function _iterableToArrayLimit(r, l) {\n      var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n      if (null != t) {\n        var e,\n          n,\n          i,\n          u,\n          a = [],\n          f = !0,\n          o = !1;\n        try {\n          if (i = (t = t.call(r)).next, 0 === l) {\n            if (Object(t) !== t) return;\n            f = !1;\n          } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n        } catch (r) {\n          o = !0, n = r;\n        } finally {\n          try {\n            if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return;\n          } finally {\n            if (o) throw n;\n          }\n        }\n        return a;\n      }\n    }\n    function _nonIterableRest() {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    function _nonIterableSpread() {\n      throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    function _possibleConstructorReturn(t, e) {\n      if (e && (\"object\" == typeof e || \"function\" == typeof e)) return e;\n      if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n      return _assertThisInitialized(t);\n    }\n    function _setPrototypeOf(t, e) {\n      return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n        return t.__proto__ = e, t;\n      }, _setPrototypeOf(t, e);\n    }\n    function _slicedToArray(r, e) {\n      return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n    }\n    function _toArray(r) {\n      return _arrayWithHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableRest();\n    }\n    function _toConsumableArray(r) {\n      return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n    }\n    function _toPrimitive(t, r) {\n      if (\"object\" != typeof t || !t) return t;\n      var e = t[Symbol.toPrimitive];\n      if (void 0 !== e) {\n        var i = e.call(t, r || \"default\");\n        if (\"object\" != typeof i) return i;\n        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n      }\n      return (\"string\" === r ? String : Number)(t);\n    }\n    function _toPropertyKey(t) {\n      var i = _toPrimitive(t, \"string\");\n      return \"symbol\" == typeof i ? i : i + \"\";\n    }\n    function _typeof(o) {\n      \"@babel/helpers - typeof\";\n\n      return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n        return typeof o;\n      } : function (o) {\n        return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n      }, _typeof(o);\n    }\n    function _unsupportedIterableToArray(r, a) {\n      if (r) {\n        if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n        var t = {}.toString.call(r).slice(8, -1);\n        return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n      }\n    }\n    function _wrapNativeSuper(t) {\n      var r = \"function\" == typeof Map ? new Map() : void 0;\n      return _wrapNativeSuper = function (t) {\n        if (null === t || !_isNativeFunction(t)) return t;\n        if (\"function\" != typeof t) throw new TypeError(\"Super expression must either be null or a function\");\n        if (void 0 !== r) {\n          if (r.has(t)) return r.get(t);\n          r.set(t, Wrapper);\n        }\n        function Wrapper() {\n          return _construct(t, arguments, _getPrototypeOf(this).constructor);\n        }\n        return Wrapper.prototype = Object.create(t.prototype, {\n          constructor: {\n            value: Wrapper,\n            enumerable: !1,\n            writable: !0,\n            configurable: !0\n          }\n        }), _setPrototypeOf(Wrapper, t);\n      }, _wrapNativeSuper(t);\n    }\n\n    function relativeStrengthIndex () {\n      var slidingWindow = _slidingWindow().period(14);\n      var wildersSmoothing = function wildersSmoothing(values, prevAvg) {\n        return prevAvg + (values[values.length - 1] - prevAvg) / values.length;\n      };\n      var downChange = function downChange(_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n          prevClose = _ref2[0],\n          close = _ref2[1];\n        return prevClose < close ? 0 : prevClose - close;\n      };\n      var upChange = function upChange(_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n          prevClose = _ref4[0],\n          close = _ref4[1];\n        return prevClose > close ? 0 : close - prevClose;\n      };\n      var updateAverage = function updateAverage(changes, prevAverage) {\n        return prevAverage !== undefined ? wildersSmoothing(changes, prevAverage) : d3Array.mean(changes);\n      };\n      var makeAccumulator = function makeAccumulator() {\n        var prevClose;\n        var downChangesAvg;\n        var upChangesAvg;\n        return function (closes) {\n          if (!closes) {\n            if (prevClose !== undefined) {\n              prevClose = NaN;\n            }\n            return undefined;\n          }\n          if (prevClose === undefined) {\n            prevClose = closes[0];\n            return undefined;\n          }\n          var closePairs = d3Array.pairs([prevClose].concat(_toConsumableArray(closes)));\n          downChangesAvg = updateAverage(closePairs.map(downChange), downChangesAvg);\n          upChangesAvg = updateAverage(closePairs.map(upChange), upChangesAvg);\n          var rs = !isNaN(prevClose) ? upChangesAvg / downChangesAvg : NaN;\n          return convertNaN(100 - 100 / (1 + rs));\n        };\n      };\n      var rsi = function rsi(data) {\n        var rsiAccumulator = makeAccumulator();\n        slidingWindow.accumulator(rsiAccumulator);\n        return slidingWindow(data);\n      };\n      rebind(rsi, slidingWindow, 'period', 'value');\n      return rsi;\n    }\n\n    function movingAverage () {\n      var slidingWindow = _slidingWindow().accumulator(function (values) {\n        return values && d3Array.mean(values);\n      });\n      var movingAverage = function movingAverage(data) {\n        return slidingWindow(data);\n      };\n      rebind(movingAverage, slidingWindow, 'period', 'value');\n      return movingAverage;\n    }\n\n    function stochasticOscillator () {\n      var closeValue = function closeValue(d, i) {\n        return d.close;\n      };\n      var highValue = function highValue(d, i) {\n        return d.high;\n      };\n      var lowValue = function lowValue(d, i) {\n        return d.low;\n      };\n      var kWindow = _slidingWindow().period(5).defined(function (d) {\n        return closeValue(d) != null && highValue(d) != null && lowValue(d) != null;\n      }).accumulator(function (values) {\n        var maxHigh = values && d3Array.max(values, highValue);\n        var minLow = values && d3Array.min(values, lowValue);\n        var kValue = values && 100 * (closeValue(values[values.length - 1]) - minLow) / (maxHigh - minLow);\n        return convertNaN(kValue);\n      });\n      var dWindow = movingAverage().period(3);\n      var stochastic = function stochastic(data) {\n        var kValues = kWindow(data);\n        var dValues = dWindow(kValues);\n        return kValues.map(function (k, i) {\n          return {\n            k: k,\n            d: dValues[i]\n          };\n        });\n      };\n      stochastic.closeValue = function () {\n        if (!arguments.length) {\n          return closeValue;\n        }\n        closeValue = arguments.length <= 0 ? undefined : arguments[0];\n        return stochastic;\n      };\n      stochastic.highValue = function () {\n        if (!arguments.length) {\n          return highValue;\n        }\n        highValue = arguments.length <= 0 ? undefined : arguments[0];\n        return stochastic;\n      };\n      stochastic.lowValue = function () {\n        if (!arguments.length) {\n          return lowValue;\n        }\n        lowValue = arguments.length <= 0 ? undefined : arguments[0];\n        return stochastic;\n      };\n      rebindAll(stochastic, kWindow, includeMap({\n        'period': 'kPeriod'\n      }));\n      rebindAll(stochastic, dWindow, includeMap({\n        'period': 'dPeriod'\n      }));\n      return stochastic;\n    }\n\n    function forceIndex () {\n      var volumeValue = function volumeValue(d, i) {\n        return d.volume;\n      };\n      var closeValue = function closeValue(d, i) {\n        return d.close;\n      };\n      var emaComputer = exponentialMovingAverage().period(13);\n      var slidingWindow = _slidingWindow().period(2).defined(function (d) {\n        return closeValue(d) != null && volumeValue(d) != null;\n      }).accumulator(function (values) {\n        return values && convertNaN((closeValue(values[1]) - closeValue(values[0])) * volumeValue(values[1]));\n      });\n      var force = function force(data) {\n        var forceIndex = slidingWindow(data);\n        return emaComputer(forceIndex);\n      };\n      force.volumeValue = function () {\n        if (!arguments.length) {\n          return volumeValue;\n        }\n        volumeValue = arguments.length <= 0 ? undefined : arguments[0];\n        return force;\n      };\n      force.closeValue = function () {\n        if (!arguments.length) {\n          return closeValue;\n        }\n        closeValue = arguments.length <= 0 ? undefined : arguments[0];\n        return force;\n      };\n      rebind(force, emaComputer, 'period');\n      return force;\n    }\n\n    function envelope () {\n      var factor = 0.1;\n      var value = identity$5;\n      var envelope = function envelope(data) {\n        return data.map(function (d) {\n          var lower = convertNaN(value(d) * (1.0 - factor));\n          var upper = convertNaN(value(d) * (1.0 + factor));\n          return {\n            lower: lower,\n            upper: upper\n          };\n        });\n      };\n      envelope.factor = function () {\n        if (!arguments.length) {\n          return factor;\n        }\n        factor = arguments.length <= 0 ? undefined : arguments[0];\n        return envelope;\n      };\n      envelope.value = function () {\n        if (!arguments.length) {\n          return value;\n        }\n        value = arguments.length <= 0 ? undefined : arguments[0];\n        return envelope;\n      };\n      return envelope;\n    }\n\n    function elderRay () {\n      var closeValue = function closeValue(d, i) {\n        return d.close;\n      };\n      var highValue = function highValue(d, i) {\n        return d.high;\n      };\n      var lowValue = function lowValue(d, i) {\n        return d.low;\n      };\n      var emaComputer = exponentialMovingAverage().period(13);\n      var elderRay = function elderRay(data) {\n        emaComputer.value(closeValue);\n        return d3Array.zip(data, emaComputer(data)).map(function (d) {\n          var bullPower = convertNaN(highValue(d[0]) - d[1]);\n          var bearPower = convertNaN(lowValue(d[0]) - d[1]);\n          return {\n            bullPower: bullPower,\n            bearPower: bearPower\n          };\n        });\n      };\n      elderRay.closeValue = function () {\n        if (!arguments.length) {\n          return closeValue;\n        }\n        closeValue = arguments.length <= 0 ? undefined : arguments[0];\n        return elderRay;\n      };\n      elderRay.highValue = function () {\n        if (!arguments.length) {\n          return highValue;\n        }\n        highValue = arguments.length <= 0 ? undefined : arguments[0];\n        return elderRay;\n      };\n      elderRay.lowValue = function () {\n        if (!arguments.length) {\n          return lowValue;\n        }\n        lowValue = arguments.length <= 0 ? undefined : arguments[0];\n        return elderRay;\n      };\n      rebind(elderRay, emaComputer, 'period');\n      return elderRay;\n    }\n\n    function identity$4 () {\n      var identity = {};\n      identity.distance = function (start, end) {\n        return end - start;\n      };\n      identity.offset = function (start, offset) {\n        return start instanceof Date ? new Date(start.getTime() + offset) : start + offset;\n      };\n      identity.clampUp = function (d) {\n        return d;\n      };\n      identity.clampDown = function (d) {\n        return d;\n      };\n      identity.copy = function () {\n        return identity;\n      };\n      return identity;\n    }\n\n    function tickFilter(ticks, discontinuityProvider) {\n      var discontinuousTicks = ticks.map(discontinuityProvider.clampUp);\n      if (discontinuousTicks.length !== new Set(discontinuousTicks.map(function (d) {\n        return d === null || d === void 0 ? void 0 : d.valueOf();\n      })).size) {\n        console.warn('There are multiple ticks that fall within a discontinuity, which has led to them being rendered on top of each other. Consider using scale.ticks to explicitly specify the ticks for the scale.');\n      }\n      return discontinuousTicks;\n    }\n\n    function discontinuous(adaptedScale) {\n      var _this = this;\n      if (!arguments.length) {\n        adaptedScale = d3Scale.scaleIdentity();\n      }\n      var discontinuityProvider = identity$4();\n      var scale = function scale(value) {\n        var domain = adaptedScale.domain();\n        var range = adaptedScale.range();\n\n        // The discontinuityProvider is responsible for determine the distance between two points\n        // along a scale that has discontinuities (i.e. sections that have been removed).\n        // the scale for the given point 'x' is calculated as the ratio of the discontinuous distance\n        // over the domain of this axis, versus the discontinuous distance to 'x'\n        var totalDomainDistance = discontinuityProvider.distance(domain[0], domain[1]);\n        var distanceToX = discontinuityProvider.distance(domain[0], value);\n        var ratioToX = distanceToX / totalDomainDistance;\n        var scaledByRange = ratioToX * (range[1] - range[0]) + range[0];\n        return scaledByRange;\n      };\n      scale.invert = function (x) {\n        var domain = adaptedScale.domain();\n        var range = adaptedScale.range();\n        var ratioToX = (x - range[0]) / (range[1] - range[0]);\n        var totalDomainDistance = discontinuityProvider.distance(domain[0], domain[1]);\n        var distanceToX = ratioToX * totalDomainDistance;\n        return discontinuityProvider.offset(domain[0], distanceToX);\n      };\n      scale.domain = function () {\n        if (!arguments.length) {\n          return adaptedScale.domain();\n        }\n        var newDomain = arguments.length <= 0 ? undefined : arguments[0];\n\n        // clamp the upper and lower domain values to ensure they\n        // do not fall within a discontinuity\n        var domainLower = discontinuityProvider.clampUp(newDomain[0]);\n        var domainUpper = discontinuityProvider.clampDown(newDomain[1]);\n        adaptedScale.domain([domainLower, domainUpper]);\n        return scale;\n      };\n      scale.nice = function () {\n        adaptedScale.nice();\n        var domain = adaptedScale.domain();\n        var domainLower = discontinuityProvider.clampUp(domain[0]);\n        var domainUpper = discontinuityProvider.clampDown(domain[1]);\n        adaptedScale.domain([domainLower, domainUpper]);\n        return scale;\n      };\n      scale.ticks = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        var ticks = adaptedScale.ticks.apply(_this, args);\n        return tickFilter(ticks, discontinuityProvider);\n      };\n      scale.copy = function () {\n        return discontinuous(adaptedScale.copy()).discontinuityProvider(discontinuityProvider.copy());\n      };\n      scale.discontinuityProvider = function () {\n        if (!arguments.length) {\n          return discontinuityProvider;\n        }\n        discontinuityProvider = arguments.length <= 0 ? undefined : arguments[0];\n        return scale;\n      };\n      rebindAll(scale, adaptedScale, include('range', 'rangeRound', 'interpolate', 'clamp', 'tickFormat'));\n      return scale;\n    }\n\n    var base$1 = function base(dayAccessor, intervalDay, intervalSaturday, intervalMonday) {\n      // the indices returned by dayAccessor(date)\n      var day = {\n        sunday: 0,\n        monday: 1,\n        saturday: 6\n      };\n      var millisPerDay = 24 * 3600 * 1000;\n      var millisPerWorkWeek = millisPerDay * 5;\n      var millisPerWeek = millisPerDay * 7;\n      var skipWeekends = {};\n      var isWeekend = function isWeekend(date) {\n        return dayAccessor(date) === 0 || dayAccessor(date) === 6;\n      };\n      skipWeekends.clampDown = function (date) {\n        if (date && isWeekend(date)) {\n          // round the date up to midnight\n          var newDate = intervalDay.ceil(date);\n          // then subtract the required number of days\n          if (dayAccessor(newDate) === day.sunday) {\n            return intervalDay.offset(newDate, -1);\n          } else if (dayAccessor(newDate) === day.monday) {\n            return intervalDay.offset(newDate, -2);\n          } else {\n            return newDate;\n          }\n        } else {\n          return date;\n        }\n      };\n      skipWeekends.clampUp = function (date) {\n        if (date && isWeekend(date)) {\n          // round the date down to midnight\n          var newDate = intervalDay.floor(date);\n          // then add the required number of days\n          if (dayAccessor(newDate) === day.saturday) {\n            return intervalDay.offset(newDate, 2);\n          } else if (dayAccessor(newDate) === day.sunday) {\n            return intervalDay.offset(newDate, 1);\n          } else {\n            return newDate;\n          }\n        } else {\n          return date;\n        }\n      };\n\n      // returns the number of included milliseconds (i.e. those which do not fall)\n      // within discontinuities, along this scale\n      skipWeekends.distance = function (startDate, endDate) {\n        startDate = skipWeekends.clampUp(startDate);\n        endDate = skipWeekends.clampDown(endDate);\n\n        // move the start date to the end of week boundary\n        var offsetStart = intervalSaturday.ceil(startDate);\n        if (endDate < offsetStart) {\n          return endDate.getTime() - startDate.getTime();\n        }\n        var msAdded = offsetStart.getTime() - startDate.getTime();\n\n        // move the end date to the end of week boundary\n        var offsetEnd = intervalSaturday.ceil(endDate);\n        var msRemoved = offsetEnd.getTime() - endDate.getTime();\n\n        // determine how many weeks there are between these two dates\n        // round to account for DST transitions\n        var weeks = Math.round((offsetEnd.getTime() - offsetStart.getTime()) / millisPerWeek);\n        return weeks * millisPerWorkWeek + msAdded - msRemoved;\n      };\n      skipWeekends.offset = function (startDate, ms) {\n        var date = isWeekend(startDate) ? skipWeekends.clampUp(startDate) : startDate;\n        if (ms === 0) {\n          return date;\n        }\n        var isNegativeOffset = ms < 0;\n        var isPositiveOffset = ms > 0;\n        var remainingms = ms;\n\n        // move to the end of week boundary for a postive offset or to the start of a week for a negative offset\n        var weekBoundary = isNegativeOffset ? intervalMonday.floor(date) : intervalSaturday.ceil(date);\n        remainingms -= weekBoundary.getTime() - date.getTime();\n\n        // if the distance to the boundary is greater than the number of ms\n        // simply add the ms to the current date\n        if (isNegativeOffset && remainingms > 0 || isPositiveOffset && remainingms < 0) {\n          return new Date(date.getTime() + ms);\n        }\n\n        // skip the weekend for a positive offset\n        date = isNegativeOffset ? weekBoundary : intervalDay.offset(weekBoundary, 2);\n\n        // add all of the complete weeks to the date\n        var completeWeeks = Math.floor(remainingms / millisPerWorkWeek);\n        date = intervalDay.offset(date, completeWeeks * 7);\n        remainingms -= completeWeeks * millisPerWorkWeek;\n\n        // add the remaining time\n        date = new Date(date.getTime() + remainingms);\n        return date;\n      };\n      skipWeekends.copy = function () {\n        return skipWeekends;\n      };\n      return skipWeekends;\n    };\n    var skipWeekends$1 = (function () {\n      return base$1(function (date) {\n        return date.getDay();\n      }, d3Time.timeDay, d3Time.timeSaturday, d3Time.timeMonday);\n    });\n\n    var skipUtcWeekends = (function () {\n      return base$1(function (date) {\n        return date.getUTCDay();\n      }, d3Time.utcDay, d3Time.utcSaturday, d3Time.utcMonday);\n    });\n\n    var provider = function provider() {\n      for (var _len = arguments.length, ranges = new Array(_len), _key = 0; _key < _len; _key++) {\n        ranges[_key] = arguments[_key];\n      }\n      var inRange = function inRange(number, range) {\n        return number > range[0] && number < range[1];\n      };\n      var surroundsRange = function surroundsRange(inner, outer) {\n        return inner[0] >= outer[0] && inner[1] <= outer[1];\n      };\n      var identity = {};\n      identity.distance = function (start, end) {\n        start = identity.clampUp(start);\n        end = identity.clampDown(end);\n        var surroundedRanges = ranges.filter(function (r) {\n          return surroundsRange(r, [start, end]);\n        });\n        var rangeSizes = surroundedRanges.map(function (r) {\n          return r[1] - r[0];\n        });\n        return end - start - rangeSizes.reduce(function (total, current) {\n          return total + current;\n        }, 0);\n      };\n      var add = function add(value, offset) {\n        return value instanceof Date ? new Date(value.getTime() + offset) : value + offset;\n      };\n      identity.offset = function (location, offset) {\n        if (offset > 0) {\n          var currentLocation = identity.clampUp(location);\n          var offsetRemaining = offset;\n          while (offsetRemaining > 0) {\n            var futureRanges = ranges.filter(function (r) {\n              return r[0] > currentLocation;\n            }).sort(function (a, b) {\n              return a[0] - b[0];\n            });\n            if (futureRanges.length) {\n              var nextRange = futureRanges[0];\n              var delta = nextRange[0] - currentLocation;\n              if (delta > offsetRemaining) {\n                currentLocation = add(currentLocation, offsetRemaining);\n                offsetRemaining = 0;\n              } else {\n                currentLocation = nextRange[1];\n                offsetRemaining -= delta;\n              }\n            } else {\n              currentLocation = add(currentLocation, offsetRemaining);\n              offsetRemaining = 0;\n            }\n          }\n          return currentLocation;\n        } else {\n          var _currentLocation = identity.clampDown(location);\n          var _offsetRemaining = offset;\n          while (_offsetRemaining < 0) {\n            var _futureRanges = ranges.filter(function (r) {\n              return r[1] < _currentLocation;\n            }).sort(function (a, b) {\n              return b[0] - a[0];\n            });\n            if (_futureRanges.length) {\n              var _nextRange = _futureRanges[0];\n              var _delta = _nextRange[1] - _currentLocation;\n              if (_delta < _offsetRemaining) {\n                _currentLocation = add(_currentLocation, _offsetRemaining);\n                _offsetRemaining = 0;\n              } else {\n                _currentLocation = _nextRange[0];\n                _offsetRemaining -= _delta;\n              }\n            } else {\n              _currentLocation = add(_currentLocation, _offsetRemaining);\n              _offsetRemaining = 0;\n            }\n          }\n          return _currentLocation;\n        }\n      };\n      identity.clampUp = function (d) {\n        return ranges.reduce(function (value, range) {\n          return inRange(value, range) ? range[1] : value;\n        }, d);\n      };\n      identity.clampDown = function (d) {\n        return ranges.reduce(function (value, range) {\n          return inRange(value, range) ? range[0] : value;\n        }, d);\n      };\n      identity.copy = function () {\n        return identity;\n      };\n      return identity;\n    };\n\n    var millisPerDay = 24 * 3600 * 1000;\n    var dayBoundary = \"00:00:00.000\";\n    var SOD = 'SOD';\n    var EOD = 'EOD';\n\n    /**\n     * Attempts to parse and format a time string into a fixed lenght string 'hh:mm:ss.fff'\n     * @param {string} timeString - string representation of time 'hh:mm:ss.fff' e.g. '09:30' or '00:00:00.000'\n     * @returns {int[]} array of parsed time components [hh, mm, ss, ms] or throws.\n     */\n    function standardiseTimeString(timeString) {\n      if (arguments.length !== 1 || typeof timeString !== 'string') {\n        throw 'Expected single argument of type string';\n      }\n      var isPositiveIntegerUpTo = function isPositiveIntegerUpTo(toCheck, upperBound) {\n        if (!Number.isInteger(toCheck)) return false;\n        return toCheck >= 0 && toCheck <= upperBound;\n      };\n      var result = [0, 0, 0, 0];\n      var time_components = timeString.split(\":\");\n      if (time_components.length < 2 || time_components.length > 3) {\n        throw 'Expected an argument wiht 2 or 3 colon delimited parts.';\n      }\n      result[0] = isPositiveIntegerUpTo(parseInt(time_components[0], 10), 23) ? parseInt(time_components[0], 10) : function () {\n        throw \"'Hours' component must be an int between 0 and 23, but was '\".concat(time_components[0], \"'\");\n      }();\n      result[1] = isPositiveIntegerUpTo(parseInt(time_components[1], 10), 59) ? parseInt(time_components[1], 10) : function () {\n        throw \"'Minutes' component must be an int between 0 and 59, but was '\".concat(time_components[1], \"'\");\n      }();\n      if (time_components.length === 3) {\n        var ms_components = time_components[2].split(\".\").map(function (x) {\n          return parseInt(x, 10);\n        });\n        result[2] = isPositiveIntegerUpTo(ms_components[0], 59) ? ms_components[0] : function () {\n          throw \"'Seconds' component must be an int between 0 and 59, but was '\".concat(ms_components[0], \"'\");\n        }();\n        if (ms_components.length === 2) {\n          result[3] = isPositiveIntegerUpTo(ms_components[1], 999) ? ms_components[1] : function () {\n            throw \"'Miliseconds' component must be an int between 0 and 999, but was '\".concat(ms_components[1], \"'\");\n          }();\n        }\n      }\n      return \"\".concat(result[0].toString(10).padStart(2, '0'), \":\").concat(result[1].toString(10).padStart(2, '0'), \":\").concat(result[2].toString(10).padStart(2, '0'), \".\").concat(result[3].toString(10).padStart(3, '0'));\n    }\n\n    /**\n     * @typedef { Object } nonTradingTimeRange\n     * @property { string } startTime - Start time string with fixed format 'hh:mm:ss.fff'\n     * @property { string } endTime - End time string with fixed format 'hh:mm:ss.fff'\n     * @property { int } lenghtInMs - Absolute length in MS i.e. only valid on non-Daylight saving boundaries\n     */\n\n    /**\n     * Represents a single continous Non-Trading time interval within a single day. You must denote day boundries as:\n     * SOD - start of day \n     * EOD  - end of day\n     * @constructor\n     * @param { string[] } timeRangeTuple - Time range as a tuple of time strings e.g. [\"07:45\", \"08:30\"), [\"SOD\", \"08:30:20\") or [\"19:00:45.500\", \"EOD\").\n     * @param { import('./dateTimeUtility').DateTimeUtility } dateTimeUtility\n     * @returns { nonTradingTimeRange }\n     */\n    function nonTradingTimeRange(timeRangeTuple, dateTimeUtility) {\n      if (arguments.length != 2 || !Array.isArray(timeRangeTuple) || timeRangeTuple.length !== 2 || typeof timeRangeTuple[0] !== 'string' || typeof timeRangeTuple[1] !== 'string') {\n        throw \"Expected argument is a single string[] of length 2.\";\n      }\n      if (timeRangeTuple[0] === SOD) {\n        timeRangeTuple[0] = dayBoundary;\n      }\n      if (timeRangeTuple[1] === EOD) {\n        timeRangeTuple[1] = dayBoundary;\n      }\n      var startTime = standardiseTimeString(timeRangeTuple[0]);\n      var endTime = standardiseTimeString(timeRangeTuple[1]);\n      if (endTime !== dayBoundary && startTime > endTime) {\n        throw \"Time range start time '\".concat(startTime, \"' must be before end time '\").concat(endTime, \"' or both must equal \").concat(dayBoundary);\n      }\n      var lenghtInMs = dateTimeUtility.setTime(new Date(endTime === dayBoundary ? millisPerDay : 0), endTime) - dateTimeUtility.setTime(new Date(0), startTime);\n      var instance = {\n        startTime: startTime,\n        endTime: endTime,\n        lenghtInMs: lenghtInMs\n      };\n\n      /**\n       * Returns if given date's time portion is within this discontinuity time range instance\n       * @param { Date } date - date\n       * @returns { boolean }\n       */\n      instance.isInRange = function (date) {\n        var time = dateTimeUtility.getTimeString(date);\n        if (instance.startTime <= time && (instance.endTime === dayBoundary || instance.endTime > time)) {\n          return true;\n        }\n        return false;\n      };\n      return instance;\n    }\n\n    /**\n     * Represents a Trading day\n     * @param { string[][] } rawDiscontinuityTimeRanges - Array of time range tuples e.g. [[\"07:45\", \"08:30\"), [\"19:00:45.500\", \"EOD\")]\n     * @param { import('./dateTimeUtility').DateTimeUtility } dateTimeUtility\n     */\n    var tradingDay = function tradingDay(rawDiscontinuityTimeRanges, dateTimeUtility) {\n      var nonTradingTimeRanges = rawDiscontinuityTimeRanges.map(function (rawRange) {\n        return nonTradingTimeRange(rawRange, dateTimeUtility);\n      }).sort(function (a, b) {\n        return a.startTime < b.startTime ? -1 : a.startTime > b.startTime ? 1 : 0;\n      });\n      var totalTradingTimeInMiliseconds = millisPerDay - nonTradingTimeRanges.reduce(function (total, range) {\n        return total + range.lenghtInMs;\n      }, 0);\n      var totalTradingMillisecondsBetween = function totalTradingMillisecondsBetween(intervalStart, intervalEnd) {\n        if (intervalStart.getTime() === intervalEnd.getTime()) {\n          return 0;\n        }\n\n        // ensure arguments are on the same day or intervalEnd is the next day boundary\n        if (dateTimeUtility.dayInterval(intervalStart).getTime() !== dateTimeUtility.dayInterval(intervalEnd).getTime() && dateTimeUtility.getStartOfNextDay(intervalStart).getTime() !== intervalEnd.getTime()) {\n          throw \"tradingDay.totalTradingMillisecondsBetween arguments must be on the same day or intervalEnd must be the start of the next day instead: intervalStart: '\".concat(intervalStart, \"'; intervalEnd: '\").concat(intervalEnd, \"'\");\n        }\n        var total = 0;\n        var relevantDiscontinuityRanges = nonTradingTimeRanges.filter(function (range) {\n          return range.endTime === dayBoundary || dateTimeUtility.setTime(intervalStart, range.endTime) >= intervalStart;\n        });\n        var _iterator = _createForOfIteratorHelper(relevantDiscontinuityRanges),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var nonTradingRange = _step.value;\n            var nonTradingStart = dateTimeUtility.setTime(intervalStart, nonTradingRange.startTime);\n            var nonTradingEnd = nonTradingRange.endTime === dayBoundary ? dateTimeUtility.getStartOfNextDay(intervalStart) : dateTimeUtility.setTime(intervalStart, nonTradingRange.endTime);\n\n            // both intervalStart and intervalEnd are before the start of this non-trading range\n            if (intervalStart < nonTradingStart && intervalEnd < nonTradingStart) {\n              return total + dateTimeUtility.msInterval.count(intervalStart, intervalEnd);\n            }\n\n            // intervalStart is before the start of this non-trading time range\n            if (intervalStart < nonTradingStart) {\n              total += dateTimeUtility.msInterval.count(intervalStart, nonTradingStart);\n            }\n\n            // interval ends within non-trading range\n            if (intervalEnd < nonTradingEnd) {\n              return total;\n            }\n\n            // set interval start to the end of non-trading range\n            intervalStart = nonTradingEnd;\n          }\n\n          // add any interval time still left after iterating through all non-trading ranges\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        return total + dateTimeUtility.msInterval.count(intervalStart, intervalEnd);\n      };\n      var offset = function offset(date, ms) {\n        if (ms === 0) {\n          return [date, ms];\n        }\n        var offsetDate = dateTimeUtility.msInterval.offset(date, ms);\n        var nonTradingRanges = ms > 0 ? nonTradingTimeRanges.filter(function (range) {\n          return dateTimeUtility.setTime(date, range.startTime) >= date;\n        }) : nonTradingTimeRanges.filter(function (range) {\n          return dateTimeUtility.setTime(date, range.startTime) < date;\n        }).reverse();\n        if (nonTradingRanges.length === 0) {\n          return [dateTimeUtility.msInterval.offset(date, ms), 0];\n        }\n        if (ms > 0) {\n          var _iterator2 = _createForOfIteratorHelper(nonTradingRanges),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var nonTradingRange = _step2.value;\n              var rangeStart = dateTimeUtility.setTime(date, nonTradingRange.startTime);\n              if (rangeStart <= offsetDate) {\n                // offsetDate is within non-trading range\n                ms -= dateTimeUtility.msInterval.count(date, rangeStart);\n                date = nonTradingRange.endTime === dayBoundary ? dateTimeUtility.getStartOfNextDay(date) : dateTimeUtility.setTime(date, nonTradingRange.endTime);\n                offsetDate = dateTimeUtility.msInterval.offset(date, ms);\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n          ms -= dateTimeUtility.msInterval.count(date, offsetDate);\n        } else {\n          var _iterator3 = _createForOfIteratorHelper(nonTradingRanges),\n            _step3;\n          try {\n            for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n              var _nonTradingRange = _step3.value;\n              var endTime = _nonTradingRange.endTime === dayBoundary ? dateTimeUtility.getStartOfNextDay(date) : dateTimeUtility.setTime(date, _nonTradingRange.endTime);\n              if (offsetDate < endTime) {\n                // offsetDate is within non-trading range\n                ms += dateTimeUtility.msInterval.count(endTime, date) + 1;\n                date = dateTimeUtility.msInterval.offset(dateTimeUtility.setTime(date, _nonTradingRange.startTime), -1);\n                offsetDate = dateTimeUtility.msInterval.offset(date, ms);\n              }\n            }\n          } catch (err) {\n            _iterator3.e(err);\n          } finally {\n            _iterator3.f();\n          }\n          ms += dateTimeUtility.msInterval.count(offsetDate, date);\n        }\n        if (ms !== 0) {\n          throw 'tradingDay.offset was called with an offset that spans more than a day';\n        }\n        return [offsetDate, ms];\n      };\n      return {\n        totalTradingTimeInMiliseconds: totalTradingTimeInMiliseconds,\n        nonTradingTimeRanges: nonTradingTimeRanges,\n        totalTradingMillisecondsBetween: totalTradingMillisecondsBetween,\n        offset: offset\n      };\n    };\n\n    /**\n     * Object that helps with working with time strings and dates\n     * @typedef { Object } DateTimeUtility\n     * @property { function(Date): string } getTimeString - get's the time string for date as 'hh:mm:ss.fff'\n     * @property { function(Date , string, number): Date } setTime - set the time  for date as\n     * @property { function(Date): Date } getStartOfNextDay - returns the start of the next day i.e. 00:00:00.000\n     * @property { function(Date): Date } getEndOfPreviousDay - returns the 'End' of the previous day i.e. one ms before midnight\n     */\n\n    /**\n     * \n     * @param {function(Date, number, number, number, number): Date } setTimeForDate - sets a time on a Date object given hh, mm, ss & ms time compononets\n     * @param {function(Date): number } getDay \n     * @param {function(Date): number[] } getTimeComponentArray \n     * @param {function} dayInterval - d3-time timeDay or utcDay\n     * @param {function} msInterval - d3-time timeMillisecond or utcMillisecond\n      * @returns {DateTimeUtility}\n     */\n    var dateTimeUtility = function dateTimeUtility(setTimeForDate, getDay, getTimeComponentArray, dayInterval, msInterval) {\n      var utility = {};\n      utility.getTimeComponentArrayFromString = function (timeString) {\n        return [timeString.slice(0, 2), timeString.slice(3, 5), timeString.slice(6, 8), timeString.slice(9, 12)];\n      };\n      /**\n          * Returns the local time part of a given Date instance as 'hh:mm:ss.fff'\n          * @param {Date} date - Data instance\n          * @returns {string} time string.\n          */\n      utility.getTimeString = function (date) {\n        var _getTimeComponentArra = getTimeComponentArray(date).map(function (x) {\n            return x.toString(10).padStart(2, '0');\n          }),\n          _getTimeComponentArra2 = _slicedToArray(_getTimeComponentArra, 4),\n          hh = _getTimeComponentArra2[0],\n          mm = _getTimeComponentArra2[1],\n          ss = _getTimeComponentArra2[2],\n          ms = _getTimeComponentArra2[3];\n        return \"\".concat(hh, \":\").concat(mm, \":\").concat(ss, \".\").concat(ms.padStart(3, '0'));\n      };\n\n      /**\n       * Returns the combined local date and time string\n       * @param {Date} date - Data instance\n       * @param {string} timeString - string as 'hh:mm:ss.fff'\n       * @param {number} offsetInmilliSeconds - additional offset in millisends. Default = 0; e.g. -1 is one millisecond before time specified by timeString;\n       * @returns {Date} - combined date and time.\n       */\n      utility.setTime = function (date, timeString) {\n        var offsetInmilliSeconds = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        var _utility$getTimeCompo = utility.getTimeComponentArrayFromString(timeString),\n          _utility$getTimeCompo2 = _slicedToArray(_utility$getTimeCompo, 4),\n          hh = _utility$getTimeCompo2[0],\n          mm = _utility$getTimeCompo2[1],\n          ss = _utility$getTimeCompo2[2],\n          ms = _utility$getTimeCompo2[3];\n        return msInterval.offset(setTimeForDate(date, hh, mm, ss, ms), offsetInmilliSeconds);\n      };\n\n      /**\n       * Returns the start of the next day i.e. 00:00:00.000\n       * @param {Date} date - Data instance\n       * @returns {Date}.\n       */\n      utility.getStartOfNextDay = function (date) {\n        return dayInterval.offset(dayInterval.floor(date), 1);\n      };\n\n      /**\n       * Returns the end of the previous day (1ms before midnight) i.e.  23:59:59.999\n       * @param {Date} date - Data instance\n       * @returns {Date}.\n       */\n      utility.getEndOfPreviousDay = function (date) {\n        return msInterval.offset(dayInterval.floor(date), -1);\n      };\n      utility.dayInterval = dayInterval;\n      utility.msInterval = msInterval;\n      utility.getDay = getDay;\n      return utility;\n    };\n\n    var localDateTimeUtility = dateTimeUtility(function (date, hh, mm, ss, ms) {\n      return new Date(date.getFullYear(), date.getMonth(), date.getDate(), hh, mm, ss, ms);\n    }, function (date) {\n      return date.getDay();\n    }, function (date) {\n      return [date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()];\n    }, d3Time.timeDay, d3Time.timeMillisecond);\n\n    /**\n     * Discontinuity provider implemenation that works with 'non-trading' periods during a trading day\n     * @typedef { Object } WeeklyPatternDiscontinuityProvider\n     * @property { function(Date): Date } clampUp - When given a value, if it falls within a discontinuity (i.e. an excluded domain range) it should be shifted forwards to the discontinuity boundary. Otherwise, it should be returned unchanged.\n     * @property { function(Date): Date } clampDown - When given a value, if it falls within a discontinuity it should be shifted backwards to the discontinuity boundary. Otherwise, it should be returned unchanged.\n     * @property { function(Date, Date): number } distance - When given a pair of values, this function returns the distance between the, in domain units, minus any discontinuities. discontinuities.\n     * @property { function(Date, number): Date } offset - When given a value and an offset, the value should be advanced by the offset value, skipping any discontinuities, to return the final value.\n     * @property { function(): WeeklyPatternDiscontinuityProvider } copy - Creates a copy of the discontinuity provider.\n      */\n\n    /**\n     * Creates WeeklyPatternDiscontinuityProvider\n     * @param {Object} nonTradingPattern - contains raw 'non-trading' time ranges for each day of the week\n     * @param {DateTimeUtility} dateTimeUtility - uses local or utc dates\n     * @returns { WeeklyPatternDiscontinuityProvider } WeeklyPatternDiscontinuityProvider\n     */\n    var base = function base(nonTradingPattern, dateTimeUtility) {\n      var getDayPatternOrDefault = function getDayPatternOrDefault(day) {\n        return nonTradingPattern[day] === undefined ? [] : nonTradingPattern[day];\n      };\n      var tradingDays = [tradingDay(getDayPatternOrDefault('Sunday'), dateTimeUtility), tradingDay(getDayPatternOrDefault('Monday'), dateTimeUtility), tradingDay(getDayPatternOrDefault('Tuesday'), dateTimeUtility), tradingDay(getDayPatternOrDefault('Wednesday'), dateTimeUtility), tradingDay(getDayPatternOrDefault('Thursday'), dateTimeUtility), tradingDay(getDayPatternOrDefault('Friday'), dateTimeUtility), tradingDay(getDayPatternOrDefault('Saturday'), dateTimeUtility)];\n      var totalTradingWeekMilliseconds = tradingDays.reduce(function (total, tradingDay) {\n        return total + tradingDay.totalTradingTimeInMiliseconds;\n      }, 0);\n      if (totalTradingWeekMilliseconds === 0) {\n        throw 'Trading pattern must yield at least 1 ms of trading time';\n      }\n      var instance = {\n        tradingDays: tradingDays,\n        totalTradingWeekMilliseconds: totalTradingWeekMilliseconds\n      };\n\n      /**\n       * When given a value falls within a discontinuity (i.e. an excluded domain range) it should be shifted forwards to the discontinuity boundary. \n       * Otherwise, it should be returns unchanged.\n       * @param {Date} date - date to clamp up\n       * @returns {Date}\n       */\n      instance.clampUp = function (date) {\n        var tradingDay = tradingDays[dateTimeUtility.getDay(date)];\n        var _iterator = _createForOfIteratorHelper(tradingDay.nonTradingTimeRanges),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var range = _step.value;\n            if (range.isInRange(date)) {\n              return range.endTime === dayBoundary ? instance.clampUp(dateTimeUtility.getStartOfNextDay(date)) : dateTimeUtility.setTime(date, range.endTime);\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        return date;\n      };\n\n      /** \n       * When given a value, if it falls within a discontinuity it should be shifted backwards to the discontinuity boundary. Otherwise, it should be returned unchanged.\n       * @param {Date} date - date to clamp down\n       * @returns {Date}\n      */\n      instance.clampDown = function (date) {\n        var tradingDay = tradingDays[dateTimeUtility.getDay(date)];\n        var _iterator2 = _createForOfIteratorHelper(tradingDay.nonTradingTimeRanges),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var range = _step2.value;\n            if (range.isInRange(date)) {\n              return range.startTime === dayBoundary ? instance.clampDown(dateTimeUtility.getEndOfPreviousDay(date)) : dateTimeUtility.setTime(date, range.startTime, -1);\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n        return date;\n      };\n\n      /**\n       * When given a pair of values, this function returns the distance between the, in domain units, minus any discontinuities. discontinuities.\n       * @param {Date} startDate \n       * @param {Date} endDate \n       * @returns {number} - the number of milliseconds between the dates\n       */\n      instance.distance = function (startDate, endDate) {\n        if (startDate.getTime() === endDate.getTime()) {\n          return 0;\n        }\n        var _ref = startDate <= endDate ? [startDate, endDate, 1] : [endDate, startDate, -1],\n          _ref2 = _slicedToArray(_ref, 3),\n          start = _ref2[0],\n          end = _ref2[1],\n          factor = _ref2[2];\n\n        // same day distance\n        if (dateTimeUtility.dayInterval(start).getTime() === dateTimeUtility.dayInterval(end).getTime()) {\n          return instance.tradingDays[dateTimeUtility.getDay(start)].totalTradingMillisecondsBetween(start, end);\n        }\n\n        // combine any trading time left in the day after startDate \n        // and any trading time from midnight up until the endDate\n        var total = instance.tradingDays[dateTimeUtility.getDay(start)].totalTradingMillisecondsBetween(start, dateTimeUtility.dayInterval.offset(dateTimeUtility.dayInterval(start), 1)) + instance.tradingDays[dateTimeUtility.getDay(end)].totalTradingMillisecondsBetween(dateTimeUtility.dayInterval(end), end);\n\n        // startDate and endDate are consecutive days    \n        if (dateTimeUtility.dayInterval.count(start, end) === 1) {\n          return total;\n        }\n\n        // move the start date to following day\n        start = dateTimeUtility.dayInterval.offset(dateTimeUtility.dayInterval(start), 1);\n        // floor endDate to remove 'time component'\n        end = dateTimeUtility.dayInterval(end);\n        return factor * dateTimeUtility.dayInterval.range(start, end).reduce(function (runningTotal, currentDay, currentIndex, arr) {\n          var nextDay = currentIndex < arr.length - 1 ? arr[currentIndex + 1] : dateTimeUtility.dayInterval.offset(currentDay, 1);\n          var isDstBoundary = nextDay - currentDay !== millisPerDay;\n          var tradingDay = instance.tradingDays[dateTimeUtility.getDay(currentDay)];\n          return runningTotal += isDstBoundary ? tradingDay.totalTradingMillisecondsBetween(currentDay, nextDay) : tradingDay.totalTradingTimeInMiliseconds;\n        }, total);\n      };\n\n      /**\n       * When given a value and an offset in milliseconds, the value should be advanced by the offset value, skipping any discontinuities, to return the final value.\n       * @param {Date} date \n       * @param {number} ms \n       */\n      instance.offset = function (date, ms) {\n        date = ms >= 0 ? instance.clampUp(date) : instance.clampDown(date);\n        var isDstBoundary = function isDstBoundary(d) {\n          return dateTimeUtility.dayInterval.offset(d) - dateTimeUtility.dayInterval(d) !== millisPerDay;\n        };\n        var moveToDayBoundary = function moveToDayBoundary(tradingDay, date, ms) {\n          if (ms < 0) {\n            var dateFloor = dateTimeUtility.dayInterval(date);\n            var distanceToStartOfDay = tradingDay.totalTradingMillisecondsBetween(dateFloor, date);\n            return Math.abs(ms) <= distanceToStartOfDay ? tradingDay.offset(date, ms) : [instance.clampDown(dateTimeUtility.msInterval.offset(dateFloor, -1)), ms + distanceToStartOfDay + 1];\n          } else {\n            var nextDate = dateTimeUtility.getStartOfNextDay(date);\n            var distanceToDayBoundary = tradingDay.totalTradingMillisecondsBetween(date, nextDate);\n            return ms < distanceToDayBoundary ? tradingDay.offset(date, ms) : [instance.clampUp(nextDate), ms - distanceToDayBoundary];\n          }\n        };\n        if (ms === 0) return date;\n        var moveDateDelegate = ms < 0 ? function (date, remainingMs, tradingDayMs) {\n          return [instance.clampDown(dateTimeUtility.dayInterval.offset(date, -1)), remainingMs + tradingDayMs];\n        } : function (date, remainingMs, tradingDayMs) {\n          return [instance.clampUp(dateTimeUtility.dayInterval.offset(date)), remainingMs - tradingDayMs];\n        };\n        var tradingDay = instance.tradingDays[dateTimeUtility.getDay(date)];\n        var _moveToDayBoundary = moveToDayBoundary(tradingDay, date, ms);\n        var _moveToDayBoundary2 = _slicedToArray(_moveToDayBoundary, 2);\n        date = _moveToDayBoundary2[0];\n        ms = _moveToDayBoundary2[1];\n        while (ms !== 0) {\n          tradingDay = instance.tradingDays[dateTimeUtility.getDay(date)];\n          if (isDstBoundary(date)) {\n            var _moveToDayBoundary3 = moveToDayBoundary(tradingDay, date, ms);\n            var _moveToDayBoundary4 = _slicedToArray(_moveToDayBoundary3, 2);\n            date = _moveToDayBoundary4[0];\n            ms = _moveToDayBoundary4[1];\n          } else {\n            var _ref3 = Math.abs(ms) >= tradingDay.totalTradingTimeInMiliseconds ? moveDateDelegate(date, ms, tradingDay.totalTradingTimeInMiliseconds) : moveToDayBoundary(tradingDay, date, ms);\n            var _ref4 = _slicedToArray(_ref3, 2);\n            date = _ref4[0];\n            ms = _ref4[1];\n          }\n        }\n        return date;\n      };\n      instance.copy = function () {\n        return instance;\n      };\n      return instance;\n    };\n    var skipWeeklyPattern = (function (nonTradingHoursPattern) {\n      return base(nonTradingHoursPattern, localDateTimeUtility);\n    });\n\n    var utcDateTimeUtility = dateTimeUtility(function (date, hh, mm, ss, ms) {\n      return new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), hh, mm, ss, ms));\n    }, function (date) {\n      return date.getUTCDay();\n    }, function (date) {\n      return [date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds()];\n    }, d3Time.utcDay, d3Time.utcMillisecond);\n    var skipUtcWeeklyPattern = (function (nonTradingUtcHoursPattern) {\n      return base(nonTradingUtcHoursPattern, utcDateTimeUtility);\n    });\n\n    function linearExtent () {\n      var accessors = [function (d) {\n        return d;\n      }];\n      var pad = [0, 0];\n      var padUnit = 'percent';\n      var symmetricalAbout = null;\n      var include = [];\n      var instance = function instance(data) {\n        var values = new Array(data.length);\n        var _iterator = _createForOfIteratorHelper(accessors),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var accessor = _step.value;\n            for (var i = 0; i < data.length; i++) {\n              var value = accessor(data[i], i);\n              if (Array.isArray(value)) {\n                values.push.apply(values, _toConsumableArray(value));\n              } else {\n                values.push(value);\n              }\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        var extent = [d3Array.min(values), d3Array.max(values)];\n        extent[0] = extent[0] == null ? d3Array.min(include) : d3Array.min([extent[0]].concat(_toConsumableArray(include)));\n        extent[1] = extent[1] == null ? d3Array.max(include) : d3Array.max([extent[1]].concat(_toConsumableArray(include)));\n        if (symmetricalAbout != null) {\n          var halfRange = Math.max(Math.abs(extent[1] - symmetricalAbout), Math.abs(extent[0] - symmetricalAbout));\n          extent[0] = symmetricalAbout - halfRange;\n          extent[1] = symmetricalAbout + halfRange;\n        }\n        switch (padUnit) {\n          case 'domain':\n            {\n              extent[0] -= pad[0];\n              extent[1] += pad[1];\n              break;\n            }\n          case 'percent':\n            {\n              var delta = extent[1] - extent[0];\n              extent[0] -= pad[0] * delta;\n              extent[1] += pad[1] * delta;\n              break;\n            }\n          default:\n            throw new Error(\"Unknown padUnit: \".concat(padUnit));\n        }\n        return extent;\n      };\n      instance.accessors = function () {\n        if (!arguments.length) {\n          return accessors;\n        }\n        accessors = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.pad = function () {\n        if (!arguments.length) {\n          return pad;\n        }\n        pad = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.padUnit = function () {\n        if (!arguments.length) {\n          return padUnit;\n        }\n        padUnit = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.include = function () {\n        if (!arguments.length) {\n          return include;\n        }\n        include = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.symmetricalAbout = function () {\n        if (!arguments.length) {\n          return symmetricalAbout;\n        }\n        symmetricalAbout = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      return instance;\n    }\n\n    function time () {\n      var accessors = [];\n      var pad = [0, 0];\n      var padUnit = 'percent';\n      var symmetricalAbout = null;\n      var include = [];\n      var extent = linearExtent();\n      var valueOf = function valueOf(date) {\n        return date != null ? date.valueOf() : null;\n      };\n      var instance = function instance(data) {\n        var adaptedAccessors = accessors.map(function (accessor) {\n          return function () {\n            var value = accessor.apply(void 0, arguments);\n            return Array.isArray(value) ? value.map(valueOf) : valueOf(value);\n          };\n        });\n        extent.accessors(adaptedAccessors).pad(pad).padUnit(padUnit).symmetricalAbout(symmetricalAbout != null ? symmetricalAbout.valueOf() : null).include(include.map(function (date) {\n          return date.valueOf();\n        }));\n        return extent(data).map(function (value) {\n          return new Date(value);\n        });\n      };\n      instance.accessors = function () {\n        if (!arguments.length) {\n          return accessors;\n        }\n        accessors = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.pad = function () {\n        if (!arguments.length) {\n          return pad;\n        }\n        pad = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.padUnit = function () {\n        if (!arguments.length) {\n          return padUnit;\n        }\n        padUnit = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.include = function () {\n        if (!arguments.length) {\n          return include;\n        }\n        include = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.symmetricalAbout = function () {\n        if (!arguments.length) {\n          return symmetricalAbout;\n        }\n        symmetricalAbout = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      return instance;\n    }\n\n    function geometricBrownianMotion () {\n      var period = 1;\n      var steps = 20;\n      var mu = 0.1;\n      var sigma = 0.1;\n      var random = d3Random.randomNormal();\n      var geometricBrownianMotion = function geometricBrownianMotion() {\n        var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var timeStep = period / steps;\n        var pathData = [];\n        for (var i = 0; i < steps + 1; i++) {\n          pathData.push(value);\n          var increment = random() * Math.sqrt(timeStep) * sigma + (mu - sigma * sigma / 2) * timeStep;\n          value = value * Math.exp(increment);\n        }\n        return pathData;\n      };\n      geometricBrownianMotion.period = function () {\n        if (!arguments.length) {\n          return period;\n        }\n        period = arguments.length <= 0 ? undefined : arguments[0];\n        return geometricBrownianMotion;\n      };\n      geometricBrownianMotion.steps = function () {\n        if (!arguments.length) {\n          return steps;\n        }\n        steps = arguments.length <= 0 ? undefined : arguments[0];\n        return geometricBrownianMotion;\n      };\n      geometricBrownianMotion.mu = function () {\n        if (!arguments.length) {\n          return mu;\n        }\n        mu = arguments.length <= 0 ? undefined : arguments[0];\n        return geometricBrownianMotion;\n      };\n      geometricBrownianMotion.sigma = function () {\n        if (!arguments.length) {\n          return sigma;\n        }\n        sigma = arguments.length <= 0 ? undefined : arguments[0];\n        return geometricBrownianMotion;\n      };\n      geometricBrownianMotion.random = function () {\n        if (!arguments.length) {\n          return random;\n        }\n        random = arguments.length <= 0 ? undefined : arguments[0];\n        return geometricBrownianMotion;\n      };\n      return geometricBrownianMotion;\n    }\n\n    function functor$5(v) {\n      return typeof v === 'function' ? v : function () {\n        return v;\n      };\n    }\n\n    function financial () {\n      var startDate = new Date();\n      var startPrice = 100;\n      var interval = d3Time.timeDay;\n      var intervalStep = 1;\n      var unitInterval = d3Time.timeYear;\n      var unitIntervalStep = 1;\n      var filter = null;\n      var volume = function volume() {\n        var normal = d3Random.randomNormal(1, 0.1);\n        return Math.ceil(normal() * 1000);\n      };\n      var gbm = geometricBrownianMotion();\n      var getOffsetPeriod = function getOffsetPeriod(date) {\n        var unitMilliseconds = unitInterval.offset(date, unitIntervalStep) - date;\n        return (interval.offset(date, intervalStep) - date) / unitMilliseconds;\n      };\n      var calculateOHLC = function calculateOHLC(start, price) {\n        var period = getOffsetPeriod(start);\n        var prices = gbm.period(period)(price);\n        var ohlc = {\n          date: start,\n          open: prices[0],\n          high: Math.max.apply(Math, prices),\n          low: Math.min.apply(Math, prices),\n          close: prices[gbm.steps()]\n        };\n        ohlc.volume = volume(ohlc);\n        return ohlc;\n      };\n      var getNextDatum = function getNextDatum(ohlc) {\n        var date, price, filtered;\n        do {\n          date = ohlc ? interval.offset(ohlc.date, intervalStep) : new Date(startDate.getTime());\n          price = ohlc ? ohlc.close : startPrice;\n          ohlc = calculateOHLC(date, price);\n          filtered = filter && !filter(ohlc);\n        } while (filtered);\n        return ohlc;\n      };\n      var makeStream = function makeStream() {\n        var latest;\n        var stream = {};\n        stream.next = function () {\n          var ohlc = getNextDatum(latest);\n          latest = ohlc;\n          return ohlc;\n        };\n        stream.take = function (numPoints) {\n          return stream.until(function (d, i) {\n            return !numPoints || numPoints < 0 || i === numPoints;\n          });\n        };\n        stream.until = function (comparison) {\n          var data = [];\n          var index = 0;\n          var ohlc = getNextDatum(latest);\n          var compared = comparison && !comparison(ohlc, index);\n          while (compared) {\n            data.push(ohlc);\n            latest = ohlc;\n            ohlc = getNextDatum(latest);\n            index += 1;\n            compared = comparison && !comparison(ohlc, index);\n          }\n          return data;\n        };\n        return stream;\n      };\n      var financial = function financial(numPoints) {\n        return makeStream().take(numPoints);\n      };\n      financial.stream = makeStream;\n      if (typeof Symbol !== 'function' || _typeof(Symbol.iterator) !== 'symbol') {\n        throw new Error('d3fc-random-data depends on Symbol. Make sure that you load a polyfill in older browsers. See README.');\n      }\n      financial[Symbol.iterator] = function () {\n        var stream = makeStream();\n        return {\n          next: function next() {\n            return {\n              value: stream.next(),\n              done: false\n            };\n          }\n        };\n      };\n      financial.startDate = function () {\n        if (!arguments.length) {\n          return startDate;\n        }\n        startDate = arguments.length <= 0 ? undefined : arguments[0];\n        return financial;\n      };\n      financial.startPrice = function () {\n        if (!arguments.length) {\n          return startPrice;\n        }\n        startPrice = arguments.length <= 0 ? undefined : arguments[0];\n        return financial;\n      };\n      financial.interval = function () {\n        if (!arguments.length) {\n          return interval;\n        }\n        interval = arguments.length <= 0 ? undefined : arguments[0];\n        return financial;\n      };\n      financial.intervalStep = function () {\n        if (!arguments.length) {\n          return intervalStep;\n        }\n        intervalStep = arguments.length <= 0 ? undefined : arguments[0];\n        return financial;\n      };\n      financial.unitInterval = function () {\n        if (!arguments.length) {\n          return unitInterval;\n        }\n        unitInterval = arguments.length <= 0 ? undefined : arguments[0];\n        return financial;\n      };\n      financial.unitIntervalStep = function () {\n        if (!arguments.length) {\n          return unitIntervalStep;\n        }\n        unitIntervalStep = arguments.length <= 0 ? undefined : arguments[0];\n        return financial;\n      };\n      financial.filter = function () {\n        if (!arguments.length) {\n          return filter;\n        }\n        filter = arguments.length <= 0 ? undefined : arguments[0];\n        return financial;\n      };\n      financial.volume = function () {\n        if (!arguments.length) {\n          return volume;\n        }\n        volume = functor$5(arguments.length <= 0 ? undefined : arguments[0]);\n        return financial;\n      };\n      rebindAll(financial, gbm);\n      return financial;\n    }\n\n    function skipWeekends (datum) {\n      var day = datum.date.getDay();\n      return !(day === 0 || day === 6);\n    }\n\n    // https://docs.gdax.com/#market-data\n    function gdax () {\n      var product = 'BTC-USD';\n      var start = null;\n      var end = null;\n      var granularity = null;\n      var gdax = function gdax() {\n        var params = [];\n        if (start != null) {\n          params.push('start=' + start.toISOString());\n        }\n        if (end != null) {\n          params.push('end=' + end.toISOString());\n        }\n        if (granularity != null) {\n          params.push('granularity=' + granularity);\n        }\n        var url = 'https://api.gdax.com/products/' + product + '/candles?' + params.join('&');\n        return d3Fetch.json(url).then(function (data) {\n          return data.map(function (d) {\n            return {\n              date: new Date(d[0] * 1000),\n              open: d[3],\n              high: d[2],\n              low: d[1],\n              close: d[4],\n              volume: d[5]\n            };\n          });\n        });\n      };\n      gdax.product = function (x) {\n        if (!arguments.length) {\n          return product;\n        }\n        product = x;\n        return gdax;\n      };\n      gdax.start = function (x) {\n        if (!arguments.length) {\n          return start;\n        }\n        start = x;\n        return gdax;\n      };\n      gdax.end = function (x) {\n        if (!arguments.length) {\n          return end;\n        }\n        end = x;\n        return gdax;\n      };\n      gdax.granularity = function (x) {\n        if (!arguments.length) {\n          return granularity;\n        }\n        granularity = x;\n        return gdax;\n      };\n      return gdax;\n    }\n\n    function bucket () {\n      var bucketSize = 10;\n      var bucket = function bucket(data) {\n        return bucketSize <= 1 ? data.map(function (d) {\n          return [d];\n        }) : d3Array.range(0, Math.ceil(data.length / bucketSize)).map(function (i) {\n          return data.slice(i * bucketSize, (i + 1) * bucketSize);\n        });\n      };\n      bucket.bucketSize = function (x) {\n        if (!arguments.length) {\n          return bucketSize;\n        }\n        bucketSize = x;\n        return bucket;\n      };\n      return bucket;\n    }\n\n    function largestTriangleOneBucket () {\n      var dataBucketer = bucket();\n      var x = function x(d) {\n        return d;\n      };\n      var y = function y(d) {\n        return d;\n      };\n      var largestTriangleOneBucket = function largestTriangleOneBucket(data) {\n        if (dataBucketer.bucketSize() >= data.length) {\n          return data;\n        }\n        var pointAreas = calculateAreaOfPoints(data);\n        var pointAreaBuckets = dataBucketer(pointAreas);\n        var buckets = dataBucketer(data.slice(1, data.length - 1));\n        var subsampledData = buckets.map(function (thisBucket, i) {\n          var pointAreaBucket = pointAreaBuckets[i];\n          var maxArea = d3Array.max(pointAreaBucket);\n          var currentMaxIndex = pointAreaBucket.indexOf(maxArea);\n          return thisBucket[currentMaxIndex];\n        });\n\n        // First and last data points are their own buckets.\n        return [].concat([data[0]], subsampledData, [data[data.length - 1]]);\n      };\n      function calculateAreaOfPoints(data) {\n        var xyData = data.map(function (point) {\n          return [x(point), y(point)];\n        });\n        var pointAreas = d3Array.range(1, xyData.length - 1).map(function (i) {\n          var lastPoint = xyData[i - 1];\n          var thisPoint = xyData[i];\n          var nextPoint = xyData[i + 1];\n          return 0.5 * Math.abs((lastPoint[0] - nextPoint[0]) * (thisPoint[1] - lastPoint[1]) - (lastPoint[0] - thisPoint[0]) * (nextPoint[1] - lastPoint[1]));\n        });\n        return pointAreas;\n      }\n      rebind(largestTriangleOneBucket, dataBucketer, 'bucketSize');\n      largestTriangleOneBucket.x = function (d) {\n        if (!arguments.length) {\n          return x;\n        }\n        x = d;\n        return largestTriangleOneBucket;\n      };\n      largestTriangleOneBucket.y = function (d) {\n        if (!arguments.length) {\n          return y;\n        }\n        y = d;\n        return largestTriangleOneBucket;\n      };\n      return largestTriangleOneBucket;\n    }\n\n    function largestTriangleThreeBucket () {\n      var x = function x(d) {\n        return d;\n      };\n      var y = function y(d) {\n        return d;\n      };\n      var dataBucketer = bucket();\n      var largestTriangleThreeBucket = function largestTriangleThreeBucket(data) {\n        if (dataBucketer.bucketSize() >= data.length) {\n          return data;\n        }\n        var buckets = dataBucketer(data.slice(1, data.length - 1));\n        var firstBucket = data[0];\n        var lastBucket = data[data.length - 1];\n\n        // Keep track of the last selected bucket info and all buckets\n        // (for the next bucket average)\n        var allBuckets = [].concat([firstBucket], buckets, [lastBucket]);\n        var lastSelectedX = x(firstBucket);\n        var lastSelectedY = y(firstBucket);\n        var subsampledData = buckets.map(function (thisBucket, i) {\n          var nextAvgX = d3Array.mean(allBuckets[i + 1], x);\n          var nextAvgY = d3Array.mean(allBuckets[i + 1], y);\n          var xyData = thisBucket.map(function (item) {\n            return [x(item), y(item)];\n          });\n          var areas = xyData.map(function (item) {\n            return 0.5 * Math.abs((lastSelectedX - nextAvgX) * (item[1] - lastSelectedY) - (lastSelectedX - item[0]) * (nextAvgY - lastSelectedY));\n          });\n          var highestIndex = areas.indexOf(d3Array.max(areas));\n          var highestXY = xyData[highestIndex];\n          lastSelectedX = highestXY[0];\n          lastSelectedY = highestXY[1];\n          return thisBucket[highestIndex];\n        });\n\n        // First and last data points are their own buckets.\n        return [].concat([data[0]], subsampledData, [data[data.length - 1]]);\n      };\n      rebind(largestTriangleThreeBucket, dataBucketer, 'bucketSize');\n      largestTriangleThreeBucket.x = function (d) {\n        if (!arguments.length) {\n          return x;\n        }\n        x = d;\n        return largestTriangleThreeBucket;\n      };\n      largestTriangleThreeBucket.y = function (d) {\n        if (!arguments.length) {\n          return y;\n        }\n        y = d;\n        return largestTriangleThreeBucket;\n      };\n      return largestTriangleThreeBucket;\n    }\n\n    function modeMedian () {\n      var dataBucketer = bucket();\n      var value = function value(d) {\n        return d;\n      };\n      var modeMedian = function modeMedian(data) {\n        if (dataBucketer.bucketSize() > data.length) {\n          return data;\n        }\n        var minMax = d3Array.extent(data, value);\n        var buckets = dataBucketer(data.slice(1, data.length - 1));\n        var subsampledData = buckets.map(function (thisBucket, i) {\n          var frequencies = {};\n          var mostFrequent;\n          var mostFrequentIndex;\n          var singleMostFrequent = true;\n          var values = thisBucket.map(value);\n          var globalMinMax = values.filter(function (value) {\n            return value === minMax[0] || value === minMax[1];\n          }).map(function (value) {\n            return values.indexOf(value);\n          })[0];\n          if (globalMinMax !== undefined) {\n            return thisBucket[globalMinMax];\n          }\n          values.forEach(function (item, i) {\n            if (frequencies[item] === undefined) {\n              frequencies[item] = 0;\n            }\n            frequencies[item]++;\n            if (frequencies[item] > frequencies[mostFrequent] || mostFrequent === undefined) {\n              mostFrequent = item;\n              mostFrequentIndex = i;\n              singleMostFrequent = true;\n            } else if (frequencies[item] === frequencies[mostFrequent]) {\n              singleMostFrequent = false;\n            }\n          });\n          if (singleMostFrequent) {\n            return thisBucket[mostFrequentIndex];\n          } else {\n            return thisBucket[Math.floor(thisBucket.length / 2)];\n          }\n        });\n\n        // First and last data points are their own buckets.\n        return [].concat([data[0]], subsampledData, [data[data.length - 1]]);\n      };\n      rebind(modeMedian, dataBucketer, 'bucketSize');\n      modeMedian.value = function (x) {\n        if (!arguments.length) {\n          return value;\n        }\n        value = x;\n        return modeMedian;\n      };\n      return modeMedian;\n    }\n\n    var functor$4 = (function (v) {\n      return typeof v === 'function' ? v : function () {\n        return v;\n      };\n    });\n\n    // Renders an OHLC as an SVG path based on the given array of datapoints. Each\n    // OHLC has a fixed width, whilst the x, open, high, low and close positions are\n    // obtained from each point via the supplied accessor functions.\n    var shapeOhlc = (function () {\n      var context = null;\n      var x = function x(d) {\n        return d.date;\n      };\n      var open = function open(d) {\n        return d.open;\n      };\n      var high = function high(d) {\n        return d.high;\n      };\n      var low = function low(d) {\n        return d.low;\n      };\n      var close = function close(d) {\n        return d.close;\n      };\n      var orient = 'vertical';\n      var width = functor$4(3);\n      var ohlc = function ohlc(data) {\n        var drawingContext = context || d3Path.path();\n        data.forEach(function (d, i) {\n          var xValue = x(d, i);\n          var yOpen = open(d, i);\n          var yHigh = high(d, i);\n          var yLow = low(d, i);\n          var yClose = close(d, i);\n          var halfWidth = width(d, i) / 2;\n          if (orient === 'vertical') {\n            drawingContext.moveTo(xValue, yLow);\n            drawingContext.lineTo(xValue, yHigh);\n            drawingContext.moveTo(xValue, yOpen);\n            drawingContext.lineTo(xValue - halfWidth, yOpen);\n            drawingContext.moveTo(xValue, yClose);\n            drawingContext.lineTo(xValue + halfWidth, yClose);\n          } else {\n            drawingContext.moveTo(yLow, xValue);\n            drawingContext.lineTo(yHigh, xValue);\n            drawingContext.moveTo(yOpen, xValue);\n            drawingContext.lineTo(yOpen, xValue + halfWidth);\n            drawingContext.moveTo(yClose, xValue);\n            drawingContext.lineTo(yClose, xValue - halfWidth);\n          }\n        });\n        return context ? null : drawingContext.toString();\n      };\n      ohlc.context = function () {\n        if (!arguments.length) {\n          return context;\n        }\n        context = arguments.length <= 0 ? undefined : arguments[0];\n        return ohlc;\n      };\n      ohlc.x = function () {\n        if (!arguments.length) {\n          return x;\n        }\n        x = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return ohlc;\n      };\n      ohlc.open = function () {\n        if (!arguments.length) {\n          return open;\n        }\n        open = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return ohlc;\n      };\n      ohlc.high = function () {\n        if (!arguments.length) {\n          return high;\n        }\n        high = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return ohlc;\n      };\n      ohlc.low = function () {\n        if (!arguments.length) {\n          return low;\n        }\n        low = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return ohlc;\n      };\n      ohlc.close = function () {\n        if (!arguments.length) {\n          return close;\n        }\n        close = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return ohlc;\n      };\n      ohlc.width = function () {\n        if (!arguments.length) {\n          return width;\n        }\n        width = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return ohlc;\n      };\n      ohlc.orient = function () {\n        if (!arguments.length) {\n          return orient;\n        }\n        orient = arguments.length <= 0 ? undefined : arguments[0];\n        return ohlc;\n      };\n      return ohlc;\n    });\n\n    // Renders a bar series as an SVG path based on the given array of datapoints. Each\n    // bar has a fixed width, whilst the x, y and height are obtained from each data\n    // point via the supplied accessor functions.\n    var shapeBar = (function () {\n      var context = null;\n      var x = function x(d) {\n        return d.x;\n      };\n      var y = function y(d) {\n        return d.y;\n      };\n      var horizontalAlign = 'center';\n      var verticalAlign = 'center';\n      var height = function height(d) {\n        return d.height;\n      };\n      var width = functor$4(3);\n      var bar = function bar(data, index) {\n        var drawingContext = context || d3Path.path();\n        data.forEach(function (d, i) {\n          var xValue = x.call(this, d, index || i);\n          var yValue = y.call(this, d, index || i);\n          var barHeight = height.call(this, d, index || i);\n          var barWidth = width.call(this, d, index || i);\n          var horizontalOffset;\n          switch (horizontalAlign) {\n            case 'left':\n              horizontalOffset = barWidth;\n              break;\n            case 'right':\n              horizontalOffset = 0;\n              break;\n            case 'center':\n              horizontalOffset = barWidth / 2;\n              break;\n            default:\n              throw new Error('Invalid horizontal alignment ' + horizontalAlign);\n          }\n          var verticalOffset;\n          switch (verticalAlign) {\n            case 'bottom':\n              verticalOffset = -barHeight;\n              break;\n            case 'top':\n              verticalOffset = 0;\n              break;\n            case 'center':\n              verticalOffset = barHeight / 2;\n              break;\n            default:\n              throw new Error('Invalid vertical alignment ' + verticalAlign);\n          }\n          drawingContext.rect(xValue - horizontalOffset, yValue - verticalOffset, barWidth, barHeight);\n        }, this);\n        return context ? null : drawingContext.toString();\n      };\n      bar.context = function () {\n        if (!arguments.length) {\n          return context;\n        }\n        context = arguments.length <= 0 ? undefined : arguments[0];\n        return bar;\n      };\n      bar.x = function () {\n        if (!arguments.length) {\n          return x;\n        }\n        x = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return bar;\n      };\n      bar.y = function () {\n        if (!arguments.length) {\n          return y;\n        }\n        y = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return bar;\n      };\n      bar.width = function () {\n        if (!arguments.length) {\n          return width;\n        }\n        width = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return bar;\n      };\n      bar.horizontalAlign = function () {\n        if (!arguments.length) {\n          return horizontalAlign;\n        }\n        horizontalAlign = arguments.length <= 0 ? undefined : arguments[0];\n        return bar;\n      };\n      bar.height = function () {\n        if (!arguments.length) {\n          return height;\n        }\n        height = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return bar;\n      };\n      bar.verticalAlign = function () {\n        if (!arguments.length) {\n          return verticalAlign;\n        }\n        verticalAlign = arguments.length <= 0 ? undefined : arguments[0];\n        return bar;\n      };\n      return bar;\n    });\n\n    // Renders a candlestick as an SVG path based on the given array of datapoints. Each\n    // candlestick has a fixed width, whilst the x, open, high, low and close positions are\n    // obtained from each point via the supplied accessor functions.\n    var shapeCandlestick = (function () {\n      var context = null;\n      var x = function x(d) {\n        return d.date;\n      };\n      var open = function open(d) {\n        return d.open;\n      };\n      var high = function high(d) {\n        return d.high;\n      };\n      var low = function low(d) {\n        return d.low;\n      };\n      var close = function close(d) {\n        return d.close;\n      };\n      var width = functor$4(3);\n      var candlestick = function candlestick(data) {\n        var drawingContext = context || d3Path.path();\n        data.forEach(function (d, i) {\n          var xValue = x(d, i);\n          var yOpen = open(d, i);\n          var yHigh = high(d, i);\n          var yLow = low(d, i);\n          var yClose = close(d, i);\n          var barWidth = width(d, i);\n          var halfBarWidth = barWidth / 2;\n\n          // Body\n          drawingContext.rect(xValue - halfBarWidth, yOpen, barWidth, yClose - yOpen);\n          // High wick\n          // // Move to the max price of close or open; draw the high wick\n          // N.B. Math.min() is used as we're dealing with pixel values,\n          // the lower the pixel value, the higher the price!\n          drawingContext.moveTo(xValue, Math.min(yClose, yOpen));\n          drawingContext.lineTo(xValue, yHigh);\n          // Low wick\n          // // Move to the min price of close or open; draw the low wick\n          // N.B. Math.max() is used as we're dealing with pixel values,\n          // the higher the pixel value, the lower the price!\n          drawingContext.moveTo(xValue, Math.max(yClose, yOpen));\n          drawingContext.lineTo(xValue, yLow);\n        });\n        return context ? null : drawingContext.toString();\n      };\n      candlestick.context = function () {\n        if (!arguments.length) {\n          return context;\n        }\n        context = arguments.length <= 0 ? undefined : arguments[0];\n        return candlestick;\n      };\n      candlestick.x = function () {\n        if (!arguments.length) {\n          return x;\n        }\n        x = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return candlestick;\n      };\n      candlestick.open = function () {\n        if (!arguments.length) {\n          return open;\n        }\n        open = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return candlestick;\n      };\n      candlestick.high = function () {\n        if (!arguments.length) {\n          return high;\n        }\n        high = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return candlestick;\n      };\n      candlestick.low = function () {\n        if (!arguments.length) {\n          return low;\n        }\n        low = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return candlestick;\n      };\n      candlestick.close = function () {\n        if (!arguments.length) {\n          return close;\n        }\n        close = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return candlestick;\n      };\n      candlestick.width = function () {\n        if (!arguments.length) {\n          return width;\n        }\n        width = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return candlestick;\n      };\n      return candlestick;\n    });\n\n    // Renders a box plot series as an SVG path based on the given array of datapoints.\n    var shapeBoxPlot = (function () {\n      var context = null;\n      var value = function value(d) {\n        return d.value;\n      };\n      var median = function median(d) {\n        return d.median;\n      };\n      var upperQuartile = function upperQuartile(d) {\n        return d.upperQuartile;\n      };\n      var lowerQuartile = function lowerQuartile(d) {\n        return d.lowerQuartile;\n      };\n      var high = function high(d) {\n        return d.high;\n      };\n      var low = function low(d) {\n        return d.low;\n      };\n      var orient = 'vertical';\n      var width = functor$4(5);\n      var cap = functor$4(0.5);\n      var boxPlot = function boxPlot(data) {\n        var drawingContext = context || d3Path.path();\n        data.forEach(function (d, i) {\n          // naming convention is for vertical orientation\n          var _value = value(d, i);\n          var _width = width(d, i);\n          var halfWidth = _width / 2;\n          var capWidth = _width * cap(d, i);\n          var halfCapWidth = capWidth / 2;\n          var _high = high(d, i);\n          var _upperQuartile = upperQuartile(d, i);\n          var _median = median(d, i);\n          var _lowerQuartile = lowerQuartile(d, i);\n          var _low = low(d, i);\n          var upperQuartileToLowerQuartile = _lowerQuartile - _upperQuartile;\n          if (orient === 'vertical') {\n            // Upper whisker\n            drawingContext.moveTo(_value - halfCapWidth, _high);\n            drawingContext.lineTo(_value + halfCapWidth, _high);\n            drawingContext.moveTo(_value, _high);\n            drawingContext.lineTo(_value, _upperQuartile);\n\n            // Box\n            drawingContext.rect(_value - halfWidth, _upperQuartile, _width, upperQuartileToLowerQuartile);\n            drawingContext.moveTo(_value - halfWidth, _median);\n            // Median line\n            drawingContext.lineTo(_value + halfWidth, _median);\n\n            // Lower whisker\n            drawingContext.moveTo(_value, _lowerQuartile);\n            drawingContext.lineTo(_value, _low);\n            drawingContext.moveTo(_value - halfCapWidth, _low);\n            drawingContext.lineTo(_value + halfCapWidth, _low);\n          } else {\n            // Lower whisker\n            drawingContext.moveTo(_low, _value - halfCapWidth);\n            drawingContext.lineTo(_low, _value + halfCapWidth);\n            drawingContext.moveTo(_low, _value);\n            drawingContext.lineTo(_lowerQuartile, _value);\n\n            // Box\n            drawingContext.rect(_lowerQuartile, _value - halfWidth, -upperQuartileToLowerQuartile, _width);\n            drawingContext.moveTo(_median, _value - halfWidth);\n            drawingContext.lineTo(_median, _value + halfWidth);\n\n            // Upper whisker\n            drawingContext.moveTo(_upperQuartile, _value);\n            drawingContext.lineTo(_high, _value);\n            drawingContext.moveTo(_high, _value - halfCapWidth);\n            drawingContext.lineTo(_high, _value + halfCapWidth);\n          }\n        });\n        return context ? null : drawingContext.toString();\n      };\n      boxPlot.context = function () {\n        if (!arguments.length) {\n          return context;\n        }\n        context = arguments.length <= 0 ? undefined : arguments[0];\n        return boxPlot;\n      };\n      boxPlot.value = function () {\n        if (!arguments.length) {\n          return value;\n        }\n        value = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return boxPlot;\n      };\n      boxPlot.median = function () {\n        if (!arguments.length) {\n          return median;\n        }\n        median = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return boxPlot;\n      };\n      boxPlot.upperQuartile = function () {\n        if (!arguments.length) {\n          return upperQuartile;\n        }\n        upperQuartile = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return boxPlot;\n      };\n      boxPlot.lowerQuartile = function () {\n        if (!arguments.length) {\n          return lowerQuartile;\n        }\n        lowerQuartile = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return boxPlot;\n      };\n      boxPlot.high = function () {\n        if (!arguments.length) {\n          return high;\n        }\n        high = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return boxPlot;\n      };\n      boxPlot.low = function () {\n        if (!arguments.length) {\n          return low;\n        }\n        low = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return boxPlot;\n      };\n      boxPlot.width = function () {\n        if (!arguments.length) {\n          return width;\n        }\n        width = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return boxPlot;\n      };\n      boxPlot.orient = function () {\n        if (!arguments.length) {\n          return orient;\n        }\n        orient = arguments.length <= 0 ? undefined : arguments[0];\n        return boxPlot;\n      };\n      boxPlot.cap = function () {\n        if (!arguments.length) {\n          return cap;\n        }\n        cap = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return boxPlot;\n      };\n      return boxPlot;\n    });\n\n    // Renders an error bar series as an SVG path based on the given array of datapoints.\n    var shapeErrorBar = (function () {\n      var context = null;\n      var value = function value(d) {\n        return d.x;\n      };\n      var high = function high(d) {\n        return d.high;\n      };\n      var low = function low(d) {\n        return d.low;\n      };\n      var orient = 'vertical';\n      var width = functor$4(5);\n      var errorBar = function errorBar(data) {\n        var drawingContext = context || d3Path.path();\n        data.forEach(function (d, i) {\n          // naming convention is for vertical orientation\n          var _value = value(d, i);\n          var _width = width(d, i);\n          var halfWidth = _width / 2;\n          var _high = high(d, i);\n          var _low = low(d, i);\n          if (orient === 'vertical') {\n            drawingContext.moveTo(_value - halfWidth, _high);\n            drawingContext.lineTo(_value + halfWidth, _high);\n            drawingContext.moveTo(_value, _high);\n            drawingContext.lineTo(_value, _low);\n            drawingContext.moveTo(_value - halfWidth, _low);\n            drawingContext.lineTo(_value + halfWidth, _low);\n          } else {\n            drawingContext.moveTo(_low, _value - halfWidth);\n            drawingContext.lineTo(_low, _value + halfWidth);\n            drawingContext.moveTo(_low, _value);\n            drawingContext.lineTo(_high, _value);\n            drawingContext.moveTo(_high, _value - halfWidth);\n            drawingContext.lineTo(_high, _value + halfWidth);\n          }\n        });\n        return context ? null : drawingContext.toString();\n      };\n      errorBar.context = function () {\n        if (!arguments.length) {\n          return context;\n        }\n        context = arguments.length <= 0 ? undefined : arguments[0];\n        return errorBar;\n      };\n      errorBar.value = function () {\n        if (!arguments.length) {\n          return value;\n        }\n        value = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return errorBar;\n      };\n      errorBar.high = function () {\n        if (!arguments.length) {\n          return high;\n        }\n        high = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return errorBar;\n      };\n      errorBar.low = function () {\n        if (!arguments.length) {\n          return low;\n        }\n        low = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return errorBar;\n      };\n      errorBar.width = function () {\n        if (!arguments.length) {\n          return width;\n        }\n        width = functor$4(arguments.length <= 0 ? undefined : arguments[0]);\n        return errorBar;\n      };\n      errorBar.orient = function () {\n        if (!arguments.length) {\n          return orient;\n        }\n        orient = arguments.length <= 0 ? undefined : arguments[0];\n        return errorBar;\n      };\n      return errorBar;\n    });\n\n    var functor$3 = (function (d) {\n      return typeof d === 'function' ? d : function () {\n        return d;\n      };\n    });\n\n    // \"Caution: avoid interpolating to or from the number zero when the interpolator is used to generate\n    // a string (such as with attr).\n    // Very small values, when stringified, may be converted to scientific notation and\n    // cause a temporarily invalid attribute or style property value.\n    // For example, the number 0.0000001 is converted to the string \"1e-7\".\n    // This is particularly noticeable when interpolating opacity values.\n    // To avoid scientific notation, start or end the transition at 1e-6,\n    // which is the smallest value that is not stringified in exponential notation.\"\n    // - https://github.com/mbostock/d3/wiki/Transitions#d3_interpolateNumber\n    var effectivelyZero = 1e-6;\n    var isTransition = function isTransition(selectionOrTransition) {\n      return selectionOrTransition.selection() !== selectionOrTransition;\n    };\n\n    // Wrapper around d3's selectAll/data data-join, which allows decoration of the result.\n    // This is achieved by appending the element to the enter selection before exposing it.\n    // A default transition of fade in/out is also implicitly added but can be modified.\n    var dataJoin = (function (element, className) {\n      element = element || 'g';\n      var key = function key(_, i) {\n        return i;\n      };\n      var explicitTransition = null;\n      var dataJoin = function dataJoin(container, data) {\n        data = data || function (d) {\n          return d;\n        };\n        var selection = container.selection();\n        var implicitTransition = isTransition(container) ? container : null;\n        var selected = selection.selectChildren(className == null ? element : \"\".concat(element, \".\").concat(className));\n        var update = selected.data(data, key);\n        var enter = update.enter().append(element).attr('class', className);\n        var exit = update.exit();\n\n        // automatically merge in the enter selection\n        update = update.merge(enter);\n\n        // if transitions are enabled apply a default fade in/out transition\n        var transition = implicitTransition || explicitTransition;\n        if (transition) {\n          update = update.transition(transition).style('opacity', 1);\n          enter.style('opacity', effectivelyZero);\n          exit = exit.transition(transition).style('opacity', effectivelyZero);\n        }\n        exit.remove();\n        update.enter = function () {\n          return enter;\n        };\n        update.exit = function () {\n          return exit;\n        };\n        return update;\n      };\n      dataJoin.element = function () {\n        if (!arguments.length) {\n          return element;\n        }\n        element = arguments.length <= 0 ? undefined : arguments[0];\n        return dataJoin;\n      };\n      dataJoin.className = function () {\n        if (!arguments.length) {\n          return className;\n        }\n        className = arguments.length <= 0 ? undefined : arguments[0];\n        return dataJoin;\n      };\n      dataJoin.key = function () {\n        if (!arguments.length) {\n          return key;\n        }\n        key = arguments.length <= 0 ? undefined : arguments[0];\n        return dataJoin;\n      };\n      dataJoin.transition = function () {\n        if (!arguments.length) {\n          return explicitTransition;\n        }\n        explicitTransition = arguments.length <= 0 ? undefined : arguments[0];\n        return dataJoin;\n      };\n      return dataJoin;\n    });\n\n    var label = (function (layoutStrategy) {\n      var decorate = function decorate() {};\n      var size = function size() {\n        return [0, 0];\n      };\n      var position = function position(d, i) {\n        return [d.x, d.y];\n      };\n      var strategy = layoutStrategy || function (x) {\n        return x;\n      };\n      var component = function component() {};\n      var xScale = d3Scale.scaleIdentity();\n      var yScale = d3Scale.scaleIdentity();\n      var dataJoin$1 = dataJoin('g', 'label');\n      var label = function label(selection) {\n        selection.each(function (data, index, group) {\n          var g = dataJoin$1(d3Selection.select(group[index]), data).call(component);\n\n          // obtain the rectangular bounding boxes for each child\n          var nodes = g.nodes();\n          var childRects = nodes.map(function (node, i) {\n            var d = d3Selection.select(node).datum();\n            var pos = position(d, i, nodes);\n            var childPos = [xScale(pos[0]), yScale(pos[1])];\n            var childSize = size(d, i, nodes);\n            return {\n              hidden: false,\n              x: childPos[0],\n              y: childPos[1],\n              width: childSize[0],\n              height: childSize[1]\n            };\n          });\n\n          // apply the strategy to derive the layout. The strategy does not change the order\n          // or number of label.\n          var layout = strategy(childRects);\n          g.attr('style', function (_, i) {\n            return 'display:' + (layout[i].hidden ? 'none' : 'inherit');\n          }).attr('transform', function (_, i) {\n            return 'translate(' + layout[i].x + ', ' + layout[i].y + ')';\n          })\n          // set the layout width / height so that children can use SVG layout if required\n          .attr('layout-width', function (_, i) {\n            return layout[i].width;\n          }).attr('layout-height', function (_, i) {\n            return layout[i].height;\n          }).attr('anchor-x', function (d, i, g) {\n            return childRects[i].x - layout[i].x;\n          }).attr('anchor-y', function (d, i, g) {\n            return childRects[i].y - layout[i].y;\n          });\n          g.call(component);\n          decorate(g, data, index);\n        });\n      };\n      rebindAll(label, dataJoin$1, include('key'));\n      rebindAll(label, strategy);\n      label.size = function () {\n        if (!arguments.length) {\n          return size;\n        }\n        size = functor$3(arguments.length <= 0 ? undefined : arguments[0]);\n        return label;\n      };\n      label.position = function () {\n        if (!arguments.length) {\n          return position;\n        }\n        position = functor$3(arguments.length <= 0 ? undefined : arguments[0]);\n        return label;\n      };\n      label.component = function () {\n        if (!arguments.length) {\n          return component;\n        }\n        component = arguments.length <= 0 ? undefined : arguments[0];\n        return label;\n      };\n      label.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return label;\n      };\n      label.xScale = function () {\n        if (!arguments.length) {\n          return xScale;\n        }\n        xScale = arguments.length <= 0 ? undefined : arguments[0];\n        return label;\n      };\n      label.yScale = function () {\n        if (!arguments.length) {\n          return yScale;\n        }\n        yScale = arguments.length <= 0 ? undefined : arguments[0];\n        return label;\n      };\n      return label;\n    });\n\n    var textLabel = (function (layoutStrategy) {\n      var padding = 2;\n      var value = function value(x) {\n        return x;\n      };\n      var textJoin = dataJoin('text');\n      var rectJoin = dataJoin('rect');\n      var pointJoin = dataJoin('circle');\n      var textLabel = function textLabel(selection) {\n        selection.each(function (data, index, group) {\n          var node = group[index];\n          var nodeSelection = d3Selection.select(node);\n          var width = Number(node.getAttribute('layout-width'));\n          var height = Number(node.getAttribute('layout-height'));\n          var rect = rectJoin(nodeSelection, [data]);\n          rect.attr('width', width).attr('height', height);\n          var anchorX = Number(node.getAttribute('anchor-x'));\n          var anchorY = Number(node.getAttribute('anchor-y'));\n          var circle = pointJoin(nodeSelection, [data]);\n          circle.attr('r', 2).attr('cx', anchorX).attr('cy', anchorY);\n          var text = textJoin(nodeSelection, [data]);\n          text.enter().attr('dy', '0.9em').attr('transform', \"translate(\".concat(padding, \", \").concat(padding, \")\"));\n          text.text(value);\n        });\n      };\n      textLabel.padding = function () {\n        if (!arguments.length) {\n          return padding;\n        }\n        padding = arguments.length <= 0 ? undefined : arguments[0];\n        return textLabel;\n      };\n      textLabel.value = function () {\n        if (!arguments.length) {\n          return value;\n        }\n        value = functor$3(arguments.length <= 0 ? undefined : arguments[0]);\n        return textLabel;\n      };\n      return textLabel;\n    });\n\n    var isIntersecting = function isIntersecting(a, b) {\n      return !(a.x >= b.x + b.width || a.x + a.width <= b.x || a.y >= b.y + b.height || a.y + a.height <= b.y);\n    };\n    var intersect = (function (a, b) {\n      if (isIntersecting(a, b)) {\n        var left = Math.max(a.x, b.x);\n        var right = Math.min(a.x + a.width, b.x + b.width);\n        var top = Math.max(a.y, b.y);\n        var bottom = Math.min(a.y + a.height, b.y + b.height);\n        return (right - left) * (bottom - top);\n      } else {\n        return 0;\n      }\n    });\n\n    // computes the area of overlap between the rectangle with the given index with the\n    // rectangles in the array\n    var collisionArea = function collisionArea(rectangles, index) {\n      return d3Array.sum(rectangles.map(function (d, i) {\n        return index === i ? 0 : intersect(rectangles[index], d);\n      }));\n    };\n\n    var getPlacement = function getPlacement(x, y, width, height, location) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        location: location\n      };\n    };\n\n    // returns all the potential placements of the given label\n    var placements = (function (label) {\n      var x = label.x;\n      var y = label.y;\n      var width = label.width;\n      var height = label.height;\n      return [getPlacement(x, y, width, height, 'bottom-right'), getPlacement(x - width, y, width, height, 'bottom-left'), getPlacement(x - width, y - height, width, height, 'top-left'), getPlacement(x, y - height, width, height, 'top-right'), getPlacement(x, y - height / 2, width, height, 'middle-right'), getPlacement(x - width / 2, y, width, height, 'bottom-center'), getPlacement(x - width, y - height / 2, width, height, 'middle-left'), getPlacement(x - width / 2, y - height, width, height, 'top-center')];\n    });\n\n    var substitute = function substitute(array, index, substitution) {\n      return [].concat(_toConsumableArray(array.slice(0, index)), [substitution], _toConsumableArray(array.slice(index + 1)));\n    };\n    var lessThan = function lessThan(a, b) {\n      return a < b;\n    };\n\n    // a layout takes an array of rectangles and allows their locations to be optimised.\n    // it is constructed using two functions, locationScore, which score the placement of and\n    // individual rectangle, and winningScore which takes the scores for a rectangle\n    // at two different locations and assigns a winningScore.\n    var layoutComponent = function layoutComponent() {\n      var score = null;\n      var winningScore = lessThan;\n      var locationScore = function locationScore() {\n        return 0;\n      };\n      var rectangles;\n      var evaluatePlacement = function evaluatePlacement(placement, index) {\n        return score - locationScore(rectangles[index], index, rectangles) + locationScore(placement, index, substitute(rectangles, index, placement));\n      };\n      var layout = function layout(placement, index) {\n        if (!score) {\n          score = d3Array.sum(rectangles.map(function (r, i) {\n            return locationScore(r, i, rectangles);\n          }));\n        }\n        var newScore = evaluatePlacement(placement, index);\n        if (winningScore(newScore, score)) {\n          return layoutComponent().locationScore(locationScore).winningScore(winningScore).score(newScore).rectangles(substitute(rectangles, index, placement));\n        } else {\n          return layout;\n        }\n      };\n      layout.rectangles = function () {\n        if (!arguments.length) {\n          return rectangles;\n        }\n        rectangles = arguments.length <= 0 ? undefined : arguments[0];\n        return layout;\n      };\n      layout.score = function () {\n        if (!arguments.length) {\n          return score;\n        }\n        score = arguments.length <= 0 ? undefined : arguments[0];\n        return layout;\n      };\n      layout.winningScore = function () {\n        if (!arguments.length) {\n          return winningScore;\n        }\n        winningScore = arguments.length <= 0 ? undefined : arguments[0];\n        return layout;\n      };\n      layout.locationScore = function () {\n        if (!arguments.length) {\n          return locationScore;\n        }\n        locationScore = arguments.length <= 0 ? undefined : arguments[0];\n        return layout;\n      };\n      return layout;\n    };\n\n    var greedy = (function () {\n      var bounds;\n      var containerPenalty = function containerPenalty(rectangle) {\n        return bounds ? rectangle.width * rectangle.height - intersect(rectangle, bounds) : 0;\n      };\n      var penaltyForRectangle = function penaltyForRectangle(rectangle, index, rectangles) {\n        return collisionArea(rectangles, index) + containerPenalty(rectangle);\n      };\n      var strategy = function strategy(data) {\n        var rectangles = layoutComponent().locationScore(penaltyForRectangle).rectangles(data);\n        data.forEach(function (rectangle, index) {\n          placements(rectangle).forEach(function (placement, placementIndex) {\n            rectangles = rectangles(placement, index);\n          });\n        });\n        return rectangles.rectangles();\n      };\n      strategy.bounds = function () {\n        if (!arguments.length) {\n          return bounds;\n        }\n        bounds = arguments.length <= 0 ? undefined : arguments[0];\n        return strategy;\n      };\n      return strategy;\n    });\n\n    var randomItem = function randomItem(array) {\n      return array[randomIndex(array)];\n    };\n    var randomIndex = function randomIndex(array) {\n      return Math.floor(Math.random() * array.length);\n    };\n    var annealing = (function () {\n      var temperature = 1000;\n      var cooling = 1;\n      var bounds;\n      var orientationPenalty = function orientationPenalty(rectangle) {\n        switch (rectangle.location) {\n          case 'bottom-right':\n            return 0;\n          case 'middle-right':\n          case 'bottom-center':\n            return rectangle.width * rectangle.height / 8;\n        }\n        return rectangle.width * rectangle.height / 4;\n      };\n      var containerPenalty = function containerPenalty(rectangle) {\n        return bounds ? rectangle.width * rectangle.height - intersect(rectangle, bounds) : 0;\n      };\n      var penaltyForRectangle = function penaltyForRectangle(rectangle, index, rectangles) {\n        return collisionArea(rectangles, index) + containerPenalty(rectangle) + orientationPenalty(rectangle);\n      };\n      var strategy = function strategy(data) {\n        var currentTemperature = temperature;\n\n        // use annealing to allow a new score to be picked even if it is worse than the old\n        var winningScore = function winningScore(newScore, oldScore) {\n          return Math.exp((oldScore - newScore) / currentTemperature) > Math.random();\n        };\n        var rectangles = layoutComponent().locationScore(penaltyForRectangle).winningScore(winningScore).rectangles(data);\n        while (currentTemperature > 0) {\n          var index = randomIndex(data);\n          var randomNewPlacement = randomItem(placements(data[index]));\n          rectangles = rectangles(randomNewPlacement, index);\n          currentTemperature -= cooling;\n        }\n        return rectangles.rectangles();\n      };\n      strategy.temperature = function () {\n        if (!arguments.length) {\n          return temperature;\n        }\n        temperature = arguments.length <= 0 ? undefined : arguments[0];\n        return strategy;\n      };\n      strategy.cooling = function () {\n        if (!arguments.length) {\n          return cooling;\n        }\n        cooling = arguments.length <= 0 ? undefined : arguments[0];\n        return strategy;\n      };\n      strategy.bounds = function () {\n        if (!arguments.length) {\n          return bounds;\n        }\n        bounds = arguments.length <= 0 ? undefined : arguments[0];\n        return strategy;\n      };\n      return strategy;\n    });\n\n    var scanForObject = function scanForObject(array, comparator) {\n      return array[d3Array.scan(array, comparator)];\n    };\n    var removeOverlaps = (function (adaptedStrategy) {\n      adaptedStrategy = adaptedStrategy || function (x) {\n        return x;\n      };\n      var removeOverlaps = function removeOverlaps(layout) {\n        layout = adaptedStrategy(layout);\n        // eslint-disable-next-line no-constant-condition\n        var _loop = function _loop() {\n          // find the collision area for all overlapping rectangles, hiding the one\n          // with the greatest overlap\n          var visible = layout.filter(function (d) {\n            return !d.hidden;\n          });\n          var collisions = visible.map(function (d, i) {\n            return [d, collisionArea(visible, i)];\n          });\n          var maximumCollision = scanForObject(collisions, function (a, b) {\n            return b[1] - a[1];\n          });\n          if (maximumCollision[1] > 0) {\n            maximumCollision[0].hidden = true;\n          } else {\n            return \"break\";\n          }\n        };\n        while (true) {\n          var _ret = _loop();\n          if (_ret === \"break\") break;\n        }\n        return layout;\n      };\n      rebindAll(removeOverlaps, adaptedStrategy);\n      return removeOverlaps;\n    });\n\n    var boundingBox = (function () {\n      var bounds = [0, 0];\n      var strategy = function strategy(data) {\n        return data.map(function (d, i) {\n          var tx = d.x;\n          var ty = d.y;\n          if (tx + d.width > bounds[0]) {\n            tx -= d.width;\n          }\n          if (ty + d.height > bounds[1]) {\n            ty -= d.height;\n          }\n          return {\n            height: d.height,\n            width: d.width,\n            x: tx,\n            y: ty\n          };\n        });\n      };\n      strategy.bounds = function () {\n        if (!arguments.length) {\n          return bounds;\n        }\n        bounds = arguments.length <= 0 ? undefined : arguments[0];\n        return strategy;\n      };\n      return strategy;\n    });\n\n    var functor$2 = (function (d) {\n      return typeof d === 'function' ? d : function () {\n        return d;\n      };\n    });\n\n    // Checks that passed properties are 'defined', meaning that calling them with (d, i) returns non null values\n    function defined() {\n      var outerArguments = arguments;\n      return function (d, i) {\n        for (var c = 0, j = outerArguments.length; c < j; c++) {\n          if (outerArguments[c](d, i) == null) {\n            return false;\n          }\n        }\n        return true;\n      };\n    }\n\n    // determines the offset required along the cross scale based\n    // on the series alignment\n    var alignOffset = (function (align, width) {\n      switch (align) {\n        case 'left':\n          return width / 2;\n        case 'right':\n          return -width / 2;\n        default:\n          return 0;\n      }\n    });\n\n    var createBase = (function (initialValues) {\n      var env = Object.assign({}, initialValues);\n      var base = function base() {};\n      Object.keys(env).forEach(function (key) {\n        base[key] = function () {\n          if (!arguments.length) {\n            return env[key];\n          }\n          env[key] = arguments.length <= 0 ? undefined : arguments[0];\n          return base;\n        };\n      });\n      return base;\n    });\n\n    var xyBase = (function () {\n      var baseValue = function baseValue() {\n        return 0;\n      };\n      var crossValue = function crossValue(d) {\n        return d.x;\n      };\n      var mainValue = function mainValue(d) {\n        return d.y;\n      };\n      var align = 'center';\n      var bandwidth = function bandwidth() {\n        return 5;\n      };\n      var orient = 'vertical';\n      var base = createBase({\n        decorate: function decorate() {},\n        defined: function defined$1(d, i) {\n          return defined(baseValue, crossValue, mainValue)(d, i);\n        },\n        xScale: d3Scale.scaleIdentity(),\n        yScale: d3Scale.scaleIdentity()\n      });\n      base.values = function (d, i) {\n        var width = bandwidth(d, i);\n        var offset = alignOffset(align, width);\n        var xScale = base.xScale();\n        var yScale = base.yScale();\n        if (orient === 'vertical') {\n          var y = yScale(mainValue(d, i), i);\n          var y0 = yScale(baseValue(d, i), i);\n          var x = xScale(crossValue(d, i), i) + offset;\n          return {\n            d: d,\n            x: x,\n            y: y,\n            y0: y0,\n            width: width,\n            height: y - y0,\n            origin: [x, y],\n            baseOrigin: [x, y0],\n            transposedX: x,\n            transposedY: y\n          };\n        } else {\n          var _y = xScale(mainValue(d, i), i);\n          var _y2 = xScale(baseValue(d, i), i);\n          var _x = yScale(crossValue(d, i), i) + offset;\n          return {\n            d: d,\n            x: _x,\n            y: _y,\n            y0: _y2,\n            width: width,\n            height: _y - _y2,\n            origin: [_y, _x],\n            baseOrigin: [_y2, _x],\n            transposedX: _y,\n            transposedY: _x\n          };\n        }\n      };\n      base.xValues = function () {\n        return orient === 'vertical' ? [crossValue] : [baseValue, mainValue];\n      };\n      base.yValues = function () {\n        return orient !== 'vertical' ? [crossValue] : [baseValue, mainValue];\n      };\n      base.baseValue = function () {\n        if (!arguments.length) {\n          return baseValue;\n        }\n        baseValue = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return base;\n      };\n      base.crossValue = function () {\n        if (!arguments.length) {\n          return crossValue;\n        }\n        crossValue = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return base;\n      };\n      base.mainValue = function () {\n        if (!arguments.length) {\n          return mainValue;\n        }\n        mainValue = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return base;\n      };\n      base.bandwidth = function () {\n        if (!arguments.length) {\n          return bandwidth;\n        }\n        bandwidth = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return base;\n      };\n      base.align = function () {\n        if (!arguments.length) {\n          return align;\n        }\n        align = arguments.length <= 0 ? undefined : arguments[0];\n        return base;\n      };\n      base.orient = function () {\n        if (!arguments.length) {\n          return orient;\n        }\n        orient = arguments.length <= 0 ? undefined : arguments[0];\n        return base;\n      };\n      return base;\n    });\n\n    var red = '#c60';\n    var green = '#6c0';\n    var black = '#000';\n    var gray = '#ddd';\n    var darkGray = '#999';\n    var colors = {\n      red: red,\n      green: green,\n      black: black,\n      gray: gray,\n      darkGray: darkGray\n    };\n\n    var seriesSvgLine = (function () {\n      var base = xyBase();\n      var lineData = d3Shape.line().x(function (d, i) {\n        return base.values(d, i).transposedX;\n      }).y(function (d, i) {\n        return base.values(d, i).transposedY;\n      });\n      var join = dataJoin('path', 'line');\n      var line = function line(selection) {\n        if (isTransition(selection)) {\n          join.transition(selection);\n        }\n        lineData.defined(base.defined());\n        selection.each(function (data, index, group) {\n          var path = join(d3Selection.select(group[index]), [data]);\n          path.enter().attr('fill', 'none').attr('stroke', colors.black);\n          path.attr('d', lineData);\n          base.decorate()(path, data, index);\n        });\n      };\n      rebindAll(line, base, exclude('baseValue', 'bandwidth', 'align'));\n      rebind(line, join, 'key');\n      rebind(line, lineData, 'curve');\n      return line;\n    });\n\n    var seriesCanvasLine = (function () {\n      var base = xyBase();\n      var lineData = d3Shape.line().x(function (d, i) {\n        return base.values(d, i).transposedX;\n      }).y(function (d, i) {\n        return base.values(d, i).transposedY;\n      });\n      var line = function line(data) {\n        var context = lineData.context();\n        context.beginPath();\n        context.strokeStyle = colors.black;\n        context.fillStyle = 'transparent';\n        base.decorate()(context, data);\n        lineData.defined(base.defined())(data);\n        context.fill();\n        context.stroke();\n        context.closePath();\n      };\n      rebindAll(line, base, exclude('baseValue', 'bandwidth', 'align'));\n      rebind(line, lineData, 'curve', 'context');\n      return line;\n    });\n\n    var baseScale = (function () {\n      var domain = [0, 1];\n      var range = [-1, 1];\n      var base = function base() {};\n      base.domain = function () {\n        if (!arguments.length) {\n          return domain;\n        }\n        domain = arguments.length <= 0 ? undefined : arguments[0];\n        return base;\n      };\n      base.range = function () {\n        if (!arguments.length) {\n          return range;\n        }\n        range = arguments.length <= 0 ? undefined : arguments[0];\n        return base;\n      };\n      return base;\n    });\n\n    var bufferBuilder = (function () {\n      var attributes = {};\n      var uniforms = {};\n      var elementIndices = null;\n      var bufferBuilder = function bufferBuilder(programBuilder, program) {\n        var gl = programBuilder.context();\n        Object.keys(attributes).forEach(function (name) {\n          var attribute = attributes[name];\n          if (typeof attribute !== 'function') {\n            throw new Error(\"Expected an attribute for \".concat(name, \", found \").concat(attribute));\n          }\n          var location = gl.getAttribLocation(program, name);\n          attribute.location(location)(programBuilder);\n        });\n        Object.keys(uniforms).forEach(function (name) {\n          var uniform = uniforms[name];\n          if (typeof uniform !== 'function') {\n            throw new Error(\"Expected a uniform for \".concat(name, \", found \").concat(uniform));\n          }\n          var location = gl.getUniformLocation(program, name);\n          uniform.location(location)(programBuilder);\n        });\n        if (elementIndices !== null) {\n          elementIndices(programBuilder);\n        }\n      };\n      bufferBuilder.flush = function () {\n        Object.values(attributes).forEach(function (attribute) {\n          return attribute.clear();\n        });\n        Object.values(uniforms).forEach(function (uniform) {\n          return uniform.clear();\n        });\n        if (elementIndices !== null) elementIndices.clear();\n      };\n      bufferBuilder.attribute = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        if (args.length === 1) {\n          return attributes[args[0]];\n        }\n        attributes[args[0]] = args[1];\n        return bufferBuilder;\n      };\n      bufferBuilder.uniform = function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        if (args.length === 1) {\n          return uniforms[args[0]];\n        }\n        uniforms[args[0]] = args[1];\n        return bufferBuilder;\n      };\n      bufferBuilder.elementIndices = function () {\n        if (!arguments.length) {\n          return elementIndices;\n        }\n        elementIndices = arguments.length <= 0 ? undefined : arguments[0];\n        return bufferBuilder;\n      };\n      return bufferBuilder;\n    });\n\n    var uniform = (function (initialData) {\n      var location = -1;\n      var data = initialData;\n      var dirty = true;\n      var build = function build(programBuilder) {\n        if (!dirty) {\n          return;\n        }\n        var gl = programBuilder.context();\n        if (Array.isArray(data)) {\n          switch (data.length) {\n            case 1:\n              gl.uniform1fv(location, data);\n              break;\n            case 2:\n              gl.uniform2fv(location, data);\n              break;\n            case 3:\n              gl.uniform3fv(location, data);\n              break;\n            case 4:\n              gl.uniform4fv(location, data);\n              break;\n            default:\n              throw new Error(\"Uniform supports up to 4 elements. \".concat(data.length, \" provided.\"));\n          }\n        } else {\n          gl.uniform1f(location, data);\n        }\n        dirty = false;\n      };\n      build.clear = function () {\n        dirty = true;\n      };\n      build.location = function () {\n        if (!arguments.length) {\n          return location;\n        }\n        if (location !== (arguments.length <= 0 ? undefined : arguments[0])) {\n          location = arguments.length <= 0 ? undefined : arguments[0];\n          dirty = true;\n        }\n        return build;\n      };\n      build.data = function () {\n        if (!arguments.length) {\n          return data;\n        }\n        data = arguments.length <= 0 ? undefined : arguments[0];\n        dirty = true;\n        return build;\n      };\n      return build;\n    });\n\n    var drawModes = {\n      POINTS: 0,\n      LINES: 1,\n      LINE_LOOP: 2,\n      LINE_STRIP: 3,\n      TRIANGLES: 4,\n      TRIANGLE_STRIP: 5,\n      TRIANGLE_FAN: 6\n    };\n\n    var programBuilder = (function () {\n      var context = null;\n      var program = null;\n      var vertexShader = null;\n      var fragmentShader = null;\n      var programVertexShader = null;\n      var programFragmentShader = null;\n      var mode = drawModes.TRIANGLES;\n      var subInstanceCount = 0;\n      var buffers = bufferBuilder();\n      var debug = false;\n      var extInstancedArrays = null;\n      var dirty = true;\n      var pixelRatio = 1;\n      var build = function build(count) {\n        if (context == null) {\n          return;\n        }\n        var vertexShaderSource = vertexShader();\n        var fragmentShaderSource = fragmentShader();\n        if (newProgram(program, vertexShaderSource, fragmentShaderSource)) {\n          program = createProgram(vertexShaderSource, fragmentShaderSource);\n          programVertexShader = vertexShaderSource;\n          programFragmentShader = fragmentShaderSource;\n          dirty = false;\n        }\n        context.useProgram(program);\n        buffers.uniform('uScreen', uniform([context.canvas.width / pixelRatio, context.canvas.height / pixelRatio]));\n        buffers(build, program);\n        if (subInstanceCount === 0) {\n          if (buffers.elementIndices() == null) {\n            context.drawArrays(mode, 0, count);\n          } else {\n            context.drawElements(mode, count, context.UNSIGNED_SHORT, 0);\n          }\n        } else {\n          if (buffers.elementIndices() == null) {\n            extInstancedArrays.drawArraysInstancedANGLE(mode, 0, subInstanceCount, count);\n          } else {\n            var elementIndicesLength = buffers.elementIndices().data().length;\n            if (subInstanceCount !== elementIndicesLength) {\n              throw new Error(\"Expected elementIndices length \".concat(elementIndicesLength) + \" to match subInstanceCount \".concat(subInstanceCount, \".\"));\n            }\n            extInstancedArrays.drawElementsInstancedANGLE(mode, subInstanceCount, context.UNSIGNED_SHORT, 0, count);\n          }\n        }\n      };\n      build.extInstancedArrays = function () {\n        return extInstancedArrays;\n      };\n      build.context = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        if (!args.length) {\n          return context;\n        }\n        if (args[0] == null || args[0] !== context) {\n          buffers.flush();\n          dirty = true;\n        }\n        if (args[0] != null && args[0] !== context) {\n          extInstancedArrays = args[0].getExtension('ANGLE_instanced_arrays');\n        }\n        context = args[0];\n        return build;\n      };\n      build.buffers = function () {\n        if (!arguments.length) {\n          return buffers;\n        }\n        buffers = arguments.length <= 0 ? undefined : arguments[0];\n        return build;\n      };\n      build.vertexShader = function () {\n        if (!arguments.length) {\n          return vertexShader;\n        }\n        vertexShader = arguments.length <= 0 ? undefined : arguments[0];\n        return build;\n      };\n      build.fragmentShader = function () {\n        if (!arguments.length) {\n          return fragmentShader;\n        }\n        fragmentShader = arguments.length <= 0 ? undefined : arguments[0];\n        return build;\n      };\n      build.mode = function () {\n        if (!arguments.length) {\n          return mode;\n        }\n        mode = arguments.length <= 0 ? undefined : arguments[0];\n        return build;\n      };\n      build.subInstanceCount = function () {\n        if (!arguments.length) {\n          return subInstanceCount;\n        }\n        subInstanceCount = arguments.length <= 0 ? undefined : arguments[0];\n        return build;\n      };\n      build.debug = function () {\n        if (!arguments.length) {\n          return debug;\n        }\n        debug = arguments.length <= 0 ? undefined : arguments[0];\n        return build;\n      };\n      build.pixelRatio = function () {\n        if (!arguments.length) {\n          return pixelRatio;\n        }\n        pixelRatio = arguments.length <= 0 ? undefined : arguments[0];\n        return build;\n      };\n      return build;\n      function newProgram(program, vertexShader, fragmentShader) {\n        if (!program || dirty) {\n          return true;\n        }\n        return vertexShader !== programVertexShader || fragmentShader !== programFragmentShader;\n      }\n      function createProgram(vertexShaderSource, fragmentShaderSource) {\n        var vertexShader = loadShader(vertexShaderSource, context.VERTEX_SHADER);\n        var fragmentShader = loadShader(fragmentShaderSource, context.FRAGMENT_SHADER);\n        var program = context.createProgram();\n        context.attachShader(program, vertexShader);\n        context.attachShader(program, fragmentShader);\n        context.linkProgram(program);\n        if (debug && !context.getProgramParameter(program, context.LINK_STATUS)) {\n          var message = context.getProgramInfoLog(program);\n          context.deleteProgram(program);\n          throw new Error(\"Failed to link program : \".concat(message, \"\\n            Vertex Shader : \").concat(vertexShaderSource, \"\\n            Fragment Shader : \").concat(fragmentShaderSource));\n        }\n        return program;\n      }\n      function loadShader(source, type) {\n        var shader = context.createShader(type);\n        context.shaderSource(shader, source);\n        context.compileShader(shader);\n        if (debug && !context.getShaderParameter(shader, context.COMPILE_STATUS)) {\n          var message = context.getShaderInfoLog(shader);\n          context.deleteShader(shader);\n          throw new Error(\"Failed to compile shader : \".concat(message, \"\\n            Shader : \").concat(source));\n        }\n        return shader;\n      }\n    });\n\n    var shaderBuilder = (function (base) {\n      var shaderHeaders = [];\n      var shaderBodies = [];\n      var build = function build() {\n        return base(shaderHeaders.join('\\n'), shaderBodies.join('\\n'));\n      };\n      function append(array, element) {\n        array.push(element);\n      }\n      function insert(array, element, before) {\n        var beforeIndex = array.indexOf(before);\n        array.splice(beforeIndex >= 0 ? beforeIndex : array.length, 0, element);\n      }\n      function appendIfNotExists(array, element) {\n        var elementIndex = array.indexOf(element);\n        if (elementIndex === -1) {\n          array.push(element);\n        }\n      }\n      build.appendHeader = function (header) {\n        append(shaderHeaders, header);\n        return build;\n      };\n      build.insertHeader = function (header, before) {\n        insert(shaderHeaders, header, before);\n        return build;\n      };\n      build.appendHeaderIfNotExists = function (header) {\n        appendIfNotExists(shaderHeaders, header);\n        return build;\n      };\n      build.appendBody = function (body) {\n        append(shaderBodies, body);\n        return build;\n      };\n      build.insertBody = function (body, before) {\n        insert(shaderBodies, body, before);\n        return build;\n      };\n      build.appendBodyIfNotExists = function (body) {\n        appendIfNotExists(shaderBodies, body);\n        return build;\n      };\n      return build;\n    });\n\n    // inf is precalculated here for use in some functions (e.g. log scale calculations)\n    var vertexShaderBase = function vertexShaderBase(header, body) {\n      return \"\\nprecision mediump float;\\nfloat inf = 1.0 / 0.0;\\n\".concat(header, \"\\nvoid main() {\\n    \").concat(body, \"\\n}\");\n    };\n    var fragmentShaderBase = function fragmentShaderBase(header, body) {\n      return \"\\nprecision mediump float;\\n\".concat(header, \"\\nvoid main() {\\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\\n    \").concat(body, \"\\n}\");\n    };\n\n    var fillColor$2 = {\n      header: \"attribute vec4 aFillColor;\\n             varying vec4 vFillColor;\",\n      body: \"vFillColor = aFillColor;\"\n    };\n    var strokeColor$2 = {\n      header: \"attribute vec4 aStrokeColor;\\n             varying vec4 vStrokeColor;\",\n      body: \"vStrokeColor = aStrokeColor;\"\n    };\n    var circle$1 = {\n      header: \"\\n        attribute float aCrossValue;\\n        attribute float aMainValue;\\n        attribute float aSize;\\n        attribute float aDefined;\\n\\n        uniform float uStrokeWidth;\\n\\n        varying float vSize;\\n        varying float vDefined;\",\n      body: \"\\n        vDefined = aDefined;\\n        vSize = 2.0 * sqrt(aSize / 3.14159);\\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);\"\n    };\n    var star$1 = {\n      header: \"\\n        attribute float aCrossValue;\\n        attribute float aMainValue;\\n        attribute float aSize;\\n        attribute float aDefined;\\n\\n        uniform float uStrokeWidth;\\n\\n        varying float vSize;\\n        varying float vDefined;\",\n      body: \"\\n        vDefined = aDefined;\\n        vSize = 4.0 * sqrt(aSize / 3.14159);\\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);\"\n    };\n    var wye$1 = {\n      header: \"\\n        attribute float aCrossValue;\\n        attribute float aMainValue;\\n        attribute float aSize;\\n        attribute float aDefined;\\n\\n        uniform float uStrokeWidth;\\n\\n        varying float vSize;\\n        varying float vDefined;\",\n      body: \"\\n        vDefined = aDefined;\\n        vSize = 3.0 * sqrt(aSize / 3.14159);\\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);\"\n    };\n    var square$1 = {\n      header: \"\\n        attribute float aCrossValue;\\n        attribute float aMainValue;\\n        attribute float aSize;\\n        attribute float aDefined;\\n\\n        uniform float uStrokeWidth;\\n\\n        varying float vSize;\\n        varying float vDefined;\",\n      body: \"\\n        vDefined = aDefined;\\n        vSize = sqrt(aSize);\\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);\"\n    };\n    var diamond$1 = {\n      header: \"\\n        attribute float aCrossValue;\\n        attribute float aMainValue;\\n        attribute float aSize;\\n        attribute float aDefined;\\n\\n        uniform float uStrokeWidth;\\n\\n        varying float vSize;\\n        varying float vDefined;\",\n      body: \"\\n        vDefined = aDefined;\\n        vSize = sqrt(aSize);\\n        gl_PointSize = 2.0 * (vSize + uStrokeWidth + 1.0);\\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);\"\n    };\n    var triangle$1 = {\n      header: \"\\n        attribute float aCrossValue;\\n        attribute float aMainValue;\\n        attribute float aSize;\\n        attribute float aDefined;\\n\\n        uniform float uStrokeWidth;\\n\\n        varying float vSize;\\n        varying float vDefined;\",\n      body: \"\\n        vDefined = aDefined;\\n        vSize = sqrt((16.0 * aSize) / (3.0 * sqrt(3.0)));\\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);\"\n    };\n    var cross$1 = {\n      header: \"\\n        attribute float aCrossValue;\\n        attribute float aMainValue;\\n        attribute float aSize;\\n        attribute float aDefined;\\n\\n        uniform float uStrokeWidth;\\n\\n        varying float vSize;\\n        varying float vStrokeWidthRatio;\\n        varying float vDefined;\",\n      body: \"\\n        vDefined = aDefined;\\n        vSize = 3.0 * sqrt(aSize / 5.0);\\n        vStrokeWidthRatio = uStrokeWidth / (vSize + uStrokeWidth + 1.0);\\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);\"\n    };\n    var candlestick$4 = {\n      header: \"\\n        attribute float aCrossValue;\\n        attribute float aBandwidth;\\n        attribute float aHighValue;\\n        attribute float aOpenValue;\\n        attribute float aCloseValue;\\n        attribute float aLowValue;\\n        attribute vec3 aCorner;\\n        attribute float aDefined;\\n\\n        uniform vec2 uScreen;\\n        uniform float uStrokeWidth;\\n\\n        varying float vColorIndicator;\\n        varying float vDefined;\",\n      body: \"\\n        vDefined = aDefined;\\n        vColorIndicator = sign(aCloseValue - aOpenValue);\\n\\n        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;\\n        float isNotPositiveY = 1.0 - isPositiveY;\\n        float isExtremeY = abs(aCorner.y) - 1.0;\\n        float isNotExtremeY = 1.0 - isExtremeY;\\n        float yValue =\\n         (isPositiveY * isExtremeY * aLowValue) +\\n         (isPositiveY * isNotExtremeY * aCloseValue) +\\n         (isNotPositiveY * isNotExtremeY * aOpenValue) +\\n         (isNotPositiveY * isExtremeY * aHighValue);\\n\\n        float lineWidthXDirection = (isNotExtremeY * aCorner.x) + (isExtremeY * aCorner.z);\\n\\n        float bodyThickness = (aOpenValue == aCloseValue ? 1.0 : sign(aCloseValue - aOpenValue));\\n        float lineWidthYDirection = (isNotExtremeY * bodyThickness * aCorner.y);\\n\\n        float bandwidthModifier = aBandwidth * aCorner.x / 2.0;\\n\\n        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;\\n        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;\\n\\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);\"\n    };\n    var ohlc$4 = {\n      header: \"\\n        attribute float aCrossValue;\\n        attribute float aBandwidth;\\n        attribute float aHighValue;\\n        attribute float aOpenValue;\\n        attribute float aCloseValue;\\n        attribute float aLowValue;\\n        attribute vec3 aCorner;\\n        attribute float aDefined;\\n\\n        uniform vec2 uScreen;\\n        uniform float uStrokeWidth;\\n\\n        varying float vColorIndicator;\\n        varying float vDefined;\",\n      body: \"\\n        vDefined = aDefined;\\n        vColorIndicator = sign(aCloseValue - aOpenValue);\\n\\n        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;\\n        float isNotPositiveY = 1.0 - isPositiveY;\\n        float isExtremeY = abs(aCorner.y) - 1.0;\\n        float isNotExtremeY = 1.0 - isExtremeY;\\n        float yValue =\\n            (isPositiveY * isExtremeY * aLowValue) +\\n            (isPositiveY * isNotExtremeY * aCloseValue) +\\n            (isNotPositiveY * isNotExtremeY * aOpenValue) +\\n            (isNotPositiveY * isExtremeY * aHighValue);\\n\\n        float lineWidthXDirection = isExtremeY * aCorner.z;\\n        float lineWidthYDirection = isNotExtremeY * aCorner.z;\\n\\n        float bandwidthModifier = isNotExtremeY * aCorner.x * aBandwidth / 2.0;\\n\\n        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;\\n        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;\\n\\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);\"\n    };\n    var bar$4 = {\n      header: \"\\n        attribute float aCrossValue;\\n        attribute float aBandwidth;\\n        attribute float aMainValue;\\n        attribute float aBaseValue;\\n        attribute vec2 aCorner;\\n        attribute float aDefined;\\n\\n        uniform vec2 uScreen;\\n        uniform float uStrokeWidth;\\n\\n        varying float vDefined;\",\n      body: \"\\n        vDefined = aDefined;\\n        float isBaseline = (1.0 - aCorner.y) / 2.0;\\n        float yValue = (isBaseline * aBaseValue) + ((1.0 - isBaseline) * aMainValue);\\n\\n        float xModifier = aCorner.x * (aBandwidth) / 2.0;\\n\\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);\"\n    };\n    var errorBar$4 = {\n      header: \"\\n        attribute vec3 aCorner;\\n        attribute float aCrossValue;\\n        attribute float aBandwidth;\\n        attribute float aHighValue;\\n        attribute float aLowValue;\\n        attribute float aDefined;\\n\\n        uniform vec2 uScreen;\\n        uniform float uStrokeWidth;\\n\\n        varying float vDefined;\",\n      body: \"\\n        vDefined = aDefined;\\n        float isLow = (aCorner.y + 1.0) / 2.0;\\n        float yValue = isLow * aLowValue + (1.0 - isLow) * aHighValue;\\n\\n        float isEdgeCorner = abs(aCorner.x);\\n        float lineWidthXDirection = (1.0 - isEdgeCorner) * aCorner.z;\\n        float lineWidthYDirection = isEdgeCorner * aCorner.z;\\n\\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);\\n\\n        float xModifier = (uStrokeWidth * lineWidthXDirection) + (aBandwidth * aCorner.x / 2.0);\\n        float yModifier = (uStrokeWidth * lineWidthYDirection);\"\n    };\n    var area$4 = {\n      header: \"\\n        attribute vec3 aCorner;\\n        attribute float aCrossValue;\\n        attribute float aMainValue;\\n        attribute float aCrossNextValue;\\n        attribute float aMainNextValue;\\n        attribute float aBaseValue;\\n        attribute float aBaseNextValue;\\n        attribute float aDefined;\\n        attribute float aDefinedNext;\\n\\n        varying float vDefined;\\n\\n        float when_lt(float a, float b) {\\n            return max(sign(b - a), 0.0);\\n        }\\n\\n        float and(float a, float b) {\\n            return a * b;\\n        }\",\n      body: \"\\n        vDefined = aDefined * aDefinedNext;\\n        gl_Position = vec4(0, 0, 0, 1);\\n\\n        float hasIntercepted = when_lt((aMainNextValue - aBaseNextValue) * (aMainValue - aBaseValue), 0.0);\\n        float useIntercept = and(aCorner.z, hasIntercepted);\\n\\n        float yGradient = (aMainNextValue - aMainValue) / (aCrossNextValue - aCrossValue);\\n        float yConstant = aMainNextValue - (yGradient * aCrossNextValue);\\n\\n        float y0Gradient = (aBaseNextValue - aBaseValue) / (aCrossNextValue - aCrossValue);\\n        float y0Constant = aBaseNextValue - (y0Gradient * aCrossNextValue);\\n\\n        float denominator = (yGradient - y0Gradient) + step(abs(yGradient - y0Gradient), 0.0);\\n        float interceptXValue = (y0Constant - yConstant) / denominator;\\n        float interceptYValue = (yGradient * interceptXValue) + yConstant;\\n\\n        gl_Position = vec4(interceptXValue * useIntercept, interceptYValue * useIntercept, 0, 1);\\n\\n        gl_Position.x += (1.0 - useIntercept) * ((aCorner.x * aCrossNextValue) + ((1.0 - aCorner.x) * aCrossValue));\\n        gl_Position.y += (1.0 - useIntercept) * (1.0 - aCorner.y) * ((aCorner.x * aMainNextValue) + ((1.0 - aCorner.x) * aMainValue));\\n        gl_Position.y += (1.0 - useIntercept) * aCorner.y * ((aCorner.x * aBaseNextValue) + ((1.0 - aCorner.x) * aBaseValue));\"\n    };\n    var boxPlot$4 = {\n      header: \"\\n        attribute vec4 aCorner;\\n        attribute float aCrossValue;\\n        attribute float aBandwidth;\\n        attribute float aCapWidth;\\n        attribute float aHighValue;\\n        attribute float aUpperQuartileValue;\\n        attribute float aMedianValue;\\n        attribute float aLowerQuartileValue;\\n        attribute float aLowValue;\\n        attribute float aDefined;\\n\\n        uniform vec2 uScreen;\\n        uniform float uStrokeWidth;\\n\\n        varying float vDefined;\\n    \",\n      body: \"\\n        vDefined = aDefined;\\n        float isExtremeY = sign(abs(aCorner.y) - 2.0) + 1.0;\\n        float isNotExtremeY = 1.0 - isExtremeY;\\n\\n        float isNonZeroY = abs(sign(aCorner.y));\\n        float isZeroY = 1.0 - isNonZeroY;\\n\\n        float isQuartileY = isNotExtremeY * isNonZeroY;\\n\\n        float isPositiveY = (sign(aCorner.y + 0.5) + 1.0) / 2.0;\\n        float isNegativeY = 1.0 - isPositiveY;\\n\\n        float yValue =\\n          (isExtremeY * isNegativeY) * aHighValue +\\n          (isQuartileY * isNegativeY) * aUpperQuartileValue +\\n          isZeroY * aMedianValue +\\n          (isQuartileY * isPositiveY) * aLowerQuartileValue +\\n          (isExtremeY * isPositiveY) * aLowValue;\\n\\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);\\n\\n        float isHorizontal = aCorner.w;\\n        float isVertical = 1.0 - isHorizontal;\\n\\n        float xDisplacement = aCorner.x * (isExtremeY * aCapWidth + isNotExtremeY * aBandwidth) / 2.0;\\n\\n        float xModifier = (isVertical * uStrokeWidth * aCorner.z / 2.0) + xDisplacement;\\n        float yModifier = isHorizontal * uStrokeWidth * aCorner.z / 2.0;\"\n    };\n\n    var circle = {\n      header: \"\\n        varying float vSize;\\n        varying float vDefined;\",\n      body: \"\\n        float canFill = 1.0;\\n        float distance = length(2.0 * gl_PointCoord - 1.0);\\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\\n        if (distance > 1.0 || vDefined < 0.5) {\\n            discard;\\n            return;\\n        }\"\n    };\n\n    // See https://iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm.\n    var star = {\n      header: \"\\n        varying float vSize;\\n        varying float vDefined;\\n\\n        // anterior, exterior angles\\n        float an = 0.628319;\\n        vec2 acs = vec2(0.809017, 0.587786); // (cos, sin)\\n        float en = 0.952000;\\n        vec2 ecs = vec2(0.580055, 0.814577);\\n    \",\n      body: \"\\n        float canFill = 1.0;\\n\\n        vec2 p = 2.0 * gl_PointCoord - 1.0;\\n        p.y *= -1.0;\\n\\n        // sector\\n        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;\\n        p = length(p) * vec2(cos(bn), abs(sin(bn)));\\n\\n        p -= acs;\\n        p += ecs * clamp(-dot(p, ecs), 0.0, acs.y / ecs.y);\\n        float d = length(p) * sign(p.x);\\n\\n        float distance = 1.0 + d;\\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\\n        if (distance > 1.0 || vDefined < 0.5) {\\n            discard;\\n            return;\\n        }\"\n    };\n    var wye = {\n      header: \"\\n        varying float vSize;\\n        varying float vDefined;\\n    \",\n      body: \"\\n        float canFill = 1.0;\\n\\n        vec2 p = 2.0 * gl_PointCoord - 1.0;\\n        p.y *= -1.0;\\n\\n        // sector\\n        float an = 3.141593 / 3.0;\\n        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;\\n        p = length(p) * vec2(cos(bn), abs(sin(bn)));\\n\\n        // box\\n        vec2 d = abs(p) - vec2(0.9, 0.35);\\n        float sdf = length(max(d, 0.0)) + min(max(d.x, d.y), 0.0);\\n\\n        float distance = 1.0 + sdf;\\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\\n        if (distance > 1.0 || vDefined < 0.5) {\\n            discard;\\n            return;\\n        }\"\n    };\n    var square = {\n      header: \"\\n        varying float vSize;\\n        varying float vDefined;\",\n      body: \"\\n        float canFill = 1.0;\\n        if (vDefined < 0.5) {\\n            discard;\\n        }\\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\\n        float distance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));\\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\"\n    };\n\n    // Diamond is symmetrical about the x, and y axes, so only consider x, y > 0.\n    // (x, y) are the coordinates of the fragment within the gl point (after\n    // transformed to be [-1, 1]).\n    // a, b control the width, height of the triangle, so diamond is 2a, 2b.\n    // Line L is a ray from the origin through (x, y), the distance function is then\n    // the distance to (x, y) divided by the distance to where L intersects with the\n    // diamond, this makes the distance function < 1 inside, 1 on the boundary, and\n    // > 1 outside the diamond.\n    //    |\n    // b ---\n    //    |\\             L\n    //    | -\\          /\n    //    |   \\        /\n    //    |    \\      /\n    //    |     -\\   /\n    //    |       \\ /\n    // Y ---       X\n    //    |       / -\\\n    //    |      /    \\\n    //    |     /      \\\n    // y ---   X        -\\\n    //    |   /           \\\n    //    |  /             \\\n    //    | /               -\\\n    //    |/                  \\\n    //    +----|---|-----------|---\n    //         x   X           a\n    var diamond = {\n      header: \"\\n        varying float vSize;\\n        varying float vDefined;\\n        float a = 0.6;\\n        float b = 1.0;\\n    \",\n      body: \"\\n        if (vDefined < 0.5) {\\n            discard;\\n        }\\n\\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\\n\\n        float x = abs(pointCoordTransform.x);\\n        float y = abs(pointCoordTransform.y);\\n\\n        float X = (a * b * x) / (a * y + b * x);\\n        float Y = (a * b * y) / (a * y + b * x);\\n\\n        float distance = length(vec2(x, y)) / length(vec2(X, Y));\\n\\n        if (distance > 1.0) {\\n            discard;\\n        }\\n    \"\n    };\n    var triangle = {\n      header: \"\\n        varying float vSize;\\n        varying float vDefined;\",\n      body: \"\\n        float canFill = 1.0;\\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\\n        float topEdgesDistance = abs(pointCoordTransform.x) - ((pointCoordTransform.y - 0.6) / sqrt(3.0));\\n        float bottomEdgeDistance = pointCoordTransform.y + 0.5;\\n        float distance = max(topEdgesDistance, bottomEdgeDistance);\\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\\n        if (distance > 1.0 || vDefined < 0.5) {\\n            discard;\\n        }\"\n    };\n    var cross = {\n      header: \"\\n        varying float vSize;\\n        varying float vStrokeWidthRatio;\\n        varying float vDefined;\",\n      body: \"\\n        float canFill = 1.0;\\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\\n        float innerCornerDistance = min(abs(pointCoordTransform.x), abs(pointCoordTransform.y)) + 0.66 - vStrokeWidthRatio;\\n        float outerEdgeDistance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));\\n        float distance = max(innerCornerDistance, outerEdgeDistance);\\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\\n        if (distance > 1.0 || vDefined < 0.5) {\\n            discard;\\n        }\"\n    };\n    var candlestick$3 = {\n      header: \"\\n        varying float vColorIndicator;\\n        varying float vDefined;\",\n      body: \"\\n        float canFill = 1.0;\\n        float canStroke = 0.0;\\n        if (vDefined < 0.5) {\\n            discard;\\n        }\\n        gl_FragColor = vec4(0.4, 0.8, 0, 1);\\n        if (vColorIndicator < 0.0) {\\n            gl_FragColor = vec4(0.8, 0.4, 0, 1);\\n        }\"\n    };\n    var ohlc$3 = {\n      header: \"\\n        varying float vColorIndicator;\\n        varying float vDefined;\",\n      body: \"\\n        float canFill = 0.0;\\n        float canStroke = 1.0;\\n        if (vDefined < 0.5) {\\n            discard;\\n        }\\n        gl_FragColor = vec4(0.4, 0.8, 0, 1);\\n        if (vColorIndicator < 0.0) {\\n            gl_FragColor = vec4(0.8, 0.4, 0, 1);\\n        }\"\n    };\n    var area$3 = {\n      header: \"\\n        varying float vDefined;\",\n      body: \"\\n        float canFill = 1.0;\\n        float canStroke = 0.0;\\n        if (vDefined < 0.5) {\\n            discard;\\n        }\\n        gl_FragColor = vec4(0.86, 0.86, 0.86, 1);\"\n    };\n    var boxPlot$3 = {\n      header: \"\\n        varying float vDefined;\\n    \",\n      body: \"\\n        float canFill = 0.0;\\n        float canStroke = 1.0;\\n\\n        if (vDefined < 0.5) {\\n            discard;\\n        }\"\n    };\n    var errorBar$3 = {\n      header: \"varying float vDefined;\",\n      body: \"\\n        float canFill = 0.0;\\n        float canStroke = 1.0;\\n        if (vDefined < 0.5) {\\n            discard;\\n        }\"\n    };\n    var bar$3 = {\n      header: \"varying float vDefined;\",\n      body: \"\\n        float canFill = 1.0;\\n        float canStroke = 0.0;\\n\\n        gl_FragColor = vec4(0.60, 0.60, 0.60, 1.0);\\n\\n        if (vDefined < 0.5) {\\n            discard;\\n        }\"\n    };\n    var fillColor$1 = {\n      header: \"varying vec4 vFillColor;\",\n      body: \"gl_FragColor = (canFill * vFillColor) + ((1.0 - canFill) * gl_FragColor);\"\n    };\n    var strokeColor$1 = {\n      header: \"varying vec4 vStrokeColor;\",\n      body: \"gl_FragColor = (canStroke * vStrokeColor) + ((1.0 - canStroke) * gl_FragColor);\"\n    };\n\n    var areaShader = (function () {\n      var vertexShader = shaderBuilder(vertexShaderBase);\n      var fragmentShader = shaderBuilder(fragmentShaderBase);\n      vertexShader.appendHeader(area$4.header).appendBody(area$4.body);\n      fragmentShader.appendHeader(area$3.header).appendBody(area$3.body);\n      return {\n        vertex: function vertex() {\n          return vertexShader;\n        },\n        fragment: function fragment() {\n          return fragmentShader;\n        }\n      };\n    });\n\n    var types = {\n      BYTE: 5120,\n      UNSIGNED_BYTE: 5121,\n      SHORT: 5122,\n      UNSIGNED_SHORT: 5123,\n      FLOAT: 5126\n    };\n    function length(type) {\n      switch (type) {\n        case types.BYTE:\n        case types.UNSIGNED_BYTE:\n          return 1;\n        case types.SHORT:\n        case types.UNSIGNED_SHORT:\n          return 2;\n        case types.FLOAT:\n          return 4;\n        default:\n          throw new Error(\"Unknown type \".concat(type));\n      }\n    }\n    function getArrayViewConstructor(type) {\n      switch (type) {\n        case types.BYTE:\n          return Int8Array;\n        case types.UNSIGNED_BYTE:\n          return Uint8Array;\n        case types.SHORT:\n          return Int16Array;\n        case types.UNSIGNED_SHORT:\n          return Uint16Array;\n        case types.FLOAT:\n          return Float32Array;\n        default:\n          throw new Error(\"Unknown type \".concat(type));\n      }\n    }\n\n    var baseAttributeBuilder = (function () {\n      var location = -1;\n      var buffer = null;\n      var size = 1; // per vertex\n      var type = types.FLOAT;\n      var normalized = false;\n      var stride = 0;\n      var offset = 0;\n      var divisor = null;\n      var baseAttribute = function baseAttribute(programBuilder) {\n        var gl = programBuilder.context();\n        if (buffer == null) {\n          buffer = gl.createBuffer();\n        }\n        gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n        gl.vertexAttribPointer(location, size, type, normalized, stride, offset);\n        gl.enableVertexAttribArray(location);\n        var extInstancedArrays = programBuilder.extInstancedArrays();\n        extInstancedArrays.vertexAttribDivisorANGLE(location, divisor != null ? divisor : programBuilder.subInstanceCount() > 0 ? 1 : 0);\n      };\n      baseAttribute.location = function () {\n        if (!arguments.length) {\n          return location;\n        }\n        location = arguments.length <= 0 ? undefined : arguments[0];\n        return baseAttribute;\n      };\n      baseAttribute.buffer = function () {\n        if (!arguments.length) {\n          return buffer;\n        }\n        buffer = arguments.length <= 0 ? undefined : arguments[0];\n        return baseAttribute;\n      };\n      baseAttribute.size = function () {\n        if (!arguments.length) {\n          return size;\n        }\n        size = arguments.length <= 0 ? undefined : arguments[0];\n        return baseAttribute;\n      };\n      baseAttribute.type = function () {\n        if (!arguments.length) {\n          return type;\n        }\n        type = arguments.length <= 0 ? undefined : arguments[0];\n        return baseAttribute;\n      };\n      baseAttribute.normalized = function () {\n        if (!arguments.length) {\n          return normalized;\n        }\n        normalized = arguments.length <= 0 ? undefined : arguments[0];\n        return baseAttribute;\n      };\n      baseAttribute.stride = function () {\n        if (!arguments.length) {\n          return stride;\n        }\n        stride = arguments.length <= 0 ? undefined : arguments[0];\n        return baseAttribute;\n      };\n      baseAttribute.offset = function () {\n        if (!arguments.length) {\n          return offset;\n        }\n        offset = arguments.length <= 0 ? undefined : arguments[0];\n        return baseAttribute;\n      };\n      baseAttribute.divisor = function () {\n        if (!arguments.length) {\n          return divisor;\n        }\n        divisor = arguments.length <= 0 ? undefined : arguments[0];\n        return baseAttribute;\n      };\n      return baseAttribute;\n    });\n\n    var defaultArrayViewFactory = (function () {\n      var type = types.FLOAT;\n      var cachedArray = new Float32Array(0);\n      var factory = function factory(requiredLength) {\n        var ArrayType = getArrayViewConstructor(type);\n        if (cachedArray.length > requiredLength) {\n          cachedArray = new ArrayType(cachedArray.buffer, 0, requiredLength);\n        } else if (cachedArray.length !== requiredLength) {\n          cachedArray = new ArrayType(requiredLength);\n        }\n        return cachedArray;\n      };\n      factory.type = function () {\n        if (!arguments.length) {\n          return type;\n        }\n        if (type !== (arguments.length <= 0 ? undefined : arguments[0])) {\n          type = arguments.length <= 0 ? undefined : arguments[0];\n          var ArrayType = getArrayViewConstructor(type);\n          cachedArray = new ArrayType(0);\n        }\n        return factory;\n      };\n      return factory;\n    });\n\n    var attributeProjector = (function () {\n      var dirty = true;\n      var size = 1; // per vertex\n      var type = types.FLOAT;\n      var arrayViewFactory = defaultArrayViewFactory();\n      var value = function value(d, i) {\n        return d;\n      };\n      var data = null;\n      var projector = function projector() {\n        var length = data.length;\n        var projectedData = arrayViewFactory.type(type)(length * size);\n        if (size > 1) {\n          for (var i = 0; i < length; i++) {\n            var componentValues = value(data[i], i);\n            if (componentValues.length !== size) {\n              throw new Error(\"Expected components array of size \".concat(size, \", recieved array with length \").concat(componentValues.length, \".\"));\n            }\n            for (var component = 0; component < size; component++) {\n              projectedData[i * size + component] = componentValues[component];\n            }\n          }\n        } else {\n          for (var _i = 0; _i < length; _i++) {\n            var componentValue = value(data[_i], _i);\n            if (Array.isArray(componentValue)) {\n              throw new Error(\"Expected a single component value, recieved array with length \".concat(componentValue.length, \".\"));\n            }\n            projectedData[_i] = componentValue;\n          }\n        }\n        dirty = false;\n        return projectedData;\n      };\n      projector.dirty = function () {\n        return dirty;\n      };\n      projector.clear = function () {\n        dirty = true;\n      };\n      projector.size = function () {\n        if (!arguments.length) {\n          return size;\n        }\n        size = arguments.length <= 0 ? undefined : arguments[0];\n        dirty = true;\n        return projector;\n      };\n      projector.type = function () {\n        if (!arguments.length) {\n          return type;\n        }\n        type = arguments.length <= 0 ? undefined : arguments[0];\n        dirty = true;\n        return projector;\n      };\n      projector.arrayViewFactory = function () {\n        if (!arguments.length) {\n          return arrayViewFactory;\n        }\n        arrayViewFactory = arguments.length <= 0 ? undefined : arguments[0];\n        dirty = true;\n        return projector;\n      };\n      projector.value = function () {\n        if (!arguments.length) {\n          return value;\n        }\n        value = arguments.length <= 0 ? undefined : arguments[0];\n        dirty = true;\n        return projector;\n      };\n      projector.data = function () {\n        if (!arguments.length) {\n          return data;\n        }\n        data = arguments.length <= 0 ? undefined : arguments[0];\n        dirty = true;\n        return projector;\n      };\n      return projector;\n    });\n\n    var webglAttribute = (function () {\n      var base = baseAttributeBuilder();\n      var projector = attributeProjector();\n      var attribute = function attribute(programBuilder) {\n        base.size(attribute.size()).type(attribute.type());\n        base(programBuilder);\n        if (!projector.dirty()) {\n          return;\n        }\n        var projectedData = projector();\n        var gl = programBuilder.context();\n        gl.bindBuffer(gl.ARRAY_BUFFER, base.buffer());\n        gl.bufferData(gl.ARRAY_BUFFER, projectedData, gl.DYNAMIC_DRAW);\n      };\n      attribute.clear = function () {\n        base.buffer(null);\n        projector.clear();\n      };\n      rebind(attribute, base, 'normalized', 'location', 'divisor');\n      rebind(attribute, projector, 'data', 'value', 'size', 'type');\n      return attribute;\n    });\n\n    var rebindCurry = (function (target, targetName, source, sourceName) {\n      for (var _len = arguments.length, curriedArgs = new Array(_len > 4 ? _len - 4 : 0), _key = 4; _key < _len; _key++) {\n        curriedArgs[_key - 4] = arguments[_key];\n      }\n      target[targetName] = function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        var result = source[sourceName].apply(source, curriedArgs.concat(args));\n        if (result === source) {\n          return target;\n        }\n        return result;\n      };\n    });\n\n    var webglSeriesArea = (function () {\n      var program = programBuilder().mode(drawModes.TRIANGLES).subInstanceCount(6);\n      var xScale = baseScale();\n      var yScale = baseScale();\n      var decorate = function decorate() {};\n      var cornerAttribute = webglAttribute().divisor(0).size(3).type(types.UNSIGNED_BYTE).data([[0, 0, 0], [0, 1, 0], [1, 1, 1], [0, 0, 1], [1, 0, 0], [1, 1, 0]]);\n      program.buffers().attribute('aCorner', cornerAttribute);\n      var draw = function draw(numElements) {\n        var shaderBuilder = areaShader();\n        program.vertexShader(shaderBuilder.vertex()).fragmentShader(shaderBuilder.fragment());\n        xScale(program, 'gl_Position', 0);\n        yScale(program, 'gl_Position', 1);\n        decorate(program);\n        program(numElements - 1);\n      };\n      draw.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      draw.xScale = function () {\n        if (!arguments.length) {\n          return xScale;\n        }\n        xScale = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      draw.yScale = function () {\n        if (!arguments.length) {\n          return yScale;\n        }\n        yScale = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      rebind(draw, program, 'context', 'pixelRatio');\n      rebindCurry(draw, 'crossValueAttribute', program.buffers(), 'attribute', 'aCrossValue');\n      rebindCurry(draw, 'crossNextValueAttribute', program.buffers(), 'attribute', 'aCrossNextValue');\n      rebindCurry(draw, 'mainValueAttribute', program.buffers(), 'attribute', 'aMainValue');\n      rebindCurry(draw, 'mainNextValueAttribute', program.buffers(), 'attribute', 'aMainNextValue');\n      rebindCurry(draw, 'baseValueAttribute', program.buffers(), 'attribute', 'aBaseValue');\n      rebindCurry(draw, 'baseNextValueAttribute', program.buffers(), 'attribute', 'aBaseNextValue');\n      rebindCurry(draw, 'definedAttribute', program.buffers(), 'attribute', 'aDefined');\n      rebindCurry(draw, 'definedNextAttribute', program.buffers(), 'attribute', 'aDefinedNext');\n      return draw;\n    });\n\n    var circlePointShader = (function () {\n      var vertexShader = shaderBuilder(vertexShaderBase);\n      var fragmentShader = shaderBuilder(fragmentShaderBase);\n      vertexShader.appendHeader(circle$1.header).appendBody(circle$1.body);\n      fragmentShader.appendHeader(circle.header).appendBody(circle.body);\n      return {\n        vertex: function vertex() {\n          return vertexShader;\n        },\n        fragment: function fragment() {\n          return fragmentShader;\n        }\n      };\n    });\n\n    var webglSeriesPoint = (function () {\n      var program = programBuilder().mode(drawModes.POINTS);\n      var xScale = baseScale();\n      var yScale = baseScale();\n      var type = circlePointShader();\n      var decorate = function decorate() {};\n      var draw = function draw(numElements) {\n        program.vertexShader(type.vertex()).fragmentShader(type.fragment());\n        xScale(program, 'gl_Position', 0);\n        yScale(program, 'gl_Position', 1);\n        decorate(program);\n        program(numElements);\n      };\n      draw.type = function () {\n        if (!arguments.length) {\n          return type;\n        }\n        type = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      draw.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      draw.xScale = function () {\n        if (!arguments.length) {\n          return xScale;\n        }\n        xScale = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      draw.yScale = function () {\n        if (!arguments.length) {\n          return yScale;\n        }\n        yScale = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      rebind(draw, program, 'context', 'pixelRatio');\n      rebindCurry(draw, 'crossValueAttribute', program.buffers(), 'attribute', 'aCrossValue');\n      rebindCurry(draw, 'mainValueAttribute', program.buffers(), 'attribute', 'aMainValue');\n      rebindCurry(draw, 'sizeAttribute', program.buffers(), 'attribute', 'aSize');\n      rebindCurry(draw, 'definedAttribute', program.buffers(), 'attribute', 'aDefined');\n      return draw;\n    });\n\n    var lineWidthShader = (function () {\n      var width = 1;\n      var lineWidth = function lineWidth(program) {\n        program.buffers().uniform('uStrokeWidth', uniform(width));\n      };\n      lineWidth.lineWidth = function () {\n        if (!arguments.length) {\n          return width;\n        }\n        width = arguments.length <= 0 ? undefined : arguments[0];\n        return lineWidth;\n      };\n      return lineWidth;\n    });\n\n    var elementIndices = (function (initialData) {\n      var buffer = null;\n      var data = initialData;\n      var dirty = true;\n      var base = function base(programBuilder) {\n        var gl = programBuilder.context();\n        if (buffer == null) {\n          buffer = gl.createBuffer();\n        }\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffer);\n        if (!dirty) {\n          return;\n        }\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(data), gl.STATIC_DRAW);\n        dirty = false;\n      };\n      base.clear = function () {\n        buffer = null;\n        dirty = true;\n      };\n      base.data = function () {\n        if (!arguments.length) {\n          return data;\n        }\n        dirty = true;\n        data = arguments.length <= 0 ? undefined : arguments[0];\n        return base;\n      };\n      return base;\n    });\n\n    var webglSeriesLine = (function () {\n      var program = programBuilder().mode(drawModes.TRIANGLES).subInstanceCount(6);\n      var xScale = baseScale();\n      var yScale = baseScale();\n      var decorate = function decorate() {};\n      var lineWidth = lineWidthShader();\n\n      /*\n          Line segment from a to b has vertices A, B, C, D -\n             A |-------| B\n              | \\     |\n              |a  \\  b|\n              |     \\ |\n            D |-------| C\n           |AD| = uStrokeWidth\n          |AB| = |ab| + uStrokeWidth\n           Fragment shader implemented using line segment SDF \n          simplified for starting at the origin (a) -\n          https://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n      */\n      var cornerAttribute = webglAttribute().divisor(0).size(4).type(types.BYTE).data([[-1, +1, 1, 0], [+1, +1, 0, 1], [+1, -1, 0, 1], [-1, -1, 1, 0]]);\n      program.buffers().elementIndices(elementIndices([0, 1, 2, 2, 3, 0])).attribute('aCorner', cornerAttribute);\n      var draw = function draw(numElements) {\n        var vertexShader = shaderBuilder(vertexShaderBase);\n        var fragmentShader = shaderBuilder(fragmentShaderBase);\n        program.vertexShader(vertexShader).fragmentShader(fragmentShader);\n        vertexShader.appendHeader(\"\\n            attribute vec4 aCorner;\\n            attribute float aCrossValue;\\n            attribute float aCrossNextValue;\\n            attribute float aMainValue;\\n            attribute float aMainNextValue;\\n            attribute float aDefined;\\n            attribute float aDefinedNext;\\n\\n            uniform float uStrokeWidth;\\n            uniform vec2 uScreen;\\n\\n            varying float vLength;\\n            varying vec2 vPosition;\\n        \");\n        vertexShader.appendBody(\"\\n            vec4 value = vec4(aCrossValue, aMainValue, 0.0, 1.0);\\n            vec4 nextValue = vec4(aCrossNextValue, aMainNextValue, 0.0, 1.0);\\n        \");\n        xScale(program, 'value', 0);\n        xScale(program, 'nextValue', 0);\n        yScale(program, 'value', 1);\n        yScale(program, 'nextValue', 1);\n        vertexShader.appendBody(\"\\n            vec2 position = aCorner[2] * value.xy + aCorner[3] * nextValue.xy;\\n\\n            vec2 direction = normalize((nextValue.xy - value.xy) * uScreen);\\n            vec2 normal = vec2(direction.y, -direction.x);\\n            vec2 padding = ((uStrokeWidth / 2.0) / (uScreen / 2.0));\\n            \\n            padding *= aDefined * aDefinedNext;\\n            position += (aCorner[0] * direction + aCorner[1] * normal) * padding;\\n\\n            gl_Position = vec4(position.x, position.y, 0.0, 1.0);\\n\\n            vLength = length((nextValue.xy - value.xy) * (uScreen / 2.0));\\n            vPosition = aCorner.xy * (uStrokeWidth / 2.0);\\n            vPosition.x += aCorner[3] * vLength;\\n        \");\n\n        // all fragment shader inputs are pixel denominated\n\n        fragmentShader.appendHeader(\"\\n            uniform float uStrokeWidth;\\n            varying float vLength;\\n            varying vec2 vPosition;\\n\\n            float canFill = 0.0;\\n            float canStroke = 1.0;\\n        \");\n        fragmentShader.appendBody(\"\\n            vec2 position = vPosition;\\n            position.x -= clamp(position.x, 0.0, vLength);\\n            float sdf = length(position) - uStrokeWidth / 2.0;\\n            if (sdf > 0.5) {\\n                discard;\\n            }\\n        \");\n        lineWidth(program);\n        decorate(program);\n        program(numElements - 1);\n      };\n      draw.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      draw.xScale = function () {\n        if (!arguments.length) {\n          return xScale;\n        }\n        xScale = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      draw.yScale = function () {\n        if (!arguments.length) {\n          return yScale;\n        }\n        yScale = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      rebind(draw, program, 'context', 'pixelRatio');\n      rebind(draw, lineWidth, 'lineWidth');\n      rebindCurry(draw, 'crossValueAttribute', program.buffers(), 'attribute', 'aCrossValue');\n      rebindCurry(draw, 'crossNextValueAttribute', program.buffers(), 'attribute', 'aCrossNextValue');\n      rebindCurry(draw, 'mainValueAttribute', program.buffers(), 'attribute', 'aMainValue');\n      rebindCurry(draw, 'mainNextValueAttribute', program.buffers(), 'attribute', 'aMainNextValue');\n      rebindCurry(draw, 'definedAttribute', program.buffers(), 'attribute', 'aDefined');\n      rebindCurry(draw, 'definedNextAttribute', program.buffers(), 'attribute', 'aDefinedNext');\n      return draw;\n    });\n\n    var ohlcShader = (function () {\n      var vertexShader = shaderBuilder(vertexShaderBase);\n      var fragmentShader = shaderBuilder(fragmentShaderBase);\n      vertexShader.appendHeader(ohlc$4.header).appendBody(ohlc$4.body);\n      fragmentShader.appendHeader(ohlc$3.header).appendBody(ohlc$3.body);\n      return {\n        vertex: function vertex() {\n          return vertexShader;\n        },\n        fragment: function fragment() {\n          return fragmentShader;\n        }\n      };\n    });\n\n    var webglSeriesOhlc = (function () {\n      var program = programBuilder().mode(drawModes.TRIANGLES).subInstanceCount(18);\n      var xScale = baseScale();\n      var yScale = baseScale();\n      var lineWidth = lineWidthShader();\n      var decorate = function decorate() {};\n\n      /*\n       * x-y coordinate to locate the \"corners\" of the element.\n       * X: -1: LEFT, 0: MIDDLE, 1: RIGHT\n       * Y: -2: HIGH, -1: OPEN, 1: CLOSE, 2: LOW\n       * Z - Follows convention for X/Y (appropriate direction will be selected by the shader): -1: LEFT/TOP, 1: RIGHT/BOTTOM\n       */\n      var cornerAttribute = webglAttribute().divisor(0).size(3).type(types.BYTE).data([\n      // Main stem\n      [0, -2, -1], [0, -2, 1], [0, 2, 1], [0, 2, -1],\n      // Open bar\n      [-1, -1, -1], [-1, -1, 1], [0, -1, 1], [0, -1, -1],\n      // Close bar\n      [1, 1, 1], [0, 1, 1], [0, 1, -1], [1, 1, -1]]);\n      program.buffers().elementIndices(elementIndices([\n      // Main stem\n      0, 1, 2, 0, 3, 2,\n      // Open bar\n      4, 5, 6, 4, 7, 6,\n      // Close bar\n      8, 9, 10, 10, 11, 8])).attribute('aCorner', cornerAttribute);\n      var draw = function draw(numElements) {\n        var shaderBuilder = ohlcShader();\n        program.vertexShader(shaderBuilder.vertex()).fragmentShader(shaderBuilder.fragment());\n        xScale(program, 'gl_Position', 0);\n        yScale(program, 'gl_Position', 1);\n        lineWidth(program);\n        program.vertexShader().appendBody(\"\\n          gl_Position.x += xModifier / uScreen.x * 2.0;\\n          gl_Position.y += yModifier / uScreen.y * 2.0;\\n        \");\n        decorate(program);\n        program(numElements);\n      };\n      draw.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      draw.xScale = function () {\n        if (!arguments.length) {\n          return xScale;\n        }\n        xScale = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      draw.yScale = function () {\n        if (!arguments.length) {\n          return yScale;\n        }\n        yScale = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      rebind(draw, program, 'context', 'pixelRatio');\n      rebind(draw, lineWidth, 'lineWidth');\n      rebindCurry(draw, 'crossValueAttribute', program.buffers(), 'attribute', 'aCrossValue');\n      rebindCurry(draw, 'openValueAttribute', program.buffers(), 'attribute', 'aOpenValue');\n      rebindCurry(draw, 'highValueAttribute', program.buffers(), 'attribute', 'aHighValue');\n      rebindCurry(draw, 'lowValueAttribute', program.buffers(), 'attribute', 'aLowValue');\n      rebindCurry(draw, 'closeValueAttribute', program.buffers(), 'attribute', 'aCloseValue');\n      rebindCurry(draw, 'bandwidthAttribute', program.buffers(), 'attribute', 'aBandwidth');\n      rebindCurry(draw, 'definedAttribute', program.buffers(), 'attribute', 'aDefined');\n      return draw;\n    });\n\n    var barShader = (function () {\n      var vertexShader = shaderBuilder(vertexShaderBase);\n      var fragmentShader = shaderBuilder(fragmentShaderBase);\n      vertexShader.appendHeader(bar$4.header).appendBody(bar$4.body);\n      fragmentShader.appendHeader(bar$3.header).appendBody(bar$3.body);\n      return {\n        vertex: function vertex() {\n          return vertexShader;\n        },\n        fragment: function fragment() {\n          return fragmentShader;\n        }\n      };\n    });\n\n    //     \u03B2L            \u03B2            \u03B2R\n    //     .-------------.------------.\n    // (x-w/2, y1)    (x, y1)   (x+w/2, y1)\n    //     |     \\                    |\n    //     |        \\                 |\n    //     |           \\              |\n    //     |              \\           |\n    //     |                 \\        |\n    //     |                    \\     |\n    //     |                       \\  |\n    //     \u03B1L            \u03B1            \u03B1R\n    //     .-------------.------------.\n    // (x-w/2, y0)     (x, y0)   (x+w/2, y0)\n\n    // Drawing order\n    // Triangle \u03B2L, \u03B1L, \u03B1R. (bottom)\n    // \u03B2 -> \u03B2L.\n    // \u03B1 -> \u03B1L.\n    // \u03B1 -> \u03B1R.\n\n    // Triangle \u03B2L, \u03B1R, \u03B2R. (top)\n    // \u03B2 -> \u03B2L.\n    // \u03B1 -> \u03B1R.\n    // \u03B2 -> \u03B2R.\n\n    var webglSeriesBar = (function () {\n      var program = programBuilder().mode(drawModes.TRIANGLES).subInstanceCount(6);\n      var xScale = baseScale();\n      var yScale = baseScale();\n      var decorate = function decorate() {};\n      var cornerAttribute = webglAttribute().divisor(0).size(2).type(types.BYTE).data([[-1, -1], [1, 1], [-1, 1], [1, -1]]);\n      program.buffers().elementIndices(elementIndices([0, 1, 2, 0, 1, 3])).attribute('aCorner', cornerAttribute);\n      var draw = function draw(numElements) {\n        var shaderBuilder = barShader();\n        program.vertexShader(shaderBuilder.vertex()).fragmentShader(shaderBuilder.fragment());\n        xScale(program, 'gl_Position', 0);\n        yScale(program, 'gl_Position', 1);\n        program.vertexShader().appendBody(\"\\n            gl_Position.x += xModifier / uScreen.x * 2.0;\\n        \");\n        decorate(program);\n        program(numElements);\n      };\n      draw.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      draw.xScale = function () {\n        if (!arguments.length) {\n          return xScale;\n        }\n        xScale = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      draw.yScale = function () {\n        if (!arguments.length) {\n          return yScale;\n        }\n        yScale = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      rebind(draw, program, 'context', 'pixelRatio');\n      rebindCurry(draw, 'crossValueAttribute', program.buffers(), 'attribute', 'aCrossValue');\n      rebindCurry(draw, 'mainValueAttribute', program.buffers(), 'attribute', 'aMainValue');\n      rebindCurry(draw, 'baseValueAttribute', program.buffers(), 'attribute', 'aBaseValue');\n      rebindCurry(draw, 'bandwidthAttribute', program.buffers(), 'attribute', 'aBandwidth');\n      rebindCurry(draw, 'definedAttribute', program.buffers(), 'attribute', 'aDefined');\n      return draw;\n    });\n\n    var errorBarShader = (function () {\n      var vertexShader = shaderBuilder(vertexShaderBase);\n      var fragmentShader = shaderBuilder(fragmentShaderBase);\n      vertexShader.appendHeader(errorBar$4.header).appendBody(errorBar$4.body);\n      fragmentShader.appendHeader(errorBar$3.header).appendBody(errorBar$3.body);\n      return {\n        vertex: function vertex() {\n          return vertexShader;\n        },\n        fragment: function fragment() {\n          return fragmentShader;\n        }\n      };\n    });\n\n    var webglSeriesErrorBar = (function () {\n      var program = programBuilder().mode(drawModes.TRIANGLES).subInstanceCount(18);\n      var xScale = baseScale();\n      var yScale = baseScale();\n      var decorate = function decorate() {};\n      var lineWidth = lineWidthShader();\n\n      /*\n       * x-y coordinate to locate the \"corners\" of the element (ie errorbar). The `z` coordinate locates the corner relative to the line (this takes line width into account).\n       * X: -1: LEFT, 0: MIDDLE, 1: RIGHT\n       * Y: -1: HIGH, 1: LOW\n       * Z: Follows X or Y convention, depending on the orientation of the line that the vertex is part of.\n       */\n      var cornerAttribute = webglAttribute().divisor(0).size(3).type(types.BYTE).data([\n      // Main stem\n      [0, 1, 1], [0, 1, -1], [0, -1, -1], [0, -1, 1],\n      // Top cap\n      [1, -1, 1], [1, -1, -1], [-1, -1, -1], [-1, -1, 1],\n      // Bottom cap\n      [-1, 1, -1], [-1, 1, 1], [1, 1, 1], [1, 1, -1]]);\n      program.buffers().elementIndices(elementIndices([\n      // Main stem\n      0, 1, 2, 0, 3, 2,\n      // Top cap\n      4, 5, 6, 4, 7, 6,\n      // Bottom cap\n      8, 9, 10, 8, 11, 10])).attribute('aCorner', cornerAttribute);\n      var draw = function draw(numElements) {\n        var shaderBuilder = errorBarShader();\n        program.vertexShader(shaderBuilder.vertex()).fragmentShader(shaderBuilder.fragment());\n        xScale(program, 'gl_Position', 0);\n        yScale(program, 'gl_Position', 1);\n        lineWidth(program);\n        program.vertexShader().appendBody(\"\\n                gl_Position.x += xModifier / uScreen.x * 2.0;\\n                gl_Position.y += yModifier / uScreen.y * 2.0;\\n            \");\n        decorate(program);\n        program(numElements);\n      };\n      draw.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      draw.xScale = function () {\n        if (!arguments.length) {\n          return xScale;\n        }\n        xScale = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      draw.yScale = function () {\n        if (!arguments.length) {\n          return yScale;\n        }\n        yScale = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      rebind(draw, program, 'context', 'pixelRatio');\n      rebind(draw, lineWidth, 'lineWidth');\n      rebindCurry(draw, 'crossValueAttribute', program.buffers(), 'attribute', 'aCrossValue');\n      rebindCurry(draw, 'highValueAttribute', program.buffers(), 'attribute', 'aHighValue');\n      rebindCurry(draw, 'lowValueAttribute', program.buffers(), 'attribute', 'aLowValue');\n      rebindCurry(draw, 'bandwidthAttribute', program.buffers(), 'attribute', 'aBandwidth');\n      rebindCurry(draw, 'definedAttribute', program.buffers(), 'attribute', 'aDefined');\n      return draw;\n    });\n\n    var candlestickShader = (function () {\n      var vertexShader = shaderBuilder(vertexShaderBase);\n      var fragmentShader = shaderBuilder(fragmentShaderBase);\n      vertexShader.appendHeader(candlestick$4.header).appendBody(candlestick$4.body);\n      fragmentShader.appendHeader(candlestick$3.header).appendBody(candlestick$3.body);\n      return {\n        vertex: function vertex() {\n          return vertexShader;\n        },\n        fragment: function fragment() {\n          return fragmentShader;\n        }\n      };\n    });\n\n    var webglSeriesCandlestick = (function () {\n      var program = programBuilder().mode(drawModes.TRIANGLES).subInstanceCount(12);\n      var xScale = baseScale();\n      var yScale = baseScale();\n      var lineWidth = lineWidthShader();\n      var decorate = function decorate() {};\n\n      /*\n       * x-y coordinate to locate the \"corners\" of the element.\n       * X: -1: LEFT, 0: MIDDLE, 1: RIGHT\n       * Y: -2: HIGH, -1: OPEN, 1: CLOSE, 2: LOW\n       * Z: -1: LEFT, 1: RIGHT (only valid for HIGH/LOW corners)\n       */\n      var cornerAttribute = webglAttribute().divisor(0).size(3).type(types.BYTE).data([\n      // Vertical line\n      [0, 2, 1], [0, 2, -1], [0, -2, -1], [0, -2, 1],\n      // Central box\n      [1, -1, 0], [-1, -1, 0], [-1, 1, 0], [1, 1, 0]]);\n      program.buffers().elementIndices(elementIndices([\n      // Vertical line\n      0, 1, 2, 0, 3, 2,\n      // Central box\n      4, 5, 6, 4, 7, 6])).attribute('aCorner', cornerAttribute);\n      var draw = function draw(numElements) {\n        var shaderBuilder = candlestickShader();\n        program.vertexShader(shaderBuilder.vertex()).fragmentShader(shaderBuilder.fragment());\n        xScale(program, 'gl_Position', 0);\n        yScale(program, 'gl_Position', 1);\n        lineWidth(program);\n        program.vertexShader().appendBody(\"\\n          gl_Position.x += xModifier / uScreen.x * 2.0;\\n          gl_Position.y += yModifier / uScreen.y * 2.0;\\n        \");\n        decorate(program);\n        program(numElements);\n      };\n      draw.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      draw.xScale = function () {\n        if (!arguments.length) {\n          return xScale;\n        }\n        xScale = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      draw.yScale = function () {\n        if (!arguments.length) {\n          return yScale;\n        }\n        yScale = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      rebind(draw, program, 'context', 'pixelRatio');\n      rebind(draw, lineWidth, 'lineWidth');\n      rebindCurry(draw, 'crossValueAttribute', program.buffers(), 'attribute', 'aCrossValue');\n      rebindCurry(draw, 'openValueAttribute', program.buffers(), 'attribute', 'aOpenValue');\n      rebindCurry(draw, 'highValueAttribute', program.buffers(), 'attribute', 'aHighValue');\n      rebindCurry(draw, 'lowValueAttribute', program.buffers(), 'attribute', 'aLowValue');\n      rebindCurry(draw, 'closeValueAttribute', program.buffers(), 'attribute', 'aCloseValue');\n      rebindCurry(draw, 'bandwidthAttribute', program.buffers(), 'attribute', 'aBandwidth');\n      rebindCurry(draw, 'definedAttribute', program.buffers(), 'attribute', 'aDefined');\n      return draw;\n    });\n\n    var boxPlotShader = (function () {\n      var vertexShader = shaderBuilder(vertexShaderBase);\n      var fragmentShader = shaderBuilder(fragmentShaderBase);\n      vertexShader.appendHeader(boxPlot$4.header).appendBody(boxPlot$4.body);\n      fragmentShader.appendHeader(boxPlot$3.header).appendBody(boxPlot$3.body);\n      return {\n        vertex: function vertex() {\n          return vertexShader;\n        },\n        fragment: function fragment() {\n          return fragmentShader;\n        }\n      };\n    });\n\n    //           \u03B1L1     \u03B1     \u03B1R1\n    //            .------.------.\n    //                   |\n    //                   |\n    //                   |\n    //    \u03B2L2            \u03B2           \u03B2R2\n    //     .-------------.------------.\n    //     |                          |\n    //     |                          |\n    //     |                          |\n    //     \u03B3L2            \u03B3           \u03B3R2\n    //     .-------------.------------.\n    //     |                          |\n    //     |                          |\n    //     |                          |\n    //    \u03B4L2            \u03B4           \u03B4R2\n    //     .-------------.------------.\n    //                   |\n    //                   |\n    //                   |\n    //           \u03B5L1     \u03B5     \u03B5R1\n    //            .------.------.\n\n    // Line drawing order\n    // \u03B1L1 -> \u03B1R1\n    // \u03B1 -> \u03B2\n    // \u03B2L2 -> \u03B2R2\n    // \u03B3L2 -> \u03B3R2\n    // \u03B4L2 -> \u03B4R2\n    // \u03B2L2 -> \u03B4L2\n    // \u03B2R2 -> \u03B4R2\n    // \u03B4 -> \u03B5\n    // \u03B5L1 -> \u03B5R1\n\n    var webglSeriesBoxPlot = (function () {\n      var program = programBuilder().mode(drawModes.TRIANGLES).subInstanceCount(54);\n      var xScale = baseScale();\n      var yScale = baseScale();\n      var decorate = function decorate() {};\n      var lineWidth = lineWidthShader();\n\n      /*\n       * x-y coordinate to locate the \"corners\" of the element (ie errorbar). The `z` coordinate locates the corner relative to the line (this takes line width into account).\n       * X: -1: LEFT, 0: MIDDLE, 1: RIGHT\n       * Y: -2: HIGH, -1: UPPER QUARTILE, 0: MEDIAN, 1: LOWER QUARTILE, 2: LOW\n       * Z: Follows X or Y convention, depending on the orientation of the line that the vertex is part of.\n       * W: Indicator to determine line orientation (needed because some corners are part of two lines). - 0: VERTICAL, 1: HORIZONTAL\n       */\n      var cornerAttribute = webglAttribute().divisor(0).size(4).type(types.BYTE).data([\n      // Top cap line\n      [-1, -2, -1, 1], [1, -2, -1, 1], [1, -2, 1, 1], [-1, -2, 1, 1],\n      // Top whisker line\n      [0, -2, -1, 0], [0, -2, 1, 0], [0, -1, 1, 0], [0, -1, -1, 0],\n      // Upper quartile line\n      [-1, -1, -1, 1], [1, -1, -1, 1], [1, -1, 1, 1], [-1, -1, 1, 1],\n      // Median line\n      [-1, 0, -1, 1], [1, 0, -1, 1], [1, 0, 1, 1], [-1, 0, 1, 1],\n      // Lower quartile line\n      [-1, 1, -1, 1], [1, 1, -1, 1], [1, 1, 1, 1], [-1, 1, 1, 1],\n      // Left box vertical line\n      [-1, -1, -1, 0], [-1, -1, 1, 0], [-1, 1, 1, 0], [-1, 1, -1, 0],\n      // Right box vertical line\n      [1, -1, -1, 0], [1, -1, 1, 0], [1, 1, 1, 0], [1, 1, -1, 0],\n      // Bottom whisker line\n      [0, 2, -1, 0], [0, 2, 1, 0], [0, 1, 1, 0], [0, 1, -1, 0],\n      // Bottom cap line\n      [-1, 2, -1, 1], [1, 2, -1, 1], [1, 2, 1, 1], [-1, 2, 1, 1]]);\n      program.buffers().elementIndices(elementIndices([\n      // Top cap line\n      0, 1, 2, 0, 2, 3,\n      // Top whisker line\n      4, 5, 6, 4, 6, 7,\n      // Upper quartile line\n      8, 9, 10, 8, 10, 11,\n      // Median line\n      12, 13, 14, 12, 14, 15,\n      // Lower quartile line\n      16, 17, 18, 16, 18, 19,\n      // Left box vertical line\n      20, 21, 22, 20, 22, 23,\n      // Right box vertical line\n      24, 25, 26, 24, 26, 27,\n      // Bottom whisker line\n      28, 29, 30, 28, 30, 31,\n      // Bottom cap line\n      32, 33, 34, 32, 34, 35])).attribute('aCorner', cornerAttribute);\n      var draw = function draw(numElements) {\n        var shaderBuilder = boxPlotShader();\n        program.vertexShader(shaderBuilder.vertex()).fragmentShader(shaderBuilder.fragment());\n        xScale(program, 'gl_Position', 0);\n        yScale(program, 'gl_Position', 1);\n        lineWidth(program);\n        program.vertexShader().appendBody(\"\\n            gl_Position.x += xModifier / uScreen.x * 2.0;\\n            gl_Position.y += yModifier / uScreen.y * 2.0;\\n        \");\n        decorate(program);\n        program(numElements);\n      };\n      draw.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      draw.xScale = function () {\n        if (!arguments.length) {\n          return xScale;\n        }\n        xScale = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      draw.yScale = function () {\n        if (!arguments.length) {\n          return yScale;\n        }\n        yScale = arguments.length <= 0 ? undefined : arguments[0];\n        return draw;\n      };\n      rebind(draw, program, 'context', 'pixelRatio');\n      rebind(draw, lineWidth, 'lineWidth');\n      rebindCurry(draw, 'crossValueAttribute', program.buffers(), 'attribute', 'aCrossValue');\n      rebindCurry(draw, 'highValueAttribute', program.buffers(), 'attribute', 'aHighValue');\n      rebindCurry(draw, 'upperQuartileValueAttribute', program.buffers(), 'attribute', 'aUpperQuartileValue');\n      rebindCurry(draw, 'medianValueAttribute', program.buffers(), 'attribute', 'aMedianValue');\n      rebindCurry(draw, 'lowerQuartileValueAttribute', program.buffers(), 'attribute', 'aLowerQuartileValue');\n      rebindCurry(draw, 'lowValueAttribute', program.buffers(), 'attribute', 'aLowValue');\n      rebindCurry(draw, 'bandwidthAttribute', program.buffers(), 'attribute', 'aBandwidth');\n      rebindCurry(draw, 'capAttribute', program.buffers(), 'attribute', 'aCapWidth');\n      rebindCurry(draw, 'definedAttribute', program.buffers(), 'attribute', 'aDefined');\n      return draw;\n    });\n\n    var webglAdjacentAttribute = (function () {\n      var minOffset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var maxOffset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      if (minOffset > 0 || maxOffset < 0) {\n        throw new Error(\"Offset values (\".concat(minOffset, \" & \").concat(maxOffset, \") must straddle 0 \"));\n      }\n      var base = baseAttributeBuilder();\n      var projector = attributeProjector();\n      var adjacentAttribute = function adjacentAttribute(programBuilder) {\n        var elementSize = adjacentAttribute.size() * length(adjacentAttribute.type());\n        var bufferOffset = Math.abs(minOffset) * elementSize;\n        base.offset(bufferOffset).size(adjacentAttribute.size()).type(adjacentAttribute.type());\n        base(programBuilder);\n        if (!projector.dirty()) {\n          return;\n        }\n        var projectedData = projector();\n        var bufferPadding = maxOffset * elementSize;\n        var bufferLength = bufferOffset + projectedData.length * length(adjacentAttribute.type()) + bufferPadding;\n        var gl = programBuilder.context();\n        gl.bindBuffer(gl.ARRAY_BUFFER, base.buffer());\n        gl.bufferData(gl.ARRAY_BUFFER, bufferLength, gl.DYNAMIC_DRAW);\n        gl.bufferSubData(gl.ARRAY_BUFFER, bufferOffset, projectedData);\n      };\n      adjacentAttribute.offset = function (offset) {\n        if (minOffset > offset || offset > maxOffset) {\n          throw new Error(\"Requested offset \".concat(offset, \" exceeds bounds (\").concat(minOffset, \" & \").concat(maxOffset, \") \"));\n        }\n        var offsetAttribute = function offsetAttribute(programBuilder) {\n          base.offset((offset - minOffset) * adjacentAttribute.size() * length(adjacentAttribute.type()));\n          base(programBuilder);\n        };\n        rebind(offsetAttribute, adjacentAttribute, 'clear', 'location');\n        return offsetAttribute;\n      };\n      adjacentAttribute.clear = function () {\n        base.buffer(null);\n        projector.clear();\n      };\n      rebind(adjacentAttribute, base, 'normalized', 'location', 'divisor');\n      rebind(adjacentAttribute, projector, 'data', 'value', 'size', 'type');\n      return adjacentAttribute;\n    });\n\n    var linear = (function () {\n      var base = baseScale();\n      var prefix = function prefix(component) {\n        return \"linear\".concat(component);\n      };\n      var scale = function scale(programBuilder, identifier, component) {\n        programBuilder.vertexShader().appendHeaderIfNotExists(\"uniform vec4 \".concat(prefix(component), \"Offset;\")).appendHeaderIfNotExists(\"uniform vec4 \".concat(prefix(component), \"Scale;\")).appendBody(\"\".concat(identifier, \" = \").concat(identifier, \" + \").concat(prefix(component), \"Offset;\")).appendBody(\"\".concat(identifier, \" = \").concat(identifier, \" * \").concat(prefix(component), \"Scale;\"));\n        var domainSize = base.domain()[1] - base.domain()[0];\n        var rangeSize = base.range()[1] - base.range()[0];\n        var translate = base.range()[0] * (domainSize / rangeSize) - base.domain()[0];\n        var scaleFactor = rangeSize / domainSize;\n        var offset = [0, 0, 0, 0];\n        var scale = [1, 1, 1, 1];\n        offset[component] = translate;\n        scale[component] = scaleFactor;\n        programBuilder.buffers().uniform(\"\".concat(prefix(component), \"Offset\"), uniform(offset)).uniform(\"\".concat(prefix(component), \"Scale\"), uniform(scale));\n      };\n      rebindAll(scale, base);\n      return scale;\n    });\n\n    var log = (function () {\n      var glBase = baseScale();\n      var base = 10;\n      function log(v, base) {\n        return Math.log10(v) / Math.log10(base);\n      }\n      var prefix = function prefix(component) {\n        return \"log\".concat(component);\n      };\n      var scale = function scale(programBuilder, identifier, component) {\n        var logPart = \"\".concat(prefix(component), \"Offset + (\").concat(prefix(component), \"Scale * clamp(log(\").concat(identifier, \") / log(\").concat(prefix(component), \"Base), -inf, inf))\");\n        programBuilder.vertexShader().appendHeaderIfNotExists(\"uniform vec4 \".concat(prefix(component), \"Offset;\")).appendHeaderIfNotExists(\"uniform vec4 \".concat(prefix(component), \"Scale;\")).appendHeaderIfNotExists(\"uniform vec4 \".concat(prefix(component), \"Include;\")).appendHeaderIfNotExists(\"uniform float \".concat(prefix(component), \"Base;\")).appendBody(\"\".concat(identifier, \" = (\").concat(prefix(component), \"Include * (\").concat(logPart, \")) + ((1.0 - \").concat(prefix(component), \"Include) * \").concat(identifier, \");\"));\n        var domainSize = log(glBase.domain()[1], base) - log(glBase.domain()[0], base);\n        var rangeSize = glBase.range()[1] - glBase.range()[0];\n        var scaleFactor = rangeSize / domainSize;\n        var translate = glBase.range()[0] - scaleFactor * log(glBase.domain()[0], base);\n        var offset = [0, 0, 0, 0];\n        var scale = [0, 0, 0, 0];\n        var include = [0, 0, 0, 0];\n        offset[component] = translate;\n        scale[component] = scaleFactor;\n        include[component] = 1;\n        programBuilder.buffers().uniform(\"\".concat(prefix(component), \"Offset\"), uniform(offset)).uniform(\"\".concat(prefix(component), \"Scale\"), uniform(scale)).uniform(\"\".concat(prefix(component), \"Include\"), uniform(include)).uniform(\"\".concat(prefix(component), \"Base\"), uniform(base));\n      };\n      scale.base = function () {\n        if (!arguments.length) {\n          return base;\n        }\n        base = arguments.length <= 0 ? undefined : arguments[0];\n        return scale;\n      };\n      rebindAll(scale, glBase);\n      return scale;\n    });\n\n    var pow = (function () {\n      var base = baseScale();\n      var exponent = 1;\n      function pow(b, e) {\n        return Math.sign(b) * Math.pow(Math.abs(b), e);\n      }\n      var prefix = function prefix(component) {\n        return \"pow\".concat(component);\n      };\n      var scale = function scale(programBuilder, identifier, component) {\n        var powPart = \"\".concat(prefix(component), \"Offset + (\").concat(prefix(component), \"Scale * sign(\").concat(identifier, \") * pow(abs(\").concat(identifier, \"), vec4(\").concat(prefix(component), \"Exp)))\");\n        programBuilder.vertexShader().appendHeaderIfNotExists(\"uniform vec4 \".concat(prefix(component), \"Offset;\")).appendHeaderIfNotExists(\"uniform vec4 \".concat(prefix(component), \"Scale;\")).appendHeaderIfNotExists(\"uniform vec4 \".concat(prefix(component), \"Include;\")).appendHeaderIfNotExists(\"uniform float \".concat(prefix(component), \"Exp;\")).appendBody(\"\".concat(identifier, \" = (\").concat(prefix(component), \"Include * (\").concat(powPart, \")) + ((1.0 - \").concat(prefix(component), \"Include) * \").concat(identifier, \");\"));\n        var domainSize = pow(base.domain()[1], exponent) - pow(base.domain()[0], exponent);\n        var rangeSize = base.range()[1] - base.range()[0];\n        var scaleFactor = rangeSize / domainSize;\n        var translate = base.range()[0] - scaleFactor * pow(base.domain()[0], exponent);\n        var offset = [0, 0, 0, 0];\n        var scale = [0, 0, 0, 0];\n        var include = [0, 0, 0, 0];\n        offset[component] = translate;\n        scale[component] = scaleFactor;\n        include[component] = 1;\n        programBuilder.buffers().uniform(\"\".concat(prefix(component), \"Offset\"), uniform(offset)).uniform(\"\".concat(prefix(component), \"Scale\"), uniform(scale)).uniform(\"\".concat(prefix(component), \"Include\"), uniform(include)).uniform(\"\".concat(prefix(component), \"Exp\"), uniform(exponent));\n      };\n      scale.exponent = function () {\n        if (!arguments.length) {\n          return exponent;\n        }\n        exponent = arguments.length <= 0 ? undefined : arguments[0];\n        return scale;\n      };\n      rebindAll(scale, base);\n      return scale;\n    });\n\n    // we compare the stringified 'copy' function of the scale to\n    // determine the scale type.\n    var scaleLinearCopy = d3Scale.scaleLinear().copy.toString();\n    var scaleLogCopy = d3Scale.scaleLog().copy.toString();\n    var scalePowCopy = d3Scale.scalePow().copy.toString();\n    var scaleTimeCopy = d3Scale.scaleTime().copy.toString();\n\n    // always return the same reference to hint to consumers that\n    // it is a pure function\n    var identity$3 = d3Scale.scaleIdentity();\n\n    // offset date values to make the most of the float32 precision\n    var epoch = Date.now();\n    var reepoch = function reepoch(d) {\n      return d - epoch;\n    };\n    var webglScaleMapper = (function (scale) {\n      switch (scale.copy.toString()) {\n        case scaleLinearCopy:\n          {\n            return {\n              scale: identity$3,\n              webglScale: linear().domain(scale.domain())\n            };\n          }\n        case scaleTimeCopy:\n          {\n            return {\n              scale: reepoch,\n              webglScale: linear().domain(scale.domain().map(reepoch))\n            };\n          }\n        case scaleLogCopy:\n          {\n            return {\n              scale: identity$3,\n              webglScale: log().domain(scale.domain()).base(scale.base())\n            };\n          }\n        case scalePowCopy:\n          {\n            return {\n              scale: identity$3,\n              webglScale: pow().domain(scale.domain()).exponent(scale.exponent())\n            };\n          }\n        default:\n          {\n            // always return a copy of the scale to hint to consumers\n            // that it may be an impure function\n            return {\n              scale: scale.copy(),\n              webglScale: linear().domain(scale.range())\n            };\n          }\n      }\n    });\n\n    var squarePointShader = (function () {\n      var vertexShader = shaderBuilder(vertexShaderBase);\n      var fragmentShader = shaderBuilder(fragmentShaderBase);\n      vertexShader.appendHeader(square$1.header).appendBody(square$1.body);\n      fragmentShader.appendHeader(square.header).appendBody(square.body);\n      return {\n        vertex: function vertex() {\n          return vertexShader;\n        },\n        fragment: function fragment() {\n          return fragmentShader;\n        }\n      };\n    });\n\n    var trianglePointShader = (function () {\n      var vertexShader = shaderBuilder(vertexShaderBase);\n      var fragmentShader = shaderBuilder(fragmentShaderBase);\n      vertexShader.appendHeader(triangle$1.header).appendBody(triangle$1.body);\n      fragmentShader.appendHeader(triangle.header).appendBody(triangle.body);\n      return {\n        vertex: function vertex() {\n          return vertexShader;\n        },\n        fragment: function fragment() {\n          return fragmentShader;\n        }\n      };\n    });\n\n    var crossPointShader = (function () {\n      var vertexShader = shaderBuilder(vertexShaderBase);\n      var fragmentShader = shaderBuilder(fragmentShaderBase);\n      vertexShader.appendHeader(cross$1.header).appendBody(cross$1.body);\n      fragmentShader.appendHeader(cross.header).appendBody(cross.body);\n      return {\n        vertex: function vertex() {\n          return vertexShader;\n        },\n        fragment: function fragment() {\n          return fragmentShader;\n        }\n      };\n    });\n\n    var diamondPointShader = (function () {\n      var vertexShader = shaderBuilder(vertexShaderBase);\n      var fragmentShader = shaderBuilder(fragmentShaderBase);\n      vertexShader.appendHeader(diamond$1.header).appendBody(diamond$1.body);\n      fragmentShader.appendHeader(diamond.header).appendBody(diamond.body);\n      return {\n        vertex: function vertex() {\n          return vertexShader;\n        },\n        fragment: function fragment() {\n          return fragmentShader;\n        }\n      };\n    });\n\n    var starPointShader = (function () {\n      var vertexShader = shaderBuilder(vertexShaderBase);\n      var fragmentShader = shaderBuilder(fragmentShaderBase);\n      vertexShader.appendHeader(star$1.header).appendBody(star$1.body);\n      fragmentShader.appendHeader(star.header).appendBody(star.body);\n      return {\n        vertex: function vertex() {\n          return vertexShader;\n        },\n        fragment: function fragment() {\n          return fragmentShader;\n        }\n      };\n    });\n\n    var wyePointShader = (function () {\n      var vertexShader = shaderBuilder(vertexShaderBase);\n      var fragmentShader = shaderBuilder(fragmentShaderBase);\n      vertexShader.appendHeader(wye$1.header).appendBody(wye$1.body);\n      fragmentShader.appendHeader(wye.header).appendBody(wye.body);\n      return {\n        vertex: function vertex() {\n          return vertexShader;\n        },\n        fragment: function fragment() {\n          return fragmentShader;\n        }\n      };\n    });\n\n    var webglSymbolMapper = (function (symbol) {\n      switch (symbol) {\n        case d3Shape.symbolCircle:\n          return circlePointShader();\n        case d3Shape.symbolSquare:\n          return squarePointShader();\n        case d3Shape.symbolTriangle:\n          return trianglePointShader();\n        case d3Shape.symbolCross:\n          return crossPointShader();\n        case d3Shape.symbolDiamond:\n          return diamondPointShader();\n        case d3Shape.symbolStar:\n          return starPointShader();\n        case d3Shape.symbolWye:\n          return wyePointShader();\n        default:\n          throw new Error(\"Unrecognised symbol: \".concat(symbol));\n      }\n    });\n\n    var constantAttribute = (function (initialValue) {\n      var base = baseAttributeBuilder().divisor(1);\n      var value = initialValue;\n      var dirty = true;\n      var constantAttribute = function constantAttribute(programBuilder) {\n        base(programBuilder);\n        if (!dirty) {\n          return;\n        }\n        if (!Array.isArray(value)) {\n          throw new Error(\"Expected an array, received: \".concat(value));\n        }\n        if (value.length !== base.size()) {\n          throw new Error(\"Expected array of length: \".concat(base.size(), \", recieved array of length: \").concat(value.length));\n        }\n        var gl = programBuilder.context();\n        gl[\"vertexAttrib\".concat(value.length, \"fv\")](base.location(), value);\n        gl.disableVertexAttribArray(base.location());\n        dirty = false;\n      };\n      constantAttribute.clear = function () {\n        dirty = true;\n      };\n      constantAttribute.value = function () {\n        if (!arguments.length) {\n          return value;\n        }\n        value = arguments.length <= 0 ? undefined : arguments[0];\n        dirty = true;\n        return constantAttribute;\n      };\n      rebind(constantAttribute, base, 'normalized', 'size', 'location');\n      return constantAttribute;\n    });\n\n    var fillColor = (function () {\n      var initialValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0, 0, 0, 1];\n      var projectedAttribute = webglAttribute().size(4);\n      var value = initialValue;\n      var dirty = true;\n      var fillColor = function fillColor(programBuilder) {\n        programBuilder.vertexShader().appendHeaderIfNotExists(fillColor$2.header).appendBodyIfNotExists(fillColor$2.body);\n        programBuilder.fragmentShader().appendHeaderIfNotExists(fillColor$1.header).appendBodyIfNotExists(fillColor$1.body);\n        if (Array.isArray(value)) {\n          programBuilder.buffers().attribute('aFillColor', constantAttribute(value).size(4));\n        } else if (typeof value === 'function') {\n          if (!dirty) {\n            return;\n          }\n\n          // The following line is expensive and is the one we want to skip,\n          // the rest aren't.\n          projectedAttribute.value(value);\n          programBuilder.buffers().attribute('aFillColor', projectedAttribute);\n        } else {\n          throw new Error(\"Expected value to be an array or function, received \".concat(value));\n        }\n        dirty = false;\n      };\n      fillColor.value = function () {\n        if (!arguments.length) {\n          return value;\n        }\n        if (value !== (arguments.length <= 0 ? undefined : arguments[0])) {\n          value = arguments.length <= 0 ? undefined : arguments[0];\n          dirty = true;\n        }\n        return fillColor;\n      };\n      rebind(fillColor, projectedAttribute, 'data');\n      return fillColor;\n    });\n\n    var strokeColor = (function () {\n      var initialValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0, 0, 0, 1];\n      var projectedAttribute = webglAttribute().size(4);\n      var value = initialValue;\n      var dirty = true;\n      var strokeColor = function strokeColor(programBuilder) {\n        programBuilder.vertexShader().appendHeaderIfNotExists(strokeColor$2.header).appendBodyIfNotExists(strokeColor$2.body);\n        programBuilder.fragmentShader().appendHeaderIfNotExists(strokeColor$1.header).appendBodyIfNotExists(strokeColor$1.body);\n        if (Array.isArray(value)) {\n          programBuilder.buffers().attribute('aStrokeColor', constantAttribute(value).size(4));\n        } else if (typeof value === 'function') {\n          if (!dirty) {\n            return;\n          }\n\n          // The following line is expensive and is the one we want to skip,\n          // the rest aren't.\n          projectedAttribute.value(value);\n          programBuilder.buffers().attribute('aStrokeColor', projectedAttribute);\n        } else {\n          throw new Error(\"Expected value to be an array or function, received \".concat(value));\n        }\n        dirty = false;\n      };\n      strokeColor.value = function () {\n        if (!arguments.length) {\n          return value;\n        }\n        if (value !== (arguments.length <= 0 ? undefined : arguments[0])) {\n          value = arguments.length <= 0 ? undefined : arguments[0];\n          dirty = true;\n        }\n        return strokeColor;\n      };\n      rebind(strokeColor, projectedAttribute, 'data');\n      return strokeColor;\n    });\n\n    var line = (function () {\n      var base = xyBase();\n      var crossValueAttribute = webglAdjacentAttribute(0, 1);\n      var crossNextValueAttribute = crossValueAttribute.offset(1);\n      var mainValueAttribute = webglAdjacentAttribute(0, 1);\n      var mainNextValueAttribute = mainValueAttribute.offset(1);\n      var definedAttribute = webglAdjacentAttribute(0, 1).type(types.UNSIGNED_BYTE);\n      var definedNextAttribute = definedAttribute.offset(1);\n      var draw = webglSeriesLine().crossValueAttribute(crossValueAttribute).crossNextValueAttribute(crossNextValueAttribute).mainValueAttribute(mainValueAttribute).mainNextValueAttribute(mainNextValueAttribute).definedAttribute(definedAttribute).definedNextAttribute(definedNextAttribute);\n      var equals = function equals(previousData, data) {\n        return false;\n      };\n      var scaleMapper = webglScaleMapper;\n      var previousData = [];\n      var previousXScale = null;\n      var previousYScale = null;\n      var line = function line(data) {\n        var xScale = scaleMapper(base.xScale());\n        var yScale = scaleMapper(base.yScale());\n        var dataChanged = !equals(previousData, data);\n        if (dataChanged) {\n          previousData = data;\n          definedAttribute.value(function (d, i) {\n            return base.defined()(d, i);\n          }).data(data);\n        }\n        if (dataChanged || xScale.scale !== previousXScale) {\n          previousXScale = xScale.scale;\n          if (base.orient() === 'vertical') {\n            crossValueAttribute.value(function (d, i) {\n              return xScale.scale(base.crossValue()(d, i));\n            }).data(data);\n          } else {\n            crossValueAttribute.value(function (d, i) {\n              return xScale.scale(base.mainValue()(d, i));\n            }).data(data);\n          }\n        }\n        if (dataChanged || yScale.scale !== previousYScale) {\n          previousYScale = yScale.scale;\n          if (base.orient() === 'vertical') {\n            mainValueAttribute.value(function (d, i) {\n              return yScale.scale(base.mainValue()(d, i));\n            }).data(data);\n          } else {\n            mainValueAttribute.value(function (d, i) {\n              return yScale.scale(base.crossValue()(d, i));\n            }).data(data);\n          }\n        }\n        draw.xScale(xScale.webglScale).yScale(yScale.webglScale).decorate(function (program) {\n          return base.decorate()(program, data, 0);\n        });\n        draw(data.length);\n      };\n      line.equals = function () {\n        if (!arguments.length) {\n          return equals;\n        }\n        equals = arguments.length <= 0 ? undefined : arguments[0];\n        return line;\n      };\n      line.scaleMapper = function () {\n        if (!arguments.length) {\n          return scaleMapper;\n        }\n        scaleMapper = arguments.length <= 0 ? undefined : arguments[0];\n        return line;\n      };\n      rebindAll(line, base, exclude('baseValue', 'bandwidth', 'align'));\n      rebind(line, draw, 'context', 'lineWidth', 'pixelRatio');\n      return line;\n    });\n\n    var seriesSvgPoint = (function () {\n      var symbol = d3Shape.symbol();\n      var base = xyBase();\n      var join = dataJoin('g', 'point');\n      var containerTransform = function containerTransform(origin) {\n        return 'translate(' + origin[0] + ', ' + origin[1] + ')';\n      };\n      var point = function point(selection) {\n        if (isTransition(selection)) {\n          join.transition(selection);\n        }\n        selection.each(function (data, index, group) {\n          var filteredData = data.filter(base.defined());\n          var g = join(d3Selection.select(group[index]), filteredData);\n          g.enter().attr('transform', function (d, i) {\n            return containerTransform(base.values(d, i).origin);\n          }).attr('fill', colors.gray).attr('stroke', colors.black).append('path');\n          g.attr('transform', function (d, i) {\n            return containerTransform(base.values(d, i).origin);\n          }).select('path').attr('d', symbol);\n          base.decorate()(g, data, index);\n        });\n      };\n      rebindAll(point, base, exclude('baseValue', 'bandwidth', 'align'));\n      rebind(point, join, 'key');\n      rebind(point, symbol, 'type', 'size');\n      return point;\n    });\n\n    var seriesCanvasPoint = (function () {\n      var symbol = d3Shape.symbol();\n      var base = xyBase();\n      var point = function point(data) {\n        var filteredData = data.filter(base.defined());\n        var context = symbol.context();\n        filteredData.forEach(function (d, i) {\n          context.save();\n          var values = base.values(d, i);\n          context.translate(values.origin[0], values.origin[1]);\n          context.beginPath();\n          context.strokeStyle = colors.black;\n          context.fillStyle = colors.gray;\n          base.decorate()(context, d, i);\n          symbol(d, i);\n          context.fill();\n          context.stroke();\n          context.closePath();\n          context.restore();\n        });\n      };\n      rebindAll(point, base, exclude('baseValue', 'bandwidth', 'align'));\n      rebind(point, symbol, 'size', 'type', 'context');\n      return point;\n    });\n\n    var point = (function () {\n      var base = xyBase();\n      var size = functor$2(64);\n      var type = d3Shape.symbolCircle;\n      var crossValueAttribute = webglAttribute();\n      var mainValueAttribute = webglAttribute();\n      var sizeAttribute = webglAttribute().type(types.UNSIGNED_SHORT);\n      var definedAttribute = webglAttribute().type(types.UNSIGNED_BYTE);\n      var draw = webglSeriesPoint().crossValueAttribute(crossValueAttribute).mainValueAttribute(mainValueAttribute).sizeAttribute(sizeAttribute).definedAttribute(definedAttribute);\n      var equals = function equals(previousData, data) {\n        return false;\n      };\n      var scaleMapper = webglScaleMapper;\n      var previousData = [];\n      var previousXScale = null;\n      var previousYScale = null;\n      var point = function point(data) {\n        var xScale = scaleMapper(base.xScale());\n        var yScale = scaleMapper(base.yScale());\n        var dataChanged = !equals(previousData, data);\n        if (dataChanged) {\n          previousData = data;\n          sizeAttribute.value(function (d, i) {\n            return size(d, i);\n          }).data(data);\n          definedAttribute.value(function (d, i) {\n            return base.defined()(d, i);\n          }).data(data);\n        }\n        if (dataChanged || xScale.scale !== previousXScale) {\n          previousXScale = xScale.scale;\n          if (base.orient() === 'vertical') {\n            crossValueAttribute.value(function (d, i) {\n              return xScale.scale(base.crossValue()(d, i));\n            }).data(data);\n          } else {\n            crossValueAttribute.value(function (d, i) {\n              return xScale.scale(base.mainValue()(d, i));\n            }).data(data);\n          }\n        }\n        if (dataChanged || yScale.scale !== previousYScale) {\n          previousYScale = yScale.scale;\n          if (base.orient() === 'vertical') {\n            mainValueAttribute.value(function (d, i) {\n              return yScale.scale(base.mainValue()(d, i));\n            }).data(data);\n          } else {\n            mainValueAttribute.value(function (d, i) {\n              return yScale.scale(base.crossValue()(d, i));\n            }).data(data);\n          }\n        }\n        draw.xScale(xScale.webglScale).yScale(yScale.webglScale).type(webglSymbolMapper(type)).decorate(function (program) {\n          return base.decorate()(program, data, 0);\n        });\n        draw(data.length);\n      };\n      point.size = function () {\n        if (!arguments.length) {\n          return size;\n        }\n        size = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return point;\n      };\n      point.type = function () {\n        if (!arguments.length) {\n          return type;\n        }\n        type = arguments.length <= 0 ? undefined : arguments[0];\n        return point;\n      };\n      point.equals = function () {\n        if (!arguments.length) {\n          return equals;\n        }\n        equals = arguments.length <= 0 ? undefined : arguments[0];\n        return point;\n      };\n      point.scaleMapper = function () {\n        if (!arguments.length) {\n          return scaleMapper;\n        }\n        scaleMapper = arguments.length <= 0 ? undefined : arguments[0];\n        return point;\n      };\n      rebindAll(point, base, exclude('baseValue', 'bandwidth', 'align'));\n      rebind(point, draw, 'context', 'pixelRatio');\n      return point;\n    });\n\n    var bar$2 = (function () {\n      var pathGenerator = shapeBar().x(0).y(0);\n      var base = xyBase();\n      var join = dataJoin('g', 'bar');\n      var valueAxisDimension = function valueAxisDimension(generator) {\n        return base.orient() === 'vertical' ? generator.height : generator.width;\n      };\n      var crossAxisDimension = function crossAxisDimension(generator) {\n        return base.orient() === 'vertical' ? generator.width : generator.height;\n      };\n      var translation = function translation(origin) {\n        return 'translate(' + origin[0] + ', ' + origin[1] + ')';\n      };\n      var bar = function bar(selection) {\n        if (isTransition(selection)) {\n          join.transition(selection);\n        }\n        selection.each(function (data, index, group) {\n          var orient = base.orient();\n          if (orient !== 'vertical' && orient !== 'horizontal') {\n            throw new Error('The bar series does not support an orientation of ' + orient);\n          }\n          var filteredData = data.filter(base.defined());\n          var projectedData = filteredData.map(base.values);\n          pathGenerator.width(0).height(0);\n          if (base.orient() === 'vertical') {\n            pathGenerator.verticalAlign('top');\n            pathGenerator.horizontalAlign('center');\n          } else {\n            pathGenerator.horizontalAlign('right');\n            pathGenerator.verticalAlign('center');\n          }\n          var g = join(d3Selection.select(group[index]), filteredData);\n\n          // within the enter selection the pathGenerator creates a zero\n          // height bar on the baseline. As a result, when used with a transition the bar grows\n          // from y0 to y1 (y)\n          g.enter().attr('transform', function (_, i) {\n            return translation(projectedData[i].baseOrigin);\n          }).attr('class', 'bar ' + base.orient()).attr('fill', colors.darkGray).append('path').attr('d', function (d, i) {\n            crossAxisDimension(pathGenerator)(projectedData[i].width);\n            return pathGenerator([d]);\n          });\n\n          // the container translation sets the origin to the 'tip'\n          // of each bar as per the decorate pattern\n          g.attr('transform', function (_, i) {\n            return translation(projectedData[i].origin);\n          }).select('path').attr('d', function (d, i) {\n            crossAxisDimension(pathGenerator)(projectedData[i].width);\n            valueAxisDimension(pathGenerator)(-projectedData[i].height);\n            return pathGenerator([d]);\n          });\n          base.decorate()(g, filteredData, index);\n        });\n      };\n      rebindAll(bar, base);\n      rebind(bar, join, 'key');\n      return bar;\n    });\n\n    var bar$1 = (function () {\n      var base = xyBase();\n      var pathGenerator = shapeBar().x(0).y(0);\n      var valueAxisDimension = function valueAxisDimension(generator) {\n        return base.orient() === 'vertical' ? generator.height : generator.width;\n      };\n      var crossAxisDimension = function crossAxisDimension(generator) {\n        return base.orient() === 'vertical' ? generator.width : generator.height;\n      };\n      var bar = function bar(data) {\n        var context = pathGenerator.context();\n        var filteredData = data.filter(base.defined());\n        var projectedData = filteredData.map(base.values);\n        if (base.orient() === 'vertical') {\n          pathGenerator.verticalAlign('top');\n          pathGenerator.horizontalAlign('center');\n        } else {\n          pathGenerator.horizontalAlign('right');\n          pathGenerator.verticalAlign('center');\n        }\n        projectedData.forEach(function (datum, i) {\n          context.save();\n          context.beginPath();\n          context.translate(datum.origin[0], datum.origin[1]);\n          context.fillStyle = colors.darkGray;\n          context.strokeStyle = 'transparent';\n          base.decorate()(context, datum.d, i);\n          valueAxisDimension(pathGenerator)(-datum.height);\n          crossAxisDimension(pathGenerator)(datum.width);\n          pathGenerator([datum]);\n          context.fill();\n          context.stroke();\n          context.closePath();\n          context.restore();\n        });\n      };\n      rebindAll(bar, base);\n      rebind(bar, pathGenerator, 'context');\n      return bar;\n    });\n\n    var bar = (function () {\n      var base = xyBase();\n      var crossValueAttribute = webglAttribute();\n      var mainValueAttribute = webglAttribute();\n      var baseValueAttribute = webglAttribute();\n      var bandwidthAttribute = webglAttribute().type(types.UNSIGNED_SHORT);\n      var definedAttribute = webglAttribute().type(types.UNSIGNED_BYTE);\n      var draw = webglSeriesBar().crossValueAttribute(crossValueAttribute).mainValueAttribute(mainValueAttribute).baseValueAttribute(baseValueAttribute).bandwidthAttribute(bandwidthAttribute).definedAttribute(definedAttribute);\n      var equals = function equals(previousData, data) {\n        return false;\n      };\n      var scaleMapper = webglScaleMapper;\n      var previousData = [];\n      var previousXScale = null;\n      var previousYScale = null;\n      var bar = function bar(data) {\n        if (base.orient() !== 'vertical') {\n          throw new Error(\"Unsupported orientation \".concat(base.orient()));\n        }\n        var xScale = scaleMapper(base.xScale());\n        var yScale = scaleMapper(base.yScale());\n        var dataChanged = !equals(previousData, data);\n        if (dataChanged) {\n          previousData = data;\n          bandwidthAttribute.value(function (d, i) {\n            return base.bandwidth()(d, i);\n          }).data(data);\n          definedAttribute.value(function (d, i) {\n            return base.defined()(d, i);\n          }).data(data);\n        }\n        if (dataChanged || xScale.scale !== previousXScale) {\n          previousXScale = xScale.scale;\n          crossValueAttribute.value(function (d, i) {\n            return xScale.scale(base.crossValue()(d, i));\n          }).data(data);\n        }\n        if (dataChanged || yScale.scale !== previousYScale) {\n          previousYScale = yScale.scale;\n          baseValueAttribute.value(function (d, i) {\n            return yScale.scale(base.baseValue()(d, i));\n          }).data(data);\n          mainValueAttribute.value(function (d, i) {\n            return yScale.scale(base.mainValue()(d, i));\n          }).data(data);\n        }\n        draw.xScale(xScale.webglScale).yScale(yScale.webglScale).decorate(function (program) {\n          return base.decorate()(program, data, 0);\n        });\n        draw(data.length);\n      };\n      bar.equals = function () {\n        if (!arguments.length) {\n          return equals;\n        }\n        equals = arguments.length <= 0 ? undefined : arguments[0];\n        return bar;\n      };\n      bar.scaleMapper = function () {\n        if (!arguments.length) {\n          return scaleMapper;\n        }\n        scaleMapper = arguments.length <= 0 ? undefined : arguments[0];\n        return bar;\n      };\n      rebindAll(bar, base, exclude('align'));\n      rebind(bar, draw, 'context', 'pixelRatio');\n      return bar;\n    });\n\n    var errorBarBase = (function () {\n      var highValue = function highValue(d) {\n        return d.high;\n      };\n      var lowValue = function lowValue(d) {\n        return d.low;\n      };\n      var crossValue = function crossValue(d) {\n        return d.cross;\n      };\n      var orient = 'vertical';\n      var align = 'center';\n      var bandwidth = function bandwidth() {\n        return 5;\n      };\n      var base = createBase({\n        decorate: function decorate() {},\n        defined: function defined$1(d, i) {\n          return defined(lowValue, highValue, crossValue)(d, i);\n        },\n        xScale: d3Scale.scaleIdentity(),\n        yScale: d3Scale.scaleIdentity()\n      });\n      base.values = function (d, i) {\n        var width = bandwidth(d, i);\n        var offset = alignOffset(align, width);\n        var xScale = base.xScale();\n        var yScale = base.yScale();\n        if (orient === 'vertical') {\n          var y = yScale(highValue(d, i));\n          return {\n            origin: [xScale(crossValue(d, i)) + offset, y],\n            high: 0,\n            low: yScale(lowValue(d, i)) - y,\n            width: width\n          };\n        } else {\n          var x = xScale(lowValue(d, i));\n          return {\n            origin: [x, yScale(crossValue(d, i)) + offset],\n            high: xScale(highValue(d, i)) - x,\n            low: 0,\n            width: width\n          };\n        }\n      };\n      base.xValues = function () {\n        return orient === 'vertical' ? [crossValue] : [highValue, lowValue];\n      };\n      base.yValues = function () {\n        return orient !== 'vertical' ? [crossValue] : [highValue, lowValue];\n      };\n      base.orient = function () {\n        if (!arguments.length) {\n          return orient;\n        }\n        orient = arguments.length <= 0 ? undefined : arguments[0];\n        return base;\n      };\n      base.lowValue = function () {\n        if (!arguments.length) {\n          return lowValue;\n        }\n        lowValue = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return base;\n      };\n      base.highValue = function () {\n        if (!arguments.length) {\n          return highValue;\n        }\n        highValue = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return base;\n      };\n      base.crossValue = function () {\n        if (!arguments.length) {\n          return crossValue;\n        }\n        crossValue = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return base;\n      };\n      base.bandwidth = function () {\n        if (!arguments.length) {\n          return bandwidth;\n        }\n        bandwidth = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return base;\n      };\n      base.align = function () {\n        if (!arguments.length) {\n          return align;\n        }\n        align = arguments.length <= 0 ? undefined : arguments[0];\n        return base;\n      };\n      return base;\n    });\n\n    var errorBar$2 = (function () {\n      var base = errorBarBase();\n      var join = dataJoin('g', 'error-bar');\n      var pathGenerator = shapeErrorBar().value(0);\n      var propagateTransition = function propagateTransition(maybeTransition) {\n        return function (selection) {\n          return isTransition(maybeTransition) ? selection.transition(maybeTransition) : selection;\n        };\n      };\n      var containerTranslation = function containerTranslation(values) {\n        return 'translate(' + values.origin[0] + ', ' + values.origin[1] + ')';\n      };\n      var errorBar = function errorBar(selection) {\n        if (isTransition(selection)) {\n          join.transition(selection);\n        }\n        var transitionPropagator = propagateTransition(selection);\n        selection.each(function (data, index, group) {\n          var filteredData = data.filter(base.defined());\n          var projectedData = filteredData.map(base.values);\n          var g = join(d3Selection.select(group[index]), filteredData);\n          g.enter().attr('stroke', colors.black).attr('fill', colors.gray).attr('transform', function (d, i) {\n            return containerTranslation(base.values(d, i)) + ' scale(1e-6, 1)';\n          }).append('path');\n          pathGenerator.orient(base.orient());\n          g.each(function (d, i, g) {\n            var values = projectedData[i];\n            pathGenerator.high(values.high).low(values.low).width(values.width);\n            transitionPropagator(d3Selection.select(g[i])).attr('transform', containerTranslation(values) + ' scale(1)').select('path').attr('d', pathGenerator([d]));\n          });\n          base.decorate()(g, data, index);\n        });\n      };\n      rebindAll(errorBar, base);\n      rebind(errorBar, join, 'key');\n      return errorBar;\n    });\n\n    var errorBar$1 = (function () {\n      var base = errorBarBase();\n      var pathGenerator = shapeErrorBar().value(0);\n      var errorBar = function errorBar(data) {\n        var filteredData = data.filter(base.defined());\n        var context = pathGenerator.context();\n        pathGenerator.orient(base.orient());\n        filteredData.forEach(function (d, i) {\n          context.save();\n          var values = base.values(d, i);\n          context.translate(values.origin[0], values.origin[1]);\n          context.beginPath();\n          context.strokeStyle = colors.black;\n          context.fillStyle = colors.gray;\n          base.decorate()(context, d, i);\n          pathGenerator.high(values.high).width(values.width).low(values.low)([d]);\n          context.fill();\n          context.stroke();\n          context.closePath();\n          context.restore();\n        });\n      };\n      rebindAll(errorBar, base);\n      rebind(errorBar, pathGenerator, 'context');\n      return errorBar;\n    });\n\n    var errorBar = (function () {\n      var base = errorBarBase();\n      var crossValueAttribute = webglAttribute();\n      var highValueAttribute = webglAttribute();\n      var lowValueAttribute = webglAttribute();\n      var bandwidthAttribute = webglAttribute().type(types.UNSIGNED_SHORT);\n      var definedAttribute = webglAttribute().type(types.UNSIGNED_BYTE);\n      var draw = webglSeriesErrorBar().crossValueAttribute(crossValueAttribute).highValueAttribute(highValueAttribute).lowValueAttribute(lowValueAttribute).bandwidthAttribute(bandwidthAttribute).definedAttribute(definedAttribute);\n      var equals = function equals(previousData, data) {\n        return false;\n      };\n      var scaleMapper = webglScaleMapper;\n      var previousData = [];\n      var previousXScale = null;\n      var previousYScale = null;\n      var errorBar = function errorBar(data) {\n        if (base.orient() !== 'vertical') {\n          throw new Error(\"Unsupported orientation \".concat(base.orient()));\n        }\n        var xScale = scaleMapper(base.xScale());\n        var yScale = scaleMapper(base.yScale());\n        var dataChanged = !equals(previousData, data);\n        if (dataChanged) {\n          previousData = data;\n          bandwidthAttribute.value(function (d, i) {\n            return base.bandwidth()(d, i);\n          }).data(data);\n          definedAttribute.value(function (d, i) {\n            return base.defined()(d, i);\n          }).data(data);\n        }\n        if (dataChanged || xScale.scale !== previousXScale) {\n          previousXScale = xScale.scale;\n          crossValueAttribute.value(function (d, i) {\n            return xScale.scale(base.crossValue()(d, i));\n          }).data(data);\n        }\n        if (dataChanged || yScale.scale !== previousYScale) {\n          previousYScale = yScale.scale;\n          highValueAttribute.value(function (d, i) {\n            return yScale.scale(base.highValue()(d, i));\n          }).data(data);\n          lowValueAttribute.value(function (d, i) {\n            return yScale.scale(base.lowValue()(d, i));\n          }).data(data);\n        }\n        draw.xScale(xScale.webglScale).yScale(yScale.webglScale).decorate(function (program) {\n          return base.decorate()(program, data, 0);\n        });\n        draw(data.length);\n      };\n      errorBar.equals = function () {\n        if (!arguments.length) {\n          return equals;\n        }\n        equals = arguments.length <= 0 ? undefined : arguments[0];\n        return errorBar;\n      };\n      errorBar.scaleMapper = function () {\n        if (!arguments.length) {\n          return scaleMapper;\n        }\n        scaleMapper = arguments.length <= 0 ? undefined : arguments[0];\n        return errorBar;\n      };\n      rebindAll(errorBar, base, exclude('align'));\n      rebind(errorBar, draw, 'context', 'lineWidth', 'pixelRatio');\n      return errorBar;\n    });\n\n    var area$2 = (function () {\n      var base = xyBase();\n      var areaData = d3Shape.area();\n      var join = dataJoin('path', 'area');\n      var area = function area(selection) {\n        if (isTransition(selection)) {\n          join.transition(selection);\n        }\n        areaData.defined(base.defined());\n        selection.each(function (data, index, group) {\n          var projectedData = data.map(base.values);\n          areaData.x(function (_, i) {\n            return projectedData[i].transposedX;\n          }).y(function (_, i) {\n            return projectedData[i].transposedY;\n          });\n          var valueComponent = base.orient() === 'vertical' ? 'y' : 'x';\n          areaData[valueComponent + '0'](function (_, i) {\n            return projectedData[i].y0;\n          });\n          areaData[valueComponent + '1'](function (_, i) {\n            return projectedData[i].y;\n          });\n          var path = join(d3Selection.select(group[index]), [data]);\n          path.enter().attr('fill', colors.gray);\n          path.attr('d', areaData);\n          base.decorate()(path, data, index);\n        });\n      };\n      rebindAll(area, base, exclude('bandwidth', 'align'));\n      rebind(area, join, 'key');\n      rebind(area, areaData, 'curve');\n      return area;\n    });\n\n    var area$1 = (function () {\n      var base = xyBase();\n      var areaData = d3Shape.area();\n      var area = function area(data) {\n        var context = areaData.context();\n        areaData.defined(base.defined());\n        var projectedData = data.map(base.values);\n        areaData.x(function (_, i) {\n          return projectedData[i].transposedX;\n        }).y(function (_, i) {\n          return projectedData[i].transposedY;\n        });\n        var valueComponent = base.orient() === 'vertical' ? 'y' : 'x';\n        areaData[valueComponent + '0'](function (_, i) {\n          return projectedData[i].y0;\n        });\n        areaData[valueComponent + '1'](function (_, i) {\n          return projectedData[i].y;\n        });\n        context.beginPath();\n        context.fillStyle = colors.gray;\n        context.strokeStyle = 'transparent';\n        base.decorate()(context, data);\n        areaData(data);\n        context.fill();\n        context.stroke();\n        context.closePath();\n      };\n      rebindAll(area, base, exclude('bandwidth', 'align'));\n      rebind(area, areaData, 'curve', 'context');\n      return area;\n    });\n\n    var area = (function () {\n      var base = xyBase();\n      var crossValueAttribute = webglAdjacentAttribute(0, 1);\n      var crossNextValueAttribute = crossValueAttribute.offset(1);\n      var mainValueAttribute = webglAdjacentAttribute(0, 1);\n      var mainNextValueAttribute = mainValueAttribute.offset(1);\n      var baseValueAttribute = webglAdjacentAttribute(0, 1);\n      var baseNextValueAttribute = baseValueAttribute.offset(1);\n      var definedAttribute = webglAdjacentAttribute(0, 1).type(types.UNSIGNED_BYTE);\n      var definedNextAttribute = definedAttribute.offset(1);\n      var draw = webglSeriesArea().crossValueAttribute(crossValueAttribute).crossNextValueAttribute(crossNextValueAttribute).mainValueAttribute(mainValueAttribute).mainNextValueAttribute(mainNextValueAttribute).baseValueAttribute(baseValueAttribute).baseNextValueAttribute(baseNextValueAttribute).definedAttribute(definedAttribute).definedNextAttribute(definedNextAttribute);\n      var equals = function equals(previousData, data) {\n        return false;\n      };\n      var scaleMapper = webglScaleMapper;\n      var previousData = [];\n      var previousXScale = null;\n      var previousYScale = null;\n      var area = function area(data) {\n        if (base.orient() !== 'vertical') {\n          throw new Error(\"Unsupported orientation \".concat(base.orient()));\n        }\n        var xScale = scaleMapper(base.xScale());\n        var yScale = scaleMapper(base.yScale());\n        var dataChanged = !equals(previousData, data);\n        if (dataChanged) {\n          previousData = data;\n          definedAttribute.value(function (d, i) {\n            return base.defined()(d, i);\n          }).data(data);\n        }\n        if (dataChanged || xScale.scale !== previousXScale) {\n          previousXScale = xScale.scale;\n          crossValueAttribute.value(function (d, i) {\n            return xScale.scale(base.crossValue()(d, i));\n          }).data(data);\n        }\n        if (dataChanged || yScale.scale !== previousYScale) {\n          previousYScale = yScale.scale;\n          baseValueAttribute.value(function (d, i) {\n            return yScale.scale(base.baseValue()(d, i));\n          }).data(data);\n          mainValueAttribute.value(function (d, i) {\n            return yScale.scale(base.mainValue()(d, i));\n          }).data(data);\n        }\n        draw.xScale(xScale.webglScale).yScale(yScale.webglScale).decorate(function (program) {\n          return base.decorate()(program, data, 0);\n        });\n        draw(data.length);\n      };\n      area.equals = function () {\n        if (!arguments.length) {\n          return equals;\n        }\n        equals = arguments.length <= 0 ? undefined : arguments[0];\n        return area;\n      };\n      area.scaleMapper = function () {\n        if (!arguments.length) {\n          return scaleMapper;\n        }\n        scaleMapper = arguments.length <= 0 ? undefined : arguments[0];\n        return area;\n      };\n      rebindAll(area, base, exclude('bandwidth', 'align'));\n      rebind(area, draw, 'context', 'pixelRatio');\n      return area;\n    });\n\n    var ohlcBase$3 = (function () {\n      var base;\n      var crossValue = function crossValue(d) {\n        return d.date;\n      };\n      var openValue = function openValue(d) {\n        return d.open;\n      };\n      var highValue = function highValue(d) {\n        return d.high;\n      };\n      var lowValue = function lowValue(d) {\n        return d.low;\n      };\n      var closeValue = function closeValue(d) {\n        return d.close;\n      };\n      var bandwidth = function bandwidth() {\n        return 5;\n      };\n      var align = 'center';\n      var crossValueScaled = function crossValueScaled(d, i) {\n        return base.xScale()(crossValue(d, i));\n      };\n      base = createBase({\n        decorate: function decorate() {},\n        defined: function defined$1(d, i) {\n          return defined(crossValue, openValue, lowValue, highValue, closeValue)(d, i);\n        },\n        xScale: d3Scale.scaleIdentity(),\n        yScale: d3Scale.scaleIdentity()\n      });\n      base.values = function (d, i) {\n        var closeRaw = closeValue(d, i);\n        var openRaw = openValue(d, i);\n        var width = bandwidth(d, i);\n        var offset = alignOffset(align, width);\n        var direction = '';\n        if (closeRaw > openRaw) {\n          direction = 'up';\n        } else if (closeRaw < openRaw) {\n          direction = 'down';\n        }\n        return {\n          cross: crossValueScaled(d, i) + offset,\n          open: base.yScale()(openRaw),\n          high: base.yScale()(highValue(d, i)),\n          low: base.yScale()(lowValue(d, i)),\n          close: base.yScale()(closeRaw),\n          width: width,\n          direction: direction\n        };\n      };\n      base.xValues = function () {\n        return [crossValue];\n      };\n      base.yValues = function () {\n        return [openValue, highValue, lowValue, closeValue];\n      };\n      base.crossValue = function () {\n        if (!arguments.length) {\n          return crossValue;\n        }\n        crossValue = arguments.length <= 0 ? undefined : arguments[0];\n        return base;\n      };\n      base.openValue = function () {\n        if (!arguments.length) {\n          return openValue;\n        }\n        openValue = arguments.length <= 0 ? undefined : arguments[0];\n        return base;\n      };\n      base.highValue = function () {\n        if (!arguments.length) {\n          return highValue;\n        }\n        highValue = arguments.length <= 0 ? undefined : arguments[0];\n        return base;\n      };\n      base.lowValue = function () {\n        if (!arguments.length) {\n          return lowValue;\n        }\n        lowValue = arguments.length <= 0 ? undefined : arguments[0];\n        return base;\n      };\n      base.yValue = base.closeValue = function () {\n        if (!arguments.length) {\n          return closeValue;\n        }\n        closeValue = arguments.length <= 0 ? undefined : arguments[0];\n        return base;\n      };\n      base.bandwidth = function () {\n        if (!arguments.length) {\n          return bandwidth;\n        }\n        bandwidth = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return base;\n      };\n      base.align = function () {\n        if (!arguments.length) {\n          return align;\n        }\n        align = arguments.length <= 0 ? undefined : arguments[0];\n        return base;\n      };\n      return base;\n    });\n\n    var ohlcBase$2 = (function (pathGenerator, seriesName) {\n      var base = ohlcBase$3();\n      var join = dataJoin('g', seriesName);\n      var containerTranslation = function containerTranslation(values) {\n        return 'translate(' + values.cross + ', ' + values.high + ')';\n      };\n      var propagateTransition = function propagateTransition(maybeTransition) {\n        return function (selection) {\n          return isTransition(maybeTransition) ? selection.transition(maybeTransition) : selection;\n        };\n      };\n      var candlestick = function candlestick(selection) {\n        if (isTransition(selection)) {\n          join.transition(selection);\n        }\n        var transitionPropagator = propagateTransition(selection);\n        selection.each(function (data, index, group) {\n          var filteredData = data.filter(base.defined());\n          var g = join(d3Selection.select(group[index]), filteredData);\n          g.enter().attr('transform', function (d, i) {\n            return containerTranslation(base.values(d, i)) + ' scale(1e-6, 1)';\n          }).append('path');\n          g.each(function (d, i, g) {\n            var values = base.values(d, i);\n            var color = values.direction === 'up' ? colors.green : colors.red;\n            var singleCandlestick = transitionPropagator(d3Selection.select(g[i])).attr('class', seriesName + ' ' + values.direction).attr('stroke', color).attr('fill', color).attr('transform', function () {\n              return containerTranslation(values) + ' scale(1)';\n            });\n            pathGenerator.x(0).width(values.width).open(function () {\n              return values.open - values.high;\n            }).high(0).low(function () {\n              return values.low - values.high;\n            }).close(function () {\n              return values.close - values.high;\n            });\n            singleCandlestick.select('path').attr('d', pathGenerator([d]));\n          });\n          base.decorate()(g, data, index);\n        });\n      };\n      rebind(candlestick, join, 'key');\n      rebindAll(candlestick, base);\n      return candlestick;\n    });\n\n    var candlestick$2 = (function () {\n      return ohlcBase$2(shapeCandlestick(), 'candlestick');\n    });\n\n    var ohlcBase$1 = (function (pathGenerator) {\n      var base = ohlcBase$3();\n      var candlestick = function candlestick(data) {\n        var filteredData = data.filter(base.defined());\n        var context = pathGenerator.context();\n        filteredData.forEach(function (d, i) {\n          context.save();\n          var values = base.values(d, i);\n          context.translate(values.cross, values.high);\n          context.beginPath();\n          pathGenerator.x(0).open(function () {\n            return values.open - values.high;\n          }).width(values.width).high(0).low(function () {\n            return values.low - values.high;\n          }).close(function () {\n            return values.close - values.high;\n          })([d]);\n          var color = values.direction === 'up' ? colors.green : colors.red;\n          context.strokeStyle = color;\n          context.fillStyle = color;\n          base.decorate()(context, d, i);\n          context.fill();\n          context.stroke();\n          context.closePath();\n          context.restore();\n        });\n      };\n      rebind(candlestick, pathGenerator, 'context');\n      rebindAll(candlestick, base);\n      return candlestick;\n    });\n\n    var candlestick$1 = (function () {\n      return ohlcBase$1(shapeCandlestick());\n    });\n\n    var ohlcBase = (function (pathGenerator) {\n      var base = ohlcBase$3();\n      var crossValueAttribute = webglAttribute();\n      var openValueAttribute = webglAttribute();\n      var highValueAttribute = webglAttribute();\n      var lowValueAttribute = webglAttribute();\n      var closeValueAttribute = webglAttribute();\n      var bandwidthAttribute = webglAttribute().type(types.UNSIGNED_SHORT);\n      var definedAttribute = webglAttribute().type(types.UNSIGNED_BYTE);\n      pathGenerator.crossValueAttribute(crossValueAttribute).openValueAttribute(openValueAttribute).highValueAttribute(highValueAttribute).lowValueAttribute(lowValueAttribute).closeValueAttribute(closeValueAttribute).bandwidthAttribute(bandwidthAttribute).definedAttribute(definedAttribute);\n      var equals = function equals(previousData, data) {\n        return false;\n      };\n      var scaleMapper = webglScaleMapper;\n      var previousData = [];\n      var previousXScale = null;\n      var previousYScale = null;\n      var candlestick = function candlestick(data) {\n        var xScale = scaleMapper(base.xScale());\n        var yScale = scaleMapper(base.yScale());\n        var dataChanged = !equals(previousData, data);\n        if (dataChanged) {\n          previousData = data;\n          bandwidthAttribute.value(function (d, i) {\n            return base.bandwidth()(d, i);\n          }).data(data);\n          definedAttribute.value(function (d, i) {\n            return base.defined()(d, i);\n          }).data(data);\n        }\n        if (dataChanged || xScale.scale !== previousXScale) {\n          previousXScale = xScale.scale;\n          crossValueAttribute.value(function (d, i) {\n            return xScale.scale(base.crossValue()(d, i));\n          }).data(data);\n        }\n        if (dataChanged || yScale.scale !== previousYScale) {\n          previousYScale = yScale.scale;\n          openValueAttribute.value(function (d, i) {\n            return yScale.scale(base.openValue()(d, i));\n          }).data(data);\n          highValueAttribute.value(function (d, i) {\n            return yScale.scale(base.highValue()(d, i));\n          }).data(data);\n          lowValueAttribute.value(function (d, i) {\n            return yScale.scale(base.lowValue()(d, i));\n          }).data(data);\n          closeValueAttribute.value(function (d, i) {\n            return yScale.scale(base.closeValue()(d, i));\n          }).data(data);\n        }\n        pathGenerator.xScale(xScale.webglScale).yScale(yScale.webglScale).decorate(function (program) {\n          return base.decorate()(program, data, 0);\n        });\n        pathGenerator(data.length);\n      };\n      candlestick.equals = function () {\n        if (!arguments.length) {\n          return equals;\n        }\n        equals = arguments.length <= 0 ? undefined : arguments[0];\n        return candlestick;\n      };\n      candlestick.scaleMapper = function () {\n        if (!arguments.length) {\n          return scaleMapper;\n        }\n        scaleMapper = arguments.length <= 0 ? undefined : arguments[0];\n        return candlestick;\n      };\n      rebindAll(candlestick, base, exclude('align'));\n      rebind(candlestick, pathGenerator, 'context', 'lineWidth', 'pixelRatio');\n      return candlestick;\n    });\n\n    var candlestick = (function () {\n      return ohlcBase(webglSeriesCandlestick());\n    });\n\n    var boxPlotBase = (function () {\n      var upperQuartileValue = function upperQuartileValue(d) {\n        return d.upperQuartile;\n      };\n      var lowerQuartileValue = function lowerQuartileValue(d) {\n        return d.lowerQuartile;\n      };\n      var highValue = function highValue(d) {\n        return d.high;\n      };\n      var lowValue = function lowValue(d) {\n        return d.low;\n      };\n      var crossValue = function crossValue(d) {\n        return d.value;\n      };\n      var medianValue = function medianValue(d) {\n        return d.median;\n      };\n      var orient = 'vertical';\n      var align = 'center';\n      var bandwidth = function bandwidth() {\n        return 5;\n      };\n      var base = createBase({\n        decorate: function decorate() {},\n        defined: function defined$1(d, i) {\n          return defined(lowValue, highValue, lowerQuartileValue, upperQuartileValue, crossValue, medianValue)(d, i);\n        },\n        xScale: d3Scale.scaleIdentity(),\n        yScale: d3Scale.scaleIdentity()\n      });\n      base.values = function (d, i) {\n        var width = bandwidth(d, i);\n        var offset = alignOffset(align, width);\n        var xScale = base.xScale();\n        var yScale = base.yScale();\n        if (orient === 'vertical') {\n          var y = yScale(highValue(d, i));\n          return {\n            origin: [xScale(crossValue(d, i)) + offset, y],\n            high: 0,\n            upperQuartile: yScale(upperQuartileValue(d, i)) - y,\n            median: yScale(medianValue(d, i)) - y,\n            lowerQuartile: yScale(lowerQuartileValue(d, i)) - y,\n            low: yScale(lowValue(d, i)) - y,\n            width: width\n          };\n        } else {\n          var x = xScale(lowValue(d, i));\n          return {\n            origin: [x, yScale(crossValue(d, i)) + offset],\n            high: xScale(highValue(d, i)) - x,\n            upperQuartile: xScale(upperQuartileValue(d, i)) - x,\n            median: xScale(medianValue(d, i)) - x,\n            lowerQuartile: xScale(lowerQuartileValue(d, i)) - x,\n            low: 0,\n            width: width\n          };\n        }\n      };\n      base.xValues = function () {\n        return orient === 'vertical' ? [crossValue] : [upperQuartileValue, lowerQuartileValue, highValue, lowValue, medianValue];\n      };\n      base.yValues = function () {\n        return orient !== 'vertical' ? [crossValue] : [upperQuartileValue, lowerQuartileValue, highValue, lowValue, medianValue];\n      };\n      base.orient = function () {\n        if (!arguments.length) {\n          return orient;\n        }\n        orient = arguments.length <= 0 ? undefined : arguments[0];\n        return base;\n      };\n      base.lowerQuartileValue = function () {\n        if (!arguments.length) {\n          return lowerQuartileValue;\n        }\n        lowerQuartileValue = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return base;\n      };\n      base.upperQuartileValue = function () {\n        if (!arguments.length) {\n          return upperQuartileValue;\n        }\n        upperQuartileValue = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return base;\n      };\n      base.lowValue = function () {\n        if (!arguments.length) {\n          return lowValue;\n        }\n        lowValue = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return base;\n      };\n      base.highValue = function () {\n        if (!arguments.length) {\n          return highValue;\n        }\n        highValue = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return base;\n      };\n      base.crossValue = function () {\n        if (!arguments.length) {\n          return crossValue;\n        }\n        crossValue = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return base;\n      };\n      base.medianValue = function () {\n        if (!arguments.length) {\n          return medianValue;\n        }\n        medianValue = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return base;\n      };\n      base.bandwidth = function () {\n        if (!arguments.length) {\n          return bandwidth;\n        }\n        bandwidth = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return base;\n      };\n      base.align = function () {\n        if (!arguments.length) {\n          return align;\n        }\n        align = arguments.length <= 0 ? undefined : arguments[0];\n        return base;\n      };\n      return base;\n    });\n\n    var boxPlot$2 = (function () {\n      var base = boxPlotBase();\n      var join = dataJoin('g', 'box-plot');\n      var pathGenerator = shapeBoxPlot().value(0);\n      var propagateTransition = function propagateTransition(maybeTransition) {\n        return function (selection) {\n          return isTransition(maybeTransition) ? selection.transition(maybeTransition) : selection;\n        };\n      };\n      var containerTranslation = function containerTranslation(values) {\n        return 'translate(' + values.origin[0] + ', ' + values.origin[1] + ')';\n      };\n      var boxPlot = function boxPlot(selection) {\n        if (isTransition(selection)) {\n          join.transition(selection);\n        }\n        var transitionPropagator = propagateTransition(selection);\n        selection.each(function (data, index, group) {\n          var filteredData = data.filter(base.defined());\n          var g = join(d3Selection.select(group[index]), filteredData);\n          g.enter().attr('stroke', colors.black).attr('fill', colors.gray).attr('transform', function (d, i) {\n            return containerTranslation(base.values(d, i)) + ' scale(1e-6, 1)';\n          }).append('path');\n          pathGenerator.orient(base.orient());\n          g.each(function (d, i, g) {\n            var values = base.values(d, i);\n            pathGenerator.median(values.median).upperQuartile(values.upperQuartile).lowerQuartile(values.lowerQuartile).width(values.width).high(values.high).low(values.low);\n            transitionPropagator(d3Selection.select(g[i])).attr('transform', containerTranslation(values)).select('path').attr('d', pathGenerator([d]));\n          });\n          base.decorate()(g, data, index);\n        });\n      };\n      rebindAll(boxPlot, base);\n      rebind(boxPlot, join, 'key');\n      rebind(boxPlot, pathGenerator, 'cap');\n      return boxPlot;\n    });\n\n    var boxPlot$1 = (function () {\n      var base = boxPlotBase();\n      var pathGenerator = shapeBoxPlot().value(0);\n      var boxPlot = function boxPlot(data) {\n        var filteredData = data.filter(base.defined());\n        var context = pathGenerator.context();\n        pathGenerator.orient(base.orient());\n        filteredData.forEach(function (d, i) {\n          context.save();\n          var values = base.values(d, i);\n          context.translate(values.origin[0], values.origin[1]);\n          context.beginPath();\n          context.fillStyle = colors.gray;\n          context.strokeStyle = colors.black;\n          base.decorate()(context, d, i);\n          pathGenerator.median(values.median).upperQuartile(values.upperQuartile).lowerQuartile(values.lowerQuartile).high(values.high).width(values.width).low(values.low)([d]);\n          context.fill();\n          context.stroke();\n          context.closePath();\n          context.restore();\n        });\n      };\n      rebindAll(boxPlot, base);\n      rebind(boxPlot, pathGenerator, 'cap', 'context');\n      return boxPlot;\n    });\n\n    var boxPlot = (function () {\n      var base = boxPlotBase();\n      var crossValueAttribute = webglAttribute();\n      var highValueAttribute = webglAttribute();\n      var upperQuartileValueAttribute = webglAttribute();\n      var medianValueAttribute = webglAttribute();\n      var lowerQuartileValueAttribute = webglAttribute();\n      var lowValueAttribute = webglAttribute();\n      var bandwidthAttribute = webglAttribute().type(types.UNSIGNED_SHORT);\n      var capAttribute = webglAttribute().type(types.UNSIGNED_SHORT);\n      var definedAttribute = webglAttribute().type(types.UNSIGNED_BYTE);\n      var draw = webglSeriesBoxPlot().crossValueAttribute(crossValueAttribute).highValueAttribute(highValueAttribute).upperQuartileValueAttribute(upperQuartileValueAttribute).medianValueAttribute(medianValueAttribute).lowerQuartileValueAttribute(lowerQuartileValueAttribute).lowValueAttribute(lowValueAttribute).bandwidthAttribute(bandwidthAttribute).capAttribute(capAttribute).definedAttribute(definedAttribute);\n      var equals = function equals(previousData, data) {\n        return false;\n      };\n      var scaleMapper = webglScaleMapper;\n      var previousData = [];\n      var previousXScale = null;\n      var previousYScale = null;\n      var cap = functor$2(20);\n      var boxPlot = function boxPlot(data) {\n        if (base.orient() !== 'vertical') {\n          throw new Error(\"Unsupported orientation \".concat(base.orient()));\n        }\n        var xScale = scaleMapper(base.xScale());\n        var yScale = scaleMapper(base.yScale());\n        var dataChanged = !equals(previousData, data);\n        if (dataChanged) {\n          previousData = data;\n          bandwidthAttribute.value(function (d, i) {\n            return base.bandwidth()(d, i);\n          }).data(data);\n          capAttribute.value(function (d, i) {\n            return cap(d, i);\n          }).data(data);\n          definedAttribute.value(function (d, i) {\n            return base.defined()(d, i);\n          }).data(data);\n        }\n        if (dataChanged || xScale.scale !== previousXScale) {\n          previousXScale = xScale.scale;\n          crossValueAttribute.value(function (d, i) {\n            return xScale.scale(base.crossValue()(d, i));\n          }).data(data);\n        }\n        if (dataChanged || yScale.scale !== previousYScale) {\n          previousYScale = yScale.scale;\n          highValueAttribute.value(function (d, i) {\n            return yScale.scale(base.highValue()(d, i));\n          }).data(data);\n          upperQuartileValueAttribute.value(function (d, i) {\n            return yScale.scale(base.upperQuartileValue()(d, i));\n          }).data(data);\n          medianValueAttribute.value(function (d, i) {\n            return yScale.scale(base.medianValue()(d, i));\n          }).data(data);\n          lowerQuartileValueAttribute.value(function (d, i) {\n            return yScale.scale(base.lowerQuartileValue()(d, i));\n          }).data(data);\n          lowValueAttribute.value(function (d, i) {\n            return yScale.scale(base.lowValue()(d, i));\n          }).data(data);\n        }\n        draw.xScale(xScale.webglScale).yScale(yScale.webglScale).decorate(function (program) {\n          return base.decorate()(program, data, 0);\n        });\n        draw(data.length);\n      };\n      boxPlot.cap = function () {\n        if (!arguments.length) {\n          return cap;\n        }\n        cap = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return boxPlot;\n      };\n      boxPlot.equals = function () {\n        if (!arguments.length) {\n          return equals;\n        }\n        equals = arguments.length <= 0 ? undefined : arguments[0];\n        return boxPlot;\n      };\n      boxPlot.scaleMapper = function () {\n        if (!arguments.length) {\n          return scaleMapper;\n        }\n        scaleMapper = arguments.length <= 0 ? undefined : arguments[0];\n        return boxPlot;\n      };\n      rebindAll(boxPlot, base, exclude('align'));\n      rebind(boxPlot, draw, 'context', 'lineWidth', 'pixelRatio');\n      return boxPlot;\n    });\n\n    var ohlc$2 = (function () {\n      return ohlcBase$2(shapeOhlc(), 'ohlc');\n    });\n\n    var ohlc$1 = (function () {\n      return ohlcBase$1(shapeOhlc());\n    });\n\n    var ohlc = (function () {\n      return ohlcBase(webglSeriesOhlc());\n    });\n\n    var multiBase = (function () {\n      var series = [];\n      var mapping = function mapping(d) {\n        return d;\n      };\n      var key = function key(_, i) {\n        return i;\n      };\n      var multi = createBase({\n        decorate: function decorate() {},\n        xScale: d3Scale.scaleIdentity(),\n        yScale: d3Scale.scaleIdentity()\n      });\n      multi.xValues = function () {\n        return series.map(function (s) {\n          return s.xValues();\n        }).reduce(function (a, b) {\n          return a.concat(b);\n        });\n      };\n      multi.yValues = function () {\n        return series.map(function (s) {\n          return s.yValues();\n        }).reduce(function (a, b) {\n          return a.concat(b);\n        });\n      };\n      multi.mapping = function () {\n        if (!arguments.length) {\n          return mapping;\n        }\n        mapping = arguments.length <= 0 ? undefined : arguments[0];\n        return multi;\n      };\n      multi.key = function () {\n        if (!arguments.length) {\n          return key;\n        }\n        key = arguments.length <= 0 ? undefined : arguments[0];\n        return multi;\n      };\n      multi.series = function () {\n        if (!arguments.length) {\n          return series;\n        }\n        series = arguments.length <= 0 ? undefined : arguments[0];\n        return multi;\n      };\n      return multi;\n    });\n\n    var seriesSvgMulti = (function () {\n      var base = multiBase();\n      var innerJoin = dataJoin('g');\n      var join = dataJoin('g', 'multi');\n      var multi = function multi(selection) {\n        if (isTransition(selection)) {\n          join.transition(selection);\n          innerJoin.transition(selection);\n        }\n        var mapping = base.mapping();\n        var series = base.series();\n        var xScale = base.xScale();\n        var yScale = base.yScale();\n        selection.each(function (data, index, group) {\n          var container = join(d3Selection.select(group[index]), series);\n\n          // iterate over the containers, 'call'-ing the series for each\n          container.each(function (dataSeries, seriesIndex, seriesGroup) {\n            dataSeries.xScale(xScale).yScale(yScale);\n            var seriesData = mapping(data, seriesIndex, series);\n            var innerContainer = innerJoin(d3Selection.select(seriesGroup[seriesIndex]), [seriesData]);\n            innerContainer.call(dataSeries);\n          });\n          container.selection().order();\n          base.decorate()(container, data, index);\n        });\n      };\n      rebindAll(multi, base);\n      rebind(multi, join, 'key');\n      return multi;\n    });\n\n    var seriesCanvasMulti = (function () {\n      var context = null;\n      var base = multiBase();\n      var multi = function multi(data) {\n        var mapping = base.mapping();\n        var series = base.series();\n        var xScale = base.xScale();\n        var yScale = base.yScale();\n        series.forEach(function (dataSeries, index) {\n          var seriesData = mapping(data, index, series);\n          dataSeries.context(context).xScale(xScale).yScale(yScale);\n          var adaptedDecorate;\n          if (dataSeries.decorate) {\n            adaptedDecorate = dataSeries.decorate();\n            dataSeries.decorate(function (c, d, i) {\n              base.decorate()(c, data, index);\n              adaptedDecorate(c, d, i);\n            });\n          } else {\n            base.decorate()(context, data, index);\n          }\n          dataSeries(seriesData);\n          if (adaptedDecorate) {\n            dataSeries.decorate(adaptedDecorate);\n          }\n        });\n      };\n      multi.context = function () {\n        if (!arguments.length) {\n          return context;\n        }\n        context = arguments.length <= 0 ? undefined : arguments[0];\n        return multi;\n      };\n      rebindAll(multi, base);\n      return multi;\n    });\n\n    var multiSeries = (function () {\n      var context = null;\n      var pixelRatio = 1;\n      var base = multiBase();\n      var multi = function multi(data) {\n        var mapping = base.mapping();\n        var series = base.series();\n        var xScale = base.xScale();\n        var yScale = base.yScale();\n        series.forEach(function (dataSeries, index) {\n          var seriesData = mapping(data, index, series);\n          dataSeries.context(context).pixelRatio(pixelRatio).xScale(xScale).yScale(yScale);\n          var adaptedDecorate;\n          if (dataSeries.decorate) {\n            adaptedDecorate = dataSeries.decorate();\n            dataSeries.decorate(function (c, d, i) {\n              base.decorate()(c, data, index);\n              adaptedDecorate(c, d, i);\n            });\n          } else {\n            base.decorate()(context, data, index);\n          }\n          dataSeries(seriesData);\n          if (adaptedDecorate) {\n            dataSeries.decorate(adaptedDecorate);\n          }\n        });\n      };\n      multi.context = function () {\n        if (!arguments.length) {\n          return context;\n        }\n        context = arguments.length <= 0 ? undefined : arguments[0];\n        return multi;\n      };\n      multi.pixelRatio = function () {\n        if (!arguments.length) {\n          return pixelRatio;\n        }\n        pixelRatio = arguments.length <= 0 ? undefined : arguments[0];\n        return multi;\n      };\n      rebindAll(multi, base);\n      return multi;\n    });\n\n    var groupedBase = (function (series) {\n      var bandwidth = function bandwidth() {\n        return 50;\n      };\n      var align = 'center';\n\n      // the offset scale is used to offset each of the series within a group\n      var offsetScale = d3Scale.scaleBand();\n      var grouped = createBase({\n        decorate: function decorate() {},\n        xScale: d3Scale.scaleLinear(),\n        yScale: d3Scale.scaleLinear()\n      });\n\n      // the bandwidth for the grouped series can be a function of datum / index. As a result\n      // the offset scale required to cluster the 'sub' series is also dependent on datum / index.\n      // This function computes the offset scale for a specific datum / index of the grouped series\n      grouped.offsetScaleForDatum = function (data, d, i) {\n        var width = bandwidth(d, i);\n        var offset = alignOffset(align, width);\n        var halfWidth = width / 2;\n        return offsetScale.domain(d3Array.range(0, data.length)).range([-halfWidth + offset, halfWidth + offset]);\n      };\n      grouped.bandwidth = function () {\n        if (!arguments.length) {\n          return bandwidth;\n        }\n        bandwidth = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return grouped;\n      };\n      grouped.align = function () {\n        if (!arguments.length) {\n          return align;\n        }\n        align = arguments.length <= 0 ? undefined : arguments[0];\n        return grouped;\n      };\n      rebindAll(grouped, offsetScale, includeMap({\n        'paddingInner': 'paddingOuter'\n      }));\n      return grouped;\n    });\n\n    var grouped$1 = (function (series) {\n      var base = groupedBase();\n      var join = dataJoin('g', 'grouped');\n      var grouped = function grouped(selection) {\n        if (isTransition(selection)) {\n          join.transition(selection);\n        }\n        selection.each(function (data, index, group) {\n          var g = join(d3Selection.select(group[index]), data);\n          g.enter().append('g');\n          g.select('g').each(function (_, index, group) {\n            var container = d3Selection.select(group[index]);\n\n            // create a composite scale that applies the required offset\n            var isVertical = series.orient() !== 'horizontal';\n            var compositeScale = function compositeScale(d, i) {\n              var offset = base.offsetScaleForDatum(data, d, i);\n              var baseScale = isVertical ? base.xScale() : base.yScale();\n              return baseScale(d) + offset(index) + offset.bandwidth() / 2;\n            };\n            if (isVertical) {\n              series.xScale(compositeScale);\n              series.yScale(base.yScale());\n            } else {\n              series.yScale(compositeScale);\n              series.xScale(base.xScale());\n            }\n\n            // if the sub-series has a bandwidth, set this from the offset scale\n            if (series.bandwidth) {\n              series.bandwidth(function (d, i) {\n                return base.offsetScaleForDatum(data, d, i).bandwidth();\n              });\n            }\n\n            // adapt the decorate function to give each series the correct index\n            series.decorate(function (s, d) {\n              return base.decorate()(s, d, index);\n            });\n            container.call(series);\n          });\n        });\n      };\n      rebindAll(grouped, series, exclude('decorate', 'xScale', 'yScale'));\n      rebindAll(grouped, base, exclude('offsetScaleForDatum'));\n      return grouped;\n    });\n\n    function grouped (series) {\n      var base = groupedBase();\n      var grouped = function grouped(data) {\n        data.forEach(function (seriesData, index) {\n          // create a composite scale that applies the required offset\n          var isVertical = series.orient() !== 'horizontal';\n          var compositeScale = function compositeScale(d, i) {\n            var offset = base.offsetScaleForDatum(data, d, i);\n            var baseScale = isVertical ? base.xScale() : base.yScale();\n            return baseScale(d) + offset(index) + offset.bandwidth() / 2;\n          };\n          if (isVertical) {\n            series.xScale(compositeScale);\n            series.yScale(base.yScale());\n          } else {\n            series.yScale(compositeScale);\n            series.xScale(base.xScale());\n          }\n\n          // if the sub-series has a bandwidth, set this from the offset scale\n          if (series.bandwidth) {\n            series.bandwidth(function (d, i) {\n              return base.offsetScaleForDatum(data, d, i).bandwidth();\n            });\n          }\n\n          // adapt the decorate function to give each series the correct index\n          series.decorate(function (c, d) {\n            return base.decorate()(c, d, index);\n          });\n          series(seriesData);\n        });\n      };\n      rebindAll(grouped, series, exclude('decorate', 'xScale', 'yScale'));\n      rebindAll(grouped, base, exclude('offsetScaleForDatum'));\n      return grouped;\n    }\n\n    var repeat$2 = (function () {\n      var orient = 'vertical';\n      var series = seriesSvgLine();\n      var multi = seriesSvgMulti();\n      var repeat = function repeat(selection) {\n        return selection.each(function (data, index, group) {\n          if (orient === 'vertical') {\n            multi.series(data[0].map(function (_) {\n              return series;\n            })).mapping(function (data, index) {\n              return data.map(function (d) {\n                return d[index];\n              });\n            });\n          } else {\n            multi.series(data.map(function (_) {\n              return series;\n            })).mapping(function (data, index) {\n              return data[index];\n            });\n          }\n          d3Selection.select(group[index]).call(multi);\n        });\n      };\n      repeat.series = function () {\n        if (!arguments.length) {\n          return series;\n        }\n        series = arguments.length <= 0 ? undefined : arguments[0];\n        return repeat;\n      };\n      repeat.orient = function () {\n        if (!arguments.length) {\n          return orient;\n        }\n        orient = arguments.length <= 0 ? undefined : arguments[0];\n        return repeat;\n      };\n      rebindAll(repeat, multi, exclude('series', 'mapping'));\n      return repeat;\n    });\n\n    var repeat$1 = (function () {\n      var orient = 'vertical';\n      var series = seriesCanvasLine();\n      var multi = seriesCanvasMulti();\n      var repeat = function repeat(data) {\n        if (orient === 'vertical') {\n          multi.series(data[0].map(function (_) {\n            return series;\n          })).mapping(function (data, index) {\n            return data.map(function (d) {\n              return d[index];\n            });\n          });\n        } else {\n          multi.series(data.map(function (_) {\n            return series;\n          })).mapping(function (data, index) {\n            return data[index];\n          });\n        }\n        multi(data);\n      };\n      repeat.series = function () {\n        if (!arguments.length) {\n          return series;\n        }\n        series = arguments.length <= 0 ? undefined : arguments[0];\n        return repeat;\n      };\n      repeat.orient = function () {\n        if (!arguments.length) {\n          return orient;\n        }\n        orient = arguments.length <= 0 ? undefined : arguments[0];\n        return repeat;\n      };\n      rebindAll(repeat, multi, exclude('series', 'mapping'));\n      return repeat;\n    });\n\n    var repeat = (function () {\n      var orient = 'vertical';\n      var series = function series() {\n        return line();\n      };\n      var multi = multiSeries();\n      var seriesCache = [];\n      var repeat = function repeat(data) {\n        if (orient === 'vertical') {\n          var previousSeriesCache = seriesCache;\n          seriesCache = data[0].map(function (d, i) {\n            return i < previousSeriesCache.length ? previousSeriesCache[i] : series();\n          });\n          multi.series(seriesCache).mapping(function (data, index) {\n            return data.map(function (d) {\n              return d[index];\n            });\n          });\n        } else {\n          var _previousSeriesCache = seriesCache;\n          seriesCache = data.map(function (d, i) {\n            return i < _previousSeriesCache.length ? _previousSeriesCache[i] : series();\n          });\n          multi.series(seriesCache).mapping(function (data, index) {\n            return data[index];\n          });\n        }\n        multi(data);\n      };\n      repeat.series = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        if (!args.length) {\n          return series;\n        }\n        if (typeof args[0].xScale === 'function' && typeof args[0].yScale === 'function') {\n          series = function series() {\n            return args[0];\n          };\n        } else {\n          series = args[0];\n        }\n        seriesCache = [];\n        return repeat;\n      };\n      repeat.orient = function () {\n        if (!arguments.length) {\n          return orient;\n        }\n        orient = arguments.length <= 0 ? undefined : arguments[0];\n        seriesCache = [];\n        return repeat;\n      };\n      rebindAll(repeat, multi, exclude('series', 'mapping'));\n      return repeat;\n    });\n\n    var sortUnique = function sortUnique(arr) {\n      return arr.sort(d3Array.ascending).filter(function (value, index, self) {\n        return self.indexOf(value, index + 1) === -1;\n      });\n    };\n    var autoBandwidth = (function (adaptee) {\n      var widthFraction = 0.75;\n\n      // computes the bandwidth as a fraction of the smallest distance between the datapoints\n      var computeBandwidth = function computeBandwidth(screenValues) {\n        // return some default value if there are not enough datapoints to compute the width\n        if (screenValues.length <= 1) {\n          return 10;\n        }\n        screenValues = sortUnique(screenValues);\n\n        // compute the distance between neighbouring items\n        var neighbourDistances = d3Array.pairs(screenValues).map(function (tuple) {\n          return Math.abs(tuple[0] - tuple[1]);\n        });\n        var minDistance = d3Array.min(neighbourDistances);\n        return widthFraction * minDistance;\n      };\n      var determineBandwith = function determineBandwith(crossScale, data, accessor) {\n        // if the cross-scale has a bandwidth function, i.e. it is a scaleBand, use\n        // this to determine the width\n        if (crossScale.bandwidth) {\n          return crossScale.bandwidth();\n        } else {\n          var _ref;\n          // grouped series expect a nested array, which is flattened out\n          var flattenedData = Array.isArray(data) ? (_ref = []).concat.apply(_ref, _toConsumableArray(data)) : data;\n\n          // obtain an array of points along the crossValue axis, mapped to screen coordinates.\n          var crossValuePoints = flattenedData.filter(adaptee.defined()).map(accessor()).map(crossScale);\n          var width = computeBandwidth(crossValuePoints);\n          return width;\n        }\n      };\n      var autoBandwidth = function autoBandwidth(arg) {\n        var computeWidth = function computeWidth(data) {\n          if (adaptee.xBandwidth && adaptee.yBandwidth) {\n            adaptee.xBandwidth(determineBandwith(adaptee.xScale(), data, adaptee.xValue));\n            adaptee.yBandwidth(determineBandwith(adaptee.yScale(), data, adaptee.yValue));\n          } else {\n            // if the series has an orient property, use this to determine the cross-scale, otherwise\n            // assume it is the x-scale\n            var crossScale = adaptee.orient && adaptee.orient() === 'horizontal' ? adaptee.yScale() : adaptee.xScale();\n            adaptee.bandwidth(determineBandwith(crossScale, data, adaptee.crossValue));\n          }\n        };\n        if (arg instanceof d3Selection.selection) {\n          arg.each(function (data, index, group) {\n            computeWidth(data);\n            adaptee(d3Selection.select(group[index]));\n          });\n        } else {\n          computeWidth(arg);\n          adaptee(arg);\n        }\n      };\n      rebindAll(autoBandwidth, adaptee);\n      autoBandwidth.widthFraction = function () {\n        if (!arguments.length) {\n          return widthFraction;\n        }\n        widthFraction = arguments.length <= 0 ? undefined : arguments[0];\n        return autoBandwidth;\n      };\n      return autoBandwidth;\n    });\n\n    var heatmapBase = (function () {\n      var xValue = function xValue(d) {\n        return d.x;\n      };\n      var yValue = function yValue(d) {\n        return d.y;\n      };\n      var colorValue = function colorValue(d) {\n        return d.color;\n      };\n      var yBandwidth = function yBandwidth() {\n        return 5;\n      };\n      var xBandwidth = function xBandwidth() {\n        return 5;\n      };\n      var colorInterpolate = d3ScaleChromatic.interpolateViridis;\n      var heatmap = createBase({\n        decorate: function decorate() {},\n        defined: function defined$1(d, i) {\n          return defined(xValue, yValue, colorValue)(d, i);\n        },\n        xScale: d3Scale.scaleIdentity(),\n        yScale: d3Scale.scaleIdentity()\n      });\n      heatmap.pathGenerator = shapeBar().x(0).y(0);\n      heatmap.colorScale = function (data) {\n        var colorValues = data.map(colorValue);\n        // a scale that maps the color values onto a unit range, [0, 1]\n        return d3Scale.scaleLinear().domain([d3Array.min(colorValues), d3Array.max(colorValues)]);\n      };\n      heatmap.values = function (d, i) {\n        return {\n          x: heatmap.xScale()(xValue(d, i)),\n          y: heatmap.yScale()(yValue(d, i)),\n          colorValue: colorValue(d, i),\n          width: xBandwidth(d, i),\n          height: yBandwidth(d, i)\n        };\n      };\n      heatmap.xValues = function () {\n        return [xValue];\n      };\n      heatmap.yValues = function () {\n        return [yValue];\n      };\n      heatmap.xValue = function () {\n        if (!arguments.length) {\n          return xValue;\n        }\n        xValue = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return heatmap;\n      };\n      heatmap.yValue = function () {\n        if (!arguments.length) {\n          return yValue;\n        }\n        yValue = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return heatmap;\n      };\n      heatmap.colorValue = function () {\n        if (!arguments.length) {\n          return colorValue;\n        }\n        colorValue = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return heatmap;\n      };\n      heatmap.colorInterpolate = function () {\n        if (!arguments.length) {\n          return colorInterpolate;\n        }\n        colorInterpolate = arguments.length <= 0 ? undefined : arguments[0];\n        return heatmap;\n      };\n      heatmap.xBandwidth = function () {\n        if (!arguments.length) {\n          return xBandwidth;\n        }\n        xBandwidth = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return heatmap;\n      };\n      heatmap.yBandwidth = function () {\n        if (!arguments.length) {\n          return yBandwidth;\n        }\n        yBandwidth = functor$2(arguments.length <= 0 ? undefined : arguments[0]);\n        return heatmap;\n      };\n      rebindAll(heatmap, heatmap.pathGenerator, includeMap({\n        'horizontalAlign': 'xAlign',\n        'verticalAlign': 'yAlign'\n      }));\n      return heatmap;\n    });\n\n    var heatmap$1 = (function () {\n      var base = heatmapBase();\n      var join = dataJoin('g', 'box');\n      var containerTransform = function containerTransform(values) {\n        return 'translate(' + values.x + ', ' + values.y + ')';\n      };\n      var heatmap = function heatmap(selection) {\n        selection.each(function (data, index, group) {\n          var filteredData = data.filter(base.defined());\n          var colorValue = base.colorValue();\n          var colorInterpolate = base.colorInterpolate();\n          var colorScale = base.colorScale(filteredData);\n          var g = join(d3Selection.select(group[index]), filteredData);\n          g.enter().append('path').attr('stroke', 'transparent');\n          g.attr('transform', function (d, i) {\n            return containerTransform(base.values(d, i));\n          }).select('path').attr('d', function (d, i) {\n            return base.pathGenerator.width(base.values(d, i).width).height(base.values(d, i).height)([d]);\n          }).attr('fill', function (d, i) {\n            return colorInterpolate(colorScale(colorValue(d, i)));\n          });\n          base.decorate()(g, data, index);\n        });\n      };\n      rebindAll(heatmap, base);\n      return heatmap;\n    });\n\n    var heatmap = (function () {\n      var base = heatmapBase();\n      var heatmap = function heatmap(data) {\n        var filteredData = data.filter(base.defined());\n        var colorInterpolate = base.colorInterpolate();\n        var colorScale = base.colorScale(filteredData);\n        var context = base.pathGenerator.context();\n        filteredData.forEach(function (d, i) {\n          context.save();\n          context.beginPath();\n          var values = base.values(d, i);\n          context.translate(values.x, values.y);\n          context.fillStyle = colorInterpolate(colorScale(values.colorValue));\n          context.strokeStyle = 'transparent';\n          base.decorate()(context, d, i);\n          base.pathGenerator.height(values.height).width(values.width)([d]);\n          context.fill();\n          context.stroke();\n          context.closePath();\n          context.restore();\n        });\n      };\n      rebind(heatmap, base.pathGenerator, 'context');\n      rebindAll(heatmap, base);\n      return heatmap;\n    });\n\n    var constant = (function (value) {\n      return typeof value === 'function' ? value : function () {\n        return value;\n      };\n    });\n\n    var band$1 = (function () {\n      var xScale = d3Scale.scaleIdentity();\n      var yScale = d3Scale.scaleIdentity();\n      var orient = 'horizontal';\n      var fromValue = function fromValue(d) {\n        return d.from;\n      };\n      var toValue = function toValue(d) {\n        return d.to;\n      };\n      var decorate = function decorate() {};\n      var join = dataJoin('g', 'annotation-band');\n      var pathGenerator = shapeBar().horizontalAlign('center').verticalAlign('center').x(0).y(0);\n      var instance = function instance(selection) {\n        if (isTransition(selection)) {\n          join.transition(selection);\n        }\n        if (orient !== 'horizontal' && orient !== 'vertical') {\n          throw new Error('Invalid orientation');\n        }\n        var horizontal = orient === 'horizontal';\n        var translation = horizontal ? function (a, b) {\n          return \"translate(\".concat(a, \", \").concat(b, \")\");\n        } : function (a, b) {\n          return \"translate(\".concat(b, \", \").concat(a, \")\");\n        };\n        // the value scale which the annotation 'value' relates to, the crossScale\n        // is the other. Which is which depends on the orienation!\n        var crossScale = horizontal ? xScale : yScale;\n        var valueScale = horizontal ? yScale : xScale;\n        var crossScaleRange = crossScale.range();\n        var crossScaleSize = crossScaleRange[1] - crossScaleRange[0];\n        var valueAxisDimension = horizontal ? 'height' : 'width';\n        var crossAxisDimension = horizontal ? 'width' : 'height';\n        var containerTransform = function containerTransform() {\n          return translation((crossScaleRange[1] + crossScaleRange[0]) / 2, (valueScale(toValue.apply(void 0, arguments)) + valueScale(fromValue.apply(void 0, arguments))) / 2);\n        };\n        pathGenerator[crossAxisDimension](crossScaleSize);\n        pathGenerator[valueAxisDimension](function () {\n          return valueScale(toValue.apply(void 0, arguments)) - valueScale(fromValue.apply(void 0, arguments));\n        });\n        selection.each(function (data, index, nodes) {\n          var g = join(d3Selection.select(nodes[index]), data);\n          g.enter().attr('transform', containerTransform).append('path').classed('band', true);\n          g.attr('class', \"annotation-band \".concat(orient)).attr('transform', containerTransform).select('path')\n          // the path generator is being used to render a single path, hence\n          // an explicit index is provided\n          .attr('d', function (d, i) {\n            return pathGenerator([d], i);\n          });\n          decorate(g, data, index);\n        });\n      };\n      instance.xScale = function () {\n        if (!arguments.length) {\n          return xScale;\n        }\n        xScale = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.yScale = function () {\n        if (!arguments.length) {\n          return yScale;\n        }\n        yScale = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.orient = function () {\n        if (!arguments.length) {\n          return orient;\n        }\n        orient = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.fromValue = function () {\n        if (!arguments.length) {\n          return fromValue;\n        }\n        fromValue = constant(arguments.length <= 0 ? undefined : arguments[0]);\n        return instance;\n      };\n      instance.toValue = function () {\n        if (!arguments.length) {\n          return toValue;\n        }\n        toValue = constant(arguments.length <= 0 ? undefined : arguments[0]);\n        return instance;\n      };\n      return instance;\n    });\n\n    var band = (function () {\n      var xScale = d3Scale.scaleIdentity();\n      var yScale = d3Scale.scaleIdentity();\n      var orient = 'horizontal';\n      var fromValue = function fromValue(d) {\n        return d.from;\n      };\n      var toValue = function toValue(d) {\n        return d.to;\n      };\n      var decorate = function decorate() {};\n      var pathGenerator = shapeBar().horizontalAlign('right').verticalAlign('top');\n      var instance = function instance(data) {\n        if (orient !== 'horizontal' && orient !== 'vertical') {\n          throw new Error('Invalid orientation');\n        }\n        var context = pathGenerator.context();\n        var horizontal = orient === 'horizontal';\n        // the value scale which the annotation 'value' relates to, the crossScale\n        // is the other. Which is which depends on the orienation!\n        var crossScale = horizontal ? xScale : yScale;\n        var valueScale = horizontal ? yScale : xScale;\n        var crossScaleRange = crossScale.range();\n        var crossScaleSize = crossScaleRange[1] - crossScaleRange[0];\n        var valueAxisStart = horizontal ? 'x' : 'y';\n        var crossAxisStart = horizontal ? 'y' : 'x';\n        var valueAxisDimension = horizontal ? 'height' : 'width';\n        var crossAxisDimension = horizontal ? 'width' : 'height';\n        data.forEach(function (d, i) {\n          context.save();\n          context.beginPath();\n          context.strokeStyle = 'transparent';\n          pathGenerator[crossAxisStart](valueScale(fromValue(d)));\n          pathGenerator[valueAxisStart](crossScaleRange[0]);\n          pathGenerator[crossAxisDimension](crossScaleSize);\n          pathGenerator[valueAxisDimension](valueScale(toValue(d)) - valueScale(fromValue(d)));\n          decorate(context, d, i);\n          pathGenerator.context(context)([d], i);\n          context.fill();\n          context.stroke();\n          context.closePath();\n          context.restore();\n        });\n      };\n      instance.xScale = function () {\n        if (!arguments.length) {\n          return xScale;\n        }\n        xScale = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.yScale = function () {\n        if (!arguments.length) {\n          return yScale;\n        }\n        yScale = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.orient = function () {\n        if (!arguments.length) {\n          return orient;\n        }\n        orient = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.fromValue = function () {\n        if (!arguments.length) {\n          return fromValue;\n        }\n        fromValue = constant(arguments.length <= 0 ? undefined : arguments[0]);\n        return instance;\n      };\n      instance.toValue = function () {\n        if (!arguments.length) {\n          return toValue;\n        }\n        toValue = constant(arguments.length <= 0 ? undefined : arguments[0]);\n        return instance;\n      };\n      rebind(instance, pathGenerator, 'context');\n      return instance;\n    });\n\n    var annotationLine$1 = (function () {\n      var xScale = d3Scale.scaleIdentity();\n      var yScale = d3Scale.scaleIdentity();\n      var value = function value(d) {\n        return d;\n      };\n      var label = value;\n      var decorate = function decorate() {};\n      var orient = 'horizontal';\n      var join = dataJoin('g', 'annotation-line');\n      var instance = function instance(selection) {\n        if (isTransition(selection)) {\n          join.transition(selection);\n        }\n        if (orient !== 'horizontal' && orient !== 'vertical') {\n          throw new Error('Invalid orientation');\n        }\n        var horizontal = orient === 'horizontal';\n        var translation = horizontal ? function (a, b) {\n          return \"translate(\".concat(a, \", \").concat(b, \")\");\n        } : function (a, b) {\n          return \"translate(\".concat(b, \", \").concat(a, \")\");\n        };\n        var lineProperty = horizontal ? 'x2' : 'y2';\n        // the value scale which the annotation 'value' relates to, the crossScale\n        // is the other. Which is which depends on the orienation!\n        var crossScale = horizontal ? xScale : yScale;\n        var valueScale = horizontal ? yScale : xScale;\n        var handleOne = horizontal ? 'left-handle' : 'bottom-handle';\n        var handleTwo = horizontal ? 'right-handle' : 'top-handle';\n        var textOffsetX = horizontal ? '9' : '0';\n        var textOffsetY = horizontal ? '0' : '9';\n        var textOffsetDeltaY = horizontal ? '0.32em' : '0.71em';\n        var textAnchor = horizontal ? 'start' : 'middle';\n        var scaleRange = crossScale.range();\n        // the transform that sets the 'origin' of the annotation\n        var containerTransform = function containerTransform() {\n          return translation(scaleRange[0], valueScale(value.apply(void 0, arguments)));\n        };\n        var scaleWidth = scaleRange[1] - scaleRange[0];\n        selection.each(function (data, selectionIndex, nodes) {\n          var g = join(d3Selection.select(nodes[selectionIndex]), data);\n\n          // create the outer container and line\n          var enter = g.enter().attr('transform', containerTransform).style('stroke', '#bbb');\n          enter.append('line').attr(lineProperty, scaleWidth);\n\n          // create containers at each end of the annotation\n          enter.append('g').classed(handleOne, true).style('stroke', 'none');\n          enter.append('g').classed(handleTwo, true).style('stroke', 'none').attr('transform', translation(scaleWidth, 0)).append('text').attr('text-anchor', textAnchor).attr('x', textOffsetX).attr('y', textOffsetY).attr('dy', textOffsetDeltaY);\n\n          // Update\n          g.attr('class', \"annotation-line \".concat(orient));\n\n          // translate the parent container to the left hand edge of the annotation\n          g.attr('transform', containerTransform);\n\n          // update the elements that depend on scale width\n          g.select('line').attr(lineProperty, scaleWidth);\n          g.select('g.' + handleTwo).attr('transform', translation(scaleWidth, 0));\n\n          // Update the text label\n          g.select('text').text(label);\n          decorate(g, data, selectionIndex);\n        });\n      };\n      instance.xScale = function () {\n        if (!arguments.length) {\n          return xScale;\n        }\n        xScale = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.yScale = function () {\n        if (!arguments.length) {\n          return yScale;\n        }\n        yScale = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.value = function () {\n        if (!arguments.length) {\n          return value;\n        }\n        value = constant(arguments.length <= 0 ? undefined : arguments[0]);\n        return instance;\n      };\n      instance.label = function () {\n        if (!arguments.length) {\n          return label;\n        }\n        label = constant(arguments.length <= 0 ? undefined : arguments[0]);\n        return instance;\n      };\n      instance.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.orient = function () {\n        if (!arguments.length) {\n          return orient;\n        }\n        orient = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      return instance;\n    });\n\n    function crosshair$1 () {\n      var x = function x(d) {\n        return d.x;\n      };\n      var y = function y(d) {\n        return d.y;\n      };\n      var xScale = d3Scale.scaleIdentity();\n      var yScale = d3Scale.scaleIdentity();\n      var decorate = function decorate() {};\n      var join = dataJoin('g', 'annotation-crosshair');\n      var point = seriesSvgPoint();\n      var horizontalLine = annotationLine$1();\n      var verticalLine = annotationLine$1().orient('vertical');\n\n      // The line annotations and point series used to render the crosshair are positioned using\n      // screen coordinates. This function constructs an identity scale for these components.\n      var xIdentity = d3Scale.scaleIdentity();\n      var yIdentity = d3Scale.scaleIdentity();\n      var multi = seriesSvgMulti().series([horizontalLine, verticalLine, point]).xScale(xIdentity).yScale(yIdentity).mapping(function (data) {\n        return [data];\n      });\n      var instance = function instance(selection) {\n        if (isTransition(selection)) {\n          join.transition(selection);\n        }\n        selection.each(function (data, index, nodes) {\n          var g = join(d3Selection.select(nodes[index]), data);\n\n          // Prevent the crosshair triggering pointer events on itself\n          g.enter().style('pointer-events', 'none');\n\n          // Assign the identity scales an accurate range to allow the line annotations to cover\n          // the full width/height of the chart.\n          xIdentity.range(xScale.range());\n          yIdentity.range(yScale.range());\n          point.crossValue(x).mainValue(y);\n          horizontalLine.value(y);\n          verticalLine.value(x);\n          g.call(multi);\n          decorate(g, data, index);\n        });\n      };\n\n      // Don't use the xValue/yValue convention to indicate that these values are in screen\n      // not domain co-ordinates and are therefore not scaled.\n      instance.x = function () {\n        if (!arguments.length) {\n          return x;\n        }\n        x = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.y = function () {\n        if (!arguments.length) {\n          return y;\n        }\n        y = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.xScale = function () {\n        if (!arguments.length) {\n          return xScale;\n        }\n        xScale = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.yScale = function () {\n        if (!arguments.length) {\n          return yScale;\n        }\n        yScale = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      var lineIncludes = include('label');\n      rebindAll(instance, horizontalLine, lineIncludes, prefix('y'));\n      rebindAll(instance, verticalLine, lineIncludes, prefix('x'));\n      return instance;\n    }\n\n    var annotationLine = (function () {\n      var xScale = d3Scale.scaleIdentity();\n      var yScale = d3Scale.scaleIdentity();\n      var value = function value(d) {\n        return d;\n      };\n      var label = value;\n      var decorate = function decorate() {};\n      var orient = 'horizontal';\n      var lineData = d3Shape.line();\n      var instance = function instance(data) {\n        if (orient !== 'horizontal' && orient !== 'vertical') {\n          throw new Error('Invalid orientation');\n        }\n        var horizontal = orient === 'horizontal';\n        var context = lineData.context();\n        // the value scale which the annotation 'value' relates to, the crossScale\n        // is the other. Which is which depends on the orienation!\n        var crossScale = horizontal ? xScale : yScale;\n        var valueScale = horizontal ? yScale : xScale;\n        var crossDomain = crossScale.domain();\n        var textOffsetX = horizontal ? 9 : 0;\n        var textOffsetY = horizontal ? 0 : 9;\n        var textAlign = horizontal ? 'left' : 'center';\n        var textBaseline = horizontal ? 'middle' : 'hanging';\n        data.forEach(function (d, i) {\n          context.save();\n          context.beginPath();\n          context.strokeStyle = '#bbb';\n          context.fillStyle = '#000';\n          context.textAlign = textAlign;\n          context.textBaseline = textBaseline;\n          decorate(context, d, i);\n\n          // Draw line\n          lineData.context(context)(crossDomain.map(function (extent) {\n            var point = [crossScale(extent), valueScale(value(d))];\n            return horizontal ? point : point.reverse();\n          }));\n\n          // Draw label\n          var x = horizontal ? crossScale(crossDomain[1]) : valueScale(value(d));\n          var y = horizontal ? valueScale(value(d)) : crossScale(crossDomain[1]);\n          context.fillText(label(d), x + textOffsetX, y + textOffsetY);\n          context.fill();\n          context.stroke();\n          context.closePath();\n          context.restore();\n        });\n      };\n      instance.xScale = function () {\n        if (!arguments.length) {\n          return xScale;\n        }\n        xScale = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.yScale = function () {\n        if (!arguments.length) {\n          return yScale;\n        }\n        yScale = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.value = function () {\n        if (!arguments.length) {\n          return value;\n        }\n        value = constant(arguments.length <= 0 ? undefined : arguments[0]);\n        return instance;\n      };\n      instance.label = function () {\n        if (!arguments.length) {\n          return label;\n        }\n        label = constant(arguments.length <= 0 ? undefined : arguments[0]);\n        return instance;\n      };\n      instance.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.orient = function () {\n        if (!arguments.length) {\n          return orient;\n        }\n        orient = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      rebind(instance, lineData, 'context');\n      return instance;\n    });\n\n    var crosshair = (function () {\n      var x = function x(d) {\n        return d.x;\n      };\n      var y = function y(d) {\n        return d.y;\n      };\n      var xScale = d3Scale.scaleIdentity();\n      var yScale = d3Scale.scaleIdentity();\n      var point = seriesCanvasPoint();\n      var horizontalLine = annotationLine();\n      var verticalLine = annotationLine().orient('vertical');\n\n      // The line annotations and point series used to render the crosshair are positioned using\n      // screen coordinates. This function constructs an identity scale for these components.\n      var xIdentity = d3Scale.scaleIdentity();\n      var yIdentity = d3Scale.scaleIdentity();\n      var multi = seriesCanvasMulti().series([horizontalLine, verticalLine, point]).xScale(xIdentity).yScale(yIdentity).mapping(function (data) {\n        return [data];\n      });\n      var instance = function instance(data) {\n        data.forEach(function (d) {\n          // Assign the identity scales an accurate range to allow the line annotations to cover\n          // the full width/height of the chart.\n          xIdentity.range(xScale.range());\n          yIdentity.range(yScale.range());\n          point.crossValue(x).mainValue(y);\n          horizontalLine.value(y);\n          verticalLine.value(x);\n          multi(d);\n        });\n      };\n\n      // Don't use the xValue/yValue convention to indicate that these values are in screen\n      // not domain co-ordinates and are therefore not scaled.\n      instance.x = function () {\n        if (!arguments.length) {\n          return x;\n        }\n        x = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.y = function () {\n        if (!arguments.length) {\n          return y;\n        }\n        y = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.xScale = function () {\n        if (!arguments.length) {\n          return xScale;\n        }\n        xScale = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.yScale = function () {\n        if (!arguments.length) {\n          return yScale;\n        }\n        yScale = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      var lineIncludes = include('label', 'decorate');\n      rebindAll(instance, horizontalLine, lineIncludes, prefix('y'));\n      rebindAll(instance, verticalLine, lineIncludes, prefix('x'));\n      rebind(instance, point, 'decorate');\n      rebind(instance, multi, 'context');\n      return instance;\n    });\n\n    var ticks = (function () {\n      var scale = d3Scale.scaleIdentity();\n      var tickArguments = [10];\n      var tickValues = null;\n      var ticks = function ticks() {\n        var _scale;\n        return tickValues != null ? tickValues : scale.ticks ? (_scale = scale).ticks.apply(_scale, _toConsumableArray(tickArguments)) : scale.domain();\n      };\n      ticks.scale = function () {\n        if (!arguments.length) {\n          return scale;\n        }\n        scale = arguments.length <= 0 ? undefined : arguments[0];\n        return ticks;\n      };\n      ticks.ticks = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        tickArguments = args;\n        return ticks;\n      };\n      ticks.tickArguments = function () {\n        if (!arguments.length) {\n          return tickArguments;\n        }\n        tickArguments = arguments.length <= 0 ? undefined : arguments[0];\n        return ticks;\n      };\n      ticks.tickValues = function () {\n        if (!arguments.length) {\n          return tickValues;\n        }\n        tickValues = arguments.length <= 0 ? undefined : arguments[0];\n        return ticks;\n      };\n      return ticks;\n    });\n\n    var identity$2 = function identity(d) {\n      return d;\n    };\n    var gridline$1 = (function () {\n      var xDecorate = function xDecorate() {};\n      var yDecorate = function yDecorate() {};\n      var xTicks = ticks();\n      var yTicks = ticks();\n      var xJoin = dataJoin('line', 'gridline-y').key(identity$2);\n      var yJoin = dataJoin('line', 'gridline-x').key(identity$2);\n      var instance = function instance(selection) {\n        if (isTransition(selection)) {\n          xJoin.transition(selection);\n          yJoin.transition(selection);\n        }\n        selection.each(function (data, index, nodes) {\n          var element = nodes[index];\n          var container = d3Selection.select(nodes[index]);\n          var xScale = xTicks.scale();\n          var yScale = yTicks.scale();\n\n          // Stash a snapshot of the scale, and retrieve the old snapshot.\n          var xScaleOld = element.__x_scale__ || xScale;\n          element.__x_scale__ = xScale.copy();\n          var xData = xTicks();\n          var xLines = xJoin(container, xData);\n          xLines.enter().attr('x1', xScaleOld).attr('x2', xScaleOld).attr('y1', yScale.range()[0]).attr('y2', yScale.range()[1]).attr('stroke', '#bbb');\n          xLines.attr('x1', xScale).attr('x2', xScale).attr('y1', yScale.range()[0]).attr('y2', yScale.range()[1]);\n          xLines.exit().attr('x1', xScale).attr('x2', xScale);\n          xDecorate(xLines, xData, index);\n\n          // Stash a snapshot of the scale, and retrieve the old snapshot.\n          var yScaleOld = element.__y_scale__ || yScale;\n          element.__y_scale__ = yScale.copy();\n          var yData = yTicks();\n          var yLines = yJoin(container, yData);\n          yLines.enter().attr('y1', yScaleOld).attr('y2', yScaleOld).attr('x1', xScale.range()[0]).attr('x2', xScale.range()[1]).attr('stroke', '#bbb');\n          yLines.attr('y1', yScale).attr('y2', yScale).attr('x1', xScale.range()[0]).attr('x2', xScale.range()[1]);\n          yLines.exit().attr('y1', yScale).attr('y2', yScale);\n          yDecorate(yLines, yData, index);\n        });\n      };\n      instance.yDecorate = function () {\n        if (!arguments.length) {\n          return yDecorate;\n        }\n        yDecorate = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.xDecorate = function () {\n        if (!arguments.length) {\n          return xDecorate;\n        }\n        xDecorate = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      rebindAll(instance, xJoin, includeMap({\n        'key': 'xKey'\n      }));\n      rebindAll(instance, yJoin, includeMap({\n        'key': 'yKey'\n      }));\n      rebindAll(instance, xTicks, prefix('x'));\n      rebindAll(instance, yTicks, prefix('y'));\n      return instance;\n    });\n\n    var gridline = (function () {\n      var xDecorate = function xDecorate() {};\n      var yDecorate = function yDecorate() {};\n      var xTicks = ticks();\n      var yTicks = ticks();\n      var lineData = d3Shape.line();\n      var instance = function instance() {\n        var context = lineData.context();\n        var xScale = xTicks.scale();\n        var yScale = yTicks.scale();\n        xTicks().forEach(function (xTick, i) {\n          context.save();\n          context.beginPath();\n          context.strokeStyle = '#bbb';\n          context.fillStyle = 'transparent';\n          xDecorate(context, xTick, i);\n          lineData.context(context)(yScale.domain().map(function (d) {\n            return [xScale(xTick), yScale(d)];\n          }));\n          context.fill();\n          context.stroke();\n          context.closePath();\n          context.restore();\n        });\n        yTicks().forEach(function (yTick, i) {\n          context.save();\n          context.beginPath();\n          context.strokeStyle = '#bbb';\n          context.fillStyle = 'transparent';\n          yDecorate(context, yTick, i);\n          lineData.context(context)(xScale.domain().map(function (d) {\n            return [xScale(d), yScale(yTick)];\n          }));\n          context.fill();\n          context.stroke();\n          context.closePath();\n          context.restore();\n        });\n      };\n      instance.yDecorate = function () {\n        if (!arguments.length) {\n          return yDecorate;\n        }\n        yDecorate = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      instance.xDecorate = function () {\n        if (!arguments.length) {\n          return xDecorate;\n        }\n        xDecorate = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n      };\n      rebindAll(instance, xTicks, prefix('x'));\n      rebindAll(instance, yTicks, prefix('y'));\n      rebind(instance, lineData, 'context');\n      return instance;\n    });\n\n    // these utilities capture some of the relatively complex logic within d3-axis which \n    // determines the ticks and tick formatter based on various axis and scale\n    // properties: https://github.com/d3/d3-axis#axis_ticks \n\n    var identity$1 = function identity(d) {\n      return d;\n    };\n    var tryApply = function tryApply(scale, fn, args, defaultVal) {\n      return scale[fn] ? scale[fn].apply(scale, args) : defaultVal;\n    };\n    var ticksArrayForAxis = function ticksArrayForAxis(axis) {\n      var _axis$tickValues;\n      return (_axis$tickValues = axis.tickValues()) !== null && _axis$tickValues !== void 0 ? _axis$tickValues : tryApply(axis.scale(), 'ticks', axis.tickArguments(), axis.scale().domain());\n    };\n    var tickFormatterForAxis = function tickFormatterForAxis(axis) {\n      var _axis$tickFormat;\n      return (_axis$tickFormat = axis.tickFormat()) !== null && _axis$tickFormat !== void 0 ? _axis$tickFormat : tryApply(axis.scale(), 'tickFormat', axis.tickArguments(), identity$1);\n    };\n\n    var identity = function identity(d) {\n      return d;\n    };\n    var axisBase = function axisBase(orient, scale) {\n      var custom = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var tickArguments = [10];\n      var tickValues = null;\n      var decorate = function decorate() {};\n      var tickFormat = null;\n      var tickSizeOuter = 6;\n      var tickSizeInner = 6;\n      var tickPadding = 3;\n      var svgDomainLine = d3Shape.line();\n      var dataJoin$1 = dataJoin('g', 'tick').key(identity);\n      var domainPathDataJoin = dataJoin('path', 'domain');\n      var defaultLabelOffset = function defaultLabelOffset() {\n        return {\n          offset: [0, tickSizeInner + tickPadding]\n        };\n      };\n      var defaultTickPath = function defaultTickPath() {\n        return {\n          path: [[0, 0], [0, tickSizeInner]]\n        };\n      };\n      var labelOffset = custom.labelOffset || defaultLabelOffset;\n      var tickPath = custom.tickPath || defaultTickPath;\n\n      // returns a function that creates a translation based on\n      // the bound data\n      var containerTranslate = function containerTranslate(scale, trans) {\n        var offset = 0;\n        if (scale.bandwidth) {\n          offset = scale.bandwidth() / 2;\n          if (scale.round()) {\n            offset = Math.round(offset);\n          }\n        }\n        return function (d) {\n          return trans(scale(d) + offset, 0);\n        };\n      };\n      var translate = function translate(x, y) {\n        return isVertical() ? \"translate(\".concat(y, \", \").concat(x, \")\") : \"translate(\".concat(x, \", \").concat(y, \")\");\n      };\n      var pathTranspose = function pathTranspose(arr) {\n        return isVertical() ? arr.map(function (d) {\n          return [d[1], d[0]];\n        }) : arr;\n      };\n      var isVertical = function isVertical() {\n        return orient === 'left' || orient === 'right';\n      };\n      var axis = function axis(selection) {\n        if (isTransition(selection)) {\n          dataJoin$1.transition(selection);\n          domainPathDataJoin.transition(selection);\n        }\n        selection.each(function (data, index, group) {\n          var element = group[index];\n          var container = d3Selection.select(element);\n          if (!element.__scale__) {\n            container.attr('fill', 'none').attr('font-size', 10).attr('font-family', 'sans-serif').attr('text-anchor', orient === 'right' ? 'start' : orient === 'left' ? 'end' : 'middle');\n          }\n\n          // Stash a snapshot of the new scale, and retrieve the old snapshot.\n          var scaleOld = element.__scale__ || scale;\n          element.__scale__ = scale.copy();\n          var ticksArray = ticksArrayForAxis(axis);\n          var tickFormatter = tickFormatterForAxis(axis);\n          var sign = orient === 'bottom' || orient === 'right' ? 1 : -1;\n          var withSign = function withSign(_ref) {\n            var _ref2 = _slicedToArray(_ref, 2),\n              x = _ref2[0],\n              y = _ref2[1];\n            return [x, sign * y];\n          };\n\n          // add the domain line\n          var range = scale.range();\n          var domainPathData = pathTranspose([[range[0], sign * tickSizeOuter], [range[0], 0], [range[1], 0], [range[1], sign * tickSizeOuter]]);\n          var domainLine = domainPathDataJoin(container, [data]);\n          domainLine.enter().attr('stroke', '#000');\n          domainLine.attr('d', svgDomainLine(domainPathData));\n          var g = dataJoin$1(container, ticksArray);\n          var labelOffsets = ticksArray.map(function (d, i) {\n            return labelOffset(d, i, ticksArray);\n          });\n          var tickPaths = ticksArray.map(function (d, i) {\n            return tickPath(d, i, ticksArray);\n          });\n\n          // enter\n          g.enter().attr('transform', containerTranslate(scaleOld, translate)).append('path').attr('stroke', '#000');\n          g.enter().append('text').attr('transform', function (d, i) {\n            return translate.apply(void 0, _toConsumableArray(withSign(labelOffsets[i].offset)));\n          }).attr('fill', '#000');\n\n          // exit\n          g.exit().attr('transform', containerTranslate(scale, translate));\n\n          // update\n          g.select('path').attr('visibility', function (d, i) {\n            return tickPaths[i].hidden && 'hidden';\n          }).attr('d', function (d, i) {\n            return svgDomainLine(pathTranspose(tickPaths[i].path.map(withSign)));\n          });\n          g.select('text').attr('visibility', function (d, i) {\n            return labelOffsets[i].hidden && 'hidden';\n          }).attr('transform', function (d, i) {\n            return translate.apply(void 0, _toConsumableArray(withSign(labelOffsets[i].offset)));\n          }).attr('dy', function () {\n            var offset = '0em';\n            if (isVertical()) {\n              offset = '0.32em';\n            } else if (orient === 'bottom') {\n              offset = '0.71em';\n            }\n            return offset;\n          }).text(tickFormatter);\n          g.attr('transform', containerTranslate(scale, translate));\n          decorate(g, data, index);\n        });\n      };\n      axis.tickFormat = function () {\n        if (!arguments.length) {\n          return tickFormat;\n        }\n        tickFormat = arguments.length <= 0 ? undefined : arguments[0];\n        return axis;\n      };\n      axis.tickSize = function () {\n        if (!arguments.length) {\n          return tickSizeInner;\n        }\n        tickSizeInner = tickSizeOuter = Number(arguments.length <= 0 ? undefined : arguments[0]);\n        return axis;\n      };\n      axis.tickSizeInner = function () {\n        if (!arguments.length) {\n          return tickSizeInner;\n        }\n        tickSizeInner = Number(arguments.length <= 0 ? undefined : arguments[0]);\n        return axis;\n      };\n      axis.tickSizeOuter = function () {\n        if (!arguments.length) {\n          return tickSizeOuter;\n        }\n        tickSizeOuter = Number(arguments.length <= 0 ? undefined : arguments[0]);\n        return axis;\n      };\n      axis.tickPadding = function () {\n        if (!arguments.length) {\n          return tickPadding;\n        }\n        tickPadding = arguments.length <= 0 ? undefined : arguments[0];\n        return axis;\n      };\n      axis.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return axis;\n      };\n      axis.scale = function () {\n        if (!arguments.length) {\n          return scale;\n        }\n        scale = arguments.length <= 0 ? undefined : arguments[0];\n        return axis;\n      };\n      axis.ticks = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        tickArguments = [].concat(args);\n        return axis;\n      };\n      axis.tickArguments = function () {\n        if (!arguments.length) {\n          return tickArguments !== null ? tickArguments.slice() : null;\n        }\n        tickArguments = (arguments.length <= 0 ? undefined : arguments[0]) == null ? [] : _toConsumableArray(arguments.length <= 0 ? undefined : arguments[0]);\n        return axis;\n      };\n      axis.tickValues = function () {\n        if (!arguments.length) {\n          return tickValues !== null ? tickValues.slice() : null;\n        }\n        tickValues = (arguments.length <= 0 ? undefined : arguments[0]) == null ? [] : _toConsumableArray(arguments.length <= 0 ? undefined : arguments[0]);\n        return axis;\n      };\n      axis.orient = function () {\n        return orient;\n      };\n      return axis;\n    };\n\n    var axis = function axis(orient, scale) {\n      var tickCenterLabel = false;\n      var labelOffset = function labelOffset(tick, index, ticksArray) {\n        var x = 0;\n        var y = base.tickSizeInner() + base.tickPadding();\n        var hidden = false;\n        if (tickCenterLabel) {\n          var thisPosition = scale(tick);\n          var nextPosition = index < ticksArray.length - 1 ? scale(ticksArray[index + 1]) : scale.range()[1];\n          x = (nextPosition - thisPosition) / 2;\n          y = base.tickPadding();\n          hidden = index === ticksArray.length - 1 && thisPosition === nextPosition;\n        }\n        return {\n          offset: [x, y],\n          hidden: hidden\n        };\n      };\n      var base = axisBase(orient, scale, {\n        labelOffset: labelOffset\n      });\n      var axis = function axis(selection) {\n        return base(selection);\n      };\n      axis.tickCenterLabel = function () {\n        if (!arguments.length) {\n          return tickCenterLabel;\n        }\n        tickCenterLabel = arguments.length <= 0 ? undefined : arguments[0];\n        return axis;\n      };\n      rebindAll(axis, base);\n      return axis;\n    };\n    var axisTop = function axisTop(scale) {\n      return axis('top', scale);\n    };\n    var axisBottom = function axisBottom(scale) {\n      return axis('bottom', scale);\n    };\n    var axisLeft = function axisLeft(scale) {\n      return axis('left', scale);\n    };\n    var axisRight = function axisRight(scale) {\n      return axis('right', scale);\n    };\n\n    var axisOrdinal = function axisOrdinal(orient, scale) {\n      var tickOffset = null;\n      var step = function step(tick, index, ticksArray) {\n        if (scale.step) {\n          // Use the scale step size\n          return scale.step();\n        }\n        var thisPosition = scale(tick);\n        if (index < ticksArray.length - 1) {\n          // Distance between ticks\n          return scale(ticksArray[index + 1]) / thisPosition;\n        } else {\n          // 2* distance to end\n          return (scale.range()[1] - thisPosition) * 2;\n        }\n      };\n      var tickPath = function tickPath(tick, index, ticksArray) {\n        var x = 0;\n        if (tickOffset) {\n          x = tickOffset(tick, index);\n        } else {\n          x = step(tick, index, ticksArray) / 2;\n        }\n        return {\n          path: [[x, 0], [x, base.tickSizeInner()]],\n          hidden: index === ticksArray.length - 1\n        };\n      };\n      var labelOffset = function labelOffset() {\n        // Don't include the tickSizeInner in the label positioning\n        return {\n          offset: [0, base.tickPadding()]\n        };\n      };\n      var base = axisBase(orient, scale, {\n        labelOffset: labelOffset,\n        tickPath: tickPath\n      });\n      var axis = function axis(selection) {\n        base(selection);\n      };\n      axis.tickOffset = function () {\n        if (!arguments.length) {\n          return tickOffset;\n        }\n        tickOffset = arguments.length <= 0 ? undefined : arguments[0];\n        return axis;\n      };\n      rebindAll(axis, base);\n      return axis;\n    };\n    var axisOrdinalTop = function axisOrdinalTop(scale) {\n      return axisOrdinal('top', scale);\n    };\n    var axisOrdinalBottom = function axisOrdinalBottom(scale) {\n      return axisOrdinal('bottom', scale);\n    };\n    var axisOrdinalLeft = function axisOrdinalLeft(scale) {\n      return axisOrdinal('left', scale);\n    };\n    var axisOrdinalRight = function axisOrdinalRight(scale) {\n      return axisOrdinal('right', scale);\n    };\n\n    var measureLabels = (function (axis) {\n      var measure = function measure(selection) {\n        var ticks = ticksArrayForAxis(axis);\n        var tickFormatter = tickFormatterForAxis(axis);\n        var labels = ticks.map(tickFormatter);\n        var tester = selection.append('text');\n        var boundingBoxes = labels.map(function (l) {\n          return tester.text(l).node().getBBox();\n        });\n        var maxHeight = Math.max.apply(Math, _toConsumableArray(boundingBoxes.map(function (b) {\n          return b.height;\n        })));\n        var maxWidth = Math.max.apply(Math, _toConsumableArray(boundingBoxes.map(function (b) {\n          return b.width;\n        })));\n        tester.remove();\n        return {\n          maxHeight: maxHeight,\n          maxWidth: maxWidth,\n          labelCount: labels.length\n        };\n      };\n      return measure;\n    });\n\n    var axisLabelRotate = (function (adaptee) {\n      var labelRotate = 'auto';\n      var decorate = function decorate() {};\n      var isVertical = function isVertical() {\n        return adaptee.orient() === 'left' || adaptee.orient() === 'right';\n      };\n      var sign = function sign() {\n        return adaptee.orient() === 'top' || adaptee.orient() === 'left' ? -1 : 1;\n      };\n      var labelAnchor = function labelAnchor() {\n        switch (adaptee.orient()) {\n          case 'top':\n          case 'right':\n            return 'start';\n          default:\n            return 'end';\n        }\n      };\n      var calculateRotation = function calculateRotation(s) {\n        var _measureLabels = measureLabels(adaptee)(s),\n          maxHeight = _measureLabels.maxHeight,\n          maxWidth = _measureLabels.maxWidth,\n          labelCount = _measureLabels.labelCount;\n        var measuredSize = labelCount * maxWidth;\n\n        // The more the overlap, the more we rotate\n        var rotate;\n        if (labelRotate === 'auto') {\n          var range = adaptee.scale().range()[1];\n          rotate = range < measuredSize ? 90 * Math.min(1, (measuredSize / range - 0.8) / 2) : 0;\n        } else {\n          rotate = labelRotate;\n        }\n        return {\n          rotate: isVertical() ? Math.floor(sign() * (90 - rotate)) : Math.floor(-rotate),\n          maxHeight: maxHeight,\n          maxWidth: maxWidth,\n          anchor: rotate ? labelAnchor() : 'middle'\n        };\n      };\n      var decorateRotation = function decorateRotation(sel) {\n        var _calculateRotation = calculateRotation(sel),\n          rotate = _calculateRotation.rotate,\n          maxHeight = _calculateRotation.maxHeight,\n          anchor = _calculateRotation.anchor;\n        var text = sel.select('text');\n        var existingTransform = text.attr('transform');\n        var offset = sign() * Math.floor(maxHeight / 2);\n        var offsetTransform = isVertical() ? \"translate(\".concat(offset, \", 0)\") : \"translate(0, \".concat(offset, \")\");\n        text.style('text-anchor', anchor).attr('transform', \"\".concat(existingTransform, \" \").concat(offsetTransform, \" rotate(\").concat(rotate, \" 0 0)\"));\n      };\n      var axisLabelRotate = function axisLabelRotate(arg) {\n        adaptee(arg);\n      };\n      adaptee.decorate(function (s) {\n        decorateRotation(s);\n        decorate(s);\n      });\n      axisLabelRotate.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return axisLabelRotate;\n      };\n      axisLabelRotate.labelRotate = function () {\n        if (!arguments.length) {\n          return labelRotate;\n        }\n        labelRotate = arguments.length <= 0 ? undefined : arguments[0];\n        return axisLabelRotate;\n      };\n      rebindAll(axisLabelRotate, adaptee, exclude('decorate'));\n      return axisLabelRotate;\n    });\n\n    var axisLabelOffset = (function (adaptee) {\n      var labelOffsetDepth = 'auto';\n      var decorate = function decorate() {};\n      var isVertical = function isVertical() {\n        return adaptee.orient() === 'left' || adaptee.orient() === 'right';\n      };\n      var sign = function sign() {\n        return adaptee.orient() === 'top' || adaptee.orient() === 'left' ? -1 : 1;\n      };\n      var decorateOffset = function decorateOffset(sel) {\n        var _measureLabels = measureLabels(adaptee)(sel),\n          maxHeight = _measureLabels.maxHeight,\n          maxWidth = _measureLabels.maxWidth,\n          labelCount = _measureLabels.labelCount;\n        var range = adaptee.scale().range()[1];\n        var offsetLevels = labelOffsetDepth === 'auto' ? Math.floor((isVertical() ? maxHeight : maxWidth) * labelCount / range) + 1 : labelOffsetDepth;\n        var text = sel.select('text');\n        var existingTransform = text.attr('transform');\n        var transform = function transform(i) {\n          return isVertical() ? \"translate(\".concat(i % offsetLevels * maxWidth * sign(), \", 0)\") : \"translate(0, \".concat(i % offsetLevels * maxHeight * sign(), \")\");\n        };\n        text.attr('transform', function (_, i) {\n          return \"\".concat(existingTransform, \" \").concat(transform(i));\n        });\n      };\n      var axisLabelOffset = function axisLabelOffset(arg) {\n        return adaptee(arg);\n      };\n      adaptee.decorate(function (s) {\n        decorateOffset(s);\n        decorate(s);\n      });\n      axisLabelOffset.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return axisLabelOffset;\n      };\n      axisLabelOffset.labelOffsetDepth = function () {\n        if (!arguments.length) {\n          return labelOffsetDepth;\n        }\n        labelOffsetDepth = arguments.length <= 0 ? undefined : arguments[0];\n        return axisLabelOffset;\n      };\n      rebindAll(axisLabelOffset, adaptee, exclude('decorate'));\n      return axisLabelOffset;\n    });\n\n    var key = '__d3fc-elements__';\n    var get = function get(element) {\n      return element[key] || {};\n    };\n    var set = function set(element, data) {\n      return void (element[key] = data);\n    };\n    var clear = function clear(element) {\n      return delete element[key];\n    };\n\n    var find = function find(element) {\n      return element.tagName === 'D3FC-GROUP' ? [element].concat(_toConsumableArray(element.querySelectorAll('d3fc-canvas, d3fc-group, d3fc-svg'))) : [element];\n    };\n    var measure = function measure(element) {\n      var _data$get = get(element),\n        previousWidth = _data$get.width,\n        previousHeight = _data$get.height;\n      var pixelRatio = element.useDevicePixelRatio && window.devicePixelRatio != null ? window.devicePixelRatio : 1;\n      var width = element.clientWidth * pixelRatio;\n      var height = element.clientHeight * pixelRatio;\n      var resized = width !== previousWidth || height !== previousHeight;\n      var child = element.children[0];\n      set(element, {\n        pixelRatio: pixelRatio,\n        width: width,\n        height: height,\n        resized: resized,\n        child: child\n      });\n    };\n    if (typeof CustomEvent !== 'function') {\n      throw new Error('d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.');\n    }\n    var resize = function resize(element) {\n      var detail = get(element);\n      var event = new CustomEvent('measure', {\n        detail: detail\n      });\n      element.dispatchEvent(event);\n    };\n    var draw = function draw(element) {\n      var detail = get(element);\n      var event = new CustomEvent('draw', {\n        detail: detail\n      });\n      element.dispatchEvent(event);\n    };\n    var redraw = (function (elements) {\n      var allElements = elements.map(find).reduce(function (a, b) {\n        return a.concat(b);\n      });\n      allElements.forEach(measure);\n      allElements.forEach(resize);\n      allElements.forEach(draw);\n    });\n\n    var getQueue = function getQueue(element) {\n      return get(element.ownerDocument).queue || [];\n    };\n    var setQueue = function setQueue(element, queue) {\n      var _data$get = get(element.ownerDocument),\n        requestId = _data$get.requestId;\n      if (requestId == null) {\n        requestId = requestAnimationFrame(function () {\n          // This seems like a weak way of retrieving the queue\n          // but I can't see an edge case at the minute...\n          var queue = getQueue(element);\n          redraw(queue);\n          clearQueue(element);\n        });\n      }\n      set(element.ownerDocument, {\n        queue: queue,\n        requestId: requestId\n      });\n    };\n    var clearQueue = function clearQueue(element) {\n      return clear(element.ownerDocument);\n    };\n    var isDescendentOf = function isDescendentOf(element, ancestor) {\n      var node = element;\n      do {\n        if (node.parentNode === ancestor) {\n          return true;\n        }\n        // eslint-disable-next-line no-cond-assign\n      } while (node = node.parentNode);\n      return false;\n    };\n    var _requestRedraw = (function (element) {\n      var queue = getQueue(element);\n      var queueContainsElement = queue.indexOf(element) > -1;\n      if (queueContainsElement) {\n        return;\n      }\n      var queueContainsAncestor = queue.some(function (queuedElement) {\n        return isDescendentOf(element, queuedElement);\n      });\n      if (queueContainsAncestor) {\n        return;\n      }\n      var queueExcludingDescendents = queue.filter(function (queuedElement) {\n        return !isDescendentOf(queuedElement, element);\n      });\n      queueExcludingDescendents.push(element);\n      setQueue(element, queueExcludingDescendents);\n    });\n\n    if (typeof HTMLElement !== 'function') {\n      throw new Error('d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.');\n    }\n    var addMeasureListener = function addMeasureListener(element) {\n      if (element.__measureListener__ != null) {\n        return;\n      }\n      element.__measureListener__ = function (event) {\n        return element.setMeasurements(event.detail);\n      };\n      element.addEventListener('measure', element.__measureListener__);\n    };\n    var removeMeasureListener = function removeMeasureListener(element) {\n      if (element.__measureListener__ == null) {\n        return;\n      }\n      element.removeEventListener('measure', element.__measureListener__);\n      element.__measureListener__ = null;\n    };\n    var element = (function (createNode, applyMeasurements) {\n      return /*#__PURE__*/function (_HTMLElement) {\n        _inherits(_class, _HTMLElement);\n        var _super = _createSuper(_class);\n        function _class() {\n          _classCallCheck(this, _class);\n          return _super.apply(this, arguments);\n        }\n        _createClass(_class, [{\n          key: \"attributeChangedCallback\",\n          value: function attributeChangedCallback(name) {\n            switch (name) {\n              case 'use-device-pixel-ratio':\n                this.requestRedraw();\n                break;\n            }\n          }\n        }, {\n          key: \"connectedCallback\",\n          value: function connectedCallback() {\n            if (this.childNodes.length === 0) {\n              this.appendChild(createNode());\n            }\n            addMeasureListener(this);\n          }\n        }, {\n          key: \"disconnectedCallback\",\n          value: function disconnectedCallback() {\n            removeMeasureListener(this);\n          }\n        }, {\n          key: \"setMeasurements\",\n          value: function setMeasurements(_ref) {\n            var width = _ref.width,\n              height = _ref.height;\n            var _this$childNodes = _toArray(this.childNodes),\n              node = _this$childNodes[0],\n              other = _this$childNodes.slice(1);\n            if (other.length > 0) {\n              throw new Error('A d3fc-svg/canvas element must only contain a single svg/canvas element.');\n            }\n            applyMeasurements(this, node, {\n              width: width,\n              height: height\n            });\n          }\n        }, {\n          key: \"useDevicePixelRatio\",\n          get: function get() {\n            return this.hasAttribute('use-device-pixel-ratio') && this.getAttribute('use-device-pixel-ratio') !== 'false';\n          },\n          set: function set(useDevicePixelRatio) {\n            if (useDevicePixelRatio && !this.useDevicePixelRatio) {\n              this.setAttribute('use-device-pixel-ratio', '');\n            } else if (!useDevicePixelRatio && this.useDevicePixelRatio) {\n              this.removeAttribute('use-device-pixel-ratio');\n            }\n            this.requestRedraw();\n          }\n        }, {\n          key: \"requestRedraw\",\n          value: function requestRedraw() {\n            _requestRedraw(this);\n          }\n        }], [{\n          key: \"observedAttributes\",\n          get: function get() {\n            return ['use-device-pixel-ratio'];\n          }\n        }]);\n        return _class;\n      }( /*#__PURE__*/_wrapNativeSuper(HTMLElement));\n    });\n\n    var _default$1 = /*#__PURE__*/function (_element) {\n      _inherits(_default, _element);\n      var _super = _createSuper(_default);\n      function _default() {\n        _classCallCheck(this, _default);\n        return _super.apply(this, arguments);\n      }\n      _createClass(_default, [{\n        key: \"setWebglViewport\",\n        get: function get() {\n          return this.hasAttribute('set-webgl-viewport') && this.getAttribute('set-webgl-viewport') !== 'false';\n        },\n        set: function set(setWebglViewport) {\n          if (setWebglViewport && !this.setWebglViewport) {\n            this.setAttribute('set-webgl-viewport', '');\n          } else if (!setWebglViewport && this.setWebglViewport) {\n            this.removeAttribute('set-webgl-viewport');\n          }\n          this.requestRedraw();\n        }\n      }]);\n      return _default;\n    }(element(function () {\n      return document.createElement('canvas');\n    }, function (element, node, _ref) {\n      var width = _ref.width,\n        height = _ref.height;\n      node.setAttribute('width', width);\n      node.setAttribute('height', height);\n      if (element.setWebglViewport) {\n        var context = node.getContext('webgl');\n        context.viewport(0, 0, width, height);\n      }\n    }));\n\n    var updateAutoResize = function updateAutoResize(element) {\n      if (element.autoResize) {\n        addAutoResizeListener(element);\n      } else {\n        removeAutoResizeListener(element);\n      }\n    };\n    var addAutoResizeListener = function addAutoResizeListener(element) {\n      if (element.__autoResizeListener__ != null) {\n        return;\n      }\n      element.__autoResizeListener__ = function () {\n        return _requestRedraw(element);\n      };\n      addEventListener('resize', element.__autoResizeListener__);\n    };\n    var removeAutoResizeListener = function removeAutoResizeListener(element) {\n      if (element.__autoResizeListener__ == null) {\n        return;\n      }\n      removeEventListener('resize', element.__autoResizeListener__);\n      element.__autoResizeListener__ = null;\n    };\n    var _default = /*#__PURE__*/function (_HTMLElement) {\n      _inherits(_default, _HTMLElement);\n      var _super = _createSuper(_default);\n      function _default() {\n        _classCallCheck(this, _default);\n        return _super.apply(this, arguments);\n      }\n      _createClass(_default, [{\n        key: \"connectedCallback\",\n        value: function connectedCallback() {\n          updateAutoResize(this);\n        }\n      }, {\n        key: \"disconnectedCallback\",\n        value: function disconnectedCallback() {\n          removeAutoResizeListener(this);\n        }\n      }, {\n        key: \"requestRedraw\",\n        value: function requestRedraw() {\n          _requestRedraw(this);\n        }\n      }, {\n        key: \"autoResize\",\n        get: function get() {\n          return this.hasAttribute('auto-resize') && this.getAttribute('auto-resize') !== 'false';\n        },\n        set: function set(autoResize) {\n          if (autoResize && !this.autoResize) {\n            this.setAttribute('auto-resize', '');\n          } else if (!autoResize && this.autoResize) {\n            this.removeAttribute('auto-resize');\n          }\n          updateAutoResize(this);\n        }\n      }, {\n        key: \"attributeChangedCallback\",\n        value: function attributeChangedCallback(name) {\n          switch (name) {\n            case 'auto-resize':\n              updateAutoResize(this);\n              break;\n          }\n        }\n      }], [{\n        key: \"observedAttributes\",\n        get: function get() {\n          return ['auto-resize'];\n        }\n      }]);\n      return _default;\n    }( /*#__PURE__*/_wrapNativeSuper(HTMLElement));\n\n    var Svg = element(function () {\n      return document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    }, function (element, node, _ref) {\n      var width = _ref.width,\n        height = _ref.height;\n      node.setAttribute('viewBox', \"0 0 \".concat(width, \" \").concat(height));\n    });\n\n    // Adapted from https://github.com/substack/insert-css\n    var css$1 = \"d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}\";\n    var styleElement$1 = document.createElement('style');\n    styleElement$1.setAttribute('type', 'text/css');\n    document.querySelector('head').appendChild(styleElement$1);\n    if (styleElement$1.styleSheet) {\n      styleElement$1.styleSheet.cssText += css$1;\n    } else {\n      styleElement$1.textContent += css$1;\n    }\n\n    if ((typeof customElements === \"undefined\" ? \"undefined\" : _typeof(customElements)) !== 'object' || typeof customElements.define !== 'function') {\n      throw new Error('d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.');\n    }\n    var alreadyRegistered = [];\n    var registerElement = function registerElement(name, element) {\n      if (customElements.get(name)) {\n        alreadyRegistered.push(name);\n      } else {\n        customElements.define(name, element);\n      }\n    };\n    registerElement('d3fc-canvas', _default$1);\n    registerElement('d3fc-group', _default);\n    registerElement('d3fc-svg', Svg);\n    if (alreadyRegistered.length > 0) {\n      console.warn(\"The d3fc components \\\"\".concat(alreadyRegistered.join(', '), \"\\\" is/are already registered on window. Be aware that this can create compatibility issues if different versions are used.\"));\n    }\n\n    var pointer = (function () {\n      var pointEvent = d3Dispatch.dispatch('point');\n      function mousemove(event) {\n        var point = d3Selection.pointer(event);\n        pointEvent.call('point', this, [{\n          x: point[0],\n          y: point[1]\n        }]);\n      }\n      function mouseleave() {\n        void pointEvent.call('point', this, []);\n      }\n      var instance = function instance(selection) {\n        selection.on('mouseenter.pointer', mousemove).on('mousemove.pointer', mousemove).on('mouseleave.pointer', mouseleave);\n      };\n      rebind(instance, pointEvent, 'on');\n      return instance;\n    });\n\n    var group = (function () {\n      var key = '';\n      var orient = 'vertical';\n      // D3 CSV returns all values as strings, this converts them to numbers\n      // by default.\n      var value = function value(row, column) {\n        return Number(row[column]);\n      };\n      var verticalgroup = function verticalgroup(data) {\n        return Object.keys(data[0]).filter(function (k) {\n          return k !== key;\n        }).map(function (k) {\n          var values = data.filter(function (row) {\n            return row[k];\n          }).map(function (row) {\n            var cell = [row[key], value(row, k)];\n            cell.data = row;\n            return cell;\n          });\n          values.key = k;\n          return values;\n        });\n      };\n      var horizontalgroup = function horizontalgroup(data) {\n        return data.map(function (row) {\n          var values = Object.keys(row).filter(function (d) {\n            return d !== key;\n          }).map(function (k) {\n            var cell = [k, value(row, k)];\n            cell.data = row;\n            return cell;\n          });\n          values.key = row[key];\n          return values;\n        });\n      };\n      var group = function group(data) {\n        return orient === 'vertical' ? verticalgroup(data) : horizontalgroup(data);\n      };\n      group.key = function () {\n        if (!arguments.length) {\n          return key;\n        }\n        key = arguments.length <= 0 ? undefined : arguments[0];\n        return group;\n      };\n      group.value = function () {\n        if (!arguments.length) {\n          return value;\n        }\n        value = arguments.length <= 0 ? undefined : arguments[0];\n        return group;\n      };\n      group.orient = function () {\n        if (!arguments.length) {\n          return orient;\n        }\n        orient = arguments.length <= 0 ? undefined : arguments[0];\n        return group;\n      };\n      return group;\n    });\n\n    var store = (function () {\n      var data = {};\n      var store = function store(target) {\n        for (var _i = 0, _Object$keys = Object.keys(data); _i < _Object$keys.length; _i++) {\n          var key = _Object$keys[_i];\n          target[key].apply(null, data[key]);\n        }\n        return target;\n      };\n      for (var _len = arguments.length, names = new Array(_len), _key = 0; _key < _len; _key++) {\n        names[_key] = arguments[_key];\n      }\n      var _loop = function _loop() {\n        var name = _names[_i2];\n        store[name] = function () {\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          if (!args.length) {\n            return data[name];\n          }\n          data[name] = args;\n          return store;\n        };\n      };\n      for (var _i2 = 0, _names = names; _i2 < _names.length; _i2++) {\n        _loop();\n      }\n      return store;\n    });\n\n    // Adapted from https://github.com/substack/insert-css\n    var css = \"d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}\\nd3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:1;-ms-grid-row:1;}\\nd3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}\\nd3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}\\nd3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}\\nd3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}\\nd3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}\\nd3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}\\nd3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}\\nd3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}\\nd3fc-group.cartesian-chart>.y-label{display:flex;transform:rotate(-90deg);width:1em;white-space:nowrap;justify-content:center;}\";\n    var styleElement = document.createElement('style');\n    styleElement.setAttribute('type', 'text/css');\n    document.querySelector('head').appendChild(styleElement);\n    if (styleElement.styleSheet) {\n      styleElement.styleSheet.cssText += css;\n    } else {\n      styleElement.textContent += css;\n    }\n\n    var functor$1 = function functor(v) {\n      return typeof v === 'function' ? v : function () {\n        return v;\n      };\n    };\n    var cartesianChart = (function () {\n      var _getArguments = getArguments.apply(void 0, arguments),\n        xScale = _getArguments.xScale,\n        yScale = _getArguments.yScale,\n        xAxis = _getArguments.xAxis,\n        yAxis = _getArguments.yAxis;\n      var chartLabel = functor$1('');\n      var xLabel = functor$1('');\n      var yLabel = functor$1('');\n      var xAxisHeight = functor$1(null);\n      var yAxisWidth = functor$1(null);\n      var yOrient = functor$1('right');\n      var xOrient = functor$1('bottom');\n      var webglPlotArea = null;\n      var canvasPlotArea = null;\n      var svgPlotArea = null;\n      var isContextLost = false;\n      var useDevicePixelRatio = true;\n      var xAxisStore = store('tickFormat', 'ticks', 'tickArguments', 'tickSize', 'tickSizeInner', 'tickSizeOuter', 'tickValues', 'tickPadding', 'tickCenterLabel');\n      var xDecorate = function xDecorate() {};\n      var yAxisStore = store('tickFormat', 'ticks', 'tickArguments', 'tickSize', 'tickSizeInner', 'tickSizeOuter', 'tickValues', 'tickPadding', 'tickCenterLabel');\n      var yDecorate = function yDecorate() {};\n      var decorate = function decorate() {};\n      var containerDataJoin = dataJoin('d3fc-group', 'cartesian-chart');\n      var webglDataJoin = dataJoin('d3fc-canvas', 'webgl-plot-area');\n      var canvasDataJoin = dataJoin('d3fc-canvas', 'canvas-plot-area');\n      var svgDataJoin = dataJoin('d3fc-svg', 'svg-plot-area');\n      var xAxisDataJoin = dataJoin('d3fc-svg', 'x-axis').key(function (d) {\n        return d;\n      });\n      var yAxisDataJoin = dataJoin('d3fc-svg', 'y-axis').key(function (d) {\n        return d;\n      });\n      var chartLabelDataJoin = dataJoin('div', 'chart-label');\n      var xLabelDataJoin = dataJoin('div', 'x-label').key(function (d) {\n        return d;\n      });\n      var yLabelDataJoin = dataJoin('div', 'y-label').key(function (d) {\n        return d;\n      });\n      var propagateTransition = function propagateTransition(maybeTransition) {\n        return function (selection) {\n          return isTransition(maybeTransition) ? selection.transition(maybeTransition) : selection;\n        };\n      };\n      var cartesian = function cartesian(selection) {\n        var transitionPropagator = propagateTransition(selection);\n        selection.each(function (data, index, group) {\n          var container = containerDataJoin(d3Selection.select(group[index]), [data]);\n          container.enter().attr('auto-resize', '');\n          chartLabelDataJoin(container, [xOrient(data)]).attr('class', function (d) {\n            return d === 'top' ? 'chart-label bottom-label' : 'chart-label top-label';\n          }).style('margin-bottom', function (d) {\n            return d === 'top' ? 0 : '1em';\n          }).style('margin-top', function (d) {\n            return d === 'top' ? '1em' : 0;\n          }).text(chartLabel(data));\n          xLabelDataJoin(container, [xOrient(data)]).attr('class', function (d) {\n            return \"x-label \".concat(d, \"-label\");\n          }).text(xLabel(data));\n          yLabelDataJoin(container, [yOrient(data)]).attr('class', function (d) {\n            return \"y-label \".concat(d, \"-label\");\n          }).text(yLabel(data));\n          webglDataJoin(container, webglPlotArea ? [data] : []).attr('set-webgl-viewport', '').classed('plot-area', true).attr('use-device-pixel-ratio', useDevicePixelRatio).on('draw', function (event, d) {\n            var _event$detail = event.detail,\n              child = _event$detail.child,\n              pixelRatio = _event$detail.pixelRatio;\n            webglPlotArea.context(isContextLost ? null : child.getContext('webgl')).pixelRatio(pixelRatio).xScale(xScale).yScale(yScale);\n            webglPlotArea(d);\n          });\n          container.select('.webgl-plot-area>canvas').on('webglcontextlost', function (event) {\n            console.warn('WebGLRenderingContext lost');\n            event.preventDefault();\n            isContextLost = true;\n            container.node().requestRedraw();\n          }).on('webglcontextrestored', function () {\n            console.info('WebGLRenderingContext restored');\n            isContextLost = false;\n            container.node().requestRedraw();\n          });\n          canvasDataJoin(container, canvasPlotArea ? [data] : []).classed('plot-area', true).attr('use-device-pixel-ratio', useDevicePixelRatio).on('draw', function (event, d) {\n            var _event$detail2 = event.detail,\n              child = _event$detail2.child,\n              pixelRatio = _event$detail2.pixelRatio;\n            var context = child.getContext('2d');\n            context.save();\n            if (useDevicePixelRatio) {\n              context.scale(pixelRatio, pixelRatio);\n            }\n            canvasPlotArea.context(context).xScale(xScale).yScale(yScale);\n            canvasPlotArea(d);\n            context.restore();\n          });\n          svgDataJoin(container, svgPlotArea ? [data] : []).classed('plot-area', true).on('draw', function (event, d) {\n            var child = event.detail.child;\n            svgPlotArea.xScale(xScale).yScale(yScale);\n            transitionPropagator(d3Selection.select(child).datum(d)).call(svgPlotArea);\n          });\n          xAxisDataJoin(container, [xOrient(data)]).attr('class', function (d) {\n            return \"x-axis \".concat(d, \"-axis\");\n          }).style('height', xAxisHeight(data)).on('measure', function (event, d) {\n            var _event$detail3 = event.detail,\n              width = _event$detail3.width,\n              height = _event$detail3.height,\n              child = _event$detail3.child;\n            if (d === 'top') {\n              d3Selection.select(child).attr('viewBox', \"0 \".concat(-height, \" \").concat(width, \" \").concat(height));\n            }\n            xScale.range([0, width]);\n          }).on('draw', function (event, d) {\n            var child = event.detail.child;\n            var xAxisComponent = d === 'top' ? xAxis.top(xScale) : xAxis.bottom(xScale);\n            xAxisComponent.decorate(xDecorate);\n            transitionPropagator(d3Selection.select(child).datum(d)).call(xAxisStore(xAxisComponent));\n          });\n          yAxisDataJoin(container, [yOrient(data)]).attr('class', function (d) {\n            return \"y-axis \".concat(d, \"-axis\");\n          }).style('width', yAxisWidth(data)).on('measure', function (event, d) {\n            var _event$detail4 = event.detail,\n              width = _event$detail4.width,\n              height = _event$detail4.height,\n              child = _event$detail4.child;\n            if (d === 'left') {\n              d3Selection.select(child).attr('viewBox', \"\".concat(-width, \" 0 \").concat(width, \" \").concat(height));\n            }\n            yScale.range([height, 0]);\n          }).on('draw', function (event, d) {\n            var child = event.detail.child;\n            var yAxisComponent = d === 'left' ? yAxis.left(yScale) : yAxis.right(yScale);\n            yAxisComponent.decorate(yDecorate);\n            transitionPropagator(d3Selection.select(child).datum(d)).call(yAxisStore(yAxisComponent));\n          });\n          container.each(function (d, i, nodes) {\n            return nodes[i].requestRedraw();\n          });\n          decorate(container, data, index);\n        });\n      };\n      var scaleExclusions = exclude(/range\\w*/,\n      // the scale range is set via the component layout\n      /tickFormat/ // use axis.tickFormat instead (only present on linear scales)\n      );\n      rebindAll(cartesian, xScale, scaleExclusions, prefix('x'));\n      rebindAll(cartesian, yScale, scaleExclusions, prefix('y'));\n      rebindAll(cartesian, xAxisStore, prefix('x'));\n      rebindAll(cartesian, yAxisStore, prefix('y'));\n      cartesian.xOrient = function () {\n        if (!arguments.length) {\n          return xOrient;\n        }\n        xOrient = functor$1(arguments.length <= 0 ? undefined : arguments[0]);\n        return cartesian;\n      };\n      cartesian.yOrient = function () {\n        if (!arguments.length) {\n          return yOrient;\n        }\n        yOrient = functor$1(arguments.length <= 0 ? undefined : arguments[0]);\n        return cartesian;\n      };\n      cartesian.xDecorate = function () {\n        if (!arguments.length) {\n          return xDecorate;\n        }\n        xDecorate = arguments.length <= 0 ? undefined : arguments[0];\n        return cartesian;\n      };\n      cartesian.yDecorate = function () {\n        if (!arguments.length) {\n          return yDecorate;\n        }\n        yDecorate = arguments.length <= 0 ? undefined : arguments[0];\n        return cartesian;\n      };\n      cartesian.chartLabel = function () {\n        if (!arguments.length) {\n          return chartLabel;\n        }\n        chartLabel = functor$1(arguments.length <= 0 ? undefined : arguments[0]);\n        return cartesian;\n      };\n      cartesian.xLabel = function () {\n        if (!arguments.length) {\n          return xLabel;\n        }\n        xLabel = functor$1(arguments.length <= 0 ? undefined : arguments[0]);\n        return cartesian;\n      };\n      cartesian.yLabel = function () {\n        if (!arguments.length) {\n          return yLabel;\n        }\n        yLabel = functor$1(arguments.length <= 0 ? undefined : arguments[0]);\n        return cartesian;\n      };\n      cartesian.xAxisHeight = function () {\n        if (!arguments.length) {\n          return xAxisHeight;\n        }\n        xAxisHeight = functor$1(arguments.length <= 0 ? undefined : arguments[0]);\n        return cartesian;\n      };\n      cartesian.yAxisWidth = function () {\n        if (!arguments.length) {\n          return yAxisWidth;\n        }\n        yAxisWidth = functor$1(arguments.length <= 0 ? undefined : arguments[0]);\n        return cartesian;\n      };\n      cartesian.webglPlotArea = function () {\n        if (!arguments.length) {\n          return webglPlotArea;\n        }\n        webglPlotArea = arguments.length <= 0 ? undefined : arguments[0];\n        return cartesian;\n      };\n      cartesian.canvasPlotArea = function () {\n        if (!arguments.length) {\n          return canvasPlotArea;\n        }\n        canvasPlotArea = arguments.length <= 0 ? undefined : arguments[0];\n        return cartesian;\n      };\n      cartesian.svgPlotArea = function () {\n        if (!arguments.length) {\n          return svgPlotArea;\n        }\n        svgPlotArea = arguments.length <= 0 ? undefined : arguments[0];\n        return cartesian;\n      };\n      cartesian.decorate = function () {\n        if (!arguments.length) {\n          return decorate;\n        }\n        decorate = arguments.length <= 0 ? undefined : arguments[0];\n        return cartesian;\n      };\n      cartesian.useDevicePixelRatio = function () {\n        if (!arguments.length) {\n          return useDevicePixelRatio;\n        }\n        useDevicePixelRatio = arguments.length <= 0 ? undefined : arguments[0];\n        return cartesian;\n      };\n      return cartesian;\n    });\n    var getArguments = function getArguments() {\n      var defaultSettings = {\n        xScale: d3Scale.scaleIdentity(),\n        yScale: d3Scale.scaleIdentity(),\n        xAxis: {\n          bottom: axisBottom,\n          top: axisTop\n        },\n        yAxis: {\n          right: axisRight,\n          left: axisLeft\n        }\n      };\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      if (args.length === 1 && !args[0].domain && !args[0].range) {\n        // Settings object\n        return Object.assign(defaultSettings, args[0]);\n      }\n\n      // xScale/yScale parameters\n      return Object.assign(defaultSettings, {\n        xScale: args[0] || defaultSettings.xScale,\n        yScale: args[1] || defaultSettings.yScale\n      });\n    };\n\n    var functor = function functor(v) {\n      return typeof v === 'function' ? v : function () {\n        return v;\n      };\n    };\n    var cartesianBase = (function (setPlotArea, defaultPlotArea) {\n      return function () {\n        var yLabel = functor('');\n        var plotArea = defaultPlotArea;\n        var decorate = function decorate() {};\n        var cartesian = cartesianChart.apply(void 0, arguments);\n        var cartesianBase = function cartesianBase(selection) {\n          setPlotArea(cartesian, plotArea);\n          cartesian.decorate(function (container, data, index) {\n            container.enter().select('.x-label').style('height', '1em').style('line-height', '1em');\n            var yOrientValue = cartesian.yOrient()(data);\n            container.enter().append('div').attr('class', 'y-label-container').style('grid-column', yOrientValue === 'left' ? 1 : 5).style('-ms-grid-column', yOrientValue === 'left' ? 1 : 5).style('grid-row', 3).style('-ms-grid-row', 3).style('width', '1em').style('display', 'flex').style('align-items', 'center').style('justify-content', 'center').style('white-space', 'nowrap').append('div').attr('class', 'y-label').style('transform', 'rotate(-90deg)');\n            container.select('.y-label-container>.y-label').text(yLabel);\n            decorate(container, data, index);\n          });\n          selection.call(cartesian);\n        };\n        rebindAll(cartesianBase, cartesian, include(/^x/, /^y/, 'chartLabel'));\n        cartesianBase.yLabel = function () {\n          if (!arguments.length) {\n            return yLabel;\n          }\n          yLabel = functor(arguments.length <= 0 ? undefined : arguments[0]);\n          return cartesianBase;\n        };\n        cartesianBase.plotArea = function () {\n          if (!arguments.length) {\n            return plotArea;\n          }\n          plotArea = arguments.length <= 0 ? undefined : arguments[0];\n          return cartesianBase;\n        };\n        cartesianBase.decorate = function () {\n          if (!arguments.length) {\n            return decorate;\n          }\n          decorate = arguments.length <= 0 ? undefined : arguments[0];\n          return cartesianBase;\n        };\n        return cartesianBase;\n      };\n    });\n\n    var cartesian$1 = cartesianBase(function (cartesian, plotArea) {\n      return cartesian.svgPlotArea(plotArea);\n    }, seriesSvgLine);\n\n    var cartesian = cartesianBase(function (cartesian, plotArea) {\n      return cartesian.canvasPlotArea(plotArea);\n    }, seriesCanvasLine);\n\n    var brushForOrient = function brushForOrient(orient) {\n      switch (orient) {\n        case 'x':\n          return d3Brush.brushX();\n        case 'y':\n          return d3Brush.brushY();\n        case 'xy':\n          return d3Brush.brush();\n      }\n    };\n    var invertRange = function invertRange(range) {\n      return [range[1], range[0]];\n    };\n    var brushBase = function brushBase(orient) {\n      var brush = brushForOrient(orient);\n      var eventDispatch = d3Dispatch.dispatch('brush', 'start', 'end');\n      var xScale = d3Scale.scaleIdentity();\n      var yScale = d3Scale.scaleIdentity();\n      var innerJoin = dataJoin('g', 'brush');\n      var mapSelection = function mapSelection(selection, xMapping, yMapping) {\n        switch (orient) {\n          case 'x':\n            return selection.map(xMapping);\n          case 'y':\n            return selection.map(yMapping);\n          case 'xy':\n            return [[xMapping(selection[0][0]), yMapping(selection[0][1])], [xMapping(selection[1][0]), yMapping(selection[1][1])]];\n        }\n      };\n      var percentToSelection = function percentToSelection(percent) {\n        return mapSelection(percent, d3Scale.scaleLinear().domain(xScale.range()).invert, d3Scale.scaleLinear().domain(invertRange(yScale.range())).invert);\n      };\n      var selectionToPercent = function selectionToPercent(selection) {\n        return mapSelection(selection, d3Scale.scaleLinear().domain(xScale.range()), d3Scale.scaleLinear().domain(invertRange(yScale.range())));\n      };\n      var updateXDomain = function updateXDomain(selection) {\n        var f = d3Scale.scaleLinear().domain(xScale.domain());\n        if (orient === 'x') {\n          return selection.map(f.invert);\n        } else if (orient === 'xy') {\n          return [f.invert(selection[0][0]), f.invert(selection[1][0])];\n        }\n      };\n      var updateYDomain = function updateYDomain(selection) {\n        var g = d3Scale.scaleLinear().domain(invertRange(yScale.domain()));\n        if (orient === 'y') {\n          return [selection[1], selection[0]].map(g.invert);\n        } else if (orient === 'xy') {\n          return [g.invert(selection[1][1]), g.invert(selection[0][1])];\n        }\n      };\n      var transformEvent = function transformEvent(event) {\n        // The render function calls brush.move, which triggers, start, brush and end events. We don't\n        // really want those events so suppress them.\n        if (event.sourceEvent && event.sourceEvent.type === 'draw') return;\n        if (event.selection) {\n          var mappedSelection = selectionToPercent(event.selection);\n          eventDispatch.call(event.type, {}, {\n            selection: mappedSelection,\n            xDomain: updateXDomain(mappedSelection),\n            yDomain: updateYDomain(mappedSelection)\n          });\n        } else {\n          eventDispatch.call(event.type, {}, {});\n        }\n      };\n      var base = function base(selection) {\n        selection.each(function (data, index, group) {\n          // set the extent\n          brush.extent([[xScale.range()[0], yScale.range()[1]], [xScale.range()[1], yScale.range()[0]]]);\n\n          // forwards events\n          brush.on('end', function (event) {\n            return transformEvent(event);\n          }).on('brush', function (event) {\n            return transformEvent(event);\n          }).on('start', function (event) {\n            return transformEvent(event);\n          });\n\n          // render\n          var container = innerJoin(d3Selection.select(group[index]), [data]);\n          container.call(brush).call(brush.move, data ? percentToSelection(data) : null);\n        });\n      };\n      base.xScale = function () {\n        if (!arguments.length) {\n          return xScale;\n        }\n        xScale = arguments.length <= 0 ? undefined : arguments[0];\n        return base;\n      };\n      base.yScale = function () {\n        if (!arguments.length) {\n          return yScale;\n        }\n        yScale = arguments.length <= 0 ? undefined : arguments[0];\n        return base;\n      };\n      rebind(base, eventDispatch, 'on');\n      rebind(base, brush, 'filter', 'handleSize');\n      return base;\n    };\n    var brushX = function brushX() {\n      return brushBase('x');\n    };\n    var brushY = function brushY() {\n      return brushBase('y');\n    };\n    var brush = function brush() {\n      return brushBase('xy');\n    };\n\n    var domainsEqual = function domainsEqual(a, b) {\n      if (a == null && b == null) {\n        return true;\n      }\n      var aDomain = a.domain();\n      var bDomain = b.domain();\n      return aDomain.length === bDomain.length && aDomain.every(function (d, i) {\n        var _bDomain$i;\n        return (d === null || d === void 0 ? void 0 : d.valueOf()) === ((_bDomain$i = bDomain[i]) === null || _bDomain$i === void 0 ? void 0 : _bDomain$i.valueOf());\n      });\n    };\n    var subtract = function subtract(a, b) {\n      return d3Zoom.zoomIdentity.scale(a.k / b.k).translate(a.x - b.x, a.y - b.y);\n    };\n    var symbol = Symbol('d3fc-domain-zoom');\n    var zoom = (function () {\n      var dispatcher = d3Dispatch.dispatch('zoom');\n      var zoomer = d3Zoom.zoom().on('zoom', function (e) {\n        var transform = e.transform;\n        var node = this;\n        var updatedTransform = transform;\n        var _node$symbol = node[symbol],\n          originalXScale = _node$symbol.originalXScale,\n          previousXScale = _node$symbol.previousXScale,\n          xScale = _node$symbol.xScale,\n          originalYScale = _node$symbol.originalYScale,\n          previousYScale = _node$symbol.previousYScale,\n          yScale = _node$symbol.yScale,\n          previousTransform = _node$symbol.previousTransform;\n        if (!domainsEqual(previousXScale, xScale) || !domainsEqual(previousYScale, yScale)) {\n          originalXScale = xScale === null || xScale === void 0 ? void 0 : xScale.copy();\n          originalYScale = yScale === null || yScale === void 0 ? void 0 : yScale.copy();\n          updatedTransform = subtract(transform, previousTransform);\n        }\n        if (xScale != null) {\n          previousXScale = updatedTransform.rescaleX(originalXScale.range(xScale.range()));\n          xScale.domain(previousXScale.domain());\n        }\n        if (yScale != null) {\n          previousYScale = updatedTransform.rescaleY(originalYScale.range(yScale.range()));\n          yScale.domain(previousYScale.domain());\n        }\n        previousTransform = updatedTransform;\n        node[symbol] = {\n          originalXScale: originalXScale,\n          previousXScale: previousXScale,\n          xScale: xScale,\n          originalYScale: originalYScale,\n          previousYScale: previousYScale,\n          yScale: yScale,\n          previousTransform: previousTransform\n        };\n        if (updatedTransform !== transform) {\n          zoomer.transform(d3Selection.select(node), updatedTransform);\n        }\n        dispatcher.call('zoom', this, e);\n      });\n      var instance = function instance(selection) {\n        var xScale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var yScale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        if (xScale == null && yScale == null) {\n          console.warn(\"Without an xScale and/or yScale specified, this component won't do anything. Perhaps you forgot to specify them e.g. selection.call(zoom, x, y)?\");\n        }\n        selection.each(function (d, i, nodes) {\n          var existingContext = nodes[i][symbol];\n          if (existingContext != null && existingContext.xScale === xScale && existingContext.yScale === yScale) {\n            console.warn(\"This component should only be called on a selection once. Perhaps you're missing an .enter()?\");\n          }\n          var xScaleCopy = xScale === null || xScale === void 0 ? void 0 : xScale.copy();\n          var yScaleCopy = yScale === null || yScale === void 0 ? void 0 : yScale.copy();\n          nodes[i][symbol] = {\n            originalXScale: xScaleCopy,\n            previousXScale: xScaleCopy,\n            xScale: xScale,\n            originalYScale: yScaleCopy,\n            previousYScale: yScaleCopy,\n            yScale: yScale,\n            previousTransform: d3Zoom.zoomIdentity\n          };\n        }).call(zoomer);\n      };\n      rebind(instance, dispatcher, 'on');\n      rebind(instance, zoomer, 'extent', 'filter', 'wheelDelta', 'touchable', 'clickDistance', 'tapDistance', 'duration', 'interpolate', 'scaleExtent', 'translateExtent');\n      return instance;\n    });\n\n    exports.annotationCanvasBand = band;\n    exports.annotationCanvasCrosshair = crosshair;\n    exports.annotationCanvasGridline = gridline;\n    exports.annotationCanvasLine = annotationLine;\n    exports.annotationSvgBand = band$1;\n    exports.annotationSvgCrosshair = crosshair$1;\n    exports.annotationSvgGridline = gridline$1;\n    exports.annotationSvgLine = annotationLine$1;\n    exports.autoBandwidth = autoBandwidth;\n    exports.axisBottom = axisBottom;\n    exports.axisLabelOffset = axisLabelOffset;\n    exports.axisLabelRotate = axisLabelRotate;\n    exports.axisLeft = axisLeft;\n    exports.axisOrdinalBottom = axisOrdinalBottom;\n    exports.axisOrdinalLeft = axisOrdinalLeft;\n    exports.axisOrdinalRight = axisOrdinalRight;\n    exports.axisOrdinalTop = axisOrdinalTop;\n    exports.axisRight = axisRight;\n    exports.axisTop = axisTop;\n    exports.brush = brush;\n    exports.brushX = brushX;\n    exports.brushY = brushY;\n    exports.bucket = bucket;\n    exports.chartCanvasCartesian = cartesian;\n    exports.chartCartesian = cartesianChart;\n    exports.chartSvgCartesian = cartesian$1;\n    exports.dataJoin = dataJoin;\n    exports.discontinuityIdentity = identity$4;\n    exports.discontinuityRange = provider;\n    exports.discontinuitySkipUtcWeekends = skipUtcWeekends;\n    exports.discontinuitySkipUtcWeeklyPattern = skipUtcWeeklyPattern;\n    exports.discontinuitySkipWeekends = skipWeekends$1;\n    exports.discontinuitySkipWeeklyPattern = skipWeeklyPattern;\n    exports.effectivelyZero = effectivelyZero;\n    exports.exclude = exclude;\n    exports.extentDate = time;\n    exports.extentLinear = linearExtent;\n    exports.extentTime = time;\n    exports.feedGdax = gdax;\n    exports.group = group;\n    exports.include = include;\n    exports.includeMap = includeMap;\n    exports.indicatorBollingerBands = bollingerBands;\n    exports.indicatorElderRay = elderRay;\n    exports.indicatorEnvelope = envelope;\n    exports.indicatorExponentialMovingAverage = exponentialMovingAverage;\n    exports.indicatorForceIndex = forceIndex;\n    exports.indicatorMacd = macd;\n    exports.indicatorMovingAverage = movingAverage;\n    exports.indicatorRelativeStrengthIndex = relativeStrengthIndex;\n    exports.indicatorStochasticOscillator = stochasticOscillator;\n    exports.isTransition = isTransition;\n    exports.largestTriangleOneBucket = largestTriangleOneBucket;\n    exports.largestTriangleThreeBucket = largestTriangleThreeBucket;\n    exports.layoutAnnealing = annealing;\n    exports.layoutBoundingBox = boundingBox;\n    exports.layoutGreedy = greedy;\n    exports.layoutLabel = label;\n    exports.layoutRemoveOverlaps = removeOverlaps;\n    exports.layoutTextLabel = textLabel;\n    exports.modeMedian = modeMedian;\n    exports.pointer = pointer;\n    exports.prefix = prefix;\n    exports.randomFinancial = financial;\n    exports.randomGeometricBrownianMotion = geometricBrownianMotion;\n    exports.randomSkipWeekends = skipWeekends;\n    exports.rebind = rebind;\n    exports.rebindAll = rebindAll;\n    exports.scaleDiscontinuous = discontinuous;\n    exports.seriesCanvasArea = area$1;\n    exports.seriesCanvasBar = bar$1;\n    exports.seriesCanvasBoxPlot = boxPlot$1;\n    exports.seriesCanvasCandlestick = candlestick$1;\n    exports.seriesCanvasErrorBar = errorBar$1;\n    exports.seriesCanvasGrouped = grouped;\n    exports.seriesCanvasHeatmap = heatmap;\n    exports.seriesCanvasLine = seriesCanvasLine;\n    exports.seriesCanvasMulti = seriesCanvasMulti;\n    exports.seriesCanvasOhlc = ohlc$1;\n    exports.seriesCanvasPoint = seriesCanvasPoint;\n    exports.seriesCanvasRepeat = repeat$1;\n    exports.seriesSvgArea = area$2;\n    exports.seriesSvgBar = bar$2;\n    exports.seriesSvgBoxPlot = boxPlot$2;\n    exports.seriesSvgCandlestick = candlestick$2;\n    exports.seriesSvgErrorBar = errorBar$2;\n    exports.seriesSvgGrouped = grouped$1;\n    exports.seriesSvgHeatmap = heatmap$1;\n    exports.seriesSvgLine = seriesSvgLine;\n    exports.seriesSvgMulti = seriesSvgMulti;\n    exports.seriesSvgOhlc = ohlc$2;\n    exports.seriesSvgPoint = seriesSvgPoint;\n    exports.seriesSvgRepeat = repeat$2;\n    exports.seriesWebglArea = area;\n    exports.seriesWebglBar = bar;\n    exports.seriesWebglBoxPlot = boxPlot;\n    exports.seriesWebglCandlestick = candlestick;\n    exports.seriesWebglErrorBar = errorBar;\n    exports.seriesWebglLine = line;\n    exports.seriesWebglMulti = multiSeries;\n    exports.seriesWebglOhlc = ohlc;\n    exports.seriesWebglPoint = point;\n    exports.seriesWebglRepeat = repeat;\n    exports.shapeBar = shapeBar;\n    exports.shapeBoxPlot = shapeBoxPlot;\n    exports.shapeCandlestick = shapeCandlestick;\n    exports.shapeErrorBar = shapeErrorBar;\n    exports.shapeOhlc = shapeOhlc;\n    exports.webglAdjacentAttribute = webglAdjacentAttribute;\n    exports.webglAttribute = webglAttribute;\n    exports.webglBaseAttribute = baseAttributeBuilder;\n    exports.webglBufferBuilder = bufferBuilder;\n    exports.webglElementIndices = elementIndices;\n    exports.webglFillColor = fillColor;\n    exports.webglProgramBuilder = programBuilder;\n    exports.webglScaleLinear = linear;\n    exports.webglScaleLog = log;\n    exports.webglScaleMapper = webglScaleMapper;\n    exports.webglScalePow = pow;\n    exports.webglSeriesArea = webglSeriesArea;\n    exports.webglSeriesBar = webglSeriesBar;\n    exports.webglSeriesBoxPlot = webglSeriesBoxPlot;\n    exports.webglSeriesCandlestick = webglSeriesCandlestick;\n    exports.webglSeriesErrorBar = webglSeriesErrorBar;\n    exports.webglSeriesLine = webglSeriesLine;\n    exports.webglSeriesOhlc = webglSeriesOhlc;\n    exports.webglSeriesPoint = webglSeriesPoint;\n    exports.webglShaderBuilder = shaderBuilder;\n    exports.webglStrokeColor = strokeColor;\n    exports.webglSymbolMapper = webglSymbolMapper;\n    exports.webglTypes = types;\n    exports.webglUniform = uniform;\n    exports.zoom = zoom;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n", "// Copyright (c) 2014 Rafael Caricio. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nvar GradientParser = (GradientParser || {});\n\nGradientParser.stringify = (function() {\n\n  var visitor = {\n\n    'visit_linear-gradient': function(node) {\n      return visitor.visit_gradient(node);\n    },\n\n    'visit_repeating-linear-gradient': function(node) {\n      return visitor.visit_gradient(node);\n    },\n\n    'visit_radial-gradient': function(node) {\n      return visitor.visit_gradient(node);\n    },\n\n    'visit_repeating-radial-gradient': function(node) {\n      return visitor.visit_gradient(node);\n    },\n\n    'visit_gradient': function(node) {\n      var orientation = visitor.visit(node.orientation);\n      if (orientation) {\n        orientation += ', ';\n      }\n\n      return node.type + '(' + orientation + visitor.visit(node.colorStops) + ')';\n    },\n\n    'visit_shape': function(node) {\n      var result = node.value,\n          at = visitor.visit(node.at),\n          style = visitor.visit(node.style);\n\n      if (style) {\n        result += ' ' + style;\n      }\n\n      if (at) {\n        result += ' at ' + at;\n      }\n\n      return result;\n    },\n\n    'visit_default-radial': function(node) {\n      var result = '',\n          at = visitor.visit(node.at);\n\n      if (at) {\n        result += at;\n      }\n      return result;\n    },\n\n    'visit_extent-keyword': function(node) {\n      var result = node.value,\n          at = visitor.visit(node.at);\n\n      if (at) {\n        result += ' at ' + at;\n      }\n\n      return result;\n    },\n\n    'visit_position-keyword': function(node) {\n      return node.value;\n    },\n\n    'visit_position': function(node) {\n      return visitor.visit(node.value.x) + ' ' + visitor.visit(node.value.y);\n    },\n\n    'visit_%': function(node) {\n      return node.value + '%';\n    },\n\n    'visit_em': function(node) {\n      return node.value + 'em';\n    },\n\n    'visit_px': function(node) {\n      return node.value + 'px';\n    },\n\n    'visit_literal': function(node) {\n      return visitor.visit_color(node.value, node);\n    },\n\n    'visit_hex': function(node) {\n      return visitor.visit_color('#' + node.value, node);\n    },\n\n    'visit_rgb': function(node) {\n      return visitor.visit_color('rgb(' + node.value.join(', ') + ')', node);\n    },\n\n    'visit_rgba': function(node) {\n      return visitor.visit_color('rgba(' + node.value.join(', ') + ')', node);\n    },\n\n    'visit_color': function(resultColor, node) {\n      var result = resultColor,\n          length = visitor.visit(node.length);\n\n      if (length) {\n        result += ' ' + length;\n      }\n      return result;\n    },\n\n    'visit_angular': function(node) {\n      return node.value + 'deg';\n    },\n\n    'visit_directional': function(node) {\n      return 'to ' + node.value;\n    },\n\n    'visit_array': function(elements) {\n      var result = '',\n          size = elements.length;\n\n      elements.forEach(function(element, i) {\n        result += visitor.visit(element);\n        if (i < size - 1) {\n          result += ', ';\n        }\n      });\n\n      return result;\n    },\n\n    'visit': function(element) {\n      if (!element) {\n        return '';\n      }\n      var result = '';\n\n      if (element instanceof Array) {\n        return visitor.visit_array(element, result);\n      } else if (element.type) {\n        var nodeVisitor = visitor['visit_' + element.type];\n        if (nodeVisitor) {\n          return nodeVisitor(element);\n        } else {\n          throw Error('Missing visitor visit_' + element.type);\n        }\n      } else {\n        throw Error('Invalid node.');\n      }\n    }\n\n  };\n\n  return function(root) {\n    return visitor.visit(root);\n  };\n})();\n\n// Copyright (c) 2014 Rafael Caricio. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nvar GradientParser = (GradientParser || {});\n\nGradientParser.parse = (function() {\n\n  var tokens = {\n    linearGradient: /^(\\-(webkit|o|ms|moz)\\-)?(linear\\-gradient)/i,\n    repeatingLinearGradient: /^(\\-(webkit|o|ms|moz)\\-)?(repeating\\-linear\\-gradient)/i,\n    radialGradient: /^(\\-(webkit|o|ms|moz)\\-)?(radial\\-gradient)/i,\n    repeatingRadialGradient: /^(\\-(webkit|o|ms|moz)\\-)?(repeating\\-radial\\-gradient)/i,\n    sideOrCorner: /^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,\n    extentKeywords: /^(closest\\-side|closest\\-corner|farthest\\-side|farthest\\-corner|contain|cover)/,\n    positionKeywords: /^(left|center|right|top|bottom)/i,\n    pixelValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))px/,\n    percentageValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))\\%/,\n    emValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))em/,\n    angleValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))deg/,\n    startCall: /^\\(/,\n    endCall: /^\\)/,\n    comma: /^,/,\n    hexColor: /^\\#([0-9a-fA-F]+)/,\n    literalColor: /^([a-zA-Z]+)/,\n    rgbColor: /^rgb/i,\n    rgbaColor: /^rgba/i,\n    number: /^(([0-9]*\\.[0-9]+)|([0-9]+\\.?))/\n  };\n\n  var input = '';\n\n  function error(msg) {\n    var err = new Error(input + ': ' + msg);\n    err.source = input;\n    throw err;\n  }\n\n  function getAST() {\n    var ast = matchListDefinitions();\n\n    if (input.length > 0) {\n      error('Invalid input not EOF');\n    }\n\n    return ast;\n  }\n\n  function matchListDefinitions() {\n    return matchListing(matchDefinition);\n  }\n\n  function matchDefinition() {\n    return matchGradient(\n            'linear-gradient',\n            tokens.linearGradient,\n            matchLinearOrientation) ||\n\n          matchGradient(\n            'repeating-linear-gradient',\n            tokens.repeatingLinearGradient,\n            matchLinearOrientation) ||\n\n          matchGradient(\n            'radial-gradient',\n            tokens.radialGradient,\n            matchListRadialOrientations) ||\n\n          matchGradient(\n            'repeating-radial-gradient',\n            tokens.repeatingRadialGradient,\n            matchListRadialOrientations);\n  }\n\n  function matchGradient(gradientType, pattern, orientationMatcher) {\n    return matchCall(pattern, function(captures) {\n\n      var orientation = orientationMatcher();\n      if (orientation) {\n        if (!scan(tokens.comma)) {\n          error('Missing comma before color stops');\n        }\n      }\n\n      return {\n        type: gradientType,\n        orientation: orientation,\n        colorStops: matchListing(matchColorStop)\n      };\n    });\n  }\n\n  function matchCall(pattern, callback) {\n    var captures = scan(pattern);\n\n    if (captures) {\n      if (!scan(tokens.startCall)) {\n        error('Missing (');\n      }\n\n      var result = callback(captures);\n\n      if (!scan(tokens.endCall)) {\n        error('Missing )');\n      }\n\n      return result;\n    }\n  }\n\n  function matchLinearOrientation() {\n    return matchSideOrCorner() ||\n      matchAngle();\n  }\n\n  function matchSideOrCorner() {\n    return match('directional', tokens.sideOrCorner, 1);\n  }\n\n  function matchAngle() {\n    return match('angular', tokens.angleValue, 1);\n  }\n\n  function matchListRadialOrientations() {\n    var radialOrientations,\n        radialOrientation = matchRadialOrientation(),\n        lookaheadCache;\n\n    if (radialOrientation) {\n      radialOrientations = [];\n      radialOrientations.push(radialOrientation);\n\n      lookaheadCache = input;\n      if (scan(tokens.comma)) {\n        radialOrientation = matchRadialOrientation();\n        if (radialOrientation) {\n          radialOrientations.push(radialOrientation);\n        } else {\n          input = lookaheadCache;\n        }\n      }\n    }\n\n    return radialOrientations;\n  }\n\n  function matchRadialOrientation() {\n    var radialType = matchCircle() ||\n      matchEllipse();\n\n    if (radialType) {\n      radialType.at = matchAtPosition();\n    } else {\n      var extent = matchExtentKeyword();\n      if (extent) {\n        radialType = extent;\n        var positionAt = matchAtPosition();\n        if (positionAt) {\n          radialType.at = positionAt;\n        }\n      } else {\n        var defaultPosition = matchPositioning();\n        if (defaultPosition) {\n          radialType = {\n            type: 'default-radial',\n            at: defaultPosition\n          };\n        }\n      }\n    }\n\n    return radialType;\n  }\n\n  function matchCircle() {\n    var circle = match('shape', /^(circle)/i, 0);\n\n    if (circle) {\n      circle.style = matchLength() || matchExtentKeyword();\n    }\n\n    return circle;\n  }\n\n  function matchEllipse() {\n    var ellipse = match('shape', /^(ellipse)/i, 0);\n\n    if (ellipse) {\n      ellipse.style =  matchDistance() || matchExtentKeyword();\n    }\n\n    return ellipse;\n  }\n\n  function matchExtentKeyword() {\n    return match('extent-keyword', tokens.extentKeywords, 1);\n  }\n\n  function matchAtPosition() {\n    if (match('position', /^at/, 0)) {\n      var positioning = matchPositioning();\n\n      if (!positioning) {\n        error('Missing positioning value');\n      }\n\n      return positioning;\n    }\n  }\n\n  function matchPositioning() {\n    var location = matchCoordinates();\n\n    if (location.x || location.y) {\n      return {\n        type: 'position',\n        value: location\n      };\n    }\n  }\n\n  function matchCoordinates() {\n    return {\n      x: matchDistance(),\n      y: matchDistance()\n    };\n  }\n\n  function matchListing(matcher) {\n    var captures = matcher(),\n      result = [];\n\n    if (captures) {\n      result.push(captures);\n      while (scan(tokens.comma)) {\n        captures = matcher();\n        if (captures) {\n          result.push(captures);\n        } else {\n          error('One extra comma');\n        }\n      }\n    }\n\n    return result;\n  }\n\n  function matchColorStop() {\n    var color = matchColor();\n\n    if (!color) {\n      error('Expected color definition');\n    }\n\n    color.length = matchDistance();\n    return color;\n  }\n\n  function matchColor() {\n    return matchHexColor() ||\n      matchRGBAColor() ||\n      matchRGBColor() ||\n      matchLiteralColor();\n  }\n\n  function matchLiteralColor() {\n    return match('literal', tokens.literalColor, 0);\n  }\n\n  function matchHexColor() {\n    return match('hex', tokens.hexColor, 1);\n  }\n\n  function matchRGBColor() {\n    return matchCall(tokens.rgbColor, function() {\n      return  {\n        type: 'rgb',\n        value: matchListing(matchNumber)\n      };\n    });\n  }\n\n  function matchRGBAColor() {\n    return matchCall(tokens.rgbaColor, function() {\n      return  {\n        type: 'rgba',\n        value: matchListing(matchNumber)\n      };\n    });\n  }\n\n  function matchNumber() {\n    return scan(tokens.number)[1];\n  }\n\n  function matchDistance() {\n    return match('%', tokens.percentageValue, 1) ||\n      matchPositionKeyword() ||\n      matchLength();\n  }\n\n  function matchPositionKeyword() {\n    return match('position-keyword', tokens.positionKeywords, 1);\n  }\n\n  function matchLength() {\n    return match('px', tokens.pixelValue, 1) ||\n      match('em', tokens.emValue, 1);\n  }\n\n  function match(type, pattern, captureIndex) {\n    var captures = scan(pattern);\n    if (captures) {\n      return {\n        type: type,\n        value: captures[captureIndex]\n      };\n    }\n  }\n\n  function scan(regexp) {\n    var captures,\n        blankCaptures;\n\n    blankCaptures = /^[\\n\\r\\t\\s]+/.exec(input);\n    if (blankCaptures) {\n        consume(blankCaptures[0].length);\n    }\n\n    captures = regexp.exec(input);\n    if (captures) {\n        consume(captures[0].length);\n    }\n\n    return captures;\n  }\n\n  function consume(size) {\n    input = input.substr(size);\n  }\n\n  return function(code) {\n    input = code.toString();\n    return getAST();\n  };\n})();\n\nexports.parse = GradientParser.parse;\nexports.stringify = GradientParser.stringify;\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nif (!Element.prototype.matches) {\n    Element.prototype.matches =\n        Element.prototype.msMatchesSelector ||\n        Element.prototype.webkitMatchesSelector;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nif (!Element.prototype.matches) {\n    Element.prototype.matches =\n        Element.prototype.msMatchesSelector ||\n        Element.prototype.webkitMatchesSelector;\n}\n\nif (!Element.prototype.closest) {\n    Element.prototype.closest = function <\n        K extends keyof HTMLElementTagNameMap\n    >(s: K): HTMLElementTagNameMap[K] {\n        var el = this;\n\n        do {\n            if (el.matches(s)) return el;\n            el = el.parentElement || el.parentNode;\n        } while (el !== null && el.nodeType === 1);\n        return null;\n    };\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { axisFactory } from \"../axis/axisFactory\";\nimport { chartSvgFactory } from \"../axis/chartFactory\";\nimport { AXIS_TYPES } from \"../axis/axisType\";\nimport { barSeries } from \"../series/barSeries\";\nimport { seriesColors } from \"../series/seriesColors\";\nimport { groupAndStackData } from \"../data/groupData\";\nimport { colorLegend } from \"../legend/legend\";\nimport { filterData } from \"../legend/filter\";\nimport withGridLines from \"../gridlines/gridlines\";\n\nimport { hardLimitZeroPadding } from \"../d3fc/padding/hardLimitZero\";\nimport zoomableChart from \"../zoom/zoomableChart\";\nimport { HTMLSelection, Settings } from \"../types\";\n\nfunction barChart(container: HTMLSelection, settings: Settings) {\n    const data = groupAndStackData(settings, filterData(settings));\n    const color = seriesColors(settings);\n\n    const legend = colorLegend().settings(settings).scale(color);\n\n    const bars = barSeries(settings, color).orient(\"horizontal\");\n    const series = fc\n        .seriesSvgMulti()\n        .mapping((data, index) => data[index])\n        .series(data.map(() => bars));\n\n    const xAxis = axisFactory(settings)\n        .settingName(\"mainValues\")\n        .valueName(\"mainValue\")\n        .memoValue(settings.axisMemo[0])\n        .excludeType(AXIS_TYPES.ordinal)\n        .include([0])\n        .paddingStrategy(hardLimitZeroPadding())(data);\n    const yAxis = axisFactory(settings)\n        .excludeType(AXIS_TYPES.linear)\n        .settingName(\"crossValues\")\n        .valueName(\"crossValue\")\n        .orient(\"vertical\")(data);\n\n    const chart = chartSvgFactory(xAxis, yAxis).plotArea(\n        withGridLines(series, settings).orient(\"horizontal\")\n    );\n\n    if (chart.yPaddingInner) {\n        chart.yPaddingInner(0.5);\n        chart.yPaddingOuter(0.25);\n        bars.align(\"left\");\n    }\n    chart.xNice && chart.xNice();\n\n    const zoomChart = zoomableChart()\n        .chart(chart)\n        .settings(settings)\n        .yScale(yAxis.scale);\n\n    // render\n    container.datum(data).call(zoomChart);\n    container.call(legend);\n}\n\nbarChart.plugin = {\n    name: \"X Bar\",\n    category: \"X Chart\",\n    max_cells: 1000,\n    max_columns: 50,\n    render_warning: true,\n    initial: {\n        names: [\"X Axis\"],\n    },\n};\n\nexport default barChart;\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { AxisTypeValues, axisType } from \"./axisType\";\nimport * as none from \"./noAxis\";\nimport * as linear from \"./linearAxis\";\nimport * as time from \"./timeAxis\";\nimport * as ordinal from \"./ordinalAxis\";\n\nimport {\n    Axis,\n    D3Scale,\n    Domain,\n    DomainTuple,\n    Orientation,\n    SettingNameValues,\n    Settings,\n    ValueName,\n} from \"../types\";\n\nexport type AxisComponent = (scale) => Axis;\n\nexport interface AxisFactoryContent {\n    scale: D3Scale;\n    domain: DomainTuple;\n    domainFunction: Function;\n    labelFunction: (valueName: any) => (d: any) => string | Date;\n    component: {\n        bottom: AxisComponent;\n        left: AxisComponent;\n        top: AxisComponent;\n        right: AxisComponent;\n    };\n    size: number | undefined;\n    decorate: Function; // (s, data, index) => unknown\n    label: string;\n    tickFormatFunction: Function;\n}\n\ninterface AxisFactory {\n    (data: any[]): any;\n    memoValue(): Axis;\n    memoValue(a: Axis): AxisFactory;\n\n    excludeType(): () => AxisTypeValues;\n    excludeType(nextExcludeType?: AxisTypeValues): this;\n\n    orient(): () => Orientation;\n    orient(nextOrient?: Orientation): this;\n\n    settingName(): () => SettingNameValues;\n    settingName(nextSettingName?: SettingNameValues): this;\n\n    settingValue(): () => string | null;\n    settingValue(nextSettingValue?: string | null): this;\n\n    valueName(): () => ValueName;\n    valueName(nextValueName?: ValueName): this;\n\n    valueNames(): () => ValueName[];\n    valueNames(nextValueNames?: ValueName[]): this;\n\n    modifyDomain(): () => ModifyDomainFunc;\n    modifyDomain(nextModifyDomain?: ModifyDomainFunc): this;\n\n    // optional params, no idea yet if these are right or not.\n    include?: (nextInclude?: number[]) => any;\n    paddingStrategy?: (nextPaddingStrategy?: any) => any;\n    pad?: (nextPad?: [number, number]) => any;\n}\n\nexport type ModifyDomainFunc = (domain: any[]) => any[];\n\nconst axisTypes = {\n    none,\n    ordinal,\n    time,\n    linear,\n};\n\nexport const axisFactory = (settings: Settings): AxisFactory => {\n    let excludeType: AxisTypeValues | null = null;\n    let orient: Orientation = \"horizontal\";\n    let settingName: SettingNameValues = \"crossValues\";\n    let settingValue: string | undefined = undefined;\n    let valueNames: ValueName[] = [\"crossValue\"];\n    let modifyDomain = null;\n    let memoValue = null;\n\n    const optionalParams = [\"include\", \"paddingStrategy\", \"pad\"];\n    const optional = {};\n\n    const _factory: Partial<AxisFactory> = (data): AxisFactoryContent => {\n        const useType = axisType(settings)\n            .excludeType(excludeType)\n            .settingName(settingName)\n            .settingValue(settingValue)();\n\n        const axis = axisTypes[useType];\n        const domainFunction = (axis.domain() as Domain).valueNames(valueNames);\n\n        optionalParams.forEach((p) => {\n            if (optional[p] && domainFunction[p])\n                domainFunction[p](optional[p]);\n        });\n        if (domainFunction.orient) domainFunction.orient(orient);\n\n        let domain = domainFunction(data);\n        if (modifyDomain !== null) {\n            domain = modifyDomain(domain);\n        }\n\n        if (memoValue && typeof domain[0] === \"number\") {\n            memoValue[0] = domain[0] = Math.min(domain[0], memoValue[0]);\n            memoValue[1] = domain[1] = Math.max(domain[1], memoValue[1]);\n        }\n\n        const component = axis.hasOwnProperty(\"component\")\n            ? createComponent(axis, domain, data)\n            : defaultComponent();\n\n        const tickFormatFunction =\n            axis == linear\n                ? linear.tickFormatFunction(domain[0], domain[1])\n                : undefined;\n\n        return {\n            scale: axis.scale(),\n            domain,\n            domainFunction,\n            labelFunction: axis.labelFunction,\n            component: {\n                bottom: component.bottom,\n                left: component.left,\n                top: component.top,\n                right: component.right,\n            },\n            size: component.size,\n            decorate: component.decorate,\n            label: settings[settingName].map((v) => v.name).join(\", \"),\n            tickFormatFunction,\n        };\n    };\n\n    const createComponent = (axis, domain, data) =>\n        axis\n            .component(settings)\n            .orient(orient)\n            .settingName(settingName)\n            .domain(domain)(data);\n\n    const defaultComponent = () => ({\n        bottom: fc.axisBottom,\n        left: fc.axisLeft,\n        top: fc.axisTop,\n        right: fc.axisRight,\n        decorate: () => {},\n    });\n\n    _factory.memoValue = (...args: Axis[]): any => {\n        if (!args.length) {\n            return memoValue;\n        }\n\n        memoValue = args[0];\n        return _factory;\n    };\n\n    _factory.excludeType = (...args: AxisTypeValues[]): any => {\n        if (!args.length) {\n            return excludeType;\n        }\n\n        excludeType = args[0];\n        return _factory;\n    };\n\n    _factory.orient = (...args: Orientation[]): any => {\n        if (!args.length) {\n            return orient;\n        }\n\n        orient = args[0];\n        return _factory;\n    };\n\n    _factory.settingName = (...args: SettingNameValues[]): any => {\n        if (!args.length) {\n            return settingName;\n        }\n\n        settingName = args[0];\n        return _factory;\n    };\n\n    _factory.settingValue = (...args: (string | null)[]): any => {\n        if (!args.length) {\n            return settingValue;\n        }\n\n        settingValue = args[0];\n        return _factory;\n    };\n\n    _factory.valueName = (...args: ValueName[]): any => {\n        if (!args.length) {\n            return valueNames[0];\n        }\n\n        valueNames = [args[0]];\n        return _factory;\n    };\n\n    _factory.valueNames = (...args: ValueName[][]): any => {\n        if (!args.length) {\n            return valueNames;\n        }\n\n        valueNames = args[0];\n        return _factory;\n    };\n\n    _factory.modifyDomain = (nextModifyDomain?: ModifyDomainFunc) => {\n        if (!nextModifyDomain) {\n            return modifyDomain;\n        }\n\n        modifyDomain = nextModifyDomain;\n        return _factory;\n    };\n\n    optionalParams.forEach((p) => {\n        _factory[p] = (...args) => {\n            if (!args.length) {\n                return optional[p];\n            }\n            optional[p] = args[0];\n            return _factory;\n        };\n    });\n\n    return _factory as AxisFactory;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { Settings, SettingNameValues } from \"../types\";\n\nexport const AXIS_TYPES = {\n    none: \"none\",\n    ordinal: \"ordinal\",\n    time: \"time\",\n    linear: \"linear\",\n} as const;\n\nexport type AxisTypeValues = (typeof AXIS_TYPES)[keyof typeof AXIS_TYPES];\n\nexport interface AxisType {\n    (): AxisTypeValues;\n\n    settingName(): SettingNameValues;\n    settingName(nextSettingName: SettingNameValues): this;\n\n    settingValue(): string;\n    settingValue(nextSettingValue: string): this;\n\n    excludeType(): AxisTypeValues;\n    excludeType(nextExcludeType: AxisTypeValues): this;\n}\n\nexport const axisType = (settings: Settings): AxisType => {\n    let settingName = \"crossValues\";\n    let settingValue = null;\n    let excludeType = null;\n\n    const getType: Partial<AxisType> = (): AxisTypeValues | boolean => {\n        const checkTypes = (types) => {\n            const list = settingValue\n                ? settings[settingName].filter((s) => settingValue == s.name)\n                : settings[settingName];\n\n            if (settingName == \"crossValues\" && list.length > 1) {\n                // TODO: the return value of this function is used as an index, but \"false\" can't be used as an index.\n                // can't do multiple values on non-ordinal cross-axis\n                return false; // can this be \"none\"?\n            }\n\n            return list.some((s) => types.includes(s.type));\n        };\n\n        if (settings[settingName].length === 0) {\n            return AXIS_TYPES.none;\n        } else if (\n            excludeType != AXIS_TYPES.time &&\n            checkTypes([\"datetime\", \"date\"])\n        ) {\n            return AXIS_TYPES.time;\n        } else if (\n            excludeType != AXIS_TYPES.linear &&\n            checkTypes([\"integer\", \"float\"])\n        ) {\n            return AXIS_TYPES.linear;\n        }\n\n        if (excludeType == AXIS_TYPES.ordinal) {\n            return AXIS_TYPES.linear;\n        }\n        return AXIS_TYPES.ordinal;\n    };\n\n    getType.settingName = (...args: SettingNameValues[]): any => {\n        if (!args.length) {\n            return settingName;\n        }\n        settingName = args[0];\n        return getType;\n    };\n\n    getType.settingValue = (...args: (string | undefined)[]): any => {\n        if (!args.length) {\n            return settingValue;\n        }\n\n        settingValue = args[0];\n        return getType;\n    };\n\n    getType.excludeType = (...args: AxisTypeValues[]): any => {\n        if (!args.length) {\n            return excludeType;\n        }\n        excludeType = args[0];\n        return getType;\n    };\n\n    return getType as AxisType;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport { flattenArray } from \"./flatten\";\nimport minBandwidth from \"./minBandwidth\";\nimport withoutTicks from \"./withoutTicks\";\nimport { Domain, Orientation, ValueName } from \"../types\";\n\nexport const scale = () => withoutTicks(minBandwidth(d3.scaleBand()));\n\nexport const domain = (): Domain => {\n    let valueNames = [\"crossValue\"];\n    let orient = \"horizontal\";\n\n    const _domain: Partial<Domain> = (data: any[]) => {\n        const flattenedData = flattenArray(data);\n        return transformDomain([\n            ...new Set(flattenedData.map((d) => d[valueNames[0]])),\n        ]);\n    };\n\n    const transformDomain = (d) => (orient == \"vertical\" ? d.reverse() : d);\n\n    _domain.valueName = (...args: ValueName[]): any => {\n        if (!args.length) {\n            return valueNames[0];\n        }\n        valueNames = [args[0]];\n        return _domain;\n    };\n\n    _domain.valueNames = (...args: ValueName[][]): any => {\n        if (!args.length) {\n            return valueNames;\n        }\n        valueNames = args[0];\n        return _domain;\n    };\n\n    _domain.orient = (...args: Orientation[]): any => {\n        if (!args.length) {\n            return orient;\n        }\n        orient = args[0];\n        return _domain;\n    };\n\n    return _domain as Domain;\n};\n\nexport const labelFunction = (valueName) => (d) => d[valueName].join(\"|\");\n", "export * from \"d3-array\";\nexport * from \"d3-axis\";\nexport * from \"d3-brush\";\nexport * from \"d3-chord\";\nexport * from \"d3-color\";\nexport * from \"d3-contour\";\nexport * from \"d3-delaunay\";\nexport * from \"d3-dispatch\";\nexport * from \"d3-drag\";\nexport * from \"d3-dsv\";\nexport * from \"d3-ease\";\nexport * from \"d3-fetch\";\nexport * from \"d3-force\";\nexport * from \"d3-format\";\nexport * from \"d3-geo\";\nexport * from \"d3-hierarchy\";\nexport * from \"d3-interpolate\";\nexport * from \"d3-path\";\nexport * from \"d3-polygon\";\nexport * from \"d3-quadtree\";\nexport * from \"d3-random\";\nexport * from \"d3-scale\";\nexport * from \"d3-scale-chromatic\";\nexport * from \"d3-selection\";\nexport * from \"d3-shape\";\nexport * from \"d3-time\";\nexport * from \"d3-time-format\";\nexport * from \"d3-timer\";\nexport * from \"d3-transition\";\nexport * from \"d3-zoom\";\n", "export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, \u00B1Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n", "export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n", "export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n", "// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n", "// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n", "import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n", "export default function(x) {\n  return x;\n}\n", "import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\u00B5\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\u2212\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer \u201Cvalue\u201D part that can be\n        // grouped, and fractional or exponential \u201Csuffix\u201D part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n", "import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n", "function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n", "export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n", "export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n", "export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n", "export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n", "export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n", "export default function() {\n  return Array.from(this);\n}\n", "export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n", "export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don\u2019t include the root\u2019s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n", "export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n", "import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n", "export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n", "export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n", "export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n", "import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n", "export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n", "import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n", "import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n", "export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n", "import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n", "export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n", "import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n", "import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n", "import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n", "export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n", "export default function number(x) {\n  return +x;\n}\n", "import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n", "export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n", "import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n", "import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n", "import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n", "import {interpolate, interpolateRound} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nexport const flattenExtent = (array: any[]): [number, number] => {\n    const withUndefined = (fn) => (a, b) => {\n        if (a === undefined) return b;\n        if (b === undefined) return a;\n        return fn(a, b);\n    };\n    return array.reduce(\n        (r, v) => [\n            withUndefined(Math.min)(r[0], v[0]),\n            withUndefined(Math.max)(r[1], v[1]),\n        ],\n        [undefined, undefined]\n    );\n};\n\nexport const flattenArray = (array: any): any[] => {\n    if (Array.isArray(array)) {\n        return array.flat(Infinity);\n    } else {\n        return [array];\n    }\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { rebindAll } from \"d3fc\";\n\nconst MIN_BANDWIDTH = 1;\n\nexport interface MinBandwidth {\n    (arg: any): any;\n    bandwidth(): number;\n    bandwidth(...args: any[]): any;\n}\n\n// NOTE: Can the minBandwidth in barSeries.ts be merged with this?\n\nexport default (adaptee: d3.ScaleBand<string>): MinBandwidth => {\n    const minBandwidth: Partial<MinBandwidth> = (arg) => {\n        return adaptee(arg);\n    };\n\n    rebindAll(minBandwidth, adaptee);\n\n    minBandwidth.bandwidth = (...args: any[]): any => {\n        if (!args.length) {\n            return Math.max(adaptee.bandwidth(), MIN_BANDWIDTH);\n        }\n        // NOTE: d3.ScaleBand only has a getter for .bandwidth? (no args...);\n        //       I'm not sure this can be set.\n        // @ts-ignore\n        adaptee.bandwidth(...args);\n        return minBandwidth;\n    };\n\n    return minBandwidth as MinBandwidth;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { rebindAll } from \"d3fc\";\n\nexport default (adaptee) => {\n    const withoutTicks = (arg) => {\n        return adaptee(arg);\n    };\n\n    rebindAll(withoutTicks, adaptee);\n\n    withoutTicks.ticks = function () {\n        return [];\n    };\n\n    return withoutTicks;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport * as fc from \"d3fc\";\nimport { flattenArray } from \"./flatten\";\nimport { extentLinear as customExtent } from \"../d3fc/extent/extentLinear\";\nimport { getValueFormatterForRange } from \"./valueFormatter\";\nimport { getChartContainer } from \"../plugin/root\";\nimport {\n    Component,\n    ComponentData,\n    Domain,\n    PaddingStrategy,\n    Settings,\n    ValueName,\n} from \"../types\";\n\nexport const scale = () => d3.scaleLinear();\n\nexport const domain = (): Domain => {\n    const base = customExtent().pad([0, 0.1]).padUnit(\"percent\");\n\n    let valueNames: ValueName[] = [\"crossValue\"];\n\n    const _domain: any = (data) => {\n        base.accessors(valueNames.map((v) => (d) => parseFloat(d[v])));\n\n        return getDataExtent(flattenArray(data));\n    };\n\n    fc.rebindAll(_domain, base);\n\n    const getMinimumGap = (data) => {\n        const gaps = valueNames.map((valueName) =>\n            data\n                .map((d) => d[valueName])\n                .sort((a, b) => a - b)\n                .filter((d, i, a) => i === 0 || d !== a[i - 1])\n                .reduce((acc, d, i, src) =>\n                    i === 0 || acc <= d - src[i - 1]\n                        ? acc\n                        : Math.abs(d - src[i - 1])\n                )\n        );\n\n        return Math.min(...gaps);\n    };\n\n    const getDataExtent = (data: any[]): PaddingStrategy => {\n        if (base.padUnit() == \"domain\") {\n            const dataWidth = getMinimumGap(data);\n            return base.pad([dataWidth / 2, dataWidth / 2])(data);\n        } else {\n            return base(data);\n        }\n    };\n\n    _domain.valueName = (...args: ValueName[]): any => {\n        if (!args.length) {\n            return valueNames[0];\n        }\n        valueNames = [args[0]];\n        return _domain;\n    };\n\n    _domain.valueNames = (...args: ValueName[][]): any => {\n        if (!args.length) {\n            return valueNames;\n        }\n        valueNames = args[0];\n        return _domain;\n    };\n\n    return _domain;\n};\n\nexport const labelFunction =\n    (valueName) =>\n    (d): string =>\n        d[valueName][0];\n\nexport const tickFormatFunction = getValueFormatterForRange;\n\nexport const component = (_settings: Settings): Component => {\n    let domain = null;\n    let orient = \"horizontal\";\n    let settingName = null;\n\n    const getAxis = (s, data) => {\n        try {\n            const container = getChartContainer(s.node());\n            const chart = container.querySelector(\".cartesian-chart\");\n            const axis = chart.querySelector(`.${data}-axis`);\n            return axis;\n        } catch (e) {\n            return null;\n        }\n    };\n\n    // shrinks a given tick label\n    const shrinkTickLabel = (node) => {\n        const text = d3.select(node).select(\"text\").node();\n        (text as HTMLElement).style.fontSize = \"80%\";\n    };\n\n    // resizes ticks if they overflow the axis box\n    const shrinkTicks = (axis, s) => {\n        const axisBox = axis.getBoundingClientRect();\n        s.each((d, i, nodes) => {\n            const tickBox = d3.select(nodes[i]).node().getBoundingClientRect();\n\n            // if the tick is bigger than the axis, resize it\n            if (orient == \"vertical\" && axisBox.width < tickBox.width) {\n                shrinkTickLabel(nodes[i]);\n            } else if (\n                orient == \"horizontal\" &&\n                axisBox.height < tickBox.height\n            ) {\n                shrinkTickLabel(nodes[i]);\n            }\n        });\n    };\n\n    const decorate = (s, data, _index) => {\n        const axis = getAxis(s, data);\n        if (axis) {\n            shrinkTicks(axis, s);\n        }\n    };\n\n    const getComponent: any = (): ComponentData => {\n        const components = {\n            bottom: fc.axisBottom,\n            left: fc.axisLeft,\n            top: fc.axisTop,\n            right: fc.axisRight,\n            // size: \"100px\", // works, but can't measure here\n            decorate,\n        };\n        return components;\n    };\n\n    getComponent.domain = (...args) => {\n        if (!args.length) {\n            return domain;\n        }\n        domain = args[0];\n        return getComponent;\n    };\n\n    getComponent.orient = (...args) => {\n        if (!args.length) {\n            return orient;\n        }\n        orient = args[0];\n        return getComponent;\n    };\n\n    getComponent.settingName = (...args) => {\n        if (!args.length) {\n            return settingName;\n        }\n        settingName = args[0];\n        return getComponent;\n    };\n\n    return getComponent;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3Array from \"d3-array\";\nimport { defaultPadding } from \"../padding/default\";\nimport { Pad, PadUnit, PaddingStrategy } from \"../../types\";\n\nexport type SymmetricalAbout = number | null;\n\nexport interface ExtentLinear {\n    (data: any[]): PaddingStrategy;\n    accessors: (nextAccessors?: any[]) => any;\n\n    pad(): Pad;\n    pad(nextPad: Pad): ExtentLinear;\n\n    padUnit(): PadUnit;\n    padUnit(nextPadUnit: PadUnit): ExtentLinear;\n\n    include(): number[];\n    include(nextInclude?: number[]): ExtentLinear;\n\n    symmetricalAbout(): number | null;\n    symmetricalAbout(nextSymmetricalAbout?: number | null): ExtentLinear;\n\n    paddingStrategy(): PaddingStrategy;\n    paddingStrategy(nextPaddingStrategy?: any): ExtentLinear;\n}\n\nexport const extentLinear = function (): ExtentLinear {\n    let accessors = [\n        function (d) {\n            return d;\n        },\n    ];\n    let symmetricalAbout: number | null = null;\n    let include: number[] = [];\n    let paddingStrategy = defaultPadding();\n\n    const instance: Partial<ExtentLinear> = function instance(\n        data\n    ): PaddingStrategy {\n        let values = new Array(data.length);\n        let _iteratorNormalCompletion = true;\n        let _didIteratorError = false;\n        let _iteratorError = undefined;\n\n        let _iterator = accessors[Symbol.iterator]();\n        try {\n            for (\n                let _step;\n                !(_iteratorNormalCompletion = (_step = _iterator.next()).done);\n                _iteratorNormalCompletion = true\n            ) {\n                let accessor = _step.value;\n\n                for (let i = 0; i < data.length; i++) {\n                    let value = accessor(data[i], i);\n                    if (Array.isArray(value)) {\n                        values.push.apply(values, toConsumableArray(value));\n                    } else {\n                        values.push(value);\n                    }\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n\n        let extent$$1 = [d3Array.min(values), d3Array.max(values)];\n\n        extent$$1[0] =\n            extent$$1[0] == null\n                ? d3Array.min(include)\n                : d3Array.min(\n                      [extent$$1[0]].concat(toConsumableArray(include))\n                  );\n        extent$$1[1] =\n            extent$$1[1] == null\n                ? d3Array.max(include)\n                : d3Array.max(\n                      [extent$$1[1]].concat(toConsumableArray(include))\n                  );\n\n        if (symmetricalAbout != null) {\n            let halfRange = Math.max(\n                Math.abs(extent$$1[1] - symmetricalAbout),\n                Math.abs(extent$$1[0] - symmetricalAbout)\n            );\n            extent$$1[0] = symmetricalAbout - halfRange;\n            extent$$1[1] = symmetricalAbout + halfRange;\n        }\n\n        return paddingStrategy(extent$$1);\n    };\n\n    instance.accessors = function () {\n        if (!arguments.length) {\n            return accessors;\n        }\n        accessors = arguments.length <= 0 ? undefined : arguments[0];\n        return instance;\n    };\n\n    //This function points directly at the paddingStrategy child object's\n    //properties for backwards-compatibility. DEPRECATED.\n    instance.pad = function (...args: Pad[]): any {\n        if (!args.length) {\n            return paddingStrategy.pad;\n        }\n\n        paddingStrategy.pad(args[0]);\n\n        return instance;\n    };\n\n    //This function points directly at the paddingStrategy child object's\n    //properties for backwards-compatibility. DEPRECATED.\n    instance.padUnit = function (...args: PadUnit[]): any {\n        if (!args.length) {\n            return paddingStrategy.padUnit;\n        }\n\n        paddingStrategy.padUnit(args[0]);\n\n        return instance;\n    };\n\n    instance.include = function (...args: number[][]): any {\n        if (!args.length) {\n            return include;\n        }\n\n        include = args[0];\n\n        return instance;\n    };\n\n    instance.symmetricalAbout = function (...args: SymmetricalAbout[]): any {\n        if (!args.length) {\n            return symmetricalAbout;\n        }\n\n        symmetricalAbout = args[0];\n\n        return instance;\n    };\n\n    instance.paddingStrategy = function (...args: PaddingStrategy[]): any {\n        if (!args.length) {\n            return paddingStrategy;\n        }\n\n        paddingStrategy = args[0];\n\n        return instance;\n    };\n\n    return instance as ExtentLinear;\n};\n\nlet toConsumableArray = function (arr) {\n    if (Array.isArray(arr)) {\n        let arr2 = Array(arr.length);\n        for (let i = 0; i < arr.length; i++) {\n            arr2[i] = arr[i];\n        }\n        return arr2;\n    } else {\n        return Array.from(arr);\n    }\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { Pad, PadUnit, PaddingStrategy } from \"../../types\";\n\nexport const defaultPadding = (): PaddingStrategy => {\n    let pad = [0, 0];\n    let padUnit: PadUnit = \"percent\" as const;\n\n    const padding: Partial<PaddingStrategy> = (extent) => {\n        switch (padUnit) {\n            case \"domain\": {\n                extent[0] -= pad[0];\n                extent[1] += pad[1];\n                break;\n            }\n            case \"percent\": {\n                let delta = extent[1] - extent[0];\n                extent[0] -= pad[0] * delta;\n                extent[1] += pad[1] * delta;\n                break;\n            }\n            default:\n                throw new Error(\"Unknown padUnit: \" + padUnit);\n        }\n        return extent;\n    };\n\n    padding.pad = function (...args: Pad[]): any {\n        if (!args.length) {\n            return pad;\n        }\n\n        pad = args[0];\n\n        return padding;\n    };\n\n    padding.padUnit = function (...args: PadUnit[]): any {\n        if (!args.length) {\n            return padUnit;\n        }\n\n        padUnit = args[0];\n\n        return padding;\n    };\n\n    return padding as PaddingStrategy;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\n\nconst SI_MIN = 10000000;\n\nexport const getValueFormatterForRange = (min: number, max: number) => {\n    let precision = Math.ceil(Math.abs(Math.log10(max - min))) + 1;\n\n    return (d: number) => {\n        return Math.abs(d) >= SI_MIN\n            ? d3.format(\".3s\")(d)\n            : Number.isInteger(d)\n            ? d3.format(\",.0f\")(d)\n            : d3.format(`,.${precision}f`)(d);\n    };\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { ChartElement } from \"../types\";\n\nexport function getChartElement(element): ChartElement {\n    return element.getRootNode().host;\n}\n\nexport function getChartContainer(element): HTMLElement {\n    return element.closest(\"#container.chart\");\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport * as fc from \"d3fc\";\nimport { flattenArray } from \"./flatten\";\nimport { Domain, ValueName } from \"../types\";\n\nexport const scale = () => d3.scaleTime();\n\nexport const domain = (): Domain => {\n    const base = fc.extentTime();\n\n    let valueNames = [\"crossValue\"];\n\n    const _domain: Partial<Domain> = (data) => {\n        base.accessors(valueNames.map((v) => (d) => new Date(d[v])));\n\n        return getDataExtent(flattenArray(data));\n    };\n\n    fc.rebindAll(_domain, base, fc.exclude(\"include\", \"paddingStrategy\"));\n\n    const getMinimumGap = (data) => {\n        const gaps = valueNames.map((valueName) =>\n            data\n                .map((d) => new Date(d[valueName]).getTime())\n                .sort((a, b) => a - b)\n                .filter((d, i, a) => i === 0 || d !== a[i - 1])\n                .reduce((acc, d, i, src) =>\n                    i === 0 || Math.abs(acc) <= Math.abs(d - src[i - 1])\n                        ? Math.abs(acc)\n                        : Math.abs(d - src[i - 1])\n                )\n        );\n\n        return Math.min(...gaps);\n    };\n\n    const getDataExtent = (data) => {\n        const dataWidth = Math.abs(getMinimumGap(data));\n        return base.padUnit(\"domain\").pad([dataWidth / 2, dataWidth / 2])(data);\n    };\n\n    _domain.valueName = (...args: ValueName[]): any => {\n        if (!args.length) {\n            return valueNames[0];\n        }\n        valueNames = [args[0]];\n        return _domain;\n    };\n\n    _domain.valueNames = (...args: ValueName[][]): any => {\n        if (!args.length) {\n            return valueNames;\n        }\n        valueNames = args[0];\n        return _domain;\n    };\n\n    return _domain as Domain;\n};\n\nexport const labelFunction = (valueName) => (d) => new Date(d[valueName][0]);\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport * as fc from \"d3fc\";\nimport minBandwidth from \"./minBandwidth\";\nimport { flattenArray } from \"./flatten\";\nimport {\n    multiAxisBottom,\n    multiAxisLeft,\n    multiAxisTop,\n    multiAxisRight,\n} from \"../d3fc/axis/multi-axis\";\nimport { getChartContainer } from \"../plugin/root\";\nimport {\n    Component,\n    ComponentData,\n    Domain,\n    Orientation,\n    SettingNameValues,\n    Settings,\n    ValueName,\n} from \"../types\";\n\n// NOTE: Where is this used? Is it?\n// MinBandwidth doesn't have a padding() method, so what is going on here?\n// @ts-ignore\nexport const scale = () => minBandwidth(d3.scaleBand()).padding(0.5);\n\ninterface OrdinalAxisDomain {\n    (data: any): any;\n\n    valueName(): ValueName;\n    valueName(nextValueName: ValueName): this;\n\n    valueNames(): ValueName[];\n    valueNames(nextValueNames: ValueName[]): this;\n\n    orient(): Orientation;\n    orient(nextOrient: Orientation): this;\n}\n\nexport const domain = (): OrdinalAxisDomain => {\n    let valueNames = [\"crossValue\"];\n    let orient = \"horizontal\";\n\n    const _domain: Partial<Domain> = (data) => {\n        const flattenedData = flattenArray(data);\n        return transformDomain([\n            ...Array.from(new Set(flattenedData.map((d) => d[valueNames[0]]))),\n        ]);\n    };\n\n    const transformDomain = (d) => (orient == \"vertical\" ? d.reverse() : d);\n\n    _domain.valueName = (...args: ValueName[]): any => {\n        if (!args.length) {\n            return valueNames[0];\n        }\n        valueNames = [args[0]];\n        return _domain;\n    };\n\n    _domain.valueNames = (...args: ValueName[][]): any => {\n        if (!args.length) {\n            return valueNames;\n        }\n        valueNames = args[0];\n        return _domain;\n    };\n\n    _domain.orient = (...args: Orientation[]): any => {\n        if (!args.length) {\n            return orient;\n        }\n        orient = args[0];\n        return _domain;\n    };\n\n    return _domain as Domain;\n};\n\nexport const labelFunction =\n    (valueName) =>\n    (d): string =>\n        d[valueName].join(\"|\");\n\nexport const component = (settings: Settings): Component => {\n    let orient = \"horizontal\";\n    let settingName = \"crossValues\";\n    let domain = null;\n\n    const getComponent: any = (): ComponentData => {\n        const multiLevel = settings[settingName].length > 1;\n\n        // Calculate the label groups and corresponding group sizes\n        const levelGroups = axisGroups(domain);\n        const groupTickLayout = levelGroups.map(getGroupTickLayout);\n\n        const tickSizeInner = multiLevel\n            ? groupTickLayout.map((l) => l.size)\n            : groupTickLayout[0].size;\n        const tickSizeOuter = groupTickLayout.reduce((s, v) => s + v.size, 0);\n\n        const createAxis = (base) => (scale) => {\n            const axis = base(scale);\n\n            if (multiLevel) {\n                axis.groups(levelGroups)\n                    .tickSizeInner(tickSizeInner)\n                    .tickSizeOuter(tickSizeOuter);\n            }\n            if (orient !== \"horizontal\") axis.tickPadding(10);\n            return axis;\n        };\n\n        const decorate = (s, data, index) => {\n            const rotation = groupTickLayout[index].rotation;\n            if (orient === \"horizontal\") applyLabelRotation(s, rotation);\n            hideOverlappingLabels(s, rotation);\n        };\n\n        const axisSet = getAxisSet(multiLevel);\n        return {\n            bottom: createAxis(axisSet.bottom),\n            left: createAxis(axisSet.left),\n            right: createAxis(axisSet.right),\n            top: createAxis(axisSet.top),\n            size: `${tickSizeOuter + 10}px`,\n            decorate,\n        };\n    };\n\n    // const pickAxis = multiLevel => {\n    //     if (multiLevel) {\n    //         return orient === \"horizontal\" ?\n    //                multiAxisBottom : multiAxisLeft;\n    //     }\n    //     return orient === \"horizontal\" ?\n    //                 fc.axisOrdinalBottom : fc.axisOrdinalLeft;\n    // };\n\n    const getAxisSet = (multiLevel) => {\n        if (multiLevel) {\n            return {\n                bottom: multiAxisBottom,\n                left: multiAxisLeft,\n                top: multiAxisTop,\n                right: multiAxisRight,\n            };\n        } else {\n            return {\n                bottom: fc.axisOrdinalBottom,\n                left: fc.axisOrdinalLeft,\n                top: fc.axisOrdinalTop,\n                right: fc.axisOrdinalRight,\n            };\n        }\n    };\n\n    const axisGroups = (domain) => {\n        const groups = [];\n        domain.forEach((tick) => {\n            const split = tick && tick.split ? tick.split(\"|\") : [tick];\n            split.forEach((s, i) => {\n                while (groups.length <= i) groups.push([]);\n\n                const group = groups[i];\n                if (group.length > 0 && group[group.length - 1].text === s) {\n                    group[group.length - 1].domain.push(tick);\n                } else {\n                    group.push({ text: s, domain: [tick] });\n                }\n            });\n        });\n        return groups.reverse();\n    };\n\n    const getGroupTickLayout = (group) => {\n        const width = settings.size.width;\n        const maxLength = Math.max(\n            ...group.map((g) => (g.text ? g.text.length : 0))\n        );\n\n        if (orient === \"horizontal\") {\n            // x-axis may rotate labels and expand the available height\n            if (group && group.length * 16 > width - 100) {\n                return {\n                    size: maxLength * 5 + 10,\n                    rotation: 90,\n                };\n            } else if (\n                group &&\n                group.length * (maxLength * 6 + 10) > width - 100\n            ) {\n                return {\n                    size: maxLength * 3 + 20,\n                    rotation: 45,\n                };\n            }\n            return {\n                size: 25,\n                rotation: 0,\n            };\n        } else {\n            // y-axis size always based on label size\n            return {\n                size: maxLength * 5 + 10,\n                rotation: 0,\n            };\n        }\n    };\n\n    const hideOverlappingLabels = (s, rotated) => {\n        const getTransformCoords = (transform) => {\n            const splitOn = transform.indexOf(\",\") !== -1 ? \",\" : \" \";\n            const coords = transform\n                .substring(transform.indexOf(\"(\") + 1, transform.indexOf(\")\"))\n                .split(splitOn)\n                .map((c) => parseInt(c));\n            while (coords.length < 2) coords.push(0);\n            return coords;\n        };\n\n        const rectanglesOverlap = (r1, r2) =>\n            r1.x <= r2.x + r2.width &&\n            r2.x <= r1.x + r1.width &&\n            r1.y <= r2.y + r2.height &&\n            r2.y <= r1.y + r1.height;\n        const rotatedLabelsOverlap = (r1, r2) =>\n            r1.x + r1.width + 14 > r2.x + r2.width;\n        const isOverlap = rotated ? rotatedLabelsOverlap : rectanglesOverlap;\n\n        const rectangleContained = (r1, r2) =>\n            r1.x >= r2.x &&\n            r1.x + r1.width <= r2.x + r2.width &&\n            r1.y >= r2.y &&\n            r1.y + r1.height <= r2.y + r2.height;\n        // The bounds rect is the available screen space a label can fit into\n        const boundsRect =\n            orient == \"horizontal\" ? getXAxisBoundsRect(s) : null;\n\n        const previousRectangles = [];\n        s.each((d, i, nodes) => {\n            const tick = d3.select(nodes[i]);\n\n            // How the \"tick\" element is transformed (x/y)\n            const transformCoords = getTransformCoords(tick.attr(\"transform\"));\n\n            // Work out the actual rectanble the label occupies\n            const tickRect = tick.node().getBBox();\n            const rect = {\n                x: tickRect.x + transformCoords[0],\n                y: tickRect.y + transformCoords[1],\n                width: tickRect.width,\n                height: tickRect.height,\n            };\n\n            const overlap = previousRectangles.some((r) => isOverlap(r, rect));\n\n            // Test that it also fits into the screen space\n            const hidden =\n                overlap ||\n                (boundsRect && !rectangleContained(rect, boundsRect));\n\n            tick.attr(\"visibility\", hidden ? \"hidden\" : \"\");\n            if (!hidden) {\n                previousRectangles.push(rect);\n            }\n        });\n    };\n\n    const getXAxisBoundsRect = (s) => {\n        const container = getChartContainer(s.node());\n        if (container === null) {\n            return;\n        }\n        const chart = container.querySelector(\".cartesian-chart\");\n        const axis = chart.querySelector(\".x-axis\");\n\n        const chartRect = chart.getBoundingClientRect();\n        const axisRect = axis.getBoundingClientRect();\n        return {\n            x: chartRect.left - axisRect.left,\n            width: chartRect.width,\n            y: chartRect.top - axisRect.top,\n            height: chartRect.height,\n        };\n    };\n\n    const getLabelTransform = (rotation) => {\n        if (!rotation) {\n            return \"translate(0, 8)\";\n        }\n        if (rotation < 60) {\n            return `rotate(-${rotation} 5 5)`;\n        }\n        return `rotate(-${rotation} 3 7)`;\n    };\n\n    const applyLabelRotation = (s, rotation) => {\n        const transform = getLabelTransform(rotation);\n        const anchor = rotation ? \"end\" : \"\";\n        s.each((d, i, nodes) => {\n            const tick = d3.select(nodes[i]);\n            const text = tick.select(\"text\");\n\n            text.attr(\"transform\", transform).style(\"text-anchor\", anchor);\n        });\n    };\n\n    getComponent.orient = (...args: Orientation[]): any => {\n        if (!args.length) {\n            return orient;\n        }\n        orient = args[0];\n        return getComponent;\n    };\n\n    getComponent.settingName = (...args: SettingNameValues[]): any => {\n        if (!args.length) {\n            return settingName;\n        }\n        settingName = args[0];\n        return getComponent;\n    };\n\n    getComponent.domain = (...args: string[][]): any => {\n        if (!args.length) {\n            return domain;\n        }\n        domain = args[0];\n        return getComponent;\n    };\n\n    return getComponent;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { select, line } from \"d3\";\nimport {\n    axisOrdinalTop,\n    axisOrdinalBottom,\n    axisOrdinalLeft,\n    axisOrdinalRight,\n    dataJoin,\n    rebindAll,\n    exclude,\n} from \"d3fc\";\nimport store from \"./store\";\nimport { Orient } from \"../../types\";\n\nexport interface MultiAxis {\n    (selection: any): void;\n\n    tickSize(): number;\n    tickSize(nextTickSize: number): MultiAxis;\n\n    tickSizeInner(): number | number[];\n    tickSizeInner(nextTickSize: number | number[]): MultiAxis;\n\n    tickSizeOuter(): number;\n    tickSizeOuter(nextTickSize: number): MultiAxis;\n\n    decorate(): any;\n    decorate(nextDecorator: any): MultiAxis;\n\n    groups(): any;\n    groups(nextGroups: any): MultiAxis;\n}\n\nconst multiAxis = (orient: Orient, baseAxis, scale): MultiAxis => {\n    let tickSizeOuter = 6;\n    let tickSizeInner: number | number[] = 6;\n    let axisStore = store(\n        \"tickFormat\",\n        \"ticks\",\n        \"tickArguments\",\n        \"tickValues\",\n        \"tickPadding\"\n    );\n    let decorate = (...args) => {};\n\n    let groups = null;\n\n    const groupDataJoin = dataJoin(\"g\", \"group\");\n    const domainPathDataJoin = dataJoin(\"path\", \"domain\");\n\n    const translate = (x, y) =>\n        isVertical() ? `translate(${y}, ${x})` : `translate(${x}, ${y})`;\n\n    const pathTranspose = (arr) =>\n        isVertical() ? arr.map((d) => [d[1], d[0]]) : arr;\n\n    const isVertical = () => orient === \"left\" || orient === \"right\";\n\n    const multiAxis: Partial<MultiAxis> = (selection) => {\n        if (!groups) {\n            axisStore(baseAxis(scale).decorate(decorate))(selection);\n            return;\n        }\n\n        // if (selection.selection) {\n        //     groupDataJoin.call(selection);\n        //     domainPathDataJoin.call(selection);\n        // }\n\n        selection.each((data, index, group) => {\n            const element = group[index];\n\n            const container = select(element);\n\n            const sign = orient === \"bottom\" || orient === \"right\" ? 1 : -1;\n\n            // add the domain line\n            const range = scale.range();\n            const domainPathData = pathTranspose([\n                [range[0], sign * tickSizeOuter],\n                [range[0], 0],\n                [range[1], 0],\n                [range[1], sign * tickSizeOuter],\n            ]);\n\n            const domainLine = domainPathDataJoin(container, [data]);\n            domainLine\n                .attr(\"d\", line()(domainPathData))\n                .attr(\"stroke\", \"#000\")\n                .attr(\"fill\", \"none\");\n\n            const g = groupDataJoin(container, groups);\n\n            const getAxisSize = (i) =>\n                Array.isArray(tickSizeInner) ? tickSizeInner[i] : tickSizeInner;\n            const getAxisOffset = (i) => {\n                let sum = 0;\n                for (let n = 0; n < i; n++) {\n                    sum += getAxisSize(n);\n                }\n                return sum;\n            };\n\n            g.attr(\"transform\", (d, i) =>\n                translate(0, sign * getAxisOffset(i))\n            ).each((group, i, nodes) => {\n                const groupElement = select(nodes[i]);\n                const groupScale = scaleFromGroup(scale, group);\n                const useAxis = axisStore(baseAxis(groupScale))\n                    .decorate((s, data) => decorate(s, data, i))\n                    .tickSizeInner(getAxisSize(i))\n                    .tickOffset((d) => groupScale.step(d) / 2);\n                useAxis(groupElement);\n\n                groupElement.select(\"path.domain\").attr(\"visibility\", \"hidden\");\n            });\n\n            // exit\n            g.exit().attr(\"transform\", (d, i) =>\n                translate(0, sign * getAxisOffset(i))\n            );\n        });\n    };\n\n    const scaleFromGroup = (scale, group) => {\n        function customScale(value) {\n            const values = value.domain;\n            return values.reduce((sum, d) => sum + scale(d), 0) / values.length;\n        }\n\n        customScale.ticks = () => {\n            return group;\n        };\n        customScale.tickFormat = () => (d) => {\n            return d.text;\n        };\n        customScale.copy = () => scaleFromGroup(scale, group);\n\n        customScale.step = (value) => value.domain.length * scale.step();\n\n        rebindAll(customScale, scale, exclude(\"ticks\", \"step\", \"copy\"));\n        return customScale;\n    };\n\n    multiAxis.tickSize = (...args): any => {\n        if (!args.length) {\n            return tickSizeInner;\n        }\n        tickSizeInner = tickSizeOuter = Number(args[0]);\n        return multiAxis;\n    };\n\n    multiAxis.tickSizeInner = (...args: (number | number[])[]): any => {\n        if (!args.length) {\n            return tickSizeInner;\n        }\n        tickSizeInner = Array.isArray(args[0]) ? args[0] : Number(args[0]);\n        return multiAxis;\n    };\n\n    multiAxis.tickSizeOuter = (...args: number[]): any => {\n        if (!args.length) {\n            return tickSizeOuter;\n        }\n        tickSizeOuter = Number(args[0]);\n        return multiAxis;\n    };\n\n    multiAxis.decorate = (...args): any => {\n        if (!args.length) {\n            return decorate;\n        }\n        decorate = args[0];\n        return multiAxis;\n    };\n\n    multiAxis.groups = (...args) => {\n        if (!args.length) {\n            return groups;\n        }\n        groups = args[0];\n        return multiAxis;\n    };\n\n    rebindAll(multiAxis, axisStore);\n\n    return multiAxis as MultiAxis;\n};\n\nexport const multiAxisTop = (scale) => multiAxis(\"top\", axisOrdinalTop, scale);\n\nexport const multiAxisBottom = (scale) =>\n    multiAxis(\"bottom\", axisOrdinalBottom, scale);\n\nexport const multiAxisLeft = (scale) =>\n    multiAxis(\"left\", axisOrdinalLeft, scale);\n\nexport const multiAxisRight = (scale) =>\n    multiAxis(\"right\", axisOrdinalRight, scale);\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nexport default (...names) => {\n    const data = {};\n\n    const store = (target) => {\n        for (const key of Object.keys(data)) {\n            target[key](data[key]);\n        }\n        return target;\n    };\n\n    for (const name of names) {\n        store[name] = (...args) => {\n            if (!args.length) {\n                return data[name];\n            }\n            data[name] = args[0];\n            return store;\n        };\n    }\n\n    return store;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport * as fc from \"d3fc\";\n\nexport const chartSvgFactory = (xAxis, yAxis) =>\n    chartFactory(xAxis, yAxis, (x, y) => x.svgPlotArea(y), false);\nexport const chartCanvasFactory = (xAxis, yAxis) =>\n    chartFactory(\n        xAxis,\n        yAxis,\n        (x, y) => {\n            return x.canvasPlotArea(y).svgPlotArea(fc.seriesSvgPoint());\n        },\n        true\n    );\n\nconst chartFactory = (xAxis, yAxis, cartesian, canvas) => {\n    let axisSplitter = null;\n    let altAxis = null;\n\n    const chart = fc\n        .chartCartesian({\n            xScale: xAxis.scale,\n            yScale: yAxis.scale,\n            xAxis: xAxis.component,\n            yAxis: yAxis.component,\n        })\n        .xDomain(xAxis.domain)\n        .xLabel(xAxis.label)\n        .xAxisHeight(xAxis.size)\n        .xDecorate(xAxis.decorate)\n        .xTickFormat(xAxis.tickFormatFunction)\n        .yDomain(yAxis.domain)\n        .yLabel(yAxis.label)\n        .yAxisWidth(yAxis.size)\n        .yDecorate(yAxis.decorate)\n        .yOrient(\"left\")\n        .yTickFormat(yAxis.tickFormatFunction);\n\n    if (xAxis.decorate) chart.xDecorate(xAxis.decorate);\n    if (yAxis.decorate) chart.yDecorate(yAxis.decorate);\n\n    // Padding defaults can be overridden\n    chart.xPaddingInner && chart.xPaddingInner(1);\n    chart.xPaddingOuter && chart.xPaddingOuter(0.5);\n    chart.yPaddingInner && chart.yPaddingInner(1);\n    chart.yPaddingOuter && chart.yPaddingOuter(0.5);\n\n    chart.axisSplitter = (...args) => {\n        if (!args.length) {\n            return axisSplitter;\n        }\n        axisSplitter = args[0];\n        return chart;\n    };\n\n    chart.altAxis = (...args) => {\n        if (!args.length) {\n            return altAxis;\n        }\n        altAxis = args[0];\n        return chart;\n    };\n\n    /**\n     * Mimics the previous D3FC API and returns the main plot area selection.\n     * Both chart types will have both layers, so this should be determined\n     * by the constructor's `canvas` property.\n     *\n     * @param  {...any} args If provided, this function will act as a setter.\n     * @returns\n     */\n    chart.plotArea = function (...args) {\n        if (args.length == 0) {\n            if (canvas) {\n                return this.canvasPlotArea();\n            } else {\n                return this.svgPlotArea();\n            }\n        } else {\n            return cartesian(this, ...args);\n        }\n    };\n\n    const oldDecorate = chart.decorate();\n    chart.decorate((container, data) => {\n        const plotArea = container.select(\"d3fc-svg.plot-area\");\n        const node = plotArea.select(\"svg\").node();\n        node.setAttribute(\n            \"viewBox\",\n            `0 0 ${plotArea.node().clientWidth} ${plotArea.node().clientHeight}`\n        );\n        node.setAttribute(\"preserveAspectRatio\", \"none\");\n\n        for (const axis of [\"x-axis\", \"y-axis\"]) {\n            container\n                .select(`d3fc-svg.${axis} svg`)\n                .node()\n                .setAttribute(\"preserveAspectRatio\", \"none\");\n        }\n\n        oldDecorate(container, data);\n\n        // Not sure why these are out of order ...\n        // https://github.com/d3fc/d3fc/blob/master/packages/d3fc-chart/README.md#changing-the-z-order-of-plot-areas\n        if (canvas) {\n            const svgPlotArea = container.select(\".svg-plot-area\").node();\n            const canvasPlotArea = container.select(\".canvas-plot-area\").node();\n            d3.selectAll([svgPlotArea, canvasPlotArea]).order();\n        }\n\n        if (!axisSplitter) return;\n\n        if (axisSplitter.haveSplit()) {\n            // Render a second axis on the right of the chart\n            const altData = axisSplitter.altData();\n\n            const y2AxisDataJoin = fc\n                .dataJoin(\"d3fc-svg\", \"y2-axis\")\n                .key((d) => d);\n            const ySeriesDataJoin = fc.dataJoin(\"g\", \"y-series\").key((d) => d);\n\n            // Column 5 of the grid\n            container\n                // .enter()\n                .append(\"div\")\n                .attr(\"class\", \"y-label right-label\")\n                .style(\"grid-column\", 5)\n                .style(\"-ms-grid-column\", 5)\n                .style(\"grid-row\", 3)\n                .style(\"-ms-grid-row\", 3)\n                .style(\"width\", altAxis.size || \"1em\")\n                .style(\"display\", \"flex\")\n                .style(\"align-items\", \"center\")\n                .style(\"justify-content\", \"center\")\n                .append(\"span\")\n                .attr(\"class\", \"y-label splitter-label\")\n                .style(\"transform\", \"rotate(-90deg)\");\n\n            const y2Scale = altAxis.scale.domain(altAxis.domain);\n            const yAxisComponent = altAxis.component.right(y2Scale);\n            yAxisComponent.tickFormat(altAxis.tickFormatFunction);\n            if (altAxis.decorate) yAxisComponent.decorate(altAxis.decorate);\n\n            // Render the axis\n            y2AxisDataJoin(container, [\"right\"])\n                .attr(\"class\", (d) => `y-axis ${d}-axis`)\n                .on(\"measure\", function (event, d) {\n                    const { width, height } = event.detail;\n                    if (d === \"left\") {\n                        d3.select(event.currentTarget)\n                            .select(\"svg\")\n                            .attr(\"viewBox\", `${-width} 0 ${width} ${height}`)\n                            .attr(\"preserveAspectRatio\", \"none\");\n                    }\n                    y2Scale.range([height, 0]);\n                })\n                .on(\"draw\", function (event, d) {\n                    d3.select(event.currentTarget)\n                        .select(\"svg\")\n                        .call(yAxisComponent);\n                });\n\n            // Render all the series using either the primary or alternate\n            // y-scales\n            if (canvas) {\n                const drawMultiCanvasSeries = (selection) => {\n                    const canvasPlotArea = chart.plotArea();\n                    canvasPlotArea\n                        .context(selection.node().getContext(\"2d\"))\n                        .xScale(xAxis.scale);\n\n                    const yScales = [yAxis.scale, y2Scale];\n                    [data, altData].forEach((d, i) => {\n                        canvasPlotArea.yScale(yScales[i]);\n                        canvasPlotArea(d);\n                    });\n                };\n\n                container\n                    .select(\"d3fc-canvas.plot-area\")\n                    .on(\"draw\", function (event, d) {\n                        drawMultiCanvasSeries(\n                            d3.select(event.currentTarget).select(\"canvas\")\n                        );\n                    });\n            } else {\n                const drawMultiSvgSeries = function (selection) {\n                    const svgPlotArea = chart.plotArea();\n                    svgPlotArea.xScale(xAxis.scale);\n\n                    const yScales = [yAxis.scale, y2Scale];\n                    ySeriesDataJoin(selection, [data, altData]).each(\n                        (d, i, nodes) => {\n                            svgPlotArea.yScale(yScales[i]);\n                            d3.select(nodes[i]).datum(d).call(svgPlotArea);\n                        }\n                    );\n                };\n\n                container\n                    .select(\"d3fc-svg.plot-area\")\n                    .on(\"draw\", function (event, d) {\n                        drawMultiSvgSeries(\n                            d3.select(event.currentTarget).select(\"svg\")\n                        );\n                    });\n            }\n        }\n\n        // Render any UI elements the splitter component requires\n        axisSplitter(container);\n    });\n\n    return chart;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { tooltip } from \"../tooltip/tooltip\";\nimport { ScaleSequential, Settings } from \"../types\";\n\nexport function barSeries(\n    settings: Settings,\n    color: d3.ScaleOrdinal<string, unknown> | ScaleSequential\n) {\n    let series =\n        settings.mainValues.length > 1\n            ? fc.seriesSvgGrouped(fc.seriesSvgBar())\n            : fc.seriesSvgBar();\n\n    series = series.decorate((selection) => {\n        tooltip().settings(settings)(selection);\n        selection.style(\"fill\", (d) => color(d.key));\n    });\n\n    return fc\n        .autoBandwidth(minBandwidth(series))\n        .crossValue((d) => d.crossValue)\n        .mainValue((d) => (d.mainValue ? d.mainValue : 0))\n        .baseValue((d) => d.baseValue);\n}\n\nconst minBandwidth = (adaptee) => {\n    const min = (arg) => {\n        return adaptee(arg);\n    };\n\n    fc.rebindAll(min, adaptee);\n\n    min.bandwidth = (...args) => {\n        if (!args.length) {\n            return adaptee.bandwidth();\n        }\n        adaptee.bandwidth(Math.max(args[0], 1));\n        return min;\n    };\n\n    return min;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { NodeRect, Orient } from \"../types\";\n\nexport function getOrCreateElement(container, selector, createCallback) {\n    let element = container.select(selector);\n    return element.size() > 0 ? element : createCallback();\n}\n\nexport function isElementOverflowing(\n    containerRect: DOMRect,\n    innerElementRect: NodeRect,\n    direction: Orient = \"right\"\n) {\n    if (direction === \"right\" || direction === \"bottom\") {\n        return containerRect[direction] < innerElementRect[direction]\n            ? true\n            : false;\n    }\n\n    if (direction === \"left\" || direction === \"top\") {\n        return containerRect[direction] > innerElementRect[direction]\n            ? true\n            : false;\n    }\n\n    throw `Direction being checked for overflow is invalid: ${direction}`;\n}\n\nexport function isElementOverlapping(\n    axis: \"x\" | \"y\",\n    immovableRect: DOMRect,\n    elementRect: DOMRect,\n    fuzz = 0\n) {\n    const dimension = axis === \"x\" ? \"width\" : \"height\";\n\n    const immovableInnerPoint = immovableRect[axis];\n    const immovableOuterPoint = immovableRect[axis] + immovableRect[dimension];\n\n    const elementInnerPoint = elementRect[axis];\n    const elementOuterPoint = elementRect[axis] + elementRect[dimension];\n\n    const innerPointInside =\n        elementInnerPoint + fuzz > immovableInnerPoint &&\n        elementInnerPoint - fuzz < immovableOuterPoint;\n    const outerPointInside =\n        elementOuterPoint + fuzz > immovableInnerPoint &&\n        elementOuterPoint - fuzz < immovableOuterPoint;\n    const pointsEitherSide =\n        elementInnerPoint + fuzz < immovableInnerPoint &&\n        elementOuterPoint - fuzz > immovableOuterPoint;\n\n    return innerPointInside || outerPointInside || pointsEitherSide;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { Settings } from \"../types\";\n\nexport function toValue(type, value) {\n    switch (type) {\n        case \"date\":\n        case \"datetime\":\n            return value instanceof Date\n                ? value\n                : new Date(parseInt(value)).toLocaleString([], {\n                      dateStyle: \"short\",\n                      timeStyle: \"medium\",\n                  });\n        case \"integer\":\n            return parseInt(value, 10);\n        case \"float\":\n            return parseFloat(value);\n    }\n    return value;\n}\n\nexport function getGroupValues(data, settings) {\n    if (settings.crossValues.length === 0) return [];\n    if (data.crossValue.length === 0) return [];\n    const groupValues = (data.crossValue.split\n        ? data.crossValue.split(\"|\")\n        : Array.isArray(data.crossValue)\n        ? data.crossValue\n        : [data.crossValue]) || [data.key];\n    return groupValues.map((cross, i) => ({\n        name: settings.crossValues[i].name,\n        value: toValue(settings.crossValues[i].type, cross),\n    }));\n}\n\nexport function getSplitValues(data, settings: Settings) {\n    if (settings.splitValues.length === 0) return [];\n    let splitValues = [data.mainValue];\n\n    if (data.key) {\n        splitValues = data.key.split(\"|\");\n    } else if (data.mainValue?.split) {\n        splitValues = data.mainValue.split(\"|\");\n    }\n\n    return settings.splitValues.map((split, i) => ({\n        name: split.name,\n        value: toValue(split.type, splitValues[i]),\n    }));\n}\n\nexport function getDataValues(data, settings) {\n    if (settings.mainValues.length > 1) {\n        if (data.mainValues) {\n            return settings.mainValues.map((main, i) => ({\n                name: main.name,\n                value: toValue(main.type, data.mainValues[i]),\n            }));\n        }\n        return settings.mainValues.map((main) => ({\n            name: main.name,\n            value: toValue(\n                main.type,\n                data.row[getDataRowKey(data.key, main, settings.realValues)]\n            ),\n        }));\n    }\n    return [\n        {\n            name: settings.mainValues[0].name,\n            value: toValue(\n                settings.mainValues[0].type,\n                data.colorValue ||\n                    data.mainValue - data.baseValue ||\n                    data.mainValue ||\n                    data.mainValues\n            ),\n        },\n    ];\n}\n\nfunction getDataRowKey(key, main, realValues) {\n    if (!key) {\n        return main.name;\n    }\n\n    if (key.includes(\"|\")) {\n        const splitKey = key.split(\"|\");\n        const keyIncludesValidValueName =\n            splitKey[splitKey.length - 1] === main.name;\n\n        if (keyIncludesValidValueName) {\n            return key;\n        }\n\n        const keyIncludesInvalidValueName = realValues.includes(\n            splitKey[splitKey.length - 1]\n        );\n\n        const validKeyPrefix = keyIncludesInvalidValueName\n            ? splitKey.slice(0, splitKey.length - 1).join(\"|\")\n            : key;\n\n        return `${validKeyPrefix}|${main.name}`;\n    }\n\n    const keyIsRealValue = realValues.includes(key);\n\n    return keyIsRealValue ? main.name : `${key}|${main.name}`;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { select } from \"d3\";\nimport { getGroupValues, getSplitValues, getDataValues } from \"./selectionData\";\nimport { Settings } from \"../types\";\n\nexport function generateHtml(tooltipDiv, data, settings: Settings) {\n    const tooltipValues = getGroupValues(data, settings)\n        .concat(getSplitValues(data, settings))\n        .concat(getDataValues(data, settings));\n    addDataValues(tooltipDiv, tooltipValues);\n}\n\nfunction addDataValues(tooltipDiv, values) {\n    tooltipDiv\n        .select(\"#tooltip-values\")\n        .selectAll(\"li\")\n        .data(values)\n        .join(\"li\")\n        .each(function (d) {\n            select(this)\n                .text(`${d.name}: `)\n                .append(\"b\")\n                .text(formatNumber(d.value));\n        });\n}\n\nconst formatNumber = (value) =>\n    value === null || value === undefined\n        ? \"-\"\n        : value.toLocaleString(undefined, {\n              style: \"decimal\",\n              minimumFractionDigits: 2,\n              maximumFractionDigits: 2,\n          });\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { getGroupValues, getSplitValues, getDataValues } from \"./selectionData\";\n\nconst mapToFilter = (d) => [d.name, \"==\", d.value];\n\nexport const raiseEvent = (node, data, settings) => {\n    const column_names = getDataValues(data, settings).map((d) => d.name);\n    const groupFilters = getGroupValues(data, settings).map(mapToFilter);\n    const splitFilters = getSplitValues(data, settings).map(mapToFilter);\n\n    const filter = settings.filter.concat(groupFilters).concat(splitFilters);\n\n    node.dispatchEvent(\n        new CustomEvent(\"perspective-click\", {\n            bubbles: true,\n            composed: true,\n            detail: {\n                column_names,\n                config: { filter },\n                row: data.row,\n            },\n        })\n    );\n};\n\nexport const selectionEvent = () => {\n    let settings = null;\n\n    const _event = (selection) => {\n        const node = selection.node();\n        selection.on(\"click\", (_event, data) =>\n            raiseEvent(node, data, settings)\n        );\n    };\n\n    _event.settings = (...args) => {\n        if (!args.length) {\n            return settings;\n        }\n        settings = args[0];\n        return _event;\n    };\n\n    return _event;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { select } from \"d3\";\nimport { getChartContainer } from \"../plugin/root\";\nimport { getOrCreateElement, isElementOverflowing } from \"../utils/utils\";\nimport tooltipTemplate from \"../../html/tooltip.html\";\nimport { generateHtml } from \"./generateHTML\";\nimport { selectionEvent } from \"./selectionEvent\";\nimport { Settings } from \"../types\";\n\nexport interface ToolTip {\n    (selection: any): void; // double check the return value is void.\n\n    alwaysShow(): boolean;\n    alwaysShow(alwaysShow: boolean): ToolTip;\n\n    centered(): boolean;\n    centered(centered: boolean): ToolTip;\n\n    settings(): Settings;\n    settings(settings: Settings): ToolTip;\n}\n\nexport const tooltip = (): ToolTip => {\n    let alwaysShow = false;\n    let tooltipDiv = null;\n    let settings: Settings | null = null;\n    let centered = false;\n\n    const _tooltip: any = (selection) => {\n        const node = selection.node();\n\n        if (!node || !node.isConnected) {\n            hideTooltip(tooltipDiv);\n            return;\n        }\n\n        const container = select(getChartContainer(node));\n        tooltipDiv = getTooltipDiv(container);\n\n        const showTip = function (_event, data) {\n            generateHtml(tooltipDiv, data, settings);\n            const nodes = selection.nodes();\n            const i = nodes.indexOf(this);\n            showTooltip(container.node(), nodes[i], tooltipDiv, centered);\n            select(nodes[i]).style(\"opacity\", \"0.7\");\n        };\n\n        const hideTip = function (_event, _data) {\n            hideTooltip(tooltipDiv);\n            const nodes = selection.nodes();\n            const i = nodes.indexOf(this);\n            if (nodes) select(nodes[i]).style(\"opacity\", \"1\");\n        };\n\n        if (alwaysShow) {\n            selection.each(function (data) {\n                return showTip.call(this, undefined, data);\n            });\n        } else {\n            selection.on(\"mouseover\", showTip).on(\"mouseout\", hideTip);\n            selectionEvent().settings(settings)(selection);\n        }\n    };\n\n    _tooltip.alwaysShow = (...args: boolean[]): any => {\n        if (!args.length) {\n            return alwaysShow;\n        }\n        alwaysShow = args[0];\n        return _tooltip;\n    };\n\n    _tooltip.centered = (...args: boolean[]): any => {\n        if (!args.length) {\n            return centered;\n        }\n        centered = args[0];\n        return _tooltip;\n    };\n\n    _tooltip.settings = (...args: Settings[]): any => {\n        if (!args.length) {\n            return settings;\n        }\n        settings = args[0];\n        return _tooltip;\n    };\n\n    return _tooltip;\n};\n\nfunction getTooltipDiv(container) {\n    return getOrCreateElement(container, \"div.tooltip\", () =>\n        container\n            .append(\"div\")\n            .attr(\"class\", \"tooltip\")\n            .style(\"z-index\", 3)\n            .style(\"opacity\", 0)\n            .html(tooltipTemplate)\n    );\n}\n\nfunction showTooltip(containerNode, node, tooltipDiv, centered) {\n    const containerRect = containerNode.getBoundingClientRect();\n    const rect = node.getBoundingClientRect();\n\n    let left = rect.left + rect.width / 2 - containerRect.left;\n    let top = rect.top - containerRect.top + containerNode.scrollTop;\n\n    if (centered)\n        top =\n            rect.top +\n            rect.height / 2 -\n            containerRect.top +\n            containerNode.scrollTop;\n\n    tooltipDiv\n        .style(\"left\", `${left}px`)\n        .style(\"top\", `${top}px`)\n        // .transition()\n        // .duration(200)\n        .style(\"opacity\", 0.9);\n\n    if (centered) [left, top] = centerTip(tooltipDiv, containerRect);\n\n    shiftIfOverflowingChartArea(tooltipDiv, containerRect, left, top, centered);\n}\n\nfunction centerTip(tooltipDiv, containerRect) {\n    const tooltipDivRect = tooltipDiv.node().getBoundingClientRect();\n\n    const leftAdjust = tooltipDivRect.width / 2;\n    const newLeft = tooltipDivRect.left - leftAdjust - containerRect.left;\n    tooltipDiv.style(\"left\", `${newLeft}px`);\n\n    const topAdjust = tooltipDivRect.height / 2;\n    const newTop = tooltipDivRect.top - topAdjust - containerRect.top;\n    tooltipDiv.style(\"top\", `${newTop}px`);\n    return [newLeft, newTop];\n}\n\nfunction shiftIfOverflowingChartArea(\n    tooltipDiv,\n    containerRect,\n    left,\n    top,\n    centered = false\n) {\n    const tooltipDivRect = tooltipDiv.node().getBoundingClientRect();\n\n    if (isElementOverflowing(containerRect, tooltipDivRect)) {\n        const leftAdjust = tooltipDivRect.right - containerRect.right;\n        tooltipDiv.style(\"left\", `${left - leftAdjust}px`);\n    }\n\n    if (isElementOverflowing(containerRect, tooltipDivRect, \"bottom\")) {\n        const topAdjust = tooltipDivRect.bottom - containerRect.bottom;\n        tooltipDiv.style(\"top\", `${top - topAdjust}px`);\n    }\n\n    if (!centered) return;\n\n    if (isElementOverflowing(containerRect, tooltipDivRect, \"left\")) {\n        const leftAdjust = tooltipDivRect.left - containerRect.left;\n        tooltipDiv.style(\"left\", `${left - leftAdjust}px`);\n    }\n\n    if (isElementOverflowing(containerRect, tooltipDivRect, \"top\")) {\n        const topAdjust = tooltipDivRect.top - containerRect.top;\n        tooltipDiv.style(\"top\", `${top - topAdjust}px`);\n    }\n}\n\nfunction hideTooltip(tooltipDiv) {\n    if (tooltipDiv) {\n        tooltipDiv\n            // .transition()\n            // .duration(500)\n            .style(\"opacity\", 0);\n    }\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nexport function groupFromKey(key: string): string {\n    return key.split(\"|\").slice(0, -1).join(\"|\");\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { Settings } from \"../types\";\n\n/**\n *  This function filters settings.data to get values corresponding to an input column.\n * It accomodates for split-by.\n * @param {*} settings\n * @param {string} column\n */\nexport function getValuesByColumn(\n    settings: Settings,\n    column: string | null\n): any[] {\n    return settings.data\n        .map((row) =>\n            Object.entries(row)\n                .filter(([k, v]) => k.split(\"|\").at(-1) === column && !!v)\n                .map(([_, v]) => v)\n        )\n        .flat();\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport { groupFromKey } from \"./seriesKey\";\nimport { getValuesByColumn } from \"../data/utils\";\nimport { Settings } from \"../types\";\n\nexport function seriesColors(\n    settings: Settings\n): d3.ScaleOrdinal<string, unknown> | null {\n    const col =\n        settings.data && settings.data.length > 0 ? settings.data[0] : {};\n    const domain = Object.keys(col).filter((k) => k !== \"__ROW_PATH__\");\n    return colorScale().settings(settings).domain(domain)();\n}\n\nexport function seriesColorsFromColumn(\n    settings: Settings,\n    column\n): d3.ScaleOrdinal<string, unknown> | null {\n    const data = getValuesByColumn(settings, column);\n    const domain = [...new Set(data)].sort();\n    return colorScale().settings(settings).domain(domain)();\n}\n\nexport function seriesColorsFromDistinct(\n    settings: Settings,\n    data\n): d3.ScaleOrdinal<string, unknown> | null {\n    let domain = [...new Set(data)];\n    return colorScale().settings(settings).domain(domain)();\n}\n\nexport function seriesColorsFromGroups(\n    settings: Settings\n): d3.ScaleOrdinal<string, unknown> | null {\n    const col = settings.data[0] ?? {};\n    const inner = Object.keys(col)\n        .filter((k) => k !== \"__ROW_PATH__\")\n        .map((k) => groupFromKey(k));\n    const domain = [...new Set(inner)];\n    return colorScale().settings(settings).domain(domain)();\n}\n\ntype ColorScaleSettings = {\n    colorStyles?: any;\n};\n\ntype ColorScaleMapFunc = (d: any) => string;\n\ninterface ColorScale {\n    (): d3.ScaleOrdinal<string, unknown> | null;\n\n    settings(): Settings;\n    settings(nextSettings: Settings): ColorScale;\n\n    domain(): any[];\n    domain(nextDomain: any[]): ColorScale;\n\n    defaultColors(): string[];\n    defaultColors(nextDefaultColors: string[]): ColorScale;\n\n    mapFunction(): ColorScaleMapFunc;\n    mapFunction(nextMapFunction: ColorScaleMapFunc): ColorScale;\n}\n\nexport function colorScale(): ColorScale {\n    let domain = null;\n    let defaultColors: string[] | null = null;\n    let settings: ColorScaleSettings = {};\n    let mapFunction = (d) =>\n        withOpacity(d, settings.colorStyles && settings.colorStyles.opacity);\n\n    const colors: ColorScale = (): d3.ScaleOrdinal<string, unknown> | null => {\n        const styles = settings.colorStyles;\n        const defaults = defaultColors || [styles.series];\n        if (defaults || domain.length > 1) {\n            const range = domain.length > 1 ? styles.scheme : defaults;\n            return d3.scaleOrdinal(range.map(mapFunction)).domain(domain); // ordinal.js\n        }\n        return null;\n    };\n\n    colors.domain = (...args: any[][]): any => {\n        if (args.length === 0) {\n            return domain;\n        }\n        domain = args[0];\n        return colors;\n    };\n\n    colors.defaultColors = (...args: string[][]): any => {\n        if (!args.length) {\n            return defaultColors;\n        }\n        defaultColors = args[0];\n        return colors;\n    };\n\n    colors.mapFunction = (...args: ColorScaleMapFunc[]): any => {\n        if (!args.length) {\n            return mapFunction;\n        }\n        mapFunction = args[0];\n        return colors;\n    };\n\n    colors.settings = (...args: Settings[]): any => {\n        if (!args.length) {\n            return settings;\n        }\n        settings = args[0];\n\n        return colors;\n    };\n\n    return colors as ColorScale;\n}\n\nexport function withoutOpacity(color) {\n    return setOpacity(1)(color);\n}\n\nexport function withOpacity(color, opacity = 0.5) {\n    return setOpacity(opacity)(color);\n}\n\nexport function setOpacity(opacity) {\n    return (color) => {\n        const decoded = d3.color(color);\n        if (decoded !== null && decoded !== undefined) {\n            decoded.opacity = opacity;\n        }\n        return decoded + \"\";\n    };\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { rebindAll } from \"d3fc\";\nimport { axisType } from \"./axisType\";\nimport { labelFunction as noLabel } from \"./noAxis\";\nimport { labelFunction as timeLabel } from \"./timeAxis\";\nimport { labelFunction as linearLabel } from \"./linearAxis\";\nimport { labelFunction as ordinalLabel } from \"./ordinalAxis\";\nimport { Settings } from \"../types\";\n\nconst labelFunctions = {\n    none: noLabel,\n    ordinal: ordinalLabel,\n    time: timeLabel,\n    linear: linearLabel,\n};\n\nexport interface LabelFunction {\n    // NOTE: this \"i\" is not used...\n    (d, i?: any): string;\n    valueName(): string;\n    valueName(nextValueName: string): this;\n}\n\nexport const labelFunction = (settings: Settings): LabelFunction => {\n    const base = axisType(settings);\n    let valueName = \"__ROW_PATH__\";\n\n    const label: Partial<LabelFunction> = (d, _i) => {\n        return labelFunctions[base()](valueName)(d);\n    };\n\n    rebindAll(label, base);\n\n    label.valueName = (...args: string[]): any => {\n        if (!args.length) {\n            return valueName;\n        }\n\n        valueName = args[0];\n        return label;\n    };\n\n    return label as LabelFunction;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { Settings } from \"../types\";\n\nexport function splitIntoMultiSeries(\n    settings: Settings,\n    data,\n    { stack = false, excludeEmpty = false } = {}\n) {\n    const useData = data || settings.data;\n\n    if (settings.splitValues.length > 0) {\n        return splitByValuesIntoMultiSeries(settings, useData, {\n            stack,\n            excludeEmpty,\n        });\n    }\n    return [useData];\n}\n\nfunction splitByValuesIntoMultiSeries(\n    settings,\n    data,\n    { stack = false, excludeEmpty = false }\n) {\n    // Create a series for each \"split\" value, each one containing all the\n    // \"aggregate\" values, and \"base\" values to offset it from the previous\n    // series\n    const multiSeries = {};\n\n    data.forEach((col) => {\n        // Split this column by \"split\", including multiple aggregates for each\n        const baseValues = {};\n        const split = {};\n\n        // Keys are of the form \"split1|split2|aggregate\"\n        Object.keys(col)\n            .filter((key) => key !== \"__ROW_PATH__\")\n            .filter(\n                (key) =>\n                    !excludeEmpty || (col[key] != null && col[key] != undefined)\n            )\n            .forEach((key) => {\n                const labels = key.split(\"|\");\n                // label=\"aggregate\"\n                const label = labels[labels.length - 1];\n                const value = col[key] || 0;\n                const baseKey = `${label}${value >= 0 ? \"+ve\" : \"-ve\"}`;\n                // splitName=\"split1|split2\"\n                const splitName = labels.slice(0, labels.length - 1).join(\"|\");\n\n                // Combine aggregate values for the same split in a single\n                // object\n                const splitValues = (split[splitName] = split[splitName] || {\n                    __ROW_PATH__: col.__ROW_PATH__,\n                });\n                const baseValue = baseValues[baseKey] || 0;\n\n                splitValues.__KEY__ = splitName;\n\n                // Assign the values for this split/aggregate\n                if (stack) {\n                    splitValues[label] = baseValue + value;\n                    splitValues[`__BASE_VALUE__${label}`] = baseValue;\n                    baseValues[baseKey] = splitValues[label];\n                } else {\n                    splitValues[label] = value;\n                }\n                splitValues.row = col;\n            });\n\n        // Push each object onto the correct series\n        Object.keys(split).forEach((splitName) => {\n            const series = (multiSeries[splitName] =\n                multiSeries[splitName] || []);\n            series.push(split[splitName]);\n        });\n    });\n\n    return Object.keys(multiSeries).map((k) => {\n        const series = multiSeries[k];\n        series.key = k;\n        return series;\n    });\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { labelFunction } from \"../axis/axisLabel\";\nimport { Settings } from \"../types\";\nimport { splitIntoMultiSeries } from \"./splitIntoMultiSeries\";\n\nexport function groupData(settings: Settings, data: any[]): any[] {\n    const stack = { stack: false };\n    const groupedSeries = splitIntoMultiSeries(settings, data, stack).map(\n        (data) => groupPointDataByMainValue(settings, data, stack)\n    );\n\n    if (settings.mainValues.length > 1) {\n        const flattenedSeries: any[] = groupedSeries.reduce((a, b) =>\n            a.concat(b)\n        );\n        return flattenedSeries;\n    }\n\n    return groupedSeries;\n}\n\nexport function groupAndStackData(settings: Settings, data) {\n    const stack = { stack: true };\n    return splitIntoMultiSeries(settings, data, stack).map((data) =>\n        groupPointDataByMainValue(settings, data, stack)\n    );\n}\n\nfunction seriesDataFn(settings: Settings, data, { stack = false }) {\n    const labelfn = labelFunction(settings);\n\n    return (mainValue) => {\n        const baseValue = (col) =>\n            stack ? col[`__BASE_VALUE__${mainValue.name}`] || 0 : 0;\n        const series = data.map((col, i) => ({\n            crossValue: labelfn(col, i),\n            mainValue: !!col[mainValue.name] ? col[mainValue.name] : null,\n            baseValue: baseValue(col),\n            key: col.__KEY__\n                ? `${col.__KEY__}|${mainValue.name}`\n                : mainValue.name,\n            row: col.row || col,\n        }));\n        series.key = series[0].key;\n        return series;\n    };\n}\n\nfunction groupPointDataByMainValue(\n    settings: Settings,\n    data,\n    { stack = false }\n) {\n    // Split data into a group for each aggregate (mainValue)\n    const seriesFn = seriesDataFn(settings, data, { stack });\n\n    if (settings.mainValues.length > 1) {\n        return settings.mainValues.map(seriesFn);\n    } else {\n        return seriesFn(settings.mainValues[0]);\n    }\n}\n", "export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n", "import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n", "import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n", "var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n", "var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n", "var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n", "function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n", "import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n", "function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n", "import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n", "import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n", "export default function(update) {\n  return new Array(update.length);\n}\n", "import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n", "export default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like \u201C__proto__\u201D.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don\u2019t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n", "import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n", "import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n", "export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n", "import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n", "export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n", "export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n", "export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n", "export default function() {\n  return !this.node();\n}\n", "export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n", "import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n", "export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n", "import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  var node;\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : defaultView(node = this.node())\n          .getComputedStyle(node, null)\n          .getPropertyValue(name);\n}\n", "function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n", "function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n", "function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n", "function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n", "function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n", "function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n", "import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n", "import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n", "function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n", "export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n", "import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (event) {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n", "import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n", "import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n", "export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n", "import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n", "var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n", "import range from \"./range\";\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var step = tickStep(start, stop, count);\n  return range(\n    Math.ceil(start / step) * step,\n    Math.floor(stop / step) * step + step / 2, // inclusive\n    step\n  );\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n", "export default function(array, f) {\n  var i = -1,\n      n = array.length,\n      a,\n      b;\n\n  if (f == null) {\n    while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n  }\n\n  else {\n    while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = f(array[i], i, array)) != null && b > a) a = b;\n  }\n\n  return a;\n}\n", "export default function(array, f) {\n  var s = 0,\n      n = array.length,\n      a,\n      i = -1;\n\n  if (f == null) {\n    while (++i < n) if (a = +array[i]) s += a; // Note: zero and null are equivalent.\n  }\n\n  else {\n    while (++i < n) if (a = +f(array[i], i, array)) s += a;\n  }\n\n  return s;\n}\n", "import { select } from \"d3-selection\"\nimport { format, formatPrefix } from \"d3-format\"\n\nconst d3_identity = d => d\n\nconst d3_reverse = arr => {\n  const mirror = []\n  for (let i = 0, l = arr.length; i < l; i++) {\n    mirror[i] = arr[l - i - 1]\n  }\n  return mirror\n}\n\n//Text wrapping code adapted from Mike Bostock\nconst d3_textWrapping = (text, width) => {\n  text.each(function() {\n    var text = select(this),\n      words = text\n        .text()\n        .split(/\\s+/)\n        .reverse(),\n      word,\n      line = [],\n      lineNumber = 0,\n      lineHeight = 1.2, //ems\n      y = text.attr(\"y\"),\n      dy = parseFloat(text.attr(\"dy\")) || 0,\n      tspan = text\n        .text(null)\n        .append(\"tspan\")\n        .attr(\"x\", 0)\n        .attr(\"dy\", dy + \"em\")\n\n    while ((word = words.pop())) {\n      line.push(word)\n      tspan.text(line.join(\" \"))\n      if (tspan.node().getComputedTextLength() > width && line.length > 1) {\n        line.pop()\n        tspan.text(line.join(\" \"))\n        line = [word]\n        tspan = text\n          .append(\"tspan\")\n          .attr(\"x\", 0)\n          .attr(\"dy\", lineHeight + dy + \"em\")\n          .text(word)\n      }\n    }\n  })\n}\n\nconst d3_mergeLabels = (gen = [], labels, domain, range, labelDelimiter) => {\n  if (typeof labels === \"object\") {\n    if (labels.length === 0) return gen\n\n    let i = labels.length\n    for (; i < gen.length; i++) {\n      labels.push(gen[i])\n    }\n    return labels\n  } else if (typeof labels === \"function\") {\n    const customLabels = []\n    const genLength = gen.length\n    for (let i = 0; i < genLength; i++) {\n      customLabels.push(\n        labels({\n          i,\n          genLength,\n          generatedLabels: gen,\n          domain,\n          range,\n          labelDelimiter\n        })\n      )\n    }\n    return customLabels\n  }\n\n  return gen\n}\n\nconst d3_linearLegend = (scale, cells, labelFormat) => {\n  let data = []\n\n  if (cells.length > 1) {\n    data = cells\n  } else {\n    const domain = scale.domain(),\n      increment = (domain[domain.length - 1] - domain[0]) / (cells - 1)\n    let i = 0\n\n    for (; i < cells; i++) {\n      data.push(domain[0] + i * increment)\n    }\n  }\n\n  const labels = data.map(labelFormat)\n  return {\n    data: data,\n    labels: labels,\n    feature: d => scale(d)\n  }\n}\n\nconst d3_quantLegend = (scale, labelFormat, labelDelimiter) => {\n  const labels = scale.range().map(d => {\n    const invert = scale.invertExtent(d)\n    return (\n      labelFormat(invert[0]) +\n      \" \" +\n      labelDelimiter +\n      \" \" +\n      labelFormat(invert[1])\n    )\n  })\n\n  return {\n    data: scale.range(),\n    labels: labels,\n    feature: d3_identity\n  }\n}\n\nconst d3_ordinalLegend = scale => ({\n  data: scale.domain(),\n  labels: scale.domain(),\n  feature: d => scale(d)\n})\n\nconst d3_cellOver = (cellDispatcher, d, obj) => {\n  cellDispatcher.call(\"cellover\", obj, d)\n}\n\nconst d3_cellOut = (cellDispatcher, d, obj) => {\n  cellDispatcher.call(\"cellout\", obj, d)\n}\n\nconst d3_cellClick = (cellDispatcher, d, obj) => {\n  cellDispatcher.call(\"cellclick\", obj, d)\n}\n\nexport default {\n  d3_drawShapes: (\n    shape,\n    shapes,\n    shapeHeight,\n    shapeWidth,\n    shapeRadius,\n    path\n  ) => {\n    if (shape === \"rect\") {\n      shapes.attr(\"height\", shapeHeight).attr(\"width\", shapeWidth)\n    } else if (shape === \"circle\") {\n      shapes.attr(\"r\", shapeRadius)\n    } else if (shape === \"line\") {\n      shapes\n        .attr(\"x1\", 0)\n        .attr(\"x2\", shapeWidth)\n        .attr(\"y1\", 0)\n        .attr(\"y2\", 0)\n    } else if (shape === \"path\") {\n      shapes.attr(\"d\", path)\n    }\n  },\n\n  d3_addText: function(svg, enter, labels, classPrefix, labelWidth) {\n    enter.append(\"text\").attr(\"class\", classPrefix + \"label\")\n    const text = svg\n      .selectAll(`g.${classPrefix}cell text.${classPrefix}label`)\n      .data(labels)\n      .text(d3_identity)\n\n    if (labelWidth) {\n      svg\n        .selectAll(`g.${classPrefix}cell text.${classPrefix}label`)\n        .call(d3_textWrapping, labelWidth)\n    }\n\n    return text\n  },\n\n  d3_calcType: function(\n    scale,\n    ascending,\n    cells,\n    labels,\n    labelFormat,\n    labelDelimiter\n  ) {\n    const type = scale.invertExtent\n      ? d3_quantLegend(scale, labelFormat, labelDelimiter)\n      : scale.ticks\n        ? d3_linearLegend(scale, cells, labelFormat)\n        : d3_ordinalLegend(scale)\n\n    //for d3.scaleSequential that doesn't have a range function\n    const range = (scale.range && scale.range()) || scale.domain()\n    type.labels = d3_mergeLabels(\n      type.labels,\n      labels,\n      scale.domain(),\n      range,\n      labelDelimiter\n    )\n\n    if (ascending) {\n      type.labels = d3_reverse(type.labels)\n      type.data = d3_reverse(type.data)\n    }\n\n    return type\n  },\n\n  d3_filterCells: (type, cellFilter) => {\n    let filterCells = type.data\n      .map((d, i) => ({ data: d, label: type.labels[i] }))\n      .filter(cellFilter)\n    const dataValues = filterCells.map(d => d.data)\n    const labelValues = filterCells.map(d => d.label)\n    type.data = type.data.filter(d => dataValues.indexOf(d) !== -1)\n    type.labels = type.labels.filter(d => labelValues.indexOf(d) !== -1)\n    return type\n  },\n\n  d3_placement: (orient, cell, cellTrans, text, textTrans, labelAlign) => {\n    cell.attr(\"transform\", cellTrans)\n    text.attr(\"transform\", textTrans)\n    if (orient === \"horizontal\") {\n      text.style(\"text-anchor\", labelAlign)\n    }\n  },\n\n  d3_addEvents: function(cells, dispatcher) {\n    cells\n      .on(\"mouseover.legend\", function(d) {\n        d3_cellOver(dispatcher, d, this)\n      })\n      .on(\"mouseout.legend\", function(d) {\n        d3_cellOut(dispatcher, d, this)\n      })\n      .on(\"click.legend\", function(d) {\n        d3_cellClick(dispatcher, d, this)\n      })\n  },\n\n  d3_title: (svg, title, classPrefix, titleWidth) => {\n    if (title !== \"\") {\n      const titleText = svg.selectAll(\"text.\" + classPrefix + \"legendTitle\")\n\n      titleText\n        .data([title])\n        .enter()\n        .append(\"text\")\n        .attr(\"class\", classPrefix + \"legendTitle\")\n\n      svg.selectAll(\"text.\" + classPrefix + \"legendTitle\").text(title)\n\n      if (titleWidth) {\n        svg\n          .selectAll(\"text.\" + classPrefix + \"legendTitle\")\n          .call(d3_textWrapping, titleWidth)\n      }\n\n      const cellsSvg = svg.select(\".\" + classPrefix + \"legendCells\")\n      const yOffset = svg\n          .select(\".\" + classPrefix + \"legendTitle\")\n          .nodes()\n          .map(d => d.getBBox().height)[0],\n        xOffset = -cellsSvg.nodes().map(function(d) {\n          return d.getBBox().x\n        })[0]\n      cellsSvg.attr(\"transform\", \"translate(\" + xOffset + \",\" + yOffset + \")\")\n    }\n  },\n\n  d3_defaultLocale: {\n    format,\n    formatPrefix\n  },\n\n  d3_defaultFormatSpecifier: \".01f\",\n\n  d3_defaultDelimiter: \"to\"\n}\n", "import helper from \"./legend\"\nimport { dispatch } from \"d3-dispatch\"\nimport { scaleLinear } from \"d3-scale\"\nimport { formatLocale, formatSpecifier } from \"d3-format\"\n\nimport { sum } from \"d3-array\"\n\nexport default function color() {\n  let scale = scaleLinear(),\n    shape = \"rect\",\n    shapeWidth = 15,\n    shapeHeight = 15,\n    shapeRadius = 10,\n    shapePadding = 2,\n    cells = [5],\n    cellFilter,\n    labels = [],\n    classPrefix = \"\",\n    useClass = false,\n    title = \"\",\n    locale = helper.d3_defaultLocale,\n    specifier = helper.d3_defaultFormatSpecifier,\n    labelOffset = 10,\n    labelAlign = \"middle\",\n    labelDelimiter = helper.d3_defaultDelimiter,\n    labelWrap,\n    orient = \"vertical\",\n    ascending = false,\n    path,\n    titleWidth,\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\")\n\n  function legend(svg) {\n    const type = helper.d3_calcType(\n        scale,\n        ascending,\n        cells,\n        labels,\n        locale.format(specifier),\n        labelDelimiter\n      ),\n      legendG = svg.selectAll(\"g\").data([scale])\n\n    legendG\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"legendCells\")\n\n    if (cellFilter) {\n      helper.d3_filterCells(type, cellFilter)\n    }\n\n    let cell = svg\n      .select(\".\" + classPrefix + \"legendCells\")\n      .selectAll(\".\" + classPrefix + \"cell\")\n      .data(type.data)\n\n    const cellEnter = cell\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"cell\")\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\n\n    let shapes = svg\n      .selectAll(\n        \"g.\" + classPrefix + \"cell \" + shape + \".\" + classPrefix + \"swatch\"\n      )\n      .data(type.data)\n\n    //add event handlers\n    helper.d3_addEvents(cellEnter, legendDispatcher)\n\n    cell\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n    shapes\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n\n    shapes = shapes.merge(shapes)\n\n    helper.d3_drawShapes(\n      shape,\n      shapes,\n      shapeHeight,\n      shapeWidth,\n      shapeRadius,\n      path\n    )\n    const text = helper.d3_addText(\n      svg,\n      cellEnter,\n      type.labels,\n      classPrefix,\n      labelWrap\n    )\n\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n    cell = cellEnter.merge(cell)\n\n    // sets placement\n    const textSize = text.nodes().map(d => d.getBBox()),\n      shapeSize = shapes.nodes().map(d => d.getBBox())\n    //sets scale\n    //everything is fill except for line which is stroke,\n    if (!useClass) {\n      if (shape == \"line\") {\n        shapes.style(\"stroke\", type.feature)\n      } else {\n        shapes.style(\"fill\", type.feature)\n      }\n    } else {\n      shapes.attr(\"class\", d => `${classPrefix}swatch ${type.feature(d)}`)\n    }\n\n    let cellTrans,\n      textTrans,\n      textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1\n\n    //positions cells and text\n    if (orient === \"vertical\") {\n      const cellSize = textSize.map((d, i) =>\n        Math.max(d.height, shapeSize[i].height)\n      )\n\n      cellTrans = (d, i) => {\n        const height = sum(cellSize.slice(0, i))\n        return `translate(0, ${height + i * shapePadding})`\n      }\n\n      textTrans = (d, i) =>\n        `translate( ${shapeSize[i].width +\n          shapeSize[i].x +\n          labelOffset}, ${shapeSize[i].y + shapeSize[i].height / 2 + 5})`\n    } else if (orient === \"horizontal\") {\n      cellTrans = (d, i) =>\n        `translate(${i * (shapeSize[i].width + shapePadding)},0)`\n      textTrans = (d, i) => `translate(${shapeSize[i].width * textAlign +\n        shapeSize[i].x},\n          ${shapeSize[i].height + shapeSize[i].y + labelOffset + 8})`\n    }\n\n    helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign)\n    helper.d3_title(svg, title, classPrefix, titleWidth)\n\n    cell.transition().style(\"opacity\", 1)\n  }\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale\n    scale = _\n    return legend\n  }\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells\n    if (_.length > 1 || _ >= 2) {\n      cells = _\n    }\n    return legend\n  }\n\n  legend.cellFilter = function(_) {\n    if (!arguments.length) return cellFilter\n    cellFilter = _\n    return legend\n  }\n\n  legend.shape = function(_, d) {\n    if (!arguments.length) return shape\n    if (\n      _ == \"rect\" ||\n      _ == \"circle\" ||\n      _ == \"line\" ||\n      (_ == \"path\" && typeof d === \"string\")\n    ) {\n      shape = _\n      path = d\n    }\n    return legend\n  }\n\n  legend.shapeWidth = function(_) {\n    if (!arguments.length) return shapeWidth\n    shapeWidth = +_\n    return legend\n  }\n\n  legend.shapeHeight = function(_) {\n    if (!arguments.length) return shapeHeight\n    shapeHeight = +_\n    return legend\n  }\n\n  legend.shapeRadius = function(_) {\n    if (!arguments.length) return shapeRadius\n    shapeRadius = +_\n    return legend\n  }\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding\n    shapePadding = +_\n    return legend\n  }\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels\n    labels = _\n    return legend\n  }\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _\n    }\n    return legend\n  }\n\n  legend.locale = function(_) {\n    if (!arguments.length) return locale\n    locale = formatLocale(_)\n    return legend\n  }\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return legend.locale().format(specifier)\n    specifier = formatSpecifier(_)\n    return legend\n  }\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset\n    labelOffset = +_\n    return legend\n  }\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter\n    labelDelimiter = _\n    return legend\n  }\n\n  legend.labelWrap = function(_) {\n    if (!arguments.length) return labelWrap\n    labelWrap = _\n    return legend\n  }\n\n  legend.useClass = function(_) {\n    if (!arguments.length) return useClass\n    if (_ === true || _ === false) {\n      useClass = _\n    }\n    return legend\n  }\n\n  legend.orient = function(_) {\n    if (!arguments.length) return orient\n    _ = _.toLowerCase()\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _\n    }\n    return legend\n  }\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending\n    ascending = !!_\n    return legend\n  }\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix\n    classPrefix = _\n    return legend\n  }\n\n  legend.title = function(_) {\n    if (!arguments.length) return title\n    title = _\n    return legend\n  }\n\n  legend.titleWidth = function(_) {\n    if (!arguments.length) return titleWidth\n    titleWidth = _\n    return legend\n  }\n\n  legend.textWrap = function(_) {\n    if (!arguments.length) return textWrap\n    textWrap = _\n    return legend\n  }\n\n  legend.on = function() {\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\n    return value === legendDispatcher ? legend : value\n  }\n\n  return legend\n}\n", "import helper from \"./legend\"\nimport { dispatch } from \"d3-dispatch\"\nimport { scaleLinear } from \"d3-scale\"\nimport { formatLocale, formatSpecifier } from \"d3-format\"\nimport { sum, max } from \"d3-array\"\n\nexport default function size() {\n  let scale = scaleLinear(),\n    shape = \"rect\",\n    shapeWidth = 15,\n    shapePadding = 2,\n    cells = [5],\n    cellFilter,\n    labels = [],\n    classPrefix = \"\",\n    title = \"\",\n    locale = helper.d3_defaultLocale,\n    specifier = helper.d3_defaultFormatSpecifier,\n    labelOffset = 10,\n    labelAlign = \"middle\",\n    labelDelimiter = helper.d3_defaultDelimiter,\n    labelWrap,\n    orient = \"vertical\",\n    ascending = false,\n    path,\n    titleWidth,\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\")\n\n  function legend(svg) {\n    const type = helper.d3_calcType(\n        scale,\n        ascending,\n        cells,\n        labels,\n        locale.format(specifier),\n        labelDelimiter\n      ),\n      legendG = svg.selectAll(\"g\").data([scale])\n\n    if (cellFilter) {\n      helper.d3_filterCells(type, cellFilter)\n    }\n\n    legendG\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"legendCells\")\n\n    let cell = svg\n      .select(\".\" + classPrefix + \"legendCells\")\n      .selectAll(\".\" + classPrefix + \"cell\")\n      .data(type.data)\n    const cellEnter = cell\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"cell\")\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\n\n    let shapes = svg.selectAll(\n      \"g.\" + classPrefix + \"cell \" + shape + \".\" + classPrefix + \"swatch\"\n    )\n\n    //add event handlers\n    helper.d3_addEvents(cellEnter, legendDispatcher)\n\n    cell\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n\n    shapes\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n    shapes = shapes.merge(shapes)\n\n    //creates shape\n    if (shape === \"line\") {\n      helper.d3_drawShapes(shape, shapes, 0, shapeWidth)\n      shapes.attr(\"stroke-width\", type.feature)\n    } else {\n      helper.d3_drawShapes(\n        shape,\n        shapes,\n        type.feature,\n        type.feature,\n        type.feature,\n        path\n      )\n    }\n\n    const text = helper.d3_addText(\n      svg,\n      cellEnter,\n      type.labels,\n      classPrefix,\n      labelWrap\n    )\n\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n    cell = cellEnter.merge(cell)\n\n    //sets placement\n\n    const textSize = text.nodes().map(d => d.getBBox()),\n      shapeSize = shapes.nodes().map((d, i) => {\n        const bbox = d.getBBox()\n        const stroke = scale(type.data[i])\n\n        if (shape === \"line\" && orient === \"horizontal\") {\n          bbox.height = bbox.height + stroke\n        } else if (shape === \"line\" && orient === \"vertical\") {\n          bbox.width = bbox.width\n        }\n        return bbox\n      })\n\n    const maxH = max(shapeSize, d => d.height + d.y),\n      maxW = max(shapeSize, d => d.width + d.x)\n\n    let cellTrans,\n      textTrans,\n      textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1\n\n    //positions cells and text\n    if (orient === \"vertical\") {\n      const cellSize = textSize.map((d, i) =>\n        Math.max(d.height, shapeSize[i].height)\n      )\n      const y =\n        shape == \"circle\" || shape == \"line\" ? shapeSize[0].height / 2 : 0\n      cellTrans = (d, i) => {\n        const height = sum(cellSize.slice(0, i))\n\n        return `translate(0, ${y + height + i * shapePadding})`\n      }\n\n      textTrans = (d, i) => `translate( ${maxW + labelOffset},\n          ${shapeSize[i].y + shapeSize[i].height / 2 + 5})`\n    } else if (orient === \"horizontal\") {\n      cellTrans = (d, i) => {\n        const width = sum(shapeSize.slice(0, i), d => d.width)\n        const y = shape == \"circle\" || shape == \"line\" ? maxH / 2 : 0\n        return `translate(${width + i * shapePadding}, ${y})`\n      }\n\n      const offset = shape == \"line\" ? maxH / 2 : maxH\n      textTrans = (d, i) => {\n        return `translate( ${shapeSize[i].width * textAlign + shapeSize[i].x},\n              ${offset + labelOffset})`\n      }\n    }\n\n    helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign)\n    helper.d3_title(svg, title, classPrefix, titleWidth)\n\n    cell.transition().style(\"opacity\", 1)\n  }\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale\n    scale = _\n    return legend\n  }\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells\n    if (_.length > 1 || _ >= 2) {\n      cells = _\n    }\n    return legend\n  }\n\n  legend.cellFilter = function(_) {\n    if (!arguments.length) return cellFilter\n    cellFilter = _\n    return legend\n  }\n\n  legend.shape = function(_, d) {\n    if (!arguments.length) return shape\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\") {\n      shape = _\n      path = d\n    }\n    return legend\n  }\n\n  legend.shapeWidth = function(_) {\n    if (!arguments.length) return shapeWidth\n    shapeWidth = +_\n    return legend\n  }\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding\n    shapePadding = +_\n    return legend\n  }\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels\n    labels = _\n    return legend\n  }\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _\n    }\n    return legend\n  }\n\n  legend.locale = function(_) {\n    if (!arguments.length) return locale\n    locale = formatLocale(_)\n    return legend\n  }\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return legend.locale().format(specifier)\n    specifier = formatSpecifier(_)\n    return legend\n  }\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset\n    labelOffset = +_\n    return legend\n  }\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter\n    labelDelimiter = _\n    return legend\n  }\n\n  legend.labelWrap = function(_) {\n    if (!arguments.length) return labelWrap\n    labelWrap = _\n    return legend\n  }\n\n  legend.orient = function(_) {\n    if (!arguments.length) return orient\n    _ = _.toLowerCase()\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _\n    }\n    return legend\n  }\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending\n    ascending = !!_\n    return legend\n  }\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix\n    classPrefix = _\n    return legend\n  }\n\n  legend.title = function(_) {\n    if (!arguments.length) return title\n    title = _\n    return legend\n  }\n\n  legend.titleWidth = function(_) {\n    if (!arguments.length) return titleWidth\n    titleWidth = _\n    return legend\n  }\n\n  legend.on = function() {\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\n    return value === legendDispatcher ? legend : value\n  }\n\n  return legend\n}\n", "import helper from \"./legend\"\nimport { dispatch } from \"d3-dispatch\"\nimport { scaleLinear } from \"d3-scale\"\nimport { formatLocale, formatSpecifier } from \"d3-format\"\nimport { sum, max } from \"d3-array\"\n\nexport default function symbol() {\n  let scale = scaleLinear(),\n    shape = \"path\",\n    shapeWidth = 15,\n    shapeHeight = 15,\n    shapeRadius = 10,\n    shapePadding = 5,\n    cells = [5],\n    cellFilter,\n    labels = [],\n    classPrefix = \"\",\n    title = \"\",\n    locale = helper.d3_defaultLocale,\n    specifier = helper.d3_defaultFormatSpecifier,\n    labelAlign = \"middle\",\n    labelOffset = 10,\n    labelDelimiter = helper.d3_defaultDelimiter,\n    labelWrap,\n    orient = \"vertical\",\n    ascending = false,\n    titleWidth,\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\")\n\n  function legend(svg) {\n    const type = helper.d3_calcType(\n        scale,\n        ascending,\n        cells,\n        labels,\n        locale.format(specifier),\n        labelDelimiter\n      ),\n      legendG = svg.selectAll(\"g\").data([scale])\n\n    if (cellFilter) {\n      helper.d3_filterCells(type, cellFilter)\n    }\n\n    legendG\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"legendCells\")\n\n    let cell = svg\n      .select(\".\" + classPrefix + \"legendCells\")\n      .selectAll(\".\" + classPrefix + \"cell\")\n      .data(type.data)\n    const cellEnter = cell\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"cell\")\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\n\n    let shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape + \".\" + classPrefix + \"swatch\")\n\n    //add event handlers\n    helper.d3_addEvents(cellEnter, legendDispatcher)\n\n    //remove old shapes\n    cell\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n    shapes\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n    shapes = shapes.merge(shapes)\n\n    helper.d3_drawShapes(\n      shape,\n      shapes,\n      shapeHeight,\n      shapeWidth,\n      shapeRadius,\n      type.feature\n    )\n    const text = helper.d3_addText(\n      svg,\n      cellEnter,\n      type.labels,\n      classPrefix,\n      labelWrap\n    )\n\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n    cell = cellEnter.merge(cell)\n\n    // sets placement\n    const textSize = text.nodes().map(d => d.getBBox()),\n      shapeSize = shapes.nodes().map(d => d.getBBox())\n\n    const maxH = max(shapeSize, d => d.height),\n      maxW = max(shapeSize, d => d.width)\n\n    let cellTrans,\n      textTrans,\n      textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1\n\n    //positions cells and text\n    if (orient === \"vertical\") {\n      const cellSize = textSize.map((d, i) => Math.max(maxH, d.height))\n\n      cellTrans = (d, i) => {\n        const height = sum(cellSize.slice(0, i))\n        return `translate(0, ${height + i * shapePadding} )`\n      }\n      textTrans = (d, i) => `translate( ${maxW + labelOffset},\n              ${shapeSize[i].y + shapeSize[i].height / 2 + 5})`\n    } else if (orient === \"horizontal\") {\n      cellTrans = (d, i) => `translate( ${i * (maxW + shapePadding)},0)`\n      textTrans = (d, i) => `translate( ${shapeSize[i].width * textAlign +\n        shapeSize[i].x},\n              ${maxH + labelOffset})`\n    }\n\n    helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign)\n    helper.d3_title(svg, title, classPrefix, titleWidth)\n    cell.transition().style(\"opacity\", 1)\n  }\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale\n    scale = _\n    return legend\n  }\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells\n    if (_.length > 1 || _ >= 2) {\n      cells = _\n    }\n    return legend\n  }\n\n  legend.cellFilter = function(_) {\n    if (!arguments.length) return cellFilter\n    cellFilter = _\n    return legend\n  }\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding\n    shapePadding = +_\n    return legend\n  }\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels\n    labels = _\n    return legend\n  }\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _\n    }\n    return legend\n  }\n\n  legend.locale = function(_) {\n    if (!arguments.length) return locale\n    locale = formatLocale(_)\n    return legend\n  }\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return legend.locale().format(specifier)\n    specifier = formatSpecifier(_)\n    return legend\n  }\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset\n    labelOffset = +_\n    return legend\n  }\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter\n    labelDelimiter = _\n    return legend\n  }\n\n  legend.labelWrap = function(_) {\n    if (!arguments.length) return labelWrap\n    labelWrap = _\n    return legend\n  }\n\n  legend.orient = function(_) {\n    if (!arguments.length) return orient\n    _ = _.toLowerCase()\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _\n    }\n    return legend\n  }\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending\n    ascending = !!_\n    return legend\n  }\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix\n    classPrefix = _\n    return legend\n  }\n\n  legend.title = function(_) {\n    if (!arguments.length) return title\n    title = _\n    return legend\n  }\n\n  legend.titleWidth = function(_) {\n    if (!arguments.length) return titleWidth\n    titleWidth = _\n    return legend\n  }\n\n  legend.on = function() {\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\n    return value === legendDispatcher ? legend : value\n  }\n\n  return legend\n}\n", "export const thresholdLabels = function({\n  i,\n  genLength,\n  generatedLabels,\n  labelDelimiter\n}) {\n  if (i === 0) {\n    const values = generatedLabels[i].split(` ${labelDelimiter} `)\n    return `Less than ${values[1]}`\n  } else if (i === genLength - 1) {\n    const values = generatedLabels[i].split(` ${labelDelimiter} `)\n    return `${values[0]} or more`\n  }\n  return generatedLabels[i]\n}\n\nexport default {\n  thresholdLabels\n}\n", "import legendColor from './src/color'\nimport legendSize from './src/size'\nimport legendSymbol from './src/symbol'\nimport legendHelpers from './src/helpers'\n\nexport { legendColor, legendSize, legendSymbol, legendHelpers }\n\nexport default {\n  legendColor,\n  legendSize,\n  legendSymbol,\n  legendHelpers\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3Legend from \"d3-svg-legend\";\nimport { rebindAll } from \"d3fc\";\nimport { getOrCreateElement } from \"../utils/utils\";\nimport legendControlsTemplate from \"../../html/legend-controls.html\";\nimport { cropCellContents } from \"./styling/cropCellContents\";\nimport { draggableComponent } from \"./styling/draggableComponent\";\nimport { resizableComponent } from \"./styling/resizableComponent\";\n\nconst averageCellHeightPx = 16;\nconst controlsHeightPx = 20;\n\nexport default (fromLegend, settings) => {\n    const legend = fromLegend || d3Legend.legendColor();\n\n    let domain = [];\n    let pageCount = 1;\n    let pageSize;\n    let pageIndex =\n        settings.legend && settings.legend.pageIndex\n            ? settings.legend.pageIndex\n            : 0;\n    let decorate: (...args: any[]) => void = () => {};\n    let draggable = draggableComponent().settings(settings);\n    let resizable;\n\n    const scrollableLegend = (selection) => {\n        domain = legend.scale().domain();\n\n        resizable = resizableComponent()\n            .settings(settings)\n            .maxHeight(domain.length * averageCellHeightPx + controlsHeightPx)\n            .on(\"resize\", () => render(selection));\n\n        resizable(selection);\n        draggable(selection);\n        render(selection);\n    };\n\n    const render = (selection) => {\n        calculatePageSize(selection);\n        renderControls(selection);\n        renderLegend(selection);\n        cropCellContents(selection);\n    };\n\n    const renderControls = (selection) => {\n        const controls = getLegendControls(selection);\n        controls.style(\"display\", pageCount <= 1 ? \"none\" : \"block\");\n\n        controls.select(\"#page-text\").text(`${pageIndex + 1}/${pageCount}`);\n\n        controls\n            .select(\"#up-arrow\")\n            .attr(\"class\", pageIndex === 0 ? \"disabled\" : \"\")\n            .on(\"click\", () => {\n                if (pageIndex > 0) {\n                    setPage(pageIndex - 1);\n                    render(selection);\n                }\n            });\n\n        controls\n            .select(\"#down-arrow\")\n            .attr(\"class\", pageIndex >= pageCount - 1 ? \"disabled\" : \"\")\n            .on(\"click\", () => {\n                if (pageIndex < pageCount - 1) {\n                    setPage(pageIndex + 1);\n                    render(selection);\n                }\n            });\n    };\n\n    const renderLegend = (selection) => {\n        if (pageCount > 1) legend.cellFilter(cellFilter());\n        selection.select(\"g.legendCells\").remove();\n\n        const legendElement = getLegendElement(selection);\n        legendElement.call(legend);\n\n        const cellContainerSize = selection\n            .select(\"g.legendCells\")\n            .node()\n            .getBBox();\n        legendElement.attr(\n            \"height\",\n            cellContainerSize.height + controlsHeightPx\n        );\n\n        decorate(selection);\n    };\n\n    const setPage = (index) => {\n        pageIndex = index;\n        settings.legend = { ...settings.legend, pageIndex };\n    };\n\n    const cellFilter = () => (_, i) =>\n        i >= pageSize * pageIndex && i < pageSize * pageIndex + pageSize;\n\n    const calculatePageSize = (selection) => {\n        const legendContainerRect = selection.node().getBoundingClientRect();\n        let proposedPageSize =\n            Math.floor(legendContainerRect.height / averageCellHeightPx) - 1;\n\n        // if page size is less than all legend items, leave space for the\n        // legend controls\n        pageSize =\n            proposedPageSize < domain.length\n                ? proposedPageSize - 1\n                : proposedPageSize;\n        pageCount = calculatePageCount(proposedPageSize);\n        pageIndex = Math.min(pageIndex, pageCount - 1);\n    };\n\n    const calculatePageCount = (pageSize) =>\n        Math.ceil(domain.length / pageSize);\n\n    const getLegendControls = (container) =>\n        getOrCreateElement(container, \".legend-controls\", () =>\n            container\n                .append(\"g\")\n                .attr(\"class\", \"legend-controls\")\n                .html(legendControlsTemplate)\n        );\n\n    const getLegendElement = (container) =>\n        getOrCreateElement(container, \".legend\", () =>\n            container.append(\"svg\").attr(\"class\", \"legend\")\n        );\n\n    scrollableLegend.decorate = (...args) => {\n        if (!args.length) {\n            return decorate;\n        }\n        decorate = args[0];\n        return scrollableLegend;\n    };\n\n    rebindAll(scrollableLegend, legend);\n\n    return scrollableLegend;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { isElementOverflowing } from \"../../utils/utils\";\n\nexport function cropCellContents(legendDiv) {\n    const legendCells = legendDiv.select(\"g.legendCells\");\n    const legendDivRect = legendDiv.node().getBoundingClientRect();\n\n    if (\n        !isElementOverflowing(\n            legendDivRect,\n            legendCells.node().getBoundingClientRect()\n        )\n    ) {\n        return;\n    }\n\n    const svg = legendDiv.select(\".legend\");\n\n    legendCells.selectAll(\".label\").text((d, i, nodes) => {\n        const cell = nodes[i];\n        if (isElementOverflowing(legendDivRect, cell.getBoundingClientRect())) {\n            const cutoffCharIndex = getCutoffCharacterIndex(\n                cell,\n                svg,\n                legendDivRect\n            );\n            return `${d.substring(0, cutoffCharIndex - 3)}...`;\n        } else {\n            return d;\n        }\n    });\n}\n\nfunction getCutoffCharacterIndex(cell, svg, legendDivRect) {\n    const cellRect = cell.getBoundingClientRect();\n    const cutoffCoord = svg.node().createSVGPoint();\n    // Sometimes the svg point can _just_ miss a character, so we fuzz it.\n    const fuzzyFactor = 3;\n    cutoffCoord.x = legendDivRect.right - cellRect.left - fuzzyFactor;\n    cutoffCoord.y = 0;\n    return cell.getCharNumAtPosition(cutoffCoord);\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport { isElementOverflowing } from \"../../utils/utils\";\nimport { getChartElement } from \"../../plugin/root\";\nimport { NodeRect, Orient } from \"../../types\";\n\nexport const margin = 10;\n\nexport type AdjustedOffsets = {\n    x: number;\n    y: number;\n};\n\nexport function enforceContainerBoundaries(\n    innerNode: Element,\n    offsetX: number,\n    offsetY: number\n): AdjustedOffsets {\n    const chartNodeRect: DOMRect = d3\n        .select(getChartElement(innerNode).getContainer())\n        .node()\n        .getBoundingClientRect();\n\n    const innerNodeRect: NodeRect = innerNode.getBoundingClientRect();\n\n    const draggedInnerNodeRect: NodeRect = {\n        top: innerNodeRect.top + offsetY - margin,\n        right: innerNodeRect.right + offsetX + margin,\n        bottom: innerNodeRect.bottom + offsetY + margin,\n        left: innerNodeRect.left + offsetX - margin,\n    };\n\n    const adjustedOffsets: AdjustedOffsets = { x: offsetX, y: offsetY };\n    const boundaries: { edge: Orient; dimension: \"x\" | \"y\" }[] = [\n        { edge: \"right\", dimension: \"x\" },\n        { edge: \"left\", dimension: \"x\" },\n        { edge: \"top\", dimension: \"y\" },\n        { edge: \"bottom\", dimension: \"y\" },\n    ];\n\n    boundaries.forEach((bound) => {\n        if (\n            isElementOverflowing(\n                chartNodeRect,\n                draggedInnerNodeRect,\n                bound.edge\n            )\n        ) {\n            const adjustment =\n                draggedInnerNodeRect[bound.edge] - chartNodeRect[bound.edge];\n            adjustedOffsets[bound.dimension] =\n                adjustedOffsets[bound.dimension] - adjustment;\n        }\n    });\n\n    return adjustedOffsets;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport { getChartContainer } from \"../../plugin/root\";\nimport {\n    enforceContainerBoundaries,\n    margin,\n} from \"./enforceContainerBoundaries\";\n\nconst resizeForDraggingEvent = \"resize.for-dragging\";\n\nexport function draggableComponent() {\n    let pinned = true;\n    let settings = null;\n\n    const draggable = (element) => {\n        const node = element.node();\n        const viewer = node.getRootNode().host.closest(\"perspective-viewer\");\n        node.style.cursor = \"move\";\n        if (settings.legend) {\n            node.style.left = settings.legend.left;\n            node.style.top = settings.legend.top;\n        }\n\n        const drag = d3\n            .drag<HTMLElement, unknown>()\n            .on(\"drag\", function (event) {\n                const offsets = enforceContainerBoundaries(\n                    this,\n                    event.dx,\n                    event.dy\n                );\n\n                this.style.left = `${this.offsetLeft + offsets.x}px`;\n                this.style.top = `${this.offsetTop + offsets.y}px`;\n                const position = {\n                    left: this.style.left,\n                    top: this.style.top,\n                };\n                settings.legend = { ...settings.legend, ...position };\n\n                pinned = isNodeInTopRight(node)\n                    ? pinNodeToTopRight(node)\n                    : unpinNodeFromTopRight(node, pinned);\n            });\n\n        drag.on(\"end\", function (event) {\n            d3.select(window).on(resizeForDraggingEvent, null);\n            viewer?.dispatchEvent(new Event(\"perspective-config-update\"));\n        });\n\n        element.call(drag);\n    };\n\n    draggable.settings = (...args) => {\n        if (!args.length) {\n            return settings;\n        }\n        settings = args[0];\n        return draggable;\n    };\n\n    return draggable;\n}\n\nfunction unpinNodeFromTopRight(node, pinned) {\n    if (pinned !== false) {\n        // Default behaviour for the legend is to remain pinned to the top right\n        // hand corner with a specific margin. Once the legend has moved we\n        // cannot continue to use that css based approach.\n        d3.select(window).on(resizeForDraggingEvent, function () {\n            const offsets = enforceContainerBoundaries(node, 0, 0);\n            node.style.left = `${node.offsetLeft + offsets.x}px`;\n            node.style.top = `${node.offsetTop + offsets.y}px`;\n        });\n    }\n    return false;\n}\n\nfunction pinNodeToTopRight(node) {\n    d3.select(window).on(resizeForDraggingEvent, null);\n    node.style.left = \"auto\";\n    return true;\n}\n\nfunction isNodeInTopRight(node) {\n    const nodeRect = node.getBoundingClientRect();\n    const containerRect = d3\n        .select(getChartContainer(node))\n        .node()\n        .getBoundingClientRect();\n\n    const fuzz = 5;\n\n    return (\n        nodeRect.right + margin + fuzz >= containerRect.right &&\n        nodeRect.top - margin - fuzz <= containerRect.top\n    );\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport { enforceContainerBoundaries } from \"./enforceContainerBoundaries\";\n\nconst horizontalHandleClass = \"horizontal-drag-handle\";\nconst verticalHandleClass = \"vertical-drag-handle\";\nconst cornerHandleClass = \"corner-drag-handle\";\n\nconst handlesContainerId = \"dragHandles\";\n\nconst fillOpacity = 0.0;\nconst resizeEvent = \"resize\";\n\nexport function resizableComponent() {\n    let handleWidthPx = 9;\n    let zIndex = 3;\n    let settings = null;\n    const minDimensionsPx = { height: 100, width: 100 };\n    const maxDimensionsPx = { height: null, width: null };\n\n    const callbacks: { event: any; execute: Function }[] = [];\n    const executeCallbacks = (event, direction) =>\n        callbacks\n            .filter((callback) => callback.event === event)\n            .forEach((callback) => callback.execute(direction));\n\n    const resizable = (container) => {\n        if (handlesContainerExists(container)) {\n            return;\n        }\n\n        const dragHelper = {\n            left: (event) =>\n                executeCallbacks(resizeEvent, {\n                    horizontal: dragLeft(event),\n                    vertical: false,\n                }),\n            top: (event) =>\n                executeCallbacks(resizeEvent, {\n                    horizontal: false,\n                    vertical: dragTop(event),\n                }),\n            right: (event) =>\n                executeCallbacks(resizeEvent, {\n                    horizontal: dragRight(event),\n                    vertical: false,\n                }),\n            bottom: (event) =>\n                executeCallbacks(resizeEvent, {\n                    horizontal: false,\n                    vertical: dragBottom(event),\n                }),\n            topleft: (event) =>\n                executeCallbacks(resizeEvent, {\n                    horizontal: dragLeft(event),\n                    vertical: dragTop(event),\n                }),\n            topright: (event) =>\n                executeCallbacks(resizeEvent, {\n                    horizontal: dragRight(event),\n                    vertical: dragTop(event),\n                }),\n            bottomright: (event) =>\n                executeCallbacks(resizeEvent, {\n                    horizontal: dragRight(event),\n                    vertical: dragBottom(event),\n                }),\n            bottomleft: (event) =>\n                executeCallbacks(resizeEvent, {\n                    horizontal: dragLeft(event),\n                    vertical: dragBottom(event),\n                }),\n        };\n\n        const containerNode = container.node();\n        if (settings.legend) {\n            containerNode.style.height = settings.legend.height;\n            containerNode.style.width = settings.legend.width;\n        }\n\n        const containerRect: DOMRect = containerNode.getBoundingClientRect();\n        const handles: d3.Selection<SVGElement, unknown, undefined, unknown> =\n            container\n                .append(\"svg\")\n                .attr(\"id\", handlesContainerId)\n                .attr(\"width\", containerRect.width)\n                .attr(\"height\", containerRect.height);\n\n        const handlesGroup = handles.append(\"g\");\n\n        const isVertical = (d) => d === \"left\" || d === \"right\";\n        const xCoordHelper = {\n            left: 0,\n            top: handleWidthPx,\n            right: containerRect.width - handleWidthPx,\n            bottom: handleWidthPx,\n        };\n        const yCoordHelper = {\n            left: handleWidthPx,\n            top: 0,\n            right: handleWidthPx,\n            bottom: containerRect.height - handleWidthPx,\n        };\n        const edgeHandles = [\"left\", \"top\", \"right\", \"bottom\"];\n        const [leftHandle, topHandle, rightHandle, bottomHandle] =\n            edgeHandles.map((edge) =>\n                handlesGroup\n                    .append(\"rect\")\n                    .attr(\"id\", `drag${edge}`)\n                    .attr(\n                        \"class\",\n                        isVertical(edge)\n                            ? verticalHandleClass\n                            : horizontalHandleClass\n                    )\n                    .attr(\"y\", yCoordHelper[edge])\n                    .attr(\"x\", xCoordHelper[edge])\n                    .attr(\n                        \"height\",\n                        isVertical(edge)\n                            ? containerRect.height - handleWidthPx * 2\n                            : handleWidthPx\n                    )\n                    .attr(\n                        \"width\",\n                        isVertical(edge)\n                            ? handleWidthPx\n                            : containerRect.width - handleWidthPx * 2\n                    )\n                    .attr(\"fill\", isVertical(edge) ? \"lightgreen\" : \"lightblue\")\n                    .attr(\"fill-opacity\", fillOpacity)\n                    .style(\"z-index\", zIndex)\n                    .attr(\n                        \"cursor\",\n                        isVertical(edge) ? \"ew-resize\" : \"ns-resize\"\n                    )\n                    .call(d3.drag().on(\"drag\", dragHelper[edge]))\n            );\n\n        const concatCornerEdges = (corner) => `${corner[0]}${corner[1]}`;\n        const cornerCursorHelper = {\n            topleft: \"nwse\",\n            topright: \"nesw\",\n            bottomright: \"nwse\",\n            bottomleft: \"nesw\",\n        };\n        const cornerHandles = [\n            [\"top\", \"left\"],\n            [\"top\", \"right\"],\n            [\"bottom\", \"right\"],\n            [\"bottom\", \"left\"],\n        ];\n        const [\n            topLeftHandle,\n            topRightHandle,\n            bottomRightHandle,\n            bottomLeftHandle,\n        ] = cornerHandles.map((corner) =>\n            handlesGroup\n                .append(\"rect\")\n                .attr(\"id\", `drag${concatCornerEdges(corner)}`)\n                .attr(\"class\", `${cornerHandleClass} ${corner[0]} ${corner[1]}`)\n                .attr(\"height\", handleWidthPx)\n                .attr(\"width\", handleWidthPx)\n                .attr(\"fill\", \"red\")\n                .attr(\"fill-opacity\", fillOpacity)\n                .style(\"z-index\", zIndex)\n                .attr(\n                    \"cursor\",\n                    `${cornerCursorHelper[concatCornerEdges(corner)]}-resize`\n                )\n                .call(\n                    d3.drag().on(\"drag\", dragHelper[concatCornerEdges(corner)])\n                )\n        );\n\n        enforceMaxDimensions(\"height\", \"y\", bottomHandle);\n        enforceMaxDimensions(\"width\", \"x\", rightHandle);\n        pinCorners(handles);\n\n        function dragLeft(event) {\n            const offset = enforceDistToParallelBarConstraints(\n                enforceContainerBoundaries(leftHandle.node(), event.x, 0).x,\n                handles,\n                \"width\",\n                (x, y) => x - y\n            );\n            containerNode.style.left = `${containerNode.offsetLeft + offset}px`;\n            containerNode.style.width = `${\n                containerNode.offsetWidth - offset\n            }px`;\n            updateSettings();\n            return resizeAndRelocateHandles(rightHandle, offset, \"width\", \"x\");\n        }\n\n        function dragRight(event) {\n            const offset = -enforceDistToParallelBarConstraints(\n                enforceContainerBoundaries(rightHandle.node(), event.dx, 0).x,\n                handles,\n                \"width\",\n                (x, y) => x + y\n            );\n            if (\n                pointerFallenBehindAbsoluteCoordinates(\n                    offset,\n                    \"x\",\n                    rightHandle,\n                    event\n                )\n            )\n                return false;\n            containerNode.style.width = `${\n                containerNode.offsetWidth - offset\n            }px`;\n            updateSettings();\n            return resizeAndRelocateHandles(rightHandle, offset, \"width\", \"x\");\n        }\n\n        function dragTop(event) {\n            const offset = enforceDistToParallelBarConstraints(\n                enforceContainerBoundaries(topHandle.node(), 0, event.y).y,\n                handles,\n                \"height\",\n                (x, y) => x - y\n            );\n            containerNode.style.top = `${containerNode.offsetTop + offset}px`;\n            containerNode.style.height = `${\n                containerNode.offsetHeight - offset\n            }px`;\n            updateSettings();\n            return resizeAndRelocateHandles(\n                bottomHandle,\n                offset,\n                \"height\",\n                \"y\"\n            );\n        }\n\n        function dragBottom(event) {\n            const offset = -enforceDistToParallelBarConstraints(\n                enforceContainerBoundaries(bottomHandle.node(), 0, event.dy).y,\n                handles,\n                \"height\",\n                (x, y) => x + y\n            );\n            if (\n                pointerFallenBehindAbsoluteCoordinates(\n                    offset,\n                    \"y\",\n                    bottomHandle,\n                    event\n                )\n            )\n                return false;\n            containerNode.style.height = `${\n                containerNode.offsetHeight - offset\n            }px`;\n            updateSettings();\n            return resizeAndRelocateHandles(\n                bottomHandle,\n                offset,\n                \"height\",\n                \"y\"\n            );\n        }\n\n        function updateSettings() {\n            const dimensions = {\n                top: containerNode.style.top,\n                left: containerNode.style.left,\n                height: containerNode.style.height,\n                width: containerNode.style.width,\n            };\n            settings.legend = { ...settings.legend, ...dimensions };\n        }\n\n        function resizeAndRelocateHandles(handle, offset, dimension, axis) {\n            extendHandlesBox(handles, dimension, offset);\n            pinHandleToHandleBoxEdge(handle, axis, offset);\n            extendPerpendicularHandles(\n                handles,\n                offset,\n                dimension,\n                dimension === \"height\"\n                    ? verticalHandleClass\n                    : horizontalHandleClass\n            );\n            pinCorners(handles);\n            return offset != 0;\n        }\n\n        function pinCorners(handles) {\n            topLeftHandle.attr(\"y\", 0);\n            topRightHandle\n                .attr(\"y\", 0)\n                .attr(\"x\", handles.attr(\"width\") - handleWidthPx);\n            bottomRightHandle\n                .attr(\"y\", handles.attr(\"height\") - handleWidthPx)\n                .attr(\"x\", handles.attr(\"width\") - handleWidthPx);\n            bottomLeftHandle\n                .attr(\"y\", handles.attr(\"height\") - handleWidthPx)\n                .attr(\"x\", 0);\n        }\n\n        function enforceMaxDimensions(dimension, axis, relativeHandle) {\n            if (\n                !!maxDimensionsPx[dimension] &&\n                maxDimensionsPx[dimension] < containerRect[dimension]\n            ) {\n                containerNode.style[\n                    dimension\n                ] = `${maxDimensionsPx[dimension]}px`;\n                resizeAndRelocateHandles(\n                    relativeHandle,\n                    containerRect[dimension] - maxDimensionsPx[dimension],\n                    dimension,\n                    axis\n                );\n            }\n        }\n    };\n\n    resizable.on = (event, callback) => {\n        callbacks.push({ event: event, execute: callback });\n        return resizable;\n    };\n\n    resizable.zIndex = (input) => {\n        zIndex = input;\n        return resizable;\n    };\n\n    resizable.settings = (...args) => {\n        if (!args.length) {\n            return settings;\n        }\n        settings = args[0];\n        return resizable;\n    };\n\n    resizable.minWidth = (input) => {\n        minDimensionsPx.width = input;\n        if (!!maxDimensionsPx.width)\n            maxDimensionsPx.width = Math.max(\n                minDimensionsPx.width,\n                maxDimensionsPx.width\n            );\n        return resizable;\n    };\n\n    resizable.minHeight = (input) => {\n        minDimensionsPx.height = input;\n        if (!!maxDimensionsPx.height)\n            maxDimensionsPx.height = Math.max(\n                minDimensionsPx.height,\n                maxDimensionsPx.height\n            );\n        return resizable;\n    };\n\n    resizable.handleWidth = (input) => {\n        handleWidthPx = input;\n        return resizable;\n    };\n\n    resizable.maxWidth = (input) => {\n        maxDimensionsPx.width = input;\n        minDimensionsPx.width = Math.min(\n            minDimensionsPx.width,\n            maxDimensionsPx.width\n        );\n        return resizable;\n    };\n\n    resizable.maxHeight = (input) => {\n        maxDimensionsPx.height = input;\n        minDimensionsPx.height = Math.min(\n            minDimensionsPx.height,\n            maxDimensionsPx.height\n        );\n        return resizable;\n    };\n\n    function pointerFallenBehindAbsoluteCoordinates(\n        offset,\n        axis,\n        handle,\n        event\n    ) {\n        const becauseCrossedMinSize = (offset, axis, handle, event) =>\n            offset < 0 && event[axis] < Number(handle.attr(axis));\n        const becauseExitedCoordinateSpace = (offset, axis, handle, event) =>\n            offset > 0 && event[axis] > Number(handle.attr(axis));\n        return (\n            becauseCrossedMinSize(offset, axis, handle, event) ||\n            becauseExitedCoordinateSpace(offset, axis, handle, event)\n        );\n    }\n\n    function enforceDistToParallelBarConstraints(\n        offset,\n        dragHandleContainer,\n        dimension,\n        operatorFunction\n    ) {\n        const anticipatedDimension = operatorFunction(\n            Number(dragHandleContainer.attr(dimension)),\n            offset\n        );\n        if (anticipatedDimension < minDimensionsPx[dimension]) {\n            const difference =\n                minDimensionsPx[dimension] - anticipatedDimension;\n            return operatorFunction(offset, difference);\n        }\n        if (\n            !!maxDimensionsPx[dimension] &&\n            anticipatedDimension > maxDimensionsPx[dimension]\n        ) {\n            const difference =\n                maxDimensionsPx[dimension] - anticipatedDimension;\n            return operatorFunction(offset, difference);\n        }\n        return offset;\n    }\n\n    return resizable;\n}\n\n// \"dimension\" referring to width or height\nconst extendPerpendicularHandles = (\n    handles,\n    offset,\n    dimension,\n    orientationClass\n) => {\n    const perpendicularHandles = handles.selectAll(`.${orientationClass}`);\n    perpendicularHandles.each((_, i, nodes) => {\n        const handleNode = nodes[i];\n        const handleElement = d3.select(handleNode);\n        handleElement.attr(\n            dimension,\n            handleNode.getBoundingClientRect()[dimension] - offset\n        );\n    });\n};\n\nconst handlesContainerExists = (container) =>\n    container.select(`#${handlesContainerId}`).size() > 0;\n\nconst pinHandleToHandleBoxEdge = (handle, axis, offset) =>\n    handle.attr(axis, Number(handle.attr(axis)) - offset);\n\nconst extendHandlesBox = (handles, dimension, offset) =>\n    handles.attr(\n        dimension,\n        handles.node().getBoundingClientRect()[dimension] - offset\n    );\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport * as d3Legend from \"d3-svg-legend\";\nimport scrollableLegend from \"./scrollableLegend\";\nimport { withoutOpacity } from \"../series/seriesColors\";\nimport { getChartElement } from \"../plugin/root\";\nimport { getOrCreateElement } from \"../utils/utils\";\nimport { D3Scale } from \"../types\";\n\nexport type LegendComponentSettings = {\n    hideKeys?: any[];\n    mainValues?: any[];\n};\n\nconst scrollColorLegend = (settings) =>\n    scrollableLegend(\n        d3Legend.legendColor().shape(\"circle\").shapeRadius(6),\n        settings\n    );\n\nconst scrollSymbolLegend = (settings) =>\n    scrollableLegend(\n        d3Legend.legendSymbol().shapePadding(1).labelOffset(3),\n        settings\n    );\n\nexport const colorLegend = () => legendComponent(scrollColorLegend);\nexport const symbolLegend = () =>\n    legendComponent(scrollSymbolLegend, symbolScale);\nexport const colorGroupLegend = () =>\n    legendComponent(scrollColorLegend, symbolScale);\n\nfunction symbolScale(fromScale) {\n    if (!fromScale) return null;\n\n    const domain = fromScale.domain();\n    const range = fromScale.range().map((r) => d3.symbol().type(r)());\n\n    return d3.scaleOrdinal().domain(domain).range(range);\n}\n\ninterface LegendComponent {\n    (container): void;\n\n    settings(): LegendComponentSettings;\n    settings(nextSettings: LegendComponentSettings): LegendComponent;\n\n    scale(): D3Scale | null;\n    scale(nextScale: D3Scale | null): LegendComponent;\n\n    color(): d3.ScaleOrdinal<string, unknown>;\n    color(nextColor: d3.ScaleOrdinal<string, unknown>): LegendComponent;\n}\n\nfunction legendComponent(\n    scrollLegendComponent,\n    scaleModifier = undefined\n): LegendComponent {\n    let settings: LegendComponentSettings = {};\n    let scale = null; // type?\n    let color: D3Scale | null = null;\n\n    const legend: Partial<LegendComponent> = (container) => {\n        if (scale && scale.range().length > 1) {\n            const scrollLegend = scrollLegendComponent(settings);\n            scrollLegend\n                .scale(scale)\n                .orient(\"vertical\")\n                .on(\"cellclick\", function (_d) {\n                    // d3-svg-legend is very outdated and incompat with d3 6.x\n                    const d = this.__data__;\n                    settings.hideKeys = settings.hideKeys || [];\n                    if (settings.hideKeys.includes(d)) {\n                        settings.hideKeys = settings.hideKeys.filter(\n                            (k) => k !== d\n                        );\n                    } else {\n                        settings.hideKeys.push(d);\n                    }\n\n                    getChartElement(this)._draw();\n                });\n\n            scrollLegend.labels((options) => {\n                const parts = String(options.domain[options.i]).split(\"|\");\n                return settings.mainValues.length <= 1 && parts.length > 1\n                    ? parts.slice(0, parts.length - 1).join(\"|\")\n                    : options.domain[options.i];\n            });\n\n            const legendSelection = getOrCreateElement(\n                container,\n                \"div.legend-container\",\n                () => container.append(\"div\")\n            );\n\n            scrollLegend.decorate((selection) => {\n                const isHidden = (data) =>\n                    settings.hideKeys && settings.hideKeys.includes(data);\n\n                const cells = selection\n                    .select(\"g.legendCells\")\n                    .attr(\"transform\", \"translate(20,20)\")\n                    .selectAll(\"g.cell\");\n\n                cells.classed(\"hidden\", isHidden);\n                cells.append(\"title\").html((d) => d);\n\n                if (color) {\n                    cells\n                        .select(\"circle, path\")\n                        .style(\"fill\", (d) => (isHidden(d) ? null : color(d)))\n                        .style(\"stroke\", (d) =>\n                            isHidden(d) ? null : withoutOpacity(color(d))\n                        );\n                }\n            });\n\n            // render the legend\n            legendSelection\n                .attr(\"class\", \"legend-container\")\n                .attr(\"borderbox-on-hover\", true)\n                .style(\"z-index\", \"2\")\n                .call(scrollLegend);\n        }\n    };\n\n    legend.settings = (...args: LegendComponentSettings[]): any => {\n        if (args.length === 0) {\n            return settings;\n        }\n        settings = args[0];\n\n        return legend;\n    };\n\n    legend.scale = (...args: (D3Scale | null)[]): any => {\n        if (!args.length) {\n            return scale;\n        }\n        scale = scaleModifier ? scaleModifier(args[0]) : args[0];\n        return legend;\n    };\n\n    legend.color = (...args: D3Scale[]): any => {\n        if (!args.length) {\n            return color;\n        }\n        color = args[0];\n        return legend;\n    };\n\n    return legend as LegendComponent;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { groupFromKey } from \"../series/seriesKey\";\nimport { DataRowsWithKey, Settings } from \"../types\";\n\nexport function filterData(\n    settings: Settings,\n    data: any[] | undefined = undefined\n) {\n    const useData = data || settings.data;\n    const len = settings.hideKeys?.length ?? 0;\n    return len > 0\n        ? useData.map((col) => {\n              const clone = { ...col };\n              settings.hideKeys.forEach((k) => {\n                  delete clone[k];\n              });\n              return clone;\n          })\n        : useData;\n}\n\nexport function filterDataByGroup(settings: Settings): DataRowsWithKey {\n    const newData = settings.data;\n    const hideKeysLen = settings.hideKeys?.length ?? 0;\n    const splitValsLen = settings.splitValues.length;\n    return hideKeysLen > 0\n        ? splitValsLen === 0\n            ? newData.filter((row) => {\n                  return Object.values(row).reduce(\n                      (res, val) => res && !settings.hideKeys.includes(val),\n                      true\n                  );\n              })\n            : newData.map((row) => {\n                  const entries = Object.entries(row).filter(\n                      ([key, _val]) =>\n                          !settings.hideKeys.includes(groupFromKey(key))\n                  );\n                  return Object.fromEntries(entries);\n              })\n        : newData;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { D3Scale, Orientation } from \"../types\";\n\nconst mainGridSvg = (settings) => (x, xTick) =>\n    x\n        .style(\"stroke-width\", (xTick) => \"1.0\")\n        .style(\"stroke\", (xTick) => axis_color(xTick, settings));\n\nfunction axis_color(xTick, settings) {\n    if (xTick === 0) {\n        if (settings) {\n            return settings.textStyles.color;\n        } else {\n            return \"#666\";\n        }\n    } else if (settings) {\n        return settings.colorStyles.grid.gridLineColor;\n    } else {\n        return \"#bbb\";\n    }\n}\n\nconst mainGridCanvas = (settings) => (c, xTick) => {\n    c.strokeStyle = axis_color(xTick, settings);\n    c.lineWidth = 1;\n};\n\nconst crossGridSvg = (x, _) => x.style(\"display\", \"none\");\nconst crossGridCanvas = (settings) => (c, xTick) => {\n    c.lineWidth = 1;\n    c.strokeStyle = axis_color(xTick, settings);\n};\n\nexport interface WithGridLines {\n    (...args): any;\n\n    orient(): Orientation;\n    orient(nextOrient: Orientation): WithGridLines;\n\n    canvas(): boolean;\n    canvas(nextCanvas: boolean): WithGridLines;\n\n    xScale(): D3Scale;\n    xScale(xScale: D3Scale): WithGridLines;\n\n    yScale(): D3Scale;\n    yScale(yScale: D3Scale): WithGridLines;\n\n    context(): any;\n    context(context: any): WithGridLines;\n}\n\nexport default (series, settings): WithGridLines => {\n    let orient = \"both\";\n    let canvas = false;\n    let xScale = null;\n    let yScale = null;\n    let context = null;\n\n    let seriesMulti = fc.seriesSvgMulti();\n    let annotationGridline = fc.annotationSvgGridline();\n    let mainGrid = mainGridSvg(settings);\n    let crossGrid = crossGridSvg;\n\n    const _withGridLines: Partial<WithGridLines> = function (...args) {\n        if (canvas) {\n            seriesMulti = fc.seriesCanvasMulti().context(context);\n            annotationGridline = fc.annotationCanvasGridline();\n            mainGrid = mainGridCanvas(settings);\n            crossGrid = crossGridCanvas(settings);\n        }\n\n        const multi = seriesMulti.xScale(xScale).yScale(yScale);\n\n        const xStyle = orient === \"vertical\" ? crossGrid : mainGrid;\n        const yStyle = orient === \"horizontal\" ? crossGrid : mainGrid;\n\n        const gridlines = annotationGridline\n            .xDecorate(xStyle)\n            .yDecorate(yStyle);\n\n        return multi.series([gridlines, series])(...args);\n    };\n\n    _withGridLines.orient = (...args: Orientation[]): any => {\n        if (!args.length) {\n            return orient;\n        }\n        orient = args[0];\n        return _withGridLines;\n    };\n\n    _withGridLines.canvas = (...args: boolean[]): any => {\n        if (!args.length) {\n            return canvas;\n        }\n        canvas = args[0];\n        return _withGridLines;\n    };\n\n    _withGridLines.xScale = (...args): any => {\n        if (!args.length) {\n            return xScale;\n        }\n        xScale = args[0];\n        return _withGridLines;\n    };\n\n    _withGridLines.yScale = (...args): any => {\n        if (!args.length) {\n            return yScale;\n        }\n        yScale = args[0];\n        return _withGridLines;\n    };\n\n    _withGridLines.context = (...args): any => {\n        if (!args.length) {\n            return context;\n        }\n        context = args[0];\n        return _withGridLines;\n    };\n\n    return _withGridLines as WithGridLines;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { Pad, PadUnit, PaddingStrategy } from \"../../types\";\nimport { defaultPadding } from \"./default\";\nimport * as fc from \"d3fc\";\n\nexport const hardLimitZeroPadding = (): PaddingStrategy => {\n    const _defaultPadding = defaultPadding();\n\n    const padding: Partial<PaddingStrategy> = (extent) => {\n        let pad = _defaultPadding.pad();\n        let padUnit = _defaultPadding.padUnit();\n\n        let delta = 1;\n        switch (padUnit) {\n            case \"domain\": {\n                break;\n            }\n            case \"percent\": {\n                delta = extent[1] - extent[0];\n                break;\n            }\n            default:\n                throw new Error(\"Unknown padUnit: \" + padUnit);\n        }\n\n        let paddedLowerExtent = extent[0] - pad[0] * delta;\n        let paddedUpperExtent = extent[1] + pad[1] * delta;\n\n        // If datapoints are exclusively negative or exclusively positive hard\n        // limit extent to 0.\n        extent[0] =\n            extent[0] >= 0 && paddedLowerExtent < 0 ? 0 : paddedLowerExtent;\n        extent[1] =\n            extent[1] <= 0 && paddedUpperExtent > 0 ? 0 : paddedUpperExtent;\n        return extent;\n    };\n\n    padding.pad = function (..._args: Pad[]): any {\n        return _defaultPadding.pad();\n    };\n\n    padding.padUnit = function (..._args: PadUnit[]): any {\n        return _defaultPadding.padUnit();\n    };\n\n    fc.rebindAll(padding, _defaultPadding);\n\n    return padding as PaddingStrategy;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport { getOrCreateElement } from \"../utils/utils\";\nimport template from \"../../html/zoom-controls.html\";\n\nexport default () => {\n    let chart = null;\n    let settings = null;\n    let xScale = null;\n    let xCopy = null;\n    let yScale = null;\n    let yCopy = null;\n    let bound = false;\n    let canvas = false;\n    let onChange: (args: any) => void = () => {};\n\n    function zoomableChart(selection) {\n        const chartPlotArea = `d3fc-${canvas ? \"canvas\" : \"svg\"}.plot-area`;\n        if (xScale || yScale) {\n            const dateAxis = xCopy && xCopy.domain()[0] instanceof Date;\n            const zoom = d3.zoom().on(\"zoom\", (event) => {\n                const { transform } = event;\n                settings.zoom = {\n                    k: transform.k,\n                    x: transform.x,\n                    y: transform.y,\n                };\n\n                applyTransform(transform);\n\n                selection.call(chart);\n\n                const noZoom =\n                    transform.k === 1 && transform.x === 0 && transform.y === 0;\n\n                const zoomControls = getZoomControls(selection).style(\n                    \"display\",\n                    noZoom ? \"none\" : \"\"\n                );\n                zoomControls\n                    .select(\"#zoom-reset\")\n                    .on(\"click\", () =>\n                        selection\n                            .select(chartPlotArea)\n                            .call(zoom.transform, d3.zoomIdentity)\n                    );\n\n                const oneYear = zoomControls\n                    .select(\"#one-year\")\n                    .style(\"display\", dateAxis ? \"\" : \"none\");\n                const sixMonths = zoomControls\n                    .select(\"#six-months\")\n                    .style(\"display\", dateAxis ? \"\" : \"none\");\n                const oneMonth = zoomControls\n                    .select(\"#one-month\")\n                    .style(\"display\", dateAxis ? \"\" : \"none\");\n                if (dateAxis) {\n                    const dateClick = (endCalculation) => () => {\n                        const start = new Date(xScale.domain()[0]);\n                        const end = new Date(start);\n                        endCalculation(start, end);\n\n                        const xRange = xCopy.range();\n                        const k =\n                            (xRange[1] - xRange[0]) /\n                            (xCopy(end) - xCopy(start));\n                        const x = -xCopy(start) * k;\n                        let y = 0;\n                        if (yScale) {\n                            const yMiddle =\n                                yScale.domain().reduce((a, b) => a + b) / 2;\n                            y = -yCopy(yMiddle) * k + yScale(yMiddle);\n                        }\n                        selection\n                            .select(chartPlotArea)\n                            .call(\n                                zoom.transform,\n                                d3.zoomIdentity.translate(x, y).scale(k)\n                            );\n                    };\n\n                    oneYear.on(\n                        \"click\",\n                        dateClick((start, end) =>\n                            end.setYear(start.getFullYear() + 1)\n                        )\n                    );\n                    sixMonths.on(\n                        \"click\",\n                        dateClick((start, end) =>\n                            end.setMonth(start.getMonth() + 6)\n                        )\n                    );\n                    oneMonth.on(\n                        \"click\",\n                        dateClick((start, end) =>\n                            end.setMonth(start.getMonth() + 1)\n                        )\n                    );\n                }\n            });\n\n            const oldDecorate = chart.decorate();\n            chart.decorate((sel, data) => {\n                oldDecorate(sel, data);\n                if (!bound) {\n                    bound = true;\n                    // add the zoom interaction on the enter selection\n                    const plotArea = sel.select(chartPlotArea);\n                    const device_pixel_factor = canvas\n                        ? window.devicePixelRatio\n                        : 1;\n\n                    plotArea\n                        .on(\"measure.zoom-range\", (event) => {\n                            if (xCopy)\n                                xCopy.range([\n                                    0,\n                                    event.detail.width / device_pixel_factor,\n                                ]);\n                            if (yCopy)\n                                yCopy.range([\n                                    0,\n                                    event.detail.height / device_pixel_factor,\n                                ]);\n\n                            if (settings.zoom) {\n                                const initialTransform = d3.zoomIdentity\n                                    .translate(settings.zoom.x, settings.zoom.y)\n                                    .scale(settings.zoom.k);\n                                plotArea.call(zoom.transform, initialTransform);\n                            }\n                        })\n                        .call(zoom);\n                }\n            });\n        }\n\n        selection.call(chart);\n    }\n\n    zoomableChart.chart = (...args) => {\n        if (!args.length) {\n            return chart;\n        }\n        chart = args[0];\n        return zoomableChart;\n    };\n\n    zoomableChart.settings = (...args) => {\n        if (!args.length) {\n            return settings;\n        }\n        settings = args[0];\n        return zoomableChart;\n    };\n\n    zoomableChart.xScale = (...args) => {\n        if (!args.length) {\n            return xScale;\n        }\n        xScale = zoomableScale(args[0]);\n        xCopy = xScale ? xScale.copy() : null;\n        return zoomableChart;\n    };\n\n    zoomableChart.yScale = (...args) => {\n        if (!args.length) {\n            return yScale;\n        }\n        yScale = zoomableScale(args[0]);\n        yCopy = yScale ? yScale.copy() : null;\n        if (yCopy) {\n            const yDomain = yCopy.domain();\n            yCopy.domain([yDomain[1], yDomain[0]]);\n        }\n        return zoomableChart;\n    };\n\n    zoomableChart.canvas = (...args) => {\n        if (!args.length) {\n            return canvas;\n        }\n        canvas = args[0];\n        return zoomableChart;\n    };\n\n    zoomableChart.onChange = (...args) => {\n        if (!args.length) {\n            return onChange;\n        }\n        onChange = args[0];\n        return zoomableChart;\n    };\n\n    const applyTransform = (transform) => {\n        const changeArgs = { ...transform };\n        if (xScale) {\n            xScale.domain(transform.rescaleX(xCopy).domain());\n            changeArgs.xDomain = xScale.domain();\n        }\n\n        if (yScale) {\n            const yZoomDomain = transform.rescaleY(yCopy).domain();\n            yScale.domain([yZoomDomain[1], yZoomDomain[0]]);\n            changeArgs.yDomain = yScale.domain();\n        }\n\n        onChange(changeArgs);\n    };\n\n    const getZoomControls = (container) =>\n        getOrCreateElement(container, \".zoom-controls\", () =>\n            container\n                .append(\"div\")\n                .attr(\"class\", \"zoom-controls\")\n                .style(\"display\", \"none\")\n                .html(template)\n        );\n\n    const zoomableScale = (scale) => {\n        if (scale && scale.nice) {\n            return scale;\n        }\n        return null;\n    };\n\n    return zoomableChart;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { axisFactory } from \"../axis/axisFactory\";\nimport { chartSvgFactory } from \"../axis/chartFactory\";\nimport domainMatchOrigins from \"../axis/domainMatchOrigins\";\nimport {\n    axisSplitter,\n    dataBlankFunction,\n    groupedBlankFunction,\n} from \"../axis/axisSplitter\";\nimport { AXIS_TYPES } from \"../axis/axisType\";\nimport { barSeries } from \"../series/barSeries\";\nimport { seriesColors } from \"../series/seriesColors\";\nimport { groupAndStackData } from \"../data/groupData\";\nimport { colorLegend } from \"../legend/legend\";\nimport { filterData } from \"../legend/filter\";\nimport withGridLines from \"../gridlines/gridlines\";\nimport { hardLimitZeroPadding } from \"../d3fc/padding/hardLimitZero\";\nimport zoomableChart from \"../zoom/zoomableChart\";\nimport { HTMLSelection, Settings } from \"../types\";\n\nfunction columnChart(container: HTMLSelection, settings: Settings) {\n    const data = groupAndStackData(settings, filterData(settings));\n    const color = seriesColors(settings);\n\n    const legend = colorLegend().settings(settings).scale(color);\n\n    const bars = barSeries(settings, color).orient(\"vertical\");\n    const series = fc\n        .seriesSvgMulti()\n        .mapping((data, index) => data[index])\n        .series(data.map(() => bars));\n\n    const xAxis = axisFactory(settings)\n        .excludeType(AXIS_TYPES.linear)\n        .settingName(\"crossValues\")\n        .valueName(\"crossValue\")(data);\n    const yAxisFactory = axisFactory(settings)\n        .settingName(\"mainValues\")\n        .valueName(\"mainValue\")\n        .memoValue(settings.axisMemo[1])\n        .excludeType(AXIS_TYPES.ordinal)\n        .orient(\"vertical\")\n        .include([0])\n        .paddingStrategy(hardLimitZeroPadding());\n\n    // Check whether we've split some values into a second y-axis\n    const blankFunction =\n        settings.mainValues.length > 1\n            ? groupedBlankFunction\n            : dataBlankFunction;\n    const splitter = axisSplitter(settings, data, blankFunction).color(color);\n\n    const yAxis1 = yAxisFactory(splitter.data());\n\n    // No grid lines if splitting y-axis\n    const plotSeries = splitter.haveSplit()\n        ? series\n        : withGridLines(series, settings).orient(\"vertical\");\n\n    const chart = chartSvgFactory(xAxis, yAxis1)\n        .axisSplitter(splitter)\n        .plotArea(plotSeries);\n\n    if (chart.xPaddingInner) {\n        chart.xPaddingInner(0.5);\n        chart.xPaddingOuter(0.25);\n        bars.align(\"left\");\n    }\n    chart.yNice && chart.yNice();\n\n    const zoomChart = zoomableChart()\n        .chart(chart)\n        .settings(settings)\n        .xScale(xAxis.scale);\n\n    if (splitter.haveSplit()) {\n        // Create the y-axis data for the alt-axis\n        const yAxis2 = yAxisFactory(splitter.altData());\n\n        domainMatchOrigins(yAxis1.domain, yAxis2.domain);\n        chart.yDomain(yAxis1.domain).altAxis(yAxis2);\n    }\n\n    // render\n    container.datum(splitter.data()).call(zoomChart);\n    container.call(legend);\n}\ncolumnChart.plugin = {\n    name: \"Y Bar\",\n    category: \"Y Chart\",\n    max_cells: 1000,\n    max_columns: 50,\n    render_warning: true,\n    initial: {\n        names: [\"Y Axis\"],\n    },\n};\n\nexport default columnChart;\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { DomainTuple } from \"../types\";\n\nexport default (domain1: DomainTuple, domain2: DomainTuple) => {\n    if (!isMatchable(domain1) || !isMatchable(domain2)) return;\n\n    const ratio1 = originRatio(domain1);\n    const ratio2 = originRatio(domain2);\n\n    if (ratio1 > ratio2) {\n        domain2[0] = adjustLowerBound(domain2, ratio1);\n    } else {\n        domain1[0] = adjustLowerBound(domain1, ratio2);\n    }\n};\n\nconst isMatchable = (domain: DomainTuple) =>\n    domain.length === 2 &&\n    !isNaN(domain[0]) &&\n    !isNaN(domain[1]) &&\n    domain[0] !== domain[1];\nconst originRatio = (domain: DomainTuple) =>\n    (0 - domain[0]) / (domain[1] - domain[0]);\nconst adjustLowerBound = (domain: DomainTuple, ratio: number) =>\n    (ratio * domain[1]) / (ratio - 1);\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { getChartElement } from \"../plugin/root\";\nimport { withoutOpacity } from \"../series/seriesColors.js\";\nimport { HTMLSelection, Settings } from \"../types\";\n\nexport type SplitterLabel = {\n    index: number;\n    name: string;\n};\n\nexport interface SplitterLabels {\n    (selection: any): void;\n\n    labels(): SplitterLabel[];\n    labels(labels: SplitterLabel[]): SplitterLabels;\n\n    color(): d3.ScaleOrdinal<string, unknown>;\n    color(nextColor: d3.ScaleOrdinal<string, unknown>): SplitterLabels;\n\n    alt(): boolean;\n    alt(nextAlt: boolean): SplitterLabels;\n}\n\n// Render a set of labels with the little left/right arrows for moving\n// between axes\nexport const splitterLabels = (settings: Settings): SplitterLabels => {\n    let labels: SplitterLabel[] = [];\n    let alt = false;\n    let color;\n\n    const _render: Partial<SplitterLabels> = (selection: HTMLSelection) => {\n        selection.text(\"\");\n\n        const labelDataJoin = fc\n            .dataJoin(\"span\", \"splitter-label\")\n            .key((d) => d);\n\n        const disabled = !alt && labels.length === 1;\n        const coloured = color && settings.splitValues.length === 0;\n        labelDataJoin(selection, labels)\n            .classed(\"disabled\", disabled)\n            .text((d) => d.name)\n            .style(\"color\", (d) =>\n                coloured ? withoutOpacity(color(d.name)) : undefined\n            )\n            .on(\"click\", (event, d) => {\n                if (disabled) return;\n\n                if (alt) {\n                    settings.splitMainValues = settings.splitMainValues.filter(\n                        (v) => v != d.name\n                    );\n                } else {\n                    settings.splitMainValues = [d.name].concat(\n                        settings.splitMainValues || []\n                    );\n                }\n\n                event.target\n                    .getRootNode()\n                    .host.closest(\"perspective-viewer\")\n                    ?.dispatchEvent(new Event(\"perspective-config-update\"));\n\n                redrawChart(selection);\n            });\n    };\n\n    const redrawChart = (selection: HTMLSelection) => {\n        const chartElement = getChartElement(selection.node());\n        chartElement._container.innerHTML = \"\";\n        chartElement._draw();\n    };\n\n    _render.labels = (...args: SplitterLabel[][]): any => {\n        if (!args.length) {\n            return labels;\n        }\n        labels = args[0];\n        return _render;\n    };\n    _render.alt = (...args: boolean[]): any => {\n        if (!args.length) {\n            return alt;\n        }\n        alt = args[0];\n        return _render;\n    };\n\n    _render.color = (...args) => {\n        if (!args.length) {\n            return color;\n        }\n        color = args[0];\n        return _render;\n    };\n\n    return _render as SplitterLabels;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { Settings } from \"../types\";\nimport { splitterLabels } from \"./splitterLabels\";\n\nexport interface AxisSplitter {\n    (selection: any): void;\n\n    color(): d3.ScaleOrdinal<string, unknown>;\n    color(nextColor: d3.ScaleOrdinal<string, unknown>): AxisSplitter;\n\n    haveSplit: () => boolean;\n\n    data(): any[];\n    data(nextData: any[]): AxisSplitter;\n\n    altData(): any[];\n    altData(nextData: any[]): AxisSplitter;\n}\n\nexport const axisSplitter = (\n    settings: Settings,\n    sourceData,\n    splitFn = dataSplitFunction\n): AxisSplitter => {\n    let color: d3.ScaleOrdinal<string, unknown> | undefined = undefined;\n    let data;\n    let altData;\n\n    // splitMainValues is an array of main-value names to put into the alt-axis\n    const splitMainValues = settings.splitMainValues || [];\n    const altValue = (name) => {\n        const split = name.split(\"|\");\n        return splitMainValues.includes(split[split.length - 1]);\n    };\n\n    const haveSplit: boolean = settings[\"mainValues\"].some((m) =>\n        altValue(m.name)\n    );\n\n    // Split the data into main and alt displays\n    data = haveSplit\n        ? splitFn(sourceData, (key) => !altValue(key))\n        : sourceData;\n    altData = haveSplit ? splitFn(sourceData, altValue) : null;\n\n    // Renderer to show the special controls for moving between axes\n    const splitter: any = (selection) => {\n        if (settings[\"mainValues\"].length === 1) return;\n\n        const labelsInfo = settings[\"mainValues\"].map((v, i) => ({\n            index: i,\n            name: v.name,\n        }));\n        const mainLabels = labelsInfo.filter((v) => !altValue(v.name));\n        const altLabels = labelsInfo.filter((v) => altValue(v.name));\n\n        const labeller = () => splitterLabels(settings).color(color);\n\n        selection\n            .select(\".y-label.left-label\")\n            .call(labeller().labels(mainLabels));\n        selection\n            .select(\".y-label.right-label\")\n            .call(labeller().labels(altLabels).alt(true));\n    };\n\n    splitter.color = (...args: d3.ScaleOrdinal<string, unknown>[]): any => {\n        if (!args.length) {\n            return color;\n        }\n        color = args[0];\n        return splitter;\n    };\n\n    splitter.haveSplit = (): boolean => haveSplit;\n\n    splitter.data = (...args: any[][]): any => {\n        if (!args.length) {\n            return data;\n        }\n        data = args[0];\n        return splitter;\n    };\n\n    splitter.altData = (...args: any[][]): any => {\n        if (!args.length) {\n            return altData;\n        }\n        altData = args[0];\n        return splitter;\n    };\n\n    return splitter;\n};\n\nexport const dataSplitFunction = (sourceData, isIncludedFn) => {\n    return sourceData.map((d) => d.filter((v) => isIncludedFn(v.key)));\n};\n\nexport const dataBlankFunction = (sourceData, isIncludedFn) => {\n    return sourceData.map((series) => {\n        if (!isIncludedFn(series.key)) {\n            // Blank this data\n            return series.map((v) => Object.assign({}, v, { mainValue: null }));\n        }\n        return series;\n    });\n};\n\nexport const groupedBlankFunction = (sourceData, isIncludedFn) => {\n    return sourceData.map((group) => dataBlankFunction(group, isIncludedFn));\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { AxisFactoryContent, axisFactory } from \"../axis/axisFactory\";\nimport { AXIS_TYPES } from \"../axis/axisType\";\nimport { chartSvgFactory } from \"../axis/chartFactory\";\nimport { axisSplitter } from \"../axis/axisSplitter\";\nimport { seriesColors } from \"../series/seriesColors\";\nimport { lineSeries } from \"../series/lineSeries\";\nimport { splitData } from \"../data/splitData\";\nimport { colorLegend } from \"../legend/legend\";\nimport { filterData } from \"../legend/filter\";\nimport { transposeData } from \"../data/transposeData\";\nimport withGridLines from \"../gridlines/gridlines\";\n\nimport { hardLimitZeroPadding } from \"../d3fc/padding/hardLimitZero\";\nimport zoomableChart from \"../zoom/zoomableChart\";\nimport nearbyTip from \"../tooltip/nearbyTip\";\nimport { Settings } from \"../types\";\n\nfunction lineChart(container, settings: Settings) {\n    const data = splitData(settings, filterData(settings));\n    const color = seriesColors(settings);\n\n    const legend = colorLegend().settings(settings).scale(color);\n\n    const series = fc\n        .seriesSvgRepeat()\n        .series(lineSeries(settings, color))\n        .orient(\"horizontal\");\n\n    const paddingStrategy = hardLimitZeroPadding()\n        .pad([0.1, 0.1])\n        .padUnit(\"percent\");\n\n    // Check whether we've split some values into a second y-axis\n    const splitter = axisSplitter(settings, transposeData(data)).color(color);\n\n    const xAxis: AxisFactoryContent = axisFactory(settings)\n        .excludeType(AXIS_TYPES.linear)\n        .settingName(\"crossValues\")\n        .valueName(\"crossValue\")(data);\n\n    const yAxisFactory = axisFactory(settings)\n        .settingName(\"mainValues\")\n        .valueName(\"mainValue\")\n        .memoValue(splitter.haveSplit() ? null : settings.axisMemo[0])\n        .orient(\"vertical\")\n        .paddingStrategy(paddingStrategy);\n\n    const yAxis1: AxisFactoryContent = yAxisFactory(splitter.data());\n\n    // No grid lines if splitting y-axis\n    const plotSeries = splitter.haveSplit()\n        ? series\n        : withGridLines(series, settings).orient(\"vertical\");\n    const chart = chartSvgFactory(xAxis, yAxis1)\n        .axisSplitter(splitter)\n        .plotArea(plotSeries);\n\n    chart.yNice && chart.yNice();\n\n    const zoomChart = zoomableChart()\n        .chart(chart)\n        .settings(settings)\n        .xScale(xAxis.scale);\n\n    const toolTip = nearbyTip()\n        .settings(settings)\n        .xScale(xAxis.scale)\n        .yScale(yAxis1.scale)\n        .color(color)\n        .data(data);\n\n    if (splitter.haveSplit()) {\n        // Create the y-axis data for the alt-axis\n        const yAxis2 = yAxisFactory(splitter.altData());\n        chart.altAxis(yAxis2);\n        // Give the tooltip the information (i.e. 2 datasets with different\n        // scales)\n        toolTip.data(splitter.data()).altDataWithScale({\n            yScale: yAxis2.scale,\n            data: splitter.altData(),\n        });\n    }\n\n    const transposed_data = splitter.data();\n\n    // render\n    container.datum(transposed_data).call(zoomChart);\n    container.call(toolTip);\n    container.call(legend);\n}\n\nlineChart.plugin = {\n    name: \"Y Line\",\n    category: \"Y Chart\",\n    max_cells: 4000,\n    max_columns: 50,\n    render_warning: true,\n    initial: {\n        names: [\"Y Axis\"],\n    },\n};\n\nexport default lineChart;\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { withoutOpacity } from \"./seriesColors.js\";\nimport { D3Scale, Settings } from \"../types.js\";\n\nexport function lineSeries(settings: Settings, color: D3Scale) {\n    let series = fc.seriesSvgLine();\n\n    const estimated_size =\n        settings.data.length *\n        (settings.data?.length > 0\n            ? Object.keys(settings.data[0]).length -\n              (settings.crossValues?.length > 0 ? 1 : 0)\n            : 0);\n    const stroke_width = Math.max(\n        1,\n        Math.min(3, Math.floor(settings.size.width / estimated_size / 2))\n    );\n\n    series = series.decorate((selection) => {\n        selection\n            .style(\"stroke\", (d) => withoutOpacity(color(d[0] && d[0].key)))\n            .style(\"stroke-width\", stroke_width);\n    });\n\n    return series.crossValue((d) => d.crossValue).mainValue((d) => d.mainValue);\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { labelFunction } from \"../axis/axisLabel\";\nimport { Settings } from \"../types\";\n\nexport type SplitData = {\n    key: string;\n    crossValue: string;\n    mainValue: string | number | boolean | Date;\n    row: any;\n};\n\nexport function splitData(settings: Settings, data: any[]): SplitData[][] {\n    const labelfn = labelFunction(settings);\n\n    return data.map((col, i) => {\n        return Object.keys(col)\n            .filter((key) => key !== \"__ROW_PATH__\")\n            .map((key) => ({\n                key,\n                crossValue: labelfn(col, i),\n                mainValue: col[key],\n                row: col,\n            }));\n    });\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nexport const transposeData = function (x) {\n    const columns = [];\n    for (const row of x) {\n        for (let col = 0; col < row.length; col++) {\n            if (row[col].mainValue !== null) {\n                columns[col] = columns[col] || [];\n                columns[col].push(row[col]);\n            }\n        }\n    }\n    return columns;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { tooltip } from \"./tooltip\";\nimport { withOpacity } from \"../series/seriesColors.js\";\nimport { findBestFromData } from \"../data/findBest\";\nimport { raiseEvent } from \"./selectionEvent\";\nimport { SplitData } from \"../data/splitData\";\nimport { D3Scale, Settings } from \"../types\";\n\nexport type AltDataWithScale = {\n    data: SplitData[][];\n    yScale: D3Scale;\n};\n\nexport interface SizeArg {\n    (arg: any): any;\n    copy: () => any;\n}\n\ninterface NearbyTip {\n    (selection: any): void;\n\n    scaleFactor(): number;\n    scaleFactor(scaleFactor: number): NearbyTip;\n\n    settings(): Settings;\n    settings(settings: Settings): NearbyTip;\n\n    xScale(): D3Scale;\n    xScale(xScale: D3Scale): NearbyTip;\n\n    yScale(): D3Scale;\n    yScale(yScale: D3Scale): NearbyTip;\n\n    color(): D3Scale;\n    color(color: D3Scale): NearbyTip;\n\n    size(): SizeArg;\n    size(size: SizeArg): NearbyTip;\n\n    canvas(): boolean;\n    canvas(canvas: boolean): NearbyTip;\n\n    data(): Record<string, any>[][];\n    data(data: Record<string, any>[][]): NearbyTip;\n\n    xValueName(): string;\n    xValueName(xValueName: string): NearbyTip;\n\n    yValueName(): string;\n    yValueName(yValueName: string): NearbyTip;\n\n    altDataWithScale(): AltDataWithScale;\n    altDataWithScale(altDataWithScale: AltDataWithScale): NearbyTip;\n}\n\nexport default (): NearbyTip => {\n    const base = tooltip().alwaysShow(true);\n\n    let xScale: D3Scale | null = null;\n    let yScale: D3Scale | null = null;\n    let color: D3Scale | null = null;\n    let size = null;\n    let canvas = false;\n    let data = null;\n    let xValueName = \"crossValue\";\n    let yValueName = \"mainValue\";\n    let altDataWithScale = null;\n    let scale_factor = 1;\n\n    const nearbyTip: Partial<NearbyTip> = (selection) => {\n        const chartPlotArea = `d3fc-${canvas ? \"canvas\" : \"svg\"}.plot-area`;\n        if (xScale || yScale) {\n            let tooltipData = null;\n            const pointer = fc.pointer().on(\"point\", (event) => {\n                const closest = event.length\n                    ? getClosestDataPoint(event[0])\n                    : null;\n                tooltipData = closest ? [closest.data] : [];\n                const useYScale = closest ? closest.scale : yScale;\n\n                renderTip(selection, tooltipData, useYScale);\n            });\n\n            selection\n                .select(chartPlotArea)\n                .on(\"measure.nearbyTip\", () => renderTip(selection, []))\n                .on(\"click\", () => {\n                    if (tooltipData.length) {\n                        raiseEvent(\n                            selection.node(),\n                            tooltipData[0],\n                            base.settings()\n                        );\n                    }\n                })\n                .call(pointer);\n        }\n    };\n\n    const renderTip = (selection, tipData, useYScale = yScale) => {\n        const tips = selection\n            .select(\"d3fc-svg.plot-area svg\")\n            .selectAll(\"circle.nearbyTip\")\n            .data(tipData);\n        tips.exit().remove();\n\n        tips.enter()\n            .append(\"circle\")\n            .attr(\"class\", \"nearbyTip\")\n            .merge(tips)\n            .attr(\"r\", (d) =>\n                size ? scale_factor * Math.sqrt(size(d.size)) : 10\n            )\n            .attr(\n                \"transform\",\n                (d) =>\n                    `translate(${xScale(d[xValueName])},${useYScale(\n                        d[yValueName]\n                    )})`\n            )\n            .style(\"stroke\", \"none\")\n            .style(\"fill\", (d) => color && d.key && withOpacity(color(d.key)));\n\n        base(tips);\n    };\n\n    const getClosestDataPoint = (pos) => {\n        const distFn = (scale) => {\n            return (v) => {\n                if (\n                    v[yValueName] === undefined ||\n                    v[yValueName] === null ||\n                    v[xValueName] === undefined ||\n                    v[xValueName] === null\n                )\n                    return null;\n\n                return Math.sqrt(\n                    Math.pow((xScale(v[xValueName]) as number) - pos.x, 2) +\n                        Math.pow(scale(v[yValueName]) - pos.y, 2)\n                );\n            };\n        };\n\n        // Check the main data\n        const dist1 = distFn(yScale);\n        const best1 = findBestFromData(data, dist1, Math.min);\n\n        if (altDataWithScale) {\n            // Check the alt data with its scale, to see if any are closer\n            const dist2 = distFn(altDataWithScale.yScale);\n            const best2 = findBestFromData(\n                altDataWithScale.data,\n                dist2,\n                Math.min\n            );\n            return dist1(best1) <= dist2(best2)\n                ? { data: best1, scale: yScale }\n                : { data: best2, scale: altDataWithScale.yScale };\n        }\n        return { data: best1, scale: yScale };\n    };\n\n    nearbyTip.scaleFactor = (...args: number[]): any => {\n        if (!args.length) {\n            return scale_factor;\n        }\n        scale_factor = args[0];\n        return nearbyTip;\n    };\n    nearbyTip.xScale = (...args: D3Scale[]): any => {\n        if (!args.length) {\n            return xScale;\n        }\n        xScale = args[0];\n        return nearbyTip;\n    };\n\n    nearbyTip.yScale = (...args: D3Scale[]): any => {\n        if (!args.length) {\n            return yScale;\n        }\n        yScale = args[0];\n        return nearbyTip;\n    };\n\n    nearbyTip.color = (...args: D3Scale[]): any => {\n        if (!args.length) {\n            return color;\n        }\n        color = args[0];\n        return nearbyTip;\n    };\n\n    nearbyTip.size = (...args: SizeArg[]): any => {\n        if (!args.length) {\n            return size;\n        }\n        size = args[0] ? args[0].copy().range([40, 4000]) : null;\n        return nearbyTip;\n    };\n\n    nearbyTip.canvas = (...args: boolean[]): any => {\n        if (!args.length) {\n            return canvas;\n        }\n        canvas = args[0];\n        return nearbyTip;\n    };\n\n    nearbyTip.data = (...args: Record<string, any>[][][]): any => {\n        if (!args.length) {\n            return data;\n        }\n        data = args[0];\n        return nearbyTip;\n    };\n\n    nearbyTip.xValueName = (...args: string[]): any => {\n        if (!args.length) {\n            return xValueName;\n        }\n        xValueName = args[0];\n        return nearbyTip;\n    };\n\n    nearbyTip.yValueName = (...args: string[]): any => {\n        if (!args.length) {\n            return yValueName;\n        }\n        yValueName = args[0];\n        return nearbyTip;\n    };\n\n    nearbyTip.altDataWithScale = (...args: AltDataWithScale[]): any => {\n        if (!args.length) {\n            return altDataWithScale;\n        }\n        altDataWithScale = args[0];\n        return nearbyTip;\n    };\n\n    nearbyTip.settings = (...args: Settings[]): any => {\n        if (!args.length) {\n            return base.settings();\n        }\n        base.settings(args[0]);\n        return nearbyTip;\n    };\n\n    fc.rebindAll(nearbyTip, base);\n    return nearbyTip as NearbyTip;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nexport const findBestFromData = (array, valueFn, compareFn = Math.min) => {\n    const findBestFromArray = (array) => {\n        return array.reduce((best, v) => {\n            const thisValue = findBestFromItem(v);\n            return thisValue &&\n                (!best ||\n                    compareFn(best.value, thisValue.value) === thisValue.value)\n                ? thisValue\n                : best;\n        }, null);\n    };\n    const findBestFromItem = (item) => {\n        if (Array.isArray(item)) {\n            return findBestFromArray(item);\n        }\n        const value = valueFn(item);\n        return value !== null\n            ? {\n                  item,\n                  value,\n              }\n            : null;\n    };\n\n    const bestItem = findBestFromArray(array);\n    return bestItem ? bestItem.item : null;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { transposeData } from \"../data/transposeData\";\nimport { AxisFactoryContent, axisFactory } from \"../axis/axisFactory\";\nimport { chartSvgFactory } from \"../axis/chartFactory\";\nimport { symbolTypeFromGroups } from \"../series/pointSeriesCanvas\";\nimport { lineSeries } from \"../series/lineSeries\";\nimport { xySplitData } from \"../data/xySplitData\";\nimport { seriesColorsFromGroups } from \"../series/seriesColors\";\nimport { colorGroupLegend } from \"../legend/legend\";\nimport { filterDataByGroup } from \"../legend/filter\";\nimport withGridLines from \"../gridlines/gridlines\";\nimport { hardLimitZeroPadding } from \"../d3fc/padding/hardLimitZero\";\nimport zoomableChart from \"../zoom/zoomableChart\";\nimport nearbyTip from \"../tooltip/nearbyTip\";\nimport { HTMLSelection, Settings } from \"../types\";\n\nfunction xyLine(container: HTMLSelection, settings: Settings) {\n    const data = transposeData(\n        xySplitData(settings, filterDataByGroup(settings))\n    );\n\n    const color = seriesColorsFromGroups(settings);\n    const symbols = symbolTypeFromGroups(settings);\n\n    let legend = null;\n    if (color.domain().length >= 2) {\n        legend = colorGroupLegend()\n            .settings(settings)\n            .scale(symbols)\n            .color(color);\n    }\n\n    const series = fc\n        .seriesSvgRepeat()\n        .series(lineSeries(settings, color))\n        .orient(\"horizontal\");\n\n    const paddingStrategy = hardLimitZeroPadding()\n        .pad([0.1, 0.1])\n        .padUnit(\"percent\");\n\n    const xAxisFactory = axisFactory(settings)\n        .settingName(\"mainValues\")\n        .settingValue(settings.mainValues[0].name)\n        .valueName(\"crossValue\")\n        .memoValue(settings.axisMemo[0])\n        .paddingStrategy(paddingStrategy);\n\n    const yAxisFactory = axisFactory(settings)\n        .settingName(\"mainValues\")\n        .settingValue(settings.mainValues[1].name)\n        .valueName(\"mainValue\")\n        .memoValue(settings.axisMemo[1])\n        .orient(\"vertical\")\n        .paddingStrategy(paddingStrategy);\n\n    const yAxis: AxisFactoryContent = yAxisFactory(data);\n    const xAxis: AxisFactoryContent = xAxisFactory(data);\n\n    const plotSeries = withGridLines(series, settings).orient(\"vertical\");\n\n    const chart = chartSvgFactory(xAxis, yAxis)\n        .xLabel(settings.mainValues[0].name)\n        .yLabel(settings.mainValues[1].name)\n        .plotArea(plotSeries);\n\n    chart.xNice && chart.xNice();\n    chart.yNice && chart.yNice();\n\n    const zoomChart = zoomableChart()\n        .chart(chart)\n        .settings(settings)\n        .xScale(xAxis.scale)\n        .yScale(yAxis.scale);\n\n    const toolTip = nearbyTip()\n        .settings(settings)\n        .xScale(xAxis.scale)\n        .yScale(yAxis.scale)\n        .color(color)\n        .data(data);\n\n    container.datum(data).call(zoomChart);\n    container.call(toolTip);\n    if (legend) {\n        container.call(legend);\n    }\n}\n\nxyLine.plugin = {\n    name: \"X/Y Line\",\n    category: \"X/Y Chart\",\n    max_cells: 50000,\n    max_columns: 50,\n    render_warning: true,\n    initial: {\n        type: \"number\",\n        count: 2,\n        names: [\"X Axis\", \"Y Axis\", \"Tooltip\"],\n    },\n    selectMode: \"toggle\",\n};\n\nexport default xyLine;\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { seriesCanvasPoint } from \"d3fc\";\nimport { withOpacity, withoutOpacity } from \"./seriesColors\";\nimport { groupFromKey } from \"./seriesKey\";\nimport { fromDomain } from \"./seriesSymbols\";\nimport { toValue } from \"../tooltip/selectionData\";\nimport { getValuesByColumn } from \"../data/utils\";\nimport { D3Scale, Settings } from \"../types\";\n\nconst LABEL_PADDING = 8;\nconst LABEL_COSINE = 1;\n\n/**\n *\n * @param {any} settings\n * @param {string} seriesKey\n * @param {d3.ScaleLinear} size\n * @param {d3.ScaleOrdinal} color\n * @param {string} label\n * @param {d3.ScaleOrdinal} symbols\n * @param {number?} scale_factor\n * @returns  {d3fc.seriesCanvasPoint}\n */\nexport function pointSeriesCanvas(\n    settings,\n    symbolKey,\n    size,\n    color,\n    label,\n    symbols,\n    scale_factor = 1\n) {\n    let series = seriesCanvasPoint()\n        .crossValue((d) => d.x)\n        .mainValue((d) => d.y);\n\n    if (symbols) {\n        series.type((data) => symbols(data.row[symbolKey]));\n    }\n\n    if (size) {\n        series.size((d) => Math.round(scale_factor * size(d.size)));\n    }\n\n    series.decorate((context, data) => {\n        const colorValue = color(data.colorValue);\n        const opacity = settings.colorStyles?.opacity;\n        if (label) {\n            const { type } = settings.mainValues.find((x) => x.name === label);\n            const value = toValue(type, data.row[label]);\n            if (value !== null) {\n                context.fillStyle = settings.textStyles.color;\n                context.font = settings.textStyles.font;\n                let magnitude = 0;\n                if (size) {\n                    // A = pi * r^2\n                    // r = sqrt(A / pi)\n                    const radius = Math.sqrt(\n                        (scale_factor * size(data.size)) / Math.PI\n                    );\n\n                    magnitude = radius * LABEL_COSINE;\n                }\n\n                const mag_with_padding = magnitude + LABEL_PADDING;\n                context.fillText(value, mag_with_padding, 4);\n            }\n        }\n\n        context.strokeStyle = withoutOpacity(colorValue);\n        context.fillStyle = withOpacity(colorValue, opacity);\n    });\n\n    return series;\n}\n\nexport function symbolTypeFromColumn(\n    settings: Settings,\n    column: string | null\n): D3Scale {\n    let rows = [...new Set(getValuesByColumn(settings, column))];\n    return fromDomain(rows);\n}\n\nexport function symbolTypeFromGroups(settings: Settings) {\n    const col =\n        settings.data && settings.data.length > 0 ? settings.data[0] : {};\n    const domain: string[] = [];\n    Object.keys(col).forEach((key) => {\n        if (key !== \"__ROW_PATH__\") {\n            const group = groupFromKey(key);\n            if (!domain.includes(group)) {\n                domain.push(group);\n            }\n        }\n    });\n    return fromDomain(domain);\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\n\nconst sqrt3 = Math.sqrt(3);\n\nconst nabla = {\n    draw: function (context, size) {\n        const y = Math.sqrt(size / (sqrt3 * 3));\n        context.moveTo(0, y * 2);\n        context.lineTo(-sqrt3 * y, -y);\n        context.lineTo(sqrt3 * y, -y);\n        context.closePath();\n    },\n};\n\nexport const symbols = [\n    d3.symbolCircle,\n    d3.symbolCross,\n    d3.symbolDiamond,\n    d3.symbolSquare,\n    d3.symbolStar,\n    d3.symbolTriangle,\n    d3.symbolWye,\n];\nexport const symbolsObj = {\n    circle: d3.symbolCircle,\n    square: d3.symbolSquare,\n    cross: d3.symbolCross,\n    diamond: d3.symbolDiamond,\n    star: d3.symbolStar,\n    triangle: d3.symbolTriangle,\n    wye: d3.symbolWye,\n    nabla,\n};\n\nexport function fromDomain(domain: string[]) {\n    return domain.length > 1\n        ? d3.scaleOrdinal().domain(domain).range(symbols)\n        : null;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { groupFromKey } from \"../series/seriesKey\";\n\nexport function xySplitData(settings, data) {\n    const n_cols = settings.mainValues.length;\n\n    return data.map((col) => {\n        const cols = Object.keys(col).filter((key) => key !== \"__ROW_PATH__\");\n        const row = new Array(cols.length / n_cols);\n        for (let i = 0; i < cols.length / n_cols; i++) {\n            row[i] = {\n                key: groupFromKey(cols[i * n_cols]),\n                crossValue: col[cols[i * n_cols]],\n                mainValue: col[cols[i * n_cols + 1]],\n                row: col,\n            };\n        }\n        return row;\n    });\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { AxisFactoryContent, axisFactory } from \"../axis/axisFactory\";\nimport { chartSvgFactory } from \"../axis/chartFactory\";\nimport { axisSplitter } from \"../axis/axisSplitter\";\nimport { AXIS_TYPES } from \"../axis/axisType\";\nimport { areaSeries } from \"../series/areaSeries\";\nimport { lineSeries } from \"../series/lineSeries\";\nimport { seriesColors } from \"../series/seriesColors\";\nimport { splitAndBaseData } from \"../data/splitAndBaseData\";\nimport { colorLegend } from \"../legend/legend\";\nimport { filterData } from \"../legend/filter\";\nimport withGridLines from \"../gridlines/gridlines\";\n\nimport { hardLimitZeroPadding } from \"../d3fc/padding/hardLimitZero\";\nimport zoomableChart from \"../zoom/zoomableChart\";\nimport nearbyTip from \"../tooltip/nearbyTip\";\nimport { HTMLSelection, Settings } from \"../types\";\n\nfunction areaChart(container: HTMLSelection, settings: Settings) {\n    const data: any[] = splitAndBaseData(settings, filterData(settings));\n\n    const color = seriesColors(settings);\n    const legend = colorLegend().settings(settings).scale(color);\n\n    const area_series = fc\n        .seriesSvgRepeat()\n        .series(areaSeries(settings, color).orient(\"vertical\"));\n\n    const line_series = fc\n        .seriesSvgRepeat()\n        .series(lineSeries(settings, color))\n        .orient(\"vertical\");\n\n    const series = fc.seriesSvgMulti().series([area_series, line_series]);\n\n    const xAxis: AxisFactoryContent = axisFactory(settings)\n        .excludeType(AXIS_TYPES.linear)\n        .settingName(\"crossValues\")\n        .valueName(\"crossValue\")(data);\n    const yAxisFactory = axisFactory(settings)\n        .settingName(\"mainValues\")\n        .valueName(\"mainValue\")\n        .memoValue(settings.axisMemo[1])\n        .excludeType(AXIS_TYPES.ordinal)\n        .orient(\"vertical\")\n        .include([0])\n        .paddingStrategy(hardLimitZeroPadding());\n\n    // Check whether we've split some values into a second y-axis\n    const splitter = axisSplitter(settings, data).color(color);\n\n    const yAxis1: AxisFactoryContent = yAxisFactory(splitter.data());\n\n    // No grid lines if splitting y-axis\n    const plotSeries = splitter.haveSplit()\n        ? series\n        : withGridLines(series, settings).orient(\"vertical\");\n\n    const chart = chartSvgFactory(xAxis, yAxis1)\n        .axisSplitter(splitter)\n        .plotArea(plotSeries);\n\n    chart.yNice && chart.yNice();\n\n    const zoomChart = zoomableChart()\n        .chart(chart)\n        .settings(settings)\n        .xScale(xAxis.scale);\n\n    const toolTip = nearbyTip()\n        .settings(settings)\n        .xScale(xAxis.scale)\n        .yScale(yAxis1.scale)\n        .color(color)\n        .data(data);\n\n    if (splitter.haveSplit()) {\n        // Create the y-axis data for the alt-axis\n        const yAxis2 = yAxisFactory(splitter.altData());\n        chart.altAxis(yAxis2);\n        // Give the tooltip the information (i.e. 2 datasets with different\n        // scales)\n        toolTip.data(splitter.data()).altDataWithScale({\n            yScale: yAxis2.scale,\n            data: splitter.altData(),\n        });\n    }\n\n    // render\n    container.datum(splitter.data()).call(zoomChart);\n    container.call(toolTip);\n    container.call(legend);\n}\nareaChart.plugin = {\n    name: \"Y Area\",\n    category: \"Y Chart\",\n    max_cells: 4000,\n    max_columns: 50,\n    render_warning: true,\n    initial: {\n        names: [\"Y Axis\"],\n    },\n};\n\nexport default areaChart;\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { D3Scale, Settings } from \"../types\";\n\nexport function areaSeries(_settings: Settings, color: D3Scale) {\n    let series = fc.seriesSvgArea();\n\n    series = series.decorate((selection) => {\n        selection.style(\"fill\", (d) => color(d[0].key)).style(\"opacity\", 0.5);\n    });\n\n    return series\n        .crossValue((d) => d.crossValue)\n        .mainValue((d) => d.mainValue)\n        .baseValue((d) => d.baseValue);\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { labelFunction } from \"../axis/axisLabel\";\nimport { Settings } from \"../types\";\n\nexport interface SplitAndBasedData {\n    key: string;\n    crossValue: string;\n    mainValue: number;\n    baseValue: number;\n    row: any;\n}\n\nexport function splitAndBaseData(\n    settings: Settings,\n    data\n): SplitAndBasedData[][] {\n    const labelfn = labelFunction(settings);\n\n    return data.map((col, i): SplitAndBasedData[] => {\n        const baseValues = {};\n\n        return Object.keys(col)\n            .filter((key) => key !== \"__ROW_PATH__\")\n            .map((key) => {\n                // Keys are of the form \"split1|split2|aggregate\"\n                const labels = key.split(\"|\");\n                // label=\"aggregate\"\n                const label = labels[labels.length - 1];\n                const baseValue = baseValues[label] || 0;\n                const value = baseValue + col[key];\n                baseValues[label] = value;\n\n                return {\n                    key,\n                    crossValue: labelfn(col, i),\n                    mainValue: value,\n                    baseValue: baseValue,\n                    row: col,\n                };\n            });\n    });\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { AxisFactoryContent, axisFactory } from \"../axis/axisFactory\";\nimport { AXIS_TYPES } from \"../axis/axisType\";\nimport { chartSvgFactory } from \"../axis/chartFactory\";\nimport { axisSplitter } from \"../axis/axisSplitter\";\nimport { seriesColors } from \"../series/seriesColors\";\nimport { categoryPointSeries, symbolType } from \"../series/categoryPointSeries\";\nimport { groupData } from \"../data/groupData\";\nimport { symbolLegend } from \"../legend/legend\";\nimport { filterData } from \"../legend/filter\";\nimport withGridLines from \"../gridlines/gridlines\";\nimport { hardLimitZeroPadding } from \"../d3fc/padding/hardLimitZero\";\nimport zoomableChart from \"../zoom/zoomableChart\";\nimport nearbyTip from \"../tooltip/nearbyTip\";\nimport { HTMLSelection, Settings } from \"../types\";\n\nfunction yScatter(container: HTMLSelection, settings: Settings) {\n    const data = groupData(settings, filterData(settings));\n    const symbols = symbolType(settings);\n    const color = seriesColors(settings);\n\n    const legend = symbolLegend()\n        .settings(settings)\n        .scale(symbols)\n        .color(color);\n\n    const series = fc\n        .seriesSvgMulti()\n        .mapping((data, index) => data[index])\n        .series(\n            data.map((series) =>\n                categoryPointSeries(settings, series.key, color, symbols)\n            )\n        );\n\n    const paddingStrategy = hardLimitZeroPadding()\n        .pad([0.05, 0.05])\n        .padUnit(\"percent\");\n\n    const xAxis: AxisFactoryContent = axisFactory(settings)\n        .excludeType(AXIS_TYPES.linear)\n        .settingName(\"crossValues\")\n        .valueName(\"crossValue\")(data);\n    const yAxisFactory = axisFactory(settings)\n        .settingName(\"mainValues\")\n        .valueName(\"mainValue\")\n        .memoValue(settings.axisMemo[1])\n        .orient(\"vertical\")\n        .paddingStrategy(paddingStrategy);\n\n    // Check whether we've split some values into a second y-axis\n    const splitter = axisSplitter(settings, data).color(color);\n\n    const yAxis1: AxisFactoryContent = yAxisFactory(splitter.data());\n\n    // No grid lines if splitting y-axis\n    const plotSeries = splitter.haveSplit()\n        ? series\n        : withGridLines(series, settings).orient(\"vertical\");\n\n    const chart = chartSvgFactory(xAxis, yAxis1)\n        .axisSplitter(splitter)\n        .plotArea(plotSeries);\n\n    chart.yNice && chart.yNice();\n\n    const zoomChart = zoomableChart()\n        .chart(chart)\n        .settings(settings)\n        .xScale(xAxis.scale);\n\n    const toolTip = nearbyTip()\n        .settings(settings)\n        .xScale(xAxis.scale)\n        .yScale(yAxis1.scale)\n        .color(color)\n        .data(data);\n\n    if (splitter.haveSplit()) {\n        // Create the y-axis data for the alt-axis\n        const yAxis2 = yAxisFactory(splitter.altData());\n        chart.altAxis(yAxis2);\n        // Give the tooltip the information (i.e. 2 datasets with different\n        // scales)\n        toolTip.data(splitter.data()).altDataWithScale({\n            yScale: yAxis2.scale,\n            data: splitter.altData(),\n        });\n    }\n\n    // render\n    container.datum(splitter.data()).call(zoomChart);\n    container.call(toolTip);\n    if (legend) {\n        container.call(legend);\n    }\n}\n\nyScatter.plugin = {\n    name: \"Y Scatter\",\n    category: \"Y Chart\",\n    max_cells: 4000,\n    max_columns: 50,\n    render_warning: true,\n    initial: {\n        names: [\"Y Axis\"],\n    },\n};\n\nexport default yScatter;\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { withOpacity, withoutOpacity } from \"./seriesColors\";\nimport { fromDomain } from \"./seriesSymbols\";\nimport { D3Scale, Settings } from \"../types\";\n\nexport function categoryPointSeries(\n    settings: Settings,\n    seriesKey: string,\n    color: D3Scale,\n    symbols: D3Scale\n) {\n    let series = fc.seriesSvgPoint().size(100);\n    const opacity = settings.colorStyles && settings.colorStyles.opacity;\n\n    if (symbols) {\n        series.type(symbols(seriesKey));\n    }\n\n    series.decorate((selection) => {\n        selection\n            .style(\"stroke\", (d) =>\n                withoutOpacity(color(d.colorValue || seriesKey))\n            )\n            .style(\"fill\", (d) =>\n                withOpacity(color(d.colorValue || seriesKey), opacity)\n            );\n    });\n\n    return series.crossValue((d) => d.crossValue).mainValue((d) => d.mainValue);\n}\n\nexport function symbolType(settings: Settings) {\n    const col =\n        settings.data && settings.data.length > 0 ? settings.data[0] : {};\n    const domain = Object.keys(col).filter((k) => k !== \"__ROW_PATH__\");\n    return fromDomain(domain);\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { labelFunction } from \"../axis/axisLabel\";\nimport { Settings } from \"../types\";\nimport { splitIntoMultiSeries } from \"./splitIntoMultiSeries\";\n\nexport function pointData(settings: Settings, data) {\n    return splitIntoMultiSeries(settings, data, { excludeEmpty: true }).map(\n        (data) => seriesToPoints(settings, data)\n    );\n}\n\nfunction seriesToPoints(settings: Settings, data) {\n    const labelfn = labelFunction(settings);\n\n    const mappedSeries = data.map((col, i) => ({\n        crossValue: labelfn(col, i),\n        mainValues: settings.mainValues.map((v) => col[v.name]),\n        x: col[settings.mainValues[0].name],\n        y: col[settings.mainValues[1].name],\n        colorValue: settings.realValues[2]\n            ? col[settings.realValues[2]]\n            : undefined,\n        size: settings.realValues[3] ? col[settings.realValues[3]] : undefined,\n        key: data.key,\n        row: col,\n    }));\n\n    mappedSeries.key = data.key;\n    return mappedSeries;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport { domain } from \"../axis/linearAxis\";\nimport { Settings, ValueName } from \"../types\";\n\nexport function seriesLinearRange(\n    _settings,\n    data,\n    valueName,\n    customExtent?: any\n) {\n    return d3.scaleLinear().domain(getExtent(data, valueName, customExtent));\n}\n\nexport function seriesColorRange(\n    settings: Settings,\n    data: any[],\n    valueName: ValueName,\n    customExtent = null\n): d3.ScaleSequential<string> {\n    let extent = getExtent(data, valueName, customExtent);\n    let gradient = settings.colorStyles.gradient.full;\n\n    if (extent[0] >= 0) {\n        gradient = settings.colorStyles.gradient.positive;\n    } else if (extent[1] <= 0) {\n        gradient = settings.colorStyles.gradient.negative;\n    } else {\n        const maxVal = Math.max(-extent[0], extent[1]);\n        extent = [-maxVal, maxVal];\n    }\n\n    const interpolator = multiInterpolator(gradient);\n    return d3.scaleSequential(interpolator).domain(extent);\n}\n\nconst getExtent = (data: any[], valueName: ValueName, customExtent?: any) => {\n    return customExtent || domain().valueName(valueName).pad([0, 0])(data);\n};\n\nconst multiInterpolator = (gradientPairs) => {\n    // A new interpolator that calls through to a set of\n    // interpolators between each value/color pair\n    const interpolators = gradientPairs\n        .slice(1)\n        .map((p, i) => d3.interpolate(gradientPairs[i][1], p[1]));\n    return (value) => {\n        const index = gradientPairs.findIndex(\n            (p, i) =>\n                i < gradientPairs.length - 1 &&\n                value <= gradientPairs[i + 1][0] &&\n                value > p[0]\n        );\n        if (index === -1) {\n            if (value <= gradientPairs[0][0]) {\n                return gradientPairs[0][1];\n            }\n            return gradientPairs[gradientPairs.length - 1][1];\n        }\n\n        const interpolator = interpolators[index];\n        const [value1] = gradientPairs[index];\n        const [value2] = gradientPairs[index + 1];\n\n        return interpolator((value - value1) / (value2 - value1));\n    };\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport * as fc from \"d3fc\";\nimport { getOrCreateElement } from \"../utils/utils\";\nimport { getValueFormatterForRange as getValueFormatter } from \"../axis/valueFormatter\";\n\nexport function colorRangeLegend() {\n    let scale = null;\n\n    function legend(container) {\n        const legendSelection = getOrCreateElement(\n            container,\n            \"div.legend-container\",\n            () =>\n                container\n                    .append(\"div\")\n                    .attr(\"class\", \"legend-container legend-color\")\n                    .style(\"z-index\", \"2\")\n        );\n        const { width, height } = legendSelection\n            .node()\n            .getBoundingClientRect();\n\n        const xScale = d3.scaleBand<number>().domain([0, 1]).range([0, width]);\n\n        const domain = scale.copy().nice().domain();\n        const paddedDomain = fc\n            .extentLinear()\n            .pad([0.1, 0.1])\n            .padUnit(\"percent\")(domain);\n        const [min, max] = paddedDomain;\n        const expandedDomain = d3.range(min, max, (max - min) / height);\n\n        const yScale = d3.scaleLinear().domain(paddedDomain).range([height, 0]);\n\n        const svgBar = fc\n            .autoBandwidth(fc.seriesSvgBar())\n            .xScale(xScale)\n            .yScale(yScale)\n            .crossValue(0)\n            .baseValue((_, i) => expandedDomain[Math.max(0, i - 1)])\n            .mainValue((d) => d)\n            .decorate((selection) => {\n                selection.selectAll(\"path\").style(\"fill\", (d) => scale(d));\n            });\n\n        const middle =\n            domain[0] < 0 && domain[1] > 0\n                ? 0\n                : Math.round((domain[1] + domain[0]) / 2);\n        const tickValues = [...domain, middle];\n\n        let valueformatter = getValueFormatter(min, max);\n        const axisLabel = fc\n            .axisRight(yScale)\n            .tickValues(tickValues)\n            .tickSizeOuter(0)\n            .tickFormat((d) => valueformatter(d));\n\n        const legendSvg = getOrCreateElement(legendSelection, \"svg\", () =>\n            legendSelection.append(\"svg\")\n        )\n            .style(\"width\", width)\n            .style(\"height\", height);\n        const legendBar = getOrCreateElement(legendSvg, \"g\", () =>\n            legendSvg.append(\"g\")\n        )\n            .datum(expandedDomain)\n            .call(svgBar);\n\n        const barWidth = Math.abs(legendBar.node().getBBox().x);\n        getOrCreateElement(legendSvg, \"#legend-axis\", () =>\n            legendSvg.append(\"g\").attr(\"id\", \"legend-axis\")\n        )\n            .attr(\"transform\", `translate(${barWidth})`)\n            .datum(expandedDomain)\n            .call(axisLabel)\n            .select(\".domain\")\n            .attr(\"visibility\", \"hidden\");\n    }\n\n    legend.scale = (...args) => {\n        if (!args.length) {\n            return scale;\n        }\n        scale = args[0];\n        return legend;\n    };\n\n    return legend;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { getOrCreateElement } from \"../utils/utils\";\n\nexport interface GridLayoutMultiChart {\n    (container: any): any;\n\n    elementsPrefix(): string;\n    elementsPrefix(nextPrefix: string): GridLayoutMultiChart;\n\n    padding(): string;\n    padding(nextPadding: string): GridLayoutMultiChart;\n\n    svg(): boolean;\n    svg(nextSvg: boolean): GridLayoutMultiChart;\n\n    chartContainer: () => any;\n    chartEnter: () => any;\n    chartDiv: () => any;\n    chartTitle: () => any;\n    containerSize: () => any;\n}\n\nexport function gridLayoutMultiChart(): GridLayoutMultiChart {\n    let elementsPrefix = \"element-prefix-unset\";\n\n    let chartContainer = null;\n    let chartEnter = null;\n    let chartDiv = null;\n    let chartTitle = null;\n    let color = null;\n    let containerSize = null;\n    let svg = true;\n    let padding = null;\n\n    const _gridLayoutMultiChart: Partial<GridLayoutMultiChart> = (\n        container\n    ) => {\n        const outerContainer = getOrCreateElement(\n            container,\n            \"div.outer-container\",\n            () =>\n                container\n                    .append(\"div\")\n                    .attr(\"class\", \"outer-container\")\n                    .style(\"width\", `calc(100% - ${padding ?? 0})`)\n                    .style(\"height\", `calc(100% - ${padding ?? 0})`)\n                    .style(\"padding-left\", padding ?? 0)\n        );\n\n        const scrollContainer = getOrCreateElement(\n            outerContainer,\n            \"div.inner-container\",\n            () => outerContainer.append(\"div\").attr(\"class\", \"inner-container\")\n        );\n\n        const innerRect = outerContainer.node().getBoundingClientRect();\n        const containerHeight = innerRect.height;\n        const containerWidth = innerRect.width - (color ? 70 : 0);\n\n        const minSize = 300;\n        const data = container.datum();\n\n        const cols = Math.max(\n            1,\n            Math.min(data.length, Math.floor(containerWidth / minSize))\n        );\n        const rows = Math.ceil(data.length / cols);\n\n        containerSize = {\n            width: containerWidth / Math.max(cols, 1),\n            height: Math.min(\n                containerHeight,\n                Math.max(\n                    containerHeight / rows,\n                    containerWidth / Math.max(cols, 1)\n                )\n            ),\n        };\n\n        if (containerHeight / rows > containerSize.height * 0.75) {\n            containerSize.height = containerHeight / rows;\n        }\n\n        if (data.length > 1) {\n            scrollContainer.style(\n                \"grid-template-columns\",\n                `repeat(${cols}, ${100 / cols}%)`\n            );\n            scrollContainer.style(\n                \"grid-template-rows\",\n                `repeat(${rows}, ${containerSize.height}px)`\n            );\n        } else {\n            scrollContainer.style(\"grid-template-columns\", `repeat(1, 100%)`);\n            scrollContainer.style(\"grid-template-rows\", `repeat(1, 100%)`);\n        }\n\n        chartDiv = scrollContainer\n            .selectAll(`div.${elementsPrefix}-container`)\n            .data(data, (d) => d.split);\n        chartDiv.exit().remove();\n\n        chartEnter = chartDiv\n            .enter()\n            .append(\"div\")\n            .attr(\"class\", `${elementsPrefix}-container`);\n\n        chartTitle = chartEnter\n            .append(\"div\")\n            .attr(\"class\", \"title-container\")\n            .style(\"text-align\", \"center\")\n            .attr(\"display\", \"inline-block\")\n            .append(\"text\")\n            .attr(\"class\", \"title\")\n            .style(\"text-align\", \"left\");\n\n        if (svg) {\n            chartContainer = chartEnter\n                .append(\"svg\")\n                .append(\"g\")\n                .attr(\"class\", elementsPrefix);\n        } else {\n            chartContainer = chartEnter\n                .append(\"div\")\n                .attr(\"class\", elementsPrefix);\n        }\n    };\n\n    _gridLayoutMultiChart.padding = (...args: string[]): any => {\n        if (!args.length) {\n            return padding;\n        }\n        padding = args[0];\n        return _gridLayoutMultiChart;\n    };\n    _gridLayoutMultiChart.svg = (...args: boolean[]): any => {\n        if (!args.length) {\n            return svg;\n        }\n        svg = args[0];\n        return _gridLayoutMultiChart;\n    };\n\n    _gridLayoutMultiChart.elementsPrefix = (...args: string[]): any => {\n        if (!args.length) {\n            return elementsPrefix;\n        }\n        elementsPrefix = args[0];\n        return _gridLayoutMultiChart;\n    };\n\n    _gridLayoutMultiChart.chartContainer = () => chartContainer;\n\n    _gridLayoutMultiChart.chartEnter = () => chartEnter;\n\n    _gridLayoutMultiChart.chartDiv = () => chartDiv;\n\n    _gridLayoutMultiChart.chartTitle = () => chartTitle;\n\n    _gridLayoutMultiChart.containerSize = () => containerSize;\n\n    return _gridLayoutMultiChart as GridLayoutMultiChart;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { axisFactory } from \"../../axis/axisFactory\";\nimport { chartCanvasFactory } from \"../../axis/chartFactory\";\nimport { pointSeriesCanvas, symbolTypeFromColumn } from \"../pointSeriesCanvas\";\nimport { seriesLinearRange } from \"../seriesRange\";\nimport withGridLines from \"../../gridlines/gridlines\";\nimport { hardLimitZeroPadding } from \"../../d3fc/padding/hardLimitZero\";\nimport zoomableChart from \"../../zoom/zoomableChart\";\nimport nearbyTip from \"../../tooltip/nearbyTip\";\nimport { symbolsObj } from \"../seriesSymbols\";\nimport { D3Scale, Settings } from \"../../types\";\n\n/**\n * Define a clamped scaling factor based on the container size for bubble plots.\n *\n * @param {Array} p1 a point as a tuple of `Number`\n * @param {Array} p2 a second point as a tuple of `Number`\n * @returns a function `container -> integer` which calculates a scaling factor\n * from the linear function (clamped) defgined by the input points\n */\nfunction interpolate_scale([x1, y1], [x2, y2]) {\n    const m = (y2 - y1) / (x2 - x1);\n    const b = y2 - m * x2;\n    return function (container) {\n        const node = container.node();\n        const shortest_axis = Math.min(node.clientWidth, node.clientHeight);\n        return Math.min(y2, Math.max(y1, m * shortest_axis + b));\n    };\n}\n\nexport interface XYScatterSeries {\n    (container: any): void;\n\n    settings(): Settings;\n    settings(settings: Settings): XYScatterSeries;\n\n    data(): Record<string, any>[][];\n    data(data: Record<string, any>[][]): XYScatterSeries;\n\n    color(): D3Scale;\n    color(color: D3Scale): XYScatterSeries;\n\n    symbols(): D3Scale;\n    symbols(symbols: D3Scale): XYScatterSeries;\n}\n\n/**\n * @param {d3.Selection} container - d3.Selection of the outer div\n * @param {any} settings - settings as defined in the Update method in plugin.js\n */\nexport default function xyScatterSeries(): XYScatterSeries {\n    let settings: Settings | null = null;\n    let data = null;\n    let color = null;\n    let symbols = null;\n\n    const _xyScatterSeries: Partial<XYScatterSeries> = (container) => {\n        const colorBy = settings.realValues[2];\n        let hasColorBy = !!colorBy;\n        const symbolCol = settings.realValues[4];\n\n        const size = settings.realValues[3]\n            ? seriesLinearRange(settings, data, \"size\").range([10, 10000])\n            : null;\n\n        const label = settings.realValues[5];\n\n        const scale_factor = interpolate_scale(\n            [600, 0.1],\n            [1600, 1]\n        )(container);\n        const series = fc\n            .seriesCanvasMulti()\n            .mapping((data, index) => data[index])\n            .series(\n                data.map(() =>\n                    pointSeriesCanvas(\n                        settings,\n                        symbolCol,\n                        size,\n                        color,\n                        label,\n                        symbols,\n                        scale_factor\n                    )\n                )\n            );\n\n        const axisDefault = () =>\n            axisFactory(settings)\n                .settingName(\"mainValues\")\n                .paddingStrategy(hardLimitZeroPadding())\n                .pad([0.1, 0.1]);\n\n        const xAxis = axisDefault()\n            .settingValue(settings.mainValues[0].name)\n            .memoValue(settings.axisMemo[0])\n            .valueName(\"x\")(data);\n\n        const yAxis = axisDefault()\n            .orient(\"vertical\")\n            .settingValue(settings.mainValues[1].name)\n            .memoValue(settings.axisMemo[1])\n            .valueName(\"y\")(data);\n\n        const [xLabel, yLabel] =\n            settings.splitValues.length === 0\n                ? [settings.mainValues[0].name, settings.mainValues[1].name]\n                : [\"\", \"\"];\n\n        const chart = chartCanvasFactory(xAxis, yAxis)\n            .xLabel(xLabel)\n            .yLabel(yLabel)\n            .plotArea(withGridLines(series, settings).canvas(true));\n\n        chart.xNice && chart.xNice();\n        chart.yNice && chart.yNice();\n\n        // TODO: This make scrolling the grid tricky. Maybe require modifier key to zoom?\n        // Also, reset zoom button is now at the top of the page and overlaps any other items.\n        const zoomChart = zoomableChart()\n            .chart(chart)\n            .settings(settings)\n            .xScale(xAxis.scale)\n            .yScale(yAxis.scale)\n            .canvas(true);\n\n        const toolTip = nearbyTip()\n            .scaleFactor(scale_factor)\n            .settings(settings)\n            .canvas(true)\n            .xScale(xAxis.scale as D3Scale)\n            .xValueName(\"x\")\n            .yValueName(\"y\")\n            .yScale(yAxis.scale as D3Scale)\n            .color((!hasColorBy && color) as D3Scale)\n            .size(size)\n            .data(data);\n\n        // render\n        container.datum(data).call(zoomChart);\n        container.call(toolTip);\n    };\n\n    _xyScatterSeries.settings = (...args: Settings[]): any => {\n        if (!args.length) {\n            return settings;\n        }\n        settings = args[0];\n        return _xyScatterSeries;\n    };\n    _xyScatterSeries.data = (...args: any[][]): any => {\n        if (!args.length) {\n            return data;\n        }\n        data = args[0];\n        return _xyScatterSeries;\n    };\n    _xyScatterSeries.color = (...args: D3Scale[]): any => {\n        if (!args.length) {\n            return color;\n        }\n        color = args[0];\n        return _xyScatterSeries;\n    };\n    _xyScatterSeries.symbols = (...args: D3Scale[]): any => {\n        if (!args.length) {\n            return symbols;\n        }\n        symbols = args[0];\n        return _xyScatterSeries;\n    };\n\n    return _xyScatterSeries as XYScatterSeries;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport { symbolTypeFromColumn } from \"../series/pointSeriesCanvas\";\nimport { pointData } from \"../data/pointData\";\nimport {\n    seriesColorsFromColumn,\n    seriesColorsFromDistinct,\n    colorScale,\n} from \"../series/seriesColors\";\nimport { seriesColorRange } from \"../series/seriesRange\";\nimport { symbolLegend, colorLegend } from \"../legend/legend\";\nimport { colorRangeLegend } from \"../legend/colorRangeLegend\";\nimport { filterDataByGroup } from \"../legend/filter\";\nimport { symbolsObj } from \"../series/seriesSymbols\";\nimport { gridLayoutMultiChart } from \"../layout/gridLayoutMultiChart\";\nimport xyScatterSeries from \"../series/xy-scatter/xyScatterSeries\";\nimport { D3Scale, HTMLSelection, Settings, Type } from \"../types\";\n\n/**\n * Overrides specific symbols based on plugin settings. This modifies in-place _and_ returns the value.\n * @param {any} settings\n * @param {d3.ScaleOrdinal} symbols\n */\nfunction overrideSymbols(settings: Settings, symbols): D3Scale {\n    if (!symbols) {\n        return;\n    }\n    const symbolCol = settings.realValues[4];\n    const columnType = settings.mainValues.find(\n        (val) => val.name === symbolCol\n    )?.type;\n    let domain: string[] = symbols.domain();\n    let range = symbols.range();\n    let len = range.length;\n    for (let [i, _] of domain.entries()) {\n        range[i] = range[(i as number) % len];\n    }\n    let maybeSymbols = (settings.columns_config?.[symbolCol]?.[\"symbols\"] ??\n        {}) as Record<string, string>;\n    Object.entries(maybeSymbols).forEach(([key, value]) => {\n        // TODO: Define custom symbol types based on the values passed in here.\n        // https://d3js.org/d3-shape/symbol#custom-symbols\n        let symbolType = symbolsObj[value] ?? d3.symbolCircle;\n\n        let i = domain.findIndex((val) => {\n            switch (columnType) {\n                case \"date\":\n                case \"datetime\":\n                    return new Date(val).valueOf() === new Date(key).valueOf();\n                default:\n                    return String(val) === String(key);\n            }\n        });\n\n        range[i] = symbolType;\n    });\n    symbols.range(range);\n    return symbols;\n}\n\nfunction xyScatter(container: HTMLSelection, settings: Settings) {\n    const colorBy = settings.realValues[2];\n    let hasColorBy = !!colorBy;\n    let isColoredByString =\n        settings.mainValues.find((x) => x.name === colorBy)?.type === \"string\";\n\n    let color = null;\n    let legend = null;\n\n    const symbolCol = settings.realValues[4];\n    const temp = symbolTypeFromColumn(settings, symbolCol);\n\n    const symbols = overrideSymbols(settings, temp);\n\n    const data = pointData(settings, filterDataByGroup(settings));\n\n    if (hasColorBy && isColoredByString) {\n        if (!!symbolCol) {\n            // TODO: Legend should have cartesian product labels (ColorBy|SplitBy)\n            // For now, just use monocolor legends.\n            if (settings.splitValues.length > 0) {\n                color = seriesColorsFromDistinct(settings, data);\n            } else {\n                color = seriesColorsFromDistinct(settings, data[0]);\n            }\n            legend = symbolLegend().settings(settings).scale(symbols);\n        } else {\n            color = seriesColorsFromColumn(settings, colorBy);\n            legend = colorLegend().settings(settings).scale(color);\n        }\n    } else if (hasColorBy) {\n        color = seriesColorRange(settings, data, \"colorValue\");\n        legend = colorRangeLegend().scale(color);\n    } else {\n        // always use default color\n        color = colorScale().settings(settings).domain([\"\"])();\n        legend = symbolLegend().settings(settings).scale(symbols);\n    }\n\n    if (settings.splitValues.length !== 0) {\n        let xyGrid = gridLayoutMultiChart()\n            .svg(false)\n            .elementsPrefix(\"xy-scatter\");\n        xyGrid = xyGrid.padding(\"2.5em\");\n\n        const xLabel = container.append(\"div\").attr(\"class\", \"multi-xlabel\");\n        xLabel.append(\"p\").text(settings.mainValues[0].name);\n\n        const yLabel = container.append(\"div\").attr(\"class\", \"multi-ylabel\");\n        yLabel\n            .append(\"p\")\n            .text(settings.mainValues[1].name)\n            .style(\"transform\", \"rotate(-90deg)\")\n            .style(\"text-wrap\", \"nowrap\");\n\n        container = container.datum(data);\n        container.call(xyGrid);\n        const xyContainer = xyGrid.chartContainer();\n        const xyEnter = xyGrid.chartEnter();\n        const xyDiv = xyGrid.chartDiv();\n        const xyTitle = xyGrid.chartTitle();\n        const containerSize = xyGrid.containerSize();\n\n        xyTitle.each((d, i, nodes) => d3.select(nodes[i]).text(d.key));\n        xyEnter\n            .merge(xyDiv)\n            .attr(\n                \"transform\",\n                `translate(${containerSize.width / 2}, ${\n                    containerSize.height / 2\n                })`\n            )\n            .each(function (data) {\n                const xyElement = d3.select(this);\n                xyScatterSeries()\n                    .settings(settings)\n                    .data([data])\n                    .color(color as D3Scale)\n                    .symbols(symbols)(xyElement);\n            });\n    } else {\n        xyScatterSeries()\n            .settings(settings)\n            .data(data)\n            .color(color as D3Scale)\n            .symbols(symbols)(container);\n    }\n\n    if (legend) container.call(legend);\n}\n\nxyScatter.plugin = {\n    name: \"X/Y Scatter\",\n    category: \"X/Y Chart\",\n    max_cells: 50000,\n    max_columns: 50,\n    render_warning: true,\n    initial: {\n        type: \"number\",\n        count: 2,\n        names: [\n            \"X Axis\",\n            \"Y Axis\",\n            \"Color\",\n            \"Size\",\n            \"Symbol\",\n            \"Label\",\n            \"Tooltip\",\n        ],\n    },\n    selectMode: \"toggle\",\n};\n\nxyScatter.can_render_column_styles = (type: Type, group?: string) => {\n    return type === \"string\" && group === \"Symbol\";\n};\nxyScatter.column_style_controls = (type: Type, group?: string) => {\n    if (type === \"string\" && group === \"Symbol\") {\n        return {\n            symbols: {\n                keys: \"row\",\n                values: Object.keys(symbolsObj),\n            },\n        };\n    } else {\n        return null;\n    }\n};\n\nexport default xyScatter;\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { tooltip } from \"../tooltip/tooltip\";\nimport { Settings } from \"../types\";\n\nexport function heatmapSeries(\n    _settings: Settings,\n    color: d3.ScaleSequential<string>\n) {\n    let series = fc.seriesCanvasHeatmap();\n\n    series.decorate((ctx, d) => {\n        ctx.fillStyle = color(d.colorValue);\n        // tooltip().settings(settings)(selection);\n        // selection.select(\"path\").attr(\"fill\", (d) => color(d.colorValue));\n    });\n\n    return fc\n        .autoBandwidth(series)\n        .xValue((d) => d.crossValue)\n        .yValue((d) => d.mainValue)\n        .colorValue((d) => d.colorValue)\n        .colorInterpolate(color.interpolator())\n        .widthFraction(1.0);\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { axisType } from \"../axis/axisType\";\nimport { AXIS_TYPES } from \"../axis/axisType\";\nimport { labelFunction } from \"../axis/axisLabel\";\nimport { Settings } from \"../types\";\n\nexport function heatmapData(settings: Settings, data) {\n    const labelfn = labelFunction(settings);\n    const mainType = axisType(settings)\n        .excludeType(AXIS_TYPES.linear)\n        .settingName(\"splitValues\")();\n\n    const heatmapData = [];\n\n    data.forEach((col, i) => {\n        const crossValue = labelfn(col, i);\n        Object.keys(col)\n            .filter((key) => key !== \"__ROW_PATH__\")\n            .forEach((key) => {\n                const mainValue = getMainValues(key);\n                heatmapData.push({\n                    crossValue: crossValue,\n                    mainValue:\n                        mainType === AXIS_TYPES.time\n                            ? new Date(mainValue)\n                            : mainValue,\n                    colorValue: col[key],\n                    row: col,\n                });\n            });\n    });\n\n    return heatmapData;\n}\n\nfunction getMainValues(key) {\n    // Key format is based on \"Split By\" values plus the value label at the end\n    // val1|val2|....|label\n    const labels = key.split(\"|\");\n    labels.pop();\n    return labels.join(\"|\");\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { AxisFactoryContent, axisFactory } from \"../axis/axisFactory\";\nimport { AXIS_TYPES } from \"../axis/axisType\";\nimport { chartCanvasFactory } from \"../axis/chartFactory\";\nimport { heatmapSeries } from \"../series/heatmapSeries\";\nimport { seriesColorRange } from \"../series/seriesRange\";\nimport { heatmapData } from \"../data/heatmapData\";\nimport { filterData } from \"../legend/filter\";\nimport withGridLines from \"../gridlines/gridlines\";\nimport { colorRangeLegend } from \"../legend/colorRangeLegend\";\nimport zoomableChart from \"../zoom/zoomableChart\";\nimport nearbyTip from \"../tooltip/nearbyTip\";\nimport { HTMLSelection, Settings } from \"../types\";\n\nfunction heatmapChart(container: HTMLSelection, settings: Settings) {\n    const data = heatmapData(settings, filterData(settings));\n\n    const color = seriesColorRange(settings, data, \"colorValue\");\n    const series = heatmapSeries(settings, color);\n\n    const legend = colorRangeLegend().scale(color);\n\n    const xAxis: AxisFactoryContent = axisFactory(settings)\n        .excludeType(AXIS_TYPES.linear)\n        .settingName(\"crossValues\")\n        .valueName(\"crossValue\")(data);\n\n    const yAxis: AxisFactoryContent = axisFactory(settings)\n        .excludeType(AXIS_TYPES.linear)\n        .settingName(\"splitValues\")\n        .valueName(\"mainValue\")\n        .modifyDomain((d: any[]): any[] => {\n            let is_number = !isNaN(d[0]);\n            return is_number ? d.reverse() : d;\n        })\n        .orient(\"vertical\")(data);\n\n    const chart = chartCanvasFactory(xAxis, yAxis).plotArea(\n        withGridLines(series, settings).canvas(true)\n    );\n\n    if (chart.xPaddingInner) {\n        chart.xPaddingInner(0);\n        chart.xPaddingOuter(0);\n        series.xAlign(\"right\");\n    }\n    if (chart.yPaddingInner) {\n        chart.yPaddingInner(0);\n        chart.yPaddingOuter(0);\n        series.yAlign(\"top\");\n    }\n\n    const zoomChart = zoomableChart()\n        .chart(chart)\n        .settings(settings)\n        .xScale(xAxis.scale)\n        .yScale(yAxis.scale)\n        .canvas(true);\n\n    // const tp = tooltip().settings(settings);\n\n    const toolTip = nearbyTip()\n        // .scaleFactor(scale_factor)\n        .settings(settings)\n        .canvas(true)\n        .xScale(xAxis.scale)\n        // .xValueName(\"x\")\n        // .yValueName(\"y\")\n        .yScale(yAxis.scale)\n        .color(color)\n        // .size(size)\n        .data(data);\n\n    // // render\n    // container.datum(data).call(zoomChart);\n\n    // render\n    container.datum(data).call(zoomChart);\n    container.call(legend);\n    container.call(toolTip);\n}\nheatmapChart.plugin = {\n    name: \"Heatmap\",\n    category: \"Hierarchial Chart\",\n    max_cells: 50000,\n    max_columns: 500,\n    render_warning: true,\n    initial: {\n        names: [\"Color\"],\n    },\n};\n\nexport default heatmapChart;\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { seriesCanvasOhlc } from \"d3fc\";\nimport ohlcCandle from \"./ohlcCandle\";\n\nconst ohlc = ohlcCandle(seriesCanvasOhlc);\nohlc.plugin = {\n    name: \"OHLC\",\n    category: \"Y Chart\",\n    max_cells: 3500,\n    max_columns: 50,\n    render_warning: true,\n    initial: {\n        type: \"number\",\n        count: 1,\n        names: [\"Open\", \"Close\", \"High\", \"Low\", \"Tooltip\"],\n    },\n    selectMode: \"toggle\",\n};\n\nexport default ohlc;\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { AxisFactoryContent, axisFactory } from \"../axis/axisFactory\";\nimport { chartCanvasFactory } from \"../axis/chartFactory\";\nimport { ohlcData } from \"../data/ohlcData\";\nimport { filterDataByGroup } from \"../legend/filter\";\nimport withGridLines from \"../gridlines/gridlines\";\n\nimport { hardLimitZeroPadding } from \"../d3fc/padding/hardLimitZero\";\nimport zoomableChart from \"../zoom/zoomableChart\";\nimport nearbyTip from \"../tooltip/nearbyTip\";\nimport { ohlcCandleSeries } from \"../series/ohlcCandleSeries\";\nimport { colorScale, setOpacity } from \"../series/seriesColors\";\nimport { colorLegend } from \"../legend/legend\";\nimport { Chart, HTMLSelection, Settings } from \"../types\";\n\nfunction ohlcCandle(seriesCanvas): Chart {\n    return function (container: HTMLSelection, settings: Settings) {\n        const srcData = ohlcData(settings, filterDataByGroup(settings));\n\n        const bollinger = fc\n            .indicatorBollingerBands()\n            .value((d) => d.openValue);\n        const data = srcData.map((seriesData) => {\n            const bollingerData = bollinger(seriesData);\n            return seriesData.map((d, i) =>\n                Object.assign({ bollinger: bollingerData[i] }, d)\n            );\n        });\n\n        const keys = srcData\n            .map((k) => k.key)\n            .concat(settings.hideKeys ? settings.hideKeys : [])\n            .sort();\n\n        const upColor = colorScale()\n            .domain(keys)\n            .settings(settings)\n            .mapFunction(setOpacity(1))();\n\n        const legend = colorLegend()\n            .settings(settings)\n            .scale(\n                keys.length > 1\n                    ? (upColor as unknown as d3.ScaleOrdinal<string, unknown>)\n                    : null\n            );\n\n        const series = ohlcCandleSeries(settings, seriesCanvas, upColor);\n\n        const multi = fc\n            .seriesCanvasMulti()\n            .mapping((data, index) => data[index])\n            .series(data.map(() => series));\n\n        const paddingStrategy = hardLimitZeroPadding()\n            .pad([0.1, 0.1])\n            .padUnit(\"percent\");\n\n        const xAxis: AxisFactoryContent = axisFactory(settings)\n            .settingName(\"crossValues\")\n            .valueName(\"crossValue\")(data);\n        const yAxis: AxisFactoryContent = axisFactory(settings)\n            .settingName(\"mainValues\")\n            .valueNames([\"lowValue\", \"highValue\"])\n            .memoValue(settings.axisMemo[1])\n            .orient(\"vertical\")\n            .paddingStrategy(paddingStrategy)(data);\n\n        const chart = chartCanvasFactory(xAxis, yAxis).plotArea(\n            withGridLines(multi, settings).orient(\"vertical\").canvas(true)\n        );\n\n        chart.yNice && chart.yNice();\n\n        const zoomChart = zoomableChart()\n            .chart(chart)\n            .settings(settings)\n            .xScale(xAxis.scale)\n            .onChange((zoom) => {\n                const zoomedData = data.map((series) =>\n                    series.filter(\n                        (d) =>\n                            d.crossValue >= zoom.xDomain[0] &&\n                            d.crossValue <= zoom.xDomain[1]\n                    )\n                );\n                chart.yDomain(yAxis.domainFunction(zoomedData));\n            })\n            .canvas(true);\n\n        const toolTip = nearbyTip()\n            .settings(settings)\n            .xScale(xAxis.scale)\n            .yScale(yAxis.scale)\n            .yValueName(\"closeValue\")\n            .color(upColor)\n            .data(data)\n            .canvas(true);\n\n        // render\n        container.datum(data).call(zoomChart);\n        container.call(toolTip);\n        container.call(legend);\n    };\n}\n\nexport default ohlcCandle;\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { labelFunction } from \"../axis/axisLabel\";\nimport { DataRowsWithKey, Settings } from \"../types\";\nimport { splitIntoMultiSeries } from \"./splitIntoMultiSeries\";\n\ntype MappedSeries = {\n    crossValue: any;\n    mainValues: any[];\n    openValue: any;\n    closeValue: any;\n    highValue: any;\n    lowValue: any;\n    key: string;\n    row: any;\n};\n\ninterface MappedSeriesArray extends Array<MappedSeries> {\n    key: string;\n}\n\nexport function ohlcData(settings: Settings, data: DataRowsWithKey) {\n    return splitIntoMultiSeries(settings, data, { excludeEmpty: true }).map(\n        (data) => seriesToOHLC(settings, data)\n    );\n}\n\nfunction seriesToOHLC(\n    settings: Settings,\n    data: DataRowsWithKey\n): MappedSeriesArray {\n    const labelfn = labelFunction(settings);\n    const getNextOpen = (i) =>\n        data[i < data.length - 1 ? i + 1 : i][settings.realValues[0]];\n    const mappedSeries: any = data.map((col, i) => {\n        const openValue = !!settings.realValues[0]\n            ? col[settings.realValues[0]]\n            : undefined;\n        const closeValue = !!settings.realValues[1]\n            ? col[settings.realValues[1]]\n            : getNextOpen(i);\n\n        return {\n            crossValue: labelfn(col, i),\n            mainValues: settings.mainValues.map((v) => col[v.name]),\n            openValue: openValue,\n            closeValue: closeValue,\n            highValue: !!settings.realValues[2]\n                ? col[settings.realValues[2]]\n                : Math.max(openValue as number, closeValue as number),\n            lowValue: !!settings.realValues[3]\n                ? col[settings.realValues[3]]\n                : Math.min(openValue as number, closeValue as number),\n            key: data.key,\n            row: col,\n        };\n    });\n\n    mappedSeries.key = data.key;\n    return mappedSeries;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as fc from \"d3fc\";\nimport { colorScale, setOpacity } from \"./seriesColors\";\nimport { D3Scale, Settings } from \"../types\";\n\nconst isUp = (d) => d.closeValue >= d.openValue;\n\nexport function ohlcCandleSeries(\n    settings: Settings,\n    seriesCanvas,\n    upColor: D3Scale\n) {\n    const domain = upColor.domain();\n    const downColor = colorScale()\n        .domain(domain)\n        .settings(settings)\n        .defaultColors([settings.colorStyles[\"series-2\"]])\n        .mapFunction(setOpacity(0.5))();\n    const avgColor = colorScale().settings(settings).domain(domain)();\n\n    const series = seriesCanvas()\n        .crossValue((d) => d.crossValue)\n        .openValue((d) => d.openValue)\n        .highValue((d) => d.highValue)\n        .lowValue((d) => d.lowValue)\n        .closeValue((d) => d.closeValue)\n        .decorate((context, d) => {\n            const color = isUp(d) ? upColor(d.key) : downColor(d.key);\n            context.fillStyle = color;\n            context.strokeStyle = color;\n        });\n\n    const bollingerAverageSeries = fc\n        .seriesCanvasLine()\n        .mainValue((d) => d.bollinger.average)\n        .crossValue((d) => d.crossValue)\n        .decorate((context, d) => {\n            context.strokeStyle = avgColor(d[0].key);\n        });\n\n    const bollingerAreaSeries = fc\n        .seriesCanvasArea()\n        .mainValue((d) => d.bollinger.upper)\n        .baseValue((d) => d.bollinger.lower)\n        .crossValue((d) => d.crossValue)\n        .decorate((context, d) => {\n            context.fillStyle = setOpacity(0.25)(avgColor(d[0].key));\n        });\n\n    return fc\n        .seriesCanvasMulti()\n        .series([bollingerAreaSeries, series, bollingerAverageSeries]);\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { seriesCanvasCandlestick } from \"d3fc\";\nimport ohlcCandle from \"./ohlcCandle\";\n\nlet candlestick = ohlcCandle(seriesCanvasCandlestick);\n\ncandlestick.plugin = {\n    name: \"Candlestick\",\n    category: \"Y Chart\",\n    max_cells: 4000,\n    max_columns: 50,\n    render_warning: true,\n    initial: {\n        type: \"number\",\n        count: 1,\n        names: [\"Open\", \"Close\", \"High\", \"Low\", \"Tooltip\"],\n    },\n    selectMode: \"toggle\",\n};\n\nexport default candlestick;\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { flattenExtent } from \"../../axis/flatten\";\nimport { seriesColorRange } from \"../seriesRange\";\nimport { seriesColorsFromDistinct } from \"../seriesColors\";\n\nexport function treeColor(settings, data) {\n    if (settings.realValues.length > 1 && settings.realValues[1] !== null) {\n        const color_column = settings.realValues[1];\n        if (\n            settings.mainValues.find((x) => x.name === color_column)?.type ===\n            \"string\"\n        ) {\n            const colors = data\n                .map((d) => d.data)\n                .filter((x) => x.height > 0)\n                .map((x) => getColors(x))\n                .reduce((a, b) => a.concat(b));\n            return seriesColorsFromDistinct(settings, colors);\n        } else {\n            return seriesColorRange(\n                settings,\n                null,\n                null,\n                flattenExtent(data.map((d) => d.extents))\n            );\n        }\n    }\n}\n\n// only get the colors from the bottom level (e.g. nodes with no children)\nfunction getColors(nodes, colors = []) {\n    nodes.children && nodes.children.length > 0\n        ? nodes.children.forEach((child) =>\n              colors.concat(getColors(child, colors))\n          )\n        : nodes.data.color && colors.push(nodes.data.color);\n    return colors;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport { toValue } from \"../tooltip/selectionData\";\nimport { Settings } from \"../types\";\n\nexport type TreeData = {\n    name: string;\n    children: unknown;\n    size?: number;\n    color?: number;\n    tooltip?: unknown[];\n};\n\nexport function treeData(settings: Settings) {\n    const sets = {};\n    const real_aggs = settings.realValues.map((x) =>\n        x === null ? null : settings.mainValues.find((y) => y.name === x)\n    );\n    settings.data.forEach((d, j) => {\n        const groups = Array.isArray(d.__ROW_PATH__)\n            ? (d.__ROW_PATH__ as string[])\n            : [];\n\n        const splits = getSplitNames(d);\n        splits.forEach((split) => {\n            let currentLevel;\n            if (!sets[split]) {\n                sets[split] = [];\n            }\n            currentLevel = sets[split];\n            groups.forEach((group, i) => {\n                let element = currentLevel.find((e) => e.name === group);\n                if (!element) {\n                    element = { name: group, children: [] };\n                    currentLevel.push(element);\n                }\n                if (\n                    settings.realValues.length > 1 &&\n                    settings.realValues[1] !== null\n                ) {\n                    const is_leaf = i === groups.length - 1;\n                    const colorValue = is_leaf\n                        ? getDataValue(d, settings.mainValues[1], split)\n                        : getDataValue(\n                              settings.agg_paths[j][i + 1] || d,\n                              settings.mainValues[1],\n                              split\n                          );\n                    if (colorValue !== undefined) {\n                        element.color = colorValue;\n                    }\n                }\n                if (\n                    settings.realValues.length > 2 &&\n                    settings.realValues[2] !== null\n                ) {\n                    element.tooltip = [];\n                    for (let i = 2; i < settings.realValues.length; ++i) {\n                        element.tooltip.push(\n                            getDataValue(d, real_aggs[i], split)\n                        );\n                    }\n                }\n                if (i === groups.length - 1) {\n                    element.name = groups.slice(-1)[0];\n                    if (settings.crossValues.length === 0) {\n                        element.size = getDataValue(\n                            d,\n                            settings.mainValues[0],\n                            \"\"\n                        );\n                    } else if (groups.length === settings.crossValues.length) {\n                        const size = getDataValue(\n                            d,\n                            settings.mainValues[0],\n                            split\n                        );\n                        element.size = size > 0 ? size : 0;\n                    }\n                }\n                currentLevel = element.children;\n            });\n        });\n    });\n\n    const data = Object.entries(sets).map((set) => {\n        const tree: TreeData = {\n            name: \"root\",\n            children: set[1],\n        };\n\n        const root = d3.hierarchy(tree).sum((d) => d.size); // adds a `value` field to each node\n        const chartData: d3.HierarchyNode<TreeData> = d3\n            .partition<TreeData>()\n            .size([2 * Math.PI, root.height + 1])(root);\n\n        // \"d\" is a Node, but chartData is a HierarchyNode, and there is a couple of\n        // fields that are missing from the Node type.\n        // What is the best way to handle this? What is the actual type here??\n        (chartData as any).each((d) => {\n            d.current = d;\n            d.mainValues =\n                settings.realValues.length === 1 ||\n                (settings.realValues[1] === null &&\n                    settings.realValues[2] === null)\n                    ? d.value\n                    : [d.value, d.data.color]\n                          .concat(d.data.tooltip || [])\n                          .filter((x) => x !== undefined);\n\n            d.crossValue = d\n                .ancestors()\n                .slice(0, -1)\n                .reverse()\n                .map((cross) => cross.data.name);\n\n            d.key = set[0];\n            d.label = toValue(\n                settings.crossValues[d.depth - 1 < 0 ? 0 : d.depth - 1]?.type ||\n                    settings.mainValues[0].type,\n                d.data.name\n            );\n        });\n\n        return {\n            split: set[0],\n            data: chartData,\n            extents: getExtents(settings, set),\n        };\n    });\n\n    return data;\n}\n\nexport const getDataValue = (d, aggregate, split) =>\n    split.length ? d[`${split}|${aggregate.name}`] : d[aggregate.name];\n\nfunction getExtents(settings, [split, data]) {\n    if (settings.realValues.length > 1 && settings.realValues[1] !== null) {\n        const min = Math.min(\n            ...settings.data.map((d) =>\n                getDataValue(d, settings.mainValues[1], split)\n            )\n        );\n        const max = Math.max(...data.map((d) => d.color));\n        return [min, max];\n    }\n}\n\nfunction getSplitNames(d) {\n    const splits = [];\n    Object.keys(d).forEach((key) => {\n        if (key !== \"__ROW_PATH__\") {\n            const splitValue = key.split(\"|\").slice(0, -1).join(\"|\");\n            if (!splits.includes(splitValue)) {\n                splits.push(splitValue);\n            }\n        }\n    });\n    return splits;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { arc } from \"d3\";\nimport { SunburstData } from \"./sunburstSeries\";\n\nexport const drawArc = <D extends SunburstData>(radius) =>\n    arc<any, D>()\n        .startAngle((d) => d.x0)\n        .endAngle((d) => d.x1)\n        .padAngle((d) => Math.min((d.x1 - d.x0) / 2, 0.005))\n        .padRadius(radius)\n        .innerRadius((d) => Math.max(1, (d.y0 - 1) * radius))\n        .outerRadius((d) =>\n            Math.max((d.y0 - 1) * radius, (d.y1 - 1) * radius - 1)\n        );\n\nexport const arcVisible = (d) => d.y0 >= 1 && d.x1 > d.x0;\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { select } from \"d3\";\n\nexport const labelVisible = (d) =>\n    d.y1 <= 3 && d.y0 >= 1 && (d.y1 - d.y0) * (d.x1 - d.x0) > 0.06;\n\nexport function labelTransform(d, radius) {\n    const x = (((d.x0 + d.x1) / 2) * 180) / Math.PI;\n    const y = ((d.y0 - 1 + (d.y1 - 1)) / 2) * radius;\n    return `rotate(${x - 90}) translate(${y},0) rotate(${x < 180 ? 0 : 180})`;\n}\n\nexport function cropLabel(d, targetWidth) {\n    let actualWidth = this.getBBox().width;\n    if (actualWidth > targetWidth) {\n        let labelText = d.label;\n        const textSelection = select(this);\n        while (actualWidth > targetWidth) {\n            labelText = labelText.substring(0, labelText.length - 1);\n            textSelection.text(() => labelText);\n            actualWidth = this.getBBox().width;\n        }\n        textSelection.text(\n            () =>\n                `${labelText\n                    .substring(0, labelText.length - 3)\n                    .replace(/\\s+$/, \"\")}...`\n        );\n    }\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { interpolate } from \"d3\";\nimport { drawArc, arcVisible } from \"./sunburstArc\";\nimport { labelVisible, labelTransform } from \"./sunburstLabel\";\n\nexport const clickHandler =\n    (data, g, parent, parentTitle, path, label, radius, split, settings) =>\n    (p, skipTransition) => {\n        settings.sunburstLevel[split] = p.data.name;\n        if (p.parent) {\n            parent.datum(p.parent);\n            parent.style(\"cursor\", \"pointer\");\n            parentTitle.html(`&#8682; ${p.label}`);\n        } else {\n            parent.datum(data);\n            parent.style(\"cursor\", \"default\");\n            parentTitle.html(\"\");\n        }\n        data.each(\n            (d) =>\n                (d.target = {\n                    x0:\n                        Math.max(\n                            0,\n                            Math.min(1, (d.x0 - p.x0) / (p.x1 - p.x0))\n                        ) *\n                        2 *\n                        Math.PI,\n                    x1:\n                        Math.max(\n                            0,\n                            Math.min(1, (d.x1 - p.x0) / (p.x1 - p.x0))\n                        ) *\n                        2 *\n                        Math.PI,\n                    y0: Math.max(0, d.y0 - p.depth),\n                    y1: Math.max(0, d.y1 - p.depth),\n                })\n        );\n\n        const t = g.transition().duration(skipTransition ? 0 : 750);\n        path.transition(t)\n            .tween(\"data\", (d) => {\n                const i = interpolate(d.current, d.target);\n                return (t) => (d.current = i(t));\n            })\n            .filter(function (d) {\n                return (\n                    +this.getAttribute(\"fill-opacity\") || arcVisible(d.target)\n                );\n            })\n            .attr(\"fill-opacity\", (d) => (arcVisible(d.target) ? 1 : 0))\n            .attr(\"user-select\", (d) =>\n                arcVisible(d.target) ? \"initial\" : \"none\"\n            )\n            .style(\"pointer-events\", (d) =>\n                arcVisible(d.target) ? \"initial\" : \"none\"\n            )\n            .attrTween(\"d\", (d) => () => drawArc(radius)(d.current));\n\n        label\n            .filter(function (d) {\n                return (\n                    +this.getAttribute(\"fill-opacity\") || labelVisible(d.target)\n                );\n            })\n            .transition(t)\n            .attr(\"fill-opacity\", (d) => +labelVisible(d.target))\n            .attrTween(\n                \"transform\",\n                (d) => () => labelTransform(d.current, radius)\n            );\n    };\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { drawArc, arcVisible } from \"./sunburstArc\";\nimport { labelVisible, labelTransform, cropLabel } from \"./sunburstLabel\";\nimport { clickHandler } from \"./sunburstClick\";\nimport { D3Scale, Settings } from \"../../types\";\n\nexport interface SunburstData extends d3.HierarchyNode<any> {\n    children: this[];\n    crossValue: string[];\n    current: this;\n    data: {\n        name: string;\n        children: d3.HierarchyNode<any>[];\n    };\n    depth: number;\n    height: number;\n    key: string;\n    label: any; // is NaN, but should this be string?\n    mainValues: number;\n    parent: any;\n    value: number;\n    x0: number;\n    x1: number;\n    y0: number;\n    y1: number;\n}\n\nexport interface SunburstSeries {\n    (sunburstElement: any): void;\n\n    settings(): Settings;\n    settings(settings: Settings): SunburstSeries;\n\n    split(): string;\n    split(split: string): SunburstSeries;\n\n    data(): SunburstData;\n    data(data: SunburstData): SunburstSeries;\n\n    color(): D3Scale;\n    color(color: D3Scale): SunburstSeries;\n\n    radius(): number;\n    radius(radius: number): SunburstSeries;\n}\n\nexport function sunburstSeries(): SunburstSeries {\n    let settings: Settings | null = null;\n    let split: string | null = null;\n    let data: SunburstData | null = null;\n    let color: D3Scale | null = null;\n    let radius = null;\n\n    const _sunburstSeries: Partial<SunburstSeries> = (sunburstElement) => {\n        const segment = sunburstElement\n            .selectAll(\"g.segment\")\n            .data(data.descendants().slice(1));\n        const segmentEnter = segment\n            .enter()\n            .append(\"g\")\n            .attr(\"class\", \"segment\");\n\n        segmentEnter.append(\"path\");\n        segmentEnter\n            .append(\"text\")\n            .attr(\"class\", \"segment\")\n            .attr(\"dy\", \"0.35em\");\n        const segmentMerge = segmentEnter.merge(segment);\n\n        const path = segmentMerge\n            .select(\"path\")\n            .attr(\"fill-opacity\", (d) => (arcVisible(d.current) ? 1 : 0))\n            .attr(\"user-select\", (d) =>\n                arcVisible(d.current) ? \"initial\" : \"none\"\n            )\n            .style(\"pointer-events\", (d) =>\n                arcVisible(d.current) ? \"initial\" : \"none\"\n            )\n            .attr(\"d\", (d) => drawArc(radius)(d.current));\n        color && path.style(\"fill\", (d) => color(d.data.color));\n\n        const label = segmentMerge\n            .select(\"text\")\n            .attr(\"fill-opacity\", (d) => +labelVisible(d.current))\n            .attr(\"transform\", (d) => labelTransform(d.current, radius))\n            .text((d) => d.label)\n            .each(function (d) {\n                cropLabel.call(this, d, radius);\n            });\n\n        const parentTitle = sunburstElement.select(\"text.parent\");\n        const parent = sunburstElement\n            .select(\"circle\")\n            .attr(\"r\", radius)\n            .datum(data);\n\n        const onClick = clickHandler(\n            data,\n            sunburstElement,\n            parent,\n            parentTitle,\n            path,\n            label,\n            radius,\n            split,\n            settings\n        );\n        // NOTE: Double check to make sure that settings.sunburstLevel is a thing.\n        if (settings.sunburstLevel) {\n            const currentLevel = data\n                .descendants()\n                .find((d) => d.data.name === settings.sunburstLevel[split]);\n            currentLevel && onClick(currentLevel, true);\n        } else {\n            settings.sunburstLevel = {};\n        }\n        parent.on(\"click\", (d) => onClick(d, false));\n        path.filter((d) => d.children)\n            .style(\"cursor\", \"pointer\")\n            .on(\"click\", (d) => onClick(d, false));\n    };\n\n    _sunburstSeries.settings = (...args: Settings[]): any => {\n        if (!args.length) {\n            return settings;\n        }\n        settings = args[0];\n        return _sunburstSeries;\n    };\n\n    _sunburstSeries.split = (...args: string[]): any => {\n        if (!args.length) {\n            return split;\n        }\n        split = args[0];\n        return _sunburstSeries;\n    };\n\n    _sunburstSeries.data = (...args: SunburstData[]): any => {\n        if (!args.length) {\n            return data;\n        }\n        data = args[0];\n        return _sunburstSeries;\n    };\n\n    _sunburstSeries.color = (...args: D3Scale[]): any => {\n        if (!args.length) {\n            return color;\n        }\n        color = args[0];\n        return _sunburstSeries;\n    };\n\n    _sunburstSeries.radius = (...args: number[]): any => {\n        if (!args.length) {\n            return radius;\n        }\n        radius = args[0];\n        return _sunburstSeries;\n    };\n\n    return _sunburstSeries as SunburstSeries;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport { treeColor } from \"../series/sunburst/sunburstColor\";\nimport { treeData } from \"../data/treeData\";\nimport {\n    SunburstData,\n    sunburstSeries,\n} from \"../series/sunburst/sunburstSeries\";\nimport { tooltip } from \"../tooltip/tooltip\";\nimport { gridLayoutMultiChart } from \"../layout/gridLayoutMultiChart\";\nimport { colorRangeLegend } from \"../legend/colorRangeLegend\";\nimport { colorLegend } from \"../legend/legend\";\nimport { HTMLSelection, Settings } from \"../types\";\n\nfunction sunburst(container: HTMLSelection, settings: Settings) {\n    const data = treeData(settings);\n    const color = treeColor(settings, data);\n    const sunburstGrid = gridLayoutMultiChart().elementsPrefix(\"sunburst\");\n\n    container.datum(data).call(sunburstGrid);\n\n    if (color) {\n        const color_column = settings.realValues[1];\n        if (\n            settings.mainValues.find((x) => x.name === color_column)?.type ===\n            \"string\"\n        ) {\n            const legend = colorLegend().settings(settings).scale(color);\n            container.call(legend);\n        } else {\n            const legend = colorRangeLegend().scale(color);\n            container.call(legend);\n        }\n    }\n\n    const sunburstContainer = sunburstGrid.chartContainer();\n    const sunburstEnter = sunburstGrid.chartEnter();\n    const sunburstDiv = sunburstGrid.chartDiv();\n    const sunburstTitle = sunburstGrid.chartTitle();\n    const containerSize = sunburstGrid.containerSize();\n\n    sunburstTitle.each((d, i, nodes) => d3.select(nodes[i]).text(d.split));\n\n    sunburstContainer\n        .append(\"circle\")\n        .attr(\"fill\", \"none\")\n        .style(\"pointer-events\", \"all\");\n\n    sunburstContainer.append(\"text\").attr(\"class\", \"parent\");\n    sunburstEnter\n        .merge(sunburstDiv)\n        .select(\"svg\")\n        .select(\"g.sunburst\")\n        .attr(\n            \"transform\",\n            `translate(${containerSize.width / 2}, ${containerSize.height / 2})`\n        )\n        .each(function ({\n            split,\n            data,\n        }: {\n            split: string;\n            data: SunburstData;\n        }) {\n            const sunburstElement = d3.select(this);\n            const svgNode: SVGElement = this.parentNode;\n            const { width, height } = svgNode.getBoundingClientRect();\n\n            const radius =\n                (Math.min(width, height) - 24) /\n                Math.max(2, settings.crossValues.length * 2);\n            sunburstSeries()\n                .settings(settings)\n                .split(split)\n                .data(data)\n                .color(color)\n                .radius(radius)(sunburstElement);\n\n            tooltip().settings(settings)(\n                sunburstElement.selectAll(\"g.segment\")\n            );\n        });\n}\n\nsunburst.plugin = {\n    name: \"Sunburst\",\n    category: \"Hierarchial Chart\",\n    max_cells: 7500,\n    max_columns: 50,\n    render_warning: true,\n    initial: {\n        type: \"number\",\n        count: 1,\n        names: [\"Size\", \"Color\", \"Tooltip\"],\n    },\n};\n\nexport default sunburst;\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { seriesColorRange } from \"../seriesRange\";\nimport { seriesColorsFromDistinct } from \"../seriesColors\";\nimport { Settings } from \"../../types\";\nimport { TreeData } from \"../../data/treeData\";\n\nexport function treeColor(\n    settings: Settings,\n    data: d3.HierarchyNode<TreeData>[]\n) {\n    if (\n        settings.realValues.length < 1 ||\n        settings.realValues[1] === null ||\n        settings.realValues[1] === undefined\n    )\n        return;\n    const color_column = settings.realValues[1];\n    const colors = data\n        .filter((x) => x.height > 0)\n        .map((x) => getColors(x))\n        .reduce((a, b) => a.concat(b));\n    if (\n        settings.mainValues.find((x) => x.name === color_column)?.type ===\n        \"string\"\n    ) {\n        return seriesColorsFromDistinct(settings, colors);\n    } else {\n        let min = Math.min(...colors);\n        let max = Math.max(...colors);\n        return seriesColorRange(settings, null, null, [min, max]);\n    }\n}\n\n// only get the colors from the bottom level (e.g. nodes with no children)\nfunction getColors(nodes, colors = []) {\n    nodes.children && nodes.children.length > 0\n        ? nodes.children.forEach((child) =>\n              colors.concat(getColors(child, colors))\n          )\n        : nodes.data.color && colors.push(nodes.data.color);\n    return colors;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { select } from \"d3\";\nimport { isElementOverlapping, isElementOverflowing } from \"../../utils/utils\";\n\nconst minTextSize = 7;\n\nexport const labelMapExists = (d) =>\n    d.target && d.target.textAttributes ? true : false;\n\nexport const toggleLabels = (nodes, treemapLevel, crossValues) => {\n    nodes.selectAll(\"text\").each(function (d, i) {\n        const help = textLevelHelper(d, treemapLevel, crossValues);\n        this.style = help;\n    });\n\n    const visibleNodes = selectVisibleNodes(nodes);\n    centerLabels(visibleNodes);\n    preventTextCollisions(visibleNodes);\n};\n\nexport const restoreLabels = (nodes) => {\n    nodes.each((d, i, nodes) => {\n        const label = select(nodes[i]).selectAll(\"text\");\n        label\n            .attr(\"dx\", d.target.textAttributes.dx)\n            .attr(\"dy\", d.target.textAttributes.dy)\n            .attr(\"style\", d.target.textAttributes.style);\n    });\n};\n\nexport const preventTextCollisions = (nodes) => {\n    const textCollisionFuzzFactorPx = -2;\n    const textAdjustPx = 14; // This should remain the same as the css value for .top => font-size in the chart.less\n    const rect = (element): DOMRect => element.getBoundingClientRect();\n\n    const topNodes = [];\n    nodes\n        .selectAll(\"text\")\n        .filter(\n            (_, i, nodes) =>\n                select(nodes[i]).attr(\"style\") === textVisibility.high\n        )\n        .each((_, i, nodes) => topNodes.push(nodes[i]));\n\n    nodes\n        .selectAll(\"text\")\n        .filter(\n            (_, i, nodes) =>\n                select(nodes[i]).attr(\"style\") === textVisibility.low\n        )\n        .each((_, i, nodes) => {\n            const lowerNode = nodes[i];\n            topNodes\n                .filter(\n                    (topNode) =>\n                        isElementOverlapping(\n                            \"x\",\n                            rect(topNode),\n                            rect(lowerNode)\n                        ) &&\n                        isElementOverlapping(\n                            \"y\",\n                            rect(topNode),\n                            rect(lowerNode),\n                            textCollisionFuzzFactorPx\n                        )\n                )\n                .forEach(() =>\n                    select(lowerNode).attr(\n                        \"dy\",\n                        Number(select(lowerNode).attr(\"dy\")) + textAdjustPx\n                    )\n                );\n        });\n};\n\nexport const lockTextOpacity = (d) =>\n    select(d).style(\"opacity\", textOpacity[select(d).attr(\"class\")]);\n\nexport const unlockTextOpacity = (d) => select(d).style(\"opacity\", null);\n\nexport const textOpacity = { top: 1, mid: 0.7, lower: 0 };\n\nexport const selectVisibleNodes = (nodes) =>\n    nodes.filter(\n        (_, i, nodes) =>\n            select(nodes[i]).selectAll(\"text\").attr(\"style\") !==\n            textVisibility.zero\n    );\n\nexport const adjustLabelsThatOverflow = (nodes) =>\n    nodes.selectAll(\"text\").each((_, i, nodes) => shrinkOrHideText(nodes[i]));\n\nconst centerLabels = (nodes) =>\n    nodes.selectAll(\"text\").each((_, i, nodes) => centerText(nodes[i]));\n\nconst centerText = (d) => {\n    const nodeSelect = select(d);\n    const rect = d.getBoundingClientRect();\n    nodeSelect.attr(\"dx\", 0 - rect.width / 2).attr(\"dy\", 0 + rect.height / 4);\n};\n\n// WOuld be ideal to use IntersectionObserver here, but it does not support SVG\nconst shrinkOrHideText = (d) => {\n    const parent = d.parentNode;\n    const rect = parent.childNodes[0];\n\n    const textRect = d.getBBox();\n    const rectRect = rect.getBBox();\n\n    if (!needsToShrinkOrHide(d, rectRect, textRect)) {\n        select(d).attr(\"style\", select(d).attr(\"style\"));\n    }\n};\n\nconst needsToShrinkOrHide = (d, rectRect, textRect) => {\n    const resize_factor = Math.min(\n        rectRect.height / textRect.height,\n        rectRect.width / textRect.width\n    );\n\n    if (resize_factor < 1) {\n        const fontSize = parseInt(select(d).style(\"font-size\"));\n        const newFontSize = Math.floor(fontSize * resize_factor);\n        if (fontSize > minTextSize && newFontSize > minTextSize) {\n            select(d).style(\"font-size\", `${newFontSize}px`);\n            centerText(d);\n        } else {\n            select(d).style(\"font-size\", null);\n            select(d).style(\"opacity\", \"0\");\n        }\n        return true;\n    }\n    return false;\n};\n\nconst textLevelHelper = (d, treemapLevel, crossValues) => {\n    if (\n        !crossValues\n            .filter((x) => x !== \"\")\n            .every((x) => d.crossValue.includes(x))\n    )\n        return textVisibility.zero;\n    switch (d.depth) {\n        case treemapLevel + 1:\n            return textVisibility.high;\n        case treemapLevel + 2:\n            return textVisibility.low;\n        default:\n            return textVisibility.zero;\n    }\n};\n\nconst textVisibility = {\n    high: \"font-size:14px;z-index:5;pointer-events: none;\",\n    low: \"font-size:8px;opacity:0.7;z-index:4;\",\n    zero: \"font-size:0px;opacity:0;z-index:4;\",\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\n\nexport default (width: number, height: number): d3.TreemapLayout<unknown> => {\n    const treemapLayout = d3\n        .treemap()\n        .size([width, height])\n        .paddingInner((d) => 1 + 2 * (d.height - 1));\n\n    treemapLayout.tile(d3.treemapBinary);\n\n    return treemapLayout;\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { calcWidth, calcHeight } from \"./treemapSeries\";\nimport { hierarchy, select } from \"d3\";\nimport treemapLayout from \"./treemapLayout\";\nimport { textOpacity } from \"./treemapLabel\";\n\nconst includesAllCrossValues = (d, crossValues) =>\n    crossValues.every((val) => d.crossValue.includes(val));\n\nexport function calculateSubTreeMap(\n    d,\n    crossValues,\n    nodesMerge,\n    treemapLevel,\n    rootNode,\n    treemapDiv\n) {\n    // We can approximate coordinates for most of the tree which will be shunted\n    // beyond the viewable area. This approach alone results in excessive\n    // margins as one goes deeper into the treemap.\n    approximateAttributesForAllNodes(\n        d,\n        crossValues,\n        nodesMerge,\n        treemapLevel,\n        rootNode\n    );\n    d.mapLevel[treemapLevel].levelRoot = true;\n    // Use the pre-existing d3 mechanism to calculate the subtree for the\n    // viewable area.\n    recalculateVisibleSubTreeCoordinates(\n        d,\n        treemapDiv.node().getBoundingClientRect().width,\n        treemapDiv.node().getBoundingClientRect().height,\n        treemapLevel\n    );\n\n    calculateTextOpacities(nodesMerge, treemapLevel);\n}\n\nexport function calculateRootLevelMap(nodesMerge, rootNode) {\n    nodesMerge.each((d) => {\n        d.mapLevel = [];\n        d.mapLevel[0] = {\n            x0: d.x0,\n            x1: calcWidth(d) + d.x0,\n            y0: d.y0,\n            y1: calcHeight(d) + d.y0,\n            visible: true,\n            opacity: 1,\n        };\n    });\n    rootNode.mapLevel[0].levelRoot = true;\n    calculateTextOpacities(nodesMerge, 0);\n}\n\nexport const saveLabelMap = (nodes, treemapLevel) => {\n    nodes.each((d, i, nodes) => {\n        const label = select(nodes[i]).selectAll(\"text\");\n        d.mapLevel[treemapLevel].textAttributes = {\n            dx: label.attr(\"dx\"),\n            dy: label.attr(\"dy\"),\n            class: label.attr(\"class\"),\n            \"font-size\": label.style(\"font-size\"),\n        };\n    });\n};\n\nfunction approximateAttributesForAllNodes(\n    d,\n    crossValues,\n    nodesMerge,\n    treemapLevel,\n    rootNode\n) {\n    const oldDimensions = {\n        x: d.x0,\n        y: d.y0,\n        width: d.x1 - d.x0,\n        height: d.y1 - d.y0,\n    };\n    const newDimensions = {\n        width: rootNode.x1 - rootNode.x0,\n        height: rootNode.y1 - rootNode.y0,\n    };\n    const dimensionMultiplier = {\n        width: newDimensions.width / oldDimensions.width,\n        height: newDimensions.height / oldDimensions.height,\n    };\n\n    nodesMerge.each((d) => {\n        const x0 = (d.x0 - oldDimensions.x) * dimensionMultiplier.width;\n        const y0 = (d.y0 - oldDimensions.y) * dimensionMultiplier.height;\n        const width = calcWidth(d) * dimensionMultiplier.width;\n        const height = calcHeight(d) * dimensionMultiplier.height;\n        const visible =\n            includesAllCrossValues(d, crossValues) &&\n            d.data.name !== crossValues[treemapLevel - 1];\n\n        d.mapLevel[treemapLevel] = {\n            x0,\n            x1: width + x0,\n            y0,\n            y1: height + y0,\n            visible,\n            opacity: visible ? 1 : 0,\n        };\n    });\n    d.mapLevel[treemapLevel].levelRoot = true;\n}\n\nfunction recalculateVisibleSubTreeCoordinates(\n    subTreeRoot,\n    treeRootWidth,\n    treeRootHeight,\n    treemapLevel\n) {\n    const treemapBlueprinter = treemapLayout(treeRootWidth, treeRootHeight);\n    const treemapBlueprint = treemapBlueprinter(\n        hierarchy(subTreeRoot.data).sum((d) => d.size)\n    );\n\n    const dummiedDescendants = treemapBlueprint.descendants();\n    const descendants = subTreeRoot.descendants();\n\n    dummiedDescendants.forEach((_, i) => {\n        descendants[i].mapLevel[treemapLevel].x0 = dummiedDescendants[i].x0;\n        descendants[i].mapLevel[treemapLevel].x1 = dummiedDescendants[i].x1;\n        descendants[i].mapLevel[treemapLevel].y0 = dummiedDescendants[i].y0;\n        descendants[i].mapLevel[treemapLevel].y1 = dummiedDescendants[i].y1;\n    });\n}\n\nfunction calculateTextOpacities(nodesMerge, treemapLevel) {\n    nodesMerge.selectAll(\"text\").each((_, i, nodes) => {\n        const text = select(nodes[i]);\n        const d: any = select(nodes[i]).datum();\n        const textVis = text.attr(\"class\");\n        d.mapLevel[treemapLevel].textLockedAt = {\n            opacity: textOpacity[textVis],\n        };\n    });\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport { calcWidth, calcHeight } from \"./treemapSeries\";\nimport {\n    labelMapExists,\n    toggleLabels,\n    preventTextCollisions,\n    lockTextOpacity,\n    unlockTextOpacity,\n    textOpacity,\n    selectVisibleNodes,\n    adjustLabelsThatOverflow,\n    restoreLabels,\n} from \"./treemapLabel\";\nimport { calculateSubTreeMap, saveLabelMap } from \"./treemapLevelCalculation\";\nimport { raiseEvent } from \"../../tooltip/selectionEvent\";\n\nexport function returnToLevel(\n    rects,\n    nodesMerge,\n    labels,\n    settings,\n    treemapDiv,\n    treemapSvg,\n    rootNode,\n    parentCtrls,\n    root_settings\n) {\n    if (settings.treemapLevel > 0) {\n        const crossValues = rootNode.crossValue;\n        executeTransition(\n            rootNode,\n            rects,\n            nodesMerge,\n            labels,\n            settings,\n            treemapDiv,\n            treemapSvg,\n            rootNode,\n            0,\n            crossValues,\n            parentCtrls,\n            root_settings,\n            1,\n            false\n        );\n\n        settings.treemapRoute\n            .slice(1, settings.treemapRoute.length)\n            .forEach((cv) => {\n                const d = nodesMerge.filter((d) => d.crossValue === cv).datum();\n                const crossValues = d.crossValue;\n                calculateSubTreeMap(\n                    d,\n                    crossValues,\n                    nodesMerge,\n                    d.depth,\n                    rootNode,\n                    treemapDiv\n                );\n                executeTransition(\n                    d,\n                    rects,\n                    nodesMerge,\n                    labels,\n                    settings,\n                    treemapDiv,\n                    treemapSvg,\n                    rootNode,\n                    d.depth,\n                    crossValues,\n                    parentCtrls,\n                    root_settings,\n                    1,\n                    false\n                );\n            });\n    }\n}\n\nexport function changeLevel(\n    d,\n    rects,\n    nodesMerge,\n    labels,\n    settings,\n    treemapDiv,\n    treemapSvg,\n    rootNode,\n    parentCtrls,\n    root_settings\n) {\n    if (!d.children) return;\n\n    if (settings.treemapLevel < d.depth) {\n        settings.treemapRoute.push(d.crossValue);\n    } else {\n        settings.treemapRoute.pop();\n    }\n\n    settings.treemapLevel = d.depth;\n\n    const crossValues = d.crossValue;\n\n    if (\n        !d.mapLevel[settings.treemapLevel] ||\n        !d.mapLevel[settings.treemapLevel].levelRoot\n    ) {\n        calculateSubTreeMap(\n            d,\n            crossValues,\n            nodesMerge,\n            settings.treemapLevel,\n            rootNode,\n            treemapDiv\n        );\n    }\n\n    executeTransition(\n        d,\n        rects,\n        nodesMerge,\n        labels,\n        settings,\n        treemapDiv,\n        treemapSvg,\n        rootNode,\n        settings.treemapLevel,\n        crossValues,\n        parentCtrls,\n        root_settings\n    );\n}\n\nfunction executeTransition(\n    d,\n    rects,\n    nodesMerge,\n    labels,\n    settings,\n    treemapDiv,\n    treemapSvg,\n    rootNode,\n    treemapLevel,\n    crossValues,\n    parentCtrls,\n    root_settings,\n    duration = 500,\n    recordLabelMap = true\n) {\n    const parent = d.parent;\n\n    const t = treemapSvg\n        .transition(\"main transition\")\n        .duration(duration)\n        .ease(d3.easeCubicOut);\n\n    nodesMerge.each((d) => (d.target = d.mapLevel[treemapLevel]));\n\n    if (!labelMapExists(d)) preventUserInteraction(nodesMerge, parentCtrls);\n\n    // hide hidden svgs\n    nodesMerge\n        .transition(t)\n        .tween(\"data\", (d) => {\n            const i = d3.interpolate(d.current, d.target);\n            return (t) => (d.current = i(t));\n        })\n        .styleTween(\"opacity\", (d) => () => d.current.opacity)\n        .attrTween(\n            \"pointer-events\",\n            (d) => () => d.target.visible ? \"all\" : \"none\"\n        );\n\n    rects\n        .transition(t)\n        .filter((d) => d.target.visible)\n        .styleTween(\"x\", (d) => () => `${d.current.x0}px`)\n        .styleTween(\"y\", (d) => () => `${d.current.y0}px`)\n        .styleTween(\"width\", (d) => () => `${d.current.x1 - d.current.x0}px`)\n        .styleTween(\"height\", (d) => () => `${d.current.y1 - d.current.y0}px`);\n\n    labels\n        .transition(t)\n        .filter((d) => d.target.visible)\n        .attrTween(\"x\", (d) => () => d.current.x0 + calcWidth(d.current) / 2)\n        .attrTween(\"y\", (d) => () => d.current.y0 + calcHeight(d.current) / 2)\n        .end()\n        .catch(() => enableUserInteraction(nodesMerge))\n        .then(() => {\n            if (!labelMapExists(d)) {\n                preventTextCollisions(visibleLabelNodes);\n                adjustLabelsThatOverflow(visibleLabelNodes);\n                fadeTextTransition(labels, treemapSvg, duration);\n                if (recordLabelMap) saveLabelMap(nodesMerge, treemapLevel);\n                enableUserInteraction(nodesMerge, parentCtrls);\n            }\n        })\n        .catch((ex) => {\n            console.error(\n                \"Exception completing promises after main transition\",\n                ex\n            );\n            enableUserInteraction(nodesMerge, parentCtrls);\n        });\n\n    if (!labelMapExists(d)) {\n        labels.each((_, i, labels) => lockTextOpacity(labels[i]));\n        toggleLabels(nodesMerge, treemapLevel, crossValues);\n    } else {\n        restoreLabels(nodesMerge);\n    }\n\n    const visibleLabelNodes = selectVisibleNodes(nodesMerge);\n\n    if (parent) {\n        parentCtrls\n            .hide(false)\n            .text(d.label)\n            .onClick(() => {\n                changeLevel(\n                    parent,\n                    rects,\n                    nodesMerge,\n                    labels,\n                    settings,\n                    treemapDiv,\n                    treemapSvg,\n                    rootNode,\n                    parentCtrls,\n                    root_settings\n                    // duration\n                );\n                const viewer = treemapDiv.node().getRootNode()\n                    .host.parentElement;\n                raiseEvent(viewer, parent, root_settings);\n            })();\n    } else {\n        parentCtrls.hide(true)();\n    }\n}\n\nasync function fadeTextTransition(labels, treemapSvg, duration = 400) {\n    const t = treemapSvg\n        .transition(\"text fade transition\")\n        .duration(duration)\n        .ease(d3.easeCubicOut);\n\n    await labels\n        .transition(t)\n        .filter((d) => d.target.visible)\n        .tween(\"data\", (d, i, labels) => {\n            const label = labels[i];\n            const interpolation = d3.interpolate(\n                lockedOpacity(d),\n                targetOpacity(label)\n            );\n            return (t) => (d.current.opacity = interpolation(t));\n        })\n        .styleTween(\"opacity\", (d) => () => d.current.opacity)\n        .end()\n        .catch((ex) => console.error(\"Exception in text fade transition\", ex))\n        .then(() =>\n            labels.each((_, i, labels) => unlockTextOpacity(labels[i]))\n        );\n}\n\nconst lockedOpacity = (d) => d.target.textLockedAt.opacity;\nconst targetOpacity = (d) => textOpacity[d3.select(d).attr(\"class\")];\n\nconst preventUserInteraction = (nodes, parentCtrls) => {\n    parentCtrls.deactivate(true);\n\n    nodes.each((_, i, nodes) => {\n        const rect = d3.select(nodes[i]).selectAll(\"rect\");\n        rect.style(\"pointer-events\", \"none\");\n    });\n};\n\nconst enableUserInteraction = (nodes, parentCtrls = undefined) => {\n    if (parentCtrls) parentCtrls.deactivate(false);\n\n    nodes.each((_, i, nodes) => {\n        const rect = d3.select(nodes[i]).selectAll(\"rect\");\n        rect.style(\"pointer-events\", null);\n    });\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport { getOrCreateElement } from \"../../utils/utils\";\nimport template from \"../../../html/parent-controls.html\";\n\nexport function parentControls(container) {\n    let onClick = null;\n    let text = null;\n    let hide = true;\n    let deactivated = false;\n\n    const parent = getOrCreateElement(container, \".parent-controls\", () =>\n        container\n            .append(\"div\")\n            .attr(\"class\", \"parent-controls\")\n            .style(\"display\", hide ? \"none\" : \"\")\n            .html(template)\n    );\n\n    const controls = () => {\n        parent\n            .style(\"display\", hide ? \"none\" : \"\")\n            .select(\"#goto-parent\")\n            .style(\"pointer-events\", deactivated ? \"none\" : null)\n            .html(`\u21EA ${text}`)\n            .on(\"click\", () => onClick());\n    };\n\n    controls.deactivate = (...args) => {\n        if (!args.length) {\n            return deactivated;\n        }\n        deactivated = args[0];\n\n        const button = parent.select(\"#goto-parent\");\n        if (deactivated) {\n            button.style(\"pointer-events\", \"none\");\n        } else {\n            button.style(\"pointer-events\", null);\n        }\n\n        return controls;\n    };\n\n    controls.hide = (...args) => {\n        if (!args.length) {\n            return hide;\n        }\n        hide = args[0];\n        return controls;\n    };\n\n    controls.text = (...args) => {\n        if (!args.length) {\n            return text;\n        }\n        text = args[0];\n        return controls;\n    };\n\n    controls.onClick = (...args) => {\n        if (!args.length) {\n            return onClick;\n        }\n        onClick = args[0];\n        return controls;\n    };\n\n    return controls;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport {\n    toggleLabels,\n    adjustLabelsThatOverflow,\n    selectVisibleNodes,\n} from \"./treemapLabel\";\nimport treemapLayout from \"./treemapLayout\";\nimport { changeLevel, returnToLevel } from \"./treemapTransitions\";\nimport { parentControls } from \"./treemapControls\";\nimport { calculateRootLevelMap, saveLabelMap } from \"./treemapLevelCalculation\";\n\nexport const nodeLevel = {\n    leaf: \"leafnode\",\n    branch: \"branchnode\",\n    root: \"rootnode\",\n};\nexport const calcWidth = (d) => d.x1 - d.x0;\nexport const calcHeight = (d) => d.y1 - d.y0;\nconst isLeafNode = (maxDepth, d) => d.depth === maxDepth;\nconst nodeLevelHelper = (maxDepth, d) =>\n    d.depth === 0\n        ? nodeLevel.root\n        : isLeafNode(maxDepth, d)\n        ? nodeLevel.leaf\n        : nodeLevel.branch;\n\nexport function treemapSeries() {\n    let settings = null;\n    let root_settings = null;\n    let data = null;\n    let color = null;\n    let treemapDiv = null;\n    let parentCtrls = null;\n\n    const _treemapSeries = (treemapSvg) => {\n        parentCtrls = parentControls(treemapDiv);\n        parentCtrls();\n\n        const maxDepth = data.height;\n        if (!settings.treemapLevel) settings.treemapLevel = 0;\n        if (!settings.treemapRoute) settings.treemapRoute = [];\n        const treemap = treemapLayout(\n            treemapDiv.node().getBoundingClientRect().width,\n            treemapDiv.node().getBoundingClientRect().height\n        );\n        treemap(data);\n\n        const nodes = treemapSvg.selectAll(\"g\").data(data.descendants());\n        const nodesEnter = nodes.enter().append(\"g\");\n\n        nodesEnter.append(\"rect\");\n        nodesEnter.append(\"text\");\n\n        // Draw child nodes first\n        const nodesMerge = nodesEnter\n            .merge(nodes)\n            .sort((a, b) => b.depth - a.depth);\n\n        const rects = nodesMerge\n            .select(\"rect\")\n            .attr(\"class\", (d) => `treerect ${nodeLevelHelper(maxDepth, d)}`)\n            .style(\"x\", (d) => d.x0)\n            .style(\"y\", (d) => d.y0)\n            .style(\"width\", (d) => calcWidth(d))\n            .style(\"height\", (d) => calcHeight(d));\n\n        rects.style(\"fill\", (d) => {\n            if (nodeLevelHelper(maxDepth, d) === nodeLevel.leaf) {\n                if (d.data.color) {\n                    return color(d.data.color);\n                } else {\n                    return root_settings.colorStyles.series;\n                }\n            } else {\n                return \"transparent\";\n            }\n        });\n\n        const labels = nodesMerge\n            .filter((d) => d.value !== 0)\n            .select(\"text\")\n            .attr(\"x\", (d) => d.x0 + calcWidth(d) / 2)\n            .attr(\"y\", (d) => d.y0 + calcHeight(d) / 2)\n            .text((d) => d.label);\n\n        const rootNode = rects.filter((d) => d.crossValue.length === 0).datum();\n        calculateRootLevelMap(nodesMerge, rootNode);\n\n        toggleLabels(nodesMerge, 0, []);\n        adjustLabelsThatOverflow(selectVisibleNodes(nodesMerge));\n        saveLabelMap(nodesMerge, 0);\n\n        if (settings.treemapRoute.length === 0)\n            settings.treemapRoute.push(rootNode.crossValue);\n        rects\n            .filter((d) => d.children)\n            .on(\"click\", (_event, d) =>\n                changeLevel(\n                    d,\n                    rects,\n                    nodesMerge,\n                    labels,\n                    settings,\n                    treemapDiv,\n                    treemapSvg,\n                    rootNode,\n                    parentCtrls,\n                    root_settings\n                )\n            );\n\n        returnToLevel(\n            rects,\n            nodesMerge,\n            labels,\n            settings,\n            treemapDiv,\n            treemapSvg,\n            rootNode,\n            parentCtrls,\n            root_settings\n        );\n    };\n\n    _treemapSeries.settings = (...args) => {\n        if (!args.length) {\n            return settings;\n        }\n        settings = args[0];\n        root_settings = args[1];\n        return _treemapSeries;\n    };\n\n    _treemapSeries.data = (...args) => {\n        if (!args.length) {\n            return data;\n        }\n        data = args[0];\n        return _treemapSeries;\n    };\n\n    _treemapSeries.color = (...args) => {\n        if (!args.length) {\n            return color;\n        }\n        color = args[0];\n        return _treemapSeries;\n    };\n\n    _treemapSeries.container = (...args) => {\n        if (!args.length) {\n            return treemapDiv;\n        }\n        treemapDiv = args[0];\n        return _treemapSeries;\n    };\n\n    return _treemapSeries;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport { treeColor } from \"../series/treemap/treemapColor\";\nimport { treeData } from \"../data/treeData\";\nimport { treemapSeries } from \"../series/treemap/treemapSeries\";\nimport { tooltip } from \"../tooltip/tooltip\";\nimport { gridLayoutMultiChart } from \"../layout/gridLayoutMultiChart\";\nimport { colorRangeLegend } from \"../legend/colorRangeLegend\";\nimport { colorLegend } from \"../legend/legend\";\nimport { HTMLSelection, Settings } from \"../types\";\n\nfunction treemap(container: HTMLSelection, settings: Settings) {\n    if (!settings.treemaps) settings.treemaps = {};\n\n    const data = treeData(settings);\n    const color = treeColor(\n        settings,\n        data.map((d) => d.data)\n    );\n\n    if (color) {\n        this._container.classList.add(\"has-legend\");\n    }\n\n    const treemapGrid = gridLayoutMultiChart().elementsPrefix(\"treemap\");\n    container.datum(data).call(treemapGrid);\n    if (color) {\n        const color_column = settings.realValues[1];\n        if (\n            settings.mainValues.find((x) => x.name === color_column)?.type ===\n            \"string\"\n        ) {\n            const legend = colorLegend().settings(settings).scale(color);\n            container.call(legend);\n        } else {\n            const legend = colorRangeLegend().scale(color);\n            container.call(legend);\n        }\n    }\n\n    const treemapEnter = treemapGrid.chartEnter();\n    const treemapDiv = treemapGrid.chartDiv();\n    const treemapTitle = treemapGrid.chartTitle();\n\n    treemapTitle.each((d, i, nodes) => d3.select(nodes[i]).text(d.split));\n    treemapEnter\n        .merge(treemapDiv)\n        .select(\"svg\")\n        .select(\"g.treemap\")\n        .each(function ({ split, data }: { split: string; data: any[] }) {\n            const treemapSvg = d3.select(this);\n\n            // Can't tell if TreemapValue type should have optional properties, which means\n            // that this setting of `{}` should have some default values on it.\n            if (!settings.treemaps[split]) settings.treemaps[split] = {};\n\n            treemapSeries()\n                .settings(settings.treemaps[split], settings)\n                .data(data)\n                .container(\n                    d3.select(d3.select(this.parentNode).node().parentNode)\n                )\n                .color(color)(treemapSvg);\n\n            tooltip().settings(settings).centered(true)(\n                treemapSvg.selectAll(\"g\")\n            );\n        });\n}\n\ntreemap.plugin = {\n    type: \"Treemap\",\n    name: \"Treemap\",\n    category: \"Hierarchial Chart\",\n    max_cells: 3000,\n    max_columns: 50,\n    render_warning: true,\n    initial: {\n        type: \"number\",\n        count: 1,\n        names: [\"Size\", \"Color\", \"Tooltip\"],\n    },\n};\nexport default treemap;\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport barChart from \"./bar\";\nimport columnChart from \"./column\";\nimport lineChart from \"./line\";\nimport xyLine from \"./xy-line\";\nimport areaChart from \"./area\";\nimport yScatter from \"./y-scatter\";\nimport xyScatter from \"./xy-scatter\";\nimport heatmap from \"./heatmap\";\nimport ohlc from \"./ohlc\";\nimport candlestick from \"./candlestick\";\nimport sunburst from \"./sunburst\";\nimport treemap from \"./treemap\";\n\nimport { Chart } from \"../types\";\n\nconst chartClasses: Chart[] = [\n    barChart,\n    columnChart,\n    lineChart,\n    xyLine,\n    areaChart,\n    yScatter,\n    xyScatter,\n    ohlc,\n    candlestick,\n    treemap,\n    sunburst,\n    heatmap,\n];\n\nexport default chartClasses;\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport * as d3 from \"d3\";\nimport * as gparser from \"gradient-parser\";\nimport { ColorStyles, Settings } from \"../types\";\n\nexport const initialiseStyles = (\n    container: HTMLElement,\n    settings: Settings\n) => {\n    if (!settings.colorStyles) {\n        const styles: ColorStyles = {\n            scheme: [],\n            gradient: {},\n            interpolator: {},\n            grid: {},\n        };\n\n        const computed = computedStyle(container);\n        styles[\"series\"] = computed(`--d3fc-local-series`);\n        for (let i = 1; ; i++) {\n            const key = `series-${i}`;\n            const color = computed(`--d3fc-local-${key}`);\n            if (!color) {\n                break;\n            }\n\n            styles[key] = color;\n            styles.scheme.push(color);\n        }\n\n        styles.opacity = getOpacityFromColor(styles.series);\n        styles.grid.gridLineColor = computed`--d3fc-gridline--color`;\n\n        const gradients = [\"full\", \"positive\", \"negative\"];\n        gradients.forEach((g) => {\n            const gradient = computed(`--d3fc-local-${g}--gradient`);\n            styles.gradient[g] = parseGradient(gradient, styles.opacity);\n        });\n\n        settings.colorStyles = styles;\n    }\n\n    if (!settings.textStyles) {\n        const css = window.getComputedStyle(container);\n        const color = css.getPropertyValue(\"color\");\n        const font = `12px ${css.getPropertyValue(\"font-family\")}`;\n        settings.textStyles = { color, font };\n    }\n};\n\nconst getOpacityFromColor = (color) => {\n    return d3.color(color).opacity;\n};\n\nconst stepAsColor = (value, opacity) => {\n    const color = d3.color(`#${value}`);\n    color.opacity = opacity;\n    return color + \"\";\n};\n\nconst computedStyle = (container) => {\n    const containerStyles = getComputedStyle(container);\n    return (d) => containerStyles?.getPropertyValue(d);\n};\n\nconst parseGradient = (gradient, opacity) => {\n    const parsed = gparser.parse(gradient)[0].colorStops;\n    return parsed\n        .map((g, i) => [\n            g.length ? g.length.value / 100 : i / (parsed.length - 1),\n            stepAsColor(g.value, opacity),\n        ])\n        .sort((a, b) => a[0] - b[0]);\n};\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport \"./polyfills/index\";\nimport charts from \"../charts/charts\";\nimport { initialiseStyles } from \"../series/colorStyles\";\nimport style from \"../../../dist/css/perspective-viewer-d3fc.css\";\nimport { HTMLPerspectiveViewerElement } from \"@finos/perspective-viewer\";\nimport type * as psp_types from \"@finos/perspective-viewer\";\n\nimport * as d3 from \"d3\";\nimport { symbolsObj } from \"../series/seriesSymbols\";\nimport { Chart, Settings, Type } from \"../types\";\n\nconst DEFAULT_PLUGIN_SETTINGS = {\n    initial: {\n        type: \"number\",\n        count: 1,\n        names: [],\n    },\n    selectMode: \"select\",\n};\n\nconst styleWithD3FC = `${style}${getD3FCStyles()}`;\nconst EXCLUDED_SETTINGS = [\n    \"crossValues\",\n    \"mainValues\",\n    \"realValues\",\n    \"splitValues\",\n    \"filter\",\n    \"data\",\n    \"size\",\n    \"colorStyles\",\n    \"textStyles\",\n    \"agg_paths\",\n    \"treemaps\",\n    \"axisMemo\",\n    \"columns_config\",\n];\n\nfunction getD3FCStyles(): string {\n    const headerStyles = document\n        .querySelector(\"head\")\n        .querySelectorAll(\"style\");\n    const d3fcStyles = [];\n    headerStyles.forEach((s) => {\n        if (s.innerText.indexOf(\"d3fc-\") !== -1) {\n            d3fcStyles.push(s.innerText);\n        }\n    });\n    return d3fcStyles.join(\"\");\n}\n\nasync function register_element(plugin_name: string) {\n    const perspectiveViewerClass = customElements.get(\"perspective-viewer\");\n\n    await perspectiveViewerClass.registerPlugin(plugin_name);\n}\n\nexport function register(...plugin_names: string[]) {\n    const plugins = new Set(\n        plugin_names.length > 0\n            ? plugin_names\n            : charts.map((chart) => chart.plugin.name)\n    );\n    charts.forEach((chart) => {\n        if (plugins.has(chart.plugin.name)) {\n            const name = chart.plugin.name\n                .toLowerCase()\n                .replace(/[ \\t\\r\\n\\/]*/g, \"\");\n            const plugin_name = `perspective-viewer-d3fc-${name}`;\n            customElements.define(\n                plugin_name,\n                class extends HTMLElement {\n                    _chart: Chart | null;\n                    _settings: Settings | null;\n                    render_warning: boolean;\n                    _initialized: boolean;\n                    _container: HTMLElement;\n                    _staged_view;\n                    config;\n\n                    constructor() {\n                        super();\n                        this._chart = null;\n                        this._settings = null;\n                        this.render_warning = true;\n                    }\n\n                    connectedCallback() {\n                        if (!this._initialized) {\n                            this.attachShadow({ mode: \"open\" });\n                            this.shadowRoot.innerHTML = `<style>${styleWithD3FC}</style>`;\n                            this.shadowRoot.innerHTML += `<div id=\"container\" class=\"chart\"></div>`;\n                            this._container =\n                                this.shadowRoot.querySelector(\".chart\");\n                            this._initialized = true;\n                        }\n                    }\n\n                    get name() {\n                        return chart.plugin.name;\n                    }\n\n                    get category() {\n                        return chart.plugin.category;\n                    }\n\n                    get select_mode() {\n                        return chart.plugin.selectMode || \"select\";\n                    }\n\n                    get min_config_columns() {\n                        return (\n                            chart.plugin.initial?.count ||\n                            DEFAULT_PLUGIN_SETTINGS.initial.count\n                        );\n                    }\n\n                    get config_column_names() {\n                        return (\n                            chart.plugin.initial?.names ||\n                            DEFAULT_PLUGIN_SETTINGS.initial.names\n                        );\n                    }\n\n                    // get initial() {\n                    //     return chart.plugin.initial\n                    //        || DEFAULT_PLUGIN_SETTINGS.initial;\n                    // }\n\n                    get max_cells() {\n                        return chart.plugin.max_cells || 4000;\n                    }\n\n                    set max_cells(x) {\n                        chart.plugin.max_cells = x;\n                    }\n\n                    get max_columns() {\n                        return chart.plugin.max_columns || 50;\n                    }\n\n                    set max_columns(x) {\n                        chart.plugin.max_columns = x;\n                    }\n\n                    can_render_column_styles(type: Type, group: string) {\n                        return chart.can_render_column_styles?.call(\n                            this,\n                            type,\n                            group\n                        );\n                    }\n\n                    column_style_controls(type: Type, group: string) {\n                        return chart.column_style_controls?.call(\n                            this,\n                            type,\n                            group\n                        );\n                    }\n\n                    async render() {\n                        var canvas = document.createElement(\"canvas\");\n                        var container: HTMLElement =\n                            this.shadowRoot.querySelector(\"#container\");\n                        canvas.width = container.offsetWidth;\n                        canvas.height = container.offsetHeight;\n\n                        const context = canvas.getContext(\"2d\");\n                        context.fillStyle =\n                            window\n                                .getComputedStyle(this)\n                                .getPropertyValue(\"--plugin--background\") ||\n                            \"white\";\n                        context.fillRect(0, 0, canvas.width, canvas.height);\n                        const text_color = window\n                            .getComputedStyle(this)\n                            .getPropertyValue(\"color\");\n\n                        const svgs = Array.from(\n                            this.shadowRoot.querySelectorAll<SVGElement>(\n                                \"svg:not(#dragHandles)\"\n                            )\n                        );\n\n                        for (const svg of svgs.reverse()) {\n                            var img = document.createElement(\"img\");\n\n                            const defaultOffset = 0;\n                            img.width = svg.parentElement\n                                ? svg.parentElement.offsetWidth\n                                : defaultOffset;\n                            img.height = svg.parentElement\n                                ? svg.parentElement.offsetHeight\n                                : defaultOffset;\n\n                            // Pretty sure this is a chrome bug - `drawImage()` call\n                            // without this scales incorrectly.\n                            const new_svg = svg.cloneNode(true) as SVGElement;\n                            if (!new_svg.hasAttribute(\"viewBox\")) {\n                                new_svg.setAttribute(\n                                    \"viewBox\",\n                                    `0 0 ${img.width} ${img.height}`\n                                );\n                            }\n\n                            new_svg.setAttribute(\n                                \"xmlns\",\n                                \"http://www.w3.org/2000/svg\"\n                            );\n\n                            for (const text of new_svg.querySelectorAll(\n                                \"text\"\n                            )) {\n                                text.setAttribute(\"fill\", text_color);\n                            }\n\n                            var xml = new XMLSerializer().serializeToString(\n                                new_svg\n                            );\n\n                            xml = xml.replace(/[^\\x00-\\x7F]/g, \"\");\n\n                            const done = new Promise((x, y) => {\n                                img.onload = x;\n                                img.onerror = y;\n                            });\n\n                            try {\n                                img.src = `data:image/svg+xml;base64,${btoa(\n                                    xml\n                                )}`;\n                                await done;\n                            } catch (e) {\n                                const done = new Promise((x, y) => {\n                                    img.onload = x;\n                                    img.onerror = y;\n                                });\n                                img.src = `data:image/svg+xml;utf8,${xml}`;\n                                await done;\n                            }\n\n                            context.drawImage(\n                                img,\n                                (svg.parentNode as HTMLElement).offsetLeft,\n                                (svg.parentNode as HTMLElement).offsetTop,\n                                img.width,\n                                img.height\n                            );\n                        }\n\n                        const canvases = Array.from(\n                            this.shadowRoot.querySelectorAll(\"canvas\")\n                        );\n\n                        for (const canvas of canvases.reverse()) {\n                            context.drawImage(\n                                canvas,\n                                (canvas.parentNode as HTMLElement).offsetLeft,\n                                (canvas.parentNode as HTMLElement).offsetTop,\n                                canvas.width / window.devicePixelRatio,\n                                canvas.height / window.devicePixelRatio\n                            );\n                        }\n\n                        return await new Promise(\n                            (x) => canvas.toBlob((blob) => x(blob)),\n                            // @ts-ignore\n                            \"image/png\" // uhhhh, what is going on here?\n                        );\n                    }\n\n                    async draw(view, end_col, end_row) {\n                        if (this.offsetParent === null) {\n                            this._staged_view = [view, end_col, end_row];\n                            return;\n                        }\n\n                        this._staged_view = undefined;\n                        if (this._settings) {\n                            this._settings.axisMemo = [\n                                [Infinity, -Infinity],\n                                [Infinity, -Infinity],\n                            ];\n                        }\n\n                        await this.update(view, end_col, end_row, true);\n                    }\n\n                    async update(view, end_col, end_row, clear = false) {\n                        if (this.offsetParent === null) {\n                            return;\n                        }\n\n                        const viewer = this\n                            .parentElement as HTMLPerspectiveViewerElement;\n                        let jsonp, metadata;\n                        const leaves_only = chart.plugin.name !== \"Sunburst\";\n                        if (end_col && end_row) {\n                            jsonp = view.to_columns_string({\n                                end_row,\n                                end_col,\n                                leaves_only,\n                            });\n                        } else if (end_col) {\n                            jsonp = view.to_columns_string({\n                                end_col,\n                                leaves_only,\n                            });\n                        } else if (end_row) {\n                            jsonp = view.to_columns_string({\n                                end_row,\n                                leaves_only,\n                            });\n                        } else {\n                            jsonp = view.to_columns_string({ leaves_only });\n                        }\n\n                        metadata = await Promise.all([\n                            viewer.save(),\n                            viewer.getTable().then((table) => table.schema()),\n                            view.expression_schema(false),\n                            view.schema(false),\n                            jsonp,\n                            view.get_config(),\n                        ]);\n                        let [\n                            real_config,\n                            table_schema,\n                            expression_schema,\n                            view_schema,\n                            json_string,\n                            config,\n                        ] = metadata;\n\n                        let json2 = JSON.parse(json_string);\n                        const keys = Object.keys(json2);\n                        let json = {\n                            row(ridx) {\n                                const obj: { __ROW_PATH__?: any[] } = {};\n                                for (const name of keys) {\n                                    obj[name] = json2[name][ridx];\n                                }\n\n                                return obj;\n                            },\n                        };\n\n                        this.config = real_config;\n                        const realValues = this.config.columns;\n\n                        /**\n                         * Retrieve a tree axis column from the table and\n                         * expression schemas, returning a String type or\n                         * `undefined`.\n                         * @param {String} column a column name\n                         */\n                        const get_pivot_column_type = function (column) {\n                            let type = table_schema[column];\n                            if (!type) {\n                                type = expression_schema[column];\n                            }\n                            return type;\n                        };\n\n                        const { columns, group_by, split_by, filter } = config;\n                        const first_col = json2[Object.keys(json2)[0]] || [];\n                        const filtered =\n                            group_by.length > 0\n                                ? first_col.reduce(\n                                      (acc, _, idx) => {\n                                          const col = json.row(idx);\n                                          if (\n                                              col.__ROW_PATH__ &&\n                                              col.__ROW_PATH__.length ==\n                                                  group_by.length\n                                          ) {\n                                              acc.agg_paths.push(\n                                                  acc.aggs.slice()\n                                              );\n                                              acc.rows.push(col);\n                                          } else {\n                                              const len =\n                                                  col.__ROW_PATH__.filter(\n                                                      (x) => x !== undefined\n                                                  ).length;\n                                              acc.aggs[len] = col;\n                                              acc.aggs = acc.aggs.slice(\n                                                  0,\n                                                  len + 1\n                                              );\n                                          }\n                                          return acc;\n                                      },\n                                      { rows: [], aggs: [], agg_paths: [] }\n                                  )\n                                : {\n                                      rows: first_col.map((_, idx) =>\n                                          json.row(idx)\n                                      ),\n                                  };\n\n                        const dataMap = (col, i) =>\n                            !group_by.length\n                                ? { ...col, __ROW_PATH__: [i] }\n                                : col;\n                        const mapped = filtered.rows.map(dataMap);\n\n                        let settings = {\n                            realValues,\n                            crossValues: group_by.map((r) => ({\n                                name: r,\n                                type: get_pivot_column_type(r),\n                            })),\n                            mainValues: columns.map((a) => ({\n                                name: a,\n                                type: view_schema[a],\n                            })),\n                            splitValues: split_by.map((r) => ({\n                                name: r,\n                                type: get_pivot_column_type(r),\n                            })),\n                            filter,\n                            data: mapped,\n                            agg_paths: filtered.agg_paths,\n                            ...this.config.plugin_config,\n                        };\n\n                        this._chart = chart;\n\n                        const handler = {\n                            set: (obj, prop, value) => {\n                                if (!EXCLUDED_SETTINGS.includes(prop)) {\n                                    this._container &&\n                                        this._container.dispatchEvent(\n                                            new Event(\n                                                \"perspective-plugin-update\",\n                                                {\n                                                    bubbles: true,\n                                                    composed: true,\n                                                }\n                                            )\n                                        );\n                                }\n                                obj[prop] = value;\n                                return true;\n                            },\n                        };\n\n                        const axisMemo = [\n                            [Infinity, -Infinity],\n                            [Infinity, -Infinity],\n                        ];\n\n                        this._settings = new Proxy(\n                            {\n                                axisMemo,\n                                ...this._settings,\n                                ...settings,\n                            },\n                            handler\n                        );\n\n                        // If only a right-axis Y axis remains, reset the alt\n                        // axis list to default.\n                        if (\n                            this._settings.splitMainValues &&\n                            this._settings.splitMainValues.length >=\n                                columns.length\n                        ) {\n                            this._settings.splitMainValues = [];\n                        }\n\n                        initialiseStyles(this._container, this._settings);\n\n                        if (clear) {\n                            this._container.innerHTML = \"\";\n                        }\n\n                        this._draw();\n\n                        await new Promise((resolve) =>\n                            requestAnimationFrame(resolve)\n                        );\n                    }\n\n                    async clear() {\n                        if (this._container) {\n                            this._container.innerHTML = \"\";\n                        }\n                    }\n\n                    _draw() {\n                        if (this.offsetParent !== null) {\n                            const containerDiv = d3.select(this._container);\n                            const chartClass = `chart ${name}`;\n                            this._settings.size =\n                                this._container.getBoundingClientRect();\n\n                            if (this._settings.data.length > 0) {\n                                this._chart(\n                                    containerDiv.attr(\"class\", chartClass),\n                                    this._settings\n                                );\n                            } else {\n                                containerDiv.attr(\n                                    \"class\",\n                                    `${chartClass} disabled`\n                                );\n                            }\n                        }\n                    }\n\n                    /**\n                     * TODO we need to `clear()` here unnecessarily due to a bug in the tremap module which\n                     * causes non-cleared redraws duplicate column labels when calculating column name\n                     * resize/repositions - see `treemapLabel.js`.\n                     */\n                    async resize(view) {\n                        if (this.offsetParent !== null) {\n                            if (this._settings?.data !== undefined) {\n                                this._draw();\n                            } else {\n                                const [view, end_col, end_row] =\n                                    this._staged_view;\n                                this._staged_view = undefined;\n                                this.draw(view, end_col, end_row);\n                            }\n                        }\n                    }\n\n                    async restyle(view, _end_col, _end_row) {\n                        let settings = this._settings;\n                        if (settings) {\n                            delete settings[\"colorStyles\"];\n                            delete settings[\"textStyles\"];\n                            if (this.isConnected) {\n                                initialiseStyles(\n                                    this._container,\n                                    this._settings\n                                );\n                                this.resize(view);\n                            }\n                        }\n                    }\n\n                    async delete() {\n                        this._container.innerHTML = \"\";\n                    }\n\n                    getContainer() {\n                        return this._container;\n                    }\n\n                    save() {\n                        const settings = { ...this._settings };\n                        EXCLUDED_SETTINGS.forEach((s) => {\n                            delete settings[s];\n                        });\n                        return settings;\n                    }\n\n                    restore(\n                        settings: Settings,\n                        columns_config: psp_types.ColumnConfigValues\n                    ) {\n                        const new_settings: Partial<Settings> = {};\n                        for (const name of EXCLUDED_SETTINGS) {\n                            if (this._settings?.[name] !== undefined) {\n                                new_settings[name] = this._settings?.[name];\n                            }\n                        }\n                        this._settings = {\n                            ...new_settings,\n                            ...settings,\n                            columns_config,\n                        };\n                    }\n                }\n            );\n\n            customElements\n                .whenDefined(\"perspective-viewer\")\n                .then(() => register_element(plugin_name));\n        }\n    });\n}\n\nif (!Element.prototype.matches) {\n    Element.prototype.matches = Element.prototype.msMatchesSelector;\n}\n", "// \u250F\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n// \u2503 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588       \u2588      \u2588      \u2588      \u2588      \u2588 \u2588\u2584  \u2580\u2588\u2588\u2588 \u2588       \u2503\n// \u2503 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2588  \u2580\u2580\u2580\u2580\u2580\u2588\u2580\u2580\u2580\u2580\u2580 \u2588 \u2580\u2580\u2580\u2580\u2580\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2584  \u2580\u2588 \u2588 \u2580\u2580\u2580\u2580\u2580 \u2503\n// \u2503 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2580\u2580\u2580\u2580 \u2588\u2580\u2588\u2588\u2580\u2580 \u2584\u2584\u2584\u2584\u2584 \u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2584\u2584\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2584   \u2588 \u2584\u2584\u2584\u2584\u2584 \u2503\n// \u2503 \u2588      \u2588\u2588\u2588\u2588\u2588\u2588 \u2588  \u2580\u2588\u2584       \u2588 \u2588\u2588\u2588\u2588\u2588\u2588      \u2588      \u2588\u2588\u2588\u258C\u2590\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2588       \u2503\n// \u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252B\n// \u2503 Copyright (c) 2017, the Perspective Authors.                              \u2503\n// \u2503 \u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C\u254C \u2503\n// \u2503 This file is part of the Perspective library, distributed under the terms \u2503\n// \u2503 of the [Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0). \u2503\n// \u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251B\n\nimport type { IPerspectiveViewerPlugin } from \"@finos/perspective-viewer\";\nimport { register } from \"./plugin/plugin\";\nregister();\n\ndeclare global {\n    interface CustomElementRegistry {\n        get(\n            tagName: \"perspective-viewer-d3fc-area\"\n        ): HTMLPerspectiveViewerD3FCPluginElement;\n        get(\n            tagName: \"perspective-viewer-d3fc-xbar\"\n        ): HTMLPerspectiveViewerD3FCPluginElement;\n        get(\n            tagName: \"perspective-viewer-d3fc-candlestick\"\n        ): HTMLPerspectiveViewerD3FCPluginElement;\n        get(\n            tagName: \"perspective-viewer-d3fc-ybar\"\n        ): HTMLPerspectiveViewerD3FCPluginElement;\n        get(\n            tagName: \"perspective-viewer-d3fc-heatmap\"\n        ): HTMLPerspectiveViewerD3FCPluginElement;\n        get(\n            tagName: \"perspective-viewer-d3fc-yline\"\n        ): HTMLPerspectiveViewerD3FCPluginElement;\n        get(\n            tagName: \"perspective-viewer-d3fc-ohlc\"\n        ): HTMLPerspectiveViewerD3FCPluginElement;\n        get(\n            tagName: \"perspective-viewer-d3fc-sunburst\"\n        ): HTMLPerspectiveViewerD3FCPluginElement;\n        get(\n            tagName: \"perspective-viewer-d3fc-treemap\"\n        ): HTMLPerspectiveViewerD3FCPluginElement;\n        get(\n            tagName: \"perspective-viewer-d3fc-xyline\"\n        ): HTMLPerspectiveViewerD3FCPluginElement;\n        get(\n            tagName: \"perspective-viewer-d3fc-xyscatter\"\n        ): HTMLPerspectiveViewerD3FCPluginElement;\n        get(\n            tagName: \"perspective-viewer-d3fc-yscatter\"\n        ): HTMLPerspectiveViewerD3FCPluginElement;\n\n        whenDefined(tagName: \"perspective-viewer-d3fc-area\"): Promise<void>;\n        whenDefined(tagName: \"perspective-viewer-d3fc-xbar\"): Promise<void>;\n        whenDefined(\n            tagName: \"perspective-viewer-d3fc-candlestick\"\n        ): Promise<void>;\n        whenDefined(tagName: \"perspective-viewer-d3fc-ybar\"): Promise<void>;\n        whenDefined(tagName: \"perspective-viewer-d3fc-heatmap\"): Promise<void>;\n        whenDefined(tagName: \"perspective-viewer-d3fc-xyline\"): Promise<void>;\n        whenDefined(tagName: \"perspective-viewer-d3fc-ohlc\"): Promise<void>;\n        whenDefined(tagName: \"perspective-viewer-d3fc-sunburst\"): Promise<void>;\n        whenDefined(tagName: \"perspective-viewer-d3fc-treemap\"): Promise<void>;\n        whenDefined(tagName: \"perspective-viewer-d3fc-xyline\"): Promise<void>;\n        whenDefined(\n            tagName: \"perspective-viewer-d3fc-xyscatter\"\n        ): Promise<void>;\n        whenDefined(tagName: \"perspective-viewer-d3fc-yscatter\"): Promise<void>;\n    }\n\n    export interface HTMLPerspectiveViewerD3FCPluginElement\n        extends IPerspectiveViewerPlugin {}\n\n    export class HTMLPerspectiveViewerD3FCPluginElement\n        extends HTMLElement\n        implements IPerspectiveViewerPlugin {}\n}\n"],
  "mappings": "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",
  "names": ["ascending", "a", "b", "init_ascending", "__esmMin", "descending", "a", "b", "init_descending", "__esmMin", "bisector", "f", "compare1", "compare2", "delta", "ascending", "d", "x", "descending", "zero", "left", "a", "lo", "hi", "mid", "right", "center", "i", "init_bisector", "__esmMin", "init_ascending", "init_descending", "number", "x", "numbers", "values", "valueof", "value", "index", "init_number", "__esmMin", "ascendingBisect", "bisectRight", "bisectLeft", "bisectCenter", "bisect_default", "init_bisect", "__esmMin", "init_ascending", "init_bisector", "init_number", "bisector", "ascending", "number", "blur", "values", "r", "length", "blurf", "temp", "Blur2", "data", "rx", "ry", "width", "height", "blurx", "blury", "blurh", "blurv", "T", "S", "w", "h", "y", "n", "x", "blurfImage", "radius", "start", "stop", "step", "radius0", "bluri", "t", "sum", "s0", "s1", "i", "j", "blur2", "blurImage", "init_blur", "__esmMin", "count", "values", "valueof", "value", "index", "init_count", "__esmMin", "length", "array", "empty", "arrayify", "values", "reducer", "reduce", "cross", "lengths", "j", "index", "product", "i", "init_cross", "__esmMin", "cumsum", "values", "valueof", "sum", "index", "v", "init_cumsum", "__esmMin", "variance", "values", "valueof", "count", "delta", "mean", "sum", "value", "index", "init_variance", "__esmMin", "deviation", "values", "valueof", "v", "variance", "init_deviation", "__esmMin", "init_variance", "extent", "values", "valueof", "min", "max", "value", "index", "init_extent", "__esmMin", "fsum", "values", "valueof", "adder", "Adder", "value", "index", "fcumsum", "v", "init_fsum", "__esmMin", "x", "p", "i", "j", "y", "hi", "lo", "intern_get", "_intern", "_key", "value", "key", "intern_set", "intern_delete", "keyof", "InternMap", "InternSet", "init_src", "__esmMin", "entries", "values", "identity", "x", "init_identity", "__esmMin", "group", "values", "keys", "nest", "identity", "groups", "flatten", "i", "n", "g", "key", "value", "flatGroup", "flatRollup", "reduce", "rollups", "rollup", "index", "unique", "indexes", "map", "regroup", "InternMap", "keyof", "init_group", "__esmMin", "init_src", "init_identity", "permute", "source", "keys", "key", "init_permute", "__esmMin", "sort", "values", "F", "f", "index", "d", "i", "j", "c", "ascendingDefined", "permute", "compareDefined", "compare", "ascending", "a", "b", "x", "init_sort", "__esmMin", "init_ascending", "init_permute", "groupSort", "values", "reduce", "key", "sort", "rollup", "ak", "av", "bk", "bv", "ascending", "group", "init_groupSort", "__esmMin", "init_ascending", "init_group", "init_sort", "array", "slice", "map", "init_array", "__esmMin", "constant", "x", "init_constant", "__esmMin", "tickSpec", "start", "stop", "count", "step", "power", "error", "factor", "e10", "e5", "e2", "i1", "i2", "inc", "ticks", "reverse", "n", "i", "tickIncrement", "tickStep", "init_ticks", "__esmMin", "nice", "start", "stop", "count", "prestep", "step", "tickIncrement", "init_nice", "__esmMin", "init_ticks", "thresholdSturges", "values", "count", "init_sturges", "__esmMin", "init_count", "bin", "value", "identity", "domain", "extent", "threshold", "thresholdSturges", "histogram", "data", "n", "x", "step", "values", "xz", "x0", "x1", "tz", "max", "tn", "nice", "ticks", "tickIncrement", "m", "a", "b", "bins", "j", "bisect_default", "_", "constant", "slice", "init_bin", "__esmMin", "init_array", "init_bisect", "init_constant", "init_extent", "init_identity", "init_nice", "init_ticks", "init_sturges", "max", "values", "valueof", "value", "index", "init_max", "__esmMin", "maxIndex", "values", "valueof", "max", "index", "value", "init_maxIndex", "__esmMin", "min", "values", "valueof", "value", "index", "init_min", "__esmMin", "minIndex", "values", "valueof", "min", "index", "value", "init_minIndex", "__esmMin", "quickselect", "array", "k", "left", "right", "compare", "ascendingDefined", "compareDefined", "n", "m", "z", "s", "sd", "newLeft", "newRight", "t", "i", "j", "swap", "init_quickselect", "__esmMin", "init_sort", "greatest", "values", "compare", "ascending", "max", "defined", "maxValue", "element", "value", "init_greatest", "__esmMin", "init_ascending", "quantile", "values", "p", "valueof", "numbers", "n", "min", "max", "i", "i0", "value0", "quickselect", "value1", "quantileSorted", "number", "quantileIndex", "_", "minIndex", "maxIndex", "index", "j", "ascendingDefined", "greatest", "init_quantile", "__esmMin", "init_max", "init_maxIndex", "init_min", "init_minIndex", "init_quickselect", "init_number", "init_sort", "init_greatest", "thresholdFreedmanDiaconis", "values", "min", "max", "c", "count", "d", "quantile", "init_freedmanDiaconis", "__esmMin", "init_count", "init_quantile", "thresholdScott", "values", "min", "max", "c", "count", "d", "deviation", "init_scott", "__esmMin", "init_count", "init_deviation", "mean", "values", "valueof", "count", "sum", "value", "index", "init_mean", "__esmMin", "median", "values", "valueof", "quantile", "medianIndex", "quantileIndex", "init_median", "__esmMin", "init_quantile", "flatten", "arrays", "array", "merge", "init_merge", "__esmMin", "mode", "values", "valueof", "counts", "InternMap", "value", "index", "modeValue", "modeCount", "count", "init_mode", "__esmMin", "init_src", "pairs", "values", "pairof", "pair", "previous", "first", "value", "a", "b", "init_pairs", "__esmMin", "range", "start", "stop", "step", "n", "i", "init_range", "__esmMin", "rank", "values", "valueof", "ascending", "V", "R", "compareIndex", "i", "j", "k", "r", "_", "ascendingDefined", "compareDefined", "c", "init_rank", "__esmMin", "init_ascending", "init_sort", "least", "values", "compare", "ascending", "min", "defined", "minValue", "element", "value", "init_least", "__esmMin", "init_ascending", "leastIndex", "values", "compare", "ascending", "minIndex", "minValue", "min", "index", "value", "init_leastIndex", "__esmMin", "init_ascending", "init_minIndex", "greatestIndex", "values", "compare", "ascending", "maxIndex", "maxValue", "max", "index", "value", "init_greatestIndex", "__esmMin", "init_ascending", "init_maxIndex", "scan", "values", "compare", "index", "leastIndex", "init_scan", "__esmMin", "init_leastIndex", "shuffler", "random", "array", "i0", "i1", "m", "i", "t", "shuffle_default", "init_shuffle", "__esmMin", "sum", "values", "valueof", "value", "index", "init_sum", "__esmMin", "transpose", "matrix", "n", "i", "m", "min", "length", "j", "row", "d", "init_transpose", "__esmMin", "init_min", "zip", "transpose", "init_zip", "__esmMin", "init_transpose", "every", "values", "test", "index", "value", "init_every", "__esmMin", "some", "values", "test", "index", "value", "init_some", "__esmMin", "filter", "values", "test", "array", "index", "value", "init_filter", "__esmMin", "map", "values", "mapper", "value", "index", "init_map", "__esmMin", "reduce", "values", "reducer", "value", "iterator", "done", "next", "index", "init_reduce", "__esmMin", "reverse", "values", "init_reverse", "__esmMin", "difference", "values", "others", "InternSet", "other", "value", "init_difference", "__esmMin", "init_src", "disjoint", "values", "other", "iterator", "set", "InternSet", "v", "value", "done", "init_disjoint", "__esmMin", "init_src", "intersection", "values", "others", "InternSet", "set", "out", "value", "other", "init_intersection", "__esmMin", "init_src", "superset", "values", "other", "iterator", "set", "o", "io", "intern", "value", "done", "ivalue", "init_superset", "__esmMin", "subset", "values", "other", "superset", "init_subset", "__esmMin", "init_superset", "union", "others", "set", "InternSet", "other", "o", "init_union", "__esmMin", "init_src", "src_exports", "__export", "Adder", "InternMap", "InternSet", "ascending", "bin", "bisect_default", "bisectCenter", "bisectLeft", "bisectRight", "bisector", "blur", "blur2", "blurImage", "count", "cross", "cumsum", "descending", "deviation", "difference", "disjoint", "every", "extent", "fcumsum", "filter", "flatGroup", "flatRollup", "fsum", "greatest", "greatestIndex", "group", "groupSort", "groups", "index", "indexes", "intersection", "least", "leastIndex", "map", "max", "maxIndex", "mean", "median", "medianIndex", "merge", "min", "minIndex", "mode", "nice", "pairs", "permute", "quantile", "quantileIndex", "quantileSorted", "quickselect", "range", "rank", "reduce", "reverse", "rollup", "rollups", "scan", "shuffle_default", "shuffler", "some", "sort", "subset", "sum", "superset", "thresholdFreedmanDiaconis", "thresholdScott", "thresholdSturges", "tickIncrement", "tickStep", "ticks", "transpose", "union", "variance", "zip", "init_src", "__esmMin", "init_bisect", "init_ascending", "init_bisector", "init_blur", "init_count", "init_cross", "init_cumsum", "init_descending", "init_deviation", "init_extent", "init_fsum", "init_group", "init_groupSort", "init_bin", "init_freedmanDiaconis", "init_scott", "init_sturges", "init_max", "init_maxIndex", "init_mean", "init_median", "init_merge", "init_min", "init_minIndex", "init_mode", "init_nice", "init_pairs", "init_permute", "init_quantile", "init_quickselect", "init_range", "init_rank", "init_least", "init_leastIndex", "init_greatest", "init_greatestIndex", "init_scan", "init_shuffle", "init_sum", "init_ticks", "init_transpose", "init_variance", "init_zip", "init_every", "init_some", "init_filter", "init_map", "init_reduce", "init_reverse", "init_sort", "init_difference", "init_disjoint", "init_intersection", "init_subset", "init_superset", "init_union", "require_d3_array", "__commonJSMin", "exports", "module", "global", "factory", "ascending", "a", "b", "bisector", "compare", "ascendingComparator", "x", "lo", "hi", "mid", "f", "d", "ascendingBisect", "bisectRight", "bisectLeft", "pairs", "array", "pair", "i", "n", "p", "cross", "values0", "values1", "reduce", "n0", "n1", "values", "i0", "i1", "value0", "descending", "number", "variance", "valueof", "m", "mean", "value", "delta", "sum", "deviation", "v", "extent", "min", "max", "slice", "map", "constant", "identity", "range", "start", "stop", "step", "e10", "e5", "e2", "ticks", "count", "reverse", "tickIncrement", "power", "error", "tickStep", "step0", "step1", "sturges", "histogram", "domain", "threshold", "data", "xz", "x0", "x1", "tz", "bins", "bin", "_", "quantile", "value1", "freedmanDiaconis", "scott", "median", "numbers", "merge", "arrays", "j", "merged", "permute", "indexes", "permutes", "scan", "xi", "xj", "shuffle", "t", "transpose", "matrix", "length", "row", "zip", "require_d3_collection", "__commonJSMin", "exports", "module", "global", "factory", "prefix", "Map", "map", "key", "value", "property", "keys", "values", "entries", "size", "f", "object", "i", "n", "o", "nest", "sortKeys", "sortValues", "rollup", "apply", "array", "depth", "createResult", "setResult", "keyValue", "valuesByKey", "result", "map$$1", "sortKey", "v", "k", "a", "b", "createObject", "setObject", "createMap", "setMap", "d", "order", "Set", "proto", "set", "require_d3_color", "__commonJSMin", "exports", "module", "global", "factory", "define", "constructor", "prototype", "extend", "parent", "definition", "key", "Color", "darker", "brighter", "reI", "reN", "reP", "reHex", "reRgbInteger", "reRgbPercent", "reRgbaInteger", "reRgbaPercent", "reHslPercent", "reHslaPercent", "named", "color", "channels", "color_formatHex", "color_formatHsl", "color_formatRgb", "hslConvert", "format", "m", "l", "rgbn", "Rgb", "rgba", "hsla", "n", "r", "g", "b", "a", "rgbConvert", "o", "rgb", "opacity", "k", "rgb_formatHex", "rgb_formatRgb", "hex", "value", "h", "s", "Hsl", "min", "max", "hsl", "m2", "m1", "hsl2rgb", "deg2rad", "rad2deg", "K", "Xn", "Yn", "Zn", "t0", "t1", "t2", "t3", "labConvert", "Lab", "Hcl", "hcl2lab", "rgb2lrgb", "y", "xyz2lab", "x", "z", "gray", "lab", "lab2xyz", "lrgb2rgb", "t", "hclConvert", "lch", "c", "hcl", "A", "B", "C", "D", "E", "ED", "EB", "BC_DA", "cubehelixConvert", "Cubehelix", "bl", "cubehelix", "cosh", "sinh", "require_d3_interpolate", "__commonJSMin", "exports", "module", "global", "factory", "d3Color", "basis", "t1", "v0", "v1", "v2", "v3", "t2", "t3", "basis$1", "values", "n", "t", "i", "basisClosed", "constant", "x", "linear", "a", "d", "exponential", "b", "y", "hue", "gamma", "nogamma", "rgb", "rgbGamma", "color", "start", "end", "r", "g", "opacity", "rgbSpline", "spline", "colors", "rgbBasis", "rgbBasisClosed", "numberArray", "c", "isNumberArray", "array", "genericArray", "nb", "na", "value", "date", "number", "object", "k", "reA", "reB", "zero", "one", "string", "bi", "am", "bm", "bs", "s", "q", "o", "discrete", "range", "hue$1", "round", "degrees", "identity", "decompose", "e", "f", "scaleX", "scaleY", "skewX", "cssNode", "cssRoot", "cssView", "svgNode", "parseCss", "parseSvg", "interpolateTransform", "parse", "pxComma", "pxParen", "degParen", "pop", "translate", "xa", "ya", "xb", "yb", "rotate", "scale", "interpolateTransformCss", "interpolateTransformSvg", "rho", "rho2", "rho4", "epsilon2", "cosh", "sinh", "tanh", "zoom", "p0", "p1", "ux0", "uy0", "w0", "ux1", "uy1", "w1", "dx", "dy", "d2", "S", "d1", "b0", "b1", "r0", "r1", "coshr0", "u", "hsl", "h", "l", "hsl$1", "hslLong", "lab", "hcl", "hcl$1", "hclLong", "cubehelix", "cubehelixGamma", "cubehelix$1", "cubehelixLong", "piecewise", "interpolate", "v", "I", "quantize", "interpolator", "samples", "require_d3_format", "__commonJSMin", "exports", "module", "global", "factory", "formatDecimal", "x", "p", "i", "coefficient", "exponent", "formatGroup", "grouping", "thousands", "value", "width", "t", "j", "g", "length", "formatDefault", "out", "n", "i0", "i1", "prefixExponent", "formatPrefixAuto", "d", "formatRounded", "formatTypes", "re", "formatSpecifier", "specifier", "FormatSpecifier", "match", "fill", "align", "sign", "symbol", "zero", "comma", "precision", "type", "prefixes", "identity", "formatLocale", "locale", "group", "currency", "decimal", "newFormat", "prefix", "suffix", "formatType", "maybeSuffix", "format", "valuePrefix", "valueSuffix", "c", "valueNegative", "padding", "formatPrefix", "f", "e", "k", "defaultLocale", "definition", "precisionFixed", "step", "precisionPrefix", "precisionRound", "max", "require_d3_time", "__commonJSMin", "exports", "module", "global", "factory", "t0", "t1", "newInterval", "floori", "offseti", "count", "field", "interval", "date", "d0", "d1", "step", "start", "stop", "range", "previous", "test", "end", "d", "millisecond", "k", "milliseconds", "durationSecond", "durationMinute", "durationHour", "durationDay", "durationWeek", "second", "seconds", "minute", "minutes", "hour", "hours", "day", "days", "weekday", "i", "sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sundays", "mondays", "tuesdays", "wednesdays", "thursdays", "fridays", "saturdays", "month", "months", "year", "years", "utcMinute", "utcMinutes", "utcHour", "utcHours", "utcDay", "utcDays", "utcWeekday", "utcSunday", "utcMonday", "utcTuesday", "utcWednesday", "utcThursday", "utcFriday", "utcSaturday", "utcSundays", "utcMondays", "utcTuesdays", "utcWednesdays", "utcThursdays", "utcFridays", "utcSaturdays", "utcMonth", "utcMonths", "utcYear", "utcYears", "require_d3_time_format", "__commonJSMin", "exports", "module", "global", "factory", "d3Time", "localDate", "d", "date", "utcDate", "newDate", "y", "m", "formatLocale", "locale", "locale_dateTime", "locale_date", "locale_time", "locale_periods", "locale_weekdays", "locale_shortWeekdays", "locale_months", "locale_shortMonths", "periodRe", "formatRe", "periodLookup", "formatLookup", "weekdayRe", "weekdayLookup", "shortWeekdayRe", "shortWeekdayLookup", "monthRe", "monthLookup", "shortMonthRe", "shortMonthLookup", "formats", "formatShortWeekday", "formatWeekday", "formatShortMonth", "formatMonth", "formatDayOfMonth", "formatMicroseconds", "formatYearISO", "formatFullYearISO", "formatHour24", "formatHour12", "formatDayOfYear", "formatMilliseconds", "formatMonthNumber", "formatMinutes", "formatPeriod", "formatQuarter", "formatUnixTimestamp", "formatUnixTimestampSeconds", "formatSeconds", "formatWeekdayNumberMonday", "formatWeekNumberSunday", "formatWeekNumberISO", "formatWeekdayNumberSunday", "formatWeekNumberMonday", "formatYear", "formatFullYear", "formatZone", "formatLiteralPercent", "utcFormats", "formatUTCShortWeekday", "formatUTCWeekday", "formatUTCShortMonth", "formatUTCMonth", "formatUTCDayOfMonth", "formatUTCMicroseconds", "formatUTCYearISO", "formatUTCFullYearISO", "formatUTCHour24", "formatUTCHour12", "formatUTCDayOfYear", "formatUTCMilliseconds", "formatUTCMonthNumber", "formatUTCMinutes", "formatUTCPeriod", "formatUTCQuarter", "formatUTCSeconds", "formatUTCWeekdayNumberMonday", "formatUTCWeekNumberSunday", "formatUTCWeekNumberISO", "formatUTCWeekdayNumberSunday", "formatUTCWeekNumberMonday", "formatUTCYear", "formatUTCFullYear", "formatUTCZone", "parses", "parseShortWeekday", "parseWeekday", "parseShortMonth", "parseMonth", "parseLocaleDateTime", "parseDayOfMonth", "parseMicroseconds", "parseYear", "parseFullYear", "parseHour24", "parseDayOfYear", "parseMilliseconds", "parseMonthNumber", "parseMinutes", "parsePeriod", "parseQuarter", "parseUnixTimestamp", "parseUnixTimestampSeconds", "parseSeconds", "parseWeekdayNumberMonday", "parseWeekNumberSunday", "parseWeekNumberISO", "parseWeekdayNumberSunday", "parseWeekNumberMonday", "parseLocaleDate", "parseLocaleTime", "parseZone", "parseLiteralPercent", "newFormat", "specifier", "string", "i", "j", "n", "c", "pad", "format", "pads", "newParse", "Z", "parseSpecifier", "week", "day", "parse", "f", "p", "numberRe", "percentRe", "requoteRe", "value", "fill", "width", "sign", "length", "requote", "s", "names", "map", "dISO", "z", "dow", "UTCdISO", "defaultLocale", "definition", "isoSpecifier", "formatIsoNative", "formatIso", "parseIsoNative", "parseIso", "require_d3_scale", "__commonJSMin", "exports", "module", "global", "factory", "d3Array", "d3Collection", "d3Interpolate", "d3Format", "d3Time", "d3TimeFormat", "d3Color", "array", "map$1", "slice", "implicit", "ordinal", "range", "index", "domain", "unknown", "scale", "d", "key", "i", "_", "n", "band", "ordinalRange", "step", "bandwidth", "round", "paddingInner", "paddingOuter", "align", "rescale", "reverse", "start", "stop", "values", "pointish", "copy", "point", "constant", "x", "number", "unit", "deinterpolate", "a", "b", "deinterpolateClamp", "reinterpolateClamp", "reinterpolate", "r", "t", "bimap", "d0", "d1", "r0", "r1", "polymap", "j", "source", "target", "continuous", "deinterpolate$$", "interpolate", "clamp", "piecewise", "output", "input", "y", "tickFormat", "count", "specifier", "precision", "value", "linearish", "linear", "identity", "nice", "interval", "i0", "i1", "x0", "x1", "deinterpolate$1", "pow10", "powp", "base", "logp", "reflect", "f", "log", "logs", "pows", "u", "v", "p", "k", "z", "raise", "exponent", "pow", "sqrt", "quantile$1", "thresholds", "quantize", "threshold", "durationSecond", "durationMinute", "durationHour", "durationDay", "durationWeek", "durationMonth", "durationYear", "date", "number$1", "calendar", "year", "month", "week", "day", "hour", "minute", "second", "millisecond", "format", "invert", "formatMillisecond", "formatSecond", "formatMinute", "formatHour", "formatDay", "formatWeek", "formatMonth", "formatYear", "tickIntervals", "tickInterval", "t0", "t1", "time", "utcTime", "colors", "s", "category10", "category20b", "category20c", "category20", "cubehelix$1", "warm", "cool", "rainbow", "rainbow$1", "ts", "ramp", "viridis", "magma", "inferno", "plasma", "sequential", "interpolator", "timeInterval", "floori", "offseti", "count", "field", "interval", "date", "d0", "d1", "step", "start", "stop", "range", "previous", "test", "end", "t0", "t1", "d", "init_interval", "__esmMin", "millisecond", "milliseconds", "init_millisecond", "__esmMin", "init_interval", "timeInterval", "date", "step", "start", "end", "k", "second", "seconds", "init_second", "__esmMin", "init_interval", "timeInterval", "date", "step", "start", "end", "timeMinute", "timeMinutes", "utcMinute", "utcMinutes", "init_minute", "__esmMin", "init_interval", "timeInterval", "date", "step", "start", "end", "timeHour", "timeHours", "utcHour", "utcHours", "init_hour", "__esmMin", "init_interval", "timeInterval", "date", "step", "start", "end", "timeDay", "timeDays", "utcDay", "utcDays", "unixDay", "unixDays", "init_day", "__esmMin", "init_interval", "timeInterval", "date", "step", "start", "end", "timeWeekday", "i", "timeInterval", "date", "step", "start", "end", "utcWeekday", "timeSunday", "timeMonday", "timeTuesday", "timeWednesday", "timeThursday", "timeFriday", "timeSaturday", "timeSundays", "timeMondays", "timeTuesdays", "timeWednesdays", "timeThursdays", "timeFridays", "timeSaturdays", "utcSunday", "utcMonday", "utcTuesday", "utcWednesday", "utcThursday", "utcFriday", "utcSaturday", "utcSundays", "utcMondays", "utcTuesdays", "utcWednesdays", "utcThursdays", "utcFridays", "utcSaturdays", "init_week", "__esmMin", "init_interval", "timeMonth", "timeMonths", "utcMonth", "utcMonths", "init_month", "__esmMin", "init_interval", "timeInterval", "date", "step", "start", "end", "timeYear", "timeYears", "utcYear", "utcYears", "init_year", "__esmMin", "init_interval", "timeInterval", "date", "step", "start", "end", "k", "ticker", "year", "month", "week", "day", "hour", "minute", "tickIntervals", "second", "ticks", "start", "stop", "count", "reverse", "interval", "tickInterval", "target", "i", "bisector", "step", "tickStep", "millisecond", "t", "utcTicks", "utcTickInterval", "timeTicks", "timeTickInterval", "init_ticks", "__esmMin", "init_src", "init_millisecond", "init_second", "init_minute", "init_hour", "init_day", "init_week", "init_month", "init_year", "utcYear", "utcMonth", "utcSunday", "unixDay", "utcHour", "utcMinute", "timeYear", "timeMonth", "timeSunday", "timeDay", "timeHour", "timeMinute", "src_exports", "__export", "timeDay", "timeDays", "timeFriday", "timeFridays", "timeHour", "timeHours", "timeInterval", "millisecond", "milliseconds", "timeMinute", "timeMinutes", "timeMonday", "timeMondays", "timeMonth", "timeMonths", "timeSaturday", "timeSaturdays", "second", "seconds", "timeSunday", "timeSundays", "timeThursday", "timeThursdays", "timeTickInterval", "timeTicks", "timeTuesday", "timeTuesdays", "timeWednesday", "timeWednesdays", "timeYear", "timeYears", "unixDay", "unixDays", "utcDay", "utcDays", "utcFriday", "utcFridays", "utcHour", "utcHours", "utcMinute", "utcMinutes", "utcMonday", "utcMondays", "utcMonth", "utcMonths", "utcSaturday", "utcSaturdays", "utcSunday", "utcSundays", "utcThursday", "utcThursdays", "utcTickInterval", "utcTicks", "utcTuesday", "utcTuesdays", "utcWednesday", "utcWednesdays", "utcYear", "utcYears", "init_src", "__esmMin", "init_interval", "init_millisecond", "init_second", "init_minute", "init_hour", "init_day", "init_week", "init_month", "init_year", "init_ticks", "defaultSource_default", "init_defaultSource", "__esmMin", "uniform_default", "init_uniform", "__esmMin", "init_defaultSource", "sourceRandomUniform", "source", "randomUniform", "min", "max", "defaultSource_default", "int_default", "init_int", "__esmMin", "init_defaultSource", "sourceRandomInt", "source", "randomInt", "min", "max", "defaultSource_default", "normal_default", "init_normal", "__esmMin", "init_defaultSource", "sourceRandomNormal", "source", "randomNormal", "mu", "sigma", "x", "r", "y", "defaultSource_default", "logNormal_default", "init_logNormal", "__esmMin", "init_defaultSource", "init_normal", "sourceRandomLogNormal", "source", "N", "normal_default", "randomLogNormal", "randomNormal", "defaultSource_default", "irwinHall_default", "init_irwinHall", "__esmMin", "init_defaultSource", "sourceRandomIrwinHall", "source", "randomIrwinHall", "n", "sum", "defaultSource_default", "bates_default", "init_bates", "__esmMin", "init_defaultSource", "init_irwinHall", "sourceRandomBates", "source", "I", "irwinHall_default", "randomBates", "n", "randomIrwinHall", "defaultSource_default", "exponential_default", "init_exponential", "__esmMin", "init_defaultSource", "sourceRandomExponential", "source", "randomExponential", "lambda", "defaultSource_default", "pareto_default", "init_pareto", "__esmMin", "init_defaultSource", "sourceRandomPareto", "source", "randomPareto", "alpha", "defaultSource_default", "bernoulli_default", "init_bernoulli", "__esmMin", "init_defaultSource", "sourceRandomBernoulli", "source", "randomBernoulli", "p", "defaultSource_default", "geometric_default", "init_geometric", "__esmMin", "init_defaultSource", "sourceRandomGeometric", "source", "randomGeometric", "p", "defaultSource_default", "gamma_default", "init_gamma", "__esmMin", "init_defaultSource", "init_normal", "sourceRandomGamma", "source", "randomNormal", "normal_default", "randomGamma", "k", "theta", "d", "c", "multiplier", "x", "v", "u", "defaultSource_default", "beta_default", "init_beta", "__esmMin", "init_defaultSource", "init_gamma", "sourceRandomBeta", "source", "G", "gamma_default", "randomBeta", "alpha", "beta", "X", "Y", "x", "defaultSource_default", "binomial_default", "init_binomial", "__esmMin", "init_defaultSource", "init_beta", "init_geometric", "sourceRandomBinomial", "source", "G", "geometric_default", "B", "beta_default", "randomBinomial", "n", "p", "acc", "nn", "pp", "i", "y", "sign", "pFinal", "g", "s", "k", "defaultSource_default", "weibull_default", "init_weibull", "__esmMin", "init_defaultSource", "sourceRandomWeibull", "source", "randomWeibull", "k", "b", "outerFunc", "x", "defaultSource_default", "cauchy_default", "init_cauchy", "__esmMin", "init_defaultSource", "sourceRandomCauchy", "source", "randomCauchy", "a", "b", "defaultSource_default", "logistic_default", "init_logistic", "__esmMin", "init_defaultSource", "sourceRandomLogistic", "source", "randomLogistic", "a", "b", "u", "defaultSource_default", "poisson_default", "init_poisson", "__esmMin", "init_defaultSource", "init_binomial", "init_gamma", "sourceRandomPoisson", "source", "G", "gamma_default", "B", "binomial_default", "randomPoisson", "lambda", "acc", "n", "t", "s", "k", "defaultSource_default", "lcg", "seed", "state", "eps", "init_lcg", "__esmMin", "src_exports", "__export", "bates_default", "bernoulli_default", "beta_default", "binomial_default", "cauchy_default", "exponential_default", "gamma_default", "geometric_default", "int_default", "irwinHall_default", "lcg", "logNormal_default", "logistic_default", "normal_default", "pareto_default", "poisson_default", "uniform_default", "weibull_default", "init_src", "__esmMin", "init_uniform", "init_int", "init_normal", "init_logNormal", "init_bates", "init_irwinHall", "init_exponential", "init_pareto", "init_bernoulli", "init_geometric", "init_binomial", "init_gamma", "init_beta", "init_weibull", "init_cauchy", "init_logistic", "init_poisson", "init_lcg", "responseBlob", "response", "blob_default", "input", "init", "init_blob", "__esmMin", "responseArrayBuffer", "response", "buffer_default", "input", "init", "init_buffer", "__esmMin", "objectConverter", "columns", "name", "i", "customConverter", "f", "object", "row", "inferColumns", "rows", "columnSet", "column", "pad", "value", "width", "s", "length", "formatYear", "year", "formatDate", "date", "hours", "minutes", "seconds", "milliseconds", "dsv_default", "delimiter", "reFormat", "DELIMITER", "parse", "text", "convert", "parseRows", "N", "I", "n", "t", "eof", "eol", "NEWLINE", "RETURN", "token", "EOF", "EOL", "c", "QUOTE", "preformatBody", "formatValue", "format", "formatBody", "formatRows", "formatRow", "init_dsv", "__esmMin", "csv", "csvParse", "csvParseRows", "csvFormat", "csvFormatBody", "csvFormatRows", "csvFormatRow", "csvFormatValue", "init_csv", "__esmMin", "init_dsv", "dsv_default", "tsv", "tsvParse", "tsvParseRows", "tsvFormat", "tsvFormatBody", "tsvFormatRows", "tsvFormatRow", "tsvFormatValue", "init_tsv", "__esmMin", "init_dsv", "dsv_default", "init_src", "__esmMin", "init_dsv", "init_csv", "init_tsv", "responseText", "response", "text_default", "input", "init", "init_text", "__esmMin", "dsvParse", "parse", "input", "init", "row", "text_default", "response", "dsv", "delimiter", "format", "dsv_default", "csv", "tsv", "init_dsv", "__esmMin", "init_src", "init_text", "csvParse", "tsvParse", "image_default", "input", "init", "resolve", "reject", "image", "key", "init_image", "__esmMin", "responseJson", "response", "json_default", "input", "init", "init_json", "__esmMin", "parser", "type", "input", "init", "text_default", "text", "xml_default", "html", "svg", "init_xml", "__esmMin", "init_text", "src_exports", "__export", "blob_default", "buffer_default", "csv", "dsv", "html", "image_default", "json_default", "svg", "text_default", "tsv", "xml_default", "init_src", "__esmMin", "init_blob", "init_buffer", "init_dsv", "init_image", "init_json", "init_text", "init_xml", "append", "strings", "i", "appendRound", "digits", "d", "k", "n", "path", "Path", "pathRound", "pi", "tau", "epsilon", "tauEpsilon", "init_path", "__esmMin", "x", "y", "x1", "y1", "x2", "y2", "r", "x0", "y0", "x21", "y21", "x01", "y01", "l01_2", "x20", "y20", "l21_2", "l20_2", "l21", "l01", "l", "t01", "t21", "a0", "a1", "ccw", "dx", "dy", "cw", "da", "w", "h", "src_exports", "__export", "Path", "path", "pathRound", "init_src", "__esmMin", "init_path", "xhtml", "namespaces_default", "init_namespaces", "__esmMin", "namespace_default", "name", "prefix", "i", "namespaces_default", "init_namespace", "__esmMin", "init_namespaces", "creatorInherit", "name", "document", "uri", "xhtml", "creatorFixed", "fullname", "creator_default", "namespace_default", "init_creator", "__esmMin", "init_namespace", "init_namespaces", "none", "selector_default", "selector", "init_selector", "__esmMin", "select_default", "select", "selector_default", "groups", "m", "subgroups", "j", "group", "n", "subgroup", "node", "subnode", "i", "Selection", "init_select", "__esmMin", "init_selection", "init_selector", "array", "x", "init_array", "__esmMin", "empty", "selectorAll_default", "selector", "init_selectorAll", "__esmMin", "arrayAll", "select", "array", "selectAll_default", "selectorAll_default", "groups", "m", "subgroups", "parents", "j", "group", "n", "node", "i", "Selection", "init_selectAll", "__esmMin", "init_selection", "init_array", "init_selectorAll", "matcher_default", "selector", "childMatcher", "node", "init_matcher", "__esmMin", "childFind", "match", "find", "childFirst", "selectChild_default", "childMatcher", "init_selectChild", "__esmMin", "init_matcher", "children", "childrenFilter", "match", "filter", "selectChildren_default", "childMatcher", "init_selectChildren", "__esmMin", "init_matcher", "filter_default", "match", "matcher_default", "groups", "m", "subgroups", "j", "group", "n", "subgroup", "node", "i", "Selection", "init_filter", "__esmMin", "init_selection", "init_matcher", "sparse_default", "update", "init_sparse", "__esmMin", "enter_default", "Selection", "sparse_default", "EnterNode", "parent", "datum", "init_enter", "__esmMin", "init_sparse", "init_selection", "child", "next", "selector", "constant_default", "x", "init_constant", "__esmMin", "bindIndex", "parent", "group", "enter", "update", "exit", "data", "i", "node", "groupLength", "dataLength", "EnterNode", "bindKey", "key", "nodeByKeyValue", "keyValues", "keyValue", "datum", "data_default", "value", "bind", "parents", "groups", "constant_default", "m", "j", "arraylike", "enterGroup", "updateGroup", "exitGroup", "i0", "i1", "previous", "next", "Selection", "init_data", "__esmMin", "init_selection", "init_enter", "init_constant", "exit_default", "Selection", "sparse_default", "init_exit", "__esmMin", "init_sparse", "init_selection", "join_default", "onenter", "onupdate", "onexit", "enter", "update", "exit", "init_join", "__esmMin", "merge_default", "context", "selection", "groups0", "groups1", "m0", "m1", "m", "merges", "j", "group0", "group1", "n", "merge", "node", "i", "Selection", "init_merge", "__esmMin", "init_selection", "order_default", "groups", "j", "m", "group", "i", "next", "node", "init_order", "__esmMin", "sort_default", "compare", "ascending", "compareNode", "a", "b", "groups", "m", "sortgroups", "j", "group", "n", "sortgroup", "node", "i", "Selection", "init_sort", "__esmMin", "init_selection", "call_default", "callback", "init_call", "__esmMin", "nodes_default", "init_nodes", "__esmMin", "node_default", "groups", "j", "m", "group", "i", "n", "node", "init_node", "__esmMin", "size_default", "size", "node", "init_size", "__esmMin", "empty_default", "init_empty", "__esmMin", "each_default", "callback", "groups", "j", "m", "group", "n", "node", "init_each", "__esmMin", "attrRemove", "name", "attrRemoveNS", "fullname", "attrConstant", "value", "attrConstantNS", "attrFunction", "v", "attrFunctionNS", "attr_default", "namespace_default", "node", "init_attr", "__esmMin", "init_namespace", "window_default", "node", "init_window", "__esmMin", "styleRemove", "name", "styleConstant", "value", "priority", "styleFunction", "v", "style_default", "styleValue", "node", "window_default", "init_style", "__esmMin", "init_window", "propertyRemove", "name", "propertyConstant", "value", "propertyFunction", "v", "property_default", "init_property", "__esmMin", "classArray", "string", "classList", "node", "ClassList", "classedAdd", "names", "list", "i", "n", "classedRemove", "classedTrue", "classedFalse", "classedFunction", "value", "classed_default", "name", "init_classed", "__esmMin", "textRemove", "textConstant", "value", "textFunction", "v", "text_default", "init_text", "__esmMin", "htmlRemove", "htmlConstant", "value", "htmlFunction", "v", "html_default", "init_html", "__esmMin", "raise", "raise_default", "init_raise", "__esmMin", "lower", "lower_default", "init_lower", "__esmMin", "append_default", "name", "create", "creator_default", "init_append", "__esmMin", "init_creator", "constantNull", "insert_default", "name", "before", "create", "creator_default", "select", "selector_default", "init_insert", "__esmMin", "init_creator", "init_selector", "remove", "parent", "remove_default", "init_remove", "__esmMin", "selection_cloneShallow", "clone", "parent", "selection_cloneDeep", "clone_default", "deep", "init_clone", "__esmMin", "datum_default", "value", "init_datum", "__esmMin", "contextListener", "listener", "event", "parseTypenames", "typenames", "name", "i", "onRemove", "typename", "on", "j", "m", "o", "onAdd", "value", "options", "on_default", "n", "t", "init_on", "__esmMin", "dispatchEvent", "node", "type", "params", "window", "window_default", "event", "dispatchConstant", "dispatchFunction", "dispatch_default", "init_dispatch", "__esmMin", "init_window", "iterator_default", "groups", "j", "m", "group", "i", "n", "node", "init_iterator", "__esmMin", "Selection", "groups", "parents", "selection", "root", "selection_selection", "selection_default", "init_selection", "__esmMin", "init_select", "init_selectAll", "init_selectChild", "init_selectChildren", "init_filter", "init_data", "init_enter", "init_exit", "init_join", "init_merge", "init_order", "init_sort", "init_call", "init_nodes", "init_node", "init_size", "init_empty", "init_each", "init_attr", "init_style", "init_property", "init_classed", "init_text", "init_html", "init_raise", "init_lower", "init_append", "init_insert", "init_remove", "init_clone", "init_datum", "init_on", "init_dispatch", "init_iterator", "select_default", "selectAll_default", "selectChild_default", "selectChildren_default", "filter_default", "data_default", "enter_default", "exit_default", "join_default", "merge_default", "order_default", "sort_default", "call_default", "nodes_default", "node_default", "size_default", "empty_default", "each_default", "attr_default", "style_default", "property_default", "classed_default", "text_default", "html_default", "raise_default", "lower_default", "append_default", "insert_default", "remove_default", "clone_default", "datum_default", "on_default", "dispatch_default", "iterator_default", "select_default", "selector", "Selection", "root", "init_select", "__esmMin", "init_selection", "create_default", "name", "select_default", "creator_default", "init_create", "__esmMin", "init_creator", "init_select", "local", "Local", "nextId", "init_local", "__esmMin", "node", "id", "value", "sourceEvent_default", "event", "sourceEvent", "init_sourceEvent", "__esmMin", "pointer_default", "event", "node", "sourceEvent_default", "svg", "point", "rect", "init_pointer", "__esmMin", "init_sourceEvent", "pointers_default", "events", "node", "sourceEvent_default", "event", "pointer_default", "init_pointers", "__esmMin", "init_pointer", "init_sourceEvent", "selectAll_default", "selector", "Selection", "array", "root", "init_selectAll", "__esmMin", "init_array", "init_selection", "src_exports", "__export", "create_default", "creator_default", "local", "matcher_default", "namespace_default", "namespaces_default", "pointer_default", "pointers_default", "select_default", "selectAll_default", "selection_default", "selector_default", "selectorAll_default", "styleValue", "window_default", "init_src", "__esmMin", "init_create", "init_creator", "init_local", "init_matcher", "init_namespace", "init_namespaces", "init_pointer", "init_pointers", "init_select", "init_selectAll", "init_selection", "init_selector", "init_selectorAll", "init_style", "init_window", "constant_default", "x", "init_constant", "__esmMin", "acos", "x", "pi", "asin", "halfPi", "abs", "atan2", "cos", "max", "min", "sin", "sqrt", "epsilon", "tau", "init_math", "__esmMin", "withPath", "shape", "digits", "_", "d", "Path", "init_path", "__esmMin", "init_src", "arcInnerRadius", "d", "arcOuterRadius", "arcStartAngle", "arcEndAngle", "arcPadAngle", "intersect", "x0", "y0", "x1", "y1", "x2", "y2", "x3", "y3", "x10", "y10", "x32", "y32", "t", "epsilon", "cornerTangents", "r1", "rc", "cw", "x01", "y01", "lo", "sqrt", "ox", "oy", "x11", "y11", "x00", "y00", "dx", "dy", "d2", "r", "D", "max", "cx0", "cy0", "cx1", "cy1", "dx0", "dy0", "dx1", "dy1", "arc_default", "innerRadius", "outerRadius", "cornerRadius", "constant_default", "padRadius", "startAngle", "endAngle", "padAngle", "context", "path", "withPath", "arc", "buffer", "r0", "a0", "halfPi", "a1", "da", "abs", "tau", "cos", "sin", "a01", "a11", "a00", "a10", "da0", "da1", "ap", "rp", "min", "rc0", "rc1", "t0", "t1", "p0", "asin", "p1", "oc", "pi", "ax", "ay", "bx", "by", "kc", "acos", "lc", "atan2", "a", "_", "init_arc", "__esmMin", "init_constant", "init_math", "init_path", "array_default", "x", "slice", "init_array", "__esmMin", "Linear", "context", "linear_default", "init_linear", "__esmMin", "x", "y", "x", "p", "y", "init_point", "__esmMin", "line_default", "x", "y", "defined", "constant_default", "context", "curve", "linear_default", "output", "path", "withPath", "line", "data", "i", "n", "array_default", "d", "defined0", "buffer", "_", "init_line", "__esmMin", "init_array", "init_constant", "init_linear", "init_path", "init_point", "area_default", "x0", "y0", "y1", "x1", "defined", "constant_default", "context", "curve", "linear_default", "output", "path", "withPath", "area", "x", "y", "data", "i", "j", "k", "n", "array_default", "d", "defined0", "buffer", "x0z", "y0z", "arealine", "line_default", "_", "init_area", "__esmMin", "init_array", "init_constant", "init_linear", "init_line", "init_path", "init_point", "descending_default", "a", "b", "init_descending", "__esmMin", "identity_default", "d", "init_identity", "__esmMin", "pie_default", "value", "identity_default", "sortValues", "descending_default", "sort", "startAngle", "constant_default", "endAngle", "tau", "padAngle", "pie", "data", "i", "n", "array_default", "j", "k", "sum", "index", "arcs", "a0", "da", "a1", "p", "pa", "v", "_", "init_pie", "__esmMin", "init_array", "init_constant", "init_descending", "init_identity", "init_math", "Radial", "curve", "curveRadial", "radial", "context", "curveRadialLinear", "init_radial", "__esmMin", "init_linear", "linear_default", "a", "r", "lineRadial", "l", "c", "_", "curveRadial", "lineRadial_default", "line_default", "curveRadialLinear", "init_lineRadial", "__esmMin", "init_radial", "init_line", "areaRadial_default", "a", "area_default", "curveRadialLinear", "c", "x0", "x1", "y0", "y1", "lineRadial", "_", "curveRadial", "init_areaRadial", "__esmMin", "init_radial", "init_area", "init_lineRadial", "pointRadial_default", "x", "y", "init_pointRadial", "__esmMin", "bumpX", "context", "Bump", "bumpY", "bumpRadial", "BumpRadial", "init_bump", "__esmMin", "init_pointRadial", "x", "y", "p0", "pointRadial_default", "p1", "p2", "p3", "linkSource", "d", "linkTarget", "link", "curve", "source", "target", "x", "y", "context", "output", "path", "withPath", "buffer", "argv", "slice", "s", "t", "_", "constant_default", "linkHorizontal", "bumpX", "linkVertical", "bumpY", "linkRadial", "l", "bumpRadial", "init_link", "__esmMin", "init_array", "init_constant", "init_bump", "init_path", "init_point", "sqrt3", "asterisk_default", "init_asterisk", "__esmMin", "init_math", "sqrt", "context", "size", "r", "min", "t", "u", "circle_default", "init_circle", "__esmMin", "init_math", "context", "size", "r", "sqrt", "pi", "tau", "cross_default", "init_cross", "__esmMin", "init_math", "context", "size", "r", "sqrt", "tan30", "tan30_2", "diamond_default", "init_diamond", "__esmMin", "init_math", "sqrt", "context", "size", "y", "x", "diamond2_default", "init_diamond2", "__esmMin", "init_math", "context", "size", "r", "sqrt", "plus_default", "init_plus", "__esmMin", "init_math", "context", "size", "r", "sqrt", "min", "square_default", "init_square", "__esmMin", "init_math", "context", "size", "w", "sqrt", "x", "square2_default", "init_square2", "__esmMin", "init_math", "context", "size", "r", "sqrt", "ka", "kr", "kx", "ky", "star_default", "init_star", "__esmMin", "init_math", "sin", "pi", "tau", "cos", "context", "size", "r", "sqrt", "x", "y", "a", "c", "sqrt3", "triangle_default", "init_triangle", "__esmMin", "init_math", "sqrt", "context", "size", "y", "sqrt3", "triangle2_default", "init_triangle2", "__esmMin", "init_math", "sqrt", "context", "size", "s", "t", "u", "c", "s", "k", "a", "wye_default", "init_wye", "__esmMin", "init_math", "sqrt", "context", "size", "r", "x0", "y0", "x1", "y1", "x2", "y2", "times_default", "init_times", "__esmMin", "init_math", "context", "size", "r", "sqrt", "min", "Symbol", "type", "size", "context", "path", "withPath", "symbol", "constant_default", "circle_default", "buffer", "_", "symbolsFill", "symbolsStroke", "init_symbol", "__esmMin", "init_constant", "init_path", "init_asterisk", "init_circle", "init_cross", "init_diamond", "init_diamond2", "init_plus", "init_square", "init_square2", "init_star", "init_triangle", "init_triangle2", "init_wye", "init_times", "cross_default", "diamond_default", "square_default", "star_default", "triangle_default", "wye_default", "plus_default", "times_default", "triangle2_default", "asterisk_default", "square2_default", "diamond2_default", "noop_default", "init_noop", "__esmMin", "point", "that", "x", "y", "Basis", "context", "basis_default", "init_basis", "__esmMin", "BasisClosed", "context", "basisClosed_default", "init_basisClosed", "__esmMin", "init_noop", "init_basis", "noop_default", "x", "y", "point", "BasisOpen", "context", "basisOpen_default", "init_basisOpen", "__esmMin", "init_basis", "x", "y", "x0", "y0", "point", "Bundle", "context", "beta", "Basis", "bundle_default", "init_bundle", "__esmMin", "init_basis", "x", "y", "j", "x0", "y0", "dx", "dy", "i", "t", "custom", "bundle", "point", "that", "x", "y", "Cardinal", "context", "tension", "cardinal_default", "init_cardinal", "__esmMin", "custom", "cardinal", "CardinalClosed", "context", "tension", "cardinalClosed_default", "init_cardinalClosed", "__esmMin", "init_noop", "init_cardinal", "noop_default", "x", "y", "point", "custom", "cardinal", "CardinalOpen", "context", "tension", "cardinalOpen_default", "init_cardinalOpen", "__esmMin", "init_cardinal", "x", "y", "point", "custom", "cardinal", "point", "that", "x", "y", "x1", "y1", "x2", "y2", "epsilon", "a", "n", "b", "CatmullRom", "context", "alpha", "catmullRom_default", "init_catmullRom", "__esmMin", "init_math", "init_cardinal", "x23", "y23", "custom", "catmullRom", "Cardinal", "CatmullRomClosed", "context", "alpha", "catmullRomClosed_default", "init_catmullRomClosed", "__esmMin", "init_cardinalClosed", "init_noop", "init_catmullRom", "noop_default", "x", "y", "x23", "y23", "point", "custom", "catmullRom", "CardinalClosed", "CatmullRomOpen", "context", "alpha", "catmullRomOpen_default", "init_catmullRomOpen", "__esmMin", "init_cardinalOpen", "init_catmullRom", "x", "y", "x23", "y23", "point", "custom", "catmullRom", "CardinalOpen", "LinearClosed", "context", "linearClosed_default", "init_linearClosed", "__esmMin", "init_noop", "noop_default", "x", "y", "sign", "x", "slope3", "that", "x2", "y2", "h0", "h1", "s0", "s1", "p", "slope2", "h", "point", "t0", "t1", "x0", "y0", "x1", "y1", "dx", "MonotoneX", "context", "MonotoneY", "ReflectContext", "monotoneX", "monotoneY", "init_monotone", "__esmMin", "y", "Natural", "context", "controlPoints", "x", "i", "m", "b", "r", "natural_default", "init_natural", "__esmMin", "y", "px", "py", "i0", "i1", "Step", "context", "step_default", "stepBefore", "stepAfter", "init_step", "__esmMin", "x", "y", "x1", "none_default", "series", "order", "n", "i", "j", "s0", "s1", "m", "init_none", "__esmMin", "none_default", "series", "n", "o", "init_none", "__esmMin", "stackValue", "d", "key", "stackSeries", "series", "stack_default", "keys", "constant_default", "order", "none_default", "offset", "value", "stack", "data", "sz", "i", "n", "j", "oz", "array_default", "_", "init_stack", "__esmMin", "init_array", "init_constant", "init_none", "expand_default", "series", "order", "n", "i", "j", "m", "y", "none_default", "init_expand", "__esmMin", "init_none", "diverging_default", "series", "order", "n", "i", "j", "d", "dy", "yp", "yn", "m", "init_diverging", "__esmMin", "silhouette_default", "series", "order", "n", "j", "s0", "m", "i", "y", "none_default", "init_silhouette", "__esmMin", "init_none", "wiggle_default", "series", "order", "n", "m", "s0", "y", "j", "i", "s1", "s2", "si", "sij0", "sij1", "s3", "k", "sk", "skj0", "skj1", "none_default", "init_wiggle", "__esmMin", "init_none", "appearance_default", "series", "peaks", "peak", "none_default", "a", "b", "i", "j", "n", "vi", "vj", "init_appearance", "__esmMin", "init_none", "ascending_default", "series", "sums", "sum", "none_default", "a", "b", "s", "i", "n", "v", "init_ascending", "__esmMin", "init_none", "descending_default", "series", "ascending_default", "init_descending", "__esmMin", "init_ascending", "insideOut_default", "series", "n", "i", "j", "sums", "sum", "order", "appearance_default", "top", "bottom", "tops", "bottoms", "init_insideOut", "__esmMin", "init_appearance", "init_ascending", "reverse_default", "series", "none_default", "init_reverse", "__esmMin", "init_none", "src_exports", "__export", "arc_default", "area_default", "areaRadial_default", "basis_default", "basisClosed_default", "basisOpen_default", "bumpX", "bumpY", "bundle_default", "cardinal_default", "cardinalClosed_default", "cardinalOpen_default", "catmullRom_default", "catmullRomClosed_default", "catmullRomOpen_default", "linear_default", "linearClosed_default", "monotoneX", "monotoneY", "natural_default", "step_default", "stepAfter", "stepBefore", "line_default", "lineRadial_default", "link", "linkHorizontal", "linkRadial", "linkVertical", "pie_default", "pointRadial_default", "stack_default", "diverging_default", "expand_default", "none_default", "silhouette_default", "wiggle_default", "appearance_default", "ascending_default", "descending_default", "insideOut_default", "reverse_default", "Symbol", "asterisk_default", "circle_default", "cross_default", "diamond_default", "diamond2_default", "plus_default", "square_default", "square2_default", "star_default", "times_default", "triangle_default", "triangle2_default", "wye_default", "symbolsFill", "symbolsStroke", "init_src", "__esmMin", "init_arc", "init_area", "init_line", "init_pie", "init_areaRadial", "init_lineRadial", "init_pointRadial", "init_link", "init_symbol", "init_asterisk", "init_circle", "init_cross", "init_diamond", "init_diamond2", "init_plus", "init_square", "init_square2", "init_star", "init_triangle", "init_triangle2", "init_wye", "init_times", "init_basisClosed", "init_basisOpen", "init_basis", "init_bump", "init_bundle", "init_cardinalClosed", "init_cardinalOpen", "init_cardinal", "init_catmullRomClosed", "init_catmullRomOpen", "init_catmullRom", "init_linearClosed", "init_linear", "init_monotone", "init_natural", "init_step", "init_stack", "init_expand", "init_diverging", "init_none", "init_silhouette", "init_wiggle", "init_appearance", "init_ascending", "init_descending", "init_insideOut", "init_reverse", "colors_default", "specifier", "n", "colors", "i", "init_colors", "__esmMin", "category10_default", "init_category10", "__esmMin", "init_colors", "colors_default", "Accent_default", "init_Accent", "__esmMin", "init_colors", "colors_default", "Dark2_default", "init_Dark2", "__esmMin", "init_colors", "colors_default", "observable10_default", "init_observable10", "__esmMin", "init_colors", "colors_default", "Paired_default", "init_Paired", "__esmMin", "init_colors", "colors_default", "Pastel1_default", "init_Pastel1", "__esmMin", "init_colors", "colors_default", "Pastel2_default", "init_Pastel2", "__esmMin", "init_colors", "colors_default", "Set1_default", "init_Set1", "__esmMin", "init_colors", "colors_default", "Set2_default", "init_Set2", "__esmMin", "init_colors", "colors_default", "Set3_default", "init_Set3", "__esmMin", "init_colors", "colors_default", "Tableau10_default", "init_Tableau10", "__esmMin", "init_colors", "colors_default", "define_default", "constructor", "factory", "prototype", "extend", "parent", "definition", "key", "init_define", "__esmMin", "Color", "color_formatHex", "color_formatHex8", "color_formatHsl", "hslConvert", "color_formatRgb", "color", "format", "m", "l", "reHex", "rgbn", "Rgb", "rgba", "reRgbInteger", "reRgbPercent", "reRgbaInteger", "reRgbaPercent", "reHslPercent", "hsla", "reHslaPercent", "named", "n", "r", "g", "b", "a", "rgbConvert", "o", "rgb", "opacity", "rgb_formatHex", "hex", "rgb_formatHex8", "rgb_formatRgb", "clampa", "clampi", "value", "h", "s", "Hsl", "min", "max", "hsl", "clamph", "clampt", "hsl2rgb", "m1", "m2", "darker", "brighter", "reI", "reN", "reP", "init_color", "__esmMin", "init_define", "define_default", "channels", "extend", "k", "radians", "degrees", "init_math", "__esmMin", "cubehelixConvert", "o", "Cubehelix", "Rgb", "rgbConvert", "r", "g", "b", "l", "BC_DA", "ED", "EB", "bl", "k", "E", "C", "D", "s", "h", "degrees", "cubehelix", "opacity", "A", "B", "init_cubehelix", "__esmMin", "init_define", "init_color", "init_math", "define_default", "extend", "Color", "brighter", "darker", "radians", "a", "cosh", "sinh", "init_src", "__esmMin", "init_color", "init_cubehelix", "basis", "t1", "v0", "v1", "v2", "v3", "t2", "t3", "basis_default", "values", "n", "t", "i", "init_basis", "__esmMin", "basisClosed_default", "values", "n", "t", "i", "v0", "v1", "v2", "v3", "basis", "init_basisClosed", "__esmMin", "init_basis", "constant_default", "init_constant", "__esmMin", "x", "linear", "a", "d", "t", "exponential", "b", "y", "hue", "constant_default", "gamma", "nogamma", "init_color", "__esmMin", "init_constant", "rgbSpline", "spline", "colors", "g", "b", "i", "color", "rgb", "t", "rgb_default", "rgbBasis", "rgbBasisClosed", "init_rgb", "__esmMin", "init_src", "init_basis", "init_basisClosed", "init_color", "rgbGamma", "y", "gamma", "start", "end", "r", "opacity", "nogamma", "basis_default", "basisClosed_default", "numberArray_default", "a", "b", "c", "i", "t", "isNumberArray", "x", "init_numberArray", "__esmMin", "genericArray", "a", "b", "nb", "na", "x", "c", "i", "value_default", "t", "init_array", "__esmMin", "init_value", "date_default", "a", "b", "d", "t", "init_date", "__esmMin", "number_default", "a", "b", "t", "init_number", "__esmMin", "object_default", "a", "b", "i", "c", "k", "value_default", "t", "init_object", "__esmMin", "init_value", "zero", "b", "one", "string_default", "a", "bi", "reA", "reB", "am", "bm", "bs", "i", "s", "q", "number_default", "t", "o", "init_string", "__esmMin", "init_number", "value_default", "a", "b", "t", "c", "constant_default", "number_default", "color", "rgb_default", "string_default", "date_default", "isNumberArray", "numberArray_default", "genericArray", "object_default", "init_value", "__esmMin", "init_src", "init_rgb", "init_array", "init_date", "init_number", "init_object", "init_string", "init_constant", "init_numberArray", "round_default", "a", "b", "t", "init_round", "__esmMin", "decompose_default", "a", "b", "c", "d", "e", "f", "scaleX", "scaleY", "skewX", "degrees", "identity", "init_decompose", "__esmMin", "parseCss", "value", "m", "identity", "decompose_default", "parseSvg", "svgNode", "init_parse", "__esmMin", "init_decompose", "interpolateTransform", "parse", "pxComma", "pxParen", "degParen", "pop", "s", "translate", "xa", "ya", "xb", "yb", "q", "i", "number_default", "rotate", "a", "b", "skewX", "scale", "t", "n", "o", "interpolateTransformCss", "interpolateTransformSvg", "init_transform", "__esmMin", "init_number", "init_parse", "parseCss", "parseSvg", "cosh", "x", "sinh", "tanh", "epsilon2", "zoom_default", "init_zoom", "__esmMin", "zoomRho", "rho", "rho2", "rho4", "zoom", "p0", "p1", "ux0", "uy0", "w0", "ux1", "uy1", "w1", "dx", "dy", "d2", "i", "S", "t", "d1", "b0", "b1", "r0", "r1", "s", "coshr0", "u", "_", "_1", "_2", "_4", "cubehelix", "hue", "cubehelixGamma", "y", "start", "end", "h", "s", "nogamma", "l", "opacity", "t", "cubehelix_default", "cubehelixLong", "init_cubehelix", "__esmMin", "init_src", "init_color", "init_src", "__esmMin", "init_value", "init_number", "init_round", "init_string", "init_transform", "init_zoom", "init_rgb", "init_cubehelix", "ramp_default", "init_ramp", "__esmMin", "init_src", "scheme", "rgbBasis", "scheme", "BrBG_default", "init_BrBG", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "PRGn_default", "init_PRGn", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "PiYG_default", "init_PiYG", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "PuOr_default", "init_PuOr", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "RdBu_default", "init_RdBu", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "RdGy_default", "init_RdGy", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "RdYlBu_default", "init_RdYlBu", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "RdYlGn_default", "init_RdYlGn", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "Spectral_default", "init_Spectral", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "BuGn_default", "init_BuGn", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "BuPu_default", "init_BuPu", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "GnBu_default", "init_GnBu", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "OrRd_default", "init_OrRd", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "PuBuGn_default", "init_PuBuGn", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "PuBu_default", "init_PuBu", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "PuRd_default", "init_PuRd", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "RdPu_default", "init_RdPu", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "YlGnBu_default", "init_YlGnBu", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "YlGn_default", "init_YlGn", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "YlOrBr_default", "init_YlOrBr", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "YlOrRd_default", "init_YlOrRd", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "Blues_default", "init_Blues", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "Greens_default", "init_Greens", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "Greys_default", "init_Greys", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "Purples_default", "init_Purples", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "Reds_default", "init_Reds", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "scheme", "Oranges_default", "init_Oranges", "__esmMin", "init_colors", "init_ramp", "colors_default", "ramp_default", "cividis_default", "t", "init_cividis", "__esmMin", "cubehelix_default", "init_cubehelix", "__esmMin", "init_src", "cubehelixLong", "cubehelix", "rainbow_default", "t", "ts", "c", "warm", "cool", "init_rainbow", "__esmMin", "init_src", "cubehelixLong", "cubehelix", "sinebow_default", "t", "x", "c", "pi_1_3", "pi_2_3", "init_sinebow", "__esmMin", "init_src", "rgb", "turbo_default", "t", "init_turbo", "__esmMin", "ramp", "range", "n", "t", "viridis_default", "magma", "inferno", "plasma", "init_viridis", "__esmMin", "init_colors", "colors_default", "src_exports", "__export", "Blues_default", "BrBG_default", "BuGn_default", "BuPu_default", "cividis_default", "cool", "cubehelix_default", "GnBu_default", "Greens_default", "Greys_default", "inferno", "magma", "OrRd_default", "Oranges_default", "PRGn_default", "PiYG_default", "plasma", "PuBu_default", "PuBuGn_default", "PuOr_default", "PuRd_default", "Purples_default", "rainbow_default", "RdBu_default", "RdGy_default", "RdPu_default", "RdYlBu_default", "RdYlGn_default", "Reds_default", "sinebow_default", "Spectral_default", "turbo_default", "viridis_default", "warm", "YlGn_default", "YlGnBu_default", "YlOrBr_default", "YlOrRd_default", "Accent_default", "scheme", "category10_default", "Dark2_default", "observable10_default", "Paired_default", "Pastel1_default", "Pastel2_default", "Set1_default", "Set2_default", "Set3_default", "Tableau10_default", "init_src", "__esmMin", "init_category10", "init_Accent", "init_Dark2", "init_observable10", "init_Paired", "init_Pastel1", "init_Pastel2", "init_Set1", "init_Set2", "init_Set3", "init_Tableau10", "init_BrBG", "init_PRGn", "init_PiYG", "init_PuOr", "init_RdBu", "init_RdGy", "init_RdYlBu", "init_RdYlGn", "init_Spectral", "init_BuGn", "init_BuPu", "init_GnBu", "init_OrRd", "init_PuBuGn", "init_PuBu", "init_PuRd", "init_RdPu", "init_YlGnBu", "init_YlGn", "init_YlOrBr", "init_YlOrRd", "init_Blues", "init_Greens", "init_Greys", "init_Purples", "init_Reds", "init_Oranges", "init_cividis", "init_cubehelix", "init_rainbow", "init_sinebow", "init_turbo", "init_viridis", "require_d3_dispatch", "__commonJSMin", "exports", "module", "global", "factory", "noop", "dispatch", "i", "n", "_", "t", "Dispatch", "parseTypenames", "typenames", "types", "name", "typename", "callback", "T", "get", "set", "copy", "type", "that", "args", "c", "dispatch", "i", "n", "_", "t", "Dispatch", "parseTypenames", "typenames", "types", "name", "get", "type", "c", "set", "callback", "noop", "dispatch_default", "init_dispatch", "__esmMin", "typename", "T", "copy", "that", "args", "init_src", "__esmMin", "init_dispatch", "nopropagation", "event", "noevent_default", "nonpassive", "nonpassivecapture", "init_noevent", "__esmMin", "nodrag_default", "view", "root", "selection", "select_default", "noevent_default", "nonpassivecapture", "yesdrag", "noclick", "init_nodrag", "__esmMin", "init_src", "init_noevent", "constant_default", "init_constant", "__esmMin", "x", "DragEvent", "type", "sourceEvent", "subject", "target", "identifier", "active", "x", "y", "dx", "dy", "dispatch", "init_event", "__esmMin", "value", "defaultFilter", "event", "defaultContainer", "defaultSubject", "d", "defaultTouchable", "drag_default", "filter", "container", "subject", "touchable", "gestures", "listeners", "dispatch_default", "active", "mousedownx", "mousedowny", "mousemoving", "touchending", "clickDistance2", "drag", "selection", "mousedowned", "touchstarted", "touchmoved", "nonpassive", "touchended", "gesture", "beforestart", "select_default", "mousemoved", "nonpassivecapture", "mouseupped", "nodrag_default", "nopropagation", "noevent_default", "dx", "dy", "yesdrag", "touches", "c", "n", "i", "that", "identifier", "touch", "dispatch", "p", "pointer_default", "s", "DragEvent", "type", "p0", "_", "constant_default", "value", "init_drag", "__esmMin", "init_src", "init_nodrag", "init_noevent", "init_constant", "init_event", "init_src", "__esmMin", "init_drag", "init_nodrag", "now", "clockNow", "setFrame", "clearNow", "clock", "clockSkew", "Timer", "timer", "callback", "delay", "time", "t", "timerFlush", "frame", "taskHead", "e", "wake", "clockLast", "timeout", "nap", "poke", "pokeDelay", "t0", "t1", "t2", "taskTail", "sleep", "interval", "init_timer", "__esmMin", "f", "timeout_default", "callback", "delay", "time", "t", "Timer", "elapsed", "init_timeout", "__esmMin", "init_timer", "init_src", "__esmMin", "init_timer", "init_timeout", "schedule_default", "node", "name", "id", "index", "group", "timing", "schedules", "create", "emptyOn", "emptyTween", "CREATED", "init", "schedule", "get", "set", "STARTED", "self", "tween", "timer", "elapsed", "SCHEDULED", "start", "i", "j", "n", "o", "stop", "timeout_default", "RUNNING", "ENDED", "tick", "STARTING", "t", "ENDING", "init_schedule", "__esmMin", "init_src", "dispatch_default", "interrupt_default", "node", "name", "schedules", "schedule", "active", "empty", "i", "STARTING", "ENDING", "ENDED", "init_interrupt", "__esmMin", "init_schedule", "interrupt_default", "name", "init_interrupt", "__esmMin", "tweenRemove", "id", "name", "tween0", "tween1", "schedule", "set", "tween", "i", "n", "tweenFunction", "value", "t", "tween_default", "get", "tweenValue", "transition", "node", "init_tween", "__esmMin", "init_schedule", "interpolate_default", "a", "b", "c", "number_default", "color", "rgb_default", "string_default", "init_interpolate", "__esmMin", "init_src", "attrRemove", "name", "attrRemoveNS", "fullname", "attrConstant", "interpolate", "value1", "string00", "string1", "interpolate0", "string0", "attrConstantNS", "attrFunction", "value", "string10", "attrFunctionNS", "attr_default", "namespace_default", "i", "interpolateTransformSvg", "interpolate_default", "tweenValue", "init_attr", "__esmMin", "init_src", "init_tween", "init_interpolate", "attrInterpolate", "name", "i", "t", "attrInterpolateNS", "fullname", "attrTweenNS", "value", "t0", "i0", "tween", "attrTween", "attrTween_default", "key", "namespace_default", "init_attrTween", "__esmMin", "init_src", "delayFunction", "id", "value", "init", "delayConstant", "delay_default", "get", "init_delay", "__esmMin", "init_schedule", "durationFunction", "id", "value", "set", "durationConstant", "duration_default", "get", "init_duration", "__esmMin", "init_schedule", "easeConstant", "id", "value", "set", "ease_default", "get", "init_ease", "__esmMin", "init_schedule", "easeVarying", "id", "value", "v", "set", "easeVarying_default", "init_easeVarying", "__esmMin", "init_schedule", "filter_default", "match", "matcher_default", "groups", "m", "subgroups", "j", "group", "n", "subgroup", "node", "i", "Transition", "init_filter", "__esmMin", "init_src", "init_transition", "merge_default", "transition", "groups0", "groups1", "m0", "m1", "m", "merges", "j", "group0", "group1", "n", "merge", "node", "i", "Transition", "init_merge", "__esmMin", "init_transition", "start", "name", "i", "onFunction", "id", "listener", "on0", "on1", "sit", "init", "set", "schedule", "on", "on_default", "get", "init_on", "__esmMin", "init_schedule", "removeFunction", "id", "parent", "i", "remove_default", "init_remove", "__esmMin", "select_default", "select", "name", "id", "selector_default", "groups", "m", "subgroups", "j", "group", "n", "subgroup", "node", "subnode", "i", "schedule_default", "get", "Transition", "init_select", "__esmMin", "init_src", "init_transition", "init_schedule", "selectAll_default", "select", "name", "id", "selectorAll_default", "groups", "m", "subgroups", "parents", "j", "group", "n", "node", "i", "children", "child", "inherit", "get", "k", "l", "schedule_default", "Transition", "init_selectAll", "__esmMin", "init_src", "init_transition", "init_schedule", "selection_default", "Selection", "init_selection", "__esmMin", "init_src", "styleNull", "name", "interpolate", "string00", "string10", "interpolate0", "string0", "styleValue", "string1", "styleRemove", "styleConstant", "value1", "styleFunction", "value", "styleMaybeRemove", "id", "on0", "on1", "listener0", "key", "event", "remove", "schedule", "set", "on", "listener", "style_default", "priority", "i", "interpolateTransformCss", "interpolate_default", "tweenValue", "init_style", "__esmMin", "init_src", "init_schedule", "init_tween", "init_interpolate", "styleInterpolate", "name", "i", "priority", "t", "styleTween", "value", "i0", "tween", "styleTween_default", "key", "init_styleTween", "__esmMin", "textConstant", "value", "textFunction", "value1", "text_default", "tweenValue", "init_text", "__esmMin", "init_tween", "textInterpolate", "i", "textTween", "value", "t0", "i0", "tween", "textTween_default", "key", "init_textTween", "__esmMin", "transition_default", "name", "id0", "id1", "newId", "groups", "m", "j", "group", "n", "node", "i", "inherit", "get", "schedule_default", "Transition", "init_transition", "__esmMin", "init_schedule", "end_default", "on0", "on1", "that", "id", "size", "resolve", "reject", "cancel", "end", "schedule", "set", "on", "init_end", "__esmMin", "init_schedule", "Transition", "groups", "parents", "name", "id", "transition", "selection_default", "newId", "selection_prototype", "init_transition", "__esmMin", "init_src", "init_attr", "init_attrTween", "init_delay", "init_duration", "init_ease", "init_easeVarying", "init_filter", "init_merge", "init_on", "init_remove", "init_select", "init_selectAll", "init_selection", "init_style", "init_styleTween", "init_text", "init_textTween", "init_tween", "init_end", "select_default", "selectAll_default", "filter_default", "merge_default", "transition_default", "on_default", "attr_default", "attrTween_default", "style_default", "styleTween_default", "text_default", "textTween_default", "remove_default", "tween_default", "delay_default", "duration_default", "ease_default", "easeVarying_default", "end_default", "cubicOut", "t", "cubicInOut", "init_cubic", "__esmMin", "init_src", "__esmMin", "init_cubic", "inherit", "node", "id", "timing", "transition_default", "name", "Transition", "newId", "defaultTiming", "now", "groups", "m", "j", "group", "n", "i", "schedule_default", "init_transition", "__esmMin", "init_schedule", "init_src", "cubicInOut", "init_selection", "__esmMin", "init_src", "init_interrupt", "init_transition", "selection_default", "interrupt_default", "transition_default", "init_src", "__esmMin", "init_selection", "init_interrupt", "constant_default", "init_constant", "__esmMin", "x", "BrushEvent", "type", "sourceEvent", "target", "selection", "mode", "dispatch", "init_event", "__esmMin", "nopropagation", "event", "noevent_default", "init_noevent", "__esmMin", "number1", "number2", "type", "t", "defaultFilter", "event", "defaultExtent", "svg", "defaultTouchable", "local", "node", "empty", "extent", "brushSelection", "state", "brushX", "brush", "X", "brushY", "Y", "brush_default", "XY", "dim", "filter", "touchable", "keys", "listeners", "dispatch_default", "handleSize", "touchending", "group", "overlay", "initialize", "cursors", "select_default", "handle", "d", "redraw", "started", "touchmoved", "touchended", "selection", "emitter", "that", "emit", "selection0", "selection1", "i", "value_default", "tween", "args", "interrupt_default", "clean", "Emitter", "mode", "BrushEvent", "MODE_DRAG", "MODE_CENTER", "MODE_HANDLE", "signX", "signsX", "signY", "signsY", "W", "w0", "w1", "N", "n0", "n1", "E", "e0", "e1", "S", "s0", "s1", "dx", "dy", "moving", "shifting", "lockX", "lockY", "points", "pointer_default", "pts", "min", "max", "move", "moved", "ended", "view", "keydowned", "keyupped", "nodrag_default", "p", "point", "abs", "noevent_default", "point0", "MODE_SPACE", "flipX", "flipY", "nopropagation", "yesdrag", "_", "constant_default", "value", "init_brush", "__esmMin", "init_src", "init_constant", "init_event", "init_noevent", "x", "e", "xy", "y", "src_exports", "__export", "brush_default", "brushSelection", "brushX", "brushY", "init_src", "__esmMin", "init_brush", "constant_default", "init_constant", "__esmMin", "x", "ZoomEvent", "type", "sourceEvent", "target", "transform", "dispatch", "init_event", "__esmMin", "Transform", "k", "x", "y", "transform", "node", "identity", "init_transform", "__esmMin", "point", "location", "nopropagation", "event", "noevent_default", "init_noevent", "__esmMin", "defaultFilter", "event", "defaultExtent", "defaultTransform", "identity", "defaultWheelDelta", "defaultTouchable", "defaultConstrain", "transform", "extent", "translateExtent", "dx0", "dx1", "dy0", "dy1", "zoom_default", "filter", "constrain", "wheelDelta", "touchable", "scaleExtent", "duration", "interpolate", "listeners", "dispatch_default", "touchstarting", "touchfirst", "touchending", "touchDelay", "wheelDelay", "clickDistance2", "tapDistance", "zoom", "selection", "wheeled", "mousedowned", "dblclicked", "touchstarted", "touchmoved", "touchended", "collection", "point", "schedule", "gesture", "k", "p", "k0", "k1", "e", "t0", "p0", "centroid", "p1", "translate", "scale", "x", "y", "t", "Transform", "transition", "that", "args", "g", "w", "a", "b", "i", "l", "clean", "Gesture", "key", "type", "d", "select_default", "ZoomEvent", "pointer_default", "interrupt_default", "noevent_default", "wheelidled", "currentTarget", "v", "mousemoved", "mouseupped", "x0", "y0", "nodrag_default", "nopropagation", "dx", "dy", "yesdrag", "t1", "touches", "n", "started", "l0", "l1", "dp", "dl", "_", "constant_default", "value", "init_zoom", "__esmMin", "init_src", "init_constant", "init_event", "init_transform", "init_noevent", "src_exports", "__export", "Transform", "zoom_default", "identity", "transform", "init_src", "__esmMin", "init_zoom", "init_transform", "require_d3fc", "__commonJSMin", "exports", "module", "global", "factory", "d3Array", "d3Scale", "d3Time", "d3Random", "d3Fetch", "d3Path", "d3Selection", "d3Shape", "d3ScaleChromatic", "d3Dispatch", "d3Brush", "d3Zoom", "createReboundMethod", "target", "source", "name", "method", "_len", "args", "_key", "value", "rebind", "names", "_i", "_names", "createTransform", "transforms", "fn", "rebindAll", "transform", "_Object$keys", "result", "regexify", "strsOrRegexes", "strOrRegex", "exclude", "exclusions", "exclusion", "include", "inclusions", "inclusion", "includeMap", "mappings", "capitalizeFirstLetter", "str", "prefix", "identity$5", "d", "noop", "functor$6", "v", "convertNaN", "_slidingWindow", "period", "accumulator", "defined", "slidingWindow", "data", "size", "windowData", "i", "bollingerBands", "multiplier", "values", "stdDev", "average", "exponentialMovingAverage", "initialMovingAverageAccumulator", "movingAverage", "alpha", "initialAccumulator", "ema", "macd", "fastEMA", "slowEMA", "signalEMA", "diff", "averageDiff", "_arrayLikeToArray", "r", "a", "e", "n", "_arrayWithHoles", "_arrayWithoutHoles", "_assertThisInitialized", "_classCallCheck", "_construct", "t", "_isNativeReflectConstruct", "o", "p", "_setPrototypeOf", "_defineProperties", "_toPropertyKey", "_createClass", "_createForOfIteratorHelper", "_unsupportedIterableToArray", "F", "u", "_createSuper", "_getPrototypeOf", "s", "_possibleConstructorReturn", "_inherits", "_isNativeFunction", "_iterableToArray", "_iterableToArrayLimit", "l", "f", "_nonIterableRest", "_nonIterableSpread", "_slicedToArray", "_toArray", "_toConsumableArray", "_toPrimitive", "_typeof", "_wrapNativeSuper", "Wrapper", "relativeStrengthIndex", "wildersSmoothing", "prevAvg", "downChange", "_ref", "_ref2", "prevClose", "close", "upChange", "_ref3", "_ref4", "updateAverage", "changes", "prevAverage", "makeAccumulator", "downChangesAvg", "upChangesAvg", "closes", "closePairs", "rs", "rsi", "rsiAccumulator", "stochasticOscillator", "closeValue", "highValue", "lowValue", "kWindow", "maxHigh", "minLow", "kValue", "dWindow", "stochastic", "kValues", "dValues", "k", "forceIndex", "volumeValue", "emaComputer", "force", "envelope", "factor", "lower", "upper", "elderRay", "bullPower", "bearPower", "identity$4", "identity", "start", "end", "offset", "tickFilter", "ticks", "discontinuityProvider", "discontinuousTicks", "discontinuous", "adaptedScale", "_this", "scale", "domain", "range", "totalDomainDistance", "distanceToX", "ratioToX", "scaledByRange", "x", "newDomain", "domainLower", "domainUpper", "base$1", "dayAccessor", "intervalDay", "intervalSaturday", "intervalMonday", "day", "millisPerDay", "millisPerWorkWeek", "millisPerWeek", "skipWeekends", "isWeekend", "date", "newDate", "startDate", "endDate", "offsetStart", "msAdded", "offsetEnd", "msRemoved", "weeks", "ms", "isNegativeOffset", "isPositiveOffset", "remainingms", "weekBoundary", "completeWeeks", "skipWeekends$1", "skipUtcWeekends", "provider", "ranges", "inRange", "number", "surroundsRange", "inner", "outer", "surroundedRanges", "rangeSizes", "total", "current", "add", "location", "currentLocation", "offsetRemaining", "futureRanges", "b", "nextRange", "delta", "_currentLocation", "_offsetRemaining", "_futureRanges", "_nextRange", "_delta", "dayBoundary", "SOD", "EOD", "standardiseTimeString", "timeString", "isPositiveIntegerUpTo", "toCheck", "upperBound", "time_components", "ms_components", "nonTradingTimeRange", "timeRangeTuple", "dateTimeUtility", "startTime", "endTime", "lenghtInMs", "instance", "time", "tradingDay", "rawDiscontinuityTimeRanges", "nonTradingTimeRanges", "rawRange", "totalTradingTimeInMiliseconds", "totalTradingMillisecondsBetween", "intervalStart", "intervalEnd", "relevantDiscontinuityRanges", "_iterator", "_step", "nonTradingRange", "nonTradingStart", "nonTradingEnd", "err", "offsetDate", "nonTradingRanges", "_iterator2", "_step2", "rangeStart", "_iterator3", "_step3", "_nonTradingRange", "setTimeForDate", "getDay", "getTimeComponentArray", "dayInterval", "msInterval", "utility", "_getTimeComponentArra", "_getTimeComponentArra2", "hh", "mm", "ss", "offsetInmilliSeconds", "_utility$getTimeCompo", "_utility$getTimeCompo2", "localDateTimeUtility", "base", "nonTradingPattern", "getDayPatternOrDefault", "tradingDays", "totalTradingWeekMilliseconds", "runningTotal", "currentDay", "currentIndex", "arr", "nextDay", "isDstBoundary", "moveToDayBoundary", "dateFloor", "distanceToStartOfDay", "nextDate", "distanceToDayBoundary", "moveDateDelegate", "remainingMs", "tradingDayMs", "_moveToDayBoundary", "_moveToDayBoundary2", "_moveToDayBoundary3", "_moveToDayBoundary4", "skipWeeklyPattern", "nonTradingHoursPattern", "utcDateTimeUtility", "skipUtcWeeklyPattern", "nonTradingUtcHoursPattern", "linearExtent", "accessors", "pad", "padUnit", "symmetricalAbout", "accessor", "extent", "halfRange", "valueOf", "adaptedAccessors", "geometricBrownianMotion", "steps", "mu", "sigma", "random", "timeStep", "pathData", "increment", "functor$5", "financial", "startPrice", "interval", "intervalStep", "unitInterval", "unitIntervalStep", "filter", "volume", "normal", "gbm", "getOffsetPeriod", "unitMilliseconds", "calculateOHLC", "price", "prices", "ohlc", "getNextDatum", "filtered", "makeStream", "latest", "stream", "numPoints", "comparison", "index", "compared", "datum", "gdax", "product", "granularity", "params", "url", "bucket", "bucketSize", "largestTriangleOneBucket", "dataBucketer", "y", "pointAreas", "calculateAreaOfPoints", "pointAreaBuckets", "buckets", "subsampledData", "thisBucket", "pointAreaBucket", "maxArea", "currentMaxIndex", "xyData", "point", "lastPoint", "thisPoint", "nextPoint", "largestTriangleThreeBucket", "firstBucket", "lastBucket", "allBuckets", "lastSelectedX", "lastSelectedY", "nextAvgX", "nextAvgY", "item", "areas", "highestIndex", "highestXY", "modeMedian", "minMax", "frequencies", "mostFrequent", "mostFrequentIndex", "singleMostFrequent", "globalMinMax", "functor$4", "shapeOhlc", "context", "open", "high", "low", "orient", "width", "drawingContext", "xValue", "yOpen", "yHigh", "yLow", "yClose", "halfWidth", "shapeBar", "horizontalAlign", "verticalAlign", "height", "bar", "yValue", "barHeight", "barWidth", "horizontalOffset", "verticalOffset", "shapeCandlestick", "candlestick", "halfBarWidth", "shapeBoxPlot", "median", "upperQuartile", "lowerQuartile", "cap", "boxPlot", "_value", "_width", "capWidth", "halfCapWidth", "_high", "_upperQuartile", "_median", "_lowerQuartile", "_low", "upperQuartileToLowerQuartile", "shapeErrorBar", "errorBar", "functor$3", "effectivelyZero", "isTransition", "selectionOrTransition", "dataJoin", "element", "className", "key", "_", "explicitTransition", "container", "selection", "implicitTransition", "selected", "update", "enter", "exit", "transition", "label", "layoutStrategy", "decorate", "position", "strategy", "component", "xScale", "yScale", "dataJoin$1", "group", "g", "nodes", "childRects", "node", "pos", "childPos", "childSize", "layout", "textLabel", "padding", "textJoin", "rectJoin", "pointJoin", "nodeSelection", "rect", "anchorX", "anchorY", "circle", "text", "isIntersecting", "intersect", "left", "right", "top", "bottom", "collisionArea", "rectangles", "getPlacement", "placements", "substitute", "array", "substitution", "lessThan", "layoutComponent", "score", "winningScore", "locationScore", "evaluatePlacement", "placement", "newScore", "greedy", "bounds", "containerPenalty", "rectangle", "penaltyForRectangle", "placementIndex", "randomItem", "randomIndex", "annealing", "temperature", "cooling", "orientationPenalty", "currentTemperature", "oldScore", "randomNewPlacement", "scanForObject", "comparator", "removeOverlaps", "adaptedStrategy", "_loop", "visible", "collisions", "maximumCollision", "_ret", "boundingBox", "tx", "ty", "functor$2", "outerArguments", "c", "j", "alignOffset", "align", "createBase", "initialValues", "env", "xyBase", "baseValue", "crossValue", "mainValue", "bandwidth", "y0", "_y", "_y2", "_x", "red", "green", "black", "gray", "darkGray", "colors", "seriesSvgLine", "lineData", "join", "line", "path", "seriesCanvasLine", "baseScale", "bufferBuilder", "attributes", "uniforms", "elementIndices", "programBuilder", "program", "gl", "attribute", "uniform", "_len2", "_key2", "initialData", "dirty", "build", "drawModes", "vertexShader", "fragmentShader", "programVertexShader", "programFragmentShader", "mode", "subInstanceCount", "buffers", "debug", "extInstancedArrays", "pixelRatio", "count", "vertexShaderSource", "fragmentShaderSource", "newProgram", "createProgram", "elementIndicesLength", "loadShader", "message", "type", "shader", "shaderBuilder", "shaderHeaders", "shaderBodies", "append", "insert", "before", "beforeIndex", "appendIfNotExists", "elementIndex", "header", "body", "vertexShaderBase", "fragmentShaderBase", "fillColor$2", "strokeColor$2", "circle$1", "star$1", "wye$1", "square$1", "diamond$1", "triangle$1", "cross$1", "candlestick$4", "ohlc$4", "bar$4", "errorBar$4", "area$4", "boxPlot$4", "star", "wye", "square", "diamond", "triangle", "cross", "candlestick$3", "ohlc$3", "area$3", "boxPlot$3", "errorBar$3", "bar$3", "fillColor$1", "strokeColor$1", "areaShader", "types", "length", "getArrayViewConstructor", "baseAttributeBuilder", "buffer", "normalized", "stride", "divisor", "baseAttribute", "defaultArrayViewFactory", "cachedArray", "requiredLength", "ArrayType", "attributeProjector", "arrayViewFactory", "projector", "projectedData", "componentValues", "componentValue", "webglAttribute", "rebindCurry", "targetName", "sourceName", "curriedArgs", "webglSeriesArea", "cornerAttribute", "draw", "numElements", "circlePointShader", "webglSeriesPoint", "lineWidthShader", "lineWidth", "webglSeriesLine", "ohlcShader", "webglSeriesOhlc", "barShader", "webglSeriesBar", "errorBarShader", "webglSeriesErrorBar", "candlestickShader", "webglSeriesCandlestick", "boxPlotShader", "webglSeriesBoxPlot", "webglAdjacentAttribute", "minOffset", "maxOffset", "adjacentAttribute", "elementSize", "bufferOffset", "bufferPadding", "bufferLength", "offsetAttribute", "linear", "identifier", "domainSize", "rangeSize", "translate", "scaleFactor", "log", "glBase", "logPart", "pow", "exponent", "powPart", "scaleLinearCopy", "scaleLogCopy", "scalePowCopy", "scaleTimeCopy", "identity$3", "epoch", "reepoch", "webglScaleMapper", "squarePointShader", "trianglePointShader", "crossPointShader", "diamondPointShader", "starPointShader", "wyePointShader", "webglSymbolMapper", "symbol", "constantAttribute", "initialValue", "fillColor", "projectedAttribute", "strokeColor", "crossValueAttribute", "crossNextValueAttribute", "mainValueAttribute", "mainNextValueAttribute", "definedAttribute", "definedNextAttribute", "equals", "previousData", "scaleMapper", "previousXScale", "previousYScale", "dataChanged", "seriesSvgPoint", "containerTransform", "origin", "filteredData", "seriesCanvasPoint", "sizeAttribute", "bar$2", "pathGenerator", "valueAxisDimension", "generator", "crossAxisDimension", "translation", "bar$1", "baseValueAttribute", "bandwidthAttribute", "errorBarBase", "errorBar$2", "propagateTransition", "maybeTransition", "containerTranslation", "transitionPropagator", "errorBar$1", "highValueAttribute", "lowValueAttribute", "area$2", "areaData", "area", "valueComponent", "area$1", "baseNextValueAttribute", "ohlcBase$3", "openValue", "crossValueScaled", "closeRaw", "openRaw", "direction", "ohlcBase$2", "seriesName", "color", "singleCandlestick", "candlestick$2", "ohlcBase$1", "candlestick$1", "ohlcBase", "openValueAttribute", "closeValueAttribute", "boxPlotBase", "upperQuartileValue", "lowerQuartileValue", "medianValue", "boxPlot$2", "boxPlot$1", "upperQuartileValueAttribute", "medianValueAttribute", "lowerQuartileValueAttribute", "capAttribute", "ohlc$2", "ohlc$1", "multiBase", "series", "mapping", "multi", "seriesSvgMulti", "innerJoin", "dataSeries", "seriesIndex", "seriesGroup", "seriesData", "innerContainer", "seriesCanvasMulti", "adaptedDecorate", "multiSeries", "groupedBase", "offsetScale", "grouped", "grouped$1", "isVertical", "compositeScale", "repeat$2", "repeat", "repeat$1", "seriesCache", "previousSeriesCache", "_previousSeriesCache", "sortUnique", "self", "autoBandwidth", "adaptee", "widthFraction", "computeBandwidth", "screenValues", "neighbourDistances", "tuple", "minDistance", "determineBandwith", "crossScale", "flattenedData", "crossValuePoints", "arg", "computeWidth", "heatmapBase", "colorValue", "yBandwidth", "xBandwidth", "colorInterpolate", "heatmap", "colorValues", "heatmap$1", "colorScale", "constant", "band$1", "fromValue", "toValue", "horizontal", "valueScale", "crossScaleRange", "crossScaleSize", "band", "valueAxisStart", "crossAxisStart", "annotationLine$1", "lineProperty", "handleOne", "handleTwo", "textOffsetX", "textOffsetY", "textOffsetDeltaY", "textAnchor", "scaleRange", "scaleWidth", "selectionIndex", "crosshair$1", "horizontalLine", "verticalLine", "xIdentity", "yIdentity", "lineIncludes", "annotationLine", "crossDomain", "textAlign", "textBaseline", "crosshair", "tickArguments", "tickValues", "_scale", "identity$2", "gridline$1", "xDecorate", "yDecorate", "xTicks", "yTicks", "xJoin", "yJoin", "xScaleOld", "xData", "xLines", "yScaleOld", "yData", "yLines", "gridline", "xTick", "yTick", "identity$1", "tryApply", "defaultVal", "ticksArrayForAxis", "axis", "_axis$tickValues", "tickFormatterForAxis", "_axis$tickFormat", "axisBase", "custom", "tickFormat", "tickSizeOuter", "tickSizeInner", "tickPadding", "svgDomainLine", "domainPathDataJoin", "defaultLabelOffset", "defaultTickPath", "labelOffset", "tickPath", "containerTranslate", "trans", "pathTranspose", "scaleOld", "ticksArray", "tickFormatter", "sign", "withSign", "domainPathData", "domainLine", "labelOffsets", "tickPaths", "tickCenterLabel", "tick", "hidden", "thisPosition", "nextPosition", "axisTop", "axisBottom", "axisLeft", "axisRight", "axisOrdinal", "tickOffset", "step", "axisOrdinalTop", "axisOrdinalBottom", "axisOrdinalLeft", "axisOrdinalRight", "measureLabels", "measure", "labels", "tester", "boundingBoxes", "maxHeight", "maxWidth", "axisLabelRotate", "labelRotate", "labelAnchor", "calculateRotation", "_measureLabels", "labelCount", "measuredSize", "rotate", "decorateRotation", "sel", "_calculateRotation", "anchor", "existingTransform", "offsetTransform", "axisLabelOffset", "labelOffsetDepth", "decorateOffset", "offsetLevels", "get", "set", "clear", "find", "_data$get", "previousWidth", "previousHeight", "resized", "child", "resize", "detail", "event", "redraw", "elements", "allElements", "getQueue", "setQueue", "queue", "requestId", "clearQueue", "isDescendentOf", "ancestor", "_requestRedraw", "queueContainsElement", "queueContainsAncestor", "queuedElement", "queueExcludingDescendents", "addMeasureListener", "removeMeasureListener", "createNode", "applyMeasurements", "_HTMLElement", "_class", "_super", "_this$childNodes", "other", "useDevicePixelRatio", "_default$1", "_element", "_default", "setWebglViewport", "updateAutoResize", "addAutoResizeListener", "removeAutoResizeListener", "autoResize", "Svg", "css$1", "styleElement$1", "alreadyRegistered", "registerElement", "pointer", "pointEvent", "mousemove", "mouseleave", "row", "column", "verticalgroup", "cell", "horizontalgroup", "store", "_i2", "css", "styleElement", "functor$1", "cartesianChart", "_getArguments", "getArguments", "xAxis", "yAxis", "chartLabel", "xLabel", "yLabel", "xAxisHeight", "yAxisWidth", "yOrient", "xOrient", "webglPlotArea", "canvasPlotArea", "svgPlotArea", "isContextLost", "xAxisStore", "yAxisStore", "containerDataJoin", "webglDataJoin", "canvasDataJoin", "svgDataJoin", "xAxisDataJoin", "yAxisDataJoin", "chartLabelDataJoin", "xLabelDataJoin", "yLabelDataJoin", "cartesian", "_event$detail", "_event$detail2", "_event$detail3", "xAxisComponent", "_event$detail4", "yAxisComponent", "scaleExclusions", "defaultSettings", "functor", "cartesianBase", "setPlotArea", "defaultPlotArea", "plotArea", "yOrientValue", "cartesian$1", "brushForOrient", "invertRange", "brushBase", "brush", "eventDispatch", "mapSelection", "xMapping", "yMapping", "percentToSelection", "percent", "selectionToPercent", "updateXDomain", "updateYDomain", "transformEvent", "mappedSelection", "brushX", "brushY", "domainsEqual", "aDomain", "bDomain", "_bDomain$i", "subtract", "zoom", "dispatcher", "zoomer", "updatedTransform", "_node$symbol", "originalXScale", "originalYScale", "previousTransform", "existingContext", "xScaleCopy", "yScaleCopy", "require_node", "__commonJSMin", "exports", "GradientParser", "visitor", "node", "orientation", "result", "at", "style", "resultColor", "length", "elements", "size", "element", "nodeVisitor", "root", "tokens", "input", "error", "msg", "err", "getAST", "ast", "matchListDefinitions", "matchListing", "matchDefinition", "matchGradient", "matchLinearOrientation", "matchListRadialOrientations", "gradientType", "pattern", "orientationMatcher", "matchCall", "captures", "scan", "matchColorStop", "callback", "matchSideOrCorner", "matchAngle", "match", "radialOrientations", "radialOrientation", "matchRadialOrientation", "lookaheadCache", "radialType", "matchCircle", "matchEllipse", "matchAtPosition", "extent", "matchExtentKeyword", "positionAt", "defaultPosition", "matchPositioning", "circle", "matchLength", "ellipse", "matchDistance", "positioning", "location", "matchCoordinates", "matcher", "color", "matchColor", "matchHexColor", "matchRGBAColor", "matchRGBColor", "matchLiteralColor", "matchNumber", "matchPositionKeyword", "type", "captureIndex", "regexp", "blankCaptures", "consume", "code", "s", "el", "fc", "fc", "AXIS_TYPES", "axisType", "settings", "settingName", "settingValue", "excludeType", "getType", "checkTypes", "types", "list", "args", "noAxis_exports", "__export", "domain", "labelFunction", "scale", "init_src", "formatDecimal_default", "x", "formatDecimalParts", "p", "i", "coefficient", "exponent_default", "x", "formatDecimalParts", "formatGroup_default", "grouping", "thousands", "value", "width", "i", "t", "j", "g", "length", "formatNumerals_default", "numerals", "value", "i", "re", "formatSpecifier", "specifier", "match", "FormatSpecifier", "formatTrim_default", "s", "out", "n", "i", "i0", "i1", "prefixExponent", "formatPrefixAuto_default", "x", "p", "d", "formatDecimalParts", "coefficient", "exponent", "n", "formatRounded_default", "x", "p", "d", "formatDecimalParts", "coefficient", "exponent", "formatTypes_default", "x", "p", "formatDecimal_default", "formatRounded_default", "formatPrefixAuto_default", "identity_default", "x", "map", "prefixes", "locale_default", "locale", "group", "identity_default", "formatGroup_default", "currencyPrefix", "currencySuffix", "decimal", "numerals", "formatNumerals_default", "percent", "minus", "nan", "newFormat", "specifier", "formatSpecifier", "fill", "align", "sign", "symbol", "zero", "width", "comma", "precision", "trim", "type", "formatTypes_default", "prefix", "suffix", "formatType", "maybeSuffix", "format", "value", "valuePrefix", "valueSuffix", "i", "n", "c", "valueNegative", "formatTrim_default", "prefixExponent", "length", "padding", "formatPrefix", "f", "e", "exponent_default", "k", "locale", "format", "formatPrefix", "defaultLocale", "definition", "locale_default", "precisionFixed_default", "step", "exponent_default", "precisionPrefix_default", "step", "value", "exponent_default", "precisionRound_default", "step", "max", "exponent_default", "count", "node", "sum", "children", "i", "count_default", "each_default", "callback", "that", "index", "node", "eachBefore_default", "callback", "that", "node", "nodes", "children", "index", "eachAfter_default", "callback", "that", "node", "nodes", "next", "children", "i", "n", "index", "find_default", "callback", "that", "index", "node", "sum_default", "value", "node", "sum", "children", "i", "sort_default", "compare", "node", "path_default", "end", "start", "ancestor", "leastCommonAncestor", "nodes", "k", "a", "b", "aNodes", "bNodes", "c", "ancestors_default", "node", "nodes", "descendants_default", "leaves_default", "leaves", "node", "links_default", "root", "links", "node", "iterator_default", "node", "current", "next", "children", "i", "n", "hierarchy", "data", "children", "mapChildren", "objectChildren", "root", "Node", "node", "nodes", "child", "childs", "i", "n", "computeHeight", "node_copy", "copyData", "d", "height", "count_default", "each_default", "eachAfter_default", "eachBefore_default", "find_default", "sum_default", "sort_default", "path_default", "ancestors_default", "descendants_default", "leaves_default", "links_default", "iterator_default", "required", "f", "constantZero", "constant_default", "x", "round_default", "node", "dice_default", "parent", "x0", "y0", "x1", "y1", "nodes", "node", "i", "n", "k", "partition_default", "dx", "dy", "padding", "round", "partition", "root", "n", "positionNode", "round_default", "node", "dice_default", "x0", "y0", "x1", "y1", "x", "slice_default", "parent", "x0", "y0", "x1", "y1", "nodes", "node", "i", "n", "k", "phi", "squarifyRatio", "ratio", "parent", "x0", "y0", "x1", "y1", "rows", "nodes", "row", "nodeValue", "i0", "i1", "n", "dx", "dy", "value", "sumValue", "minValue", "maxValue", "newRatio", "minRatio", "alpha", "beta", "dice_default", "slice_default", "squarify_default", "custom", "squarify", "x", "treemap_default", "tile", "squarify_default", "round", "dx", "dy", "paddingStack", "paddingInner", "constantZero", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft", "treemap", "root", "positionNode", "round_default", "node", "p", "x0", "y0", "x1", "y1", "x", "required", "constant_default", "binary_default", "parent", "x0", "y0", "x1", "y1", "nodes", "i", "n", "sum", "sums", "partition", "j", "value", "node", "valueOffset", "valueTarget", "k", "hi", "mid", "valueLeft", "valueRight", "xk", "yk", "init_src", "init_src", "initRange", "domain", "range", "initInterpolator", "interpolator", "init_src", "implicit", "ordinal", "index", "InternMap", "domain", "range", "unknown", "scale", "d", "i", "_", "value", "initRange", "band", "scale", "ordinal", "domain", "ordinalRange", "r0", "r1", "step", "bandwidth", "round", "paddingInner", "paddingOuter", "align", "rescale", "n", "reverse", "start", "stop", "values", "range", "i", "_", "initRange", "init_src", "init_src", "constants", "x", "number", "x", "unit", "identity", "x", "normalize", "a", "b", "constants", "clamper", "t", "bimap", "domain", "range", "interpolate", "d0", "d1", "r0", "r1", "polymap", "j", "d", "r", "i", "bisect_default", "copy", "source", "target", "transformer", "value_default", "transform", "untransform", "unknown", "clamp", "piecewise", "output", "input", "rescale", "n", "scale", "y", "number_default", "_", "number", "round_default", "u", "continuous", "init_src", "tickFormat", "start", "stop", "count", "specifier", "step", "tickStep", "precision", "formatSpecifier", "value", "precisionPrefix_default", "formatPrefix", "precisionRound_default", "precisionFixed_default", "format", "linearish", "scale", "domain", "count", "d", "ticks", "specifier", "tickFormat", "i0", "i1", "start", "stop", "prestep", "step", "maxIter", "tickIncrement", "linear", "continuous", "copy", "initRange", "nice", "domain", "interval", "i0", "i1", "x0", "x1", "t", "init_src", "init_src", "localDate", "d", "date", "utcDate", "newDate", "y", "m", "formatLocale", "locale", "locale_dateTime", "locale_date", "locale_time", "locale_periods", "locale_weekdays", "locale_shortWeekdays", "locale_months", "locale_shortMonths", "periodRe", "formatRe", "periodLookup", "formatLookup", "weekdayRe", "weekdayLookup", "shortWeekdayRe", "shortWeekdayLookup", "monthRe", "monthLookup", "shortMonthRe", "shortMonthLookup", "formats", "formatShortWeekday", "formatWeekday", "formatShortMonth", "formatMonth", "formatDayOfMonth", "formatMicroseconds", "formatYearISO", "formatFullYearISO", "formatHour24", "formatHour12", "formatDayOfYear", "formatMilliseconds", "formatMonthNumber", "formatMinutes", "formatPeriod", "formatQuarter", "formatUnixTimestamp", "formatUnixTimestampSeconds", "formatSeconds", "formatWeekdayNumberMonday", "formatWeekNumberSunday", "formatWeekNumberISO", "formatWeekdayNumberSunday", "formatWeekNumberMonday", "formatYear", "formatFullYear", "formatZone", "formatLiteralPercent", "utcFormats", "formatUTCShortWeekday", "formatUTCWeekday", "formatUTCShortMonth", "formatUTCMonth", "formatUTCDayOfMonth", "formatUTCMicroseconds", "formatUTCYearISO", "formatUTCFullYearISO", "formatUTCHour24", "formatUTCHour12", "formatUTCDayOfYear", "formatUTCMilliseconds", "formatUTCMonthNumber", "formatUTCMinutes", "formatUTCPeriod", "formatUTCQuarter", "formatUTCSeconds", "formatUTCWeekdayNumberMonday", "formatUTCWeekNumberSunday", "formatUTCWeekNumberISO", "formatUTCWeekdayNumberSunday", "formatUTCWeekNumberMonday", "formatUTCYear", "formatUTCFullYear", "formatUTCZone", "parses", "parseShortWeekday", "parseWeekday", "parseShortMonth", "parseMonth", "parseLocaleDateTime", "parseDayOfMonth", "parseMicroseconds", "parseYear", "parseFullYear", "parseHour24", "parseDayOfYear", "parseMilliseconds", "parseMonthNumber", "parseMinutes", "parsePeriod", "parseQuarter", "parseUnixTimestamp", "parseUnixTimestampSeconds", "parseSeconds", "parseWeekdayNumberMonday", "parseWeekNumberSunday", "parseWeekNumberISO", "parseWeekdayNumberSunday", "parseWeekNumberMonday", "parseLocaleDate", "parseLocaleTime", "parseZone", "parseLiteralPercent", "newFormat", "specifier", "string", "i", "j", "n", "c", "pad", "format", "pads", "newParse", "Z", "parseSpecifier", "week", "day", "utcMonday", "utcDay", "timeMonday", "timeDay", "parse", "f", "p", "numberRe", "percentRe", "requoteRe", "value", "fill", "width", "sign", "length", "requote", "s", "names", "name", "timeYear", "timeSunday", "dISO", "timeThursday", "z", "utcYear", "dow", "utcSunday", "UTCdISO", "utcThursday", "locale", "timeFormat", "timeParse", "utcFormat", "utcParse", "defaultLocale", "definition", "formatLocale", "date", "t", "number", "calendar", "ticks", "tickInterval", "year", "month", "week", "day", "hour", "minute", "second", "format", "scale", "continuous", "invert", "domain", "formatMillisecond", "formatSecond", "formatMinute", "formatHour", "formatDay", "formatWeek", "formatMonth", "formatYear", "tickFormat", "y", "_", "interval", "d", "count", "specifier", "nice", "copy", "time", "initRange", "timeTicks", "timeTickInterval", "timeYear", "timeMonth", "timeSunday", "timeDay", "timeHour", "timeMinute", "timeFormat", "init_src", "transformer", "x0", "x1", "t0", "t1", "k10", "transform", "interpolator", "identity", "clamp", "unknown", "scale", "_", "range", "interpolate", "r0", "r1", "value_default", "round_default", "t", "copy", "source", "target", "sequential", "linearish", "initInterpolator", "init_src", "flattenExtent", "array", "withUndefined", "fn", "a", "b", "r", "v", "flattenArray", "import_d3fc", "MIN_BANDWIDTH", "minBandwidth_default", "adaptee", "minBandwidth", "arg", "args", "import_d3fc", "withoutTicks_default", "adaptee", "withoutTicks", "arg", "scale", "withoutTicks_default", "minBandwidth_default", "band", "domain", "valueNames", "orient", "_domain", "data", "flattenedData", "flattenArray", "transformDomain", "d", "args", "labelFunction", "valueName", "linearAxis_exports", "__export", "component", "domain", "labelFunction", "scale", "tickFormatFunction", "fc", "init_src", "defaultPadding", "pad", "padUnit", "padding", "extent", "delta", "args", "extentLinear", "accessors", "d", "symmetricalAbout", "include", "paddingStrategy", "defaultPadding", "instance", "data", "values", "_iteratorNormalCompletion", "_didIteratorError", "_iteratorError", "_iterator", "_step", "accessor", "i", "value", "toConsumableArray", "err", "extent$$1", "min", "max", "halfRange", "args", "arr", "arr2", "SI_MIN", "getValueFormatterForRange", "min", "max", "precision", "d", "format", "getChartElement", "element", "getChartContainer", "scale", "linear", "domain", "base", "extentLinear", "valueNames", "_domain", "data", "v", "d", "getDataExtent", "flattenArray", "getMinimumGap", "gaps", "valueName", "a", "b", "i", "acc", "src", "dataWidth", "args", "labelFunction", "tickFormatFunction", "getValueFormatterForRange", "component", "_settings", "orient", "settingName", "getAxis", "s", "getChartContainer", "shrinkTickLabel", "node", "text", "select_default", "shrinkTicks", "axis", "axisBox", "nodes", "tickBox", "decorate", "_index", "getComponent", "timeAxis_exports", "__export", "domain", "labelFunction", "scale", "fc", "scale", "time", "domain", "base", "valueNames", "_domain", "data", "v", "d", "getDataExtent", "flattenArray", "getMinimumGap", "gaps", "valueName", "a", "b", "i", "acc", "src", "dataWidth", "args", "labelFunction", "ordinalAxis_exports", "__export", "component", "domain", "labelFunction", "scale", "fc", "import_d3fc", "store_default", "names", "data", "store", "target", "key", "name", "args", "multiAxis", "orient", "baseAxis", "scale", "tickSizeOuter", "tickSizeInner", "axisStore", "store_default", "decorate", "args", "groups", "groupDataJoin", "domainPathDataJoin", "translate", "x", "y", "isVertical", "pathTranspose", "arr", "d", "selection", "data", "index", "group", "element", "container", "select_default", "sign", "range", "domainPathData", "line_default", "g", "getAxisSize", "i", "getAxisOffset", "sum", "n", "nodes", "groupElement", "groupScale", "scaleFromGroup", "s", "customScale", "value", "values", "multiAxisTop", "multiAxisBottom", "multiAxisLeft", "multiAxisRight", "scale", "minBandwidth_default", "band", "domain", "valueNames", "orient", "_domain", "data", "flattenedData", "flattenArray", "transformDomain", "d", "args", "labelFunction", "valueName", "component", "settings", "settingName", "getComponent", "multiLevel", "levelGroups", "axisGroups", "groupTickLayout", "getGroupTickLayout", "tickSizeInner", "l", "tickSizeOuter", "s", "v", "createAxis", "base", "axis", "decorate", "index", "rotation", "applyLabelRotation", "hideOverlappingLabels", "axisSet", "getAxisSet", "multiAxisBottom", "multiAxisLeft", "multiAxisTop", "multiAxisRight", "groups", "tick", "i", "group", "width", "maxLength", "g", "rotated", "getTransformCoords", "transform", "splitOn", "coords", "c", "isOverlap", "r1", "r2", "rectangleContained", "boundsRect", "getXAxisBoundsRect", "previousRectangles", "nodes", "select_default", "transformCoords", "tickRect", "rect", "hidden", "r", "container", "getChartContainer", "chart", "chartRect", "axisRect", "getLabelTransform", "anchor", "axisTypes", "noAxis_exports", "ordinalAxis_exports", "timeAxis_exports", "linearAxis_exports", "axisFactory", "settings", "excludeType", "orient", "settingName", "settingValue", "valueNames", "modifyDomain", "memoValue", "optionalParams", "optional", "_factory", "data", "useType", "axisType", "axis", "domainFunction", "p", "domain", "component", "createComponent", "defaultComponent", "tickFormatFunction", "v", "args", "nextModifyDomain", "fc", "chartSvgFactory", "xAxis", "yAxis", "chartFactory", "x", "y", "chartCanvasFactory", "cartesian", "canvas", "axisSplitter", "altAxis", "chart", "args", "oldDecorate", "container", "data", "plotArea", "node", "axis", "svgPlotArea", "canvasPlotArea", "selectAll_default", "altData", "y2AxisDataJoin", "d", "ySeriesDataJoin", "y2Scale", "yAxisComponent", "event", "width", "height", "select_default", "drawMultiCanvasSeries", "selection", "yScales", "i", "drawMultiSvgSeries", "nodes", "fc", "getOrCreateElement", "container", "selector", "createCallback", "element", "isElementOverflowing", "containerRect", "innerElementRect", "direction", "isElementOverlapping", "axis", "immovableRect", "elementRect", "fuzz", "dimension", "immovableInnerPoint", "immovableOuterPoint", "elementInnerPoint", "elementOuterPoint", "innerPointInside", "outerPointInside", "pointsEitherSide", "toValue", "type", "value", "getGroupValues", "data", "settings", "cross", "i", "getSplitValues", "splitValues", "split", "getDataValues", "main", "getDataRowKey", "key", "realValues", "splitKey", "generateHtml", "tooltipDiv", "data", "settings", "tooltipValues", "getGroupValues", "getSplitValues", "getDataValues", "addDataValues", "values", "d", "select_default", "formatNumber", "value", "mapToFilter", "d", "raiseEvent", "node", "data", "settings", "column_names", "getDataValues", "groupFilters", "getGroupValues", "splitFilters", "getSplitValues", "filter", "selectionEvent", "_event", "selection", "args", "tooltip", "alwaysShow", "tooltipDiv", "settings", "centered", "_tooltip", "selection", "node", "hideTooltip", "container", "select_default", "getChartContainer", "getTooltipDiv", "showTip", "_event", "data", "generateHtml", "nodes", "i", "showTooltip", "hideTip", "_data", "selectionEvent", "args", "getOrCreateElement", "tooltip_default", "containerNode", "containerRect", "rect", "left", "top", "centerTip", "shiftIfOverflowingChartArea", "tooltipDivRect", "leftAdjust", "newLeft", "topAdjust", "newTop", "isElementOverflowing", "barSeries", "settings", "color", "series", "selection", "tooltip", "d", "minBandwidth", "adaptee", "min", "arg", "args", "groupFromKey", "key", "getValuesByColumn", "settings", "column", "row", "k", "v", "_", "seriesColors", "settings", "col", "domain", "k", "colorScale", "seriesColorsFromColumn", "column", "data", "getValuesByColumn", "seriesColorsFromDistinct", "seriesColorsFromGroups", "inner", "groupFromKey", "defaultColors", "mapFunction", "d", "withOpacity", "colors", "styles", "defaults", "range", "ordinal", "args", "withoutOpacity", "color", "setOpacity", "opacity", "decoded", "import_d3fc", "labelFunctions", "labelFunction", "settings", "base", "axisType", "valueName", "label", "d", "_i", "args", "splitIntoMultiSeries", "settings", "data", "stack", "excludeEmpty", "useData", "splitByValuesIntoMultiSeries", "multiSeries", "col", "baseValues", "split", "key", "labels", "label", "value", "baseKey", "splitName", "splitValues", "baseValue", "k", "series", "groupData", "settings", "data", "stack", "groupedSeries", "splitIntoMultiSeries", "groupPointDataByMainValue", "a", "b", "groupAndStackData", "seriesDataFn", "labelfn", "labelFunction", "mainValue", "baseValue", "col", "series", "i", "seriesFn", "xhtml", "namespaces_default", "namespace_default", "name", "prefix", "i", "namespaces_default", "creatorInherit", "name", "document", "uri", "xhtml", "creatorFixed", "fullname", "creator_default", "namespace_default", "nextId", "local", "Local", "node", "id", "value", "matcher", "selector", "element", "vendorMatches", "matcher_default", "filterEvents", "event", "element", "filterContextListener", "listener", "index", "group", "contextListener", "related", "event1", "event0", "parseTypenames", "typenames", "name", "i", "onRemove", "typename", "on", "j", "m", "o", "onAdd", "value", "capture", "wrap", "d", "on_default", "n", "t", "none", "selector_default", "selector", "select_default", "select", "selector_default", "groups", "m", "subgroups", "j", "group", "n", "subgroup", "node", "subnode", "i", "Selection", "empty", "selectorAll_default", "selector", "selectAll_default", "select", "selectorAll_default", "groups", "m", "subgroups", "parents", "j", "group", "n", "node", "i", "Selection", "filter_default", "match", "matcher_default", "groups", "m", "subgroups", "j", "group", "n", "subgroup", "node", "i", "Selection", "sparse_default", "update", "enter_default", "Selection", "sparse_default", "EnterNode", "parent", "datum", "child", "next", "selector", "constant_default", "x", "keyPrefix", "bindIndex", "parent", "group", "enter", "update", "exit", "data", "i", "node", "groupLength", "dataLength", "EnterNode", "bindKey", "key", "nodeByKeyValue", "keyValues", "keyValue", "data_default", "value", "j", "d", "bind", "parents", "groups", "constant_default", "m", "enterGroup", "updateGroup", "exitGroup", "i0", "i1", "previous", "next", "Selection", "exit_default", "Selection", "sparse_default", "merge_default", "selection", "groups0", "groups1", "m0", "m1", "m", "merges", "j", "group0", "group1", "n", "merge", "node", "i", "Selection", "order_default", "groups", "j", "m", "group", "i", "next", "node", "sort_default", "compare", "ascending", "compareNode", "a", "b", "groups", "m", "sortgroups", "j", "group", "n", "sortgroup", "node", "i", "Selection", "call_default", "callback", "nodes_default", "nodes", "i", "node_default", "groups", "j", "m", "group", "i", "n", "node", "size_default", "size", "empty_default", "each_default", "callback", "groups", "j", "m", "group", "n", "node", "attrRemove", "name", "attrRemoveNS", "fullname", "attrConstant", "value", "attrConstantNS", "attrFunction", "v", "attrFunctionNS", "attr_default", "namespace_default", "node", "window_default", "node", "styleRemove", "name", "styleConstant", "value", "priority", "styleFunction", "v", "style_default", "node", "window_default", "propertyRemove", "name", "propertyConstant", "value", "propertyFunction", "v", "property_default", "classArray", "string", "classList", "node", "ClassList", "name", "i", "classedAdd", "names", "list", "n", "classedRemove", "classedTrue", "classedFalse", "classedFunction", "value", "classed_default", "textRemove", "textConstant", "value", "textFunction", "v", "text_default", "htmlRemove", "htmlConstant", "value", "htmlFunction", "v", "html_default", "raise", "raise_default", "lower", "lower_default", "append_default", "name", "create", "creator_default", "constantNull", "insert_default", "name", "before", "create", "creator_default", "select", "selector_default", "remove", "parent", "remove_default", "datum_default", "value", "dispatchEvent", "node", "type", "params", "window", "window_default", "event", "dispatchConstant", "dispatchFunction", "dispatch_default", "root", "Selection", "groups", "parents", "selection", "select_default", "selectAll_default", "filter_default", "data_default", "enter_default", "exit_default", "merge_default", "order_default", "sort_default", "call_default", "nodes_default", "node_default", "size_default", "empty_default", "each_default", "attr_default", "style_default", "property_default", "classed_default", "text_default", "html_default", "raise_default", "lower_default", "append_default", "insert_default", "remove_default", "datum_default", "on_default", "dispatch_default", "select_default", "selector", "Selection", "root", "ascending_default", "a", "b", "bisector_default", "compare", "ascendingComparator", "a", "x", "lo", "hi", "mid", "f", "d", "ascending_default", "ascendingBisect", "bisector_default", "ascending_default", "bisectRight", "bisectLeft", "array", "slice", "map", "e10", "e5", "e2", "max_default", "array", "f", "i", "n", "b", "sum_default", "array", "f", "s", "n", "d3_identity", "d", "d3_reverse", "arr", "mirror", "i", "l", "length", "d3_textWrapping", "text", "width", "each", "select", "words", "split", "reverse", "word", "line", "lineNumber", "lineHeight", "attr", "dy", "parseFloat", "tspan", "append", "pop", "push", "join", "node", "getComputedTextLength", "d3_mergeLabels", "gen", "labels", "domain", "range", "labelDelimiter", "_typeof", "customLabels", "genLength", "d3_linearLegend", "scale", "cells", "labelFormat", "data", "increment", "map", "d3_quantLegend", "invert", "invertExtent", "d3_ordinalLegend", "d3_cellOver", "cellDispatcher", "obj", "call", "d3_cellOut", "d3_cellClick", "helper", "shape", "shapes", "shapeHeight", "shapeWidth", "shapeRadius", "path", "svg", "enter", "classPrefix", "labelWidth", "selectAll", "ascending", "type", "ticks", "cellFilter", "filterCells", "label", "filter", "dataValues", "labelValues", "indexOf", "orient", "cell", "cellTrans", "textTrans", "labelAlign", "style", "dispatcher", "on", "title", "titleWidth", "titleText", "cellsSvg", "yOffset", "nodes", "getBBox", "height", "xOffset", "x", "color", "scaleLinear", "shapePadding", "useClass", "locale", "d3_defaultLocale", "specifier", "d3_defaultFormatSpecifier", "labelOffset", "d3_defaultDelimiter", "labelWrap", "legendDispatcher", "dispatch", "legend", "d3_calcType", "format", "legendG", "d3_filterCells", "cellEnter", "d3_addEvents", "exit", "transition", "remove", "merge", "d3_drawShapes", "d3_addText", "textSize", "shapeSize", "feature", "textAlign", "cellSize", "Math", "max", "sum", "slice", "y", "d3_placement", "d3_title", "_", "arguments", "formatLocale", "formatSpecifier", "toLowerCase", "textWrap", "value", "apply", "symbol", "scale", "scaleLinear", "shape", "shapeWidth", "shapeHeight", "shapeRadius", "shapePadding", "cells", "cellFilter", "labels", "classPrefix", "title", "locale", "helper", "d3_defaultLocale", "specifier", "d3_defaultFormatSpecifier", "labelAlign", "labelOffset", "labelDelimiter", "d3_defaultDelimiter", "labelWrap", "orient", "ascending", "titleWidth", "legendDispatcher", "dispatch", "legend", "svg", "type", "d3_calcType", "format", "legendG", "selectAll", "data", "d3_filterCells", "enter", "append", "attr", "cell", "select", "cellEnter", "shapes", "d3_addEvents", "exit", "transition", "style", "remove", "merge", "d3_drawShapes", "feature", "text", "d3_addText", "textSize", "nodes", "map", "d", "getBBox", "shapeSize", "maxH", "max", "height", "maxW", "width", "cellTrans", "textTrans", "textAlign", "cellSize", "i", "Math", "sum", "slice", "y", "x", "d3_placement", "d3_title", "_", "arguments", "length", "formatLocale", "labelFormat", "formatSpecifier", "toLowerCase", "on", "value", "apply", "import_d3fc", "cropCellContents", "legendDiv", "legendCells", "legendDivRect", "isElementOverflowing", "svg", "d", "nodes", "cell", "cutoffCharIndex", "getCutoffCharacterIndex", "cellRect", "cutoffCoord", "fuzzyFactor", "margin", "enforceContainerBoundaries", "innerNode", "offsetX", "offsetY", "chartNodeRect", "select_default", "getChartElement", "innerNodeRect", "draggedInnerNodeRect", "adjustedOffsets", "bound", "isElementOverflowing", "adjustment", "resizeForDraggingEvent", "draggableComponent", "pinned", "settings", "draggable", "element", "node", "viewer", "drag", "drag_default", "event", "offsets", "enforceContainerBoundaries", "position", "isNodeInTopRight", "pinNodeToTopRight", "unpinNodeFromTopRight", "select_default", "args", "nodeRect", "containerRect", "getChartContainer", "fuzz", "margin", "horizontalHandleClass", "verticalHandleClass", "cornerHandleClass", "handlesContainerId", "fillOpacity", "resizeEvent", "resizableComponent", "handleWidthPx", "zIndex", "settings", "minDimensionsPx", "maxDimensionsPx", "callbacks", "executeCallbacks", "event", "direction", "callback", "resizable", "container", "handlesContainerExists", "dragHelper", "dragLeft", "dragTop", "dragRight", "dragBottom", "containerNode", "containerRect", "handles", "handlesGroup", "isVertical", "d", "xCoordHelper", "yCoordHelper", "edgeHandles", "leftHandle", "topHandle", "rightHandle", "bottomHandle", "edge", "drag_default", "concatCornerEdges", "corner", "cornerCursorHelper", "cornerHandles", "topLeftHandle", "topRightHandle", "bottomRightHandle", "bottomLeftHandle", "enforceMaxDimensions", "pinCorners", "offset", "enforceDistToParallelBarConstraints", "enforceContainerBoundaries", "x", "y", "updateSettings", "resizeAndRelocateHandles", "pointerFallenBehindAbsoluteCoordinates", "dimensions", "handle", "dimension", "axis", "extendHandlesBox", "pinHandleToHandleBoxEdge", "extendPerpendicularHandles", "relativeHandle", "input", "args", "becauseCrossedMinSize", "becauseExitedCoordinateSpace", "dragHandleContainer", "operatorFunction", "anticipatedDimension", "difference", "orientationClass", "_", "i", "nodes", "handleNode", "select_default", "averageCellHeightPx", "controlsHeightPx", "scrollableLegend_default", "fromLegend", "settings", "legend", "color", "domain", "pageCount", "pageSize", "pageIndex", "decorate", "draggable", "draggableComponent", "resizable", "scrollableLegend", "selection", "resizableComponent", "render", "calculatePageSize", "renderControls", "renderLegend", "cropCellContents", "controls", "getLegendControls", "setPage", "cellFilter", "legendElement", "getLegendElement", "cellContainerSize", "index", "_", "i", "legendContainerRect", "proposedPageSize", "calculatePageCount", "container", "getOrCreateElement", "legend_controls_default", "args", "scrollColorLegend", "settings", "scrollableLegend_default", "color", "scrollSymbolLegend", "symbol", "colorLegend", "legendComponent", "symbolLegend", "symbolScale", "colorGroupLegend", "fromScale", "domain", "range", "Symbol", "ordinal", "scrollLegendComponent", "scaleModifier", "scale", "legend", "container", "scrollLegend", "_d", "d", "k", "getChartElement", "options", "parts", "legendSelection", "getOrCreateElement", "selection", "isHidden", "data", "cells", "withoutOpacity", "args", "filterData", "settings", "data", "useData", "col", "clone", "k", "filterDataByGroup", "newData", "hideKeysLen", "splitValsLen", "row", "res", "val", "entries", "key", "_val", "groupFromKey", "fc", "mainGridSvg", "settings", "x", "xTick", "axis_color", "mainGridCanvas", "c", "crossGridSvg", "_", "crossGridCanvas", "gridlines_default", "series", "orient", "canvas", "xScale", "yScale", "context", "seriesMulti", "annotationGridline", "mainGrid", "crossGrid", "_withGridLines", "args", "multi", "xStyle", "yStyle", "gridlines", "fc", "hardLimitZeroPadding", "_defaultPadding", "defaultPadding", "padding", "extent", "pad", "padUnit", "delta", "paddedLowerExtent", "paddedUpperExtent", "_args", "zoomableChart_default", "chart", "settings", "xScale", "xCopy", "yScale", "yCopy", "bound", "canvas", "onChange", "zoomableChart", "selection", "chartPlotArea", "dateAxis", "zoom", "zoom_default", "event", "transform", "applyTransform", "noZoom", "zoomControls", "getZoomControls", "identity", "oneYear", "sixMonths", "oneMonth", "dateClick", "endCalculation", "start", "end", "xRange", "k", "x", "y", "yMiddle", "a", "b", "oldDecorate", "sel", "data", "plotArea", "device_pixel_factor", "initialTransform", "args", "zoomableScale", "yDomain", "changeArgs", "yZoomDomain", "container", "getOrCreateElement", "zoom_controls_default", "scale", "barChart", "container", "settings", "data", "groupAndStackData", "filterData", "color", "seriesColors", "legend", "colorLegend", "bars", "barSeries", "series", "index", "xAxis", "axisFactory", "AXIS_TYPES", "hardLimitZeroPadding", "yAxis", "chart", "chartSvgFactory", "gridlines_default", "zoomChart", "zoomableChart_default", "bar_default", "fc", "domainMatchOrigins_default", "domain1", "domain2", "isMatchable", "ratio1", "originRatio", "ratio2", "adjustLowerBound", "domain", "ratio", "fc", "splitterLabels", "settings", "labels", "alt", "color", "_render", "selection", "labelDataJoin", "d", "disabled", "coloured", "withoutOpacity", "event", "redrawChart", "chartElement", "getChartElement", "args", "axisSplitter", "settings", "sourceData", "splitFn", "dataSplitFunction", "color", "data", "altData", "splitMainValues", "altValue", "name", "split", "haveSplit", "key", "splitter", "selection", "labelsInfo", "v", "i", "mainLabels", "altLabels", "labeller", "splitterLabels", "args", "isIncludedFn", "d", "dataBlankFunction", "series", "groupedBlankFunction", "group", "columnChart", "container", "settings", "data", "groupAndStackData", "filterData", "color", "seriesColors", "legend", "colorLegend", "bars", "barSeries", "series", "index", "xAxis", "axisFactory", "AXIS_TYPES", "yAxisFactory", "hardLimitZeroPadding", "blankFunction", "groupedBlankFunction", "dataBlankFunction", "splitter", "axisSplitter", "yAxis1", "plotSeries", "gridlines_default", "chart", "chartSvgFactory", "zoomChart", "zoomableChart_default", "yAxis2", "domainMatchOrigins_default", "column_default", "fc", "fc", "lineSeries", "settings", "color", "series", "estimated_size", "stroke_width", "selection", "d", "withoutOpacity", "splitData", "settings", "data", "labelfn", "labelFunction", "col", "i", "key", "transposeData", "x", "columns", "row", "col", "fc", "findBestFromData", "array", "valueFn", "compareFn", "findBestFromArray", "best", "v", "thisValue", "findBestFromItem", "item", "value", "bestItem", "nearbyTip_default", "base", "tooltip", "xScale", "yScale", "color", "size", "canvas", "data", "xValueName", "yValueName", "altDataWithScale", "scale_factor", "nearbyTip", "selection", "chartPlotArea", "tooltipData", "pointer", "event", "closest", "getClosestDataPoint", "useYScale", "renderTip", "raiseEvent", "tipData", "tips", "d", "withOpacity", "pos", "distFn", "scale", "v", "dist1", "best1", "findBestFromData", "dist2", "best2", "args", "lineChart", "container", "settings", "data", "splitData", "filterData", "color", "seriesColors", "legend", "colorLegend", "series", "lineSeries", "paddingStrategy", "hardLimitZeroPadding", "splitter", "axisSplitter", "transposeData", "xAxis", "axisFactory", "AXIS_TYPES", "yAxisFactory", "yAxis1", "plotSeries", "gridlines_default", "chart", "chartSvgFactory", "zoomChart", "zoomableChart_default", "toolTip", "nearbyTip_default", "yAxis2", "transposed_data", "line_default", "fc", "import_d3fc", "sqrt3", "nabla", "context", "size", "y", "symbols", "circle_default", "cross_default", "diamond_default", "square_default", "star_default", "triangle_default", "wye_default", "symbolsObj", "fromDomain", "domain", "ordinal", "LABEL_PADDING", "LABEL_COSINE", "pointSeriesCanvas", "settings", "symbolKey", "size", "color", "label", "symbols", "scale_factor", "series", "d", "data", "context", "colorValue", "opacity", "type", "x", "value", "toValue", "magnitude", "mag_with_padding", "withoutOpacity", "withOpacity", "symbolTypeFromColumn", "column", "rows", "getValuesByColumn", "fromDomain", "symbolTypeFromGroups", "col", "domain", "key", "group", "groupFromKey", "xySplitData", "settings", "data", "n_cols", "col", "cols", "key", "row", "i", "groupFromKey", "xyLine", "container", "settings", "data", "transposeData", "xySplitData", "filterDataByGroup", "color", "seriesColorsFromGroups", "symbols", "symbolTypeFromGroups", "legend", "colorGroupLegend", "series", "lineSeries", "paddingStrategy", "hardLimitZeroPadding", "xAxisFactory", "axisFactory", "yAxis", "xAxis", "plotSeries", "gridlines_default", "chart", "chartSvgFactory", "zoomChart", "zoomableChart_default", "toolTip", "nearbyTip_default", "xy_line_default", "fc", "fc", "areaSeries", "_settings", "color", "series", "selection", "d", "splitAndBaseData", "settings", "data", "labelfn", "labelFunction", "col", "i", "baseValues", "key", "labels", "label", "baseValue", "value", "areaChart", "container", "settings", "data", "splitAndBaseData", "filterData", "color", "seriesColors", "legend", "colorLegend", "area_series", "areaSeries", "line_series", "lineSeries", "series", "xAxis", "axisFactory", "AXIS_TYPES", "yAxisFactory", "hardLimitZeroPadding", "splitter", "axisSplitter", "yAxis1", "plotSeries", "gridlines_default", "chart", "chartSvgFactory", "zoomChart", "zoomableChart_default", "toolTip", "nearbyTip_default", "yAxis2", "area_default", "fc", "fc", "categoryPointSeries", "settings", "seriesKey", "color", "symbols", "series", "opacity", "selection", "d", "withoutOpacity", "withOpacity", "symbolType", "col", "domain", "k", "fromDomain", "yScatter", "container", "settings", "data", "groupData", "filterData", "symbols", "symbolType", "color", "seriesColors", "legend", "symbolLegend", "series", "index", "categoryPointSeries", "paddingStrategy", "hardLimitZeroPadding", "xAxis", "axisFactory", "AXIS_TYPES", "yAxisFactory", "splitter", "axisSplitter", "yAxis1", "plotSeries", "gridlines_default", "chart", "chartSvgFactory", "zoomChart", "zoomableChart_default", "toolTip", "nearbyTip_default", "yAxis2", "y_scatter_default", "pointData", "settings", "data", "splitIntoMultiSeries", "seriesToPoints", "labelfn", "labelFunction", "mappedSeries", "col", "v", "seriesLinearRange", "_settings", "data", "valueName", "customExtent", "linear", "getExtent", "seriesColorRange", "settings", "extent", "gradient", "maxVal", "interpolator", "multiInterpolator", "sequential", "domain", "gradientPairs", "interpolators", "p", "i", "value_default", "value", "index", "value1", "value2", "fc", "colorRangeLegend", "scale", "legend", "container", "legendSelection", "getOrCreateElement", "width", "height", "xScale", "band", "domain", "paddedDomain", "min", "max", "expandedDomain", "range", "yScale", "linear", "svgBar", "_", "i", "d", "selection", "middle", "tickValues", "valueformatter", "getValueFormatterForRange", "axisLabel", "legendSvg", "legendBar", "barWidth", "args", "gridLayoutMultiChart", "elementsPrefix", "chartContainer", "chartEnter", "chartDiv", "chartTitle", "color", "containerSize", "svg", "padding", "_gridLayoutMultiChart", "container", "outerContainer", "getOrCreateElement", "scrollContainer", "innerRect", "containerHeight", "containerWidth", "minSize", "data", "cols", "rows", "d", "args", "fc", "interpolate_scale", "x1", "y1", "x2", "y2", "m", "b", "container", "node", "shortest_axis", "xyScatterSeries", "settings", "data", "color", "symbols", "_xyScatterSeries", "hasColorBy", "symbolCol", "size", "seriesLinearRange", "label", "scale_factor", "series", "index", "pointSeriesCanvas", "axisDefault", "axisFactory", "hardLimitZeroPadding", "xAxis", "yAxis", "xLabel", "yLabel", "chart", "chartCanvasFactory", "gridlines_default", "zoomChart", "zoomableChart_default", "toolTip", "nearbyTip_default", "args", "overrideSymbols", "settings", "symbols", "symbolCol", "columnType", "val", "domain", "range", "len", "i", "_", "maybeSymbols", "key", "value", "symbolType", "symbolsObj", "circle_default", "xyScatter", "container", "colorBy", "hasColorBy", "isColoredByString", "color", "legend", "temp", "symbolTypeFromColumn", "data", "pointData", "filterDataByGroup", "seriesColorsFromDistinct", "symbolLegend", "seriesColorsFromColumn", "colorLegend", "seriesColorRange", "colorRangeLegend", "colorScale", "xyGrid", "gridLayoutMultiChart", "xyContainer", "xyEnter", "xyDiv", "xyTitle", "containerSize", "d", "nodes", "select_default", "xyElement", "xyScatterSeries", "type", "group", "xy_scatter_default", "fc", "heatmapSeries", "_settings", "color", "series", "ctx", "d", "heatmapData", "settings", "data", "labelfn", "labelFunction", "mainType", "axisType", "AXIS_TYPES", "col", "i", "crossValue", "key", "mainValue", "getMainValues", "labels", "heatmapChart", "container", "settings", "data", "heatmapData", "filterData", "color", "seriesColorRange", "series", "heatmapSeries", "legend", "colorRangeLegend", "xAxis", "axisFactory", "AXIS_TYPES", "yAxis", "d", "chart", "chartCanvasFactory", "gridlines_default", "zoomChart", "zoomableChart_default", "toolTip", "nearbyTip_default", "heatmap_default", "import_d3fc", "fc", "ohlcData", "settings", "data", "splitIntoMultiSeries", "seriesToOHLC", "labelfn", "labelFunction", "getNextOpen", "mappedSeries", "col", "i", "openValue", "closeValue", "v", "fc", "isUp", "d", "ohlcCandleSeries", "settings", "seriesCanvas", "upColor", "domain", "downColor", "colorScale", "setOpacity", "avgColor", "series", "context", "color", "bollingerAverageSeries", "bollingerAreaSeries", "ohlcCandle", "seriesCanvas", "container", "settings", "srcData", "ohlcData", "filterDataByGroup", "bollinger", "d", "data", "seriesData", "bollingerData", "i", "keys", "k", "upColor", "colorScale", "setOpacity", "legend", "colorLegend", "series", "ohlcCandleSeries", "multi", "index", "paddingStrategy", "hardLimitZeroPadding", "xAxis", "axisFactory", "yAxis", "chart", "chartCanvasFactory", "gridlines_default", "zoomChart", "zoomableChart_default", "zoom", "zoomedData", "toolTip", "nearbyTip_default", "ohlcCandle_default", "ohlc", "ohlcCandle_default", "ohlc_default", "import_d3fc", "candlestick", "ohlcCandle_default", "candlestick_default", "treeColor", "settings", "data", "color_column", "x", "colors", "d", "getColors", "b", "seriesColorsFromDistinct", "seriesColorRange", "flattenExtent", "nodes", "child", "treeData", "settings", "sets", "real_aggs", "x", "y", "d", "j", "groups", "getSplitNames", "split", "currentLevel", "group", "i", "element", "e", "is_leaf", "colorValue", "getDataValue", "size", "set", "tree", "root", "hierarchy", "chartData", "partition_default", "cross", "toValue", "getExtents", "aggregate", "data", "min", "max", "splits", "key", "splitValue", "drawArc", "radius", "arc_default", "d", "arcVisible", "labelVisible", "d", "labelTransform", "radius", "x", "y", "cropLabel", "targetWidth", "actualWidth", "labelText", "textSelection", "select_default", "clickHandler", "data", "g", "parent", "parentTitle", "path", "label", "radius", "split", "settings", "p", "skipTransition", "d", "t", "i", "value_default", "arcVisible", "drawArc", "labelVisible", "labelTransform", "sunburstSeries", "settings", "split", "data", "color", "radius", "_sunburstSeries", "sunburstElement", "segment", "segmentEnter", "segmentMerge", "path", "d", "arcVisible", "drawArc", "label", "labelVisible", "labelTransform", "cropLabel", "parentTitle", "parent", "onClick", "clickHandler", "currentLevel", "args", "sunburst", "container", "settings", "data", "treeData", "color", "treeColor", "sunburstGrid", "gridLayoutMultiChart", "color_column", "legend", "colorLegend", "colorRangeLegend", "sunburstContainer", "sunburstEnter", "sunburstDiv", "sunburstTitle", "containerSize", "d", "i", "nodes", "select_default", "split", "sunburstElement", "svgNode", "width", "height", "radius", "sunburstSeries", "tooltip", "sunburst_default", "treeColor", "settings", "data", "color_column", "colors", "x", "getColors", "b", "seriesColorsFromDistinct", "min", "max", "seriesColorRange", "nodes", "child", "minTextSize", "labelMapExists", "d", "toggleLabels", "nodes", "treemapLevel", "crossValues", "help", "textLevelHelper", "visibleNodes", "selectVisibleNodes", "centerLabels", "preventTextCollisions", "restoreLabels", "i", "select_default", "rect", "element", "topNodes", "_", "textVisibility", "lowerNode", "topNode", "isElementOverlapping", "lockTextOpacity", "textOpacity", "unlockTextOpacity", "adjustLabelsThatOverflow", "shrinkOrHideText", "centerText", "nodeSelect", "textRect", "rectRect", "needsToShrinkOrHide", "resize_factor", "fontSize", "newFontSize", "x", "treemapLayout_default", "width", "height", "treemapLayout", "treemap_default", "d", "binary_default", "includesAllCrossValues", "d", "crossValues", "val", "calculateSubTreeMap", "nodesMerge", "treemapLevel", "rootNode", "treemapDiv", "approximateAttributesForAllNodes", "recalculateVisibleSubTreeCoordinates", "calculateTextOpacities", "calculateRootLevelMap", "calcWidth", "calcHeight", "saveLabelMap", "nodes", "i", "label", "select_default", "oldDimensions", "newDimensions", "dimensionMultiplier", "x0", "y0", "width", "height", "visible", "subTreeRoot", "treeRootWidth", "treeRootHeight", "dummiedDescendants", "treemapLayout_default", "hierarchy", "descendants", "_", "text", "textVis", "textOpacity", "returnToLevel", "rects", "nodesMerge", "labels", "settings", "treemapDiv", "treemapSvg", "rootNode", "parentCtrls", "root_settings", "crossValues", "executeTransition", "cv", "d", "calculateSubTreeMap", "changeLevel", "treemapLevel", "duration", "recordLabelMap", "parent", "t", "cubicOut", "labelMapExists", "preventUserInteraction", "i", "value_default", "calcWidth", "calcHeight", "enableUserInteraction", "preventTextCollisions", "visibleLabelNodes", "adjustLabelsThatOverflow", "fadeTextTransition", "saveLabelMap", "ex", "restoreLabels", "_", "lockTextOpacity", "toggleLabels", "selectVisibleNodes", "viewer", "raiseEvent", "label", "interpolation", "lockedOpacity", "targetOpacity", "unlockTextOpacity", "textOpacity", "select_default", "nodes", "parentControls", "container", "onClick", "text", "hide", "deactivated", "parent", "getOrCreateElement", "parent_controls_default", "controls", "args", "button", "nodeLevel", "calcWidth", "d", "calcHeight", "isLeafNode", "maxDepth", "nodeLevelHelper", "treemapSeries", "settings", "root_settings", "data", "color", "treemapDiv", "parentCtrls", "_treemapSeries", "treemapSvg", "parentControls", "treemapLayout_default", "nodes", "nodesEnter", "nodesMerge", "a", "b", "rects", "labels", "rootNode", "calculateRootLevelMap", "toggleLabels", "adjustLabelsThatOverflow", "selectVisibleNodes", "saveLabelMap", "_event", "changeLevel", "returnToLevel", "args", "treemap", "container", "settings", "data", "treeData", "color", "treeColor", "d", "treemapGrid", "gridLayoutMultiChart", "color_column", "x", "legend", "colorLegend", "colorRangeLegend", "treemapEnter", "treemapDiv", "i", "nodes", "select_default", "split", "treemapSvg", "treemapSeries", "tooltip", "treemap_default", "chartClasses", "bar_default", "column_default", "line_default", "xy_line_default", "area_default", "y_scatter_default", "xy_scatter_default", "ohlc_default", "candlestick_default", "treemap_default", "sunburst_default", "heatmap_default", "charts_default", "gparser", "initialiseStyles", "container", "settings", "styles", "computed", "computedStyle", "key", "color", "getOpacityFromColor", "g", "gradient", "parseGradient", "css", "font", "stepAsColor", "value", "opacity", "containerStyles", "d", "parsed", "i", "a", "b", "DEFAULT_PLUGIN_SETTINGS", "styleWithD3FC", "perspective_viewer_d3fc_default", "getD3FCStyles", "EXCLUDED_SETTINGS", "headerStyles", "d3fcStyles", "s", "register_element", "plugin_name", "register", "plugin_names", "plugins", "charts_default", "chart", "name", "x", "type", "group", "canvas", "container", "context", "text_color", "svgs", "svg", "img", "defaultOffset", "new_svg", "text", "xml", "done", "y", "canvases", "blob", "view", "end_col", "end_row", "clear", "viewer", "jsonp", "metadata", "leaves_only", "table", "real_config", "table_schema", "expression_schema", "view_schema", "json_string", "config", "json2", "keys", "json", "ridx", "obj", "realValues", "get_pivot_column_type", "column", "columns", "group_by", "split_by", "filter", "first_col", "filtered", "acc", "_", "idx", "col", "len", "dataMap", "i", "mapped", "settings", "r", "a", "handler", "prop", "value", "axisMemo", "initialiseStyles", "resolve", "containerDiv", "select_default", "chartClass", "_end_col", "_end_row", "columns_config", "new_settings", "register"]
}
