/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/@finos/perspective-viewer-d3fc@1.9.2/dist/umd/perspective-viewer-d3fc.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,e){if("function"==typeof define&&define.amd)define(["exports"],e);else if("object"==typeof exports&&"string"!=typeof exports.nodeName)e(exports,module);else{const n=t.perspective_viewer_d3fc={},r={exports:n};e(n,r),t.perspective_viewer_d3fc=r.exports}}("undefined"!=typeof self?self:this,(function(t,e){var n=Object.create,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(t,e)=>()=>(t&&(e=t(t=0)),e),c=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),f=(t,e)=>{for(var n in e)r(t,n,{get:e[n],enumerable:!0})},s=(t,e,n,o)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let u of i(e))!l.call(t,u)&&u!==n&&r(t,u,{get:()=>e[u],enumerable:!(o=a(e,u))||o.enumerable});return t},h=(t,e,a)=>(a=null!=t?n(o(t)):{},s(!e&&t&&t.__esModule?a:r(a,"default",{value:t,enumerable:!0}),t)),d=t=>s(r({},"__esModule",{value:!0}),t);function g(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var p=u((()=>{}));function v(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var m=u((()=>{}));function y(t){let e,n,r;function a(t,r,a=0,i=t.length){if(a<i){if(0!==e(r,r))return i;do{let e=a+i>>>1;n(t[e],r)<0?a=e+1:i=e}while(a<i)}return a}return 2!==t.length?(e=g,n=(e,n)=>g(t(e),n),r=(e,n)=>t(e)-n):(e=t===g||t===v?t:b,n=t,r=t),{left:a,center:function(t,e,n=0,i=t.length){let o=a(t,e,n,i-1);return o>n&&r(t[o-1],e)>-r(t[o],e)?o-1:o},right:function(t,r,a=0,i=t.length){if(a<i){if(0!==e(r,r))return i;do{let e=a+i>>>1;n(t[e],r)<=0?a=e+1:i=e}while(a<i)}return a}}}function b(){return 0}var x=u((()=>{p(),m()}));function _(t){return null===t?NaN:+t}function*w(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}var S,M,A,k,T,V=u((()=>{})),N=u((()=>{p(),x(),V(),S=y(g),M=S.right,A=S.left,k=y(_).center,T=M}));function C(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;let r=I(e),a=t.slice();return r(t,a,0,n,1),r(a,t,0,n,1),r(t,a,0,n,1),t}function E(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:a,width:i,height:o}=e;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(void 0!==o?o:a.length/i))>=0))throw new RangeError("invalid height");if(!i||!o||!n&&!r)return e;let l=n&&t(n),u=r&&t(r),c=a.slice();return l&&u?(z(l,c,a,i,o),z(l,a,c,i,o),z(l,c,a,i,o),D(u,a,c,i,o),D(u,c,a,i,o),D(u,a,c,i,o)):l?(z(l,a,c,i,o),z(l,c,a,i,o),z(l,a,c,i,o)):u&&(D(u,a,c,i,o),D(u,c,a,i,o),D(u,a,c,i,o)),e}}function z(t,e,n,r,a){for(let i=0,o=r*a;i<o;)t(e,n,i,i+=r,1)}function D(t,e,n,r,a){for(let i=0,o=r*a;i<r;++i)t(e,n,i,i+o,r)}function P(t){let e=I(t);return(t,n,r,a,i)=>{e(t,n,(r<<=2)+0,(a<<=2)+0,i<<=2),e(t,n,r+1,a+1,i),e(t,n,r+2,a+2,i),e(t,n,r+3,a+3,i)}}function I(t){let e=Math.floor(t);if(e===t)return function(t){let e=2*t+1;return(n,r,a,i,o)=>{if(!((i-=o)>=a))return;let l=t*r[a],u=o*t;for(let t=a,e=a+u;t<e;t+=o)l+=r[Math.min(i,t)];for(let t=a,c=i;t<=c;t+=o)l+=r[Math.min(i,t+u)],n[t]=l/e,l-=r[Math.max(a,t-u)]}}(t);let n=t-e,r=2*t+1;return(t,a,i,o,l)=>{if(!((o-=l)>=i))return;let u=e*a[i],c=l*e,f=c+l;for(let t=i,e=i+c;t<e;t+=l)u+=a[Math.min(o,t)];for(let e=i,s=o;e<=s;e+=l)u+=a[Math.min(o,e+c)],t[e]=(u+n*(a[Math.max(i,e-f)]+a[Math.min(o,e+f)]))/r,u-=a[Math.max(i,e-c)]}}var R,B,O=u((()=>{R=E(I),B=E(P)}));function L(t,e){let n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&++n;else{let r=-1;for(let a of t)null!=(a=e(a,++r,t))&&(a=+a)>=a&&++n}return n}var Y=u((()=>{}));function F(t){return 0|t.length}function U(t){return!(t>0)}function H(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function j(...t){let e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(H)).map(F),r=t.length-1,a=new Array(r+1).fill(0),i=[];if(r<0||n.some(U))return i;for(;;){i.push(a.map(((e,n)=>t[n][e])));let o=r;for(;++a[o]===n[o];){if(0===o)return e?i.map(e):i;a[o--]=0}}}var W=u((()=>{}));function q(t,e){var n=0,r=0;return Float64Array.from(t,void 0===e?t=>n+=+t||0:a=>n+=+e(a,r++,t)||0)}var $=u((()=>{}));function G(t,e){let n,r=0,a=0,i=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(n=e-a,a+=n/++r,i+=n*(e-a));else{let o=-1;for(let l of t)null!=(l=e(l,++o,t))&&(l=+l)>=l&&(n=l-a,a+=n/++r,i+=n*(l-a))}if(r>1)return i/(r-1)}var X=u((()=>{}));function Q(t,e){let n=G(t,e);return n&&Math.sqrt(n)}var K=u((()=>{X()}));function Z(t,e){let n,r;if(void 0===e)for(let e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let a=-1;for(let i of t)null!=(i=e(i,++a,t))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}var J=u((()=>{}));function tt(t,e){let n=new nt;if(void 0===e)for(let e of t)(e=+e)&&n.add(e);else{let r=-1;for(let a of t)(a=+e(a,++r,t))&&n.add(a)}return+n}function et(t,e){let n=new nt,r=-1;return Float64Array.from(t,void 0===e?t=>n.add(+t||0):a=>n.add(+e(a,++r,t)||0))}var nt,rt=u((()=>{nt=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let e=this._partials,n=0;for(let r=0;r<this._n&&r<32;r++){let a=e[r],i=t+a,o=Math.abs(t)<Math.abs(a)?t-(i-a):a-(i-t);o&&(e[n++]=o),t=i}return e[n]=t,this._n=n+1,this}valueOf(){let t,e,n,r=this._partials,a=this._n,i=0;if(a>0){for(i=r[--a];a>0&&(t=i,e=r[--a],i=t+e,n=e-(i-t),!n););a>0&&(n<0&&r[a-1]<0||n>0&&r[a-1]>0)&&(e=2*n,t=i+e,e==t-i&&(i=t))}return i}}}));function at({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):n}function it({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ot({_intern:t,_key:e},n){let r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function lt(t){return null!==t&&"object"==typeof t?t.valueOf():t}var ut,ct,ft=u((()=>{ut=class extends Map{constructor(t,e=lt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(let[e,n]of t)this.set(e,n)}get(t){return super.get(at(this,t))}has(t){return super.has(at(this,t))}set(t,e){return super.set(it(this,t),e)}delete(t){return super.delete(ot(this,t))}},ct=class extends Set{constructor(t,e=lt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(let e of t)this.add(e)}has(t){return super.has(at(this,t))}add(t){return super.add(it(this,t))}delete(t){return super.delete(ot(this,t))}}}));function st(t){return t}var ht=u((()=>{}));function dt(t,...e){return St(t,st,st,e)}function gt(t,...e){return St(t,Array.from,st,e)}function pt(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap((t=>t.pop().map((([e,n])=>[...t,e,n]))));return t}function vt(t,...e){return pt(gt(t,...e),e)}function mt(t,e,...n){return pt(bt(t,e,...n),n)}function yt(t,e,...n){return St(t,st,e,n)}function bt(t,e,...n){return St(t,Array.from,e,n)}function xt(t,...e){return St(t,st,wt,e)}function _t(t,...e){return St(t,Array.from,wt,e)}function wt(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function St(t,e,n,r){return function t(a,i){if(i>=r.length)return n(a);let o=new ut,l=r[i++],u=-1;for(let t of a){let e=l(t,++u,a),n=o.get(e);n?n.push(t):o.set(e,[t])}for(let[e,n]of o)o.set(e,t(n,i));return e(o)}(t,0)}var Mt=u((()=>{ft(),ht()}));function At(t,e){return Array.from(e,(e=>t[e]))}var kt=u((()=>{}));function Tt(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&2!==n.length||e.length>1){let r=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),r.sort(((t,n)=>{for(let r of e){let e=Nt(r[t],r[n]);if(e)return e}}))):(n=t.map(n),r.sort(((t,e)=>Nt(n[t],n[e])))),At(t,r)}return t.sort(Vt(n))}function Vt(t=g){if(t===g)return Nt;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,n)=>{let r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function Nt(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}var Ct=u((()=>{p(),kt()}));function Et(t,e,n){return(2!==e.length?Tt(yt(t,e,n),(([t,e],[n,r])=>g(e,r)||g(t,n))):Tt(dt(t,n),(([t,n],[r,a])=>e(n,a)||g(t,r)))).map((([t])=>t))}var zt,Dt,Pt=u((()=>{p(),Mt(),Ct()})),It=u((()=>{zt=Array.prototype,Dt=zt.slice,zt.map}));function Rt(t){return()=>t}var Bt=u((()=>{}));function Ot(t,e,n){var r,a,i,o,l=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(o=Lt(t,e,n))||!isFinite(o))return[];if(o>0){let n=Math.round(t/o),r=Math.round(e/o);for(n*o<t&&++n,r*o>e&&--r,i=new Array(a=r-n+1);++l<a;)i[l]=(n+l)*o}else{o=-o;let n=Math.round(t*o),r=Math.round(e*o);for(n/o<t&&++n,r/o>e&&--r,i=new Array(a=r-n+1);++l<a;)i[l]=(n+l)/o}return r&&i.reverse(),i}function Lt(t,e,n){var r=(e-t)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=Ft?10:i>=Ut?5:i>=Ht?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=Ft?10:i>=Ut?5:i>=Ht?2:1)}function Yt(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=Ft?a*=10:i>=Ut?a*=5:i>=Ht&&(a*=2),e<t?-a:a}var Ft,Ut,Ht,jt=u((()=>{Ft=Math.sqrt(50),Ut=Math.sqrt(10),Ht=Math.sqrt(2)}));function Wt(t,e,n){let r;for(;;){let a=Lt(t,e,n);if(a===r||0===a||!isFinite(a))return[t,e];a>0?(t=Math.floor(t/a)*a,e=Math.ceil(e/a)*a):a<0&&(t=Math.ceil(t*a)/a,e=Math.floor(e*a)/a),r=a}}var qt=u((()=>{jt()}));function $t(t){return Math.ceil(Math.log(L(t))/Math.LN2)+1}var Gt=u((()=>{Y()}));function Xt(){var t=st,e=Z,n=$t;function r(r){Array.isArray(r)||(r=Array.from(r));var a,i,o,l=r.length,u=new Array(l);for(a=0;a<l;++a)u[a]=t(r[a],a,r);var c=e(u),f=c[0],s=c[1],h=n(u,f,s);if(!Array.isArray(h)){let t=s,n=+h;if(e===Z&&([f,s]=Wt(f,s,n)),(h=Ot(f,s,n))[0]<=f&&(o=Lt(f,s,n)),h[h.length-1]>=s)if(t>=s&&e===Z){let t=Lt(f,s,n);isFinite(t)&&(t>0?s=(Math.floor(s/t)+1)*t:t<0&&(s=(Math.ceil(s*-t)+1)/-t))}else h.pop()}for(var d=h.length,g=0,p=d;h[g]<=f;)++g;for(;h[p-1]>s;)--p;(g||p<d)&&(h=h.slice(g,p),d=p-g);var v,m=new Array(d+1);for(a=0;a<=d;++a)(v=m[a]=[]).x0=a>0?h[a-1]:f,v.x1=a<d?h[a]:s;if(isFinite(o)){if(o>0)for(a=0;a<l;++a)null!=(i=u[a])&&f<=i&&i<=s&&m[Math.min(d,Math.floor((i-f)/o))].push(r[a]);else if(o<0)for(a=0;a<l;++a)if(null!=(i=u[a])&&f<=i&&i<=s){let t=Math.floor((f-i)*o);m[Math.min(d,t+(h[t]<=i))].push(r[a])}}else for(a=0;a<l;++a)null!=(i=u[a])&&f<=i&&i<=s&&m[T(h,i,0,d)].push(r[a]);return m}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:Rt(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:Rt([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Rt(Array.isArray(t)?Dt.call(t):t),r):n},r}var Qt=u((()=>{It(),N(),Bt(),J(),ht(),qt(),jt(),Gt()}));function Kt(t,e){let n;if(void 0===e)for(let e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let a of t)null!=(a=e(a,++r,t))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}var Zt=u((()=>{}));function Jt(t,e){let n,r=-1,a=-1;if(void 0===e)for(let e of t)++a,null!=e&&(n<e||void 0===n&&e>=e)&&(n=e,r=a);else for(let i of t)null!=(i=e(i,++a,t))&&(n<i||void 0===n&&i>=i)&&(n=i,r=a);return r}var te=u((()=>{}));function ee(t,e){let n;if(void 0===e)for(let e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let a of t)null!=(a=e(a,++r,t))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}var ne=u((()=>{}));function re(t,e){let n,r=-1,a=-1;if(void 0===e)for(let e of t)++a,null!=e&&(n>e||void 0===n&&e>=e)&&(n=e,r=a);else for(let i of t)null!=(i=e(i,++a,t))&&(n>i||void 0===n&&i>=i)&&(n=i,r=a);return r}var ae=u((()=>{}));function ie(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=void 0===a?Nt:Vt(a);r>n;){if(r-n>600){let i=r-n+1,o=e-n+1,l=Math.log(i),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(i-u)/i)*(o-i/2<0?-1:1);ie(t,e,Math.max(n,Math.floor(e-o*u/i+c)),Math.min(r,Math.floor(e+(i-o)*u/i+c)),a)}let i=t[e],o=n,l=r;for(oe(t,n,e),a(t[r],i)>0&&oe(t,n,r);o<l;){for(oe(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}0===a(t[n],i)?oe(t,n,l):(++l,oe(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function oe(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}var le=u((()=>{Ct()}));function ue(t,e=g){let n,r=!1;if(1===e.length){let a;for(let i of t){let t=e(i);(r?g(t,a)>0:0===g(t,t))&&(n=i,a=t,r=!0)}}else for(let a of t)(r?e(a,n)>0:0===e(a,a))&&(n=a,r=!0);return n}var ce=u((()=>{p()}));function fe(t,e,n){if((r=(t=Float64Array.from(w(t,n))).length)&&!isNaN(e=+e)){if(e<=0||r<2)return ee(t);if(e>=1)return Kt(t);var r,a=(r-1)*e,i=Math.floor(a),o=Kt(ie(t,i).subarray(0,i+1));return o+(ee(t.subarray(i+1))-o)*(a-i)}}function se(t,e,n=_){if((r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),o=+n(t[i],i,t);return o+(+n(t[i+1],i+1,t)-o)*(a-i)}}function he(t,e,n){if((r=(t=Float64Array.from(w(t,n))).length)&&!isNaN(e=+e)){if(e<=0||r<2)return re(t);if(e>=1)return Jt(t);var r,a=Math.floor((r-1)*e);return ue(ie(Uint32Array.from(t,((t,e)=>e)),a,0,r-1,((e,n)=>Nt(t[e],t[n]))).subarray(0,a+1),(e=>t[e]))}}var de=u((()=>{Zt(),te(),ne(),ae(),le(),V(),Ct(),ce()}));function ge(t,e,n){return Math.ceil((n-e)/(2*(fe(t,.75)-fe(t,.25))*Math.pow(L(t),-1/3)))}var pe=u((()=>{Y(),de()}));function ve(t,e,n){return Math.ceil((n-e)*Math.cbrt(L(t))/(3.49*Q(t)))}var me=u((()=>{Y(),K()}));function ye(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let a=-1;for(let i of t)null!=(i=e(i,++a,t))&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}var be=u((()=>{}));function xe(t,e){return fe(t,.5,e)}function _e(t,e){return he(t,.5,e)}var we=u((()=>{de()}));function Se(t){return Array.from(function*(t){for(let e of t)yield*e}(t))}var Me=u((()=>{}));function Ae(t,e){let n=new ut;if(void 0===e)for(let e of t)null!=e&&e>=e&&n.set(e,(n.get(e)||0)+1);else{let r=-1;for(let a of t)null!=(a=e(a,++r,t))&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,a=0;for(let[t,e]of n)e>a&&(a=e,r=t);return r}var ke=u((()=>{ft()}));function Te(t,e=Ve){let n,r=[],a=!1;for(let i of t)a&&r.push(e(n,i)),n=i,a=!0;return r}function Ve(t,e){return[t,e]}var Ne=u((()=>{}));function Ce(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(a);++r<a;)i[r]=t+r*n;return i}var Ee=u((()=>{}));function ze(t,e=g){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(t),r=new Float64Array(n.length);2!==e.length&&(n=n.map(e),e=g);let a,i,o=(t,r)=>e(n[t],n[r]);return Uint32Array.from(n,((t,e)=>e)).sort(e===g?(t,e)=>Nt(n[t],n[e]):Vt(o)).forEach(((t,e)=>{let n=o(t,void 0===a?t:a);n>=0?((void 0===a||n>0)&&(a=t,i=e),r[t]=i):r[t]=NaN})),r}var De=u((()=>{p(),Ct()}));function Pe(t,e=g){let n,r=!1;if(1===e.length){let a;for(let i of t){let t=e(i);(r?g(t,a)<0:0===g(t,t))&&(n=i,a=t,r=!0)}}else for(let a of t)(r?e(a,n)<0:0===e(a,a))&&(n=a,r=!0);return n}var Ie=u((()=>{p()}));function Re(t,e=g){if(1===e.length)return re(t,e);let n,r=-1,a=-1;for(let i of t)++a,(r<0?0===e(i,i):e(i,n)<0)&&(n=i,r=a);return r}var Be=u((()=>{p(),ae()}));function Oe(t,e=g){if(1===e.length)return Jt(t,e);let n,r=-1,a=-1;for(let i of t)++a,(r<0?0===e(i,i):e(i,n)>0)&&(n=i,r=a);return r}var Le=u((()=>{p(),te()}));function Ye(t,e){let n=Re(t,e);return n<0?void 0:n}var Fe=u((()=>{Be()}));function Ue(t){return function(e,n=0,r=e.length){let a=r-(n=+n);for(;a;){let r=t()*a--|0,i=e[a+n];e[a+n]=e[r+n],e[r+n]=i}return e}}var He,je=u((()=>{He=Ue(Math.random)}));function We(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let a of t)(a=+e(a,++r,t))&&(n+=a)}return n}var qe=u((()=>{}));function $e(t){if(!(a=t.length))return[];for(var e=-1,n=ee(t,Ge),r=new Array(n);++e<n;)for(var a,i=-1,o=r[e]=new Array(a);++i<a;)o[i]=t[i][e];return r}function Ge(t){return t.length}var Xe=u((()=>{ne()}));function Qe(){return $e(arguments)}var Ke=u((()=>{Xe()}));function Ze(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(let r of t)if(!e(r,++n,t))return!1;return!0}var Je=u((()=>{}));function tn(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(let r of t)if(e(r,++n,t))return!0;return!1}var en=u((()=>{}));function nn(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=[],r=-1;for(let a of t)e(a,++r,t)&&n.push(a);return n}var rn=u((()=>{}));function an(t,e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof e)throw new TypeError("mapper is not a function");return Array.from(t,((n,r)=>e(n,r,t)))}var on=u((()=>{}));function ln(t,e,n){if("function"!=typeof e)throw new TypeError("reducer is not a function");let r,a,i=t[Symbol.iterator](),o=-1;if(arguments.length<3){if(({done:r,value:n}=i.next()),r)return;++o}for(;({done:r,value:a}=i.next()),!r;)n=e(n,a,++o,t);return n}var un=u((()=>{}));function cn(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}var fn=u((()=>{}));function sn(t,...e){t=new ct(t);for(let n of e)for(let e of n)t.delete(e);return t}var hn=u((()=>{ft()}));function dn(t,e){let n=e[Symbol.iterator](),r=new ct;for(let e of t){if(r.has(e))return!1;let t,a;for(;({value:t,done:a}=n.next())&&!a;){if(Object.is(e,t))return!1;r.add(t)}}return!0}var gn=u((()=>{ft()}));function pn(t,...e){t=new ct(t),e=e.map(vn);t:for(let n of t)for(let r of e)if(!r.has(n)){t.delete(n);continue t}return t}function vn(t){return t instanceof ct?t:new ct(t)}var mn=u((()=>{ft()}));function yn(t,e){let n=t[Symbol.iterator](),r=new Set;for(let t of e){let e,a,i=bn(t);if(!r.has(i))for(;({value:e,done:a}=n.next());){if(a)return!1;let t=bn(e);if(r.add(t),Object.is(i,t))break}}return!0}function bn(t){return null!==t&&"object"==typeof t?t.valueOf():t}var xn=u((()=>{}));function _n(t,e){return yn(e,t)}var wn=u((()=>{xn()}));function Sn(...t){let e=new ct;for(let n of t)for(let t of n)e.add(t);return e}var Mn=u((()=>{ft()})),An={};f(An,{Adder:()=>nt,InternMap:()=>ut,InternSet:()=>ct,ascending:()=>g,bin:()=>Xt,bisect:()=>T,bisectCenter:()=>k,bisectLeft:()=>A,bisectRight:()=>M,bisector:()=>y,blur:()=>C,blur2:()=>R,blurImage:()=>B,count:()=>L,cross:()=>j,cumsum:()=>q,descending:()=>v,deviation:()=>Q,difference:()=>sn,disjoint:()=>dn,every:()=>Ze,extent:()=>Z,fcumsum:()=>et,filter:()=>nn,flatGroup:()=>vt,flatRollup:()=>mt,fsum:()=>tt,greatest:()=>ue,greatestIndex:()=>Oe,group:()=>dt,groupSort:()=>Et,groups:()=>gt,histogram:()=>Xt,index:()=>xt,indexes:()=>_t,intersection:()=>pn,least:()=>Pe,leastIndex:()=>Re,map:()=>an,max:()=>Kt,maxIndex:()=>Jt,mean:()=>ye,median:()=>xe,medianIndex:()=>_e,merge:()=>Se,min:()=>ee,minIndex:()=>re,mode:()=>Ae,nice:()=>Wt,pairs:()=>Te,permute:()=>At,quantile:()=>fe,quantileIndex:()=>he,quantileSorted:()=>se,quickselect:()=>ie,range:()=>Ce,rank:()=>ze,reduce:()=>ln,reverse:()=>cn,rollup:()=>yt,rollups:()=>bt,scan:()=>Ye,shuffle:()=>He,shuffler:()=>Ue,some:()=>tn,sort:()=>Tt,subset:()=>_n,sum:()=>We,superset:()=>yn,thresholdFreedmanDiaconis:()=>ge,thresholdScott:()=>ve,thresholdSturges:()=>$t,tickIncrement:()=>Lt,tickStep:()=>Yt,ticks:()=>Ot,transpose:()=>$e,union:()=>Sn,variance:()=>G,zip:()=>Qe});var kn=u((()=>{N(),p(),x(),O(),Y(),W(),$(),m(),K(),J(),rt(),Mt(),Pt(),Qt(),pe(),me(),Gt(),Zt(),te(),be(),we(),Me(),ne(),ae(),ke(),qt(),Ne(),kt(),de(),le(),Ee(),De(),Ie(),Be(),ce(),Le(),Fe(),je(),qe(),jt(),Xe(),X(),Ke(),Je(),en(),rn(),on(),un(),fn(),Ct(),hn(),gn(),mn(),wn(),xn(),Mn(),ft()}));function Tn(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var Vn=u((()=>{}));function Nn(t){let e=t,n=t,r=t;function a(t,e,a=0,i=t.length){if(a<i){if(0!==n(e,e))return i;do{let n=a+i>>>1;r(t[n],e)<0?a=n+1:i=n}while(a<i)}return a}return 2!==t.length&&(e=(e,n)=>t(e)-n,n=Tn,r=(e,n)=>Tn(t(e),n)),{left:a,center:function(t,n,r=0,i=t.length){let o=a(t,n,r,i-1);return o>r&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e,a=0,i=t.length){if(a<i){if(0!==n(e,e))return i;do{let n=a+i>>>1;r(t[n],e)<=0?a=n+1:i=n}while(a<i)}return a}}}var Cn=u((()=>{Vn()}));function En(t){return null===t?NaN:+t}var zn,Dn,Pn,In=u((()=>{})),Rn=u((()=>{Vn(),Cn(),In(),zn=Nn(Tn),Dn=zn.right,zn.left,Nn(En).center,Pn=Dn}));function Bn(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}var On=u((()=>{Vn()}));function Ln(t,e,n){var r,a,i,o,l=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(o=Yn(t,e,n))||!isFinite(o))return[];if(o>0){let n=Math.round(t/o),r=Math.round(e/o);for(n*o<t&&++n,r*o>e&&--r,i=new Array(a=r-n+1);++l<a;)i[l]=(n+l)*o}else{o=-o;let n=Math.round(t*o),r=Math.round(e*o);for(n/o<t&&++n,r/o>e&&--r,i=new Array(a=r-n+1);++l<a;)i[l]=(n+l)/o}return r&&i.reverse(),i}function Yn(t,e,n){var r=(e-t)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=Fn?10:i>=Un?5:i>=Hn?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=Fn?10:i>=Un?5:i>=Hn?2:1)}var Fn,Un,Hn,jn=u((()=>{Fn=Math.sqrt(50),Un=Math.sqrt(10),Hn=Math.sqrt(2)}));function Wn(t,e){let n;if(void 0===e)for(let e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let a of t)null!=(a=e(a,++r,t))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}var qn=u((()=>{}));function $n(t,e){let n;if(void 0===e)for(let e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let a of t)null!=(a=e(a,++r,t))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}var Gn=u((()=>{}));function Xn(t,e,n=0,r=t.length-1,a){for(a=void 0===a?Bn:function(t=Tn){if(t===Tn)return Bn;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,n)=>{let r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}(a);r>n;){if(r-n>600){let i=r-n+1,o=e-n+1,l=Math.log(i),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(i-u)/i)*(o-i/2<0?-1:1);Xn(t,e,Math.max(n,Math.floor(e-o*u/i+c)),Math.min(r,Math.floor(e+(i-o)*u/i+c)),a)}let i=t[e],o=n,l=r;for(Qn(t,n,e),a(t[r],i)>0&&Qn(t,n,r);o<l;){for(Qn(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}0===a(t[n],i)?Qn(t,n,l):(++l,Qn(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Qn(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}var Kn=u((()=>{On()}));function Zn(t,e,n){if(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n)),r=t.length){if((e=+e)<=0||r<2)return $n(t);if(e>=1)return Wn(t);var r,a=(r-1)*e,i=Math.floor(a),o=Wn(Xn(t,i).subarray(0,i+1));return o+($n(t.subarray(i+1))-o)*(a-i)}}function Jn(t,e,n=En){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),o=+n(t[i],i,t);return o+(+n(t[i+1],i+1,t)-o)*(a-i)}}var tr=u((()=>{qn(),Gn(),Kn(),In()}));function er(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(a);++r<a;)i[r]=t+r*n;return i}var nr=u((()=>{})),rr=u((()=>{Rn(),Vn(),tr(),nr(),jn(),ft()}));function ar(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function ir(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}var or=u((()=>{}));function lr(){var t=new ut,e=[],n=[],r=ur;function a(a){let i=t.get(a);if(void 0===i){if(r!==ur)return r;t.set(a,i=e.push(a)-1)}return n[i%n.length]}return a.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new ut;for(let r of n)t.has(r)||t.set(r,e.push(r)-1);return a},a.range=function(t){return arguments.length?(n=Array.from(t),a):n.slice()},a.unknown=function(t){return arguments.length?(r=t,a):r},a.copy=function(){return lr(e,n).unknown(r)},ar.apply(a,arguments),a}var ur,cr=u((()=>{rr(),or(),ur=Symbol("implicit")}));function fr(){var t,e,n=lr().unknown(void 0),r=n.domain,a=n.range,i=0,o=1,l=!1,u=0,c=0,f=.5;function s(){var n=r().length,s=o<i,h=s?o:i,d=s?i:o;t=(d-h)/Math.max(1,n-u+2*c),l&&(t=Math.floor(t)),h+=(d-h-t*(n-u))*f,e=t*(1-u),l&&(h=Math.round(h),e=Math.round(e));var g=er(n).map((function(e){return h+t*e}));return a(s?g.reverse():g)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),s()):r()},n.range=function(t){return arguments.length?([i,o]=t,i=+i,o=+o,s()):[i,o]},n.rangeRound=function(t){return[i,o]=t,i=+i,o=+o,l=!0,s()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(l=!!t,s()):l},n.padding=function(t){return arguments.length?(u=Math.min(1,c=+t),s()):u},n.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),s()):u},n.paddingOuter=function(t){return arguments.length?(c=+t,s()):c},n.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),s()):f},n.copy=function(){return fr(r(),[i,o]).round(l).paddingInner(u).paddingOuter(c).align(f)},ar.apply(s(),arguments)}function sr(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return sr(e())},t}function hr(){return sr(fr.apply(null,arguments).paddingInner(1))}var dr=u((()=>{rr(),or(),cr()}));function gr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function pr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}var vr=u((()=>{}));function mr(){}function yr(){return this.rgb().formatHex()}function br(){return Er(this).formatHsl()}function xr(){return this.rgb().formatRgb()}function _r(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Yr.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?wr(e):3===n?new kr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Sr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Sr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Fr.exec(t))?new kr(e[1],e[2],e[3],1):(e=Ur.exec(t))?new kr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Hr.exec(t))?Sr(e[1],e[2],e[3],e[4]):(e=jr.exec(t))?Sr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Wr.exec(t))?Cr(e[1],e[2]/100,e[3]/100,1):(e=qr.exec(t))?Cr(e[1],e[2]/100,e[3]/100,e[4]):$r.hasOwnProperty(t)?wr($r[t]):"transparent"===t?new kr(NaN,NaN,NaN,0):null}function wr(t){return new kr(t>>16&255,t>>8&255,255&t,1)}function Sr(t,e,n,r){return r<=0&&(t=e=n=NaN),new kr(t,e,n,r)}function Mr(t){return t instanceof mr||(t=_r(t)),t?new kr((t=t.rgb()).r,t.g,t.b,t.opacity):new kr}function Ar(t,e,n,r){return 1===arguments.length?Mr(t):new kr(t,e,n,r??1)}function kr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Tr(){return"#"+Nr(this.r)+Nr(this.g)+Nr(this.b)}function Vr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Nr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Cr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Dr(t,e,n,r)}function Er(t){if(t instanceof Dr)return new Dr(t.h,t.s,t.l,t.opacity);if(t instanceof mr||(t=_r(t)),!t)return new Dr;if(t instanceof Dr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,l=i-a,u=(i+a)/2;return l?(o=e===i?(n-r)/l+6*(n<r):n===i?(r-e)/l+2:(e-n)/l+4,l/=u<.5?i+a:2-i-a,o*=60):l=u>0&&u<1?0:o,new Dr(o,l,u,t.opacity)}function zr(t,e,n,r){return 1===arguments.length?Er(t):new Dr(t,e,n,r??1)}function Dr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Pr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}var Ir,Rr,Br,Or,Lr,Yr,Fr,Ur,Hr,jr,Wr,qr,$r,Gr,Xr,Qr=u((()=>{vr(),Rr=1/(Ir=.7),Br="\\s*([+-]?\\d+)\\s*",Or="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yr=/^#([0-9a-f]{3,8})$/,Fr=new RegExp("^rgb\\("+[Br,Br,Br]+"\\)$"),Ur=new RegExp("^rgb\\("+[Lr,Lr,Lr]+"\\)$"),Hr=new RegExp("^rgba\\("+[Br,Br,Br,Or]+"\\)$"),jr=new RegExp("^rgba\\("+[Lr,Lr,Lr,Or]+"\\)$"),Wr=new RegExp("^hsl\\("+[Or,Lr,Lr]+"\\)$"),qr=new RegExp("^hsla\\("+[Or,Lr,Lr,Or]+"\\)$"),$r={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},gr(mr,_r,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:yr,formatHex:yr,formatHsl:br,formatRgb:xr,toString:xr}),gr(kr,Ar,pr(mr,{brighter:function(t){return t=null==t?Rr:Math.pow(Rr,t),new kr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Ir:Math.pow(Ir,t),new kr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tr,formatHex:Tr,formatRgb:Vr,toString:Vr})),gr(Dr,zr,pr(mr,{brighter:function(t){return t=null==t?Rr:Math.pow(Rr,t),new Dr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Ir:Math.pow(Ir,t),new Dr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new kr(Pr(t>=240?t-240:t+120,a,r),Pr(t,a,r),Pr(t<120?t+240:t-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}))})),Kr=u((()=>{Gr=Math.PI/180,Xr=180/Math.PI}));function Zr(t){if(t instanceof ta)return new ta(t.h,t.s,t.l,t.opacity);t instanceof kr||(t=Mr(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(ua*r+oa*e-la*n)/(ua+oa-la),i=r-a,o=(ia*(n-a)-ra*i)/aa,l=Math.sqrt(o*o+i*i)/(ia*a*(1-a)),u=l?Math.atan2(o,i)*Xr-120:NaN;return new ta(u<0?u+360:u,l,a,t.opacity)}function Jr(t,e,n,r){return 1===arguments.length?Zr(t):new ta(t,e,n,r??1)}function ta(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}var ea,na,ra,aa,ia,oa,la,ua,ca=u((()=>{vr(),Qr(),Kr(),oa=(ia=1.97294)*(aa=-.90649),la=ia*(na=1.78277),ua=na*(ra=-.29227)-aa*(ea=-.14861),gr(ta,Jr,pr(mr,{brighter:function(t){return t=null==t?Rr:Math.pow(Rr,t),new ta(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Ir:Math.pow(Ir,t),new ta(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Gr,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),a=Math.sin(t);return new kr(255*(e+n*(ea*r+na*a)),255*(e+n*(ra*r+aa*a)),255*(e+n*(ia*r)),this.opacity)}}))})),fa=u((()=>{Qr(),ca()}));function sa(t,e,n,r,a){var i=t*t,o=i*t;return((1-3*t+3*i-o)*e+(4-6*i+3*o)*n+(1+3*t+3*i-3*o)*r+o*a)/6}function ha(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[r],i=t[r+1],o=r>0?t[r-1]:2*a-i,l=r<e-1?t[r+2]:2*i-a;return sa((n-r/e)*e,o,a,i,l)}}var da=u((()=>{}));function ga(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),a=t[(r+e-1)%e],i=t[r%e],o=t[(r+1)%e],l=t[(r+2)%e];return sa((n-r/e)*e,a,i,o,l)}}var pa,va=u((()=>{da()})),ma=u((()=>{pa=t=>()=>t}));function ya(t,e){return function(n){return t+n*e}}function ba(t,e){var n=e-t;return n?ya(t,n>180||n<-180?n-360*Math.round(n/360):n):pa(isNaN(t)?e:t)}function xa(t){return 1==(t=+t)?_a:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):pa(isNaN(e)?n:e)}}function _a(t,e){var n=e-t;return n?ya(t,n):pa(isNaN(t)?e:t)}var wa=u((()=>{ma()}));function Sa(t){return function(e){var n,r,a=e.length,i=new Array(a),o=new Array(a),l=new Array(a);for(n=0;n<a;++n)r=Ar(e[n]),i[n]=r.r||0,o[n]=r.g||0,l[n]=r.b||0;return i=t(i),o=t(o),l=t(l),r.opacity=1,function(t){return r.r=i(t),r.g=o(t),r.b=l(t),r+""}}}var Ma,Aa,ka=u((()=>{fa(),da(),va(),wa(),Ma=function t(e){var n=xa(e);function r(t,e){var r=n((t=Ar(t)).r,(e=Ar(e)).r),a=n(t.g,e.g),i=n(t.b,e.b),o=_a(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=a(e),t.b=i(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1),Aa=Sa(ha),Sa(ga)}));function Ta(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,a=e.slice();return function(i){for(n=0;n<r;++n)a[n]=t[n]*(1-i)+e[n]*i;return a}}var Va=u((()=>{}));function Na(t,e){var n,r=e?e.length:0,a=t?Math.min(r,t.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=Fa(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<a;++n)o[n]=i[n](t);return o}}var Ca=u((()=>{Ua()}));function Ea(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}var za=u((()=>{}));function Da(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Pa=u((()=>{}));function Ia(t,e){var n,r={},a={};for(n in(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={}),e)n in t?r[n]=Fa(t[n],e[n]):a[n]=e[n];return function(t){for(n in r)a[n]=r[n](t);return a}}var Ra=u((()=>{Ua()}));function Ba(t,e){var n,r,a,i=Oa.lastIndex=La.lastIndex=0,o=-1,l=[],u=[];for(t+="",e+="";(n=Oa.exec(t))&&(r=La.exec(e));)(a=r.index)>i&&(a=e.slice(i,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,u.push({i:o,x:Da(n,r)})),i=La.lastIndex;return i<e.length&&(a=e.slice(i),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)l[(n=u[r]).i]=n.x(t);return l.join("")})}var Oa,La,Ya=u((()=>{Pa(),Oa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,La=new RegExp(Oa.source,"g")}));function Fa(t,e){var n,r=typeof e;return null==e||"boolean"===r?pa(e):("number"===r?Da:"string"===r?(n=_r(e))?(e=n,Ma):Ba:e instanceof _r?Ma:e instanceof Date?Ea:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Ta:Array.isArray(e)?Na:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ia:Da)(t,e)}var Ua=u((()=>{fa(),ka(),Ca(),za(),Pa(),Ra(),Ya(),ma(),Va()}));function Ha(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var ja=u((()=>{}));function Wa(t,e,n,r,a,i){var o,l,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*qa,skewX:Math.atan(u)*qa,scaleX:o,scaleY:l}}var qa,$a,Ga=u((()=>{qa=180/Math.PI,$a={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}}));function Xa(t){let e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?$a:Wa(e.a,e.b,e.c,e.d,e.e,e.f)}function Qa(t){return null==t?$a:(Ka||(Ka=document.createElementNS("http://www.w3.org/2000/svg","g")),Ka.setAttribute("transform",t),(t=Ka.transform.baseVal.consolidate())?Wa((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):$a)}var Ka,Za=u((()=>{Ga()}));function Ja(t,e,n,r){function a(t){return t.length?t.pop()+" ":""}return function(i,o){var l=[],u=[];return i=t(i),o=t(o),function(t,r,a,i,o,l){if(t!==a||r!==i){var u=o.push("translate(",null,e,null,n);l.push({i:u-4,x:Da(t,a)},{i:u-2,x:Da(r,i)})}else(a||i)&&o.push("translate("+a+e+i+n)}(i.translateX,i.translateY,o.translateX,o.translateY,l,u),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:Da(t,e)})):e&&n.push(a(n)+"rotate("+e+r)}(i.rotate,o.rotate,l,u),function(t,e,n,i){t!==e?i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:Da(t,e)}):e&&n.push(a(n)+"skewX("+e+r)}(i.skewX,o.skewX,l,u),function(t,e,n,r,i,o){if(t!==n||e!==r){var l=i.push(a(i)+"scale(",null,",",null,")");o.push({i:l-4,x:Da(t,n)},{i:l-2,x:Da(e,r)})}else(1!==n||1!==r)&&i.push(a(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,l,u),i=o=null,function(t){for(var e,n=-1,r=u.length;++n<r;)l[(e=u[n]).i]=e.x(t);return l.join("")}}}var ti,ei,ni=u((()=>{Pa(),Za(),ti=Ja(Xa,"px, ","px)","deg)"),ei=Ja(Qa,", ",")",")")}));function ri(t){return((t=Math.exp(t))+1/t)/2}var ai,ii=u((()=>{1e-12,ai=function t(e,n,r){function a(t,a){var i,o,l=t[0],u=t[1],c=t[2],f=a[0],s=a[1],h=a[2],d=f-l,g=s-u,p=d*d+g*g;if(p<1e-12)o=Math.log(h/c)/e,i=function(t){return[l+t*d,u+t*g,c*Math.exp(e*t*o)]};else{var v=Math.sqrt(p),m=(h*h-c*c+r*p)/(2*c*n*v),y=(h*h-c*c-r*p)/(2*h*n*v),b=Math.log(Math.sqrt(m*m+1)-m),x=Math.log(Math.sqrt(y*y+1)-y);o=(x-b)/e,i=function(t){var r=t*o,a=ri(b),i=c/(n*v)*(a*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*r+b)-function(t){return((t=Math.exp(t))-1/t)/2}(b));return[l+i*d,u+i*g,c*a/ri(e*r+b)]}}return i.duration=1e3*o*e/Math.SQRT2,i}return a.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},a}(Math.SQRT2,2,4)}));function oi(t){return function e(n){function r(e,r){var a=t((e=Jr(e)).h,(r=Jr(r)).h),i=_a(e.s,r.s),o=_a(e.l,r.l),l=_a(e.opacity,r.opacity);return function(t){return e.h=a(t),e.s=i(t),e.l=o(Math.pow(t,n)),e.opacity=l(t),e+""}}return n=+n,r.gamma=e,r}(1)}var li,ui=u((()=>{fa(),wa(),oi(ba),li=oi(_a)}));function ci(t,e){void 0===e&&(e=t,t=Fa);for(var n=0,r=e.length-1,a=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(a,a=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return i[e](t-e)}}var fi=u((()=>{Ua()})),si=u((()=>{Ua(),Pa(),ja(),Ya(),ni(),ii(),ka(),ui(),fi()}));var hi=u((()=>{}));function di(t){return+t}var gi=u((()=>{}));function pi(t){return t}function vi(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function mi(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=vi(a,r),i=n(o,i)):(r=vi(r,a),i=n(i,o)),function(t){return i(r(t))}}function yi(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)a[o]=vi(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(e){var n=Pn(t,e,1,r)-1;return i[n](a[n](e))}}function bi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function xi(){var t,e,n,r,a,i,o=wi,l=wi,u=Fa,c=pi;function f(){var t=Math.min(o.length,l.length);return c!==pi&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(o[0],o[t-1])),r=t>2?yi:mi,a=i=null,s}function s(e){return null==e||isNaN(e=+e)?n:(a||(a=r(o.map(t),l,u)))(t(c(e)))}return s.invert=function(n){return c(e((i||(i=r(l,o.map(t),Da)))(n)))},s.domain=function(t){return arguments.length?(o=Array.from(t,di),f()):o.slice()},s.range=function(t){return arguments.length?(l=Array.from(t),f()):l.slice()},s.rangeRound=function(t){return l=Array.from(t),u=Ha,f()},s.clamp=function(t){return arguments.length?(c=!!t||pi,f()):c!==pi},s.interpolate=function(t){return arguments.length?(u=t,f()):u},s.unknown=function(t){return arguments.length?(n=t,s):n},function(n,r){return t=n,e=r,f()}}function _i(){return xi()(pi,pi)}var wi,Si=u((()=>{rr(),si(),hi(),gi(),wi=[0,1]}));function Mi(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ai(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}var ki=u((()=>{}));function Ti(t){return(t=Ai(Math.abs(t)))?t[1]:NaN}var Vi=u((()=>{ki()}));var Ni=u((()=>{}));var Ci=u((()=>{}));function Ei(t){if(!(e=Di.exec(t)))throw new Error("invalid format: "+t);var e;return new zi({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function zi(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}var Di,Pi=u((()=>{Di=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,Ei.prototype=zi.prototype,zi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}}));var Ii=u((()=>{}));function Ri(t,e){var n=Ai(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(Bi=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Ai(t,Math.max(0,e+i-1))[0]}var Bi,Oi=u((()=>{ki()}));function Li(t,e){var n=Ai(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}var Yi,Fi=u((()=>{ki()})),Ui=u((()=>{ki(),Oi(),Fi(),Yi={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Mi,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Li(100*t,e),r:Li,s:Ri,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)}}));function Hi(t){return t}var ji=u((()=>{}));function Wi(t){var e=void 0===t.grouping||void 0===t.thousands?Hi:function(t,e){return function(n,r){for(var a=n.length,i=[],o=0,l=t[0],u=0;a>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),i.push(n.substring(a-=l,a+l)),!((u+=l+1)>r));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}(qi.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",i=void 0===t.numerals?Hi:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(qi.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function c(t){var c=(t=Ei(t)).fill,f=t.align,s=t.sign,h=t.symbol,d=t.zero,g=t.width,p=t.comma,v=t.precision,m=t.trim,y=t.type;"n"===y?(p=!0,y="g"):Yi[y]||(void 0===v&&(v=12),m=!0,y="g"),(d||"0"===c&&"="===f)&&(d=!0,c="0",f="=");var b="$"===h?n:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===h?r:/[%p]/.test(y)?o:"",_=Yi[y],w=/[defgprs%]/.test(y);function S(t){var n,r,o,h=b,S=x;if("c"===y)S=_(t)+S,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:_(Math.abs(t),v),m&&(t=function(t){t:for(var e,n=t.length,r=1,a=-1;r<n;++r)switch(t[r]){case".":a=e=r;break;case"0":0===a&&(a=r),e=r;break;default:if(!+t[r])break t;a>0&&(a=0)}return a>0?t.slice(0,a)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==s&&(M=!1),h=(M?"("===s?s:l:"-"===s||"("===s?"":s)+h,S=("s"===y?$i[8+Bi/3]:"")+S+(M&&"("===s?")":""),w)for(n=-1,r=t.length;++n<r;)if(48>(o=t.charCodeAt(n))||o>57){S=(46===o?a+t.slice(n+1):t.slice(n))+S,t=t.slice(0,n);break}}p&&!d&&(t=e(t,1/0));var A=h.length+t.length+S.length,k=A<g?new Array(g-A+1).join(c):"";switch(p&&d&&(t=e(k+t,k.length?g-S.length:1/0),k=""),f){case"<":t=h+t+S+k;break;case"=":t=h+k+t+S;break;case"^":t=k.slice(0,A=k.length>>1)+h+t+S+k.slice(A);break;default:t=k+h+t+S}return i(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),S.toString=function(){return t+""},S}return{format:c,formatPrefix:function(t,e){var n=c(((t=Ei(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ti(e)/3))),a=Math.pow(10,-r),i=$i[8+r/3];return function(t){return n(a*t)+i}}}}var qi,$i,Gi=u((()=>{Vi(),Ni(),Ci(),Pi(),Ii(),Ui(),Oi(),ji(),qi=Array.prototype.map,$i=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"]}));var Xi,Qi,Ki,Zi=u((()=>{Gi(),Xi=Wi({thousands:",",grouping:[3],currency:["$",""]}),Qi=Xi.format,Ki=Xi.formatPrefix}));var Ji=u((()=>{Vi()}));var to=u((()=>{Vi()}));var eo=u((()=>{Vi()})),no=u((()=>{Zi(),Pi(),Ji(),to(),eo()}));function ro(t,e,n,r){var a,i=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=Fn?a*=10:i>=Un?a*=5:i>=Hn&&(a*=2),e<t?-a:a}(t,e,n);switch((r=Ei(r??",f")).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null==r.precision&&!isNaN(a=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ti(e)/3)))-Ti(Math.abs(t)))}(i,o))&&(r.precision=a),Ki(r,o);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(a=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ti(e)-Ti(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(a=function(t){return Math.max(0,-Ti(Math.abs(t)))}(i))&&(r.precision=a-2*("%"===r.type))}return Qi(r)}var ao=u((()=>{rr(),no()}));function io(t){var e=t.domain;return t.ticks=function(t){var n=e();return Ln(n[0],n[n.length-1],t??10)},t.tickFormat=function(t,n){var r=e();return ro(r[0],r[r.length-1],t??10,n)},t.nice=function(n){null==n&&(n=10);var r,a,i=e(),o=0,l=i.length-1,u=i[o],c=i[l],f=10;for(c<u&&(a=u,u=c,c=a,a=o,o=l,l=a);f-- >0;){if((a=Yn(u,c,n))===r)return i[o]=u,i[l]=c,e(i);if(a>0)u=Math.floor(u/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;u=Math.ceil(u*a)/a,c=Math.floor(c*a)/a}r=a}return t},t}function oo(){var t=_i();return t.copy=function(){return bi(t,oo())},ar.apply(t,arguments),io(t)}var lo=u((()=>{rr(),Si(),or(),ao()}));function uo(t){var e;function n(t){return null==t||isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,di),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return uo(t).unknown(e)},t=arguments.length?Array.from(t,di):[0,1],io(n)}var co=u((()=>{lo(),gi()}));function fo(t,e){var n,r=0,a=(t=t.slice()).length-1,i=t[r],o=t[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),t[r]=e.floor(i),t[a]=e.ceil(o),t}var so=u((()=>{}));function ho(t){return Math.log(t)}function go(t){return Math.exp(t)}function po(t){return-Math.log(-t)}function vo(t){return-Math.exp(-t)}function mo(t){return isFinite(t)?+("1e"+t):t<0?0:t}function yo(t){return(e,n)=>-t(-e,n)}function bo(t){let e,n,r=t(ho,go),a=r.domain,i=10;function o(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(i),n=function(t){return 10===t?mo:t===Math.E?Math.exp:e=>Math.pow(t,e)}(i),a()[0]<0?(e=yo(e),n=yo(n),t(po,vo)):t(ho,go),r}return r.base=function(t){return arguments.length?(i=+t,o()):i},r.domain=function(t){return arguments.length?(a(t),o()):a()},r.ticks=t=>{let r=a(),o=r[0],l=r[r.length-1],u=l<o;u&&([o,l]=[l,o]);let c,f,s=e(o),h=e(l),d=null==t?10:+t,g=[];if(!(i%1)&&h-s<d){if(s=Math.floor(s),h=Math.ceil(h),o>0){for(;s<=h;++s)for(c=1;c<i;++c)if(f=s<0?c/n(-s):c*n(s),!(f<o)){if(f>l)break;g.push(f)}}else for(;s<=h;++s)for(c=i-1;c>=1;--c)if(f=s>0?c/n(-s):c*n(s),!(f<o)){if(f>l)break;g.push(f)}2*g.length<d&&(g=Ln(o,l,d))}else g=Ln(s,h,Math.min(h-s,d)).map(n);return u?g.reverse():g},r.tickFormat=(t,a)=>{if(null==t&&(t=10),null==a&&(a=10===i?"s":","),"function"!=typeof a&&(!(i%1)&&null==(a=Ei(a)).precision&&(a.trim=!0),a=Qi(a)),t===1/0)return a;let o=Math.max(1,i*t/r.ticks().length);return t=>{let r=t/n(Math.round(e(t)));return r*i<i-.5&&(r*=i),r<=o?a(t):""}},r.nice=()=>a(fo(a(),{floor:t=>n(Math.floor(e(t))),ceil:t=>n(Math.ceil(e(t)))})),r}function xo(){let t=bo(xi()).domain([1,10]);return t.copy=()=>bi(t,xo()).base(t.base()),ar.apply(t,arguments),t}var _o=u((()=>{rr(),no(),so(),Si(),or()}));function wo(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function So(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Mo(t){var e=1,n=t(wo(e),So(e));return n.constant=function(n){return arguments.length?t(wo(e=+n),So(e)):e},io(n)}function Ao(){var t=Mo(xi());return t.copy=function(){return bi(t,Ao()).constant(t.constant())},ar.apply(t,arguments)}var ko=u((()=>{lo(),Si(),or()}));function To(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Vo(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function No(t){return t<0?-t*t:t*t}function Co(t){var e=t(pi,pi),n=1;function r(){return 1===n?t(pi,pi):.5===n?t(Vo,No):t(To(n),To(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},io(e)}function Eo(){var t=Co(xi());return t.copy=function(){return bi(t,Eo()).exponent(t.exponent())},ar.apply(t,arguments),t}function zo(){return Eo.apply(null,arguments).exponent(.5)}var Do=u((()=>{lo(),Si(),or()}));function Po(t){return Math.sign(t)*t*t}function Io(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Ro(){var t,e=_i(),n=[0,1],r=!1;function a(n){var a=Io(e(n));return isNaN(a)?t:r?Math.round(a):a}return a.invert=function(t){return e.invert(Po(t))},a.domain=function(t){return arguments.length?(e.domain(t),a):e.domain()},a.range=function(t){return arguments.length?(e.range((n=Array.from(t,di)).map(Po)),a):n.slice()},a.rangeRound=function(t){return a.range(t).round(!0)},a.round=function(t){return arguments.length?(r=!!t,a):r},a.clamp=function(t){return arguments.length?(e.clamp(t),a):e.clamp()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return Ro(e.domain(),n).round(r).clamp(e.clamp()).unknown(t)},ar.apply(a,arguments),io(a)}var Bo=u((()=>{Si(),or(),lo(),gi()}));function Oo(){var t,e=[],n=[],r=[];function a(){var t=0,a=Math.max(1,n.length);for(r=new Array(a-1);++t<a;)r[t-1]=Jn(e,t/a);return i}function i(e){return null==e||isNaN(e=+e)?t:n[Pn(r,e)]}return i.invertExtent=function(t){var a=n.indexOf(t);return a<0?[NaN,NaN]:[a>0?r[a-1]:e[0],a<r.length?r[a]:e[e.length-1]]},i.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null!=n&&!isNaN(n=+n)&&e.push(n);return e.sort(Tn),a()},i.range=function(t){return arguments.length?(n=Array.from(t),a()):n.slice()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.quantiles=function(){return r.slice()},i.copy=function(){return Oo().domain(e).range(n).unknown(t)},ar.apply(i,arguments)}var Lo=u((()=>{rr(),or()}));function Yo(){var t,e=0,n=1,r=1,a=[.5],i=[0,1];function o(e){return null!=e&&e<=e?i[Pn(a,e,0,r)]:t}function l(){var t=-1;for(a=new Array(r);++t<r;)a[t]=((t+1)*n-(t-r)*e)/(r+1);return o}return o.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,l()):[e,n]},o.range=function(t){return arguments.length?(r=(i=Array.from(t)).length-1,l()):i.slice()},o.invertExtent=function(t){var o=i.indexOf(t);return o<0?[NaN,NaN]:o<1?[e,a[0]]:o>=r?[a[r-1],n]:[a[o-1],a[o]]},o.unknown=function(e){return arguments.length&&(t=e),o},o.thresholds=function(){return a.slice()},o.copy=function(){return Yo().domain([e,n]).range(i).unknown(t)},ar.apply(io(o),arguments)}var Fo=u((()=>{rr(),lo(),or()}));function Uo(){var t,e=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[Pn(e,a,0,r)]:t}return a.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),a):e.slice()},a.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),a):n.slice()},a.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return Uo().domain(e).range(n).unknown(t)},ar.apply(a,arguments)}var Ho=u((()=>{rr(),or()}));function jo(t,e,n,r){function a(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return a.floor=function(e){return t(e=new Date(+e)),e},a.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},a.range=function(n,r,i){var o,l=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return l;do{l.push(o=new Date(+n)),e(n,i),t(n)}while(o<n&&n<r);return l},a.filter=function(n){return jo((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(a.count=function(e,r){return Wo.setTime(+e),qo.setTime(+r),t(Wo),t(qo),Math.floor(n(Wo,qo))},a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(r?function(e){return r(e)%t==0}:function(e){return a.count(0,e)%t==0}):a:null}),a}var Wo,qo,$o,Go,Xo,Qo,Ko,Zo,Jo,tl,el,nl,rl,al,il,ol,ll,ul=u((()=>{Wo=new Date,qo=new Date})),cl=u((()=>{ul(),($o=jo((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}))).every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?jo((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):$o:null},Go=$o,Xo=$o.range})),fl=u((()=>{ul(),Qo=jo((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),Ko=Qo,Zo=Qo.range})),sl=u((()=>{ul(),Jo=jo((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),tl=Jo,el=Jo.range})),hl=u((()=>{ul(),nl=jo((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),rl=nl,al=nl.range})),dl=u((()=>{ul(),il=jo((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5),(t=>t.getDate()-1)),ol=il,ll=il.range}));function gl(t){return jo((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var pl,vl,ml,yl,bl,xl,_l,wl,Sl,Ml,Al,kl,Tl,Vl,Nl,Cl,El,zl,Dl,Pl,Il,Rl,Bl,Ol,Ll,Yl,Fl,Ul,Hl,jl=u((()=>{ul(),pl=gl(0),vl=gl(1),ml=gl(2),yl=gl(3),bl=gl(4),xl=gl(5),_l=gl(6),wl=pl.range,Sl=vl.range,Ml=ml.range,Al=yl.range,kl=bl.range,Tl=xl.range,Vl=_l.range})),Wl=u((()=>{ul(),Nl=jo((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Cl=Nl,El=Nl.range})),ql=u((()=>{ul(),(zl=jo((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}))).every=function(t){return isFinite(t=Math.floor(t))&&t>0?jo((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null},Dl=zl,Pl=zl.range})),$l=u((()=>{ul(),Il=jo((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})),Rl=Il,Bl=Il.range})),Gl=u((()=>{ul(),Ol=jo((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),Ll=Ol,Yl=Ol.range})),Xl=u((()=>{ul(),Fl=jo((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1})),Ul=Fl,Hl=Fl.range}));function Ql(t){return jo((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var Kl,Zl,Jl,tu,eu,nu,ru,au,iu,ou,lu,uu,cu,fu,su,hu,du,gu,pu,vu,mu=u((()=>{ul(),Kl=Ql(0),Zl=Ql(1),Jl=Ql(2),tu=Ql(3),eu=Ql(4),nu=Ql(5),ru=Ql(6),au=Kl.range,iu=Zl.range,ou=Jl.range,lu=tu.range,uu=eu.range,cu=nu.range,fu=ru.range})),yu=u((()=>{ul(),su=jo((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),hu=su,du=su.range})),bu=u((()=>{ul(),(gu=jo((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}))).every=function(t){return isFinite(t=Math.floor(t))&&t>0?jo((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null},pu=gu,vu=gu.range}));function xu(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var _u=u((()=>{}));var wu=u((()=>{_u()}));function Su(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=Mu?a*=10:i>=Au?a*=5:i>=ku&&(a*=2),e<t?-a:a}var Mu,Au,ku,Tu=u((()=>{Mu=Math.sqrt(50),Au=Math.sqrt(10),ku=Math.sqrt(2)})),Vu=u((()=>{wu(),Tu()}));function Nu(t,e,n,r,a,i){let o=[[Ko,1,1e3],[Ko,5,5e3],[Ko,15,15e3],[Ko,30,3e4],[i,1,6e4],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,36e5],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function l(e,n,r){let a=Math.abs(n-e)/r,i=function(t){let e=t,n=t,r=t;function a(t,e,a=0,i=t.length){if(a<i){if(0!==n(e,e))return i;do{let n=a+i>>>1;r(t[n],e)<0?a=n+1:i=n}while(a<i)}return a}return 2!==t.length&&(e=(e,n)=>t(e)-n,n=xu,r=(e,n)=>xu(t(e),n)),{left:a,center:function(t,n,r=0,i=t.length){let o=a(t,n,r,i-1);return o>r&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e,a=0,i=t.length){if(a<i){if(0!==n(e,e))return i;do{let n=a+i>>>1;r(t[n],e)<=0?a=n+1:i=n}while(a<i)}return a}}}((([,,t])=>t)).right(o,a);if(i===o.length)return t.every(Su(e/31536e6,n/31536e6,r));if(0===i)return Go.every(Math.max(Su(e,n,r),1));let[l,u]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return l.every(u)}return[function(t,e,n){let r=e<t;r&&([t,e]=[e,t]);let a=n&&"function"==typeof n.range?n:l(t,e,n),i=a?a.range(t,+e+1):[];return r?i.reverse():i},l]}var Cu,Eu,zu,Du,Pu=u((()=>{Vu(),cl(),fl(),sl(),hl(),dl(),jl(),Wl(),ql(),$l(),Gl(),Xl(),mu(),yu(),bu(),[Cu,Eu]=Nu(pu,hu,Kl,Ul,Ll,Rl),[zu,Du]=Nu(Dl,Cl,pl,ol,rl,tl)})),Iu={};f(Iu,{timeDay:()=>ol,timeDays:()=>ll,timeFriday:()=>xl,timeFridays:()=>Tl,timeHour:()=>rl,timeHours:()=>al,timeInterval:()=>jo,timeMillisecond:()=>Go,timeMilliseconds:()=>Xo,timeMinute:()=>tl,timeMinutes:()=>el,timeMonday:()=>vl,timeMondays:()=>Sl,timeMonth:()=>Cl,timeMonths:()=>El,timeSaturday:()=>_l,timeSaturdays:()=>Vl,timeSecond:()=>Ko,timeSeconds:()=>Zo,timeSunday:()=>pl,timeSundays:()=>wl,timeThursday:()=>bl,timeThursdays:()=>kl,timeTickInterval:()=>Du,timeTicks:()=>zu,timeTuesday:()=>ml,timeTuesdays:()=>Ml,timeWednesday:()=>yl,timeWednesdays:()=>Al,timeWeek:()=>pl,timeWeeks:()=>wl,timeYear:()=>Dl,timeYears:()=>Pl,utcDay:()=>Ul,utcDays:()=>Hl,utcFriday:()=>nu,utcFridays:()=>cu,utcHour:()=>Ll,utcHours:()=>Yl,utcMillisecond:()=>Go,utcMilliseconds:()=>Xo,utcMinute:()=>Rl,utcMinutes:()=>Bl,utcMonday:()=>Zl,utcMondays:()=>iu,utcMonth:()=>hu,utcMonths:()=>du,utcSaturday:()=>ru,utcSaturdays:()=>fu,utcSecond:()=>Ko,utcSeconds:()=>Zo,utcSunday:()=>Kl,utcSundays:()=>au,utcThursday:()=>eu,utcThursdays:()=>uu,utcTickInterval:()=>Eu,utcTicks:()=>Cu,utcTuesday:()=>Jl,utcTuesdays:()=>ou,utcWednesday:()=>tu,utcWednesdays:()=>lu,utcWeek:()=>Kl,utcWeeks:()=>au,utcYear:()=>pu,utcYears:()=>vu});var Ru=u((()=>{ul(),cl(),fl(),sl(),hl(),dl(),jl(),Wl(),ql(),$l(),Gl(),Xl(),mu(),yu(),bu(),Pu()}));function Bu(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ou(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Lu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Yu(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function Fu(t){return t.replace(nf,"\\$&")}function Uu(t){return new RegExp("^(?:"+t.map(Fu).join("|")+")","i")}function Hu(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function ju(t,e,n){var r=tf.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Wu(t,e,n){var r=tf.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function qu(t,e,n){var r=tf.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function $u(t,e,n){var r=tf.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Gu(t,e,n){var r=tf.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Xu(t,e,n){var r=tf.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Qu(t,e,n){var r=tf.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ku(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Zu(t,e,n){var r=tf.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Ju(t,e,n){var r=tf.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function tc(t,e,n){var r=tf.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ec(t,e,n){var r=tf.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function nc(t,e,n){var r=tf.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function rc(t,e,n){var r=tf.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ac(t,e,n){var r=tf.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ic(t,e,n){var r=tf.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function oc(t,e,n){var r=tf.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lc(t,e,n){var r=ef.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function uc(t,e,n){var r=tf.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function cc(t,e,n){var r=tf.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function fc(t,e){return Yu(t.getDate(),e,2)}function sc(t,e){return Yu(t.getHours(),e,2)}function hc(t,e){return Yu(t.getHours()%12||12,e,2)}function dc(t,e){return Yu(1+ol.count(Dl(t),t),e,3)}function gc(t,e){return Yu(t.getMilliseconds(),e,3)}function pc(t,e){return gc(t,e)+"000"}function vc(t,e){return Yu(t.getMonth()+1,e,2)}function mc(t,e){return Yu(t.getMinutes(),e,2)}function yc(t,e){return Yu(t.getSeconds(),e,2)}function bc(t){var e=t.getDay();return 0===e?7:e}function xc(t,e){return Yu(pl.count(Dl(t)-1,t),e,2)}function _c(t){var e=t.getDay();return e>=4||0===e?bl(t):bl.ceil(t)}function wc(t,e){return t=_c(t),Yu(bl.count(Dl(t),t)+(4===Dl(t).getDay()),e,2)}function Sc(t){return t.getDay()}function Mc(t,e){return Yu(vl.count(Dl(t)-1,t),e,2)}function Ac(t,e){return Yu(t.getFullYear()%100,e,2)}function kc(t,e){return Yu((t=_c(t)).getFullYear()%100,e,2)}function Tc(t,e){return Yu(t.getFullYear()%1e4,e,4)}function Vc(t,e){var n=t.getDay();return Yu((t=n>=4||0===n?bl(t):bl.ceil(t)).getFullYear()%1e4,e,4)}function Nc(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Yu(e/60|0,"0",2)+Yu(e%60,"0",2)}function Cc(t,e){return Yu(t.getUTCDate(),e,2)}function Ec(t,e){return Yu(t.getUTCHours(),e,2)}function zc(t,e){return Yu(t.getUTCHours()%12||12,e,2)}function Dc(t,e){return Yu(1+Ul.count(pu(t),t),e,3)}function Pc(t,e){return Yu(t.getUTCMilliseconds(),e,3)}function Ic(t,e){return Pc(t,e)+"000"}function Rc(t,e){return Yu(t.getUTCMonth()+1,e,2)}function Bc(t,e){return Yu(t.getUTCMinutes(),e,2)}function Oc(t,e){return Yu(t.getUTCSeconds(),e,2)}function Lc(t){var e=t.getUTCDay();return 0===e?7:e}function Yc(t,e){return Yu(Kl.count(pu(t)-1,t),e,2)}function Fc(t){var e=t.getUTCDay();return e>=4||0===e?eu(t):eu.ceil(t)}function Uc(t,e){return t=Fc(t),Yu(eu.count(pu(t),t)+(4===pu(t).getUTCDay()),e,2)}function Hc(t){return t.getUTCDay()}function jc(t,e){return Yu(Zl.count(pu(t)-1,t),e,2)}function Wc(t,e){return Yu(t.getUTCFullYear()%100,e,2)}function qc(t,e){return Yu((t=Fc(t)).getUTCFullYear()%100,e,2)}function $c(t,e){return Yu(t.getUTCFullYear()%1e4,e,4)}function Gc(t,e){var n=t.getUTCDay();return Yu((t=n>=4||0===n?eu(t):eu.ceil(t)).getUTCFullYear()%1e4,e,4)}function Xc(){return"+0000"}function Qc(){return"%"}function Kc(t){return+t}function Zc(t){return Math.floor(+t/1e3)}var Jc,tf,ef,nf,rf=u((()=>{Ru(),Jc={"-":"",_:" ",0:"0"},tf=/^\s*\d+/,ef=/^%/,nf=/[\\^$*+?|[\]().{}]/g}));function af(t){return of=function(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,u=t.shortMonths,c=Uu(a),f=Hu(a),s=Uu(i),h=Hu(i),d=Uu(o),g=Hu(o),p=Uu(l),v=Hu(l),m=Uu(u),y=Hu(u),b={a:function(t){return o[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:fc,e:fc,f:pc,g:kc,G:Vc,H:sc,I:hc,j:dc,L:gc,m:vc,M:mc,p:function(t){return a[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Kc,s:Zc,S:yc,u:bc,U:xc,V:wc,w:Sc,W:Mc,x:null,X:null,y:Ac,Y:Tc,Z:Nc,"%":Qc},x={a:function(t){return o[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:Cc,e:Cc,f:Ic,g:qc,G:Gc,H:Ec,I:zc,j:Dc,L:Pc,m:Rc,M:Bc,p:function(t){return a[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Kc,s:Zc,S:Oc,u:Lc,U:Yc,V:Uc,w:Hc,W:jc,x:null,X:null,y:Wc,Y:$c,Z:Xc,"%":Qc},_={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=g.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=s.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:tc,e:tc,f:oc,g:Qu,G:Xu,H:nc,I:nc,j:ec,L:ic,m:Ju,M:rc,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=f.get(r[0].toLowerCase()),n+r[0].length):-1},q:Zu,Q:uc,s:cc,S:ac,u:Wu,U:qu,V:$u,w:ju,W:Gu,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:Qu,Y:Xu,Z:Ku,"%":lc};function w(t,e){return function(n){var r,a,i,o=[],l=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++l<c;)37===t.charCodeAt(l)&&(o.push(t.slice(u,l)),null!=(a=Jc[r=t.charAt(++l)])?r=t.charAt(++l):a="e"===r?" ":"0",(i=e[r])&&(r=i(n,a)),o.push(r),u=l+1);return o.push(t.slice(u,l)),o.join("")}}function S(t,e){return function(n){var r,a,i=Lu(1900,void 0,1);if(M(i,t,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(e&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=Ou(Lu(i.y,0,1))).getUTCDay(),r=a>4||0===a?Zl.ceil(r):Zl(r),r=Ul.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=Bu(Lu(i.y,0,1))).getDay(),r=a>4||0===a?vl.ceil(r):vl(r),r=ol.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?Ou(Lu(i.y,0,1)).getUTCDay():Bu(Lu(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Ou(i)):Bu(i)}}function M(t,e,n,r){for(var a,i,o=0,l=e.length,u=n.length;o<l;){if(r>=u)return-1;if(37===(a=e.charCodeAt(o++))){if(a=e.charAt(o++),!(i=_[a in Jc?e.charAt(o++):a])||(r=i(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),x.x=w(n,x),x.X=w(r,x),x.c=w(e,x),{format:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t+="",!0);return e.toString=function(){return t},e}}}(t),lf=of.format,of.parse,uf=of.utcFormat,of.utcParse,of}var of,lf,uf,cf=u((()=>{rf(),af({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})})),ff=u((()=>{cf()}));function sf(t){return new Date(t)}function hf(t){return t instanceof Date?+t:+new Date(+t)}function df(t,e,n,r,a,i,o,l,u,c){var f=_i(),s=f.invert,h=f.domain,d=c(".%L"),g=c(":%S"),p=c("%I:%M"),v=c("%I %p"),m=c("%a %d"),y=c("%b %d"),b=c("%B"),x=c("%Y");function _(t){return(u(t)<t?d:l(t)<t?g:o(t)<t?p:i(t)<t?v:r(t)<t?a(t)<t?m:y:n(t)<t?b:x)(t)}return f.invert=function(t){return new Date(s(t))},f.domain=function(t){return arguments.length?h(Array.from(t,hf)):h().map(sf)},f.ticks=function(e){var n=h();return t(n[0],n[n.length-1],e??10)},f.tickFormat=function(t,e){return null==e?_:c(e)},f.nice=function(t){var n=h();return(!t||"function"!=typeof t.range)&&(t=e(n[0],n[n.length-1],t??10)),t?h(fo(n,t)):f},f.copy=function(){return bi(f,df(t,e,n,r,a,i,o,l,u,c))},f}function gf(){return ar.apply(df(zu,Du,Dl,Cl,pl,ol,rl,tl,Ko,lf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var pf=u((()=>{Ru(),ff(),Si(),or(),so()}));function vf(){return ar.apply(df(Cu,Eu,pu,hu,Kl,Ul,Ll,Rl,Ko,uf).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}var mf=u((()=>{Ru(),ff(),pf(),or()}));function yf(){var t,e,n,r,a,i=0,o=1,l=pi,u=!1;function c(e){return null==e||isNaN(e=+e)?a:l(0===n?.5:(e=(r(e)-t)*n,u?Math.max(0,Math.min(1,e)):e))}function f(t){return function(e){var n,r;return arguments.length?([n,r]=e,l=t(n,r),c):[l(0),l(1)]}}return c.domain=function(a){return arguments.length?([i,o]=a,t=r(i=+i),e=r(o=+o),n=t===e?0:1/(e-t),c):[i,o]},c.clamp=function(t){return arguments.length?(u=!!t,c):u},c.interpolator=function(t){return arguments.length?(l=t,c):l},c.range=f(Fa),c.rangeRound=f(Ha),c.unknown=function(t){return arguments.length?(a=t,c):a},function(a){return r=a,t=a(i),e=a(o),n=t===e?0:1/(e-t),c}}function bf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function xf(){var t=io(yf()(pi));return t.copy=function(){return bf(t,xf())},ir.apply(t,arguments)}function _f(){var t=bo(yf()).domain([1,10]);return t.copy=function(){return bf(t,_f()).base(t.base())},ir.apply(t,arguments)}function wf(){var t=Mo(yf());return t.copy=function(){return bf(t,wf()).constant(t.constant())},ir.apply(t,arguments)}function Sf(){var t=Co(yf());return t.copy=function(){return bf(t,Sf()).exponent(t.exponent())},ir.apply(t,arguments)}function Mf(){return Sf.apply(null,arguments).exponent(.5)}var Af=u((()=>{si(),Si(),or(),lo(),_o(),ko(),Do()}));function kf(){var t=[],e=pi;function n(n){if(null!=n&&!isNaN(n=+n))return e((Pn(t,n,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null!=n&&!isNaN(n=+n)&&t.push(n);return t.sort(Tn),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.range=function(){return t.map(((n,r)=>e(r/(t.length-1))))},n.quantiles=function(e){return Array.from({length:e+1},((n,r)=>Zn(t,r/e)))},n.copy=function(){return kf(e).domain(t)},ir.apply(n,arguments)}var Tf=u((()=>{rr(),Si(),or()}));function Vf(){var t,e,n,r,a,i,o,l=0,u=.5,c=1,f=1,s=pi,h=!1;function d(t){return isNaN(t=+t)?o:(t=.5+((t=+i(t))-e)*(f*t<f*e?r:a),s(h?Math.max(0,Math.min(1,t)):t))}function g(t){return function(e){var n,r,a;return arguments.length?([n,r,a]=e,s=ci(t,[n,r,a]),d):[s(0),s(.5),s(1)]}}return d.domain=function(o){return arguments.length?([l,u,c]=o,t=i(l=+l),e=i(u=+u),n=i(c=+c),r=t===e?0:.5/(e-t),a=e===n?0:.5/(n-e),f=e<t?-1:1,d):[l,u,c]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(s=t,d):s},d.range=g(Fa),d.rangeRound=g(Ha),d.unknown=function(t){return arguments.length?(o=t,d):o},function(o){return i=o,t=o(l),e=o(u),n=o(c),r=t===e?0:.5/(e-t),a=e===n?0:.5/(n-e),f=e<t?-1:1,d}}function Nf(){var t=io(Vf()(pi));return t.copy=function(){return bf(t,Nf())},ir.apply(t,arguments)}function Cf(){var t=bo(Vf()).domain([.1,1,10]);return t.copy=function(){return bf(t,Cf()).base(t.base())},ir.apply(t,arguments)}function Ef(){var t=Mo(Vf());return t.copy=function(){return bf(t,Ef()).constant(t.constant())},ir.apply(t,arguments)}function zf(){var t=Co(Vf());return t.copy=function(){return bf(t,zf()).exponent(t.exponent())},ir.apply(t,arguments)}function Df(){return zf.apply(null,arguments).exponent(.5)}var Pf=u((()=>{si(),Si(),or(),lo(),_o(),Af(),ko(),Do()})),If={};f(If,{scaleBand:()=>fr,scaleDiverging:()=>Nf,scaleDivergingLog:()=>Cf,scaleDivergingPow:()=>zf,scaleDivergingSqrt:()=>Df,scaleDivergingSymlog:()=>Ef,scaleIdentity:()=>uo,scaleImplicit:()=>ur,scaleLinear:()=>oo,scaleLog:()=>xo,scaleOrdinal:()=>lr,scalePoint:()=>hr,scalePow:()=>Eo,scaleQuantile:()=>Oo,scaleQuantize:()=>Yo,scaleRadial:()=>Ro,scaleSequential:()=>xf,scaleSequentialLog:()=>_f,scaleSequentialPow:()=>Sf,scaleSequentialQuantile:()=>kf,scaleSequentialSqrt:()=>Mf,scaleSequentialSymlog:()=>wf,scaleSqrt:()=>zo,scaleSymlog:()=>Ao,scaleThreshold:()=>Uo,scaleTime:()=>gf,scaleUtc:()=>vf,tickFormat:()=>ro});var Rf,Bf,Of,Lf,Yf,Ff,Uf,Hf,jf,Wf,qf,$f,Gf,Xf,Qf,Kf,Zf,Jf,ts=u((()=>{dr(),co(),lo(),_o(),ko(),cr(),Do(),Bo(),Lo(),Fo(),Ho(),pf(),mf(),Af(),Tf(),Pf(),ao()})),es=u((()=>{Rf=Math.random})),ns=u((()=>{es(),Bf=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Rf)})),rs=u((()=>{es(),Of=function t(e){function n(t,n){return arguments.length<2&&(n=t,t=0),t=Math.floor(t),n=Math.floor(n)-t,function(){return Math.floor(e()*n+t)}}return n.source=t,n}(Rf)})),as=u((()=>{es(),Lf=function t(e){function n(t,n){var r,a;return t=null==t?0:+t,n=null==n?1:+n,function(){var i;if(null!=r)i=r,r=null;else do{r=2*e()-1,i=2*e()-1,a=r*r+i*i}while(!a||a>1);return t+n*i*Math.sqrt(-2*Math.log(a)/a)}}return n.source=t,n}(Rf)})),is=u((()=>{es(),as(),Yf=function t(e){var n=Lf.source(e);function r(){var t=n.apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(Rf)})),os=u((()=>{es(),Ff=function t(e){function n(t){return(t=+t)<=0?()=>0:function(){for(var n=0,r=t;r>1;--r)n+=e();return n+r*e()}}return n.source=t,n}(Rf)})),ls=u((()=>{es(),os(),Uf=function t(e){var n=Ff.source(e);function r(t){if(0==(t=+t))return e;var r=n(t);return function(){return r()/t}}return r.source=t,r}(Rf)})),us=u((()=>{es(),Hf=function t(e){function n(t){return function(){return-Math.log1p(-e())/t}}return n.source=t,n}(Rf)})),cs=u((()=>{es(),jf=function t(e){function n(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-e(),t)}}return n.source=t,n}(Rf)})),fs=u((()=>{es(),Wf=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+t)}}return n.source=t,n}(Rf)})),ss=u((()=>{es(),qf=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-e())/t)})}return n.source=t,n}(Rf)})),hs=u((()=>{es(),as(),$f=function t(e){var n=Lf.source(e)();function r(t,r){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return()=>0;if(r=null==r?1:+r,1===t)return()=>-Math.log1p(-e())*r;var a=(t<1?t+1:t)-1/3,i=1/(3*Math.sqrt(a)),o=t<1?()=>Math.pow(e(),1/t):()=>1;return function(){do{do{var t=n(),l=1+i*t}while(l<=0);l*=l*l;var u=1-e()}while(u>=1-.0331*t*t*t*t&&Math.log(u)>=.5*t*t+a*(1-l+Math.log(l)));return a*l*o()*r}}return r.source=t,r}(Rf)})),ds=u((()=>{es(),hs(),Gf=function t(e){var n=$f.source(e);function r(t,e){var r=n(t),a=n(e);return function(){var t=r();return 0===t?0:t/(t+a())}}return r.source=t,r}(Rf)})),gs=u((()=>{es(),ds(),ss(),Xf=function t(e){var n=qf.source(e),r=Gf.source(e);function a(t,e){return t=+t,(e=+e)>=1?()=>t:e<=0?()=>0:function(){for(var a=0,i=t,o=e;i*o>16&&i*(1-o)>16;){var l=Math.floor((i+1)*o),u=r(l,i-l+1)();u<=o?(a+=l,i-=l,o=(o-u)/(1-u)):(i=l-1,o/=u)}for(var c=o<.5,f=n(c?o:1-o),s=f(),h=0;s<=i;++h)s+=f();return a+(c?h:i-h)}}return a.source=t,a}(Rf)})),ps=u((()=>{es(),Qf=function t(e){function n(t,n,r){var a;return 0==(t=+t)?a=t=>-Math.log(t):(t=1/t,a=e=>Math.pow(e,t)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*a(-Math.log1p(-e()))}}return n.source=t,n}(Rf)})),vs=u((()=>{es(),Kf=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){return t+n*Math.tan(Math.PI*e())}}return n.source=t,n}(Rf)})),ms=u((()=>{es(),Zf=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){var r=e();return t+n*Math.log(r/(1-r))}}return n.source=t,n}(Rf)})),ys=u((()=>{es(),gs(),hs(),Jf=function t(e){var n=$f.source(e),r=Xf.source(e);function a(t){return function(){for(var a=0,i=t;i>16;){var o=Math.floor(.875*i),l=n(o)();if(l>i)return a+r(o-1,i/l)();a+=o,i-=l}for(var u=-Math.log1p(-e()),c=0;u<=i;++c)u-=Math.log1p(-e());return a+c}}return a.source=t,a}(Rf)}));function bs(t=Math.random()){let e=0|(0<=t&&t<1?t/xs:Math.abs(t));return()=>(e=1664525*e+1013904223|0,xs*(e>>>0))}var xs,_s=u((()=>{xs=2.3283064365386963e-10})),ws={};f(ws,{randomBates:()=>Uf,randomBernoulli:()=>Wf,randomBeta:()=>Gf,randomBinomial:()=>Xf,randomCauchy:()=>Kf,randomExponential:()=>Hf,randomGamma:()=>$f,randomGeometric:()=>qf,randomInt:()=>Of,randomIrwinHall:()=>Ff,randomLcg:()=>bs,randomLogNormal:()=>Yf,randomLogistic:()=>Zf,randomNormal:()=>Lf,randomPareto:()=>jf,randomPoisson:()=>Jf,randomUniform:()=>Bf,randomWeibull:()=>Qf});var Ss=u((()=>{ns(),rs(),as(),is(),ls(),os(),us(),cs(),fs(),ss(),gs(),hs(),ds(),ps(),vs(),ms(),ys(),_s()}));function Ms(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function As(t,e){return fetch(t,e).then(Ms)}var ks=u((()=>{}));function Ts(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Vs(t,e){return fetch(t,e).then(Ts)}var Ns=u((()=>{}));function Cs(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Es(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function zs(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Ds(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+zs(-t,6):t>9999?"+"+zs(t,6):zs(t,4)}(t.getUTCFullYear())+"-"+zs(t.getUTCMonth()+1,2)+"-"+zs(t.getUTCDate(),2)+(a?"T"+zs(e,2)+":"+zs(n,2)+":"+zs(r,2)+"."+zs(a,3)+"Z":r?"T"+zs(e,2)+":"+zs(n,2)+":"+zs(r,2)+"Z":n||e?"T"+zs(e,2)+":"+zs(n,2)+"Z":"")}function Ps(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,a=[],i=t.length,o=0,l=0,u=i<=0,c=!1;function f(){if(u)return Rs;if(c)return c=!1,Is;var e,r,a=o;if(t.charCodeAt(a)===Bs){for(;o++<i&&t.charCodeAt(o)!==Bs||t.charCodeAt(++o)===Bs;);return(e=o)>=i?u=!0:(r=t.charCodeAt(o++))===Os?c=!0:r===Ls&&(c=!0,t.charCodeAt(o)===Os&&++o),t.slice(a+1,e-1).replace(/""/g,'"')}for(;o<i;){if((r=t.charCodeAt(e=o++))===Os)c=!0;else if(r===Ls)c=!0,t.charCodeAt(o)===Os&&++o;else if(r!==n)continue;return t.slice(a,e)}return u=!0,t.slice(a,i)}for(t.charCodeAt(i-1)===Os&&--i,t.charCodeAt(i-1)===Ls&&--i;(r=f())!==Rs;){for(var s=[];r!==Is&&r!==Rs;)s.push(r),r=f();e&&null==(s=e(s,l++))||a.push(s)}return a}function a(e,n){return e.map((function(e){return n.map((function(t){return o(e[t])})).join(t)}))}function i(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?Ds(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,a,i=r(t,(function(t,r){if(n)return n(t,r-1);a=t,n=e?function(t,e){var n=Cs(t);return function(r,a){return e(n(r),a,t)}}(t,e):Cs(t)}));return i.columns=a||[],i},parseRows:r,format:function(e,n){return null==n&&(n=Es(e)),[n.map(o).join(t)].concat(a(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Es(t)),a(t,e).join("\n")},formatRows:function(t){return t.map(i).join("\n")},formatRow:i,formatValue:o}}var Is,Rs,Bs,Os,Ls,Ys,Fs,Us,Hs,js=u((()=>{Is={},Rs={},Bs=34,Os=10,Ls=13})),Ws=u((()=>{js(),Ys=Ps(","),Fs=Ys.parse,Ys.parseRows,Ys.format,Ys.formatBody,Ys.formatRows,Ys.formatRow,Ys.formatValue})),qs=u((()=>{js(),Us=Ps("\t"),Hs=Us.parse,Us.parseRows,Us.format,Us.formatBody,Us.formatRows,Us.formatRow,Us.formatValue})),$s=u((()=>{js(),Ws(),qs()}));function Gs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Xs(t,e){return fetch(t,e).then(Gs)}var Qs=u((()=>{}));function Ks(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),Xs(e,n).then((function(e){return t(e,r)}))}}function Zs(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var a=Ps(t);return Xs(e,n).then((function(t){return a.parse(t,r)}))}var Js,th,eh=u((()=>{$s(),Qs(),Js=Ks(Fs),th=Ks(Hs)}));function nh(t,e){return new Promise((function(n,r){var a=new Image;for(var i in e)a[i]=e[i];a.onerror=r,a.onload=function(){n(a)},a.src=t}))}var rh=u((()=>{}));function ah(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function ih(t,e){return fetch(t,e).then(ah)}var oh=u((()=>{}));function lh(t){return(e,n)=>Xs(e,n).then((e=>(new DOMParser).parseFromString(e,t)))}var uh,ch,fh,sh=u((()=>{Qs(),uh=lh("application/xml"),ch=lh("text/html"),fh=lh("image/svg+xml")})),hh={};f(hh,{blob:()=>As,buffer:()=>Vs,csv:()=>Js,dsv:()=>Zs,html:()=>ch,image:()=>nh,json:()=>ih,svg:()=>fh,text:()=>Xs,tsv:()=>th,xml:()=>uh});var dh=u((()=>{ks(),Ns(),eh(),rh(),oh(),Qs(),sh()}));function gh(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ph(){return new gh}var vh,mh,yh,bh,xh,_h=u((()=>{vh=Math.PI,bh=(mh=2*vh)-(yh=1e-6),gh.prototype=ph.prototype={constructor:gh,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,a,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(t,e,n,r,a){t=+t,e=+e,n=+n,r=+r,a=+a;var i=this._x1,o=this._y1,l=n-t,u=r-e,c=i-t,f=o-e,s=c*c+f*f;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(s>yh)if(Math.abs(f*l-u*c)>yh&&a){var h=n-i,d=r-o,g=l*l+u*u,p=h*h+d*d,v=Math.sqrt(g),m=Math.sqrt(s),y=a*Math.tan((vh-Math.acos((g+s-p)/(2*v*m)))/2),b=y/m,x=y/v;Math.abs(b-1)>yh&&(this._+="L"+(t+b*c)+","+(e+b*f)),this._+="A"+a+","+a+",0,0,"+ +(f*h>c*d)+","+(this._x1=t+x*l)+","+(this._y1=e+x*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,a,i){t=+t,e=+e,i=!!i;var o=(n=+n)*Math.cos(r),l=n*Math.sin(r),u=t+o,c=e+l,f=1^i,s=i?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>yh||Math.abs(this._y1-c)>yh)&&(this._+="L"+u+","+c),n&&(s<0&&(s=s%mh+mh),s>bh?this._+="A"+n+","+n+",0,1,"+f+","+(t-o)+","+(e-l)+"A"+n+","+n+",0,1,"+f+","+(this._x1=u)+","+(this._y1=c):s>yh&&(this._+="A"+n+","+n+",0,"+ +(s>=vh)+","+f+","+(this._x1=t+n*Math.cos(a))+","+(this._y1=e+n*Math.sin(a))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},xh=ph})),wh={};f(wh,{path:()=>xh});var Sh,Mh,Ah=u((()=>{_h()})),kh=u((()=>{Mh={svg:"http://www.w3.org/2000/svg",xhtml:Sh="http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}}));function Th(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Mh.hasOwnProperty(e)?{space:Mh[e],local:t}:t}var Vh=u((()=>{kh()}));function Nh(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Sh&&e.documentElement.namespaceURI===Sh?e.createElement(t):e.createElementNS(n,t)}}function Ch(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Eh(t){var e=Th(t);return(e.local?Ch:Nh)(e)}var zh=u((()=>{Vh(),kh()}));function Dh(){}function Ph(t){return null==t?Dh:function(){return this.querySelector(t)}}var Ih=u((()=>{}));function Rh(t){"function"!=typeof t&&(t=Ph(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o,l=e[a],u=l.length,c=r[a]=new Array(u),f=0;f<u;++f)(i=l[f])&&(o=t.call(i,i.__data__,f,l))&&("__data__"in i&&(o.__data__=i.__data__),c[f]=o);return new ip(r,this._parents)}var Bh=u((()=>{fp(),Ih()}));function Oh(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}var Lh=u((()=>{}));function Yh(){return[]}function Fh(t){return null==t?Yh:function(){return this.querySelectorAll(t)}}var Uh=u((()=>{}));function Hh(t){t="function"==typeof t?function(t){return function(){return Oh(t.apply(this,arguments))}}(t):Fh(t);for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var o,l=e[i],u=l.length,c=0;c<u;++c)(o=l[c])&&(r.push(t.call(o,o.__data__,c,l)),a.push(o));return new ip(r,a)}var jh=u((()=>{fp(),Lh(),Uh()}));function Wh(t){return function(){return this.matches(t)}}function qh(t){return function(e){return e.matches(t)}}var $h=u((()=>{}));function Gh(){return this.firstElementChild}function Xh(t){return this.select(null==t?Gh:function(t){return function(){return Qh.call(this.children,t)}}("function"==typeof t?t:qh(t)))}var Qh,Kh=u((()=>{$h(),Qh=Array.prototype.find}));function Zh(){return Array.from(this.children)}function Jh(t){return this.selectAll(null==t?Zh:function(t){return function(){return td.call(this.children,t)}}("function"==typeof t?t:qh(t)))}var td,ed=u((()=>{$h(),td=Array.prototype.filter}));function nd(t){"function"!=typeof t&&(t=Wh(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],l=o.length,u=r[a]=[],c=0;c<l;++c)(i=o[c])&&t.call(i,i.__data__,c,o)&&u.push(i);return new ip(r,this._parents)}var rd=u((()=>{fp(),$h()}));function ad(t){return new Array(t.length)}var id=u((()=>{}));function od(){return new ip(this._enter||this._groups.map(ad),this._parents)}function ld(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}var ud=u((()=>{id(),fp(),ld.prototype={constructor:ld,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}}));function cd(t){return function(){return t}}var fd=u((()=>{}));function sd(t,e,n,r,a,i){for(var o,l=0,u=e.length,c=i.length;l<c;++l)(o=e[l])?(o.__data__=i[l],r[l]=o):n[l]=new ld(t,i[l]);for(;l<u;++l)(o=e[l])&&(a[l]=o)}function hd(t,e,n,r,a,i,o){var l,u,c,f=new Map,s=e.length,h=i.length,d=new Array(s);for(l=0;l<s;++l)(u=e[l])&&(d[l]=c=o.call(u,u.__data__,l,e)+"",f.has(c)?a[l]=u:f.set(c,u));for(l=0;l<h;++l)c=o.call(t,i[l],l,i)+"",(u=f.get(c))?(r[l]=u,u.__data__=i[l],f.delete(c)):n[l]=new ld(t,i[l]);for(l=0;l<s;++l)(u=e[l])&&f.get(d[l])===u&&(a[l]=u)}function dd(t){return t.__data__}function gd(t,e){if(!arguments.length)return Array.from(this,dd);var n=e?hd:sd,r=this._parents,a=this._groups;"function"!=typeof t&&(t=cd(t));for(var i=a.length,o=new Array(i),l=new Array(i),u=new Array(i),c=0;c<i;++c){var f=r[c],s=a[c],h=s.length,d=pd(t.call(f,f&&f.__data__,c,r)),g=d.length,p=l[c]=new Array(g),v=o[c]=new Array(g),m=u[c]=new Array(h);n(f,s,p,v,m,d,e);for(var y,b,x=0,_=0;x<g;++x)if(y=p[x]){for(x>=_&&(_=x+1);!(b=v[_])&&++_<g;);y._next=b||null}}return(o=new ip(o,r))._enter=l,o._exit=u,o}function pd(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}var vd=u((()=>{fp(),ud(),fd()}));function md(){return new ip(this._exit||this._groups.map(ad),this._parents)}var yd=u((()=>{id(),fp()}));function bd(t,e,n){var r=this.enter(),a=this,i=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&((a=e(a))&&(a=a.selection())),null==n?i.remove():n(i),r&&a?r.merge(a).order():a}var xd=u((()=>{}));function _d(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,a=n.length,i=r.length,o=Math.min(a,i),l=new Array(a),u=0;u<o;++u)for(var c,f=n[u],s=r[u],h=f.length,d=l[u]=new Array(h),g=0;g<h;++g)(c=f[g]||s[g])&&(d[g]=c);for(;u<a;++u)l[u]=n[u];return new ip(l,this._parents)}var wd=u((()=>{fp()}));function Sd(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,a=t[e],i=a.length-1,o=a[i];--i>=0;)(r=a[i])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this}var Md=u((()=>{}));function Ad(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=kd);for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o,l=n[i],u=l.length,c=a[i]=new Array(u),f=0;f<u;++f)(o=l[f])&&(c[f]=o);c.sort(e)}return new ip(a,this._parents).order()}function kd(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Td=u((()=>{fp()}));function Vd(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}var Nd=u((()=>{}));function Cd(){return Array.from(this)}var Ed=u((()=>{}));function zd(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}var Dd=u((()=>{}));function Pd(){let t=0;for(let e of this)++t;return t}var Id=u((()=>{}));function Rd(){return!this.node()}var Bd=u((()=>{}));function Od(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a,i=e[n],o=0,l=i.length;o<l;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}var Ld=u((()=>{}));function Yd(t){return function(){this.removeAttribute(t)}}function Fd(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ud(t,e){return function(){this.setAttribute(t,e)}}function Hd(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function jd(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Wd(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function qd(t,e){var n=Th(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Fd:Yd:"function"==typeof e?n.local?Wd:jd:n.local?Hd:Ud)(n,e))}var $d=u((()=>{Vh()}));function Gd(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}var Xd=u((()=>{}));function Qd(t){return function(){this.style.removeProperty(t)}}function Kd(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Zd(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Jd(t,e,n){return arguments.length>1?this.each((null==e?Qd:"function"==typeof e?Zd:Kd)(t,e,n??"")):tg(this.node(),t)}function tg(t,e){return t.style.getPropertyValue(e)||Gd(t).getComputedStyle(t,null).getPropertyValue(e)}var eg=u((()=>{Xd()}));function ng(t){return function(){delete this[t]}}function rg(t,e){return function(){this[t]=e}}function ag(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ig(t,e){return arguments.length>1?this.each((null==e?ng:"function"==typeof e?ag:rg)(t,e)):this.node()[t]}var og=u((()=>{}));function lg(t){return t.trim().split(/^|\s+/)}function ug(t){return t.classList||new cg(t)}function cg(t){this._node=t,this._names=lg(t.getAttribute("class")||"")}function fg(t,e){for(var n=ug(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function sg(t,e){for(var n=ug(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function hg(t){return function(){fg(this,t)}}function dg(t){return function(){sg(this,t)}}function gg(t,e){return function(){(e.apply(this,arguments)?fg:sg)(this,t)}}function pg(t,e){var n=lg(t+"");if(arguments.length<2){for(var r=ug(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?gg:e?hg:dg)(n,e))}var vg=u((()=>{cg.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}}}));function mg(){this.textContent=""}function yg(t){return function(){this.textContent=t}}function bg(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function xg(t){return arguments.length?this.each(null==t?mg:("function"==typeof t?bg:yg)(t)):this.node().textContent}var _g=u((()=>{}));function wg(){this.innerHTML=""}function Sg(t){return function(){this.innerHTML=t}}function Mg(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Ag(t){return arguments.length?this.each(null==t?wg:("function"==typeof t?Mg:Sg)(t)):this.node().innerHTML}var kg=u((()=>{}));function Tg(){this.nextSibling&&this.parentNode.appendChild(this)}function Vg(){return this.each(Tg)}var Ng=u((()=>{}));function Cg(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Eg(){return this.each(Cg)}var zg=u((()=>{}));function Dg(t){var e="function"==typeof t?t:Eh(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}var Pg=u((()=>{zh()}));function Ig(){return null}function Rg(t,e){var n="function"==typeof t?t:Eh(t),r=null==e?Ig:"function"==typeof e?e:Ph(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))}var Bg=u((()=>{zh(),Ih()}));function Og(){var t=this.parentNode;t&&t.removeChild(this)}function Lg(){return this.each(Og)}var Yg=u((()=>{}));function Fg(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ug(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Hg(t){return this.select(t?Ug:Fg)}var jg=u((()=>{}));function Wg(t){return arguments.length?this.property("__data__",t):this.node().__data__}var qg=u((()=>{}));function $g(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Gg(t){return function(){var e=this.__on;if(e){for(var n,r=0,a=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++a]=n:this.removeEventListener(n.type,n.listener,n.options);++a?e.length=a:delete this.__on}}}function Xg(t,e,n){return function(){var r,a=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(a)for(var o=0,l=a.length;o<l;++o)if((r=a[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=e);this.addEventListener(t.type,i,n),r={type:t.type,name:t.name,value:e,listener:i,options:n},a?a.push(r):this.__on=[r]}}function Qg(t,e,n){var r,a,i=$g(t+""),o=i.length;if(!(arguments.length<2)){for(l=e?Xg:Gg,r=0;r<o;++r)this.each(l(i[r],e,n));return this}var l=this.node().__on;if(l)for(var u,c=0,f=l.length;c<f;++c)for(r=0,u=l[c];r<o;++r)if((a=i[r]).type===u.type&&a.name===u.name)return u.value}var Kg=u((()=>{}));function Zg(t,e,n){var r=Gd(t),a=r.CustomEvent;"function"==typeof a?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function Jg(t,e){return function(){return Zg(this,t,e)}}function tp(t,e){return function(){return Zg(this,t,e.apply(this,arguments))}}function ep(t,e){return this.each(("function"==typeof e?tp:Jg)(t,e))}var np=u((()=>{Xd()}));function*rp(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,a=t[e],i=0,o=a.length;i<o;++i)(r=a[i])&&(yield r)}var ap=u((()=>{}));function ip(t,e){this._groups=t,this._parents=e}function op(){return new ip([[document.documentElement]],up)}function lp(){return this}var up,cp,fp=u((()=>{Bh(),jh(),Kh(),ed(),rd(),vd(),ud(),yd(),xd(),wd(),Md(),Td(),Nd(),Ed(),Dd(),Id(),Bd(),Ld(),$d(),eg(),og(),vg(),_g(),kg(),Ng(),zg(),Pg(),Bg(),Yg(),jg(),qg(),Kg(),np(),ap(),up=[null],ip.prototype=op.prototype={constructor:ip,select:Rh,selectAll:Hh,selectChild:Xh,selectChildren:Jh,filter:nd,data:gd,enter:od,exit:md,join:bd,merge:_d,selection:lp,order:Sd,sort:Ad,call:Vd,nodes:Cd,node:zd,size:Pd,empty:Rd,each:Od,attr:qd,style:Jd,property:ig,classed:pg,text:xg,html:Ag,raise:Vg,lower:Eg,append:Dg,insert:Rg,remove:Lg,clone:Hg,datum:Wg,on:Qg,dispatch:ep,[Symbol.iterator]:rp},cp=op}));function sp(t){return"string"==typeof t?new ip([[document.querySelector(t)]],[document.documentElement]):new ip([[t]],up)}var hp=u((()=>{fp()}));function dp(t){return sp(Eh(t).call(document.documentElement))}var gp=u((()=>{zh(),hp()}));function pp(){return new vp}function vp(){this._="@"+(++mp).toString(36)}var mp,yp=u((()=>{mp=0,vp.prototype=pp.prototype={constructor:vp,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}}));function bp(t){let e;for(;e=t.sourceEvent;)t=e;return t}var xp=u((()=>{}));function _p(t,e){if(t=bp(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}var wp=u((()=>{xp()}));function Sp(t,e){return t.target&&(t=bp(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>_p(t,e)))}var Mp=u((()=>{wp(),xp()}));function Ap(t){return"string"==typeof t?new ip([document.querySelectorAll(t)],[document.documentElement]):new ip([Oh(t)],up)}var kp=u((()=>{Lh(),fp()})),Tp={};f(Tp,{create:()=>dp,creator:()=>Eh,local:()=>pp,matcher:()=>Wh,namespace:()=>Th,namespaces:()=>Mh,pointer:()=>_p,pointers:()=>Sp,select:()=>sp,selectAll:()=>Ap,selection:()=>cp,selector:()=>Ph,selectorAll:()=>Fh,style:()=>tg,window:()=>Gd});var Vp=u((()=>{gp(),zh(),yp(),$h(),Vh(),kh(),wp(),Mp(),hp(),kp(),fp(),Ih(),Uh(),eg(),Xd()}));function Np(t){return function(){return t}}var Cp=u((()=>{}));function Ep(t){return t>1?0:t<-1?Fp:Math.acos(t)}function zp(t){return t>=1?Up:t<=-1?-Up:Math.asin(t)}var Dp,Pp,Ip,Rp,Bp,Op,Lp,Yp,Fp,Up,Hp,jp=u((()=>{Dp=Math.abs,Pp=Math.atan2,Ip=Math.cos,Rp=Math.max,Bp=Math.min,Op=Math.sin,Lp=Math.sqrt,Yp=1e-12,Fp=Math.PI,Up=Fp/2,Hp=2*Fp}));function Wp(t){return t.innerRadius}function qp(t){return t.outerRadius}function $p(t){return t.startAngle}function Gp(t){return t.endAngle}function Xp(t){return t&&t.padAngle}function Qp(t,e,n,r,a,i,o,l){var u=n-t,c=r-e,f=o-a,s=l-i,h=s*u-f*c;if(!(h*h<Yp))return[t+(h=(f*(e-i)-s*(t-a))/h)*u,e+h*c]}function Kp(t,e,n,r,a,i,o){var l=t-n,u=e-r,c=(o?i:-i)/Lp(l*l+u*u),f=c*u,s=-c*l,h=t+f,d=e+s,g=n+f,p=r+s,v=(h+g)/2,m=(d+p)/2,y=g-h,b=p-d,x=y*y+b*b,_=a-i,w=h*p-g*d,S=(b<0?-1:1)*Lp(Rp(0,_*_*x-w*w)),M=(w*b-y*S)/x,A=(-w*y-b*S)/x,k=(w*b+y*S)/x,T=(-w*y+b*S)/x,V=M-v,N=A-m,C=k-v,E=T-m;return V*V+N*N>C*C+E*E&&(M=k,A=T),{cx:M,cy:A,x01:-f,y01:-s,x11:M*(a/_-1),y11:A*(a/_-1)}}function Zp(){var t=Wp,e=qp,n=Np(0),r=null,a=$p,i=Gp,o=Xp,l=null;function u(){var u,c,f=+t.apply(this,arguments),s=+e.apply(this,arguments),h=a.apply(this,arguments)-Up,d=i.apply(this,arguments)-Up,g=Dp(d-h),p=d>h;if(l||(l=u=xh()),s<f&&(c=s,s=f,f=c),s>Yp)if(g>Hp-Yp)l.moveTo(s*Ip(h),s*Op(h)),l.arc(0,0,s,h,d,!p),f>Yp&&(l.moveTo(f*Ip(d),f*Op(d)),l.arc(0,0,f,d,h,p));else{var v,m,y=h,b=d,x=h,_=d,w=g,S=g,M=o.apply(this,arguments)/2,A=M>Yp&&(r?+r.apply(this,arguments):Lp(f*f+s*s)),k=Bp(Dp(s-f)/2,+n.apply(this,arguments)),T=k,V=k;if(A>Yp){var N=zp(A/f*Op(M)),C=zp(A/s*Op(M));(w-=2*N)>Yp?(x+=N*=p?1:-1,_-=N):(w=0,x=_=(h+d)/2),(S-=2*C)>Yp?(y+=C*=p?1:-1,b-=C):(S=0,y=b=(h+d)/2)}var E=s*Ip(y),z=s*Op(y),D=f*Ip(_),P=f*Op(_);if(k>Yp){var I,R=s*Ip(b),B=s*Op(b),O=f*Ip(x),L=f*Op(x);if(g<Fp&&(I=Qp(E,z,O,L,R,B,D,P))){var Y=E-I[0],F=z-I[1],U=R-I[0],H=B-I[1],j=1/Op(Ep((Y*U+F*H)/(Lp(Y*Y+F*F)*Lp(U*U+H*H)))/2),W=Lp(I[0]*I[0]+I[1]*I[1]);T=Bp(k,(f-W)/(j-1)),V=Bp(k,(s-W)/(j+1))}}S>Yp?V>Yp?(v=Kp(O,L,E,z,s,V,p),m=Kp(R,B,D,P,s,V,p),l.moveTo(v.cx+v.x01,v.cy+v.y01),V<k?l.arc(v.cx,v.cy,V,Pp(v.y01,v.x01),Pp(m.y01,m.x01),!p):(l.arc(v.cx,v.cy,V,Pp(v.y01,v.x01),Pp(v.y11,v.x11),!p),l.arc(0,0,s,Pp(v.cy+v.y11,v.cx+v.x11),Pp(m.cy+m.y11,m.cx+m.x11),!p),l.arc(m.cx,m.cy,V,Pp(m.y11,m.x11),Pp(m.y01,m.x01),!p))):(l.moveTo(E,z),l.arc(0,0,s,y,b,!p)):l.moveTo(E,z),f>Yp&&w>Yp?T>Yp?(v=Kp(D,P,R,B,f,-T,p),m=Kp(E,z,O,L,f,-T,p),l.lineTo(v.cx+v.x01,v.cy+v.y01),T<k?l.arc(v.cx,v.cy,T,Pp(v.y01,v.x01),Pp(m.y01,m.x01),!p):(l.arc(v.cx,v.cy,T,Pp(v.y01,v.x01),Pp(v.y11,v.x11),!p),l.arc(0,0,f,Pp(v.cy+v.y11,v.cx+v.x11),Pp(m.cy+m.y11,m.cx+m.x11),p),l.arc(m.cx,m.cy,T,Pp(m.y11,m.x11),Pp(m.y01,m.x01),!p))):l.arc(0,0,f,_,x,p):l.lineTo(D,P)}else l.moveTo(0,0);if(l.closePath(),u)return l=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-Fp/2;return[Ip(r)*n,Op(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Np(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Np(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Np(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Np(+t),u):r},u.startAngle=function(t){return arguments.length?(a="function"==typeof t?t:Np(+t),u):a},u.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Np(+t),u):i},u.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Np(+t),u):o},u.context=function(t){return arguments.length?(l=t??null,u):l},u}var Jp=u((()=>{Ah(),Cp(),jp()}));function tv(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}var ev,nv=u((()=>{ev=Array.prototype.slice}));function rv(t){this._context=t}function av(t){return new rv(t)}var iv=u((()=>{rv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}}}));function ov(t){return t[0]}function lv(t){return t[1]}var uv=u((()=>{}));function cv(t,e){var n=Np(!0),r=null,a=av,i=null;function o(o){var l,u,c,f=(o=tv(o)).length,s=!1;for(null==r&&(i=a(c=xh())),l=0;l<=f;++l)!(l<f&&n(u=o[l],l,o))===s&&((s=!s)?i.lineStart():i.lineEnd()),s&&i.point(+t(u,l,o),+e(u,l,o));if(c)return i=null,c+""||null}return t="function"==typeof t?t:void 0===t?ov:Np(t),e="function"==typeof e?e:void 0===e?lv:Np(e),o.x=function(e){return arguments.length?(t="function"==typeof e?e:Np(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:Np(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:Np(!!t),o):n},o.curve=function(t){return arguments.length?(a=t,null!=r&&(i=a(r)),o):a},o.context=function(t){return arguments.length?(null==t?r=i=null:i=a(r=t),o):r},o}var fv=u((()=>{Ah(),nv(),Cp(),iv(),uv()}));function sv(t,e,n){var r=null,a=Np(!0),i=null,o=av,l=null;function u(u){var c,f,s,h,d,g=(u=tv(u)).length,p=!1,v=new Array(g),m=new Array(g);for(null==i&&(l=o(d=xh())),c=0;c<=g;++c){if(!(c<g&&a(h=u[c],c,u))===p)if(p=!p)f=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),s=c-1;s>=f;--s)l.point(v[s],m[s]);l.lineEnd(),l.areaEnd()}p&&(v[c]=+t(h,c,u),m[c]=+e(h,c,u),l.point(r?+r(h,c,u):v[c],n?+n(h,c,u):m[c]))}if(d)return l=null,d+""||null}function c(){return cv().defined(a).curve(o).context(i)}return t="function"==typeof t?t:void 0===t?ov:Np(+t),e="function"==typeof e?e:Np(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?lv:Np(+n),u.x=function(e){return arguments.length?(t="function"==typeof e?e:Np(+e),r=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:Np(+e),u):t},u.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Np(+t),u):r},u.y=function(t){return arguments.length?(e="function"==typeof t?t:Np(+t),n=null,u):e},u.y0=function(t){return arguments.length?(e="function"==typeof t?t:Np(+t),u):e},u.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:Np(+t),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(t){return arguments.length?(a="function"==typeof t?t:Np(!!t),u):a},u.curve=function(t){return arguments.length?(o=t,null!=i&&(l=o(i)),u):o},u.context=function(t){return arguments.length?(null==t?i=l=null:l=o(i=t),u):i},u}var hv=u((()=>{Ah(),nv(),Cp(),iv(),fv(),uv()}));function dv(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}var gv=u((()=>{}));function pv(t){return t}var vv=u((()=>{}));function mv(){var t=pv,e=dv,n=null,r=Np(0),a=Np(Hp),i=Np(0);function o(o){var l,u,c,f,s,h=(o=tv(o)).length,d=0,g=new Array(h),p=new Array(h),v=+r.apply(this,arguments),m=Math.min(Hp,Math.max(-Hp,a.apply(this,arguments)-v)),y=Math.min(Math.abs(m)/h,i.apply(this,arguments)),b=y*(m<0?-1:1);for(l=0;l<h;++l)(s=p[g[l]=l]=+t(o[l],l,o))>0&&(d+=s);for(null!=e?g.sort((function(t,n){return e(p[t],p[n])})):null!=n&&g.sort((function(t,e){return n(o[t],o[e])})),l=0,c=d?(m-h*b)/d:0;l<h;++l,v=f)u=g[l],f=v+((s=p[u])>0?s*c:0)+b,p[u]={data:o[u],index:l,value:s,startAngle:v,endAngle:f,padAngle:y};return p}return o.value=function(e){return arguments.length?(t="function"==typeof e?e:Np(+e),o):t},o.sortValues=function(t){return arguments.length?(e=t,n=null,o):e},o.sort=function(t){return arguments.length?(n=t,e=null,o):n},o.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Np(+t),o):r},o.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:Np(+t),o):a},o.padAngle=function(t){return arguments.length?(i="function"==typeof t?t:Np(+t),o):i},o}var yv=u((()=>{nv(),Cp(),gv(),vv(),jp()}));function bv(t){this._curve=t}function xv(t){function e(e){return new bv(t(e))}return e._curve=t,e}var _v,wv=u((()=>{iv(),_v=xv(av),bv.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}}}));function Sv(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(xv(t)):e()._curve},t}function Mv(){return Sv(cv().curve(_v))}var Av=u((()=>{wv(),fv()}));function kv(){var t=sv().curve(_v),e=t.curve,n=t.lineX0,r=t.lineX1,a=t.lineY0,i=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Sv(n())},delete t.lineX0,t.lineEndAngle=function(){return Sv(r())},delete t.lineX1,t.lineInnerRadius=function(){return Sv(a())},delete t.lineY0,t.lineOuterRadius=function(){return Sv(i())},delete t.lineY1,t.curve=function(t){return arguments.length?e(xv(t)):e()._curve},t}var Tv=u((()=>{wv(),hv(),Av()}));function Vv(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var Nv=u((()=>{}));function Cv(t){return t.source}function Ev(t){return t.target}function zv(t){var e=Cv,n=Ev,r=ov,a=lv,i=null;function o(){var o,l=ev.call(arguments),u=e.apply(this,l),c=n.apply(this,l);if(i||(i=o=xh()),t(i,+r.apply(this,(l[0]=u,l)),+a.apply(this,l),+r.apply(this,(l[0]=c,l)),+a.apply(this,l)),o)return i=null,o+""||null}return o.source=function(t){return arguments.length?(e=t,o):e},o.target=function(t){return arguments.length?(n=t,o):n},o.x=function(t){return arguments.length?(r="function"==typeof t?t:Np(+t),o):r},o.y=function(t){return arguments.length?(a="function"==typeof t?t:Np(+t),o):a},o.context=function(t){return arguments.length?(i=t??null,o):i},o}function Dv(t,e,n,r,a){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,a,r,a)}function Pv(t,e,n,r,a){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+a)/2,r,n,r,a)}function Iv(t,e,n,r,a){var i=Vv(e,n),o=Vv(e,n=(n+a)/2),l=Vv(r,n),u=Vv(r,a);t.moveTo(i[0],i[1]),t.bezierCurveTo(o[0],o[1],l[0],l[1],u[0],u[1])}function Rv(){return zv(Dv)}function Bv(){return zv(Pv)}function Ov(){var t=zv(Iv);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var Lv,Yv,Fv,Uv,Hv,jv,Wv,qv,$v,Gv,Xv,Qv,Kv,Zv,Jv,tm,em,nm=u((()=>{Ah(),nv(),Cp(),uv(),Nv()})),rm=u((()=>{jp(),Lv={draw:function(t,e){var n=Math.sqrt(e/Fp);t.moveTo(n,0),t.arc(0,0,n,0,Hp)}}})),am=u((()=>{Yv={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}}})),im=u((()=>{Fv=Math.sqrt(.3333333333333333),Uv=2*Fv,Hv={draw:function(t,e){var n=Math.sqrt(e/Uv),r=n*Fv;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}}})),om=u((()=>{jp(),.8908130915292852,jv=Math.sin(Fp/10)/Math.sin(7*Fp/10),Wv=Math.sin(Hp/10)*jv,qv=-Math.cos(Hp/10)*jv,$v={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=Wv*n,a=qv*n;t.moveTo(0,-n),t.lineTo(r,a);for(var i=1;i<5;++i){var o=Hp*i/5,l=Math.cos(o),u=Math.sin(o);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*a,u*r+l*a)}t.closePath()}}})),lm=u((()=>{Gv={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}}})),um=u((()=>{Xv=Math.sqrt(3),Qv={draw:function(t,e){var n=-Math.sqrt(e/(3*Xv));t.moveTo(0,2*n),t.lineTo(-Xv*n,-n),t.lineTo(Xv*n,-n),t.closePath()}}})),cm=u((()=>{Kv=-.5,Zv=Math.sqrt(3)/2,Jv=1/Math.sqrt(12),tm=3*(Jv/2+1),em={draw:function(t,e){var n=Math.sqrt(e/tm),r=n/2,a=n*Jv,i=r,o=n*Jv+n,l=-i,u=o;t.moveTo(r,a),t.lineTo(i,o),t.lineTo(l,u),t.lineTo(Kv*r-Zv*a,Zv*r+Kv*a),t.lineTo(Kv*i-Zv*o,Zv*i+Kv*o),t.lineTo(Kv*l-Zv*u,Zv*l+Kv*u),t.lineTo(Kv*r+Zv*a,Kv*a-Zv*r),t.lineTo(Kv*i+Zv*o,Kv*o-Zv*i),t.lineTo(Kv*l+Zv*u,Kv*u-Zv*l),t.closePath()}}}));function fm(t,e){var n=null;function r(){var r;if(n||(n=r=xh()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return t="function"==typeof t?t:Np(t||Lv),e="function"==typeof e?e:Np(void 0===e?64:+e),r.type=function(e){return arguments.length?(t="function"==typeof e?e:Np(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:Np(+t),r):e},r.context=function(t){return arguments.length?(n=t??null,r):n},r}var sm,hm=u((()=>{Ah(),rm(),am(),im(),om(),lm(),um(),cm(),Cp(),sm=[Lv,Yv,Hv,Gv,$v,Qv,em]}));function dm(){}var gm=u((()=>{}));function pm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function vm(t){this._context=t}function mm(t){return new vm(t)}var ym=u((()=>{vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pm(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}}}));function bm(t){this._context=t}function xm(t){return new bm(t)}var _m=u((()=>{gm(),ym(),bm.prototype={areaStart:dm,areaEnd:dm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:pm(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}}}));function wm(t){this._context=t}function Sm(t){return new wm(t)}var Mm=u((()=>{ym(),wm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:pm(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}}}));function Am(t){return new Tm(t,!0)}function km(t){return new Tm(t,!1)}var Tm,Vm=u((()=>{Tm=class{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}}));function Nm(t,e){this._basis=new vm(t),this._beta=e}var Cm,Em=u((()=>{ym(),Nm.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,a=t[0],i=e[0],o=t[n]-a,l=e[n]-i,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(a+r*o),this._beta*e[u]+(1-this._beta)*(i+r*l));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Cm=function t(e){function n(t){return 1===e?new vm(t):new Nm(t,e)}return n.beta=function(e){return t(+e)},n}(.85)}));function zm(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Dm(t,e){this._context=t,this._k=(1-e)/6}var Pm,Im=u((()=>{Dm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:zm(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:zm(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},Pm=function t(e){function n(t){return new Dm(t,e)}return n.tension=function(e){return t(+e)},n}(0)}));function Rm(t,e){this._context=t,this._k=(1-e)/6}var Bm,Om=u((()=>{gm(),Im(),Rm.prototype={areaStart:dm,areaEnd:dm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:zm(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},Bm=function t(e){function n(t){return new Rm(t,e)}return n.tension=function(e){return t(+e)},n}(0)}));function Lm(t,e){this._context=t,this._k=(1-e)/6}var Ym,Fm=u((()=>{Im(),Lm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zm(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},Ym=function t(e){function n(t){return new Lm(t,e)}return n.tension=function(e){return t(+e)},n}(0)}));function Um(t,e,n){var r=t._x1,a=t._y1,i=t._x2,o=t._y2;if(t._l01_a>Yp){var l=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*l-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,a=(a*l-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Yp){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);i=(i*c+t._x1*t._l23_2a-e*t._l12_2a)/f,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/f}t._context.bezierCurveTo(r,a,i,o,t._x2,t._y2)}function Hm(t,e){this._context=t,this._alpha=e}var jm,Wm=u((()=>{jp(),Im(),Hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Um(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},jm=function t(e){function n(t){return e?new Hm(t,e):new Dm(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)}));function qm(t,e){this._context=t,this._alpha=e}var $m,Gm=u((()=>{Om(),gm(),Wm(),qm.prototype={areaStart:dm,areaEnd:dm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Um(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},$m=function t(e){function n(t){return e?new qm(t,e):new Rm(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)}));function Xm(t,e){this._context=t,this._alpha=e}var Qm,Km=u((()=>{Fm(),Wm(),Xm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Um(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},Qm=function t(e){function n(t){return e?new Xm(t,e):new Lm(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)}));function Zm(t){this._context=t}function Jm(t){return new Zm(t)}var ty=u((()=>{gm(),Zm.prototype={areaStart:dm,areaEnd:dm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}}}));function ey(t){return t<0?-1:1}function ny(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),o=(n-t._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(ey(i)+ey(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function ry(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ay(t,e,n){var r=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-r)/3;t._context.bezierCurveTo(r+l,a+l*e,i-l,o-l*n,i,o)}function iy(t){this._context=t}function oy(t){this._context=new ly(t)}function ly(t){this._context=t}function uy(t){return new iy(t)}function cy(t){return new oy(t)}var fy=u((()=>{iy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ay(this,this._t0,ry(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ay(this,ry(this,n=ny(this,t,e)),n);break;default:ay(this,this._t0,n=ny(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(oy.prototype=Object.create(iy.prototype)).point=function(t,e){iy.prototype.point.call(this,e,t)},ly.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}}}));function sy(t){this._context=t}function hy(t){var e,n,r=t.length-1,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function dy(t){return new sy(t)}var gy=u((()=>{sy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=hy(t),a=hy(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}}}));function py(t,e){this._context=t,this._t=e}function vy(t){return new py(t,.5)}function my(t){return new py(t,0)}function yy(t){return new py(t,1)}var by=u((()=>{py.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}}}));function xy(t,e){if((a=t.length)>1)for(var n,r,a,i=1,o=t[e[0]],l=o.length;i<a;++i)for(r=o,o=t[e[i]],n=0;n<l;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}var _y=u((()=>{}));function wy(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}var Sy=u((()=>{}));function My(t,e){return t[e]}function Ay(t){let e=[];return e.key=t,e}function ky(){var t=Np([]),e=wy,n=xy,r=My;function a(a){var i,o,l=Array.from(t.apply(this,arguments),Ay),u=l.length,c=-1;for(let t of a)for(i=0,++c;i<u;++i)(l[i][c]=[0,+r(t,l[i].key,c,a)]).data=t;for(i=0,o=tv(e(l));i<u;++i)l[o[i]].index=i;return n(l,o),l}return a.keys=function(e){return arguments.length?(t="function"==typeof e?e:Np(Array.from(e)),a):t},a.value=function(t){return arguments.length?(r="function"==typeof t?t:Np(+t),a):r},a.order=function(t){return arguments.length?(e=null==t?wy:"function"==typeof t?t:Np(Array.from(t)),a):e},a.offset=function(t){return arguments.length?(n=t??xy,a):n},a}var Ty=u((()=>{nv(),Cp(),_y(),Sy()}));function Vy(t,e){if((r=t.length)>0){for(var n,r,a,i=0,o=t[0].length;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}xy(t,e)}}var Ny=u((()=>{_y()}));function Cy(t,e){if((l=t.length)>0)for(var n,r,a,i,o,l,u=0,c=t[e[0]].length;u<c;++u)for(i=o=0,n=0;n<l;++n)(a=(r=t[e[n]][u])[1]-r[0])>0?(r[0]=i,r[1]=i+=a):a<0?(r[1]=o,r[0]=o+=a):(r[0]=0,r[1]=a)}var Ey=u((()=>{}));function zy(t,e){if((n=t.length)>0){for(var n,r=0,a=t[e[0]],i=a.length;r<i;++r){for(var o=0,l=0;o<n;++o)l+=t[o][r][1]||0;a[r][1]+=a[r][0]=-l/2}xy(t,e)}}var Dy=u((()=>{_y()}));function Py(t,e){if((a=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,a,i=0,o=1;o<r;++o){for(var l=0,u=0,c=0;l<a;++l){for(var f=t[e[l]],s=f[o][1]||0,h=(s-(f[o-1][1]||0))/2,d=0;d<l;++d){var g=t[e[d]];h+=(g[o][1]||0)-(g[o-1][1]||0)}u+=s,c+=h*s}n[o-1][1]+=n[o-1][0]=i,u&&(i-=c/u)}n[o-1][1]+=n[o-1][0]=i,xy(t,e)}}var Iy=u((()=>{_y()}));function Ry(t){var e=t.map(By);return wy(t).sort((function(t,n){return e[t]-e[n]}))}function By(t){for(var e,n=-1,r=0,a=t.length,i=-1/0;++n<a;)(e=+t[n][1])>i&&(i=e,r=n);return r}var Oy=u((()=>{Sy()}));function Ly(t){var e=t.map(Yy);return wy(t).sort((function(t,n){return e[t]-e[n]}))}function Yy(t){for(var e,n=0,r=-1,a=t.length;++r<a;)(e=+t[r][1])&&(n+=e);return n}var Fy=u((()=>{Sy()}));function Uy(t){return Ly(t).reverse()}var Hy=u((()=>{Fy()}));function jy(t){var e,n,r=t.length,a=t.map(Yy),i=Ry(t),o=0,l=0,u=[],c=[];for(e=0;e<r;++e)n=i[e],o<l?(o+=a[n],u.push(n)):(l+=a[n],c.push(n));return c.reverse().concat(u)}var Wy=u((()=>{Oy(),Fy()}));function qy(t){return wy(t).reverse()}var $y=u((()=>{Sy()})),Gy={};f(Gy,{arc:()=>Zp,area:()=>sv,areaRadial:()=>kv,curveBasis:()=>mm,curveBasisClosed:()=>xm,curveBasisOpen:()=>Sm,curveBumpX:()=>Am,curveBumpY:()=>km,curveBundle:()=>Cm,curveCardinal:()=>Pm,curveCardinalClosed:()=>Bm,curveCardinalOpen:()=>Ym,curveCatmullRom:()=>jm,curveCatmullRomClosed:()=>$m,curveCatmullRomOpen:()=>Qm,curveLinear:()=>av,curveLinearClosed:()=>Jm,curveMonotoneX:()=>uy,curveMonotoneY:()=>cy,curveNatural:()=>dy,curveStep:()=>vy,curveStepAfter:()=>yy,curveStepBefore:()=>my,line:()=>cv,lineRadial:()=>Mv,linkHorizontal:()=>Rv,linkRadial:()=>Ov,linkVertical:()=>Bv,pie:()=>mv,pointRadial:()=>Vv,radialArea:()=>kv,radialLine:()=>Mv,stack:()=>ky,stackOffsetDiverging:()=>Cy,stackOffsetExpand:()=>Vy,stackOffsetNone:()=>xy,stackOffsetSilhouette:()=>zy,stackOffsetWiggle:()=>Py,stackOrderAppearance:()=>Ry,stackOrderAscending:()=>Ly,stackOrderDescending:()=>Uy,stackOrderInsideOut:()=>jy,stackOrderNone:()=>wy,stackOrderReverse:()=>qy,symbol:()=>fm,symbolCircle:()=>Lv,symbolCross:()=>Yv,symbolDiamond:()=>Hv,symbolSquare:()=>Gv,symbolStar:()=>$v,symbolTriangle:()=>Qv,symbolWye:()=>em,symbols:()=>sm});var Xy=u((()=>{Jp(),hv(),fv(),yv(),Tv(),Av(),Nv(),nm(),hm(),rm(),am(),im(),lm(),om(),um(),cm(),_m(),Mm(),ym(),Vm(),Em(),Om(),Fm(),Im(),Gm(),Km(),Wm(),ty(),iv(),fy(),gy(),by(),Ty(),Ny(),Ey(),_y(),Dy(),Iy(),Oy(),Fy(),Hy(),Wy(),Sy(),$y()}));function Qy(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}var Ky,Zy,Jy,tb,eb,nb,rb,ab,ib,ob,lb,ub,cb,fb,sb,hb,db,gb,pb,vb,mb,yb,bb,xb,_b,wb,Sb,Mb,Ab,kb,Tb,Vb,Nb,Cb,Eb,zb,Db,Pb,Ib,Rb,Bb,Ob,Lb,Yb,Fb,Ub,Hb,jb,Wb,qb,$b,Gb,Xb,Qb,Kb,Zb,Jb,tx,ex,nx,rx,ax,ix,ox,lx,ux=u((()=>{})),cx=u((()=>{ux(),Ky=Qy("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")})),fx=u((()=>{ux(),Zy=Qy("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")})),sx=u((()=>{ux(),Jy=Qy("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")})),hx=u((()=>{ux(),tb=Qy("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")})),dx=u((()=>{ux(),eb=Qy("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")})),gx=u((()=>{ux(),nb=Qy("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")})),px=u((()=>{ux(),rb=Qy("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")})),vx=u((()=>{ux(),ab=Qy("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")})),mx=u((()=>{ux(),ib=Qy("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")})),yx=u((()=>{ux(),ob=Qy("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")})),bx=u((()=>{si(),lb=t=>Aa(t[t.length-1])})),xx=u((()=>{ux(),bx(),ub=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Qy),cb=lb(ub)})),_x=u((()=>{ux(),bx(),fb=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Qy),sb=lb(fb)})),wx=u((()=>{ux(),bx(),hb=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Qy),db=lb(hb)})),Sx=u((()=>{ux(),bx(),gb=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Qy),pb=lb(gb)})),Mx=u((()=>{ux(),bx(),vb=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Qy),mb=lb(vb)})),Ax=u((()=>{ux(),bx(),yb=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Qy),bb=lb(yb)})),kx=u((()=>{ux(),bx(),xb=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Qy),_b=lb(xb)})),Tx=u((()=>{ux(),bx(),wb=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Qy),Sb=lb(wb)})),Vx=u((()=>{ux(),bx(),Mb=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Qy),Ab=lb(Mb)})),Nx=u((()=>{ux(),bx(),kb=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Qy),Tb=lb(kb)})),Cx=u((()=>{ux(),bx(),Vb=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Qy),Nb=lb(Vb)})),Ex=u((()=>{ux(),bx(),Cb=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Qy),Eb=lb(Cb)})),zx=u((()=>{ux(),bx(),zb=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Qy),Db=lb(zb)})),Dx=u((()=>{ux(),bx(),Pb=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Qy),Ib=lb(Pb)})),Px=u((()=>{ux(),bx(),Rb=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Qy),Bb=lb(Rb)})),Ix=u((()=>{ux(),bx(),Ob=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Qy),Lb=lb(Ob)})),Rx=u((()=>{ux(),bx(),Yb=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Qy),Fb=lb(Yb)})),Bx=u((()=>{ux(),bx(),Ub=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Qy),Hb=lb(Ub)})),Ox=u((()=>{ux(),bx(),jb=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Qy),Wb=lb(jb)})),Lx=u((()=>{ux(),bx(),qb=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Qy),$b=lb(qb)})),Yx=u((()=>{ux(),bx(),Gb=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Qy),Xb=lb(Gb)})),Fx=u((()=>{ux(),bx(),Qb=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Qy),Kb=lb(Qb)})),Ux=u((()=>{ux(),bx(),Zb=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Qy),Jb=lb(Zb)})),Hx=u((()=>{ux(),bx(),tx=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Qy),ex=lb(tx)})),jx=u((()=>{ux(),bx(),nx=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Qy),rx=lb(nx)})),Wx=u((()=>{ux(),bx(),ax=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Qy),ix=lb(ax)})),qx=u((()=>{ux(),bx(),ox=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Qy),lx=lb(ox)}));function $x(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var Gx,Xx=u((()=>{})),Qx=u((()=>{fa(),si(),Gx=li(Jr(300,.5,0),Jr(-240,.5,1))}));function Kx(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return t_.h=360*t-100,t_.s=1.5-1.5*e,t_.l=.8-.9*e,t_+""}var Zx,Jx,t_,e_=u((()=>{fa(),si(),Zx=li(Jr(-100,.75,.35),Jr(80,1.5,.8)),Jx=li(Jr(260,.75,.35),Jr(80,1.5,.8)),t_=Jr()}));function n_(t){var e;return t=(.5-t)*Math.PI,r_.r=255*(e=Math.sin(t))*e,r_.g=255*(e=Math.sin(t+a_))*e,r_.b=255*(e=Math.sin(t+i_))*e,r_+""}var r_,a_,i_,o_=u((()=>{fa(),r_=Ar(),a_=Math.PI/3,i_=2*Math.PI/3}));function l_(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}var u_=u((()=>{}));function c_(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var f_,s_,h_,d_,g_=u((()=>{ux(),f_=c_(Qy("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),s_=c_(Qy("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),h_=c_(Qy("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),d_=c_(Qy("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))})),p_={};f(p_,{interpolateBlues:()=>Kb,interpolateBrBG:()=>cb,interpolateBuGn:()=>Tb,interpolateBuPu:()=>Nb,interpolateCividis:()=>$x,interpolateCool:()=>Jx,interpolateCubehelixDefault:()=>Gx,interpolateGnBu:()=>Eb,interpolateGreens:()=>Jb,interpolateGreys:()=>ex,interpolateInferno:()=>h_,interpolateMagma:()=>s_,interpolateOrRd:()=>Db,interpolateOranges:()=>lx,interpolatePRGn:()=>sb,interpolatePiYG:()=>db,interpolatePlasma:()=>d_,interpolatePuBu:()=>Bb,interpolatePuBuGn:()=>Ib,interpolatePuOr:()=>pb,interpolatePuRd:()=>Lb,interpolatePurples:()=>rx,interpolateRainbow:()=>Kx,interpolateRdBu:()=>mb,interpolateRdGy:()=>bb,interpolateRdPu:()=>Fb,interpolateRdYlBu:()=>_b,interpolateRdYlGn:()=>Sb,interpolateReds:()=>ix,interpolateSinebow:()=>n_,interpolateSpectral:()=>Ab,interpolateTurbo:()=>l_,interpolateViridis:()=>f_,interpolateWarm:()=>Zx,interpolateYlGn:()=>Wb,interpolateYlGnBu:()=>Hb,interpolateYlOrBr:()=>$b,interpolateYlOrRd:()=>Xb,schemeAccent:()=>Zy,schemeBlues:()=>Qb,schemeBrBG:()=>ub,schemeBuGn:()=>kb,schemeBuPu:()=>Vb,schemeCategory10:()=>Ky,schemeDark2:()=>Jy,schemeGnBu:()=>Cb,schemeGreens:()=>Zb,schemeGreys:()=>tx,schemeOrRd:()=>zb,schemeOranges:()=>ox,schemePRGn:()=>fb,schemePaired:()=>tb,schemePastel1:()=>eb,schemePastel2:()=>nb,schemePiYG:()=>hb,schemePuBu:()=>Rb,schemePuBuGn:()=>Pb,schemePuOr:()=>gb,schemePuRd:()=>Ob,schemePurples:()=>nx,schemeRdBu:()=>vb,schemeRdGy:()=>yb,schemeRdPu:()=>Yb,schemeRdYlBu:()=>xb,schemeRdYlGn:()=>wb,schemeReds:()=>ax,schemeSet1:()=>rb,schemeSet2:()=>ab,schemeSet3:()=>ib,schemeSpectral:()=>Mb,schemeTableau10:()=>ob,schemeYlGn:()=>jb,schemeYlGnBu:()=>Ub,schemeYlOrBr:()=>qb,schemeYlOrRd:()=>Gb});var v_=u((()=>{cx(),fx(),sx(),hx(),dx(),gx(),px(),vx(),mx(),yx(),xx(),_x(),wx(),Sx(),Mx(),Ax(),kx(),Tx(),Vx(),Nx(),Cx(),Ex(),zx(),Dx(),Px(),Ix(),Rx(),Bx(),Ox(),Lx(),Yx(),Fx(),Ux(),Hx(),jx(),Wx(),qx(),Xx(),Qx(),e_(),o_(),u_(),g_()}));function m_(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new y_(r)}function y_(t){this._=t}function b_(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function x_(t,e){for(var n,r=0,a=t.length;r<a;++r)if((n=t[r]).name===e)return n.value}function __(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=w_,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}var w_,S_,M_=u((()=>{w_={value:()=>{}},y_.prototype=m_.prototype={constructor:y_,on:function(t,e){var n,r=this._,a=b_(t+"",r),i=-1,o=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<o;)if(n=(t=a[i]).type)r[n]=__(r[n],t.name,e);else if(null==e)for(n in r)r[n]=__(r[n],t.name,null);return this}for(;++i<o;)if((n=(t=a[i]).type)&&(n=x_(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new y_(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,a)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}},S_=m_})),A_={};f(A_,{dispatch:()=>S_});var k_=u((()=>{M_()}));function T_(t){t.stopImmediatePropagation()}function V_(t){t.preventDefault(),t.stopImmediatePropagation()}var N_,C_,E_=u((()=>{N_={passive:!1},C_={capture:!0,passive:!1}}));function z_(t){var e=t.document.documentElement,n=sp(t).on("dragstart.drag",V_,C_);"onselectstart"in e?n.on("selectstart.drag",V_,C_):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function D_(t,e){var n=t.document.documentElement,r=sp(t).on("dragstart.drag",null);e&&(r.on("click.drag",V_,C_),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var P_,I_=u((()=>{Vp(),E_()})),R_=u((()=>{P_=t=>()=>t}));function B_(t,{sourceEvent:e,subject:n,target:r,identifier:a,active:i,x:o,y:l,dx:u,dy:c,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}var O_=u((()=>{B_.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}}));function L_(t){return!t.ctrlKey&&!t.button}function Y_(){return this.parentNode}function F_(t,e){return e??{x:t.x,y:t.y}}function U_(){return navigator.maxTouchPoints||"ontouchstart"in this}function H_(){var t,e,n,r,a=L_,i=Y_,o=F_,l=U_,u={},c=S_("start","drag","end"),f=0,s=0;function h(t){t.on("mousedown.drag",d).filter(l).on("touchstart.drag",v).on("touchmove.drag",m,N_).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(o,l){if(!r&&a.call(this,o,l)){var u=b(this,i.call(this,o,l),o,l,"mouse");!u||(sp(o.view).on("mousemove.drag",g,C_).on("mouseup.drag",p,C_),z_(o.view),T_(o),n=!1,t=o.clientX,e=o.clientY,u("start",o))}}function g(r){if(V_(r),!n){var a=r.clientX-t,i=r.clientY-e;n=a*a+i*i>s}u.mouse("drag",r)}function p(t){sp(t.view).on("mousemove.drag mouseup.drag",null),D_(t.view,n),V_(t),u.mouse("end",t)}function v(t,e){if(a.call(this,t,e)){var n,r,o=t.changedTouches,l=i.call(this,t,e),u=o.length;for(n=0;n<u;++n)(r=b(this,l,t,e,o[n].identifier,o[n]))&&(T_(t),r("start",t,o[n]))}}function m(t){var e,n,r=t.changedTouches,a=r.length;for(e=0;e<a;++e)(n=u[r[e].identifier])&&(V_(t),n("drag",t,r[e]))}function y(t){var e,n,a=t.changedTouches,i=a.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<i;++e)(n=u[a[e].identifier])&&(T_(t),n("end",t,a[e]))}function b(t,e,n,r,a,i){var l,s,d,g=c.copy(),p=_p(i||n,e);if(null!=(d=o.call(t,new B_("beforestart",{sourceEvent:n,target:h,identifier:a,active:f,x:p[0],y:p[1],dx:0,dy:0,dispatch:g}),r)))return l=d.x-p[0]||0,s=d.y-p[1]||0,function n(i,o,c){var v,m=p;switch(i){case"start":u[a]=n,v=f++;break;case"end":delete u[a],--f;case"drag":p=_p(c||o,e),v=f}g.call(i,t,new B_(i,{sourceEvent:o,subject:d,target:h,identifier:a,active:v,x:p[0]+l,y:p[1]+s,dx:p[0]-m[0],dy:p[1]-m[1],dispatch:g}),r)}}return h.filter=function(t){return arguments.length?(a="function"==typeof t?t:P_(!!t),h):a},h.container=function(t){return arguments.length?(i="function"==typeof t?t:P_(t),h):i},h.subject=function(t){return arguments.length?(o="function"==typeof t?t:P_(t),h):o},h.touchable=function(t){return arguments.length?(l="function"==typeof t?t:P_(!!t),h):l},h.on=function(){var t=c.on.apply(c,arguments);return t===c?h:t},h.clickDistance=function(t){return arguments.length?(s=(t=+t)*t,h):Math.sqrt(s)},h}var j_=u((()=>{k_(),Vp(),I_(),E_(),R_(),O_()})),W_=u((()=>{j_(),I_()}));function q_(){return ow||(cw($_),ow=uw.now()+lw)}function $_(){ow=0}function G_(){this._call=this._time=this._next=null}function X_(t,e,n){var r=new G_;return r.restart(t,e,n),r}function Q_(){ow=(iw=uw.now())+lw,J_=tw=0;try{!function(){q_(),++J_;for(var t,e=rw;e;)(t=ow-e._time)>=0&&e._call.call(void 0,t),e=e._next;--J_}()}finally{J_=0,function(){for(var t,e,n=rw,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:rw=e);aw=t,Z_(r)}(),ow=0}}function K_(){var t=uw.now(),e=t-iw;e>nw&&(lw-=e,iw=t)}function Z_(t){J_||(tw&&(tw=clearTimeout(tw)),t-ow>24?(t<1/0&&(tw=setTimeout(Q_,t-uw.now()-lw)),ew&&(ew=clearInterval(ew))):(ew||(iw=uw.now(),ew=setInterval(K_,nw)),J_=1,cw(Q_)))}var J_,tw,ew,nw,rw,aw,iw,ow,lw,uw,cw,fw=u((()=>{J_=0,tw=0,ew=0,nw=1e3,iw=0,ow=0,lw=0,uw="object"==typeof performance&&performance.now?performance:Date,cw="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)},G_.prototype=X_.prototype={constructor:G_,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?q_():+n)+(null==e?0:+e),!this._next&&aw!==this&&(aw?aw._next=this:rw=this,aw=this),this._call=t,this._time=n,Z_()},stop:function(){this._call&&(this._call=null,this._time=1/0,Z_())}}}));function sw(t,e,n){var r=new G_;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}var hw=u((()=>{fw()})),dw=u((()=>{fw(),hw()}));function gw(t,e,n,r,a,i){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,a=t.__transition;function i(t){n.state=_w,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(i){var c,f,s,h;if(n.state!==_w)return u();for(c in a)if((h=a[c]).name===n.name){if(h.state===Sw)return sw(o);h.state===Mw?(h.state=kw,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete a[c]):+c<e&&(h.state=kw,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete a[c])}if(sw((function(){n.state===Sw&&(n.state=Mw,n.timer.restart(l,n.delay,n.time),l(i))})),n.state=ww,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ww){for(n.state=Sw,r=new Array(s=n.tween.length),c=0,f=-1;c<s;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++f]=h);r.length=f+1}}function l(e){for(var a=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=Aw,1),i=-1,o=r.length;++i<o;)r[i].call(t,a);n.state===Aw&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=kw,n.timer.stop(),delete a[e],a)return;delete t.__transition}a[e]=n,n.timer=X_(i,0,n.time)}(t,n,{name:e,index:r,group:a,on:yw,tween:bw,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:xw})}function pw(t,e){var n=mw(t,e);if(n.state>xw)throw new Error("too late; already scheduled");return n}function vw(t,e){var n=mw(t,e);if(n.state>Sw)throw new Error("too late; already running");return n}function mw(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var yw,bw,xw,_w,ww,Sw,Mw,Aw,kw,Tw=u((()=>{k_(),dw(),yw=S_("start","end","cancel","interrupt"),bw=[],xw=0,_w=1,ww=2,Sw=3,Mw=4,Aw=5,kw=6}));function Vw(t,e){var n,r,a,i=t.__transition,o=!0;if(i){for(a in e=null==e?null:e+"",i)(n=i[a]).name===e?(r=n.state>ww&&n.state<Aw,n.state=kw,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[a]):o=!1;o&&delete t.__transition}}var Nw=u((()=>{Tw()}));function Cw(t){return this.each((function(){Vw(this,t)}))}var Ew=u((()=>{Nw()}));function zw(t,e){var n,r;return function(){var a=vw(this,t),i=a.tween;if(i!==n)for(var o=0,l=(r=n=i).length;o<l;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}a.tween=r}}function Dw(t,e,n){var r,a;if("function"!=typeof n)throw new Error;return function(){var i=vw(this,t),o=i.tween;if(o!==r){a=(r=o).slice();for(var l={name:e,value:n},u=0,c=a.length;u<c;++u)if(a[u].name===e){a[u]=l;break}u===c&&a.push(l)}i.tween=a}}function Pw(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,a=mw(this.node(),n).tween,i=0,o=a.length;i<o;++i)if((r=a[i]).name===t)return r.value;return null}return this.each((null==e?zw:Dw)(n,t,e))}function Iw(t,e,n){var r=t._id;return t.each((function(){var t=vw(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return mw(t,r).value[e]}}var Rw=u((()=>{Tw()}));function Bw(t,e){var n;return("number"==typeof e?Da:e instanceof _r?Ma:(n=_r(e))?(e=n,Ma):Ba)(t,e)}var Ow=u((()=>{fa(),si()}));function Lw(t){return function(){this.removeAttribute(t)}}function Yw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Fw(t,e,n){var r,a,i=n+"";return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function Uw(t,e,n){var r,a,i=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function Hw(t,e,n){var r,a,i;return function(){var o,l,u=n(this);return null==u?void this.removeAttribute(t):(o=this.getAttribute(t))===(l=u+"")?null:o===r&&l===a?i:(a=l,i=e(r=o,u))}}function jw(t,e,n){var r,a,i;return function(){var o,l,u=n(this);return null==u?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local))===(l=u+"")?null:o===r&&l===a?i:(a=l,i=e(r=o,u))}}function Ww(t,e){var n=Th(t),r="transform"===n?ei:Bw;return this.attrTween(t,"function"==typeof e?(n.local?jw:Hw)(n,r,Iw(this,"attr."+t,e)):null==e?(n.local?Yw:Lw)(n):(n.local?Uw:Fw)(n,r,e))}var qw=u((()=>{si(),Vp(),Rw(),Ow()}));function $w(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Gw(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Xw(t,e){var n,r;function a(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Gw(t,a)),n}return a._value=e,a}function Qw(t,e){var n,r;function a(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&$w(t,a)),n}return a._value=e,a}function Kw(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Th(t);return this.tween(n,(r.local?Xw:Qw)(r,e))}var Zw=u((()=>{Vp()}));function Jw(t,e){return function(){pw(this,t).delay=+e.apply(this,arguments)}}function tS(t,e){return e=+e,function(){pw(this,t).delay=e}}function eS(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Jw:tS)(e,t)):mw(this.node(),e).delay}var nS=u((()=>{Tw()}));function rS(t,e){return function(){vw(this,t).duration=+e.apply(this,arguments)}}function aS(t,e){return e=+e,function(){vw(this,t).duration=e}}function iS(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?rS:aS)(e,t)):mw(this.node(),e).duration}var oS=u((()=>{Tw()}));function lS(t,e){if("function"!=typeof e)throw new Error;return function(){vw(this,t).ease=e}}function uS(t){var e=this._id;return arguments.length?this.each(lS(e,t)):mw(this.node(),e).ease}var cS=u((()=>{Tw()}));function fS(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;vw(this,t).ease=n}}(this._id,t))}var sS=u((()=>{Tw()}));function hS(t){"function"!=typeof t&&(t=Wh(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],l=o.length,u=r[a]=[],c=0;c<l;++c)(i=o[c])&&t.call(i,i.__data__,c,o)&&u.push(i);return new WS(r,this._parents,this._name,this._id)}var dS=u((()=>{Vp(),QS()}));function gS(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),o=new Array(r),l=0;l<i;++l)for(var u,c=e[l],f=n[l],s=c.length,h=o[l]=new Array(s),d=0;d<s;++d)(u=c[d]||f[d])&&(h[d]=u);for(;l<r;++l)o[l]=e[l];return new WS(o,this._parents,this._name,this._id)}var pS=u((()=>{QS()}));function vS(t,e,n){var r,a,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?pw:vw;return function(){var o=i(this,t),l=o.on;l!==r&&(a=(r=l).copy()).on(e,n),o.on=a}}function mS(t,e){var n=this._id;return arguments.length<2?mw(this.node(),n).on.on(t):this.each(vS(n,t,e))}var yS=u((()=>{Tw()}));function bS(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t}var xS=u((()=>{}));function _S(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ph(t));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var l,u,c=r[o],f=c.length,s=i[o]=new Array(f),h=0;h<f;++h)(l=c[h])&&(u=t.call(l,l.__data__,h,c))&&("__data__"in l&&(u.__data__=l.__data__),s[h]=u,gw(s[h],e,n,h,s,mw(l,n)));return new WS(i,this._parents,e,n)}var wS=u((()=>{Vp(),QS(),Tw()}));function SS(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Fh(t));for(var r=this._groups,a=r.length,i=[],o=[],l=0;l<a;++l)for(var u,c=r[l],f=c.length,s=0;s<f;++s)if(u=c[s]){for(var h,d=t.call(u,u.__data__,s,c),g=mw(u,n),p=0,v=d.length;p<v;++p)(h=d[p])&&gw(h,e,n,p,d,g);i.push(d),o.push(u)}return new WS(i,o,e,n)}var MS=u((()=>{Vp(),QS(),Tw()}));function AS(){return new kS(this._groups,this._parents)}var kS,TS=u((()=>{Vp(),kS=cp.prototype.constructor}));function VS(t){return function(){this.style.removeProperty(t)}}function NS(t,e,n){var r="transform"==(t+="")?ti:Bw;return null==e?this.styleTween(t,function(t,e){var n,r,a;return function(){var i=tg(this,t),o=(this.style.removeProperty(t),tg(this,t));return i===o?null:i===n&&o===r?a:a=e(n=i,r=o)}}(t,r)).on("end.style."+t,VS(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,a,i;return function(){var o=tg(this,t),l=n(this),u=l+"";return null==l&&(this.style.removeProperty(t),u=l=tg(this,t)),o===u?null:o===r&&u===a?i:(a=u,i=e(r=o,l))}}(t,r,Iw(this,"style."+t,e))).each(function(t,e){var n,r,a,i,o="style."+e,l="end."+o;return function(){var u=vw(this,t),c=u.on,f=null==u.value[o]?i||(i=VS(e)):void 0;(c!==n||a!==f)&&(r=(n=c).copy()).on(l,a=f),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,a,i=n+"";return function(){var o=tg(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)}var CS=u((()=>{si(),Vp(),Tw(),Rw(),Ow()}));function ES(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function zS(t,e,n){var r,a;function i(){var i=e.apply(this,arguments);return i!==a&&(r=(a=i)&&ES(t,i,n)),r}return i._value=e,i}function DS(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,zS(t,e,n??""))}var PS=u((()=>{}));function IS(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=e??""}}(Iw(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))}var RS=u((()=>{Rw()}));function BS(t){return function(e){this.textContent=t.call(this,e)}}function OS(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&BS(r)),e}return r._value=t,r}function LS(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,OS(t))}var YS=u((()=>{}));function FS(){for(var t=this._name,e=this._id,n=$S(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o,l=r[i],u=l.length,c=0;c<u;++c)if(o=l[c]){var f=mw(o,e);gw(o,t,n,c,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new WS(r,this._parents,t,n)}var US=u((()=>{QS(),Tw()}));function HS(){var t,e,n=this,r=n._id,a=n.size();return new Promise((function(i,o){var l={value:o},u={value:function(){0==--a&&i()}};n.each((function(){var n=vw(this,r),a=n.on;a!==t&&((e=(t=a).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),n.on=e})),0===a&&i()}))}var jS=u((()=>{Tw()}));function WS(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function qS(t){return cp().transition(t)}function $S(){return++GS}var GS,XS,QS=u((()=>{Vp(),qw(),Zw(),nS(),oS(),cS(),sS(),dS(),pS(),yS(),xS(),wS(),MS(),TS(),CS(),PS(),RS(),YS(),US(),Rw(),jS(),GS=0,XS=cp.prototype,WS.prototype=qS.prototype={constructor:WS,select:_S,selectAll:SS,selectChild:XS.selectChild,selectChildren:XS.selectChildren,filter:hS,merge:gS,selection:AS,transition:FS,call:XS.call,nodes:XS.nodes,node:XS.node,size:XS.size,empty:XS.empty,each:XS.each,on:mS,attr:Ww,attrTween:Kw,style:NS,styleTween:DS,text:IS,textTween:LS,remove:bS,tween:Pw,delay:eS,duration:iS,ease:uS,easeVarying:fS,end:HS,[Symbol.iterator]:XS[Symbol.iterator]}}));function KS(t){return--t*t*t+1}function ZS(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var JS=u((()=>{})),tM=u((()=>{JS()}));function eM(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function nM(t){var e,n;t instanceof WS?(e=t._id,t=t._name):(e=$S(),(n=rM).time=q_(),t=null==t?null:t+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o,l=r[i],u=l.length,c=0;c<u;++c)(o=l[c])&&gw(o,t,e,c,l,n||eM(o,e));return new WS(r,this._parents,t,e)}var rM,aM,iM=u((()=>{QS(),Tw(),tM(),dw(),rM={time:null,delay:0,duration:250,ease:ZS}})),oM=u((()=>{Vp(),Ew(),iM(),cp.prototype.interrupt=Cw,cp.prototype.transition=nM})),lM=u((()=>{oM(),Nw()})),uM=u((()=>{aM=t=>()=>t}));function cM(t,{sourceEvent:e,target:n,selection:r,mode:a,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:i}})}var fM=u((()=>{}));function sM(t){t.stopImmediatePropagation()}function hM(t){t.preventDefault(),t.stopImmediatePropagation()}var dM=u((()=>{}));function gM(t){return[+t[0],+t[1]]}function pM(t){return[gM(t[0]),gM(t[1])]}function vM(t){return{type:t}}function mM(t){return!t.ctrlKey&&!t.button}function yM(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function bM(){return navigator.maxTouchPoints||"ontouchstart"in this}function xM(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function _M(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function wM(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function SM(){return kM(PM)}function MM(){return kM(IM)}function AM(){return kM(RM)}function kM(t){var e,n=yM,r=mM,a=bM,i=!0,o=S_("start","brush","end"),l=6;function u(e){var n=e.property("__brush",p).selectAll(".overlay").data([vM("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",BM.overlay).merge(n).each((function(){var t=xM(this).extent;sp(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([vM("selection")]).enter().append("rect").attr("class","selection").attr("cursor",BM.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return BM[t.type]})),e.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(a).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t=sp(this),e=xM(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-l/2:e[0][0]-l/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-l/2:e[0][1]-l/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+l:l})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+l:l}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new s(t,e,n):r}function s(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function h(n){if((!e||n.touches)&&r.apply(this,arguments)){var a,o,l,u,s,h,d,g,p,v,m,y=this,b=n.target.__data__.type,x="selection"===(i&&n.metaKey?b="overlay":b)?TM:i&&n.altKey?CM:NM,_=t===IM?null:YM[b],w=t===PM?null:FM[b],S=xM(y),M=S.extent,A=S.selection,k=M[0][0],T=M[0][1],V=M[1][0],N=M[1][1],C=0,E=0,z=_&&w&&i&&n.shiftKey,D=Array.from(n.touches||[n],(t=>{let e=t.identifier;return(t=_p(t,y)).point0=t.slice(),t.identifier=e,t}));Vw(y);var P=f(y,arguments,!0).beforestart();if("overlay"===b){A&&(p=!0);let e=[D[0],D[1]||D[0]];S.selection=A=[[a=t===IM?k:DM(e[0][0],e[1][0]),l=t===PM?T:DM(e[0][1],e[1][1])],[s=t===IM?V:zM(e[0][0],e[1][0]),d=t===PM?N:zM(e[0][1],e[1][1])]],D.length>1&&L(n)}else a=A[0][0],l=A[0][1],s=A[1][0],d=A[1][1];o=a,u=l,h=s,g=d;var I=sp(y).attr("pointer-events","none"),R=I.selectAll(".overlay").attr("cursor",BM[b]);if(n.touches)P.moved=O,P.ended=Y;else{var B=sp(n.view).on("mousemove.brush",O,!0).on("mouseup.brush",Y,!0);i&&B.on("keydown.brush",F,!0).on("keyup.brush",U,!0),z_(n.view)}c.call(y),P.start(n,x.name)}function O(t){for(let e of t.changedTouches||[t])for(let t of D)t.identifier===e.identifier&&(t.cur=_p(e,y));if(z&&!v&&!m&&1===D.length){let t=D[0];EM(t.cur[0]-t[0])>EM(t.cur[1]-t[1])?m=!0:v=!0}for(let t of D)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);p=!0,hM(t),L(t)}function L(t){let e=D[0],n=e.point0;var r;switch(C=e[0]-n[0],E=e[1]-n[1],x){case VM:case TM:_&&(C=zM(k-a,DM(V-s,C)),o=a+C,h=s+C),w&&(E=zM(T-l,DM(N-d,E)),u=l+E,g=d+E);break;case NM:D[1]?(_&&(o=zM(k,DM(V,D[0][0])),h=zM(k,DM(V,D[1][0])),_=1),w&&(u=zM(T,DM(N,D[0][1])),g=zM(T,DM(N,D[1][1])),w=1)):(_<0?(C=zM(k-a,DM(V-a,C)),o=a+C,h=s):_>0&&(C=zM(k-s,DM(V-s,C)),o=a,h=s+C),w<0?(E=zM(T-l,DM(N-l,E)),u=l+E,g=d):w>0&&(E=zM(T-d,DM(N-d,E)),u=l,g=d+E));break;case CM:_&&(o=zM(k,DM(V,a-C*_)),h=zM(k,DM(V,s+C*_))),w&&(u=zM(T,DM(N,l-E*w)),g=zM(T,DM(N,d+E*w)))}h<o&&(_*=-1,r=a,a=s,s=r,r=o,o=h,h=r,b in OM&&R.attr("cursor",BM[b=OM[b]])),g<u&&(w*=-1,r=l,l=d,d=r,r=u,u=g,g=r,b in LM&&R.attr("cursor",BM[b=LM[b]])),S.selection&&(A=S.selection),v&&(o=A[0][0],h=A[1][0]),m&&(u=A[0][1],g=A[1][1]),(A[0][0]!==o||A[0][1]!==u||A[1][0]!==h||A[1][1]!==g)&&(S.selection=[[o,u],[h,g]],c.call(y),P.brush(t,x.name))}function Y(t){if(sM(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else D_(t.view,p),B.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);I.attr("pointer-events","all"),R.attr("cursor",BM.overlay),S.selection&&(A=S.selection),_M(A)&&(S.selection=null,c.call(y)),P.end(t,x.name)}function F(t){switch(t.keyCode){case 16:z=_&&w;break;case 18:x===NM&&(_&&(s=h-C*_,a=o+C*_),w&&(d=g-E*w,l=u+E*w),x=CM,L(t));break;case 32:(x===NM||x===CM)&&(_<0?s=h-C:_>0&&(a=o-C),w<0?d=g-E:w>0&&(l=u-E),x=VM,R.attr("cursor",BM.selection),L(t));break;default:return}hM(t)}function U(t){switch(t.keyCode){case 16:z&&(v=m=z=!1,L(t));break;case 18:x===CM&&(_<0?s=h:_>0&&(a=o),w<0?d=g:w>0&&(l=u),x=NM,L(t));break;case 32:x===VM&&(t.altKey?(_&&(s=h-C*_,a=o+C*_),w&&(d=g-E*w,l=u+E*w),x=CM):(_<0?s=h:_>0&&(a=o),w<0?d=g:w>0&&(l=u),x=NM),R.attr("cursor",BM[b]),L(t));break;default:return}hM(t)}}function d(t){f(this,arguments).moved(t)}function g(t){f(this,arguments).ended(t)}function p(){var e=this.__brush||{selection:null};return e.extent=pM(n.apply(this,arguments)),e.dim=t,e}return u.move=function(e,n,r){e.tween?e.on("start.brush",(function(t){f(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){f(this,arguments).end(t)})).tween("brush",(function(){var e=this,r=e.__brush,a=f(e,arguments),i=r.selection,o=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),l=Fa(i,o);function u(t){r.selection=1===t&&null===o?null:l(t),c.call(e),a.brush()}return null!==i&&null!==o?u:u(1)})):e.each((function(){var e=this,a=arguments,i=e.__brush,o=t.input("function"==typeof n?n.apply(e,a):n,i.extent),l=f(e,a).beforestart();Vw(e),i.selection=null===o?null:o,c.call(e),l.start(r).brush(r).end(r)}))},u.clear=function(t,e){u.move(t,null,e)},s.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(e,n,r){var a=sp(this.that).datum();o.call(e,this.that,new cM(e,{sourceEvent:n,target:u,selection:t.output(this.state.selection),mode:r,dispatch:o}),a)}},u.extent=function(t){return arguments.length?(n="function"==typeof t?t:aM(pM(t)),u):n},u.filter=function(t){return arguments.length?(r="function"==typeof t?t:aM(!!t),u):r},u.touchable=function(t){return arguments.length?(a="function"==typeof t?t:aM(!!t),u):a},u.handleSize=function(t){return arguments.length?(l=+t,u):l},u.keyModifiers=function(t){return arguments.length?(i=!!t,u):i},u.on=function(){var t=o.on.apply(o,arguments);return t===o?u:t},u}var TM,VM,NM,CM,EM,zM,DM,PM,IM,RM,BM,OM,LM,YM,FM,UM=u((()=>{k_(),W_(),si(),Vp(),lM(),uM(),fM(),dM(),TM={name:"drag"},VM={name:"space"},NM={name:"handle"},CM={name:"center"},({abs:EM,max:zM,min:DM}=Math),PM={name:"x",handles:["w","e"].map(vM),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},IM={name:"y",handles:["n","s"].map(vM),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},RM={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(vM),input:function(t){return null==t?null:pM(t)},output:function(t){return t}},BM={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},OM={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},LM={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},YM={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},FM={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1}})),HM={};f(HM,{brush:()=>AM,brushSelection:()=>wM,brushX:()=>SM,brushY:()=>MM});var jM,WM=u((()=>{UM()})),qM=u((()=>{jM=t=>()=>t}));function $M(t,{sourceEvent:e,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}var GM=u((()=>{}));function XM(t,e,n){this.k=t,this.x=e,this.y=n}function QM(t){for(;!t.__zoom;)if(!(t=t.parentNode))return KM;return t.__zoom}var KM,ZM=u((()=>{XM.prototype={constructor:XM,scale:function(t){return 1===t?this:new XM(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new XM(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},KM=new XM(1,0,0),QM.prototype=XM.prototype}));function JM(t){t.stopImmediatePropagation()}function tA(t){t.preventDefault(),t.stopImmediatePropagation()}var eA=u((()=>{}));function nA(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function rA(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function aA(){return this.__zoom||KM}function iA(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function oA(){return navigator.maxTouchPoints||"ontouchstart"in this}function lA(t,e,n){var r=t.invertX(e[0][0])-n[0][0],a=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function uA(){var t,e,n,r=nA,a=rA,i=lA,o=iA,l=oA,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,s=ai,h=S_("start","zoom","end"),d=500,g=0,p=10;function v(t){t.property("__zoom",aA).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",A).filter(l).on("touchstart.zoom",k).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return(e=Math.max(u[0],Math.min(u[1],e)))===t.k?t:new XM(e,t.x,t.y)}function y(t,e,n){var r=e[0]-n[0]*t.k,a=e[1]-n[1]*t.k;return r===t.x&&a===t.y?t:new XM(t.k,r,a)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,e,n,r){t.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,i=arguments,o=_(t,i).event(r),l=a.apply(t,i),u=null==n?b(l):"function"==typeof n?n.apply(t,i):n,c=Math.max(l[1][0]-l[0][0],l[1][1]-l[0][1]),f=t.__zoom,h="function"==typeof e?e.apply(t,i):e,d=s(f.invert(u).concat(c/f.k),h.invert(u).concat(c/h.k));return function(t){if(1===t)t=h;else{var e=d(t),n=c/e[2];t=new XM(n,u[0]-e[0]*n,u[1]-e[1]*n)}o.zoom(null,t)}}))}function _(t,e,n){return!n&&t.__zooming||new w(t,e)}function w(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=a.apply(t,e),this.taps=0}function S(t,...e){if(r.apply(this,arguments)){var n=_(this,e).event(t),a=this.__zoom,l=Math.max(u[0],Math.min(u[1],a.k*Math.pow(2,o.apply(this,arguments)))),f=_p(t);if(n.wheel)(n.mouse[0][0]!==f[0]||n.mouse[0][1]!==f[1])&&(n.mouse[1]=a.invert(n.mouse[0]=f)),clearTimeout(n.wheel);else{if(a.k===l)return;n.mouse=[f,a.invert(f)],Vw(this),n.start()}tA(t),n.wheel=setTimeout(s,150),n.zoom("mouse",i(y(m(a,l),n.mouse[0],n.mouse[1]),n.extent,c))}function s(){n.wheel=null,n.end()}}function M(t,...e){if(!n&&r.apply(this,arguments)){var a=t.currentTarget,o=_(this,e,!0).event(t),l=sp(t.view).on("mousemove.zoom",h,!0).on("mouseup.zoom",d,!0),u=_p(t,a),f=t.clientX,s=t.clientY;z_(t.view),JM(t),o.mouse=[u,this.__zoom.invert(u)],Vw(this),o.start()}function h(t){if(tA(t),!o.moved){var e=t.clientX-f,n=t.clientY-s;o.moved=e*e+n*n>g}o.event(t).zoom("mouse",i(y(o.that.__zoom,o.mouse[0]=_p(t,a),o.mouse[1]),o.extent,c))}function d(t){l.on("mousemove.zoom mouseup.zoom",null),D_(t.view,o.moved),tA(t),o.event(t).end()}}function A(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,o=_p(t.changedTouches?t.changedTouches[0]:t,this),l=n.invert(o),u=n.k*(t.shiftKey?.5:2),s=i(y(m(n,u),o,l),a.apply(this,e),c);tA(t),f>0?sp(this).transition().duration(f).call(x,s,o,t):sp(this).call(v.transform,s,o,t)}}function k(n,...a){if(r.apply(this,arguments)){var i,o,l,u,c=n.touches,f=c.length,s=_(this,a,n.changedTouches.length===f).event(n);for(JM(n),o=0;o<f;++o)u=[u=_p(l=c[o],this),this.__zoom.invert(u),l.identifier],s.touch0?!s.touch1&&s.touch0[2]!==u[2]&&(s.touch1=u,s.taps=0):(s.touch0=u,i=!0,s.taps=1+!!t);t&&(t=clearTimeout(t)),i&&(s.taps<2&&(e=u[0],t=setTimeout((function(){t=null}),d)),Vw(this),s.start())}}function T(t,...e){if(this.__zooming){var n,r,a,o,l=_(this,e).event(t),u=t.changedTouches,f=u.length;for(tA(t),n=0;n<f;++n)a=_p(r=u[n],this),l.touch0&&l.touch0[2]===r.identifier?l.touch0[0]=a:l.touch1&&l.touch1[2]===r.identifier&&(l.touch1[0]=a);if(r=l.that.__zoom,l.touch1){var s=l.touch0[0],h=l.touch0[1],d=l.touch1[0],g=l.touch1[1],p=(p=d[0]-s[0])*p+(p=d[1]-s[1])*p,v=(v=g[0]-h[0])*v+(v=g[1]-h[1])*v;r=m(r,Math.sqrt(p/v)),a=[(s[0]+d[0])/2,(s[1]+d[1])/2],o=[(h[0]+g[0])/2,(h[1]+g[1])/2]}else{if(!l.touch0)return;a=l.touch0[0],o=l.touch0[1]}l.zoom("touch",i(y(r,a,o),l.extent,c))}}function V(t,...r){if(this.__zooming){var a,i,o=_(this,r).event(t),l=t.changedTouches,u=l.length;for(JM(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),d),a=0;a<u;++a)i=l[a],o.touch0&&o.touch0[2]===i.identifier?delete o.touch0:o.touch1&&o.touch1[2]===i.identifier&&delete o.touch1;if(o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0)o.touch0[1]=this.__zoom.invert(o.touch0[0]);else if(o.end(),2===o.taps&&(i=_p(i,this),Math.hypot(e[0]-i[0],e[1]-i[1])<p)){var c=sp(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return v.transform=function(t,e,n,r){var a=t.selection?t.selection():t;a.property("__zoom",aA),t!==a?x(t,e,n,r):a.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},v.scaleBy=function(t,e,n,r){v.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n,r)},v.scaleTo=function(t,e,n,r){v.transform(t,(function(){var t=a.apply(this,arguments),r=this.__zoom,o=null==n?b(t):"function"==typeof n?n.apply(this,arguments):n,l=r.invert(o),u="function"==typeof e?e.apply(this,arguments):e;return i(y(m(r,u),o,l),t,c)}),n,r)},v.translateBy=function(t,e,n,r){v.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),a.apply(this,arguments),c)}),null,r)},v.translateTo=function(t,e,n,r,o){v.transform(t,(function(){var t=a.apply(this,arguments),o=this.__zoom,l=null==r?b(t):"function"==typeof r?r.apply(this,arguments):r;return i(KM.translate(l[0],l[1]).scale(o.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),r,o)},w.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=sp(this.that).datum();h.call(t,this.that,new $M(t,{sourceEvent:this.sourceEvent,target:v,type:t,transform:this.that.__zoom,dispatch:h}),e)}},v.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:jM(+t),v):o},v.filter=function(t){return arguments.length?(r="function"==typeof t?t:jM(!!t),v):r},v.touchable=function(t){return arguments.length?(l="function"==typeof t?t:jM(!!t),v):l},v.extent=function(t){return arguments.length?(a="function"==typeof t?t:jM([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):a},v.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],v):[u[0],u[1]]},v.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(t){return arguments.length?(i=t,v):i},v.duration=function(t){return arguments.length?(f=+t,v):f},v.interpolate=function(t){return arguments.length?(s=t,v):s},v.on=function(){var t=h.on.apply(h,arguments);return t===h?v:t},v.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,v):Math.sqrt(g)},v.tapDistance=function(t){return arguments.length?(p=+t,v):p},v}var cA=u((()=>{k_(),W_(),si(),Vp(),lM(),qM(),GM(),ZM(),eA()})),fA={};f(fA,{ZoomTransform:()=>XM,zoom:()=>uA,zoomIdentity:()=>KM,zoomTransform:()=>QM});var sA=u((()=>{cA(),ZM()})),hA=c(((t,e)=>{var n,r;n=t,r=function(t,e,n,r,a,i,o,l,u,c,f,s,h){"use strict";var d=function(t,e,n){var r=e[n];if("function"!=typeof r)throw new Error("Attempt to rebind ".concat(n," which isn't a function on the source object"));return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=r.apply(e,a);return o===e?t:o}},g=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];for(var i=0,o=r;i<o.length;i++){var l=o[i];t[l]=d(t,e,l)}return t},p=function(t){return function(e){return t.reduce((function(t,e){return t&&e(t)}),e)}},v=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];for(var i=p(r),o=0,l=Object.keys(e);o<l.length;o++){var u=l[o],c=i(u);c&&(t[c]=d(t,e,u))}return t},m=function(t){return t.map((function(t){return"string"==typeof t?new RegExp("^".concat(t,"$")):t}))},y=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e=m(e),function(t){return e.every((function(e){return!e.test(t)}))&&t}},b=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e=m(e),function(t){return e.some((function(e){return e.test(t)}))&&t}},x=function(t){return function(e){return t[e]}},_=function(t){return function(e){return t+function(t){return t[0].toUpperCase()+t.slice(1)}(e)}};function w(t){return t}function S(t){}function M(t){return"function"==typeof t?t:function(){return t}}function A(t){return"number"==typeof t&&isNaN(t)?void 0:t}function k(){var t=function(){return 10},e=S,n=w,r=function(t){return null!=t},a=function(a){var i=t.apply(this,arguments),o=a.slice(0,i).map(n);return a.map((function(t,a){return a>=i&&(o.shift(),o.push(n(t,a))),a<i-1||o.some((function(t){return!r(t)}))?e(void 0,a):e(o,a)}))};return a.period=function(){return arguments.length?(t=M(arguments.length<=0?void 0:arguments[0]),a):t},a.accumulator=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.defined=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a}function T(){var t=w,n=function(){return 9},r=function(t){var n=[];return function(r){var a;return n.length<t&&(null!=r?n.push(r):n=[]),n.length>=t&&(a=e.mean(n)),a}},a=function(e){var a,i=n.apply(this,arguments),o=2/(i+1),l=r(i);return e.map((function(e,n){var r=t(e,n);return A(a=void 0===a?l(r):r*o+(1-o)*a)}))};return a.period=function(){return arguments.length?(n=M(arguments.length<=0?void 0:arguments[0]),a):n},a.value=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a}function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,e,n){return e&&C(t.prototype,e),n&&C(t,n),t}function z(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch{return!1}}function R(t,e,n){return(R=I()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var a=new(Function.bind.apply(t,r));return n&&P(a,n.prototype),a}).apply(null,arguments)}function B(t){var e="function"==typeof Map?new Map:void 0;return B=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return R(t,arguments,D(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),P(n,t)},B(t)}function O(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L(t){var e=I();return function(){var n,r=D(t);if(e){var a=D(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O(this,n)}}function Y(t,e){return U(t)||function(t,e){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=t[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{!r&&null!=l.return&&l.return()}finally{if(a)throw i}}return n}}(t,e)||j(t,e)||q()}function F(t){return function(t){if(Array.isArray(t))return W(t)}(t)||H(t)||j(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(t){if(Array.isArray(t))return t}function H(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function j(t,e){if(t){if("string"==typeof t)return W(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(t,e)}}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $(t,e){var n;if(typeof Symbol>"u"||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=j(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,i=t},f:function(){try{!o&&null!=n.return&&n.return()}finally{if(l)throw i}}}}function G(){var t=k().accumulator((function(t){return t&&e.mean(t)})),n=function(e){return t(e)};return g(n,t,"period","value"),n}function X(){var t={distance:function(t,e){return e-t},offset:function(t,e){return t instanceof Date?new Date(t.getTime()+e):t+e},clampUp:function(t){return t},clampDown:function(t){return t},copy:function(){return t}};return t}function Q(t,e){var n=t.map(e.clampUp);return n.length!==new Set(n.map((function(t){return t?.valueOf()}))).size&&console.warn("There are multiple ticks that fall within a discontinuity, which has led to them being rendered on top of each other. Consider using scale.ticks to explicitly specify the ticks for the scale."),n}var K=function(t,e,n,r){var a=0,i=1,o=6,l=864e5,u=5*l,c={},f=function(e){return 0===t(e)||6===t(e)};return c.clampDown=function(n){if(n&&f(n)){var r=e.ceil(n);return t(r)===a?e.offset(r,-1):t(r)===i?e.offset(r,-2):r}return n},c.clampUp=function(n){if(n&&f(n)){var r=e.floor(n);return t(r)===o?e.offset(r,2):t(r)===a?e.offset(r,1):r}return n},c.distance=function(t,e){t=c.clampUp(t),e=c.clampDown(e);var r=n.ceil(t);if(e<r)return e.getTime()-t.getTime();var a=r.getTime()-t.getTime(),i=n.ceil(e),o=i.getTime()-e.getTime();return Math.round((i.getTime()-r.getTime())/6048e5)*u+a-o},c.offset=function(t,a){var i=f(t)?c.clampUp(t):t;if(0===a)return i;var o=a<0,l=a>0,s=a,h=o?r.floor(i):n.ceil(i);if(s-=h.getTime()-i.getTime(),o&&s>0||l&&s<0)return new Date(i.getTime()+a);i=o?h:e.offset(h,2);var d=Math.floor(s/u);return i=e.offset(i,7*d),s-=d*u,i=new Date(i.getTime()+s)},c.copy=function(){return c},c},Z=864e5,J="00:00:00.000";function tt(t){if(1!==arguments.length||"string"!=typeof t)throw"Expected single argument of type string";var e=function(t,e){return!!Number.isInteger(t)&&t>=0&&t<=e},n=[0,0,0,0],r=t.split(":");if(r.length<2||r.length>3)throw"Expected an argument wiht 2 or 3 colon delimited parts.";if(n[0]=e(parseInt(r[0],10),23)?parseInt(r[0],10):function(){throw"'Hours' component must be an int between 0 and 23, but was '".concat(r[0],"'")}(),n[1]=e(parseInt(r[1],10),59)?parseInt(r[1],10):function(){throw"'Minutes' component must be an int between 0 and 59, but was '".concat(r[1],"'")}(),3===r.length){var a=r[2].split(".").map((function(t){return parseInt(t,10)}));n[2]=e(a[0],59)?a[0]:function(){throw"'Seconds' component must be an int between 0 and 59, but was '".concat(a[0],"'")}(),2===a.length&&(n[3]=e(a[1],999)?a[1]:function(){throw"'Miliseconds' component must be an int between 0 and 999, but was '".concat(a[1],"'")}())}return"".concat(n[0].toString(10).padStart(2,"0"),":").concat(n[1].toString(10).padStart(2,"0"),":").concat(n[2].toString(10).padStart(2,"0"),".").concat(n[3].toString(10).padStart(3,"0"))}var et=function(t,e){var n=t.map((function(t){return function(t,e){if(2!=arguments.length||!Array.isArray(t)||2!==t.length||"string"!=typeof t[0]||"string"!=typeof t[1])throw"Expected argument is a single string[] of length 2.";"SOD"===t[0]&&(t[0]=J),"EOD"===t[1]&&(t[1]=J);var n=tt(t[0]),r=tt(t[1]);if(r!==J&&n>r)throw"Time range start time '".concat(n,"' must be before end time '").concat(r,"' or both must equal ").concat(J);var a=e.setTime(new Date(r===J?Z:0),r)-e.setTime(new Date(0),n),i={startTime:n,endTime:r,lenghtInMs:a,isInRange:function(t){var n=e.getTimeString(t);return i.startTime<=n&&(i.endTime===J||i.endTime>n)}};return i}(t,e)})).sort((function(t,e){return t.startTime<e.startTime?-1:t.startTime>e.startTime?1:0}));return{totalTradingTimeInMiliseconds:Z-n.reduce((function(t,e){return t+e.lenghtInMs}),0),nonTradingTimeRanges:n,totalTradingMillisecondsBetween:function(t,r){if(t.getTime()===r.getTime())return 0;if(e.dayInterval(t).getTime()!==e.dayInterval(r).getTime()&&e.getStartOfNextDay(t).getTime()!==r.getTime())throw"tradingDay.totalTradingMillisecondsBetween arguments must be on the same day or intervalEnd must be the start of the next day instead: intervalStart: '".concat(t,"'; intervalEnd: '").concat(r,"'");var a,i=0,o=$(n.filter((function(n){return n.endTime===J||e.setTime(t,n.endTime)>=t})));try{for(o.s();!(a=o.n()).done;){var l=a.value,u=e.setTime(t,l.startTime),c=l.endTime===J?e.getStartOfNextDay(t):e.setTime(t,l.endTime);if(t<u&&r<u)return i+e.msInterval.count(t,r);if(t<u&&(i+=e.msInterval.count(t,u)),r<c)return i;t=c}}catch(t){o.e(t)}finally{o.f()}return i+e.msInterval.count(t,r)},offset:function(t,r){if(0===r)return[t,r];var a=e.msInterval.offset(t,r),i=r>0?n.filter((function(n){return e.setTime(t,n.startTime)>=t})):n.filter((function(n){return e.setTime(t,n.startTime)<t})).reverse();if(0===i.length)return[e.msInterval.offset(t,r),0];if(r>0){var o,l=$(i);try{for(l.s();!(o=l.n()).done;){var u=o.value,c=e.setTime(t,u.startTime);c<=a&&(r-=e.msInterval.count(t,c),t=u.endTime===J?e.getStartOfNextDay(t):e.setTime(t,u.endTime),a=e.msInterval.offset(t,r))}}catch(t){l.e(t)}finally{l.f()}r-=e.msInterval.count(t,a)}else{var f,s=$(i);try{for(s.s();!(f=s.n()).done;){var h=f.value,d=h.endTime===J?e.getStartOfNextDay(t):e.setTime(t,h.endTime);a<d&&(r+=e.msInterval.count(d,t)+1,t=e.msInterval.offset(e.setTime(t,h.startTime),-1),a=e.msInterval.offset(t,r))}}catch(t){s.e(t)}finally{s.f()}r+=e.msInterval.count(a,t)}if(0!==r)throw"tradingDay.offset was called with an offset that spans more than a day";return[a,r]}}},nt=function(t,e,n,r,a){var i={getTimeComponentArrayFromString:function(t){return[t.slice(0,2),t.slice(3,5),t.slice(6,8),t.slice(9,12)]},getTimeString:function(t){var e=Y(n(t).map((function(t){return t.toString(10).padStart(2,"0")})),4),r=e[0],a=e[1],i=e[2],o=e[3];return"".concat(r,":").concat(a,":").concat(i,".").concat(o.padStart(3,"0"))},setTime:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=i.getTimeComponentArrayFromString(n),l=Y(o,4),u=l[0],c=l[1],f=l[2],s=l[3];return a.offset(t(e,u,c,f,s),r)},getStartOfNextDay:function(t){return r.offset(r.floor(t),1)},getEndOfPreviousDay:function(t){return a.offset(r.floor(t),-1)}};return i.dayInterval=r,i.msInterval=a,i.getDay=e,i},rt=nt((function(t,e,n,r,a){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),e,n,r,a)}),(function(t){return t.getDay()}),(function(t){return[t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}),r.timeDay,r.timeMillisecond),at=function(t,e){var n=function(e){return void 0===t[e]?[]:t[e]},r=[et(n("Sunday"),e),et(n("Monday"),e),et(n("Tuesday"),e),et(n("Wednesday"),e),et(n("Thursday"),e),et(n("Friday"),e),et(n("Saturday"),e)],a=r.reduce((function(t,e){return t+e.totalTradingTimeInMiliseconds}),0);if(0===a)throw"Trading pattern must yield at least 1 ms of trading time";var i={tradingDays:r,totalTradingWeekMilliseconds:a,clampUp:function(t){var n,a=$(r[e.getDay(t)].nonTradingTimeRanges);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.isInRange(t))return o.endTime===J?i.clampUp(e.getStartOfNextDay(t)):e.setTime(t,o.endTime)}}catch(t){a.e(t)}finally{a.f()}return t},clampDown:function(t){var n,a=$(r[e.getDay(t)].nonTradingTimeRanges);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.isInRange(t))return o.startTime===J?i.clampDown(e.getEndOfPreviousDay(t)):e.setTime(t,o.startTime,-1)}}catch(t){a.e(t)}finally{a.f()}return t},distance:function(t,n){if(t.getTime()===n.getTime())return 0;var r=Y(t<=n?[t,n,1]:[n,t,-1],3),a=r[0],o=r[1],l=r[2];if(e.dayInterval(a).getTime()===e.dayInterval(o).getTime())return i.tradingDays[e.getDay(a)].totalTradingMillisecondsBetween(a,o);var u=i.tradingDays[e.getDay(a)].totalTradingMillisecondsBetween(a,e.dayInterval.offset(e.dayInterval(a),1))+i.tradingDays[e.getDay(o)].totalTradingMillisecondsBetween(e.dayInterval(o),o);return 1===e.dayInterval.count(a,o)?u:(a=e.dayInterval.offset(e.dayInterval(a),1),o=e.dayInterval(o),l*e.dayInterval.range(a,o).reduce((function(t,n,r,a){var o=r<a.length-1?a[r+1]:e.dayInterval.offset(n,1),l=o-n!==Z,u=i.tradingDays[e.getDay(n)];return t+(l?u.totalTradingMillisecondsBetween(n,o):u.totalTradingTimeInMiliseconds)}),u))},offset:function(t,n){t=n>=0?i.clampUp(t):i.clampDown(t);var r=function(t,n,r){if(r<0){var a=e.dayInterval(n),o=t.totalTradingMillisecondsBetween(a,n);return Math.abs(r)<=o?t.offset(n,r):[i.clampDown(e.msInterval.offset(a,-1)),r+o+1]}var l=e.getStartOfNextDay(n),u=t.totalTradingMillisecondsBetween(n,l);return r<u?t.offset(n,r):[i.clampUp(l),r-u]};if(0===n)return t;var a,o=n<0?function(t,n,r){return[i.clampDown(e.dayInterval.offset(t,-1)),n+r]}:function(t,n,r){return[i.clampUp(e.dayInterval.offset(t)),n-r]},l=i.tradingDays[e.getDay(t)],u=Y(r(l,t,n),2);for(t=u[0],n=u[1];0!==n;)if(l=i.tradingDays[e.getDay(t)],a=t,e.dayInterval.offset(a)-e.dayInterval(a)!==Z){var c=Y(r(l,t,n),2);t=c[0],n=c[1]}else{var f=Y(Math.abs(n)>=l.totalTradingTimeInMiliseconds?o(t,n,l.totalTradingTimeInMiliseconds):r(l,t,n),2);t=f[0],n=f[1]}return t},copy:function(){return i}};return i},it=nt((function(t,e,n,r,a){return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),e,n,r,a))}),(function(t){return t.getUTCDay()}),(function(t){return[t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}),r.utcDay,r.utcMillisecond);function ot(){var t=[function(t){return t}],n=[0,0],r="percent",a=null,i=[],o=function(o){var l,u=new Array(o.length),c=$(t);try{for(c.s();!(l=c.n()).done;)for(var f=l.value,s=0;s<o.length;s++){var h=f(o[s],s);Array.isArray(h)?u.push.apply(u,F(h)):u.push(h)}}catch(t){c.e(t)}finally{c.f()}var d=[e.min(u),e.max(u)];if(d[0]=null==d[0]?e.min(i):e.min([d[0]].concat(F(i))),d[1]=null==d[1]?e.max(i):e.max([d[1]].concat(F(i))),null!=a){var g=Math.max(Math.abs(d[1]-a),Math.abs(d[0]-a));d[0]=a-g,d[1]=a+g}switch(r){case"domain":d[0]-=n[0],d[1]+=n[1];break;case"percent":var p=d[1]-d[0];d[0]-=n[0]*p,d[1]+=n[1]*p;break;default:throw new Error("Unknown padUnit: ".concat(r))}return d};return o.accessors=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.pad=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.padUnit=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.include=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o.symmetricalAbout=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o}function lt(){var t=[],e=[0,0],n="percent",r=null,a=[],i=ot(),o=function(t){return null!=t?t.valueOf():null},l=function(l){var u=t.map((function(t){return function(){var e=t.apply(void 0,arguments);return Array.isArray(e)?e.map(o):o(e)}}));return i.accessors(u).pad(e).padUnit(n).symmetricalAbout(null!=r?r.valueOf():null).include(a.map((function(t){return t.valueOf()}))),i(l).map((function(t){return new Date(t)}))};return l.accessors=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},l.pad=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],l):e},l.padUnit=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],l):n},l.include=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l.symmetricalAbout=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],l):r},l}function ut(){var t=1,e=20,n=.1,r=.1,i=a.randomNormal(),o=function(){for(var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=t/e,l=[],u=0;u<e+1;u++){l.push(a);var c=i()*Math.sqrt(o)*r+(n-r*r/2)*o;a*=Math.exp(c)}return l};return o.period=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.steps=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.mu=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.sigma=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.random=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o}function ct(t){return"function"==typeof t?t:function(){return t}}function ft(){var t=10,n=function(n){return t<=1?n.map((function(t){return[t]})):e.range(0,Math.ceil(n.length/t)).map((function(e){return n.slice(e*t,(e+1)*t)}))};return n.bucketSize=function(e){return arguments.length?(t=e,n):t},n}var st=function(t){return"function"==typeof t?t:function(){return t}},ht=function(){var t=null,e=function(t){return t.date},n=function(t){return t.open},r=function(t){return t.high},a=function(t){return t.low},i=function(t){return t.close},l="vertical",u=st(3),c=function(c){var f=t||o.path();return c.forEach((function(t,o){var c=e(t,o),s=n(t,o),h=r(t,o),d=a(t,o),g=i(t,o),p=u(t,o)/2;"vertical"===l?(f.moveTo(c,d),f.lineTo(c,h),f.moveTo(c,s),f.lineTo(c-p,s),f.moveTo(c,g),f.lineTo(c+p,g)):(f.moveTo(d,c),f.lineTo(h,c),f.moveTo(s,c),f.lineTo(s,c+p),f.moveTo(g,c),f.lineTo(g,c-p))})),t?null:f.toString()};return c.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.x=function(){return arguments.length?(e=st(arguments.length<=0?void 0:arguments[0]),c):e},c.open=function(){return arguments.length?(n=st(arguments.length<=0?void 0:arguments[0]),c):n},c.high=function(){return arguments.length?(r=st(arguments.length<=0?void 0:arguments[0]),c):r},c.low=function(){return arguments.length?(a=st(arguments.length<=0?void 0:arguments[0]),c):a},c.close=function(){return arguments.length?(i=st(arguments.length<=0?void 0:arguments[0]),c):i},c.width=function(){return arguments.length?(u=st(arguments.length<=0?void 0:arguments[0]),c):u},c.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],c):l},c},dt=function(){var t=null,e=function(t){return t.x},n=function(t){return t.y},r="center",a="center",i=function(t){return t.height},l=st(3),u=function(u,c){var f=t||o.path();return u.forEach((function(t,o){var u,s,h=e.call(this,t,c||o),d=n.call(this,t,c||o),g=i.call(this,t,c||o),p=l.call(this,t,c||o);switch(r){case"left":u=p;break;case"right":u=0;break;case"center":u=p/2;break;default:throw new Error("Invalid horizontal alignment "+r)}switch(a){case"bottom":s=-g;break;case"top":s=0;break;case"center":s=g/2;break;default:throw new Error("Invalid vertical alignment "+a)}f.rect(h-u,d-s,p,g)}),this),t?null:f.toString()};return u.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],u):t},u.x=function(){return arguments.length?(e=st(arguments.length<=0?void 0:arguments[0]),u):e},u.y=function(){return arguments.length?(n=st(arguments.length<=0?void 0:arguments[0]),u):n},u.width=function(){return arguments.length?(l=st(arguments.length<=0?void 0:arguments[0]),u):l},u.horizontalAlign=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],u):r},u.height=function(){return arguments.length?(i=st(arguments.length<=0?void 0:arguments[0]),u):i},u.verticalAlign=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],u):a},u},gt=function(){var t=null,e=function(t){return t.date},n=function(t){return t.open},r=function(t){return t.high},a=function(t){return t.low},i=function(t){return t.close},l=st(3),u=function(u){var c=t||o.path();return u.forEach((function(t,o){var u=e(t,o),f=n(t,o),s=r(t,o),h=a(t,o),d=i(t,o),g=l(t,o),p=g/2;c.rect(u-p,f,g,d-f),c.moveTo(u,Math.min(d,f)),c.lineTo(u,s),c.moveTo(u,Math.max(d,f)),c.lineTo(u,h)})),t?null:c.toString()};return u.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],u):t},u.x=function(){return arguments.length?(e=st(arguments.length<=0?void 0:arguments[0]),u):e},u.open=function(){return arguments.length?(n=st(arguments.length<=0?void 0:arguments[0]),u):n},u.high=function(){return arguments.length?(r=st(arguments.length<=0?void 0:arguments[0]),u):r},u.low=function(){return arguments.length?(a=st(arguments.length<=0?void 0:arguments[0]),u):a},u.close=function(){return arguments.length?(i=st(arguments.length<=0?void 0:arguments[0]),u):i},u.width=function(){return arguments.length?(l=st(arguments.length<=0?void 0:arguments[0]),u):l},u},pt=function(){var t=null,e=function(t){return t.value},n=function(t){return t.median},r=function(t){return t.upperQuartile},a=function(t){return t.lowerQuartile},i=function(t){return t.high},l=function(t){return t.low},u="vertical",c=st(5),f=st(.5),s=function(s){var h=t||o.path();return s.forEach((function(t,o){var s=e(t,o),d=c(t,o),g=d/2,p=d*f(t,o)/2,v=i(t,o),m=r(t,o),y=n(t,o),b=a(t,o),x=l(t,o),_=b-m;"vertical"===u?(h.moveTo(s-p,v),h.lineTo(s+p,v),h.moveTo(s,v),h.lineTo(s,m),h.rect(s-g,m,d,_),h.moveTo(s-g,y),h.lineTo(s+g,y),h.moveTo(s,b),h.lineTo(s,x),h.moveTo(s-p,x),h.lineTo(s+p,x)):(h.moveTo(x,s-p),h.lineTo(x,s+p),h.moveTo(x,s),h.lineTo(b,s),h.rect(b,s-g,-_,d),h.moveTo(y,s-g),h.lineTo(y,s+g),h.moveTo(m,s),h.lineTo(v,s),h.moveTo(v,s-p),h.lineTo(v,s+p))})),t?null:h.toString()};return s.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s.value=function(){return arguments.length?(e=st(arguments.length<=0?void 0:arguments[0]),s):e},s.median=function(){return arguments.length?(n=st(arguments.length<=0?void 0:arguments[0]),s):n},s.upperQuartile=function(){return arguments.length?(r=st(arguments.length<=0?void 0:arguments[0]),s):r},s.lowerQuartile=function(){return arguments.length?(a=st(arguments.length<=0?void 0:arguments[0]),s):a},s.high=function(){return arguments.length?(i=st(arguments.length<=0?void 0:arguments[0]),s):i},s.low=function(){return arguments.length?(l=st(arguments.length<=0?void 0:arguments[0]),s):l},s.width=function(){return arguments.length?(c=st(arguments.length<=0?void 0:arguments[0]),s):c},s.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],s):u},s.cap=function(){return arguments.length?(f=st(arguments.length<=0?void 0:arguments[0]),s):f},s},vt=function(){var t=null,e=function(t){return t.x},n=function(t){return t.high},r=function(t){return t.low},a="vertical",i=st(5),l=function(l){var u=t||o.path();return l.forEach((function(t,o){var l=e(t,o),c=i(t,o)/2,f=n(t,o),s=r(t,o);"vertical"===a?(u.moveTo(l-c,f),u.lineTo(l+c,f),u.moveTo(l,f),u.lineTo(l,s),u.moveTo(l-c,s),u.lineTo(l+c,s)):(u.moveTo(s,l-c),u.lineTo(s,l+c),u.moveTo(s,l),u.lineTo(f,l),u.moveTo(f,l-c),u.lineTo(f,l+c))})),t?null:u.toString()};return l.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},l.value=function(){return arguments.length?(e=st(arguments.length<=0?void 0:arguments[0]),l):e},l.high=function(){return arguments.length?(n=st(arguments.length<=0?void 0:arguments[0]),l):n},l.low=function(){return arguments.length?(r=st(arguments.length<=0?void 0:arguments[0]),l):r},l.width=function(){return arguments.length?(i=st(arguments.length<=0?void 0:arguments[0]),l):i},l.orient=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l},mt=function(t){return"function"==typeof t?t:function(){return t}},yt=1e-6,bt=function(t){return t.selection()!==t},xt=function(t,e){t=t||"g";var n=function(t,e){return e},r=null,a=function(a,i){i=i||function(t){return t};var o=a.selection(),l=bt(a)?a:null,u=o.selectChildren(null==e?t:"".concat(t,".").concat(e)).data(i,n),c=u.enter().append(t).attr("class",e),f=u.exit();u=u.merge(c);var s=l||r;return s&&(u=u.transition(s).style("opacity",1),c.style("opacity",yt),f=f.transition(s).style("opacity",yt)),f.remove(),u.enter=function(){return c},u.exit=function(){return f},u};return a.element=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.className=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.key=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.transition=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a},_t=function(t,e){if(function(t,e){return!(t.x>=e.x+e.width||t.x+t.width<=e.x||t.y>=e.y+e.height||t.y+t.height<=e.y)}(t,e)){var n=Math.max(t.x,e.x),r=Math.min(t.x+t.width,e.x+e.width),a=Math.max(t.y,e.y);return(r-n)*(Math.min(t.y+t.height,e.y+e.height)-a)}return 0},wt=function(t,n){return e.sum(t.map((function(e,r){return n===r?0:_t(t[n],e)})))},St=function(t,e,n,r,a){return{x:t,y:e,width:n,height:r,location:a}},Mt=function(t){var e=t.x,n=t.y,r=t.width,a=t.height;return[St(e,n,r,a,"bottom-right"),St(e-r,n,r,a,"bottom-left"),St(e-r,n-a,r,a,"top-left"),St(e,n-a,r,a,"top-right"),St(e,n-a/2,r,a,"middle-right"),St(e-r/2,n,r,a,"bottom-center"),St(e-r,n-a/2,r,a,"middle-left"),St(e-r/2,n-a,r,a,"top-center")]},At=function(t,e,n){return[].concat(F(t.slice(0,e)),[n],F(t.slice(e+1)))},kt=function(t,e){return t<e},Tt=function t(){var n,r=null,a=kt,i=function(){return 0},o=function o(l,u){r||(r=e.sum(n.map((function(t,e){return i(t,e,n)}))));var c=function(t,e){return r-i(n[e],e,n)+i(t,e,At(n,e,t))}(l,u);return a(c,r)?t().locationScore(i).winningScore(a).score(c).rectangles(At(n,u,l)):o};return o.rectangles=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.score=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.winningScore=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o.locationScore=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o},Vt=function(t){return t[Nt(t)]},Nt=function(t){return Math.floor(Math.random()*t.length)},Ct=function(t){return"function"==typeof t?t:function(){return t}};function Et(){var t=arguments;return function(e,n){for(var r=0,a=t.length;r<a;r++)if(null==t[r](e,n))return!1;return!0}}var zt=function(t,e){switch(t){case"left":return e/2;case"right":return-e/2;default:return 0}},Dt=function(t){var e=Object.assign({},t),n=function(){};return Object.keys(e).forEach((function(t){n[t]=function(){return arguments.length?(e[t]=arguments.length<=0?void 0:arguments[0],n):e[t]}})),n},Pt=function(){var t=function(){return 0},e=function(t){return t.x},r=function(t){return t.y},a="center",i=function(){return 5},o="vertical",l=Dt({decorate:function(){},defined:function(n,a){return Et(t,e,r)(n,a)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return l.values=function(n,u){var c=i(n,u),f=zt(a,c),s=l.xScale(),h=l.yScale();if("vertical"===o){var d=h(r(n,u),u),g=h(t(n,u),u),p=s(e(n,u),u)+f;return{d:n,x:p,y:d,y0:g,width:c,height:d-g,origin:[p,d],baseOrigin:[p,g],transposedX:p,transposedY:d}}var v=s(r(n,u),u),m=s(t(n,u),u),y=h(e(n,u),u)+f;return{d:n,x:y,y:v,y0:m,width:c,height:v-m,origin:[v,y],baseOrigin:[m,y],transposedX:v,transposedY:y}},l.xValues=function(){return"vertical"===o?[e]:[t,r]},l.yValues=function(){return"vertical"!==o?[e]:[t,r]},l.baseValue=function(){return arguments.length?(t=Ct(arguments.length<=0?void 0:arguments[0]),l):t},l.crossValue=function(){return arguments.length?(e=Ct(arguments.length<=0?void 0:arguments[0]),l):e},l.mainValue=function(){return arguments.length?(r=Ct(arguments.length<=0?void 0:arguments[0]),l):r},l.bandwidth=function(){return arguments.length?(i=Ct(arguments.length<=0?void 0:arguments[0]),l):i},l.align=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l.orient=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],l):o},l},It="#c60",Rt="#6c0",Bt="#000",Ot="#ddd",Lt="#999",Yt=function(){var t=Pt(),e=u.line().x((function(e,n){return t.values(e,n).transposedX})).y((function(e,n){return t.values(e,n).transposedY})),n=xt("path","line"),r=function(r){bt(r)&&n.transition(r),e.defined(t.defined()),r.each((function(r,a,i){var o=n(l.select(i[a]),[r]);o.enter().attr("fill","none").attr("stroke",Bt),o.attr("d",e),t.decorate()(o,r,a)}))};return v(r,t,y("baseValue","bandwidth","align")),g(r,n,"key"),g(r,e,"curve"),r},Ft=function(){var t=Pt(),e=u.line().x((function(e,n){return t.values(e,n).transposedX})).y((function(e,n){return t.values(e,n).transposedY})),n=function(n){var r=e.context();r.beginPath(),r.strokeStyle=Bt,r.fillStyle="transparent",t.decorate()(r,n),e.defined(t.defined())(n),r.fill(),r.stroke(),r.closePath()};return v(n,t,y("baseValue","bandwidth","align")),g(n,e,"curve","context"),n},Ut=function(){var t=[0,1],e=[-1,1],n=function(){};return n.domain=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n.range=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n},Ht=function(){var t={},e={},n=null,r=function(r,a){var i=r.context();Object.keys(t).forEach((function(e){var n=t[e];if("function"!=typeof n)throw new Error("Expected an attribute for ".concat(e,", found ").concat(n));var o=i.getAttribLocation(a,e);n.location(o)(r)})),Object.keys(e).forEach((function(t){var n=e[t];if("function"!=typeof n)throw new Error("Expected a uniform for ".concat(t,", found ").concat(n));var o=i.getUniformLocation(a,t);n.location(o)(r)})),null!==n&&n(r)};return r.flush=function(){Object.values(t).forEach((function(t){return t.clear()})),Object.values(e).forEach((function(t){return t.clear()})),null!==n&&n.clear()},r.attribute=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return 1===n.length?t[n[0]]:(t[n[0]]=n[1],r)},r.uniform=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return 1===n.length?e[n[0]]:(e[n[0]]=n[1],r)},r.elementIndices=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},r},jt=function(t){var e=-1,n=t,r=!0,a=function(t){if(r){var a=t.context();if(Array.isArray(n))switch(n.length){case 1:a.uniform1fv(e,n);break;case 2:a.uniform2fv(e,n);break;case 3:a.uniform3fv(e,n);break;case 4:a.uniform4fv(e,n);break;default:throw new Error("Uniform supports up to 4 elements. ".concat(n.length," provided."))}else a.uniform1f(e,n);r=!1}};return a.clear=function(){r=!0},a.location=function(){return arguments.length?(e!==(arguments.length<=0?void 0:arguments[0])&&(e=arguments.length<=0?void 0:arguments[0],r=!0),a):e},a.data=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r=!0,a):n},a},Wt=0,qt=4,$t=function(){var t=null,e=null,n=null,r=null,a=null,i=null,o=qt,l=0,u=Ht(),c=!1,f=null,s=!0,h=1,d=function d(p){if(null!=t){var v=n(),m=r();if(function(t,e,n){return!(t&&!s)||e!==a||n!==i}(e,v,m)&&(e=function(e,n){var r=g(e,t.VERTEX_SHADER),a=g(n,t.FRAGMENT_SHADER),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,a),t.linkProgram(i),c&&!t.getProgramParameter(i,t.LINK_STATUS)){var o=t.getProgramInfoLog(i);throw t.deleteProgram(i),new Error("Failed to link program : ".concat(o,"\n            Vertex Shader : ").concat(e,"\n            Fragment Shader : ").concat(n))}return i}(v,m),a=v,i=m,s=!1),t.useProgram(e),u.uniform("uScreen",jt([t.canvas.width/h,t.canvas.height/h])),u(d,e),0===l)null==u.elementIndices()?t.drawArrays(o,0,p):t.drawElements(o,p,t.UNSIGNED_SHORT,0);else if(null==u.elementIndices())f.drawArraysInstancedANGLE(o,0,l,p);else{var y=u.elementIndices().data().length;if(l!==y)throw new Error("Expected elementIndices length ".concat(y)+" to match subInstanceCount ".concat(l,"."));f.drawElementsInstancedANGLE(o,l,t.UNSIGNED_SHORT,0,p)}}};return d.extInstancedArrays=function(){return f},d.context=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.length?((null==n[0]||n[0]!==t)&&(u.flush(),s=!0),null!=n[0]&&n[0]!==t&&(f=n[0].getExtension("ANGLE_instanced_arrays")),t=n[0],d):t},d.buffers=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],d):u},d.vertexShader=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],d):n},d.fragmentShader=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],d):r},d.mode=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],d):o},d.subInstanceCount=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],d):l},d.debug=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},d.pixelRatio=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],d):h},d;function g(e,n){var r=t.createShader(n);if(t.shaderSource(r,e),t.compileShader(r),c&&!t.getShaderParameter(r,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(r);throw t.deleteShader(r),new Error("Failed to compile shader : ".concat(a,"\n            Shader : ").concat(e))}return r}},Gt=function(t){var e=[],n=[],r=function(){return t(e.join("\n"),n.join("\n"))};function a(t,e){t.push(e)}function i(t,e,n){var r=t.indexOf(n);t.splice(r>=0?r:t.length,0,e)}function o(t,e){-1===t.indexOf(e)&&t.push(e)}return r.appendHeader=function(t){return a(e,t),r},r.insertHeader=function(t,n){return i(e,t,n),r},r.appendHeaderIfNotExists=function(t){return o(e,t),r},r.appendBody=function(t){return a(n,t),r},r.insertBody=function(t,e){return i(n,t,e),r},r.appendBodyIfNotExists=function(t){return o(n,t),r},r},Xt=function(t,e){return"\nprecision mediump float;\nfloat inf = 1.0 / 0.0;\n".concat(t,"\nvoid main() {\n    ").concat(e,"\n}")},Qt=function(t,e){return"\nprecision mediump float;\n".concat(t,"\nvoid main() {\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    ").concat(e,"\n}")},Kt={header:"attribute vec4 aFillColor;\n             varying vec4 vFillColor;",body:"vFillColor = aFillColor;"},Zt={header:"attribute vec4 aStrokeColor;\n             varying vec4 vStrokeColor;",body:"vStrokeColor = aStrokeColor;"},Jt={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = 2.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},te={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = 4.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},ee={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = 3.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},ne={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = sqrt(aSize);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},re={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = sqrt(aSize);\n        gl_PointSize = 2.0 * (vSize + uStrokeWidth + 1.0);\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},ae={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = sqrt((16.0 * aSize) / (3.0 * sqrt(3.0)));\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},ie={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vStrokeWidthRatio;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = 3.0 * sqrt(aSize / 5.0);\n        vStrokeWidthRatio = uStrokeWidth / (vSize + uStrokeWidth + 1.0);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},oe={header:"\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aOpenValue;\n        attribute float aCloseValue;\n        attribute float aLowValue;\n        attribute vec3 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vColorIndicator;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vColorIndicator = sign(aCloseValue - aOpenValue);\n\n        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;\n        float isNotPositiveY = 1.0 - isPositiveY;\n        float isExtremeY = abs(aCorner.y) - 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n        float yValue =\n         (isPositiveY * isExtremeY * aLowValue) +\n         (isPositiveY * isNotExtremeY * aCloseValue) +\n         (isNotPositiveY * isNotExtremeY * aOpenValue) +\n         (isNotPositiveY * isExtremeY * aHighValue);\n\n        float lineWidthXDirection = (isNotExtremeY * aCorner.x) + (isExtremeY * aCorner.z);\n        float lineWidthYDirection = isNotExtremeY * sign(aCloseValue - aOpenValue) * aCorner.y;\n\n        float bandwidthModifier = aBandwidth * aCorner.x / 2.0;\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;\n        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);"},le={header:"\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aOpenValue;\n        attribute float aCloseValue;\n        attribute float aLowValue;\n        attribute vec3 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vColorIndicator;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vColorIndicator = sign(aCloseValue - aOpenValue);\n\n        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;\n        float isNotPositiveY = 1.0 - isPositiveY;\n        float isExtremeY = abs(aCorner.y) - 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n        float yValue =\n            (isPositiveY * isExtremeY * aLowValue) +\n            (isPositiveY * isNotExtremeY * aCloseValue) +\n            (isNotPositiveY * isNotExtremeY * aOpenValue) +\n            (isNotPositiveY * isExtremeY * aHighValue);\n\n        float lineWidthXDirection = isExtremeY * aCorner.z;\n        float lineWidthYDirection = isNotExtremeY * aCorner.z;\n\n        float bandwidthModifier = isNotExtremeY * aCorner.x * aBandwidth / 2.0;\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;\n        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);"},ue={header:"\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aMainValue;\n        attribute float aBaseValue;\n        attribute vec2 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        float isBaseline = (1.0 - aCorner.y) / 2.0;\n        float yValue = (isBaseline * aBaseValue) + ((1.0 - isBaseline) * aMainValue);\n\n        float xModifier = aCorner.x * (aBandwidth) / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);"},ce={header:"\n        attribute vec3 aCorner;\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aLowValue;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        float isLow = (aCorner.y + 1.0) / 2.0;\n        float yValue = isLow * aLowValue + (1.0 - isLow) * aHighValue;\n\n        float isEdgeCorner = abs(aCorner.x);\n        float lineWidthXDirection = (1.0 - isEdgeCorner) * aCorner.z;\n        float lineWidthYDirection = isEdgeCorner * aCorner.z;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection) + (aBandwidth * aCorner.x / 2.0);\n        float yModifier = (uStrokeWidth * lineWidthYDirection);"},fe={header:"\n        attribute vec3 aCorner;\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aCrossNextValue;\n        attribute float aMainNextValue;\n        attribute float aBaseValue;\n        attribute float aBaseNextValue;\n        attribute float aDefined;\n        attribute float aDefinedNext;\n\n        varying float vDefined;\n\n        float when_lt(float a, float b) {\n            return max(sign(b - a), 0.0);\n        }\n\n        float and(float a, float b) {\n            return a * b;\n        }",body:"\n        vDefined = aDefined * aDefinedNext;\n        gl_Position = vec4(0, 0, 0, 1);\n\n        float hasIntercepted = when_lt((aMainNextValue - aBaseNextValue) * (aMainValue - aBaseValue), 0.0);\n        float useIntercept = and(aCorner.z, hasIntercepted);\n\n        float yGradient = (aMainNextValue - aMainValue) / (aCrossNextValue - aCrossValue);\n        float yConstant = aMainNextValue - (yGradient * aCrossNextValue);\n\n        float y0Gradient = (aBaseNextValue - aBaseValue) / (aCrossNextValue - aCrossValue);\n        float y0Constant = aBaseNextValue - (y0Gradient * aCrossNextValue);\n\n        float denominator = (yGradient - y0Gradient) + step(abs(yGradient - y0Gradient), 0.0);\n        float interceptXValue = (y0Constant - yConstant) / denominator;\n        float interceptYValue = (yGradient * interceptXValue) + yConstant;\n\n        gl_Position = vec4(interceptXValue * useIntercept, interceptYValue * useIntercept, 0, 1);\n\n        gl_Position.x += (1.0 - useIntercept) * ((aCorner.x * aCrossNextValue) + ((1.0 - aCorner.x) * aCrossValue));\n        gl_Position.y += (1.0 - useIntercept) * (1.0 - aCorner.y) * ((aCorner.x * aMainNextValue) + ((1.0 - aCorner.x) * aMainValue));\n        gl_Position.y += (1.0 - useIntercept) * aCorner.y * ((aCorner.x * aBaseNextValue) + ((1.0 - aCorner.x) * aBaseValue));"},se={header:"\n        attribute vec4 aCorner;\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aCapWidth;\n        attribute float aHighValue;\n        attribute float aUpperQuartileValue;\n        attribute float aMedianValue;\n        attribute float aLowerQuartileValue;\n        attribute float aLowValue;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;\n    ",body:"\n        vDefined = aDefined;\n        float isExtremeY = sign(abs(aCorner.y) - 2.0) + 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n\n        float isNonZeroY = abs(sign(aCorner.y));\n        float isZeroY = 1.0 - isNonZeroY;\n\n        float isQuartileY = isNotExtremeY * isNonZeroY;\n\n        float isPositiveY = (sign(aCorner.y + 0.5) + 1.0) / 2.0;\n        float isNegativeY = 1.0 - isPositiveY;\n\n        float yValue =\n          (isExtremeY * isNegativeY) * aHighValue +\n          (isQuartileY * isNegativeY) * aUpperQuartileValue +\n          isZeroY * aMedianValue +\n          (isQuartileY * isPositiveY) * aLowerQuartileValue +\n          (isExtremeY * isPositiveY) * aLowValue;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);\n\n        float isHorizontal = aCorner.w;\n        float isVertical = 1.0 - isHorizontal;\n\n        float xDisplacement = aCorner.x * (isExtremeY * aCapWidth + isNotExtremeY * aBandwidth) / 2.0;\n\n        float xModifier = (isVertical * uStrokeWidth * aCorner.z / 2.0) + xDisplacement;\n        float yModifier = isHorizontal * uStrokeWidth * aCorner.z / 2.0;"},he={header:"\n        varying float vSize;\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        float distance = length(2.0 * gl_PointCoord - 1.0);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }"},de={header:"\n        varying float vSize;\n        varying float vDefined;\n\n        // anterior, exterior angles\n        float an = 0.628319;\n        vec2 acs = vec2(0.809017, 0.587786); // (cos, sin)\n        float en = 0.952000;\n        vec2 ecs = vec2(0.580055, 0.814577);\n    ",body:"\n        float canFill = 1.0;\n\n        vec2 p = 2.0 * gl_PointCoord - 1.0;\n        p.y *= -1.0;\n\n        // sector\n        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;\n        p = length(p) * vec2(cos(bn), abs(sin(bn)));\n\n        p -= acs;\n        p += ecs * clamp(-dot(p, ecs), 0.0, acs.y / ecs.y);\n        float d = length(p) * sign(p.x);\n\n        float distance = 1.0 + d;\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }"},ge={header:"\n        varying float vSize;\n        varying float vDefined;\n    ",body:"\n        float canFill = 1.0;\n\n        vec2 p = 2.0 * gl_PointCoord - 1.0;\n        p.y *= -1.0;\n\n        // sector\n        float an = 3.141593 / 3.0;\n        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;\n        p = length(p) * vec2(cos(bn), abs(sin(bn)));\n\n        // box\n        vec2 d = abs(p) - vec2(0.9, 0.35);\n        float sdf = length(max(d, 0.0)) + min(max(d.x, d.y), 0.0);\n\n        float distance = 1.0 + sdf;\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }"},pe={header:"\n        varying float vSize;\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float distance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);"},ve={header:"\n        varying float vSize;\n        varying float vDefined;\n        float a = 0.6;\n        float b = 1.0;\n    ",body:"\n        if (vDefined < 0.5) {\n            discard;\n        }\n\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n\n        float x = abs(pointCoordTransform.x);\n        float y = abs(pointCoordTransform.y);\n\n        float X = (a * b * x) / (a * y + b * x);\n        float Y = (a * b * y) / (a * y + b * x);\n\n        float distance = length(vec2(x, y)) / length(vec2(X, Y));\n\n        if (distance > 1.0) {\n            discard;\n        }\n    "},me={header:"\n        varying float vSize;\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float topEdgesDistance = abs(pointCoordTransform.x) - ((pointCoordTransform.y - 0.6) / sqrt(3.0));\n        float bottomEdgeDistance = pointCoordTransform.y + 0.5;\n        float distance = max(topEdgesDistance, bottomEdgeDistance);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n        }"},ye={header:"\n        varying float vSize;\n        varying float vStrokeWidthRatio;\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float innerCornerDistance = min(abs(pointCoordTransform.x), abs(pointCoordTransform.y)) + 0.66 - vStrokeWidthRatio;\n        float outerEdgeDistance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));\n        float distance = max(innerCornerDistance, outerEdgeDistance);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n        }"},be={header:"\n        varying float vColorIndicator;\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        float canStroke = 0.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.4, 0.8, 0, 1);\n        if (vColorIndicator < 0.0) {\n            gl_FragColor = vec4(0.8, 0.4, 0, 1);\n        }"},xe={header:"\n        varying float vColorIndicator;\n        varying float vDefined;",body:"\n        float canFill = 0.0;\n        float canStroke = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.4, 0.8, 0, 1);\n        if (vColorIndicator < 0.0) {\n            gl_FragColor = vec4(0.8, 0.4, 0, 1);\n        }"},_e={header:"\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        float canStroke = 0.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.86, 0.86, 0.86, 1);"},we={header:"\n        varying float vDefined;\n    ",body:"\n        float canFill = 0.0;\n        float canStroke = 1.0;\n\n        if (vDefined < 0.5) {\n            discard;\n        }"},Se={header:"varying float vDefined;",body:"\n        float canFill = 0.0;\n        float canStroke = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }"},Me={header:"varying float vDefined;",body:"\n        float canFill = 1.0;\n        float canStroke = 0.0;\n\n        gl_FragColor = vec4(0.60, 0.60, 0.60, 1.0);\n\n        if (vDefined < 0.5) {\n            discard;\n        }"},Ae="varying vec4 vFillColor;",ke="gl_FragColor = (canFill * vFillColor) + ((1.0 - canFill) * gl_FragColor);",Te="varying vec4 vStrokeColor;",Ve="gl_FragColor = (canStroke * vStrokeColor) + ((1.0 - canStroke) * gl_FragColor);",Ne={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,FLOAT:5126};function Ce(t){switch(t){case Ne.BYTE:case Ne.UNSIGNED_BYTE:return 1;case Ne.SHORT:case Ne.UNSIGNED_SHORT:return 2;case Ne.FLOAT:return 4;default:throw new Error("Unknown type ".concat(t))}}function Ee(t){switch(t){case Ne.BYTE:return Int8Array;case Ne.UNSIGNED_BYTE:return Uint8Array;case Ne.SHORT:return Int16Array;case Ne.UNSIGNED_SHORT:return Uint16Array;case Ne.FLOAT:return Float32Array;default:throw new Error("Unknown type ".concat(t))}}var ze=function(){var t=-1,e=null,n=1,r=Ne.FLOAT,a=!1,i=0,o=0,l=null,u=function(u){var c=u.context();null==e&&(e=c.createBuffer()),c.bindBuffer(c.ARRAY_BUFFER,e),c.vertexAttribPointer(t,n,r,a,i,o),c.enableVertexAttribArray(t),u.extInstancedArrays().vertexAttribDivisorANGLE(t,l??(u.subInstanceCount()>0?1:0))};return u.location=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],u):t},u.buffer=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],u):e},u.size=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],u):n},u.type=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],u):r},u.normalized=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],u):a},u.stride=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],u):i},u.offset=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],u):o},u.divisor=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],u):l},u},De=function(){var t=!0,e=1,n=Ne.FLOAT,r=function(){var t=Ne.FLOAT,e=new Float32Array(0),n=function(n){var r=Ee(t);return e.length>n?e=new r(e.buffer,0,n):e.length!==n&&(e=new r(n)),e};return n.type=function(){if(!arguments.length)return t;if(t!==(arguments.length<=0?void 0:arguments[0])){var r=Ee(t=arguments.length<=0?void 0:arguments[0]);e=new r(0)}return n},n}(),a=function(t,e){return t},i=null,o=function(){var o=i.length,l=r.type(n)(o*e);if(e>1)for(var u=0;u<o;u++){var c=a(i[u],u);if(c.length!==e)throw new Error("Expected components array of size ".concat(e,", recieved array with length ").concat(c.length,"."));for(var f=0;f<e;f++)l[u*e+f]=c[f]}else for(var s=0;s<o;s++){var h=a(i[s],s);if(Array.isArray(h))throw new Error("Expected a single component value, recieved array with length ".concat(h.length,"."));l[s]=h}return t=!1,l};return o.dirty=function(){return t},o.clear=function(){t=!0},o.size=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],t=!0,o):e},o.type=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],t=!0,o):n},o.arrayViewFactory=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],t=!0,o):r},o.value=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],t=!0,o):a},o.data=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],t=!0,o):i},o},Pe=function(){var t=ze(),e=De(),n=function n(r){if(t.size(n.size()).type(n.type()),t(r),e.dirty()){var a=e(),i=r.context();i.bindBuffer(i.ARRAY_BUFFER,t.buffer()),i.bufferData(i.ARRAY_BUFFER,a,i.DYNAMIC_DRAW)}};return n.clear=function(){t.buffer(null),e.clear()},g(n,t,"normalized","location","divisor"),g(n,e,"data","value","size","type"),n},Ie=function(t,e,n,r){for(var a=arguments.length,i=new Array(a>4?a-4:0),o=4;o<a;o++)i[o-4]=arguments[o];t[e]=function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];var l=n[r].apply(n,i.concat(a));return l===n?t:l}},Re=function(){var t=$t().mode(qt).subInstanceCount(6),e=Ut(),n=Ut(),r=function(){},a=Pe().divisor(0).size(3).type(Ne.UNSIGNED_BYTE).data([[0,0,0],[0,1,0],[1,1,1],[0,0,1],[1,0,0],[1,1,0]]);t.buffers().attribute("aCorner",a);var i=function(a){var i=function(){var t=Gt(Xt),e=Gt(Qt);return t.appendHeader(fe.header).appendBody(fe.body),e.appendHeader(_e.header).appendBody(_e.body),{vertex:function(){return t},fragment:function(){return e}}}();t.vertexShader(i.vertex()).fragmentShader(i.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),r(t),t(a-1)};return i.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},g(i,t,"context","pixelRatio"),Ie(i,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),Ie(i,"crossNextValueAttribute",t.buffers(),"attribute","aCrossNextValue"),Ie(i,"mainValueAttribute",t.buffers(),"attribute","aMainValue"),Ie(i,"mainNextValueAttribute",t.buffers(),"attribute","aMainNextValue"),Ie(i,"baseValueAttribute",t.buffers(),"attribute","aBaseValue"),Ie(i,"baseNextValueAttribute",t.buffers(),"attribute","aBaseNextValue"),Ie(i,"definedAttribute",t.buffers(),"attribute","aDefined"),Ie(i,"definedNextAttribute",t.buffers(),"attribute","aDefinedNext"),i},Be=function(){var t=Gt(Xt),e=Gt(Qt);return t.appendHeader(Jt.header).appendBody(Jt.body),e.appendHeader(he.header).appendBody(he.body),{vertex:function(){return t},fragment:function(){return e}}},Oe=function(){var t=$t().mode(Wt),e=Ut(),n=Ut(),r=Be(),a=function(){},i=function(i){t.vertexShader(r.vertex()).fragmentShader(r.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),a(t),t(i)};return i.type=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],i):a},i.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},g(i,t,"context","pixelRatio"),Ie(i,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),Ie(i,"mainValueAttribute",t.buffers(),"attribute","aMainValue"),Ie(i,"sizeAttribute",t.buffers(),"attribute","aSize"),Ie(i,"definedAttribute",t.buffers(),"attribute","aDefined"),i},Le=function(){var t=1,e=function(e){e.buffers().uniform("uStrokeWidth",jt(t))};return e.lineWidth=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],e):t},e},Ye=function(t){var e=null,n=t,r=!0,a=function(t){var a=t.context();null==e&&(e=a.createBuffer()),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,e),r&&(a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(n),a.STATIC_DRAW),r=!1)};return a.clear=function(){e=null,r=!0},a.data=function(){return arguments.length?(r=!0,n=arguments.length<=0?void 0:arguments[0],a):n},a},Fe=function(){var t=$t().mode(qt).subInstanceCount(6),e=Ut(),n=Ut(),r=function(){},a=Le(),i=Pe().divisor(0).size(4).type(Ne.BYTE).data([[-1,1,1,0],[1,1,0,1],[1,-1,0,1],[-1,-1,1,0]]);t.buffers().elementIndices(Ye([0,1,2,2,3,0])).attribute("aCorner",i);var o=function(i){var o=Gt(Xt),l=Gt(Qt);t.vertexShader(o).fragmentShader(l),o.appendHeader("\n            attribute vec4 aCorner;\n            attribute float aCrossValue;\n            attribute float aCrossNextValue;\n            attribute float aMainValue;\n            attribute float aMainNextValue;\n            attribute float aDefined;\n            attribute float aDefinedNext;\n\n            uniform float uStrokeWidth;\n            uniform vec2 uScreen;\n\n            varying float vLength;\n            varying vec2 vPosition;\n        "),o.appendBody("\n            vec4 value = vec4(aCrossValue, aMainValue, 0.0, 1.0);\n            vec4 nextValue = vec4(aCrossNextValue, aMainNextValue, 0.0, 1.0);\n        "),e(t,"value",0),e(t,"nextValue",0),n(t,"value",1),n(t,"nextValue",1),o.appendBody("\n            vec2 position = aCorner[2] * value.xy + aCorner[3] * nextValue.xy;\n\n            vec2 direction = normalize((nextValue.xy - value.xy) * uScreen);\n            vec2 normal = vec2(direction.y, -direction.x);\n            vec2 padding = ((uStrokeWidth / 2.0) / (uScreen / 2.0));\n            \n            padding *= aDefined * aDefinedNext;\n            position += (aCorner[0] * direction + aCorner[1] * normal) * padding;\n\n            gl_Position = vec4(position.x, position.y, 0.0, 1.0);\n\n            vLength = length((nextValue.xy - value.xy) * (uScreen / 2.0));\n            vPosition = aCorner.xy * (uStrokeWidth / 2.0);\n            vPosition.x += aCorner[3] * vLength;\n        "),l.appendHeader("\n            uniform float uStrokeWidth;\n            varying float vLength;\n            varying vec2 vPosition;\n\n            float canFill = 0.0;\n            float canStroke = 1.0;\n        "),l.appendBody("\n            vec2 position = vPosition;\n            position.x -= clamp(position.x, 0.0, vLength);\n            float sdf = length(position) - uStrokeWidth / 2.0;\n            if (sdf > 0.5) {\n                discard;\n            }\n        "),a(t),r(t),t(i-1)};return o.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,t,"context","pixelRatio"),g(o,a,"lineWidth"),Ie(o,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),Ie(o,"crossNextValueAttribute",t.buffers(),"attribute","aCrossNextValue"),Ie(o,"mainValueAttribute",t.buffers(),"attribute","aMainValue"),Ie(o,"mainNextValueAttribute",t.buffers(),"attribute","aMainNextValue"),Ie(o,"definedAttribute",t.buffers(),"attribute","aDefined"),Ie(o,"definedNextAttribute",t.buffers(),"attribute","aDefinedNext"),o},Ue=function(){var t=$t().mode(qt).subInstanceCount(18),e=Ut(),n=Ut(),r=Le(),a=function(){},i=Pe().divisor(0).size(3).type(Ne.BYTE).data([[0,-2,-1],[0,-2,1],[0,2,1],[0,2,-1],[-1,-1,-1],[-1,-1,1],[0,-1,1],[0,-1,-1],[1,1,1],[0,1,1],[0,1,-1],[1,1,-1]]);t.buffers().elementIndices(Ye([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,10,11,8])).attribute("aCorner",i);var o=function(i){var o=function(){var t=Gt(Xt),e=Gt(Qt);return t.appendHeader(le.header).appendBody(le.body),e.appendHeader(xe.header).appendBody(xe.body),{vertex:function(){return t},fragment:function(){return e}}}();t.vertexShader(o.vertex()).fragmentShader(o.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),r(t),t.vertexShader().appendBody("\n          gl_Position.x += xModifier / uScreen.x * 2.0;\n          gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),a(t),t(i)};return o.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,t,"context","pixelRatio"),g(o,r,"lineWidth"),Ie(o,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),Ie(o,"openValueAttribute",t.buffers(),"attribute","aOpenValue"),Ie(o,"highValueAttribute",t.buffers(),"attribute","aHighValue"),Ie(o,"lowValueAttribute",t.buffers(),"attribute","aLowValue"),Ie(o,"closeValueAttribute",t.buffers(),"attribute","aCloseValue"),Ie(o,"bandwidthAttribute",t.buffers(),"attribute","aBandwidth"),Ie(o,"definedAttribute",t.buffers(),"attribute","aDefined"),o},He=function(){var t=$t().mode(qt).subInstanceCount(6),e=Ut(),n=Ut(),r=function(){},a=Pe().divisor(0).size(2).type(Ne.BYTE).data([[-1,-1],[1,1],[-1,1],[1,-1]]);t.buffers().elementIndices(Ye([0,1,2,0,1,3])).attribute("aCorner",a);var i=function(a){var i=function(){var t=Gt(Xt),e=Gt(Qt);return t.appendHeader(ue.header).appendBody(ue.body),e.appendHeader(Me.header).appendBody(Me.body),{vertex:function(){return t},fragment:function(){return e}}}();t.vertexShader(i.vertex()).fragmentShader(i.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),t.vertexShader().appendBody("\n            gl_Position.x += xModifier / uScreen.x * 2.0;\n        "),r(t),t(a)};return i.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},g(i,t,"context","pixelRatio"),Ie(i,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),Ie(i,"mainValueAttribute",t.buffers(),"attribute","aMainValue"),Ie(i,"baseValueAttribute",t.buffers(),"attribute","aBaseValue"),Ie(i,"bandwidthAttribute",t.buffers(),"attribute","aBandwidth"),Ie(i,"definedAttribute",t.buffers(),"attribute","aDefined"),i},je=function(){var t=$t().mode(qt).subInstanceCount(18),e=Ut(),n=Ut(),r=function(){},a=Le(),i=Pe().divisor(0).size(3).type(Ne.BYTE).data([[0,1,1],[0,1,-1],[0,-1,-1],[0,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1],[-1,-1,1],[-1,1,-1],[-1,1,1],[1,1,1],[1,1,-1]]);t.buffers().elementIndices(Ye([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,8,11,10])).attribute("aCorner",i);var o=function(i){var o=function(){var t=Gt(Xt),e=Gt(Qt);return t.appendHeader(ce.header).appendBody(ce.body),e.appendHeader(Se.header).appendBody(Se.body),{vertex:function(){return t},fragment:function(){return e}}}();t.vertexShader(o.vertex()).fragmentShader(o.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),a(t),t.vertexShader().appendBody("\n                gl_Position.x += xModifier / uScreen.x * 2.0;\n                gl_Position.y += yModifier / uScreen.y * 2.0;\n            "),r(t),t(i)};return o.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,t,"context","pixelRatio"),g(o,a,"lineWidth"),Ie(o,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),Ie(o,"highValueAttribute",t.buffers(),"attribute","aHighValue"),Ie(o,"lowValueAttribute",t.buffers(),"attribute","aLowValue"),Ie(o,"bandwidthAttribute",t.buffers(),"attribute","aBandwidth"),Ie(o,"definedAttribute",t.buffers(),"attribute","aDefined"),o},We=function(){var t=$t().mode(qt).subInstanceCount(12),e=Ut(),n=Ut(),r=Le(),a=function(){},i=Pe().divisor(0).size(3).type(Ne.BYTE).data([[0,2,1],[0,2,-1],[0,-2,-1],[0,-2,1],[1,-1,0],[-1,-1,0],[-1,1,0],[1,1,0]]);t.buffers().elementIndices(Ye([0,1,2,0,3,2,4,5,6,4,7,6])).attribute("aCorner",i);var o=function(i){var o=function(){var t=Gt(Xt),e=Gt(Qt);return t.appendHeader(oe.header).appendBody(oe.body),e.appendHeader(be.header).appendBody(be.body),{vertex:function(){return t},fragment:function(){return e}}}();t.vertexShader(o.vertex()).fragmentShader(o.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),r(t),t.vertexShader().appendBody("\n          gl_Position.x += xModifier / uScreen.x * 2.0;\n          gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),a(t),t(i)};return o.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,t,"context","pixelRatio"),g(o,r,"lineWidth"),Ie(o,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),Ie(o,"openValueAttribute",t.buffers(),"attribute","aOpenValue"),Ie(o,"highValueAttribute",t.buffers(),"attribute","aHighValue"),Ie(o,"lowValueAttribute",t.buffers(),"attribute","aLowValue"),Ie(o,"closeValueAttribute",t.buffers(),"attribute","aCloseValue"),Ie(o,"bandwidthAttribute",t.buffers(),"attribute","aBandwidth"),Ie(o,"definedAttribute",t.buffers(),"attribute","aDefined"),o},qe=function(){var t=$t().mode(qt).subInstanceCount(54),e=Ut(),n=Ut(),r=function(){},a=Le(),i=Pe().divisor(0).size(4).type(Ne.BYTE).data([[-1,-2,-1,1],[1,-2,-1,1],[1,-2,1,1],[-1,-2,1,1],[0,-2,-1,0],[0,-2,1,0],[0,-1,1,0],[0,-1,-1,0],[-1,-1,-1,1],[1,-1,-1,1],[1,-1,1,1],[-1,-1,1,1],[-1,0,-1,1],[1,0,-1,1],[1,0,1,1],[-1,0,1,1],[-1,1,-1,1],[1,1,-1,1],[1,1,1,1],[-1,1,1,1],[-1,-1,-1,0],[-1,-1,1,0],[-1,1,1,0],[-1,1,-1,0],[1,-1,-1,0],[1,-1,1,0],[1,1,1,0],[1,1,-1,0],[0,2,-1,0],[0,2,1,0],[0,1,1,0],[0,1,-1,0],[-1,2,-1,1],[1,2,-1,1],[1,2,1,1],[-1,2,1,1]]);t.buffers().elementIndices(Ye([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23,24,25,26,24,26,27,28,29,30,28,30,31,32,33,34,32,34,35])).attribute("aCorner",i);var o=function(i){var o=function(){var t=Gt(Xt),e=Gt(Qt);return t.appendHeader(se.header).appendBody(se.body),e.appendHeader(we.header).appendBody(we.body),{vertex:function(){return t},fragment:function(){return e}}}();t.vertexShader(o.vertex()).fragmentShader(o.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),a(t),t.vertexShader().appendBody("\n            gl_Position.x += xModifier / uScreen.x * 2.0;\n            gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),r(t),t(i)};return o.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,t,"context","pixelRatio"),g(o,a,"lineWidth"),Ie(o,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),Ie(o,"highValueAttribute",t.buffers(),"attribute","aHighValue"),Ie(o,"upperQuartileValueAttribute",t.buffers(),"attribute","aUpperQuartileValue"),Ie(o,"medianValueAttribute",t.buffers(),"attribute","aMedianValue"),Ie(o,"lowerQuartileValueAttribute",t.buffers(),"attribute","aLowerQuartileValue"),Ie(o,"lowValueAttribute",t.buffers(),"attribute","aLowValue"),Ie(o,"bandwidthAttribute",t.buffers(),"attribute","aBandwidth"),Ie(o,"capAttribute",t.buffers(),"attribute","aCapWidth"),Ie(o,"definedAttribute",t.buffers(),"attribute","aDefined"),o},$e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t>0||e<0)throw new Error("Offset values (".concat(t," & ").concat(e,") must straddle 0 "));var n=ze(),r=De(),a=function a(i){var o=a.size()*Ce(a.type()),l=Math.abs(t)*o;if(n.offset(l).size(a.size()).type(a.type()),n(i),r.dirty()){var u=r(),c=e*o,f=l+u.length*Ce(a.type())+c,s=i.context();s.bindBuffer(s.ARRAY_BUFFER,n.buffer()),s.bufferData(s.ARRAY_BUFFER,f,s.DYNAMIC_DRAW),s.bufferSubData(s.ARRAY_BUFFER,l,u)}};return a.offset=function(r){if(t>r||r>e)throw new Error("Requested offset ".concat(r," exceeds bounds (").concat(t," & ").concat(e,") "));var i=function(e){n.offset((r-t)*a.size()*Ce(a.type())),n(e)};return g(i,a,"clear","location"),i},a.clear=function(){n.buffer(null),r.clear()},g(a,n,"normalized","location","divisor"),g(a,r,"data","value","size","type"),a},Ge=function(){var t=Ut(),e=function(t){return"linear".concat(t)},n=function(n,r,a){n.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(e(a),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(e(a),"Scale;")).appendBody("".concat(r," = ").concat(r," + ").concat(e(a),"Offset;")).appendBody("".concat(r," = ").concat(r," * ").concat(e(a),"Scale;"));var i=t.domain()[1]-t.domain()[0],o=t.range()[1]-t.range()[0],l=t.range()[0]*(i/o)-t.domain()[0],u=o/i,c=[0,0,0,0],f=[1,1,1,1];c[a]=l,f[a]=u,n.buffers().uniform("".concat(e(a),"Offset"),jt(c)).uniform("".concat(e(a),"Scale"),jt(f))};return v(n,t),n},Xe=function(){var t=Ut(),e=10;function n(t,e){return Math.log10(t)/Math.log10(e)}var r=function(t){return"log".concat(t)},a=function(a,i,o){var l="".concat(r(o),"Offset + (").concat(r(o),"Scale * clamp(log(").concat(i,") / log(").concat(r(o),"Base), -inf, inf))");a.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Include;")).appendHeaderIfNotExists("uniform float ".concat(r(o),"Base;")).appendBody("".concat(i," = (").concat(r(o),"Include * (").concat(l,")) + ((1.0 - ").concat(r(o),"Include) * ").concat(i,");"));var u=n(t.domain()[1],e)-n(t.domain()[0],e),c=(t.range()[1]-t.range()[0])/u,f=t.range()[0]-c*n(t.domain()[0],e),s=[0,0,0,0],h=[0,0,0,0],d=[0,0,0,0];s[o]=f,h[o]=c,d[o]=1,a.buffers().uniform("".concat(r(o),"Offset"),jt(s)).uniform("".concat(r(o),"Scale"),jt(h)).uniform("".concat(r(o),"Include"),jt(d)).uniform("".concat(r(o),"Base"),jt(e))};return a.base=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},v(a,t),a},Qe=function(){var t=Ut(),e=1;function n(t,e){return Math.sign(t)*Math.pow(Math.abs(t),e)}var r=function(t){return"pow".concat(t)},a=function(a,i,o){var l="".concat(r(o),"Offset + (").concat(r(o),"Scale * sign(").concat(i,") * pow(abs(").concat(i,"), vec4(").concat(r(o),"Exp)))");a.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Include;")).appendHeaderIfNotExists("uniform float ".concat(r(o),"Exp;")).appendBody("".concat(i," = (").concat(r(o),"Include * (").concat(l,")) + ((1.0 - ").concat(r(o),"Include) * ").concat(i,");"));var u=n(t.domain()[1],e)-n(t.domain()[0],e),c=(t.range()[1]-t.range()[0])/u,f=t.range()[0]-c*n(t.domain()[0],e),s=[0,0,0,0],h=[0,0,0,0],d=[0,0,0,0];s[o]=f,h[o]=c,d[o]=1,a.buffers().uniform("".concat(r(o),"Offset"),jt(s)).uniform("".concat(r(o),"Scale"),jt(h)).uniform("".concat(r(o),"Include"),jt(d)).uniform("".concat(r(o),"Exp"),jt(e))};return a.exponent=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},v(a,t),a},Ke=n.scaleLinear().copy.toString(),Ze=n.scaleLog().copy.toString(),Je=n.scalePow().copy.toString(),tn=n.scaleTime().copy.toString(),en=n.scaleIdentity(),nn=Date.now(),rn=function(t){return t-nn},an=function(t){switch(t.copy.toString()){case Ke:return{scale:en,webglScale:Ge().domain(t.domain())};case tn:return{scale:rn,webglScale:Ge().domain(t.domain().map(rn))};case Ze:return{scale:en,webglScale:Xe().domain(t.domain()).base(t.base())};case Je:return{scale:en,webglScale:Qe().domain(t.domain()).exponent(t.exponent())};default:return{scale:t.copy(),webglScale:Ge().domain(t.range())}}},on=function(t){switch(t){case u.symbolCircle:return Be();case u.symbolSquare:return function(){var t=Gt(Xt),e=Gt(Qt);return t.appendHeader(ne.header).appendBody(ne.body),e.appendHeader(pe.header).appendBody(pe.body),{vertex:function(){return t},fragment:function(){return e}}}();case u.symbolTriangle:return function(){var t=Gt(Xt),e=Gt(Qt);return t.appendHeader(ae.header).appendBody(ae.body),e.appendHeader(me.header).appendBody(me.body),{vertex:function(){return t},fragment:function(){return e}}}();case u.symbolCross:return function(){var t=Gt(Xt),e=Gt(Qt);return t.appendHeader(ie.header).appendBody(ie.body),e.appendHeader(ye.header).appendBody(ye.body),{vertex:function(){return t},fragment:function(){return e}}}();case u.symbolDiamond:return function(){var t=Gt(Xt),e=Gt(Qt);return t.appendHeader(re.header).appendBody(re.body),e.appendHeader(ve.header).appendBody(ve.body),{vertex:function(){return t},fragment:function(){return e}}}();case u.symbolStar:return function(){var t=Gt(Xt),e=Gt(Qt);return t.appendHeader(te.header).appendBody(te.body),e.appendHeader(de.header).appendBody(de.body),{vertex:function(){return t},fragment:function(){return e}}}();case u.symbolWye:return function(){var t=Gt(Xt),e=Gt(Qt);return t.appendHeader(ee.header).appendBody(ee.body),e.appendHeader(ge.header).appendBody(ge.body),{vertex:function(){return t},fragment:function(){return e}}}();default:throw new Error("Unrecognised symbol: ".concat(t))}},ln=function(t){var e=ze().divisor(1),n=t,r=!0,a=function(t){if(e(t),r){if(!Array.isArray(n))throw new Error("Expected an array, received: ".concat(n));if(n.length!==e.size())throw new Error("Expected array of length: ".concat(e.size(),", recieved array of length: ").concat(n.length));var a=t.context();a["vertexAttrib".concat(n.length,"fv")](e.location(),n),a.disableVertexAttribArray(e.location()),r=!1}};return a.clear=function(){r=!0},a.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r=!0,a):n},g(a,e,"normalized","size","location"),a},un=function(){var t=Pt(),e=$e(0,1),n=e.offset(1),r=$e(0,1),a=r.offset(1),i=$e(0,1).type(Ne.UNSIGNED_BYTE),o=i.offset(1),l=Fe().crossValueAttribute(e).crossNextValueAttribute(n).mainValueAttribute(r).mainNextValueAttribute(a).definedAttribute(i).definedNextAttribute(o),u=function(t,e){return!1},c=an,f=[],s=null,h=null,d=function(n){var a=c(t.xScale()),o=c(t.yScale()),d=!u(f,n);d&&(f=n,i.value((function(e,n){return t.defined()(e,n)})).data(n)),(d||a.scale!==s)&&(s=a.scale,"vertical"===t.orient()?e.value((function(e,n){return a.scale(t.crossValue()(e,n))})).data(n):e.value((function(e,n){return a.scale(t.mainValue()(e,n))})).data(n)),(d||o.scale!==h)&&(h=o.scale,"vertical"===t.orient()?r.value((function(e,n){return o.scale(t.mainValue()(e,n))})).data(n):r.value((function(e,n){return o.scale(t.crossValue()(e,n))})).data(n)),l.xScale(a.webglScale).yScale(o.webglScale).decorate((function(e){return t.decorate()(e,n,0)})),l(n.length)};return d.equals=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],d):u},d.scaleMapper=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},v(d,t,y("baseValue","bandwidth","align")),g(d,l,"context","lineWidth","pixelRatio"),d},cn=function(){var t=u.symbol(),e=Pt(),n=xt("g","point"),r=function(t){return"translate("+t[0]+", "+t[1]+")"},a=function(a){bt(a)&&n.transition(a),a.each((function(a,i,o){var u=a.filter(e.defined()),c=n(l.select(o[i]),u);c.enter().attr("transform",(function(t,n){return r(e.values(t,n).origin)})).attr("fill",Ot).attr("stroke",Bt).append("path"),c.attr("transform",(function(t,n){return r(e.values(t,n).origin)})).select("path").attr("d",t),e.decorate()(c,a,i)}))};return v(a,e,y("baseValue","bandwidth","align")),g(a,n,"key"),g(a,t,"type","size"),a},fn=function(){var t=u.symbol(),e=Pt(),n=function(n){var r=n.filter(e.defined()),a=t.context();r.forEach((function(n,r){a.save();var i=e.values(n,r);a.translate(i.origin[0],i.origin[1]),a.beginPath(),a.strokeStyle=Bt,a.fillStyle=Ot,e.decorate()(a,n,r),t(n,r),a.fill(),a.stroke(),a.closePath(),a.restore()}))};return v(n,e,y("baseValue","bandwidth","align")),g(n,t,"size","type","context"),n},sn=function(){var t=function(t){return t.high},e=function(t){return t.low},r=function(t){return t.cross},a="vertical",i="center",o=function(){return 5},l=Dt({decorate:function(){},defined:function(n,a){return Et(e,t,r)(n,a)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return l.values=function(n,u){var c=o(n,u),f=zt(i,c),s=l.xScale(),h=l.yScale();if("vertical"===a){var d=h(t(n,u));return{origin:[s(r(n,u))+f,d],high:0,low:h(e(n,u))-d,width:c}}var g=s(e(n,u));return{origin:[g,h(r(n,u))+f],high:s(t(n,u))-g,low:0,width:c}},l.xValues=function(){return"vertical"===a?[r]:[t,e]},l.yValues=function(){return"vertical"!==a?[r]:[t,e]},l.orient=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l.lowValue=function(){return arguments.length?(e=Ct(arguments.length<=0?void 0:arguments[0]),l):e},l.highValue=function(){return arguments.length?(t=Ct(arguments.length<=0?void 0:arguments[0]),l):t},l.crossValue=function(){return arguments.length?(r=Ct(arguments.length<=0?void 0:arguments[0]),l):r},l.bandwidth=function(){return arguments.length?(o=Ct(arguments.length<=0?void 0:arguments[0]),l):o},l.align=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],l):i},l},hn=function(){var t,e=function(t){return t.date},r=function(t){return t.open},a=function(t){return t.high},i=function(t){return t.low},o=function(t){return t.close},l=function(){return 5},u="center",c=function(n,r){return t.xScale()(e(n,r))};return(t=Dt({decorate:function(){},defined:function(t,n){return Et(e,r,i,a,o)(t,n)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()})).values=function(e,n){var f=o(e,n),s=r(e,n),h=l(e,n),d=zt(u,h),g="";return f>s?g="up":f<s&&(g="down"),{cross:c(e,n)+d,open:t.yScale()(s),high:t.yScale()(a(e,n)),low:t.yScale()(i(e,n)),close:t.yScale()(f),width:h,direction:g}},t.xValues=function(){return[e]},t.yValues=function(){return[r,a,i,o]},t.crossValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],t):e},t.openValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],t):r},t.highValue=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],t):a},t.lowValue=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],t):i},t.yValue=t.closeValue=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],t):o},t.bandwidth=function(){return arguments.length?(l=Ct(arguments.length<=0?void 0:arguments[0]),t):l},t.align=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],t):u},t},dn=function(t,e){var n=hn(),r=xt("g",e),a=function(t){return"translate("+t.cross+", "+t.high+")"},i=function(i){bt(i)&&r.transition(i);var o=function(t){return function(e){return bt(t)?e.transition(t):e}}(i);i.each((function(i,u,c){var f=i.filter(n.defined()),s=r(l.select(c[u]),f);s.enter().attr("transform",(function(t,e){return a(n.values(t,e))+" scale(1e-6, 1)"})).append("path"),s.each((function(r,i,u){var c=n.values(r,i),f="up"===c.direction?Rt:It,s=o(l.select(u[i])).attr("class",e+" "+c.direction).attr("stroke",f).attr("fill",f).attr("transform",(function(){return a(c)+" scale(1)"}));t.x(0).width(c.width).open((function(){return c.open-c.high})).high(0).low((function(){return c.low-c.high})).close((function(){return c.close-c.high})),s.select("path").attr("d",t([r]))})),n.decorate()(s,i,u)}))};return g(i,r,"key"),v(i,n),i},gn=function(t){var e=hn(),n=function(n){var r=n.filter(e.defined()),a=t.context();r.forEach((function(n,r){a.save();var i=e.values(n,r);a.translate(i.cross,i.high),a.beginPath(),t.x(0).open((function(){return i.open-i.high})).width(i.width).high(0).low((function(){return i.low-i.high})).close((function(){return i.close-i.high}))([n]);var o="up"===i.direction?Rt:It;a.strokeStyle=o,a.fillStyle=o,e.decorate()(a,n,r),a.fill(),a.stroke(),a.closePath(),a.restore()}))};return g(n,t,"context"),v(n,e),n},pn=function(t){var e=hn(),n=Pe(),r=Pe(),a=Pe(),i=Pe(),o=Pe(),l=Pe().type(Ne.UNSIGNED_SHORT),u=Pe().type(Ne.UNSIGNED_BYTE);t.crossValueAttribute(n).openValueAttribute(r).highValueAttribute(a).lowValueAttribute(i).closeValueAttribute(o).bandwidthAttribute(l).definedAttribute(u);var c=function(t,e){return!1},f=an,s=[],h=null,d=null,p=function(g){var p=f(e.xScale()),v=f(e.yScale()),m=!c(s,g);m&&(s=g,l.value((function(t,n){return e.bandwidth()(t,n)})).data(g),u.value((function(t,n){return e.defined()(t,n)})).data(g)),(m||p.scale!==h)&&(h=p.scale,n.value((function(t,n){return p.scale(e.crossValue()(t,n))})).data(g)),(m||v.scale!==d)&&(d=v.scale,r.value((function(t,n){return v.scale(e.openValue()(t,n))})).data(g),a.value((function(t,n){return v.scale(e.highValue()(t,n))})).data(g),i.value((function(t,n){return v.scale(e.lowValue()(t,n))})).data(g),o.value((function(t,n){return v.scale(e.closeValue()(t,n))})).data(g)),t.xScale(p.webglScale).yScale(v.webglScale).decorate((function(t){return e.decorate()(t,g,0)})),t(g.length)};return p.equals=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.scaleMapper=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],p):f},v(p,e,y("align")),g(p,t,"context","lineWidth","pixelRatio"),p},vn=function(){var t=function(t){return t.upperQuartile},e=function(t){return t.lowerQuartile},r=function(t){return t.high},a=function(t){return t.low},i=function(t){return t.value},o=function(t){return t.median},l="vertical",u="center",c=function(){return 5},f=Dt({decorate:function(){},defined:function(n,l){return Et(a,r,e,t,i,o)(n,l)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return f.values=function(n,s){var h=c(n,s),d=zt(u,h),g=f.xScale(),p=f.yScale();if("vertical"===l){var v=p(r(n,s));return{origin:[g(i(n,s))+d,v],high:0,upperQuartile:p(t(n,s))-v,median:p(o(n,s))-v,lowerQuartile:p(e(n,s))-v,low:p(a(n,s))-v,width:h}}var m=g(a(n,s));return{origin:[m,p(i(n,s))+d],high:g(r(n,s))-m,upperQuartile:g(t(n,s))-m,median:g(o(n,s))-m,lowerQuartile:g(e(n,s))-m,low:0,width:h}},f.xValues=function(){return"vertical"===l?[i]:[t,e,r,a,o]},f.yValues=function(){return"vertical"!==l?[i]:[t,e,r,a,o]},f.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],f):l},f.lowerQuartileValue=function(){return arguments.length?(e=Ct(arguments.length<=0?void 0:arguments[0]),f):e},f.upperQuartileValue=function(){return arguments.length?(t=Ct(arguments.length<=0?void 0:arguments[0]),f):t},f.lowValue=function(){return arguments.length?(a=Ct(arguments.length<=0?void 0:arguments[0]),f):a},f.highValue=function(){return arguments.length?(r=Ct(arguments.length<=0?void 0:arguments[0]),f):r},f.crossValue=function(){return arguments.length?(i=Ct(arguments.length<=0?void 0:arguments[0]),f):i},f.medianValue=function(){return arguments.length?(o=Ct(arguments.length<=0?void 0:arguments[0]),f):o},f.bandwidth=function(){return arguments.length?(c=Ct(arguments.length<=0?void 0:arguments[0]),f):c},f.align=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],f):u},f},mn=function(){var t=[],e=function(t){return t},r=function(t,e){return e},a=Dt({decorate:function(){},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return a.xValues=function(){return t.map((function(t){return t.xValues()})).reduce((function(t,e){return t.concat(e)}))},a.yValues=function(){return t.map((function(t){return t.yValues()})).reduce((function(t,e){return t.concat(e)}))},a.mapping=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.key=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.series=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a},yn=function(){var t=mn(),e=xt("g"),n=xt("g","multi"),r=function(r){bt(r)&&(n.transition(r),e.transition(r));var a=t.mapping(),i=t.series(),o=t.xScale(),u=t.yScale();r.each((function(r,c,f){var s=n(l.select(f[c]),i);s.each((function(t,n,c){t.xScale(o).yScale(u);var f=a(r,n,i);e(l.select(c[n]),[f]).call(t)})),s.selection().order(),t.decorate()(s,r,c)}))};return v(r,t),g(r,n,"key"),r},bn=function(){var t=null,e=mn(),n=function(n){var r=e.mapping(),a=e.series(),i=e.xScale(),o=e.yScale();a.forEach((function(l,u){var c,f=r(n,u,a);l.context(t).xScale(i).yScale(o),l.decorate?(c=l.decorate(),l.decorate((function(t,r,a){e.decorate()(t,n,u),c(t,r,a)}))):e.decorate()(t,n,u),l(f),c&&l.decorate(c)}))};return n.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},v(n,e),n},xn=function(){var t=null,e=1,n=mn(),r=function(r){var a=n.mapping(),i=n.series(),o=n.xScale(),l=n.yScale();i.forEach((function(u,c){var f,s=a(r,c,i);u.context(t).pixelRatio(e).xScale(o).yScale(l),u.decorate?(f=u.decorate(),u.decorate((function(t,e,a){n.decorate()(t,r,c),f(t,e,a)}))):n.decorate()(t,r,c),u(s),f&&u.decorate(f)}))};return r.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r.pixelRatio=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},v(r,n),r},_n=function(t){var r=function(){return 50},a="center",i=n.scaleBand(),o=Dt({decorate:function(){},xScale:n.scaleLinear(),yScale:n.scaleLinear()});return o.offsetScaleForDatum=function(t,n,o){var l=r(n,o),u=zt(a,l),c=l/2;return i.domain(e.range(0,t.length)).range([-c+u,c+u])},o.bandwidth=function(){return arguments.length?(r=Ct(arguments.length<=0?void 0:arguments[0]),o):r},o.align=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},v(o,i,x({paddingInner:"paddingOuter"})),o},wn=function(){var t=function(t){return t.x},r=function(t){return t.y},a=function(t){return t.color},i=function(){return 5},o=function(){return 5},l=c.interpolateViridis,u=Dt({decorate:function(){},defined:function(e,n){return Et(t,r,a)(e,n)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return u.pathGenerator=dt().x(0).y(0),u.colorScale=function(t){var r=t.map(a);return n.scaleLinear().domain([e.min(r),e.max(r)])},u.values=function(e,n){return{x:u.xScale()(t(e,n)),y:u.yScale()(r(e,n)),colorValue:a(e,n),width:o(e,n),height:i(e,n)}},u.xValues=function(){return[t]},u.yValues=function(){return[r]},u.xValue=function(){return arguments.length?(t=Ct(arguments.length<=0?void 0:arguments[0]),u):t},u.yValue=function(){return arguments.length?(r=Ct(arguments.length<=0?void 0:arguments[0]),u):r},u.colorValue=function(){return arguments.length?(a=Ct(arguments.length<=0?void 0:arguments[0]),u):a},u.colorInterpolate=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],u):l},u.xBandwidth=function(){return arguments.length?(o=Ct(arguments.length<=0?void 0:arguments[0]),u):o},u.yBandwidth=function(){return arguments.length?(i=Ct(arguments.length<=0?void 0:arguments[0]),u):i},v(u,u.pathGenerator,x({horizontalAlign:"xAlign",verticalAlign:"yAlign"})),u},Sn=function(t){return"function"==typeof t?t:function(){return t}},Mn=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r=function(t){return t},a=r,i=function(){},o="horizontal",u=xt("g","annotation-line"),c=function(n){if(bt(n)&&u.transition(n),"horizontal"!==o&&"vertical"!==o)throw new Error("Invalid orientation");var c="horizontal"===o,f=c?function(t,e){return"translate(".concat(t,", ").concat(e,")")}:function(t,e){return"translate(".concat(e,", ").concat(t,")")},s=c?"x2":"y2",h=c?e:t,d=c?"left-handle":"bottom-handle",g=c?"right-handle":"top-handle",p=c?"9":"0",v=c?"0":"9",m=c?"0.32em":"0.71em",y=c?"start":"middle",b=(c?t:e).range(),x=function(){return f(b[0],h(r.apply(void 0,arguments)))},_=b[1]-b[0];n.each((function(t,e,n){var r=u(l.select(n[e]),t),c=r.enter().attr("transform",x).style("stroke","#bbb");c.append("line").attr(s,_),c.append("g").classed(d,!0).style("stroke","none"),c.append("g").classed(g,!0).style("stroke","none").attr("transform",f(_,0)).append("text").attr("text-anchor",y).attr("x",p).attr("y",v).attr("dy",m),r.attr("class","annotation-line ".concat(o)),r.attr("transform",x),r.select("line").attr(s,_),r.select("g."+g).attr("transform",f(_,0)),r.select("text").text(a),i(r,t,e)}))};return c.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.value=function(){return arguments.length?(r=Sn(arguments.length<=0?void 0:arguments[0]),c):r},c.label=function(){return arguments.length?(a=Sn(arguments.length<=0?void 0:arguments[0]),c):a},c.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],c):i},c.orient=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],c):o},c},An=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r=function(t){return t},a=r,i=function(){},o="horizontal",l=u.line(),c=function(n){if("horizontal"!==o&&"vertical"!==o)throw new Error("Invalid orientation");var u="horizontal"===o,c=l.context(),f=u?t:e,s=u?e:t,h=f.domain(),d=u?9:0,g=u?0:9,p=u?"left":"center",v=u?"middle":"hanging";n.forEach((function(t,e){c.save(),c.beginPath(),c.strokeStyle="#bbb",c.fillStyle="#000",c.textAlign=p,c.textBaseline=v,i(c,t,e),l.context(c)(h.map((function(e){var n=[f(e),s(r(t))];return u?n:n.reverse()})));var n=u?f(h[1]):s(r(t)),o=u?s(r(t)):f(h[1]);c.fillText(a(t),n+d,o+g),c.fill(),c.stroke(),c.closePath(),c.restore()}))};return c.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.value=function(){return arguments.length?(r=Sn(arguments.length<=0?void 0:arguments[0]),c):r},c.label=function(){return arguments.length?(a=Sn(arguments.length<=0?void 0:arguments[0]),c):a},c.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],c):i},c.orient=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],c):o},g(c,l,"context"),c},kn=function(){var t=n.scaleIdentity(),e=[10],r=null,a=function(){var n;return r??(t.ticks?(n=t).ticks.apply(n,F(e)):t.domain())};return a.scale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.ticks=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=n,a},a.tickArguments=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.tickValues=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a},Tn=function(t){return t},Vn=function(t){return t},Nn=function(t,e,n,r){return t[e]?t[e].apply(t,n):r},Cn=function(t){var e;return null!==(e=t.tickValues())&&void 0!==e?e:Nn(t.scale(),"ticks",t.tickArguments(),t.scale().domain())},En=function(t){var e;return null!==(e=t.tickFormat())&&void 0!==e?e:Nn(t.scale(),"tickFormat",t.tickArguments(),Vn)},zn=function(t){return t},Dn=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[10],a=null,i=function(){},o=null,c=6,f=6,s=3,h=u.line(),d=xt("g","tick").key(zn),g=xt("path","domain"),p=function(){return{offset:[0,f+s]}},v=function(){return{path:[[0,0],[0,f]]}},m=n.labelOffset||p,y=n.tickPath||v,b=function(t,e){var n=0;return t.bandwidth&&(n=t.bandwidth()/2,t.round()&&(n=Math.round(n))),function(r){return e(t(r)+n,0)}},x=function(t,e){return w()?"translate(".concat(e,", ").concat(t,")"):"translate(".concat(t,", ").concat(e,")")},_=function(t){return w()?t.map((function(t){return[t[1],t[0]]})):t},w=function(){return"left"===t||"right"===t},S=function n(r){bt(r)&&(d.transition(r),g.transition(r)),r.each((function(r,a,o){var u=o[a],f=l.select(u);u.__scale__||f.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","right"===t?"start":"left"===t?"end":"middle");var s=u.__scale__||e;u.__scale__=e.copy();var p=Cn(n),v=En(n),S="bottom"===t||"right"===t?1:-1,M=function(t){var e=Y(t,2),n=e[0],r=e[1];return[n,S*r]},A=e.range(),k=_([[A[0],S*c],[A[0],0],[A[1],0],[A[1],S*c]]),T=g(f,[r]);T.enter().attr("stroke","#000"),T.attr("d",h(k));var V=d(f,p),N=p.map((function(t,e){return m(t,e,p)})),C=p.map((function(t,e){return y(t,e,p)}));V.enter().attr("transform",b(s,x)).append("path").attr("stroke","#000"),V.enter().append("text").attr("transform",(function(t,e){return x.apply(void 0,F(M(N[e].offset)))})).attr("fill","#000"),V.exit().attr("transform",b(e,x)),V.select("path").attr("visibility",(function(t,e){return C[e].hidden&&"hidden"})).attr("d",(function(t,e){return h(_(C[e].path.map(M)))})),V.select("text").attr("visibility",(function(t,e){return N[e].hidden&&"hidden"})).attr("transform",(function(t,e){return x.apply(void 0,F(M(N[e].offset)))})).attr("dy",(function(){var e="0em";return w()?e="0.32em":"bottom"===t&&(e="0.71em"),e})).text(v),V.attr("transform",b(e,x)),i(V,r,a)}))};return S.tickFormat=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],S):o},S.tickSize=function(){return arguments.length?(f=c=Number(arguments.length<=0?void 0:arguments[0]),S):f},S.tickSizeInner=function(){return arguments.length?(f=Number(arguments.length<=0?void 0:arguments[0]),S):f},S.tickSizeOuter=function(){return arguments.length?(c=Number(arguments.length<=0?void 0:arguments[0]),S):c},S.tickPadding=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],S):s},S.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],S):i},S.scale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],S):e},S.ticks=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r=[].concat(e),S},S.tickArguments=function(){return arguments.length?(r=null==(arguments.length<=0?void 0:arguments[0])?[]:F(arguments.length<=0?void 0:arguments[0]),S):null!==r?r.slice():null},S.tickValues=function(){return arguments.length?(a=null==(arguments.length<=0?void 0:arguments[0])?[]:F(arguments.length<=0?void 0:arguments[0]),S):null!==a?a.slice():null},S.orient=function(){return t},S},Pn=function(t,e){var n=!1,r=Dn(t,e,{labelOffset:function(t,a,i){var o=0,l=r.tickSizeInner()+r.tickPadding(),u=!1;if(n){var c=e(t),f=a<i.length-1?e(i[a+1]):e.range()[1];o=(f-c)/2,l=r.tickPadding(),u=a===i.length-1&&c===f}return{offset:[o,l],hidden:u}}}),a=function(t){return r(t)};return a.tickCenterLabel=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},v(a,r),a},In=function(t){return Pn("top",t)},Rn=function(t){return Pn("bottom",t)},Bn=function(t){return Pn("left",t)},On=function(t){return Pn("right",t)},Ln=function(t,e){var n=null,r=Dn(t,e,{labelOffset:function(){return{offset:[0,r.tickPadding()]}},tickPath:function(t,a,i){var o=0;return o=n?n(t,a):function(t,n,r){if(e.step)return e.step();var a=e(t);return n<r.length-1?e(r[n+1])/a:2*(e.range()[1]-a)}(t,a,i)/2,{path:[[o,0],[o,r.tickSizeInner()]],hidden:a===i.length-1}}}),a=function(t){r(t)};return a.tickOffset=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},v(a,r),a},Yn=function(t){return function(e){var n=Cn(t),r=En(t),a=n.map(r),i=e.append("text"),o=a.map((function(t){return i.text(t).node().getBBox()})),l=Math.max.apply(Math,F(o.map((function(t){return t.height})))),u=Math.max.apply(Math,F(o.map((function(t){return t.width}))));return i.remove(),{maxHeight:l,maxWidth:u,labelCount:a.length}}},Fn="__d3fc-elements__",Un=function(t){return t[Fn]||{}},Hn=function(t,e){t[Fn]=e},jn=function(t){return"D3FC-GROUP"===t.tagName?[t].concat(F(t.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg"))):[t]},Wn=function(t){var e=Un(t),n=e.width,r=e.height,a=t.useDevicePixelRatio&&null!=window.devicePixelRatio?window.devicePixelRatio:1,i=t.clientWidth*a,o=t.clientHeight*a,l=i!==n||o!==r,u=t.children[0];Hn(t,{pixelRatio:a,width:i,height:o,resized:l,child:u})};if("function"!=typeof CustomEvent)throw new Error("d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.");var qn=function(t){var e=Un(t),n=new CustomEvent("measure",{detail:e});t.dispatchEvent(n)},$n=function(t){var e=Un(t),n=new CustomEvent("draw",{detail:e});t.dispatchEvent(n)},Gn=function(t){return Un(t.ownerDocument).queue||[]},Xn=function(t,e){var n=Un(t.ownerDocument).requestId;null==n&&(n=requestAnimationFrame((function(){(function(t){var e=t.map(jn).reduce((function(t,e){return t.concat(e)}));e.forEach(Wn),e.forEach(qn),e.forEach($n)})(Gn(t)),Qn(t)}))),Hn(t.ownerDocument,{queue:e,requestId:n})},Qn=function(t){return function(t){return delete t[Fn]}(t.ownerDocument)},Kn=function(t,e){var n=t;do{if(n.parentNode===e)return!0}while(n=n.parentNode);return!1},Zn=function(t){var e=Gn(t);if(!(e.indexOf(t)>-1||e.some((function(e){return Kn(t,e)})))){var n=e.filter((function(e){return!Kn(e,t)}));n.push(t),Xn(t,n)}};if("function"!=typeof HTMLElement)throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var Jn=function(t,e){return function(n){z(a,n);var r=L(a);function a(){return N(this,a),r.apply(this,arguments)}return E(a,[{key:"attributeChangedCallback",value:function(t){"use-device-pixel-ratio"===t&&this.requestRedraw()}},{key:"connectedCallback",value:function(){0===this.childNodes.length&&this.appendChild(t()),function(t){null==t.__measureListener__&&(t.__measureListener__=function(e){return t.setMeasurements(e.detail)},t.addEventListener("measure",t.__measureListener__))}(this)}},{key:"disconnectedCallback",value:function(){!function(t){null!=t.__measureListener__&&(t.removeEventListener("measure",t.__measureListener__),t.__measureListener__=null)}(this)}},{key:"setMeasurements",value:function(t){var n=t.width,r=t.height,a=function(t){return U(t)||H(t)||j(t)||q()}(this.childNodes),i=a[0];if(a.slice(1).length>0)throw new Error("A d3fc-svg/canvas element must only contain a single svg/canvas element.");e(this,i,{width:n,height:r})}},{key:"requestRedraw",value:function(){Zn(this)}},{key:"useDevicePixelRatio",get:function(){return this.hasAttribute("use-device-pixel-ratio")&&"false"!==this.getAttribute("use-device-pixel-ratio")},set:function(t){t&&!this.useDevicePixelRatio?this.setAttribute("use-device-pixel-ratio",""):!t&&this.useDevicePixelRatio&&this.removeAttribute("use-device-pixel-ratio"),this.requestRedraw()}}],[{key:"observedAttributes",get:function(){return["use-device-pixel-ratio"]}}]),a}(B(HTMLElement))},tr=function(t){z(n,t);var e=L(n);function n(){return N(this,n),e.apply(this,arguments)}return E(n,[{key:"setWebglViewport",get:function(){return this.hasAttribute("set-webgl-viewport")&&"false"!==this.getAttribute("set-webgl-viewport")},set:function(t){t&&!this.setWebglViewport?this.setAttribute("set-webgl-viewport",""):!t&&this.setWebglViewport&&this.removeAttribute("set-webgl-viewport"),this.requestRedraw()}}]),n}(Jn((function(){return document.createElement("canvas")}),(function(t,e,n){var r=n.width,a=n.height;e.setAttribute("width",r),e.setAttribute("height",a),t.setWebglViewport&&e.getContext("webgl").viewport(0,0,r,a)}))),er=function(t){t.autoResize?nr(t):rr(t)},nr=function(t){null==t.__autoResizeListener__&&(t.__autoResizeListener__=function(){return Zn(t)},addEventListener("resize",t.__autoResizeListener__))},rr=function(t){null!=t.__autoResizeListener__&&(removeEventListener("resize",t.__autoResizeListener__),t.__autoResizeListener__=null)},ar=function(t){z(n,t);var e=L(n);function n(){return N(this,n),e.apply(this,arguments)}return E(n,[{key:"connectedCallback",value:function(){er(this)}},{key:"disconnectedCallback",value:function(){rr(this)}},{key:"requestRedraw",value:function(){Zn(this)}},{key:"attributeChangedCallback",value:function(t){"auto-resize"===t&&er(this)}},{key:"autoResize",get:function(){return this.hasAttribute("auto-resize")&&"false"!==this.getAttribute("auto-resize")},set:function(t){t&&!this.autoResize?this.setAttribute("auto-resize",""):!t&&this.autoResize&&this.removeAttribute("auto-resize"),er(this)}}],[{key:"observedAttributes",get:function(){return["auto-resize"]}}]),n}(B(HTMLElement)),ir=Jn((function(){return document.createElementNS("http://www.w3.org/2000/svg","svg")}),(function(t,e,n){var r=n.width,a=n.height;e.setAttribute("viewBox","0 0 ".concat(r," ").concat(a))})),or="d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}",lr=document.createElement("style");if(lr.setAttribute("type","text/css"),document.querySelector("head").appendChild(lr),lr.styleSheet?lr.styleSheet.cssText+=or:lr.textContent+=or,"object"!==(typeof customElements>"u"?"undefined":V(customElements))||"function"!=typeof customElements.define)throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var ur=[],cr=function(t,e){customElements.get(t)?ur.push(t):customElements.define(t,e)};cr("d3fc-canvas",tr),cr("d3fc-group",ar),cr("d3fc-svg",ir),ur.length>0&&console.warn('The d3fc components "'.concat(ur.join(", "),'" is/are already registered on window. Be aware that this can create compatibility issues if different versions are used.'));var fr=function(){for(var t={},e=function(e){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];e[a].apply(null,t[a])}return e},n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];for(var i=function(){var n=l[o];e[n]=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return a.length?(t[n]=a,e):t[n]}},o=0,l=r;o<l.length;o++)i();return e},sr="d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}\nd3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:1;-ms-grid-row:1;}\nd3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}\nd3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}\nd3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}\nd3fc-group.cartesian-chart>.y-label{display:flex;transform:rotate(-90deg);width:1em;white-space:nowrap;justify-content:center;}",hr=document.createElement("style");hr.setAttribute("type","text/css"),document.querySelector("head").appendChild(hr),hr.styleSheet?hr.styleSheet.cssText+=sr:hr.textContent+=sr;var dr=function(t){return"function"==typeof t?t:function(){return t}},gr=function(){var t=pr.apply(void 0,arguments),e=t.xScale,n=t.yScale,r=t.xAxis,a=t.yAxis,i=dr(""),o=dr(""),u=dr(""),c=dr(null),f=dr(null),s=dr("right"),h=dr("bottom"),d=null,g=null,p=null,m=!1,b=!0,x=fr("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),w=function(){},S=fr("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),M=function(){},A=function(){},k=xt("d3fc-group","cartesian-chart"),T=xt("d3fc-canvas","webgl-plot-area"),V=xt("d3fc-canvas","canvas-plot-area"),N=xt("d3fc-svg","svg-plot-area"),C=xt("d3fc-svg","x-axis").key((function(t){return t})),E=xt("d3fc-svg","y-axis").key((function(t){return t})),z=xt("div","chart-label"),D=xt("div","x-label").key((function(t){return t})),P=xt("div","y-label").key((function(t){return t})),I=function(t){return function(e){return bt(t)?e.transition(t):e}},R=function(t){var v=I(t);t.each((function(t,y,_){var I=k(l.select(_[y]),[t]);I.enter().attr("auto-resize",""),z(I,[h(t)]).attr("class",(function(t){return"top"===t?"chart-label bottom-label":"chart-label top-label"})).style("margin-bottom",(function(t){return"top"===t?0:"1em"})).style("margin-top",(function(t){return"top"===t?"1em":0})).text(i(t)),D(I,[h(t)]).attr("class",(function(t){return"x-label ".concat(t,"-label")})).text(o(t)),P(I,[s(t)]).attr("class",(function(t){return"y-label ".concat(t,"-label")})).text(u(t)),T(I,d?[t]:[]).attr("set-webgl-viewport","").classed("plot-area",!0).attr("use-device-pixel-ratio",b).on("draw",(function(t,r){var a=t.detail,i=a.child,o=a.pixelRatio;d.context(m?null:i.getContext("webgl")).pixelRatio(o).xScale(e).yScale(n),d(r)})),I.select(".webgl-plot-area>canvas").on("webglcontextlost",(function(t){console.warn("WebGLRenderingContext lost"),t.preventDefault(),m=!0,I.node().requestRedraw()})).on("webglcontextrestored",(function(){console.info("WebGLRenderingContext restored"),m=!1,I.node().requestRedraw()})),V(I,g?[t]:[]).classed("plot-area",!0).attr("use-device-pixel-ratio",b).on("draw",(function(t,r){var a=t.detail,i=a.child,o=a.pixelRatio,l=i.getContext("2d");l.save(),b&&l.scale(o,o),g.context(l).xScale(e).yScale(n),g(r),l.restore()})),N(I,p?[t]:[]).classed("plot-area",!0).on("draw",(function(t,r){var a=t.detail.child;p.xScale(e).yScale(n),v(l.select(a).datum(r)).call(p)})),C(I,[h(t)]).attr("class",(function(t){return"x-axis ".concat(t,"-axis")})).style("height",c(t)).on("measure",(function(t,n){var r=t.detail,a=r.width,i=r.height,o=r.child;"top"===n&&l.select(o).attr("viewBox","0 ".concat(-i," ").concat(a," ").concat(i)),e.range([0,a])})).on("draw",(function(t,n){var a=t.detail.child,i="top"===n?r.top(e):r.bottom(e);i.decorate(w),v(l.select(a).datum(n)).call(x(i))})),E(I,[s(t)]).attr("class",(function(t){return"y-axis ".concat(t,"-axis")})).style("width",f(t)).on("measure",(function(t,e){var r=t.detail,a=r.width,i=r.height,o=r.child;"left"===e&&l.select(o).attr("viewBox","".concat(-a," 0 ").concat(a," ").concat(i)),n.range([i,0])})).on("draw",(function(t,e){var r=t.detail.child,i="left"===e?a.left(n):a.right(n);i.decorate(M),v(l.select(r).datum(e)).call(S(i))})),I.each((function(t,e,n){return n[e].requestRedraw()})),A(I,t,y)}))},B=y(/range\w*/,/tickFormat/);return v(R,e,B,_("x")),v(R,n,B,_("y")),v(R,x,_("x")),v(R,S,_("y")),R.xOrient=function(){return arguments.length?(h=dr(arguments.length<=0?void 0:arguments[0]),R):h},R.yOrient=function(){return arguments.length?(s=dr(arguments.length<=0?void 0:arguments[0]),R):s},R.xDecorate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],R):w},R.yDecorate=function(){return arguments.length?(M=arguments.length<=0?void 0:arguments[0],R):M},R.chartLabel=function(){return arguments.length?(i=dr(arguments.length<=0?void 0:arguments[0]),R):i},R.xLabel=function(){return arguments.length?(o=dr(arguments.length<=0?void 0:arguments[0]),R):o},R.yLabel=function(){return arguments.length?(u=dr(arguments.length<=0?void 0:arguments[0]),R):u},R.xAxisHeight=function(){return arguments.length?(c=dr(arguments.length<=0?void 0:arguments[0]),R):c},R.yAxisWidth=function(){return arguments.length?(f=dr(arguments.length<=0?void 0:arguments[0]),R):f},R.webglPlotArea=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],R):d},R.canvasPlotArea=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],R):g},R.svgPlotArea=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],R):p},R.decorate=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],R):A},R.useDevicePixelRatio=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],R):b},R},pr=function(){for(var t={xScale:n.scaleIdentity(),yScale:n.scaleIdentity(),xAxis:{bottom:Rn,top:In},yAxis:{right:On,left:Bn}},e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return 1!==r.length||r[0].domain||r[0].range?Object.assign(t,{xScale:r[0]||t.xScale,yScale:r[1]||t.yScale}):Object.assign(t,r[0])},vr=function(t){return"function"==typeof t?t:function(){return t}},mr=function(t,e){return function(){var n=vr(""),r=e,a=function(){},i=gr.apply(void 0,arguments),o=function(e){t(i,r),i.decorate((function(t,e,r){t.enter().select(".x-label").style("height","1em").style("line-height","1em");var o=i.yOrient()(e);t.enter().append("div").attr("class","y-label-container").style("grid-column","left"===o?1:5).style("-ms-grid-column","left"===o?1:5).style("grid-row",3).style("-ms-grid-row",3).style("width","1em").style("display","flex").style("align-items","center").style("justify-content","center").style("white-space","nowrap").append("div").attr("class","y-label").style("transform","rotate(-90deg)"),t.select(".y-label-container>.y-label").text(n),a(t,e,r)})),e.call(i)};return v(o,i,b(/^x/,/^y/,"chartLabel")),o.yLabel=function(){return arguments.length?(n=vr(arguments.length<=0?void 0:arguments[0]),o):n},o.plotArea=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o}},yr=mr((function(t,e){return t.svgPlotArea(e)}),Yt),br=mr((function(t,e){return t.canvasPlotArea(e)}),Ft),xr=function(t){return[t[1],t[0]]},_r=function(t){var e=function(t){switch(t){case"x":return s.brushX();case"y":return s.brushY();case"xy":return s.brush()}}(t),r=f.dispatch("brush","start","end"),a=n.scaleIdentity(),i=n.scaleIdentity(),o=xt("g","brush"),u=function(e,n,r){switch(t){case"x":return e.map(n);case"y":return e.map(r);case"xy":return[[n(e[0][0]),r(e[0][1])],[n(e[1][0]),r(e[1][1])]]}},c=function(e){var r=n.scaleLinear().domain(a.domain());return"x"===t?e.map(r.invert):"xy"===t?[r.invert(e[0][0]),r.invert(e[1][0])]:void 0},h=function(e){var r=n.scaleLinear().domain(xr(i.domain()));return"y"===t?[e[1],e[0]].map(r.invert):"xy"===t?[r.invert(e[1][1]),r.invert(e[0][1])]:void 0},d=function(t){if(!t.sourceEvent||"draw"!==t.sourceEvent.type)if(t.selection){var e=function(t){return u(t,n.scaleLinear().domain(a.range()),n.scaleLinear().domain(xr(i.range())))}(t.selection);r.call(t.type,{},{selection:e,xDomain:c(e),yDomain:h(e)})}else r.call(t.type,{},{})},p=function(t){t.each((function(t,r,c){e.extent([[a.range()[0],i.range()[1]],[a.range()[1],i.range()[0]]]),e.on("end",(function(t){return d(t)})).on("brush",(function(t){return d(t)})).on("start",(function(t){return d(t)})),o(l.select(c[r]),[t]).call(e).call(e.move,t?function(t){return u(t,n.scaleLinear().domain(a.range()).invert,n.scaleLinear().domain(xr(i.range())).invert)}(t):null)}))};return p.xScale=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],p):a},p.yScale=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],p):i},g(p,r,"on"),g(p,e,"filter","handleSize"),p},wr=function(t,e){if(null==t&&null==e)return!0;var n=t.domain(),r=e.domain();return n.length===r.length&&n.every((function(t,e){var n;return t?.valueOf()===(null===(n=r[e])||void 0===n?void 0:n.valueOf())}))},Sr=Symbol("d3fc-domain-zoom");t.annotationCanvasBand=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r="horizontal",a=function(t){return t.from},i=function(t){return t.to},o=function(){},l=dt().horizontalAlign("right").verticalAlign("top"),u=function(n){if("horizontal"!==r&&"vertical"!==r)throw new Error("Invalid orientation");var u=l.context(),c="horizontal"===r,f=c?e:t,s=(c?t:e).range(),h=s[1]-s[0],d=c?"x":"y",g=c?"y":"x",p=c?"height":"width",v=c?"width":"height";n.forEach((function(t,e){u.save(),u.beginPath(),u.strokeStyle="transparent",l[g](f(a(t))),l[d](s[0]),l[v](h),l[p](f(i(t))-f(a(t))),o(u,t,e),l.context(u)([t],e),u.fill(),u.stroke(),u.closePath(),u.restore()}))};return u.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],u):t},u.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],u):e},u.orient=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],u):r},u.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],u):o},u.fromValue=function(){return arguments.length?(a=Sn(arguments.length<=0?void 0:arguments[0]),u):a},u.toValue=function(){return arguments.length?(i=Sn(arguments.length<=0?void 0:arguments[0]),u):i},g(u,l,"context"),u},t.annotationCanvasCrosshair=function(){var t=function(t){return t.x},e=function(t){return t.y},r=n.scaleIdentity(),a=n.scaleIdentity(),i=fn(),o=An(),l=An().orient("vertical"),u=n.scaleIdentity(),c=n.scaleIdentity(),f=bn().series([o,l,i]).xScale(u).yScale(c).mapping((function(t){return[t]})),s=function(n){n.forEach((function(n){u.range(r.range()),c.range(a.range()),i.crossValue(t).mainValue(e),o.value(e),l.value(t),f(n)}))};s.x=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s.y=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s.xScale=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],s):r},s.yScale=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],s):a};var h=b("label","decorate");return v(s,o,h,_("y")),v(s,l,h,_("x")),g(s,i,"decorate"),g(s,f,"context"),s},t.annotationCanvasGridline=function(){var t=function(){},e=function(){},n=kn(),r=kn(),a=u.line(),i=function(){var i=a.context(),o=n.scale(),l=r.scale();n().forEach((function(e,n){i.save(),i.beginPath(),i.strokeStyle="#bbb",i.fillStyle="transparent",t(i,e,n),a.context(i)(l.domain().map((function(t){return[o(e),l(t)]}))),i.fill(),i.stroke(),i.closePath(),i.restore()})),r().forEach((function(t,n){i.save(),i.beginPath(),i.strokeStyle="#bbb",i.fillStyle="transparent",e(i,t,n),a.context(i)(o.domain().map((function(e){return[o(e),l(t)]}))),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return i.yDecorate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.xDecorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},v(i,n,_("x")),v(i,r,_("y")),g(i,a,"context"),i},t.annotationCanvasLine=An,t.annotationSvgBand=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r="horizontal",a=function(t){return t.from},i=function(t){return t.to},o=function(){},u=xt("g","annotation-band"),c=dt().horizontalAlign("center").verticalAlign("center").x(0).y(0),f=function(n){if(bt(n)&&u.transition(n),"horizontal"!==r&&"vertical"!==r)throw new Error("Invalid orientation");var f="horizontal"===r,s=f?function(t,e){return"translate(".concat(t,", ").concat(e,")")}:function(t,e){return"translate(".concat(e,", ").concat(t,")")},h=f?e:t,d=(f?t:e).range(),g=d[1]-d[0],p=f?"height":"width",v=function(){return s((d[1]+d[0])/2,(h(i.apply(void 0,arguments))+h(a.apply(void 0,arguments)))/2)};c[f?"width":"height"](g),c[p]((function(){return h(i.apply(void 0,arguments))-h(a.apply(void 0,arguments))})),n.each((function(t,e,n){var a=u(l.select(n[e]),t);a.enter().attr("transform",v).append("path").classed("band",!0),a.attr("class","annotation-band ".concat(r)).attr("transform",v).select("path").attr("d",(function(t,e){return c([t],e)})),o(a,t,e)}))};return f.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],f):t},f.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],f):e},f.orient=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],f):r},f.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],f):o},f.fromValue=function(){return arguments.length?(a=Sn(arguments.length<=0?void 0:arguments[0]),f):a},f.toValue=function(){return arguments.length?(i=Sn(arguments.length<=0?void 0:arguments[0]),f):i},f},t.annotationSvgCrosshair=function(){var t=function(t){return t.x},e=function(t){return t.y},r=n.scaleIdentity(),a=n.scaleIdentity(),i=function(){},o=xt("g","annotation-crosshair"),u=cn(),c=Mn(),f=Mn().orient("vertical"),s=n.scaleIdentity(),h=n.scaleIdentity(),d=yn().series([c,f,u]).xScale(s).yScale(h).mapping((function(t){return[t]})),g=function(n){bt(n)&&o.transition(n),n.each((function(n,g,p){var v=o(l.select(p[g]),n);v.enter().style("pointer-events","none"),s.range(r.range()),h.range(a.range()),u.crossValue(t).mainValue(e),c.value(e),f.value(t),v.call(d),i(v,n,g)}))};g.x=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],g):t},g.y=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],g):e},g.xScale=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],g):r},g.yScale=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],g):a},g.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],g):i};var p=b("label");return v(g,c,p,_("y")),v(g,f,p,_("x")),g},t.annotationSvgGridline=function(){var t=function(){},e=function(){},n=kn(),r=kn(),a=xt("line","gridline-y").key(Tn),i=xt("line","gridline-x").key(Tn),o=function(o){bt(o)&&(a.transition(o),i.transition(o)),o.each((function(o,u,c){var f=c[u],s=l.select(c[u]),h=n.scale(),d=r.scale(),g=f.__x_scale__||h;f.__x_scale__=h.copy();var p=n(),v=a(s,p);v.enter().attr("x1",g).attr("x2",g).attr("y1",d.range()[0]).attr("y2",d.range()[1]).attr("stroke","#bbb"),v.attr("x1",h).attr("x2",h).attr("y1",d.range()[0]).attr("y2",d.range()[1]),v.exit().attr("x1",h).attr("x2",h),t(v,p,u);var m=f.__y_scale__||d;f.__y_scale__=d.copy();var y=r(),b=i(s,y);b.enter().attr("y1",m).attr("y2",m).attr("x1",h.range()[0]).attr("x2",h.range()[1]).attr("stroke","#bbb"),b.attr("y1",d).attr("y2",d).attr("x1",h.range()[0]).attr("x2",h.range()[1]),b.exit().attr("y1",d).attr("y2",d),e(b,y,u)}))};return o.yDecorate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.xDecorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},v(o,a,x({key:"xKey"})),v(o,i,x({key:"yKey"})),v(o,n,_("x")),v(o,r,_("y")),o},t.annotationSvgLine=Mn,t.autoBandwidth=function(t){var n=.75,r=function(t){if(t.length<=1)return 10;t=function(t){return t.sort(e.ascending).filter((function(t,e,n){return-1===n.indexOf(t,e+1)}))}(t);var r=e.pairs(t).map((function(t){return Math.abs(t[0]-t[1])})),a=e.min(r);return n*a},a=function(e,n,a){if(e.bandwidth)return e.bandwidth();var i,o=(Array.isArray(n)?(i=[]).concat.apply(i,F(n)):n).filter(t.defined()).map(a()).map(e);return r(o)},i=function(e){var n=function(e){if(t.xBandwidth&&t.yBandwidth)t.xBandwidth(a(t.xScale(),e,t.xValue)),t.yBandwidth(a(t.yScale(),e,t.yValue));else{var n=t.orient&&"horizontal"===t.orient()?t.yScale():t.xScale();t.bandwidth(a(n,e,t.crossValue))}};e instanceof l.selection?e.each((function(e,r,a){n(e),t(l.select(a[r]))})):(n(e),t(e))};return v(i,t),i.widthFraction=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i},t.axisBottom=Rn,t.axisLabelOffset=function(t){var e="auto",n=function(){},r=function(){return"left"===t.orient()||"right"===t.orient()},a=function(){return"top"===t.orient()||"left"===t.orient()?-1:1},i=function(n){var i=Yn(t)(n),o=i.maxHeight,l=i.maxWidth,u=i.labelCount,c=t.scale().range()[1],f="auto"===e?Math.floor((r()?o:l)*u/c)+1:e,s=n.select("text"),h=s.attr("transform");s.attr("transform",(function(t,e){return"".concat(h," ").concat(function(t){return r()?"translate(".concat(t%f*l*a(),", 0)"):"translate(0, ".concat(t%f*o*a(),")")}(e))}))},o=function(e){return t(e)};return t.decorate((function(t){i(t),n(t)})),o.decorate=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.labelOffsetDepth=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},v(o,t,y("decorate")),o},t.axisLabelRotate=function(t){var e="auto",n=function(){},r=function(){return"left"===t.orient()||"right"===t.orient()},a=function(){return"top"===t.orient()||"left"===t.orient()?-1:1},i=function(){switch(t.orient()){case"top":case"right":return"start";default:return"end"}},o=function(n){var o=function(n){var o,l=Yn(t)(n),u=l.maxHeight,c=l.maxWidth,f=l.labelCount*c;if("auto"===e){var s=t.scale().range()[1];o=s<f?90*Math.min(1,(f/s-.8)/2):0}else o=e;return{rotate:r()?Math.floor(a()*(90-o)):Math.floor(-o),maxHeight:u,maxWidth:c,anchor:o?i():"middle"}}(n),l=o.rotate,u=o.maxHeight,c=o.anchor,f=n.select("text"),s=f.attr("transform"),h=a()*Math.floor(u/2),d=r()?"translate(".concat(h,", 0)"):"translate(0, ".concat(h,")");f.style("text-anchor",c).attr("transform","".concat(s," ").concat(d," rotate(").concat(l," 0 0)"))},l=function(e){t(e)};return t.decorate((function(t){o(t),n(t)})),l.decorate=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],l):n},l.labelRotate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],l):e},v(l,t,y("decorate")),l},t.axisLeft=Bn,t.axisOrdinalBottom=function(t){return Ln("bottom",t)},t.axisOrdinalLeft=function(t){return Ln("left",t)},t.axisOrdinalRight=function(t){return Ln("right",t)},t.axisOrdinalTop=function(t){return Ln("top",t)},t.axisRight=On,t.axisTop=In,t.brush=function(){return _r("xy")},t.brushX=function(){return _r("x")},t.brushY=function(){return _r("y")},t.bucket=ft,t.chartCanvasCartesian=br,t.chartCartesian=gr,t.chartSvgCartesian=yr,t.dataJoin=xt,t.discontinuityIdentity=X,t.discontinuityRange=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=function(t,e){return t>e[0]&&t<e[1]},a=function(t,e){return t[0]>=e[0]&&t[1]<=e[1]},i={distance:function(t,n){t=i.clampUp(t),n=i.clampDown(n);var r=e.filter((function(e){return a(e,[t,n])})).map((function(t){return t[1]-t[0]}));return n-t-r.reduce((function(t,e){return t+e}),0)}},o=function(t,e){return t instanceof Date?new Date(t.getTime()+e):t+e};return i.offset=function(t,n){if(n>0){var r=function(){for(var r=i.clampUp(t),a=n;a>0;){var l=e.filter((function(t){return t[0]>r})).sort((function(t,e){return t[0]-e[0]}));if(l.length){var u=l[0],c=u[0]-r;c>a?(r=o(r,a),a=0):(r=u[1],a-=c)}else r=o(r,a),a=0}return{v:r}}();if("object"===V(r))return r.v}else{var a=function(){for(var r=i.clampDown(t),a=n;a<0;){var l=e.filter((function(t){return t[1]<r})).sort((function(t,e){return e[0]-t[0]}));if(l.length){var u=l[0],c=u[1]-r;c<a?(r=o(r,a),a=0):(r=u[0],a-=c)}else r=o(r,a),a=0}return{v:r}}();if("object"===V(a))return a.v}},i.clampUp=function(t){return e.reduce((function(t,e){return r(t,e)?e[1]:t}),t)},i.clampDown=function(t){return e.reduce((function(t,e){return r(t,e)?e[0]:t}),t)},i.copy=function(){return i},i},t.discontinuitySkipUtcWeekends=function(){return K((function(t){return t.getUTCDay()}),r.utcDay,r.utcSaturday,r.utcMonday)},t.discontinuitySkipUtcWeeklyPattern=function(t){return at(t,it)},t.discontinuitySkipWeekends=function(){return K((function(t){return t.getDay()}),r.timeDay,r.timeSaturday,r.timeMonday)},t.discontinuitySkipWeeklyPattern=function(t){return at(t,rt)},t.effectivelyZero=yt,t.exclude=y,t.extentDate=lt,t.extentLinear=ot,t.extentTime=lt,t.feedGdax=function(){var t="BTC-USD",e=null,n=null,r=null,a=function(){var a=[];null!=e&&a.push("start="+e.toISOString()),null!=n&&a.push("end="+n.toISOString()),null!=r&&a.push("granularity="+r);var o="https://api.gdax.com/products/"+t+"/candles?"+a.join("&");return i.json(o).then((function(t){return t.map((function(t){return{date:new Date(1e3*t[0]),open:t[3],high:t[2],low:t[1],close:t[4],volume:t[5]}}))}))};return a.product=function(e){return arguments.length?(t=e,a):t},a.start=function(t){return arguments.length?(e=t,a):e},a.end=function(t){return arguments.length?(n=t,a):n},a.granularity=function(t){return arguments.length?(r=t,a):r},a},t.group=function(){var t="",e="vertical",n=function(t,e){return Number(t[e])},r=function(r){return"vertical"===e?function(e){return Object.keys(e[0]).filter((function(e){return e!==t})).map((function(r){var a=e.filter((function(t){return t[r]})).map((function(e){var a=[e[t],n(e,r)];return a.data=e,a}));return a.key=r,a}))}(r):function(e){return e.map((function(e){var r=Object.keys(e).filter((function(e){return e!==t})).map((function(t){var r=[t,n(e,t)];return r.data=e,r}));return r.key=e[t],r}))}(r)};return r.key=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},r.orient=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r},t.include=b,t.includeMap=x,t.indicatorBollingerBands=function(){var t=2,n=k().accumulator((function(n){var r=n&&e.deviation(n),a=n&&e.mean(n);return{average:a,upper:A(a+t*r),lower:A(a-t*r)}})),r=function(t){return n(t)};return r.multiplier=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},g(r,n,"period","value"),r},t.indicatorElderRay=function(){var t=function(t,e){return t.close},n=function(t,e){return t.high},r=function(t,e){return t.low},a=T().period(13),i=function(i){return a.value(t),e.zip(i,a(i)).map((function(t){return{bullPower:A(n(t[0])-t[1]),bearPower:A(r(t[0])-t[1])}}))};return i.closeValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.highValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.lowValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},g(i,a,"period"),i},t.indicatorEnvelope=function(){var t=.1,e=w,n=function(n){return n.map((function(n){return{lower:A(e(n)*(1-t)),upper:A(e(n)*(1+t))}}))};return n.factor=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n.value=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n},t.indicatorExponentialMovingAverage=T,t.indicatorForceIndex=function(){var t=function(t,e){return t.volume},e=function(t,e){return t.close},n=T().period(13),r=k().period(2).defined((function(n){return null!=e(n)&&null!=t(n)})).accumulator((function(n){return n&&A((e(n[1])-e(n[0]))*t(n[1]))})),a=function(t){var e=r(t);return n(e)};return a.volumeValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.closeValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},g(a,n,"period"),a},t.indicatorMacd=function(){var t=w,n=T().period(12),r=T().period(26),a=T().period(9),i=function(i){n.value(t),r.value(t);var o=e.zip(n(i),r(i)).map((function(t){return void 0!==t[0]&&void 0!==t[1]?t[0]-t[1]:void 0})),l=a(o);return e.zip(o,l).map((function(t){return{macd:t[0],signal:t[1],divergence:void 0!==t[0]&&void 0!==t[1]?t[0]-t[1]:void 0}}))};return i.value=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},v(i,n,x({period:"fastPeriod"})),v(i,r,x({period:"slowPeriod"})),v(i,a,x({period:"signalPeriod"})),i},t.indicatorMovingAverage=G,t.indicatorRelativeStrengthIndex=function(){var t=k().period(14),n=function(t){var e=Y(t,2),n=e[0],r=e[1];return n<r?0:n-r},r=function(t){var e=Y(t,2),n=e[0],r=e[1];return n>r?0:r-n},a=function(t,n){return void 0!==n?function(t,e){return e+(t[t.length-1]-e)/t.length}(t,n):e.mean(t)},i=function(i){var o=function(){var t,i,o;return function(l){if(l){if(void 0!==t){var u=e.pairs([t].concat(F(l)));return i=a(u.map(n),i),o=a(u.map(r),o),A(100-100/(1+(isNaN(t)?NaN:o/i)))}t=l[0]}else void 0!==t&&(t=NaN)}}();return t.accumulator(o),t(i)};return g(i,t,"period","value"),i},t.indicatorStochasticOscillator=function(){var t=function(t,e){return t.close},n=function(t,e){return t.high},r=function(t,e){return t.low},a=k().period(5).defined((function(e){return null!=t(e)&&null!=n(e)&&null!=r(e)})).accumulator((function(a){var i=a&&e.max(a,n),o=a&&e.min(a,r);return A(a&&100*(t(a[a.length-1])-o)/(i-o))})),i=G().period(3),o=function(t){var e=a(t),n=i(e);return e.map((function(t,e){return{k:t,d:n[e]}}))};return o.closeValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.highValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.lowValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},v(o,a,x({period:"kPeriod"})),v(o,i,x({period:"dPeriod"})),o},t.isTransition=bt,t.largestTriangleOneBucket=function(){var t=ft(),n=function(t){return t},r=function(t){return t},a=function(a){if(t.bucketSize()>=a.length)return a;var i=function(t){var a=t.map((function(t){return[n(t),r(t)]})),i=e.range(1,a.length-1).map((function(t){var e=a[t-1],n=a[t],r=a[t+1];return.5*Math.abs((e[0]-r[0])*(n[1]-e[1])-(e[0]-n[0])*(r[1]-e[1]))}));return i}(a),o=t(i),l=t(a.slice(1,a.length-1)).map((function(t,n){var r=o[n],a=e.max(r);return t[r.indexOf(a)]}));return[].concat([a[0]],l,[a[a.length-1]])};return g(a,t,"bucketSize"),a.x=function(t){return arguments.length?(n=t,a):n},a.y=function(t){return arguments.length?(r=t,a):r},a},t.largestTriangleThreeBucket=function(){var t=function(t){return t},n=function(t){return t},r=ft(),a=function(a){if(r.bucketSize()>=a.length)return a;var i=r(a.slice(1,a.length-1)),o=a[0],l=a[a.length-1],u=[].concat([o],i,[l]),c=t(o),f=n(o),s=i.map((function(r,a){var i=e.mean(u[a+1],t),o=e.mean(u[a+1],n),l=r.map((function(e){return[t(e),n(e)]})),s=l.map((function(t){return.5*Math.abs((c-i)*(t[1]-f)-(c-t[0])*(o-f))})),h=s.indexOf(e.max(s)),d=l[h];return c=d[0],f=d[1],r[h]}));return[].concat([a[0]],s,[a[a.length-1]])};return g(a,r,"bucketSize"),a.x=function(e){return arguments.length?(t=e,a):t},a.y=function(t){return arguments.length?(n=t,a):n},a},t.layoutAnnealing=function(){var t,e=1e3,n=1,r=function(e,n,r){return wt(r,n)+function(e){return t?e.width*e.height-_t(e,t):0}(e)+function(t){switch(t.location){case"bottom-right":return 0;case"middle-right":case"bottom-center":return t.width*t.height/8}return t.width*t.height/4}(e)},a=function(t){for(var a=e,i=Tt().locationScore(r).winningScore((function(t,e){return Math.exp((e-t)/a)>Math.random()})).rectangles(t);a>0;){var o=Nt(t);i=i(Vt(Mt(t[o])),o),a-=n}return i.rectangles()};return a.temperature=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.cooling=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.bounds=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a},t.layoutBoundingBox=function(){var t=[0,0],e=function(e){return e.map((function(e,n){var r=e.x,a=e.y;return r+e.width>t[0]&&(r-=e.width),a+e.height>t[1]&&(a-=e.height),{height:e.height,width:e.width,x:r,y:a}}))};return e.bounds=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],e):t},e},t.layoutGreedy=function(){var t,e=function(e,n,r){return wt(r,n)+function(e){return t?e.width*e.height-_t(e,t):0}(e)},n=function(t){var n=Tt().locationScore(e).rectangles(t);return t.forEach((function(t,e){Mt(t).forEach((function(t,r){n=n(t,e)}))})),n.rectangles()};return n.bounds=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n},t.layoutLabel=function(t){var e=function(){},r=function(){return[0,0]},a=function(t,e){return[t.x,t.y]},i=t||function(t){return t},o=function(){},u=n.scaleIdentity(),c=n.scaleIdentity(),f=xt("g","label"),s=function(t){t.each((function(t,n,s){var h=f(l.select(s[n]),t).call(o),d=h.nodes(),g=d.map((function(t,e){var n=l.select(t).datum(),i=a(n,e,d),o=[u(i[0]),c(i[1])],f=r(n,e,d);return{hidden:!1,x:o[0],y:o[1],width:f[0],height:f[1]}})),p=i(g);h.attr("style",(function(t,e){return"display:"+(p[e].hidden?"none":"inherit")})).attr("transform",(function(t,e){return"translate("+p[e].x+", "+p[e].y+")"})).attr("layout-width",(function(t,e){return p[e].width})).attr("layout-height",(function(t,e){return p[e].height})).attr("anchor-x",(function(t,e,n){return g[e].x-p[e].x})).attr("anchor-y",(function(t,e,n){return g[e].y-p[e].y})),h.call(o),e(h,t,n)}))};return v(s,f,b("key")),v(s,i),s.size=function(){return arguments.length?(r=mt(arguments.length<=0?void 0:arguments[0]),s):r},s.position=function(){return arguments.length?(a=mt(arguments.length<=0?void 0:arguments[0]),s):a},s.component=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],s):o},s.decorate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],s):u},s.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],s):c},s},t.layoutRemoveOverlaps=function(t){var n=function(n){n=t(n);for(var r=function(){var t=n.filter((function(t){return!t.hidden})),r=function(t,n){return t[e.scan(t,n)]}(t.map((function(e,n){return[e,wt(t,n)]})),(function(t,e){return e[1]-t[1]}));if(!(r[1]>0))return"break";r[0].hidden=!0};"break"!==r(););return n};return v(n,t=t||function(t){return t}),n},t.layoutTextLabel=function(t){var e=2,n=function(t){return t},r=xt("text"),a=xt("rect"),i=xt("circle"),o=function(t){t.each((function(t,o,u){var c=u[o],f=l.select(c),s=Number(c.getAttribute("layout-width")),h=Number(c.getAttribute("layout-height"));a(f,[t]).attr("width",s).attr("height",h);var d=Number(c.getAttribute("anchor-x")),g=Number(c.getAttribute("anchor-y"));i(f,[t]).attr("r",2).attr("cx",d).attr("cy",g);var p=r(f,[t]);p.enter().attr("dy","0.9em").attr("transform","translate(".concat(e,", ").concat(e,")")),p.text(n)}))};return o.padding=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.value=function(){return arguments.length?(n=mt(arguments.length<=0?void 0:arguments[0]),o):n},o},t.modeMedian=function(){var t=ft(),n=function(t){return t},r=function(r){if(t.bucketSize()>r.length)return r;var a=e.extent(r,n),i=t(r.slice(1,r.length-1)).map((function(t,e){var r,i,o={},l=!0,u=t.map(n),c=u.filter((function(t){return t===a[0]||t===a[1]})).map((function(t){return u.indexOf(t)}))[0];return void 0!==c?t[c]:(u.forEach((function(t,e){void 0===o[t]&&(o[t]=0),o[t]++,o[t]>o[r]||void 0===r?(r=t,i=e,l=!0):o[t]===o[r]&&(l=!1)})),l?t[i]:t[Math.floor(t.length/2)])}));return[].concat([r[0]],i,[r[r.length-1]])};return g(r,t,"bucketSize"),r.value=function(t){return arguments.length?(n=t,r):n},r},t.pointer=function(){var t=f.dispatch("point");function e(e){var n=l.pointer(e);t.call("point",this,[{x:n[0],y:n[1]}])}function n(){t.call("point",this,[])}var r=function(t){t.on("mouseenter.pointer",e).on("mousemove.pointer",e).on("mouseleave.pointer",n)};return g(r,t,"on"),r},t.prefix=_,t.randomFinancial=function(){var t=new Date,e=100,n=r.timeDay,i=1,o=r.timeYear,l=1,u=null,c=function(){var t=a.randomNormal(1,.1);return Math.ceil(1e3*t())},f=ut(),s=function(t,e){var r=function(t){var e=o.offset(t,l)-t;return(n.offset(t,i)-t)/e}(t),a=f.period(r)(e),u={date:t,open:a[0],high:Math.max.apply(Math,a),low:Math.min.apply(Math,a),close:a[f.steps()]};return u.volume=c(u),u},h=function(r){var a,o,l;do{a=r?n.offset(r.date,i):new Date(t.getTime()),o=r?r.close:e,r=s(a,o),l=u&&!u(r)}while(l);return r},d=function(){var t,e={next:function(){var e=h(t);return t=e,e},take:function(t){return e.until((function(e,n){return!t||t<0||n===t}))},until:function(e){for(var n=[],r=0,a=h(t),i=e&&!e(a,r);i;)n.push(a),a=h(t=a),r+=1,i=e&&!e(a,r);return n}};return e},g=function(t){return d().take(t)};if(g.stream=d,"function"!=typeof Symbol||"symbol"!==V(Symbol.iterator))throw new Error("d3fc-random-data depends on Symbol. Make sure that you load a polyfill in older browsers. See README.");return g[Symbol.iterator]=function(){var t=d();return{next:function(){return{value:t.next(),done:!1}}}},g.startDate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],g):t},g.startPrice=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],g):e},g.interval=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],g):n},g.intervalStep=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],g):i},g.unitInterval=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],g):o},g.unitIntervalStep=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.filter=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.volume=function(){return arguments.length?(c=ct(arguments.length<=0?void 0:arguments[0]),g):c},v(g,f),g},t.randomGeometricBrownianMotion=ut,t.randomSkipWeekends=function(t){var e=t.date.getDay();return!(0===e||6===e)},t.rebind=g,t.rebindAll=v,t.scaleDiscontinuous=function t(e){var r=this;arguments.length||(e=n.scaleIdentity());var a=X(),i=function(t){var n=e.domain(),r=e.range(),i=a.distance(n[0],n[1]);return a.distance(n[0],t)/i*(r[1]-r[0])+r[0]};return i.invert=function(t){var n=e.domain(),r=e.range(),i=(t-r[0])/(r[1]-r[0])*a.distance(n[0],n[1]);return a.offset(n[0],i)},i.domain=function(){if(!arguments.length)return e.domain();var t=arguments.length<=0?void 0:arguments[0],n=a.clampUp(t[0]),r=a.clampDown(t[1]);return e.domain([n,r]),i},i.nice=function(){e.nice();var t=e.domain(),n=a.clampUp(t[0]),r=a.clampDown(t[1]);return e.domain([n,r]),i},i.ticks=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=e.ticks.apply(r,n);return Q(o,a)},i.copy=function(){return t(e.copy()).discontinuityProvider(a.copy())},i.discontinuityProvider=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],i):a},v(i,e,b("range","rangeRound","interpolate","clamp","tickFormat")),i},t.seriesCanvasArea=function(){var t=Pt(),e=u.area(),n=function(n){var r=e.context();e.defined(t.defined());var a=n.map(t.values);e.x((function(t,e){return a[e].transposedX})).y((function(t,e){return a[e].transposedY}));var i="vertical"===t.orient()?"y":"x";e[i+"0"]((function(t,e){return a[e].y0})),e[i+"1"]((function(t,e){return a[e].y})),r.beginPath(),r.fillStyle=Ot,r.strokeStyle="transparent",t.decorate()(r,n),e(n),r.fill(),r.stroke(),r.closePath()};return v(n,t,y("bandwidth","align")),g(n,e,"curve","context"),n},t.seriesCanvasBar=function(){var t=Pt(),e=dt().x(0).y(0),n=function(n){var r=e.context(),a=n.filter(t.defined()).map(t.values);"vertical"===t.orient()?(e.verticalAlign("top"),e.horizontalAlign("center")):(e.horizontalAlign("right"),e.verticalAlign("center")),a.forEach((function(n,a){r.save(),r.beginPath(),r.translate(n.origin[0],n.origin[1]),r.fillStyle=Lt,r.strokeStyle="transparent",t.decorate()(r,n.d,a),function(e){return"vertical"===t.orient()?e.height:e.width}(e)(-n.height),function(e){return"vertical"===t.orient()?e.width:e.height}(e)(n.width),e([n]),r.fill(),r.stroke(),r.closePath(),r.restore()}))};return v(n,t),g(n,e,"context"),n},t.seriesCanvasBoxPlot=function(){var t=vn(),e=pt().value(0),n=function(n){var r=n.filter(t.defined()),a=e.context();e.orient(t.orient()),r.forEach((function(n,r){a.save();var i=t.values(n,r);a.translate(i.origin[0],i.origin[1]),a.beginPath(),a.fillStyle=Ot,a.strokeStyle=Bt,t.decorate()(a,n,r),e.median(i.median).upperQuartile(i.upperQuartile).lowerQuartile(i.lowerQuartile).high(i.high).width(i.width).low(i.low)([n]),a.fill(),a.stroke(),a.closePath(),a.restore()}))};return v(n,t),g(n,e,"cap","context"),n},t.seriesCanvasCandlestick=function(){return gn(gt())},t.seriesCanvasErrorBar=function(){var t=sn(),e=vt().value(0),n=function(n){var r=n.filter(t.defined()),a=e.context();e.orient(t.orient()),r.forEach((function(n,r){a.save();var i=t.values(n,r);a.translate(i.origin[0],i.origin[1]),a.beginPath(),a.strokeStyle=Bt,a.fillStyle=Ot,t.decorate()(a,n,r),e.high(i.high).width(i.width).low(i.low)([n]),a.fill(),a.stroke(),a.closePath(),a.restore()}))};return v(n,t),g(n,e,"context"),n},t.seriesCanvasGrouped=function(t){var e=_n(),n=function(n){n.forEach((function(r,a){var i="horizontal"!==t.orient(),o=function(t,r){var o=e.offsetScaleForDatum(n,t,r);return(i?e.xScale():e.yScale())(t)+o(a)+o.bandwidth()/2};i?(t.xScale(o),t.yScale(e.yScale())):(t.yScale(o),t.xScale(e.xScale())),t.bandwidth&&t.bandwidth((function(t,r){return e.offsetScaleForDatum(n,t,r).bandwidth()})),t.decorate((function(t,n){return e.decorate()(t,n,a)})),t(r)}))};return v(n,t,y("decorate","xScale","yScale")),v(n,e,y("offsetScaleForDatum")),n},t.seriesCanvasHeatmap=function(){var t=wn(),e=function(e){var n=e.filter(t.defined()),r=t.colorInterpolate(),a=t.colorScale(n),i=t.pathGenerator.context();n.forEach((function(e,n){i.save(),i.beginPath();var o=t.values(e,n);i.translate(o.x,o.y),i.fillStyle=r(a(o.colorValue)),i.strokeStyle="transparent",t.decorate()(i,e,n),t.pathGenerator.height(o.height).width(o.width)([e]),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return g(e,t.pathGenerator,"context"),v(e,t),e},t.seriesCanvasLine=Ft,t.seriesCanvasMulti=bn,t.seriesCanvasOhlc=function(){return gn(ht())},t.seriesCanvasPoint=fn,t.seriesCanvasRepeat=function(){var t="vertical",e=Ft(),n=bn(),r=function(r){"vertical"===t?n.series(r[0].map((function(t){return e}))).mapping((function(t,e){return t.map((function(t){return t[e]}))})):n.series(r.map((function(t){return e}))).mapping((function(t,e){return t[e]})),n(r)};return r.series=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},v(r,n,y("series","mapping")),r},t.seriesSvgArea=function(){var t=Pt(),e=u.area(),n=xt("path","area"),r=function(r){bt(r)&&n.transition(r),e.defined(t.defined()),r.each((function(r,a,i){var o=r.map(t.values);e.x((function(t,e){return o[e].transposedX})).y((function(t,e){return o[e].transposedY}));var u="vertical"===t.orient()?"y":"x";e[u+"0"]((function(t,e){return o[e].y0})),e[u+"1"]((function(t,e){return o[e].y}));var c=n(l.select(i[a]),[r]);c.enter().attr("fill",Ot),c.attr("d",e),t.decorate()(c,r,a)}))};return v(r,t,y("bandwidth","align")),g(r,n,"key"),g(r,e,"curve"),r},t.seriesSvgBar=function(){var t=dt().x(0).y(0),e=Pt(),n=xt("g","bar"),r=function(t){return"vertical"===e.orient()?t.width:t.height},a=function(t){return"translate("+t[0]+", "+t[1]+")"},i=function(i){bt(i)&&n.transition(i),i.each((function(i,o,u){var c=e.orient();if("vertical"!==c&&"horizontal"!==c)throw new Error("The bar series does not support an orientation of "+c);var f=i.filter(e.defined()),s=f.map(e.values);t.width(0).height(0),"vertical"===e.orient()?(t.verticalAlign("top"),t.horizontalAlign("center")):(t.horizontalAlign("right"),t.verticalAlign("center"));var h=n(l.select(u[o]),f);h.enter().attr("transform",(function(t,e){return a(s[e].baseOrigin)})).attr("class","bar "+e.orient()).attr("fill",Lt).append("path").attr("d",(function(e,n){return r(t)(s[n].width),t([e])})),h.attr("transform",(function(t,e){return a(s[e].origin)})).select("path").attr("d",(function(n,a){return r(t)(s[a].width),function(t){return"vertical"===e.orient()?t.height:t.width}(t)(-s[a].height),t([n])})),e.decorate()(h,f,o)}))};return v(i,e),g(i,n,"key"),i},t.seriesSvgBoxPlot=function(){var t=vn(),e=xt("g","box-plot"),n=pt().value(0),r=function(t){return"translate("+t.origin[0]+", "+t.origin[1]+")"},a=function(a){bt(a)&&e.transition(a);var i=function(t){return function(e){return bt(t)?e.transition(t):e}}(a);a.each((function(a,o,u){var c=a.filter(t.defined()),f=e(l.select(u[o]),c);f.enter().attr("stroke",Bt).attr("fill",Ot).attr("transform",(function(e,n){return r(t.values(e,n))+" scale(1e-6, 1)"})).append("path"),n.orient(t.orient()),f.each((function(e,a,o){var u=t.values(e,a);n.median(u.median).upperQuartile(u.upperQuartile).lowerQuartile(u.lowerQuartile).width(u.width).high(u.high).low(u.low),i(l.select(o[a])).attr("transform",r(u)).select("path").attr("d",n([e]))})),t.decorate()(f,a,o)}))};return v(a,t),g(a,e,"key"),g(a,n,"cap"),a},t.seriesSvgCandlestick=function(){return dn(gt(),"candlestick")},t.seriesSvgErrorBar=function(){var t=sn(),e=xt("g","error-bar"),n=vt().value(0),r=function(t){return"translate("+t.origin[0]+", "+t.origin[1]+")"},a=function(a){bt(a)&&e.transition(a);var i=function(t){return function(e){return bt(t)?e.transition(t):e}}(a);a.each((function(a,o,u){var c=a.filter(t.defined()),f=c.map(t.values),s=e(l.select(u[o]),c);s.enter().attr("stroke",Bt).attr("fill",Ot).attr("transform",(function(e,n){return r(t.values(e,n))+" scale(1e-6, 1)"})).append("path"),n.orient(t.orient()),s.each((function(t,e,a){var o=f[e];n.high(o.high).low(o.low).width(o.width),i(l.select(a[e])).attr("transform",r(o)+" scale(1)").select("path").attr("d",n([t]))})),t.decorate()(s,a,o)}))};return v(a,t),g(a,e,"key"),a},t.seriesSvgGrouped=function(t){var e=_n(),n=xt("g","grouped"),r=function(r){bt(r)&&n.transition(r),r.each((function(r,a,i){var o=n(l.select(i[a]),r);o.enter().append("g"),o.select("g").each((function(n,a,i){var o=l.select(i[a]),u="horizontal"!==t.orient(),c=function(t,n){var i=e.offsetScaleForDatum(r,t,n);return(u?e.xScale():e.yScale())(t)+i(a)+i.bandwidth()/2};u?(t.xScale(c),t.yScale(e.yScale())):(t.yScale(c),t.xScale(e.xScale())),t.bandwidth&&t.bandwidth((function(t,n){return e.offsetScaleForDatum(r,t,n).bandwidth()})),t.decorate((function(t,n){return e.decorate()(t,n,a)})),o.call(t)}))}))};return v(r,t,y("decorate","xScale","yScale")),v(r,e,y("offsetScaleForDatum")),r},t.seriesSvgHeatmap=function(){var t=wn(),e=xt("g","box"),n=function(n){n.each((function(n,r,a){var i=n.filter(t.defined()),o=t.colorValue(),u=t.colorInterpolate(),c=t.colorScale(i),f=e(l.select(a[r]),i);f.enter().append("path").attr("stroke","transparent"),f.attr("transform",(function(e,n){return function(t){return"translate("+t.x+", "+t.y+")"}(t.values(e,n))})).select("path").attr("d",(function(e,n){return t.pathGenerator.width(t.values(e,n).width).height(t.values(e,n).height)([e])})).attr("fill",(function(t,e){return u(c(o(t,e)))})),t.decorate()(f,n,r)}))};return v(n,t),n},t.seriesSvgLine=Yt,t.seriesSvgMulti=yn,t.seriesSvgOhlc=function(){return dn(ht(),"ohlc")},t.seriesSvgPoint=cn,t.seriesSvgRepeat=function(){var t="vertical",e=Yt(),n=yn(),r=function(r){return r.each((function(r,a,i){"vertical"===t?n.series(r[0].map((function(t){return e}))).mapping((function(t,e){return t.map((function(t){return t[e]}))})):n.series(r.map((function(t){return e}))).mapping((function(t,e){return t[e]})),l.select(i[a]).call(n)}))};return r.series=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},v(r,n,y("series","mapping")),r},t.seriesWebglArea=function(){var t=Pt(),e=$e(0,1),n=e.offset(1),r=$e(0,1),a=r.offset(1),i=$e(0,1),o=i.offset(1),l=$e(0,1).type(Ne.UNSIGNED_BYTE),u=l.offset(1),c=Re().crossValueAttribute(e).crossNextValueAttribute(n).mainValueAttribute(r).mainNextValueAttribute(a).baseValueAttribute(i).baseNextValueAttribute(o).definedAttribute(l).definedNextAttribute(u),f=function(t,e){return!1},s=an,h=[],d=null,p=null,m=function(n){if("vertical"!==t.orient())throw new Error("Unsupported orientation ".concat(t.orient()));var a=s(t.xScale()),o=s(t.yScale()),u=!f(h,n);u&&(h=n,l.value((function(e,n){return t.defined()(e,n)})).data(n)),(u||a.scale!==d)&&(d=a.scale,e.value((function(e,n){return a.scale(t.crossValue()(e,n))})).data(n)),(u||o.scale!==p)&&(p=o.scale,i.value((function(e,n){return o.scale(t.baseValue()(e,n))})).data(n),r.value((function(e,n){return o.scale(t.mainValue()(e,n))})).data(n)),c.xScale(a.webglScale).yScale(o.webglScale).decorate((function(e){return t.decorate()(e,n,0)})),c(n.length)};return m.equals=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],m):f},m.scaleMapper=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},v(m,t,y("bandwidth","align")),g(m,c,"context","pixelRatio"),m},t.seriesWebglBar=function(){var t=Pt(),e=Pe(),n=Pe(),r=Pe(),a=Pe().type(Ne.UNSIGNED_SHORT),i=Pe().type(Ne.UNSIGNED_BYTE),o=He().crossValueAttribute(e).mainValueAttribute(n).baseValueAttribute(r).bandwidthAttribute(a).definedAttribute(i),l=function(t,e){return!1},u=an,c=[],f=null,s=null,h=function(h){if("vertical"!==t.orient())throw new Error("Unsupported orientation ".concat(t.orient()));var d=u(t.xScale()),g=u(t.yScale()),p=!l(c,h);p&&(c=h,a.value((function(e,n){return t.bandwidth()(e,n)})).data(h),i.value((function(e,n){return t.defined()(e,n)})).data(h)),(p||d.scale!==f)&&(f=d.scale,e.value((function(e,n){return d.scale(t.crossValue()(e,n))})).data(h)),(p||g.scale!==s)&&(s=g.scale,r.value((function(e,n){return g.scale(t.baseValue()(e,n))})).data(h),n.value((function(e,n){return g.scale(t.mainValue()(e,n))})).data(h)),o.xScale(d.webglScale).yScale(g.webglScale).decorate((function(e){return t.decorate()(e,h,0)})),o(h.length)};return h.equals=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],h):l},h.scaleMapper=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],h):u},v(h,t,y("align")),g(h,o,"context","pixelRatio"),h},t.seriesWebglBoxPlot=function(){var t=vn(),e=Pe(),n=Pe(),r=Pe(),a=Pe(),i=Pe(),o=Pe(),l=Pe().type(Ne.UNSIGNED_SHORT),u=Pe().type(Ne.UNSIGNED_SHORT),c=Pe().type(Ne.UNSIGNED_BYTE),f=qe().crossValueAttribute(e).highValueAttribute(n).upperQuartileValueAttribute(r).medianValueAttribute(a).lowerQuartileValueAttribute(i).lowValueAttribute(o).bandwidthAttribute(l).capAttribute(u).definedAttribute(c),s=function(t,e){return!1},h=an,d=[],p=null,m=null,b=Ct(20),x=function(g){if("vertical"!==t.orient())throw new Error("Unsupported orientation ".concat(t.orient()));var v=h(t.xScale()),y=h(t.yScale()),x=!s(d,g);x&&(d=g,l.value((function(e,n){return t.bandwidth()(e,n)})).data(g),u.value((function(t,e){return b(t,e)})).data(g),c.value((function(e,n){return t.defined()(e,n)})).data(g)),(x||v.scale!==p)&&(p=v.scale,e.value((function(e,n){return v.scale(t.crossValue()(e,n))})).data(g)),(x||y.scale!==m)&&(m=y.scale,n.value((function(e,n){return y.scale(t.highValue()(e,n))})).data(g),r.value((function(e,n){return y.scale(t.upperQuartileValue()(e,n))})).data(g),a.value((function(e,n){return y.scale(t.medianValue()(e,n))})).data(g),i.value((function(e,n){return y.scale(t.lowerQuartileValue()(e,n))})).data(g),o.value((function(e,n){return y.scale(t.lowValue()(e,n))})).data(g)),f.xScale(v.webglScale).yScale(y.webglScale).decorate((function(e){return t.decorate()(e,g,0)})),f(g.length)};return x.cap=function(){return arguments.length?(b=Ct(arguments.length<=0?void 0:arguments[0]),x):b},x.equals=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],x):s},x.scaleMapper=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],x):h},v(x,t,y("align")),g(x,f,"context","lineWidth","pixelRatio"),x},t.seriesWebglCandlestick=function(){return pn(We())},t.seriesWebglErrorBar=function(){var t=sn(),e=Pe(),n=Pe(),r=Pe(),a=Pe().type(Ne.UNSIGNED_SHORT),i=Pe().type(Ne.UNSIGNED_BYTE),o=je().crossValueAttribute(e).highValueAttribute(n).lowValueAttribute(r).bandwidthAttribute(a).definedAttribute(i),l=function(t,e){return!1},u=an,c=[],f=null,s=null,h=function(h){if("vertical"!==t.orient())throw new Error("Unsupported orientation ".concat(t.orient()));var d=u(t.xScale()),g=u(t.yScale()),p=!l(c,h);p&&(c=h,a.value((function(e,n){return t.bandwidth()(e,n)})).data(h),i.value((function(e,n){return t.defined()(e,n)})).data(h)),(p||d.scale!==f)&&(f=d.scale,e.value((function(e,n){return d.scale(t.crossValue()(e,n))})).data(h)),(p||g.scale!==s)&&(s=g.scale,n.value((function(e,n){return g.scale(t.highValue()(e,n))})).data(h),r.value((function(e,n){return g.scale(t.lowValue()(e,n))})).data(h)),o.xScale(d.webglScale).yScale(g.webglScale).decorate((function(e){return t.decorate()(e,h,0)})),o(h.length)};return h.equals=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],h):l},h.scaleMapper=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],h):u},v(h,t,y("align")),g(h,o,"context","lineWidth","pixelRatio"),h},t.seriesWebglLine=un,t.seriesWebglMulti=xn,t.seriesWebglOhlc=function(){return pn(Ue())},t.seriesWebglPoint=function(){var t=Pt(),e=Ct(64),n=u.symbolCircle,r=Pe(),a=Pe(),i=Pe().type(Ne.UNSIGNED_SHORT),o=Pe().type(Ne.UNSIGNED_BYTE),l=Oe().crossValueAttribute(r).mainValueAttribute(a).sizeAttribute(i).definedAttribute(o),c=function(t,e){return!1},f=an,s=[],h=null,d=null,p=function(u){var g=f(t.xScale()),p=f(t.yScale()),v=!c(s,u);v&&(s=u,i.value((function(t,n){return e(t,n)})).data(u),o.value((function(e,n){return t.defined()(e,n)})).data(u)),(v||g.scale!==h)&&(h=g.scale,"vertical"===t.orient()?r.value((function(e,n){return g.scale(t.crossValue()(e,n))})).data(u):r.value((function(e,n){return g.scale(t.mainValue()(e,n))})).data(u)),(v||p.scale!==d)&&(d=p.scale,"vertical"===t.orient()?a.value((function(e,n){return p.scale(t.mainValue()(e,n))})).data(u):a.value((function(e,n){return p.scale(t.crossValue()(e,n))})).data(u)),l.xScale(g.webglScale).yScale(p.webglScale).type(on(n)).decorate((function(e){return t.decorate()(e,u,0)})),l(u.length)};return p.size=function(){return arguments.length?(e=Ct(arguments.length<=0?void 0:arguments[0]),p):e},p.type=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],p):n},p.equals=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.scaleMapper=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],p):f},v(p,t,y("baseValue","bandwidth","align")),g(p,l,"context","pixelRatio"),p},t.seriesWebglRepeat=function(){var t="vertical",e=function(){return un()},n=xn(),r=[],a=function(a){if("vertical"===t){var i=r;r=a[0].map((function(t,n){return n<i.length?i[n]:e()})),n.series(r).mapping((function(t,e){return t.map((function(t){return t[e]}))}))}else{var o=r;r=a.map((function(t,n){return n<o.length?o[n]:e()})),n.series(r).mapping((function(t,e){return t[e]}))}n(a)};return a.series=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.length?(e="function"==typeof n[0].xScale&&"function"==typeof n[0].yScale?function(){return n[0]}:n[0],r=[],a):e},a.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r=[],a):t},v(a,n,y("series","mapping")),a},t.shapeBar=dt,t.shapeBoxPlot=pt,t.shapeCandlestick=gt,t.shapeErrorBar=vt,t.shapeOhlc=ht,t.webglAdjacentAttribute=$e,t.webglAttribute=Pe,t.webglBaseAttribute=ze,t.webglBufferBuilder=Ht,t.webglElementIndices=Ye,t.webglFillColor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,1],e=Pe().size(4),n=t,r=!0,a=function(t){if(t.vertexShader().appendHeaderIfNotExists(Kt.header).appendBodyIfNotExists(Kt.body),t.fragmentShader().appendHeaderIfNotExists(Ae).appendBodyIfNotExists(ke),Array.isArray(n))t.buffers().attribute("aFillColor",ln(n).size(4));else{if("function"!=typeof n)throw new Error("Expected value to be an array or function, received ".concat(n));if(!r)return;e.value(n),t.buffers().attribute("aFillColor",e)}r=!1};return a.value=function(){return arguments.length?(n!==(arguments.length<=0?void 0:arguments[0])&&(n=arguments.length<=0?void 0:arguments[0],r=!0),a):n},g(a,e,"data"),a},t.webglProgramBuilder=$t,t.webglScaleLinear=Ge,t.webglScaleLog=Xe,t.webglScaleMapper=an,t.webglScalePow=Qe,t.webglSeriesArea=Re,t.webglSeriesBar=He,t.webglSeriesBoxPlot=qe,t.webglSeriesCandlestick=We,t.webglSeriesErrorBar=je,t.webglSeriesLine=Fe,t.webglSeriesOhlc=Ue,t.webglSeriesPoint=Oe,t.webglShaderBuilder=Gt,t.webglStrokeColor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,1],e=Pe().size(4),n=t,r=!0,a=function(t){if(t.vertexShader().appendHeaderIfNotExists(Zt.header).appendBodyIfNotExists(Zt.body),t.fragmentShader().appendHeaderIfNotExists(Te).appendBodyIfNotExists(Ve),Array.isArray(n))t.buffers().attribute("aStrokeColor",ln(n).size(4));else{if("function"!=typeof n)throw new Error("Expected value to be an array or function, received ".concat(n));if(!r)return;e.value(n),t.buffers().attribute("aStrokeColor",e)}r=!1};return a.value=function(){return arguments.length?(n!==(arguments.length<=0?void 0:arguments[0])&&(n=arguments.length<=0?void 0:arguments[0],r=!0),a):n},g(a,e,"data"),a},t.webglSymbolMapper=on,t.webglTypes=Ne,t.webglUniform=jt,t.zoom=function(){var t=f.dispatch("zoom"),e=h.zoom().on("zoom",(function(n){var r=n.transform,a=this,i=r,o=a[Sr],u=o.originalXScale,c=o.previousXScale,f=o.xScale,s=o.originalYScale,d=o.previousYScale,g=o.yScale,p=o.previousTransform;(!wr(c,f)||!wr(d,g))&&(u=f?.copy(),s=g?.copy(),i=function(t,e){return h.zoomIdentity.scale(t.k/e.k).translate(t.x-e.x,t.y-e.y)}(r,p)),null!=f&&(c=i.rescaleX(u.range(f.range())),f.domain(c.domain())),null!=g&&(d=i.rescaleY(s.range(g.range())),g.domain(d.domain())),p=i,a[Sr]={originalXScale:u,previousXScale:c,xScale:f,originalYScale:s,previousYScale:d,yScale:g,previousTransform:p},i!==r&&e.transform(l.select(a),i),t.call("zoom")})),n=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==n&&null==r&&console.warn("Without an xScale and/or yScale specified, this component won't do anything. Perhaps you forgot to specify them e.g. selection.call(zoom, x, y)?"),t.each((function(t,e,a){var i=a[e][Sr];null!=i&&i.xScale===n&&i.yScale===r&&console.warn("This component should only be called on a selection once. Perhaps you're missing an .enter()?");var o=n?.copy(),l=r?.copy();a[e][Sr]={originalXScale:o,previousXScale:o,xScale:n,originalYScale:l,previousYScale:l,yScale:r,previousTransform:h.zoomIdentity}})).call(e)};return g(n,t,"on"),g(n,e,"extent","filter","wheelDelta","touchable","clickDistance","tapDistance","duration","interpolate"),n},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof t&&typeof e<"u"?r(t,(kn(),d(An)),(ts(),d(If)),(Ru(),d(Iu)),(Ss(),d(ws)),(dh(),d(hh)),(Ah(),d(wh)),(Vp(),d(Tp)),(Xy(),d(Gy)),(v_(),d(p_)),(k_(),d(A_)),(WM(),d(HM)),(sA(),d(fA))):"function"==typeof define&&define.amd?define(["exports","d3-array","d3-scale","d3-time","d3-random","d3-fetch","d3-path","d3-selection","d3-shape","d3-scale-chromatic","d3-dispatch","d3-brush","d3-zoom"],r):r((n=typeof globalThis<"u"?globalThis:n||self).fc={},n.d3,n.d3,n.d3,n.d3,n.d3,n.d3,n.d3,n.d3,n.d3,n.d3,n.d3,n.d3)})),dA=c((t=>{var e,n;(n=n||{}).stringify=(e={"visit_linear-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-linear-gradient":function(t){return e.visit_gradient(t)},"visit_radial-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-radial-gradient":function(t){return e.visit_gradient(t)},visit_gradient:function(t){var n=e.visit(t.orientation);return n&&(n+=", "),t.type+"("+n+e.visit(t.colorStops)+")"},visit_shape:function(t){var n=t.value,r=e.visit(t.at),a=e.visit(t.style);return a&&(n+=" "+a),r&&(n+=" at "+r),n},"visit_default-radial":function(t){var n="",r=e.visit(t.at);return r&&(n+=r),n},"visit_extent-keyword":function(t){var n=t.value,r=e.visit(t.at);return r&&(n+=" at "+r),n},"visit_position-keyword":function(t){return t.value},visit_position:function(t){return e.visit(t.value.x)+" "+e.visit(t.value.y)},"visit_%":function(t){return t.value+"%"},visit_em:function(t){return t.value+"em"},visit_px:function(t){return t.value+"px"},visit_literal:function(t){return e.visit_color(t.value,t)},visit_hex:function(t){return e.visit_color("#"+t.value,t)},visit_rgb:function(t){return e.visit_color("rgb("+t.value.join(", ")+")",t)},visit_rgba:function(t){return e.visit_color("rgba("+t.value.join(", ")+")",t)},visit_color:function(t,n){var r=t,a=e.visit(n.length);return a&&(r+=" "+a),r},visit_angular:function(t){return t.value+"deg"},visit_directional:function(t){return"to "+t.value},visit_array:function(t){var n="",r=t.length;return t.forEach((function(t,a){n+=e.visit(t),a<r-1&&(n+=", ")})),n},visit:function(t){if(!t)return"";if(t instanceof Array)return e.visit_array(t,"");if(t.type){var n=e["visit_"+t.type];if(n)return n(t);throw Error("Missing visitor visit_"+t.type)}throw Error("Invalid node.")}},function(t){return e.visit(t)}),(n=n||{}).parse=function(){var t=/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,e=/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,n=/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,r=/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,a=/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,i=/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,o=/^(left|center|right|top|bottom)/i,l=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,u=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,c=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,f=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,s=/^\(/,h=/^\)/,d=/^,/,g=/^\#([0-9a-fA-F]+)/,p=/^([a-zA-Z]+)/,v=/^rgb/i,m=/^rgba/i,y=/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/,b="";function x(t){var e=new Error(b+": "+t);throw e.source=b,e}function _(){var t=E(w);return b.length>0&&x("Invalid input not EOF"),t}function w(){return S("linear-gradient",t,A)||S("repeating-linear-gradient",e,A)||S("radial-gradient",n,k)||S("repeating-radial-gradient",r,k)}function S(t,e,n){return M(e,(function(e){var r=n();return r&&(B(d)||x("Missing comma before color stops")),{type:t,orientation:r,colorStops:E(z)}}))}function M(t,e){var n=B(t);if(n){B(s)||x("Missing (");var r=e(n);return B(h)||x("Missing )"),r}}function A(){return R("directional",a,1)||R("angular",f,1)}function k(){var t,e,n=T();return n&&((t=[]).push(n),e=b,B(d)&&((n=T())?t.push(n):b=e)),t}function T(){var t=function(){var t=R("shape",/^(circle)/i,0);return t&&(t.style=I()||V()),t}()||function(){var t=R("shape",/^(ellipse)/i,0);return t&&(t.style=P()||V()),t}();if(t)t.at=N();else{var e=V();if(e){t=e;var n=N();n&&(t.at=n)}else{var r=C();r&&(t={type:"default-radial",at:r})}}return t}function V(){return R("extent-keyword",i,1)}function N(){if(R("position",/^at/,0)){var t=C();return t||x("Missing positioning value"),t}}function C(){var t={x:P(),y:P()};if(t.x||t.y)return{type:"position",value:t}}function E(t){var e=t(),n=[];if(e)for(n.push(e);B(d);)(e=t())?n.push(e):x("One extra comma");return n}function z(){var t=R("hex",g,1)||M(m,(function(){return{type:"rgba",value:E(D)}}))||M(v,(function(){return{type:"rgb",value:E(D)}}))||R("literal",p,0);return t||x("Expected color definition"),t.length=P(),t}function D(){return B(y)[1]}function P(){return R("%",u,1)||R("position-keyword",o,1)||I()}function I(){return R("px",l,1)||R("em",c,1)}function R(t,e,n){var r=B(e);if(r)return{type:t,value:r[n]}}function B(t){var e,n;return(n=/^[\n\r\t\s]+/.exec(b))&&O(n[0].length),(e=t.exec(b))&&O(e[0].length),e}function O(t){b=b.substr(t)}return function(t){return b=t.toString(),_()}}(),t.parse=n.parse,t.stringify=n.stringify}));Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var gA=h(hA()),pA=h(hA()),vA="none",mA="ordinal",yA="time",bA="linear",xA=t=>{let e="crossValues",n=null,r=null,a=()=>{let a=r=>{let a=n?t[e].filter((t=>n==t.name)):t[e];return!("crossValues"==e&&a.length>1)&&a.some((t=>r.includes(t.type)))};return 0===t[e].length?vA:r!=yA&&a(["datetime","date"])?yA:r!=bA&&a(["integer","float"])||r==mA?bA:mA};return a.settingName=(...t)=>t.length?(e=t[0],a):e,a.settingValue=(...t)=>t.length?(n=t[0],a):n,a.excludeType=(...t)=>t.length?(r=t[0],a):r,a},_A={};function wA(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function SA(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=AA)):void 0===e&&(e=MA);for(var n,r,a,i,o,l=new VA(t),u=[l];n=u.pop();)if((a=e(n.data))&&(o=(a=Array.from(a)).length))for(n.children=a,i=o-1;i>=0;--i)u.push(r=a[i]=new VA(a[i])),r.parent=n,r.depth=n.depth+1;return l.eachBefore(TA)}function MA(t){return t.children}function AA(t){return Array.isArray(t)?t[1]:null}function kA(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function TA(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function VA(t){this.data=t,this.depth=this.height=0,this.parent=null}function NA(t){if("function"!=typeof t)throw new Error;return t}function CA(){return 0}function EA(t){return function(){return t}}function zA(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function DA(t,e,n,r,a){for(var i,o=t.children,l=-1,u=o.length,c=t.value&&(r-e)/t.value;++l<u;)(i=o[l]).y0=n,i.y1=a,i.x0=e,i.x1=e+=i.value*c}function PA(){var t=1,e=1,n=0,r=!1;function a(a){var i=a.height+1;return a.x0=a.y0=n,a.x1=t,a.y1=e/i,a.eachBefore(function(t,e){return function(r){r.children&&DA(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var a=r.x0,i=r.y0,o=r.x1-n,l=r.y1-n;o<a&&(a=o=(a+o)/2),l<i&&(i=l=(i+l)/2),r.x0=a,r.y0=i,r.x1=o,r.y1=l}}(e,i)),r&&a.eachBefore(zA),a}return a.round=function(t){return arguments.length?(r=!!t,a):r},a.size=function(n){return arguments.length?(t=+n[0],e=+n[1],a):[t,e]},a.padding=function(t){return arguments.length?(n=+t,a):n},a}function IA(t,e,n,r,a){for(var i,o=t.children,l=-1,u=o.length,c=t.value&&(a-n)/t.value;++l<u;)(i=o[l]).x0=e,i.x1=r,i.y0=n,i.y1=n+=i.value*c}f(_A,{domain:()=>HA,labelFunction:()=>jA,scale:()=>UA}),WM(),fa(),k_(),W_(),$s(),tM(),dh(),no(),VA.prototype=SA.prototype={constructor:VA,count:function(){return this.eachAfter(wA)},each:function(t,e){let n=-1;for(let r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,a,i=this,o=[i],l=[],u=-1;i=o.pop();)if(l.push(i),n=i.children)for(r=0,a=n.length;r<a;++r)o.push(n[r]);for(;i=l.pop();)t.call(e,i,++u,this);return this},eachBefore:function(t,e){for(var n,r,a=this,i=[a],o=-1;a=i.pop();)if(t.call(e,a,++o,this),n=a.children)for(r=n.length-1;r>=0;--r)i.push(n[r]);return this},find:function(t,e){let n=-1;for(let r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,a=r&&r.length;--a>=0;)n+=r[a].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),a=null;for(t=n.pop(),e=r.pop();t===e;)a=t,t=n.pop(),e=r.pop();return a}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var a=r.length;t!==n;)r.splice(a,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return SA(this).eachBefore(kA)},[Symbol.iterator]:function*(){var t,e,n,r,a=this,i=[a];do{for(t=i.reverse(),i=[];a=t.pop();)if(yield a,e=a.children)for(n=0,r=e.length;n<r;++n)i.push(e[n])}while(i.length)}};var RA=function t(e){function n(t,n,r,a,i){!function(t,e,n,r,a,i){for(var o,l,u,c,f,s,h,d,g,p,v,m=[],y=e.children,b=0,x=0,_=y.length,w=e.value;b<_;){u=a-n,c=i-r;do{f=y[x++].value}while(!f&&x<_);for(s=h=f,v=f*f*(p=Math.max(c/u,u/c)/(w*t)),g=Math.max(h/v,v/s);x<_;++x){if(f+=l=y[x].value,l<s&&(s=l),l>h&&(h=l),v=f*f*p,(d=Math.max(h/v,v/s))>g){f-=l;break}g=d}m.push(o={value:f,dice:u<c,children:y.slice(b,x)}),o.dice?DA(o,n,r,a,w?r+=c*f/w:i):IA(o,n,r,w?n+=u*f/w:a,i),w-=f,b=x}}(e,t,n,r,a,i)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}((1+Math.sqrt(5))/2);function BA(t,e,n,r,a){var i,o,l=t.children,u=l.length,c=new Array(u+1);for(c[0]=o=i=0;i<u;++i)c[i+1]=o+=l[i].value;!function t(e,n,r,a,i,o,u){if(e>=n-1){var f=l[e];return f.x0=a,f.y0=i,f.x1=o,void(f.y1=u)}for(var s=c[e],h=r/2+s,d=e+1,g=n-1;d<g;){var p=d+g>>>1;c[p]<h?d=p+1:g=p}h-c[d-1]<c[d]-h&&e+1<d&&--d;var v=c[d]-s,m=r-v;if(o-a>u-i){var y=r?(a*m+o*v)/r:o;t(e,d,v,a,i,y,u),t(d,n,m,y,i,o,u)}else{var b=r?(i*m+u*v)/r:u;t(e,d,v,a,i,o,b),t(d,n,m,a,b,o,u)}}(0,u,t.value,e,n,r,a)}si(),Ah(),Ss(),ts(),v_(),Vp(),Xy(),Ru(),ff(),dw(),lM(),sA();var OA=t=>Array.isArray(t)?t.flat(1/0):[t],LA=h(hA()),YA=t=>{let e=e=>t(e);return(0,LA.rebindAll)(e,t),e.bandwidth=(...n)=>n.length?(t.bandwidth(...n),e):Math.max(t.bandwidth(),1),e},FA=h(hA()),UA=()=>(t=>{let e=e=>t(e);return(0,FA.rebindAll)(e,t),e.ticks=function(){return[]},e})(YA(fr())),HA=()=>{let t=["crossValue"],e="horizontal",n=e=>{let n=OA(e);return r([...new Set(n.map((e=>e[t[0]])))])},r=t=>"vertical"==e?t.reverse():t;return n.valueName=(...e)=>e.length?(t=[e[0]],n):t[0],n.valueNames=(...e)=>e.length?(t=e[0],n):t,n.orient=(...t)=>t.length?(e=t[0],n):e,n},jA=t=>e=>e[t].join("|"),WA={};f(WA,{component:()=>nk,domain:()=>JA,labelFunction:()=>tk,scale:()=>ZA,tickFormatFunction:()=>ek});var qA=h(hA());kn();var $A=()=>{let t=[0,0],e="percent",n=n=>{switch(e){case"domain":n[0]-=t[0],n[1]+=t[1];break;case"percent":{let e=n[1]-n[0];n[0]-=t[0]*e,n[1]+=t[1]*e;break}default:throw new Error("Unknown padUnit: "+e)}return n};return n.pad=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n.padUnit=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n},GA=function(t){if(Array.isArray(t)){let e=Array(t.length);for(let n=0;n<t.length;n++)e[n]=t[n];return e}return Array.from(t)},XA=t=>Math.abs(t)>=1e7?Qi(".3s")(t):Number.isInteger(t)?Qi(",.0f")(t):Qi(",.2f")(t);function QA(t){return t.getRootNode().host}function KA(t){return t.closest("#container.chart")}var ZA=()=>oo(),JA=()=>{let t=function(){let t=[function(t){return t}],e=null,n=[],r=$A(),a=function(a){let i,o=new Array(a.length),l=!0,u=!1,c=t[Symbol.iterator]();try{for(let t;!(l=(t=c.next()).done);l=!0){let e=t.value;for(let t=0;t<a.length;t++){let n=e(a[t],t);Array.isArray(n)?o.push.apply(o,GA(n)):o.push(n)}}}catch(t){u=!0,i=t}finally{try{!l&&c.return&&c.return()}finally{if(u)throw i}}let f=[ee(o),Kt(o)];if(f[0]=null==f[0]?ee(n):ee([f[0]].concat(GA(n))),f[1]=null==f[1]?Kt(n):Kt([f[1]].concat(GA(n))),null!=e){let t=Math.max(Math.abs(f[1]-e),Math.abs(f[0]-e));f[0]=e-t,f[1]=e+t}return r(f)};return a.accessors=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.pad=function(){return arguments.length?(r.pad(arguments.length<=0?void 0:arguments[0]),a):r.pad},a.padUnit=function(){return arguments.length?(r.padUnit(arguments.length<=0?void 0:arguments[0]),a):r.padUnit},a.include=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.symmetricalAbout=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.paddingStrategy=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a}().pad([0,.1]).padUnit("percent"),e=["crossValue"],n=n=>(t.accessors(e.map((t=>e=>parseFloat(e[t])))),r(OA(n)));qA.rebindAll(n,t);let r=n=>{if("domain"==t.padUnit()){let r=(t=>{let n=e.map((e=>t.map((t=>t[e])).sort(((t,e)=>t-e)).filter(((t,e,n)=>0===e||t!==n[e-1])).reduce(((t,e,n,r)=>0===n||t<=e-r[n-1]?t:Math.abs(e-r[n-1])))));return Math.min(...n)})(n);return t.pad([r/2,r/2])(n)}return t(n)};return n.valueName=(...t)=>t.length?(e=[t[0]],n):e[0],n.valueNames=(...t)=>t.length?(e=t[0],n):e,n},tk=t=>e=>e[t][0],ek=XA,nk=t=>{let e=null,n="horizontal",r=null,a=(t,e)=>{let r=t.getBoundingClientRect();e.each(((t,e,a)=>{let i=sp(a[e]).node().getBoundingClientRect();("vertical"==n&&r.width<i.width||"horizontal"==n&&r.height<i.height)&&(t=>{sp(t).select("text").node().style.fontSize="80%"})(a[e])}))},i=(t,e,n)=>{let r=((t,e)=>{try{return KA(t.node()).querySelector(".cartesian-chart").querySelector(`.${e}-axis`)}catch{return null}})(t,e);r&&a(r,t)},o=()=>({bottom:qA.axisBottom,left:qA.axisLeft,top:qA.axisTop,right:qA.axisRight,decorate:i});return o.domain=(...t)=>t.length?(e=t[0],o):e,o.orient=(...t)=>t.length?(n=t[0],o):n,o.settingName=(...t)=>t.length?(r=t[0],o):r,o},rk={};f(rk,{domain:()=>ok,labelFunction:()=>lk,scale:()=>ik});var ak=h(hA()),ik=()=>gf(),ok=()=>{let t=ak.extentTime(),e=["crossValue"],n=n=>(t.accessors(e.map((t=>e=>new Date(e[t])))),r(OA(n)));ak.rebindAll(n,t,ak.exclude("include","paddingStrategy"));let r=n=>{let r=Math.abs((t=>{let n=e.map((e=>t.map((t=>new Date(t[e]).getTime())).sort(((t,e)=>t-e)).filter(((t,e,n)=>0===e||t!==n[e-1])).reduce(((t,e,n,r)=>0===n||Math.abs(t)<=Math.abs(e-r[n-1])?Math.abs(t):Math.abs(e-r[n-1])))));return Math.min(...n)})(n));return t.padUnit("domain").pad([r/2,r/2])(n)};return n.valueName=(...t)=>t.length?(e=[t[0]],n):e[0],n.valueNames=(...t)=>t.length?(e=t[0],n):e,n},lk=t=>e=>new Date(e[t][0]),uk={};f(uk,{component:()=>bk,domain:()=>mk,labelFunction:()=>yk,scale:()=>vk});var ck=h(hA()),fk=h(hA()),sk=(t,e,n)=>{let r=6,a=6,i=((...t)=>{let e={},n=t=>{for(let n of Object.keys(e))t[n](e[n]);return t};for(let r of t)n[r]=(...t)=>t.length?(e[r]=t[0],n):e[r];return n})("tickFormat","ticks","tickArguments","tickValues","tickPadding"),o=()=>{},l=null,u=(0,fk.dataJoin)("g","group"),c=(0,fk.dataJoin)("path","domain"),f=(t,e)=>s()?`translate(${e}, ${t})`:`translate(${t}, ${e})`,s=()=>"left"===t||"right"===t,h=h=>{l?h.each(((h,g,p)=>{let v=sp(p[g]),m="bottom"===t||"right"===t?1:-1,y=n.range(),b=(t=>s()?t.map((t=>[t[1],t[0]])):t)([[y[0],m*r],[y[0],0],[y[1],0],[y[1],m*r]]);c(v,[h]).attr("d",cv()(b)).attr("stroke","#000").attr("fill","none");let x=u(v,l),_=t=>Array.isArray(a)?a[t]:a,w=t=>{let e=0;for(let n=0;n<t;n++)e+=_(n);return e};x.attr("transform",((t,e)=>f(0,m*w(e)))).each(((t,r,a)=>{let l=sp(a[r]),u=d(n,t);i(e(u)).decorate(((t,e)=>o(t,e,r))).tickSizeInner(_(r)).tickOffset((t=>u.step(t)/2))(l),l.select("path.domain").attr("visibility","hidden")})),x.exit().attr("transform",((t,e)=>f(0,m*w(e))))})):i(e(n).decorate(o))(h)},d=(t,e)=>{function n(e){let n=e.domain;return n.reduce(((e,n)=>e+t(n)),0)/n.length}return n.ticks=()=>e,n.tickFormat=()=>t=>t.text,n.copy=()=>d(t,e),n.step=e=>e.domain.length*t.step(),(0,fk.rebindAll)(n,t,(0,fk.exclude)("ticks","step","copy")),n};return h.tickSize=(...t)=>t.length?(a=r=Number(t[0]),h):a,h.tickSizeInner=(...t)=>t.length?(a=Array.isArray(t[0])?t[0]:Number(t[0]),h):a,h.tickSizeOuter=(...t)=>t.length?(r=Number(t[0]),h):r,h.decorate=(...t)=>t.length?(o=t[0],h):o,h.groups=(...t)=>t.length?(l=t[0],h):l,(0,fk.rebindAll)(h,i),h},hk=t=>sk("top",fk.axisOrdinalTop,t),dk=t=>sk("bottom",fk.axisOrdinalBottom,t),gk=t=>sk("left",fk.axisOrdinalLeft,t),pk=t=>sk("right",fk.axisOrdinalRight,t),vk=()=>YA(fr()).padding(.5),mk=()=>{let t=["crossValue"],e="horizontal",n=e=>{let n=OA(e);return r([...Array.from(new Set(n.map((e=>e[t[0]]))))])},r=t=>"vertical"==e?t.reverse():t;return n.valueName=(...e)=>e.length?(t=[e[0]],n):t[0],n.valueNames=(...e)=>e.length?(t=e[0],n):t,n.orient=(...t)=>t.length?(e=t[0],n):e,n},yk=t=>e=>e[t].join("|"),bk=t=>{let e="horizontal",n="crossValues",r=null,a=()=>{let a=t[n].length>1,c=o(r),s=c.map(l),h=a?s.map((t=>t.size)):s[0].size,d=s.reduce(((t,e)=>t+e.size),0),g=t=>n=>{let r=t(n);return a&&r.groups(c).tickSizeInner(h).tickSizeOuter(d),"horizontal"!==e&&r.tickPadding(10),r},p=i(a);return{bottom:g(p.bottom),left:g(p.left),right:g(p.right),top:g(p.top),size:`${d+10}px`,decorate:(t,n,r)=>{let a=s[r].rotation;"horizontal"===e&&f(t,a),u(t,a)}}},i=t=>t?{bottom:dk,left:gk,top:hk,right:pk}:{bottom:ck.axisOrdinalBottom,left:ck.axisOrdinalLeft,top:ck.axisOrdinalTop,right:ck.axisOrdinalRight},o=t=>{let e=[];return t.forEach((t=>{(t&&t.split?t.split("|"):[t]).forEach(((n,r)=>{for(;e.length<=r;)e.push([]);let a=e[r];a.length>0&&a[a.length-1].text===n?a[a.length-1].domain.push(t):a.push({text:n,domain:[t]})}))})),e.reverse()},l=n=>{let r=t.size.width,a=Math.max(...n.map((t=>t.text?t.text.length:0)));return"horizontal"===e?n&&16*n.length>r-100?{size:5*a+10,rotation:90}:n&&n.length*(6*a+10)>r-100?{size:3*a+20,rotation:45}:{size:25,rotation:0}:{size:5*a+10,rotation:0}},u=(t,n)=>{let r=n?(t,e)=>t.x+t.width+14>e.x+e.width:(t,e)=>t.x<=e.x+e.width&&e.x<=t.x+t.width&&t.y<=e.y+e.height&&e.y<=t.y+t.height,a="horizontal"==e?c(t):null,i=[];t.each(((t,e,n)=>{let o=sp(n[e]),l=(t=>{let e=-1!==t.indexOf(",")?",":" ",n=t.substring(t.indexOf("(")+1,t.indexOf(")")).split(e).map((t=>parseInt(t)));for(;n.length<2;)n.push(0);return n})(o.attr("transform")),u=o.node().getBBox(),c={x:u.x+l[0],y:u.y+l[1],width:u.width,height:u.height},f=i.some((t=>r(t,c)))||a&&!((t,e)=>t.x>=e.x&&t.x+t.width<=e.x+e.width&&t.y>=e.y&&t.y+t.height<=e.y+e.height)(c,a);o.attr("visibility",f?"hidden":""),f||i.push(c)}))},c=t=>{let e=KA(t.node());if(null===e)return;let n=e.querySelector(".cartesian-chart"),r=n.querySelector(".x-axis"),a=n.getBoundingClientRect(),i=r.getBoundingClientRect();return{x:a.left-i.left,width:a.width,y:a.top-i.top,height:a.height}},f=(t,e)=>{let n=(t=>t?t<60?`rotate(-${t} 5 5)`:`rotate(-${t} 3 7)`:"translate(0, 8)")(e),r=e?"end":"";t.each(((t,e,a)=>{sp(a[e]).select("text").attr("transform",n).style("text-anchor",r)}))};return a.orient=(...t)=>t.length?(e=t[0],a):e,a.settingName=(...t)=>t.length?(n=t[0],a):n,a.domain=(...t)=>t.length?(r=t[0],a):r,a},xk={none:_A,ordinal:uk,time:rk,linear:WA},_k=t=>{let e=null,n="horizontal",r="crossValues",a=null,i=["crossValue"],o=["include","paddingStrategy","pad"],l={},u=u=>{let s=xA(t).excludeType(e).settingName(r).settingValue(a)(),h=xk[s],d=h.domain().valueNames(i);o.forEach((t=>{l[t]&&d[t]&&d[t](l[t])})),d.orient&&d.orient(n);let g=d(u),p=h.component?c(h,g,u):f();return{scale:h.scale(),domain:g,domainFunction:d,labelFunction:h.labelFunction,component:{bottom:p.bottom,left:p.left,top:p.top,right:p.right},size:p.size,decorate:p.decorate,label:t[r].map((t=>t.name)).join(", "),tickFormatFunction:h.tickFormatFunction}},c=(e,a,i)=>e.component(t).orient(n).settingName(r).domain(a)(i),f=()=>({bottom:pA.axisBottom,left:pA.axisLeft,top:pA.axisTop,right:pA.axisRight,decorate:()=>{}});return u.excludeType=(...t)=>t.length?(e=t[0],u):e,u.orient=(...t)=>t.length?(n=t[0],u):n,u.settingName=(...t)=>t.length?(r=t[0],u):r,u.settingValue=(...t)=>t.length?(a=t[0],u):a,u.valueName=(...t)=>t.length?(i=[t[0]],u):i[0],u.valueNames=(...t)=>t.length?(i=t[0],u):i,o.forEach((t=>{u[t]=(...e)=>e.length?(l[t]=e[0],u):l[t]})),u},wk=h(hA()),Sk=(t,e)=>Ak(t,e,((t,e)=>t.svgPlotArea(e)),!1),Mk=(t,e)=>Ak(t,e,((t,e)=>t.canvasPlotArea(e).svgPlotArea(wk.seriesSvgPoint())),!0),Ak=(t,e,n,r)=>{let a=null,i=null,o=wk.chartCartesian({xScale:t.scale,yScale:e.scale,xAxis:t.component,yAxis:e.component}).xDomain(t.domain).xLabel(t.label).xAxisHeight(t.size).xDecorate(t.decorate).xTickFormat(t.tickFormatFunction).yDomain(e.domain).yLabel(e.label).yAxisWidth(e.size).yDecorate(e.decorate).yOrient("left").yTickFormat(e.tickFormatFunction);t.decorate&&o.xDecorate(t.decorate),e.decorate&&o.yDecorate(e.decorate),o.xPaddingInner&&o.xPaddingInner(1),o.xPaddingOuter&&o.xPaddingOuter(.5),o.yPaddingInner&&o.yPaddingInner(1),o.yPaddingOuter&&o.yPaddingOuter(.5),o.axisSplitter=(...t)=>t.length?(a=t[0],o):a,o.altAxis=(...t)=>t.length?(i=t[0],o):i,o.plotArea=function(...t){return 0==t.length?r?this.canvasPlotArea():this.svgPlotArea():n(this,...t)};let l=o.decorate();return o.decorate(((n,u)=>{let c=n.select("d3fc-svg.plot-area"),f=c.select("svg").node();f.setAttribute("viewBox",`0 0 ${c.node().clientWidth} ${c.node().clientHeight}`),f.setAttribute("preserveAspectRatio","none");for(let t of["x-axis","y-axis"])n.select(`d3fc-svg.${t} svg`).node().setAttribute("preserveAspectRatio","none");if(l(n,u),r){Ap([n.select(".svg-plot-area").node(),n.select(".canvas-plot-area").node()]).order()}if(a){if(a.haveSplit()){let l=a.altData(),c=wk.dataJoin("d3fc-svg","y2-axis").key((t=>t)),f=wk.dataJoin("g","y-series").key((t=>t));n.append("div").attr("class","y-label right-label").style("grid-column",5).style("-ms-grid-column",5).style("grid-row",3).style("-ms-grid-row",3).style("width",i.size||"1em").style("display","flex").style("align-items","center").style("justify-content","center").append("span").attr("class","y-label splitter-label").style("transform","rotate(-90deg)");let s=i.scale.domain(i.domain),h=i.component.right(s);if(h.tickFormat(i.tickFormatFunction),i.decorate&&h.decorate(i.decorate),c(n,["right"]).attr("class",(t=>`y-axis ${t}-axis`)).on("measure",(function(t,e){let{width:n,height:r}=t.detail;"left"===e&&sp(t.currentTarget).select("svg").attr("viewBox",`${-n} 0 ${n} ${r}`).attr("preserveAspectRatio","none"),s.range([r,0])})).on("draw",(function(t,e){sp(t.currentTarget).select("svg").call(h)})),r){let r=n=>{let r=o.plotArea();r.context(n.node().getContext("2d")).xScale(t.scale);let a=[e.scale,s];[u,l].forEach(((t,e)=>{r.yScale(a[e]),r(t)}))};n.select("d3fc-canvas.plot-area").on("draw",(function(t,e){r(sp(t.currentTarget).select("canvas"))}))}else{let r=function(n){let r=o.plotArea();r.xScale(t.scale);let a=[e.scale,s];f(n,[u,l]).each(((t,e,n)=>{r.yScale(a[e]),sp(n[e]).datum(t).call(r)}))};n.select("d3fc-svg.plot-area").on("draw",(function(t,e){r(sp(t.currentTarget).select("svg"))}))}}a(n)}})),o},kk=h(hA());function Tk(t,e,n){let r=t.select(e);return r.size()>0?r:n()}function Vk(t,e,n="right"){if("right"===n||"bottom"===n)return t[n]<e[n];if("left"===n||"top"===n)return t[n]>e[n];throw`Direction being checked for overflow is invalid: ${n}`}function Nk(t,e,n,r=0){let a="x"===t?"width":"height",i=e[t],o=e[t]+e[a],l=n[t],u=n[t]+n[a];return l+r>i&&l-r<o||u+r>i&&u-r<o||l+r<i&&u-r>o}var Ck='<ul id="tooltip-values"></ul>\n',Ek={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short",timeStyle:"medium"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short"},null_value:-1}}};function zk(t){let e={};if(Ik().types[t]&&Object.assign(e,Ik().types[t]),e.type){let t=zk(e.type);return Object.assign(t,e),t}return e}function Dk(t){return t&&"object"==typeof t&&!Array.isArray(t)}function Pk(t,...e){if(!e.length)return t;let n=e.shift();if(Dk(t)&&Dk(n))for(let e in n)Dk(n[e])?(t[e]||Object.assign(t,{[e]:{}}),Pk(t[e],n[e])):Object.assign(t,{[e]:n[e]});return Pk(t,...e)}function Ik(){return globalThis.__PERSPECTIVE_CONFIG__||(globalThis.__PERSPECTIVE_CONFIG__=Pk(Ek,globalThis.__TEMPLATE_CONFIG__||{})),globalThis.__PERSPECTIVE_CONFIG__}function Rk(t,e){switch(t){case"date":case"datetime":return e instanceof Date?e:new Date(parseInt(e)).toLocaleString([],zk(t).format);case"integer":return parseInt(e,10);case"float":return parseFloat(e)}return e}function Bk(t,e){return 0===e.crossValues.length||0===t.crossValue.length?[]:((t.crossValue.split?t.crossValue.split("|"):[t.crossValue])||[t.key]).map(((t,n)=>({name:e.crossValues[n].name,value:Rk(e.crossValues[n].type,t)})))}function Ok(t,e){if(0===e.splitValues.length)return[];let n=[t.mainValue];return t.key?n=t.key.split("|"):t.mainValue?.split&&(n=t.mainValue.split("|")),e.splitValues.map(((t,e)=>({name:t.name,value:Rk(t.type,n[e])})))}function Lk(t,e){return e.mainValues.length>1?t.mainValue?[{name:t.key,value:t.mainValue-(t.baseValue||0)}]:e.mainValues.map(((e,n)=>({name:e.name,value:Rk(e.type,t.mainValues[n])}))):[{name:e.mainValues[0].name,value:Rk(e.mainValues[0].type,t.colorValue||t.mainValue-t.baseValue||t.mainValue||t.mainValues)}]}function Yk(t,e,n){!function(t,e){t.select("#tooltip-values").selectAll("li").data(e).join("li").each((function(t){sp(this).text(`${t.name}: `).append("b").text(Fk(t.value))}))}(t,Bk(e,n).concat(Ok(e,n)).concat(Lk(e,n)))}var Fk=t=>null==t?"-":t.toLocaleString(void 0,{style:"decimal",minimumFractionDigits:zk("float").precision,maximumFractionDigits:zk("float").precision}),Uk=t=>[t.name,"==",t.value],Hk=(t,e,n)=>{let r=Lk(e,n).map((t=>t.name)),a=Bk(e,n).map(Uk),i=Ok(e,n).map(Uk),o=n.filter.concat(a).concat(i);t.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{column_names:r,config:{filter:o},row:e.row}}))},jk=()=>{let t=!1,e=null,n=null,r=!1,a=a=>{let i=a.node();if(!i||!i.isConnected)return void Wk(e);let o=sp(KA(i));e=function(t){return Tk(t,"div.tooltip",(()=>t.append("div").attr("class","tooltip").style("z-index",3).style("opacity",0).html(Ck)))}(o);let l=function(t,i){Yk(e,i,n);let l=a.nodes(),u=l.indexOf(this);(function(t,e,n,r){let a=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=i.left+i.width/2-a.left,l=i.top-a.top+t.scrollTop;r&&(l=i.top+i.height/2-a.top+t.scrollTop),n.style("left",`${o}px`).style("top",`${l}px`).style("opacity",.9),r&&([o,l]=function(t,e){let n=t.node().getBoundingClientRect(),r=n.width/2,a=n.left-r-e.left;t.style("left",`${a}px`);let i=n.height/2,o=n.top-i-e.top;return t.style("top",`${o}px`),[a,o]}(n,a)),function(t,e,n,r,a=!1){let i=t.node().getBoundingClientRect();if(Vk(e,i)){let r=i.right-e.right;t.style("left",n-r+"px")}if(Vk(e,i,"bottom")){let n=i.bottom-e.bottom;t.style("top",r-n+"px")}if(a){if(Vk(e,i,"left")){let r=i.left-e.left;t.style("left",n-r+"px")}if(Vk(e,i,"top")){let n=i.top-e.top;t.style("top",r-n+"px")}}}(n,a,o,l,r)})(o.node(),l[u],e,r),sp(l[u]).style("opacity","0.7")};t?a.each((function(t){return l.call(this,void 0,t)})):(a.on("mouseover",l).on("mouseout",(function(t,n){Wk(e);let r=a.nodes(),i=r.indexOf(this);r&&sp(r[i]).style("opacity","1")})),(()=>{let t=null,e=e=>{let n=e.node();e.on("click",((e,r)=>Hk(n,r,t)))};return e.settings=(...n)=>n.length?(t=n[0],e):t,e})().settings(n)(a))};return a.alwaysShow=(...e)=>e.length?(t=e[0],a):t,a.centered=(...t)=>t.length?(r=t[0],a):r,a.settings=(...t)=>t.length?(n=t[0],a):n,a};function Wk(t){t&&t.style("opacity",0)}function qk(t,e){let n=t.mainValues.length>1?kk.seriesSvgGrouped(kk.seriesSvgBar()):kk.seriesSvgBar();return n=n.decorate((n=>{jk().settings(t)(n),n.style("fill",(t=>e(t.key)))})),kk.autoBandwidth($k(n)).crossValue((t=>t.crossValue)).mainValue((t=>t.mainValue?t.mainValue:0)).baseValue((t=>t.baseValue))}var $k=t=>{let e=e=>t(e);return kk.rebindAll(e,t),e.bandwidth=(...n)=>n.length?(t.bandwidth(Math.max(n[0],1)),e):t.bandwidth(),e};function Gk(t){return t.split("|").slice(0,-1).join("|")}function Xk(t){let e=t.data&&t.data.length>0?t.data[0]:{},n=Object.keys(e).filter((t=>"__ROW_PATH__"!==t));return Zk().settings(t).domain(n)()}function Qk(t,e){let n=Array.from(new Set(e));return Zk().settings(t).domain(n)()}function Kk(t){let e=t.data&&t.data.length>0?t.data[0]:{},n=[];return Object.keys(e).forEach((t=>{if("__ROW_PATH__"!==t){let e=Gk(t);n.includes(e)||n.push(e)}})),Zk().settings(t).domain(n)()}function Zk(){let t=null,e=null,n={},r=t=>tT(t,n.colorStyles&&n.colorStyles.opacity),a=()=>{let a=n.colorStyles,i=e||[a.series];if(i||t.length>1){return lr((t.length>1?a.scheme:i).map(r)).domain(t)}return null};return a.domain=(...e)=>e.length?(t=e[0],a):t,a.defaultColors=(...t)=>t.length?(e=t[0],a):e,a.mapFunction=(...t)=>t.length?(r=t[0],a):r,a.settings=(...t)=>t.length?(n=t[0],a):n,a}function Jk(t){return eT(1)(t)}function tT(t,e=.5){return eT(e)(t)}function eT(t){return e=>{let n=_r(e);return n.opacity=t,n+""}}var nT=h(hA()),rT={none:jA,ordinal:yk,time:lk,linear:tk},aT=t=>{let e=xA(t),n="__ROW_PATH__",r=(t,r)=>rT[e()](n)(t,r);return(0,nT.rebindAll)(r,e),r.valueName=(...t)=>t.length?(n=t[0],r):n,r};function iT(t,e,{stack:n=!1,excludeEmpty:r=!1}={}){let a=e||t.data;return t.splitValues.length>0?function(t,e,{stack:n=!1,excludeEmpty:r=!1}){let a={};return e.forEach((t=>{let e={},i={};Object.keys(t).filter((t=>"__ROW_PATH__"!==t)).filter((e=>!r||null!=t[e]&&null!=t[e])).forEach((r=>{let a=r.split("|"),o=a[a.length-1],l=t[r]||0,u=`${o}${l>=0?"+ve":"-ve"}`,c=a.slice(0,a.length-1).join("|"),f=i[c]=i[c]||{__ROW_PATH__:t.__ROW_PATH__},s=e[u]||0;f.__KEY__=c,n?(f[o]=s+l,f[`__BASE_VALUE__${o}`]=s,e[u]=f[o]):f[o]=l,f.row=t})),Object.keys(i).forEach((t=>{(a[t]=a[t]||[]).push(i[t])}))})),Object.keys(a).map((t=>{let e=a[t];return e.key=t,e}))}(0,a,{stack:n,excludeEmpty:r}):[a]}function oT(t,e){let n={stack:!0};return iT(t,e,n).map((e=>lT(t,e,n)))}function lT(t,e,{stack:n=!1}){let r=function(t,e,{stack:n=!1}){let r=aT(t);return t=>{let a=e=>n&&e[`__BASE_VALUE__${t.name}`]||0,i=e.map(((e,n)=>({crossValue:r(e,n),mainValue:e[t.name]?e[t.name]:null,baseValue:a(e),key:e.__KEY__?`${e.__KEY__}|${t.name}`:t.name,row:e.row||e})));return i.key=i[0].key,i}}(t,e,{stack:n});return t.mainValues.length>1?t.mainValues.map(r):r(t.mainValues[0])}var uT="http://www.w3.org/1999/xhtml",cT={svg:"http://www.w3.org/2000/svg",xhtml:uT,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function fT(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),cT.hasOwnProperty(e)?{space:cT[e],local:t}:t}function sT(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===uT&&e.documentElement.namespaceURI===uT?e.createElement(t):e.createElementNS(n,t)}}function hT(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function dT(t){var e=fT(t);return(e.local?hT:sT)(e)}var gT=0;function pT(){this._="@"+(++gT).toString(36)}pT.prototype=function(){return new pT}.prototype={constructor:pT,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var vT=function(t){return function(){return this.matches(t)}};typeof document<"u"&&((mT=document.documentElement).matches||(yT=mT.webkitMatchesSelector||mT.msMatchesSelector||mT.mozMatchesSelector||mT.oMatchesSelector,vT=function(t){return function(){return yT.call(this,t)}}));var mT,yT,bT=vT,xT={},_T=null;function wT(t,e,n){return t=ST(t,e,n),function(e){var n=e.relatedTarget;(!n||n!==this&&!(8&n.compareDocumentPosition(this)))&&t.call(this,e)}}function ST(t,e,n){return function(r){var a=_T;_T=r;try{t.call(this,this.__data__,e,n)}finally{_T=a}}}function MT(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function AT(t){return function(){var e=this.__on;if(e){for(var n,r=0,a=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++a]=n:this.removeEventListener(n.type,n.listener,n.capture);++a?e.length=a:delete this.__on}}}function kT(t,e,n){var r=xT.hasOwnProperty(t.type)?wT:ST;return function(a,i,o){var l,u=this.__on,c=r(e,i,o);if(u)for(var f=0,s=u.length;f<s;++f)if((l=u[f]).type===t.type&&l.name===t.name)return this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=c,l.capture=n),void(l.value=e);this.addEventListener(t.type,c,n),l={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(l):this.__on=[l]}}function TT(){}function VT(t){return null==t?TT:function(){return this.querySelector(t)}}function NT(){return[]}function CT(t){return new Array(t.length)}function ET(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}typeof document<"u"&&("onmouseenter"in document.documentElement||(xT={mouseenter:"mouseover",mouseleave:"mouseout"})),ET.prototype={constructor:ET,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function zT(t,e,n,r,a,i){for(var o,l=0,u=e.length,c=i.length;l<c;++l)(o=e[l])?(o.__data__=i[l],r[l]=o):n[l]=new ET(t,i[l]);for(;l<u;++l)(o=e[l])&&(a[l]=o)}function DT(t,e,n,r,a,i,o){var l,u,c,f={},s=e.length,h=i.length,d=new Array(s);for(l=0;l<s;++l)(u=e[l])&&(d[l]=c="$"+o.call(u,u.__data__,l,e),c in f?a[l]=u:f[c]=u);for(l=0;l<h;++l)(u=f[c="$"+o.call(t,i[l],l,i)])?(r[l]=u,u.__data__=i[l],f[c]=null):n[l]=new ET(t,i[l]);for(l=0;l<s;++l)(u=e[l])&&f[d[l]]===u&&(a[l]=u)}function PT(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function IT(t){return function(){this.removeAttribute(t)}}function RT(t){return function(){this.removeAttributeNS(t.space,t.local)}}function BT(t,e){return function(){this.setAttribute(t,e)}}function OT(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function LT(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function YT(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function FT(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function UT(t){return function(){this.style.removeProperty(t)}}function HT(t,e,n){return function(){this.style.setProperty(t,e,n)}}function jT(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function WT(t){return function(){delete this[t]}}function qT(t,e){return function(){this[t]=e}}function $T(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function GT(t){return t.trim().split(/^|\s+/)}function XT(t){return t.classList||new QT(t)}function QT(t){this._node=t,this._names=GT(t.getAttribute("class")||"")}function KT(t,e){for(var n=XT(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function ZT(t,e){for(var n=XT(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function JT(t){return function(){KT(this,t)}}function tV(t){return function(){ZT(this,t)}}function eV(t,e){return function(){(e.apply(this,arguments)?KT:ZT)(this,t)}}function nV(){this.textContent=""}function rV(t){return function(){this.textContent=t}}function aV(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function iV(){this.innerHTML=""}function oV(t){return function(){this.innerHTML=t}}function lV(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function uV(){this.nextSibling&&this.parentNode.appendChild(this)}function cV(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fV(){return null}function sV(){var t=this.parentNode;t&&t.removeChild(this)}function hV(t,e,n){var r=FT(t),a=r.CustomEvent;a?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function dV(t,e){return function(){return hV(this,t,e)}}function gV(t,e){return function(){return hV(this,t,e.apply(this,arguments))}}QT.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var pV,vV=[null];function mV(t,e){this._groups=t,this._parents=e}function yV(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function bV(t,e){var n=yV(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}mV.prototype=function(){return new mV([[document.documentElement]],vV)}.prototype={constructor:mV,select:function(t){"function"!=typeof t&&(t=VT(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o,l=e[a],u=l.length,c=r[a]=new Array(u),f=0;f<u;++f)(i=l[f])&&(o=t.call(i,i.__data__,f,l))&&("__data__"in i&&(o.__data__=i.__data__),c[f]=o);return new mV(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?NT:function(){return this.querySelectorAll(t)}}(t));for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var o,l=e[i],u=l.length,c=0;c<u;++c)(o=l[c])&&(r.push(t.call(o,o.__data__,c,l)),a.push(o));return new mV(r,a)},filter:function(t){"function"!=typeof t&&(t=bT(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],l=o.length,u=r[a]=[],c=0;c<l;++c)(i=o[c])&&t.call(i,i.__data__,c,o)&&u.push(i);return new mV(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var n=e?DT:zT,r=this._parents,a=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var i=a.length,o=new Array(i),l=new Array(i),u=new Array(i),c=0;c<i;++c){var f=r[c],s=a[c],h=s.length,d=t.call(f,f&&f.__data__,c,r),g=d.length,p=l[c]=new Array(g),v=o[c]=new Array(g);n(f,s,p,v,u[c]=new Array(h),d,e);for(var m,y,b=0,x=0;b<g;++b)if(m=p[b]){for(b>=x&&(x=b+1);!(y=v[x])&&++x<g;);m._next=y||null}}return(o=new mV(o,r))._enter=l,o._exit=u,o},enter:function(){return new mV(this._enter||this._groups.map(CT),this._parents)},exit:function(){return new mV(this._exit||this._groups.map(CT),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),o=new Array(r),l=0;l<i;++l)for(var u,c=e[l],f=n[l],s=c.length,h=o[l]=new Array(s),d=0;d<s;++d)(u=c[d]||f[d])&&(h[d]=u);for(;l<r;++l)o[l]=e[l];return new mV(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,a=t[e],i=a.length-1,o=a[i];--i>=0;)(r=a[i])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=PT);for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o,l=n[i],u=l.length,c=a[i]=new Array(u),f=0;f<u;++f)(o=l[f])&&(c[f]=o);c.sort(e)}return new mV(a,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a,i=e[n],o=0,l=i.length;o<l;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this},attr:function(t,e){var n=fT(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?RT:IT:"function"==typeof e?n.local?YT:LT:n.local?OT:BT)(n,e))},style:function(t,e,n){var r;return arguments.length>1?this.each((null==e?UT:"function"==typeof e?jT:HT)(t,e,n??"")):FT(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)},property:function(t,e){return arguments.length>1?this.each((null==e?WT:"function"==typeof e?$T:qT)(t,e)):this.node()[t]},classed:function(t,e){var n=GT(t+"");if(arguments.length<2){for(var r=XT(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?eV:e?JT:tV)(n,e))},text:function(t){return arguments.length?this.each(null==t?nV:("function"==typeof t?aV:rV)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?iV:("function"==typeof t?lV:oV)(t)):this.node().innerHTML},raise:function(){return this.each(uV)},lower:function(){return this.each(cV)},append:function(t){var e="function"==typeof t?t:dT(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:dT(t),r=null==e?fV:"function"==typeof e?e:VT(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(sV)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,a,i=MT(t+""),o=i.length;if(!(arguments.length<2)){for(l=e?kT:AT,null==n&&(n=!1),r=0;r<o;++r)this.each(l(i[r],e,n));return this}var l=this.node().__on;if(l)for(var u,c=0,f=l.length;c<f;++c)for(r=0,u=l[c];r<o;++r)if((a=i[r]).type===u.type&&a.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?gV:dV)(t,e))}};var xV={"":function(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,a=1,i=-1;a<r;++a)switch(t[a]){case".":i=n=a;break;case"0":0===i&&(i=a),n=a;break;case"e":break t;default:i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return bV(100*t,e)},r:bV,s:function(t,e){var n=yV(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(pV=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+yV(t,Math.max(0,e+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},_V=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function wV(t){return new SV(t)}function SV(t){if(!(e=_V.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",a=e[3]||"-",i=e[4]||"",o=!!e[5],l=e[6]&&+e[6],u=!!e[7],c=e[8]&&+e[8].slice(1),f=e[9]||"";"n"===f?(u=!0,f="g"):xV[f]||(f=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=a,this.symbol=i,this.zero=o,this.width=l,this.comma=u,this.precision=c,this.type=f}SV.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var MV,AV,kV,TV=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function VV(t){return t}function NV(t){var e=t.grouping&&t.thousands?function(t,e){return function(n,r){for(var a=n.length,i=[],o=0,l=t[0],u=0;a>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),i.push(n.substring(a-=l,a+l)),!((u+=l+1)>r));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}(t.grouping,t.thousands):VV,n=t.currency,r=t.decimal;function a(t){var a=(t=wV(t)).fill,i=t.align,o=t.sign,l=t.symbol,u=t.zero,c=t.width,f=t.comma,s=t.precision,h=t.type,d="$"===l?n[0]:"#"===l&&/[boxX]/.test(h)?"0"+h.toLowerCase():"",g="$"===l?n[1]:/[%p]/.test(h)?"%":"",p=xV[h],v=!h||/[defgprs%]/.test(h);function m(t){var n,l,m,y=d,b=g;if("c"===h)b=p(t)+b,t="";else{var x=((t=+t)<0||1/t<0)&&(t*=-1,!0);if(t=p(t,s),x)for(n=-1,l=t.length,x=!1;++n<l;)if(48<(m=t.charCodeAt(n))&&m<58||"x"===h&&96<m&&m<103||"X"===h&&64<m&&m<71){x=!0;break}if(y=(x?"("===o?o:"-":"-"===o||"("===o?"":o)+y,b=b+("s"===h?TV[8+pV/3]:"")+(x&&"("===o?")":""),v)for(n=-1,l=t.length;++n<l;)if(48>(m=t.charCodeAt(n))||m>57){b=(46===m?r+t.slice(n+1):t.slice(n))+b,t=t.slice(0,n);break}}f&&!u&&(t=e(t,1/0));var _=y.length+t.length+b.length,w=_<c?new Array(c-_+1).join(a):"";switch(f&&u&&(t=e(w+t,w.length?c-b.length:1/0),w=""),i){case"<":return y+t+b+w;case"=":return y+w+t+b;case"^":return w.slice(0,_=w.length>>1)+y+t+b+w.slice(_)}return w+y+t+b}return s=null==s?h?6:12:/[gprs]/.test(h)?Math.max(1,Math.min(21,s)):Math.max(0,Math.min(20,s)),m.toString=function(){return t+""},m}return{format:a,formatPrefix:function(t,e){var n=a(((t=wV(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(function(t){return(t=yV(Math.abs(t)))?t[1]:NaN}(e)/3))),i=Math.pow(10,-r),o=TV[8+r/3];return function(t){return n(i*t)+o}}}}MV=NV({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),AV=MV.format,kV=MV.formatPrefix;var CV={value:function(){}};function EV(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new zV(r)}function zV(t){this._=t}function DV(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function PV(t,e){for(var n,r=0,a=t.length;r<a;++r)if((n=t[r]).name===e)return n.value}function IV(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=CV,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}zV.prototype=EV.prototype={constructor:zV,on:function(t,e){var n,r=this._,a=DV(t+"",r),i=-1,o=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<o;)if(n=(t=a[i]).type)r[n]=IV(r[n],t.name,e);else if(null==e)for(n in r)r[n]=IV(r[n],t.name,null);return this}for(;++i<o;)if((n=(t=a[i]).type)&&(n=PV(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new zV(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,a)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};var RV=EV;function BV(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var OV=function(t){return 1===t.length&&(t=function(t){return function(e,n){return BV(t(e),n)}}(t)),{left:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)<0?r=i+1:a=i}return r},right:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)>0?a=i:r=i+1}return r}}}(BV),LV=OV.right,YV=(OV.left,LV),FV=Array.prototype,UV=(FV.slice,FV.map,Math.sqrt(50)),HV=Math.sqrt(10),jV=Math.sqrt(2);function WV(t,e,n){var r,a,i,o,l=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(o=function(t,e,n){var r=(e-t)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=UV?10:i>=HV?5:i>=jV?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=UV?10:i>=HV?5:i>=jV?2:1)}(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),i=new Array(a=Math.ceil(e-t+1));++l<a;)i[l]=(t+l)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),i=new Array(a=Math.ceil(t-e+1));++l<a;)i[l]=(t-l)/o;return r&&i.reverse(),i}function qV(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=UV?a*=10:i>=HV?a*=5:i>=jV&&(a*=2),e<t?-a:a}var $V="$";function GV(){}function XV(t,e){var n=new GV;if(t instanceof GV)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,a=-1,i=t.length;if(null==e)for(;++a<i;)n.set(a,t[a]);else for(;++a<i;)n.set(e(r=t[a],a,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}function QV(){}GV.prototype=XV.prototype={constructor:GV,has:function(t){return $V+t in this},get:function(t){return this[$V+t]},set:function(t,e){return this[$V+t]=e,this},remove:function(t){var e=$V+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===$V&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===$V&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===$V&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===$V&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===$V&&++t;return t},empty:function(){for(var t in this)if(t[0]===$V)return!1;return!0},each:function(t){for(var e in this)e[0]===$V&&t(this[e],e.slice(1),this)}};var KV=XV.prototype;QV.prototype=function(t,e){var n=new QV;if(t instanceof QV)t.each((function(t){n.add(t)}));else if(t){var r=-1,a=t.length;if(null==e)for(;++r<a;)n.add(t[r]);else for(;++r<a;)n.add(e(t[r],r,t))}return n}.prototype={constructor:QV,has:KV.has,add:function(t){return this[$V+(t+="")]=t,this},remove:KV.remove,clear:KV.clear,values:KV.keys,size:KV.size,empty:KV.empty,each:KV.each};var ZV=Array.prototype,JV=ZV.map,tN=ZV.slice;function eN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function nN(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function rN(){}var aN=.7,iN=1/aN,oN="\\s*([+-]?\\d+)\\s*",lN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",uN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cN=/^#([0-9a-f]{3,8})$/,fN=new RegExp("^rgb\\("+[oN,oN,oN]+"\\)$"),sN=new RegExp("^rgb\\("+[uN,uN,uN]+"\\)$"),hN=new RegExp("^rgba\\("+[oN,oN,oN,lN]+"\\)$"),dN=new RegExp("^rgba\\("+[uN,uN,uN,lN]+"\\)$"),gN=new RegExp("^hsl\\("+[lN,uN,uN]+"\\)$"),pN=new RegExp("^hsla\\("+[lN,uN,uN,lN]+"\\)$"),vN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function mN(){return this.rgb().formatHex()}function yN(){return this.rgb().formatRgb()}function bN(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=cN.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?xN(e):3===n?new MN(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?_N(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?_N(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=fN.exec(t))?new MN(e[1],e[2],e[3],1):(e=sN.exec(t))?new MN(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=hN.exec(t))?_N(e[1],e[2],e[3],e[4]):(e=dN.exec(t))?_N(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=gN.exec(t))?VN(e[1],e[2]/100,e[3]/100,1):(e=pN.exec(t))?VN(e[1],e[2]/100,e[3]/100,e[4]):vN.hasOwnProperty(t)?xN(vN[t]):"transparent"===t?new MN(NaN,NaN,NaN,0):null}function xN(t){return new MN(t>>16&255,t>>8&255,255&t,1)}function _N(t,e,n,r){return r<=0&&(t=e=n=NaN),new MN(t,e,n,r)}function wN(t){return t instanceof rN||(t=bN(t)),t?new MN((t=t.rgb()).r,t.g,t.b,t.opacity):new MN}function SN(t,e,n,r){return 1===arguments.length?wN(t):new MN(t,e,n,r??1)}function MN(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function AN(){return"#"+TN(this.r)+TN(this.g)+TN(this.b)}function kN(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function TN(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function VN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new CN(t,e,n,r)}function NN(t){if(t instanceof CN)return new CN(t.h,t.s,t.l,t.opacity);if(t instanceof rN||(t=bN(t)),!t)return new CN;if(t instanceof CN)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,l=i-a,u=(i+a)/2;return l?(o=e===i?(n-r)/l+6*(n<r):n===i?(r-e)/l+2:(e-n)/l+4,l/=u<.5?i+a:2-i-a,o*=60):l=u>0&&u<1?0:o,new CN(o,l,u,t.opacity)}function CN(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function EN(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}eN(rN,bN,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:mN,formatHex:mN,formatHsl:function(){return NN(this).formatHsl()},formatRgb:yN,toString:yN}),eN(MN,SN,nN(rN,{brighter:function(t){return t=null==t?iN:Math.pow(iN,t),new MN(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?aN:Math.pow(aN,t),new MN(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AN,formatHex:AN,formatRgb:kN,toString:kN})),eN(CN,(function(t,e,n,r){return 1===arguments.length?NN(t):new CN(t,e,n,r??1)}),nN(rN,{brighter:function(t){return t=null==t?iN:Math.pow(iN,t),new CN(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?aN:Math.pow(aN,t),new CN(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new MN(EN(t>=240?t-240:t+120,a,r),EN(t,a,r),EN(t<120?t+240:t-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var zN=Math.PI/180,DN=180/Math.PI,PN=-.14861,IN=1.78277,RN=-.29227,BN=-.90649,ON=1.97294,LN=ON*BN,YN=ON*IN,FN=IN*RN-BN*PN;function UN(t){if(t instanceof jN)return new jN(t.h,t.s,t.l,t.opacity);t instanceof MN||(t=wN(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(FN*r+LN*e-YN*n)/(FN+LN-YN),i=r-a,o=(ON*(n-a)-RN*i)/BN,l=Math.sqrt(o*o+i*i)/(ON*a*(1-a)),u=l?Math.atan2(o,i)*DN-120:NaN;return new jN(u<0?u+360:u,l,a,t.opacity)}function HN(t,e,n,r){return 1===arguments.length?UN(t):new jN(t,e,n,r??1)}function jN(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function WN(t,e,n,r,a){var i=t*t,o=i*t;return((1-3*t+3*i-o)*e+(4-6*i+3*o)*n+(1+3*t+3*i-3*o)*r+o*a)/6}function qN(t){return function(){return t}}function $N(t,e){return function(n){return t+n*e}}function GN(t){return 1==(t=+t)?XN:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):qN(isNaN(e)?n:e)}}function XN(t,e){var n=e-t;return n?$N(t,n):qN(isNaN(t)?e:t)}eN(jN,HN,nN(rN,{brighter:function(t){return t=null==t?iN:Math.pow(iN,t),new jN(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?aN:Math.pow(aN,t),new jN(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*zN,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),a=Math.sin(t);return new MN(255*(e+n*(PN*r+IN*a)),255*(e+n*(RN*r+BN*a)),255*(e+n*(ON*r)),this.opacity)}}));var QN=function t(e){var n=GN(e);function r(t,e){var r=n((t=SN(t)).r,(e=SN(e)).r),a=n(t.g,e.g),i=n(t.b,e.b),o=XN(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=a(e),t.b=i(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function KN(t){return function(e){var n,r,a=e.length,i=new Array(a),o=new Array(a),l=new Array(a);for(n=0;n<a;++n)r=SN(e[n]),i[n]=r.r||0,o[n]=r.g||0,l[n]=r.b||0;return i=t(i),o=t(o),l=t(l),r.opacity=1,function(t){return r.r=i(t),r.g=o(t),r.b=l(t),r+""}}}KN((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[r],i=t[r+1],o=r>0?t[r-1]:2*a-i,l=r<e-1?t[r+2]:2*i-a;return WN((n-r/e)*e,o,a,i,l)}})),KN((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),a=t[(r+e-1)%e],i=t[r%e],o=t[(r+1)%e],l=t[(r+2)%e];return WN((n-r/e)*e,a,i,o,l)}}));function ZN(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,a=e.slice();return function(i){for(n=0;n<r;++n)a[n]=t[n]*(1-i)+e[n]*i;return a}}function JN(t,e){var n,r=e?e.length:0,a=t?Math.min(r,t.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=oC(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<a;++n)o[n]=i[n](t);return o}}function tC(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function eC(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function nC(t,e){var n,r={},a={};for(n in(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={}),e)n in t?r[n]=oC(t[n],e[n]):a[n]=e[n];return function(t){for(n in r)a[n]=r[n](t);return a}}var rC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aC=new RegExp(rC.source,"g");function iC(t,e){var n,r,a,i=rC.lastIndex=aC.lastIndex=0,o=-1,l=[],u=[];for(t+="",e+="";(n=rC.exec(t))&&(r=aC.exec(e));)(a=r.index)>i&&(a=e.slice(i,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,u.push({i:o,x:eC(n,r)})),i=aC.lastIndex;return i<e.length&&(a=e.slice(i),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)l[(n=u[r]).i]=n.x(t);return l.join("")})}function oC(t,e){var n,r=typeof e;return null==e||"boolean"===r?qN(e):("number"===r?eC:"string"===r?(n=bN(e))?(e=n,QN):iC:e instanceof bN?QN:e instanceof Date?tC:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?ZN:Array.isArray(e)?JN:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?nC:eC)(t,e)}function lC(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function uC(t){return function e(n){function r(e,r){var a=t((e=HN(e)).h,(r=HN(r)).h),i=XN(e.s,r.s),o=XN(e.l,r.l),l=XN(e.opacity,r.opacity);return function(t){return e.h=a(t),e.s=i(t),e.l=o(Math.pow(t,n)),e.opacity=l(t),e+""}}return n=+n,r.gamma=e,r}(1)}uC((function(t,e){var n=e-t;return n?$N(t,n>180||n<-180?n-360*Math.round(n/360):n):qN(isNaN(t)?e:t)}));var cC=uC(XN);function fC(t){return+t}var sC=[0,1];function hC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(e)}function dC(t,e,n,r){var a=t[0],i=t[1],o=e[0],l=e[1];return i<a?(a=n(i,a),o=r(l,o)):(a=n(a,i),o=r(o,l)),function(t){return o(a(t))}}function gC(t,e,n,r){var a=Math.min(t.length,e.length)-1,i=new Array(a),o=new Array(a),l=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<a;)i[l]=n(t[l],t[l+1]),o[l]=r(e[l],e[l+1]);return function(e){var n=YV(t,e,1,a)-1;return o[n](i[n](e))}}function pC(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function vC(t){return(t=pC(Math.abs(t)))?t[1]:NaN}var mC,yC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bC(t){if(!(e=yC.exec(t)))throw new Error("invalid format: "+t);var e;return new xC({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function xC(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function _C(t,e){var n=pC(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}bC.prototype=xC.prototype,xC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var wC={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return _C(100*t,e)},r:_C,s:function(t,e){var n=pC(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(mC=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+pC(t,Math.max(0,e+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function SC(t){return t}var MC,AC,kC,TC=Array.prototype.map,VC=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function NC(t){var e=void 0===t.grouping||void 0===t.thousands?SC:function(t,e){return function(n,r){for(var a=n.length,i=[],o=0,l=t[0],u=0;a>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),i.push(n.substring(a-=l,a+l)),!((u+=l+1)>r));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}(TC.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",i=void 0===t.numerals?SC:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(TC.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function c(t){var c=(t=bC(t)).fill,f=t.align,s=t.sign,h=t.symbol,d=t.zero,g=t.width,p=t.comma,v=t.precision,m=t.trim,y=t.type;"n"===y?(p=!0,y="g"):wC[y]||(void 0===v&&(v=12),m=!0,y="g"),(d||"0"===c&&"="===f)&&(d=!0,c="0",f="=");var b="$"===h?n:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===h?r:/[%p]/.test(y)?o:"",_=wC[y],w=/[defgprs%]/.test(y);function S(t){var n,r,o,h=b,S=x;if("c"===y)S=_(t)+S,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:_(Math.abs(t),v),m&&(t=function(t){t:for(var e,n=t.length,r=1,a=-1;r<n;++r)switch(t[r]){case".":a=e=r;break;case"0":0===a&&(a=r),e=r;break;default:if(!+t[r])break t;a>0&&(a=0)}return a>0?t.slice(0,a)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==s&&(M=!1),h=(M?"("===s?s:l:"-"===s||"("===s?"":s)+h,S=("s"===y?VC[8+mC/3]:"")+S+(M&&"("===s?")":""),w)for(n=-1,r=t.length;++n<r;)if(48>(o=t.charCodeAt(n))||o>57){S=(46===o?a+t.slice(n+1):t.slice(n))+S,t=t.slice(0,n);break}}p&&!d&&(t=e(t,1/0));var A=h.length+t.length+S.length,k=A<g?new Array(g-A+1).join(c):"";switch(p&&d&&(t=e(k+t,k.length?g-S.length:1/0),k=""),f){case"<":t=h+t+S+k;break;case"=":t=h+k+t+S;break;case"^":t=k.slice(0,A=k.length>>1)+h+t+S+k.slice(A);break;default:t=k+h+t+S}return i(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),S.toString=function(){return t+""},S}return{format:c,formatPrefix:function(t,e){var n=c(((t=bC(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(vC(e)/3))),a=Math.pow(10,-r),i=VC[8+r/3];return function(t){return n(a*t)+i}}}}function CC(t,e,n){var r,a=t[0],i=t[t.length-1],o=qV(a,i,e??10);switch((n=bC(n??",f")).type){case"s":var l=Math.max(Math.abs(a),Math.abs(i));return null==n.precision&&!isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(vC(e)/3)))-vC(Math.abs(t)))}(o,l))&&(n.precision=r),kC(n,l);case"":case"e":case"g":case"p":case"r":null==n.precision&&!isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vC(e)-vC(t))+1}(o,Math.max(Math.abs(a),Math.abs(i))))&&(n.precision=r-("e"===n.type));break;case"f":case"%":null==n.precision&&!isNaN(r=function(t){return Math.max(0,-vC(Math.abs(t)))}(o))&&(n.precision=r-2*("%"===n.type))}return AC(n)}function EC(){var t=function(t,e){var n,r,a,i=sC,o=sC,l=oC,u=!1;function c(){return n=Math.min(i.length,o.length)>2?gC:dC,r=a=null,f}function f(e){return(r||(r=n(i,o,u?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,l)))(+e)}return f.invert=function(t){return(a||(a=n(o,i,hC,u?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},f.domain=function(t){return arguments.length?(i=JV.call(t,fC),c()):i.slice()},f.range=function(t){return arguments.length?(o=tN.call(t),c()):o.slice()},f.rangeRound=function(t){return o=tN.call(t),l=lC,c()},f.clamp=function(t){return arguments.length?(u=!!t,c()):u},f.interpolate=function(t){return arguments.length?(l=t,c()):l},c()}(hC,eC);return t.copy=function(){return function(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}(t,EC())},function(t){var e=t.domain;return t.ticks=function(t){var n=e();return WV(n[0],n[n.length-1],t??10)},t.tickFormat=function(t,n){return CC(e(),t,n)},t.nice=function(n){var r=e(),a=r.length-1,i=n??10,o=r[0],l=r[a],u=qV(o,l,i);return u&&(u=qV(Math.floor(o/u)*u,Math.ceil(l/u)*u,i),r[0]=Math.floor(o/u)*u,r[a]=Math.ceil(l/u)*u,e(r)),t},t}(t)}!function(t){MC=NC(t),AC=MC.format,kC=MC.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function zC(t){return t.match(/.{6}/g).map((function(t){return"#"+t}))}zC("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),zC("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),zC("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),zC("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),cC(HN(300,.5,0),HN(-240,.5,1)),cC(HN(-100,.75,.35),HN(80,1.5,.8)),cC(HN(260,.75,.35),HN(80,1.5,.8)),HN();function DC(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}DC(zC("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),DC(zC("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),DC(zC("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),DC(zC("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function PC(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var IC=function(t){return 1===t.length&&(t=function(t){return function(e,n){return PC(t(e),n)}}(t)),{left:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)<0?r=i+1:a=i}return r},right:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)>0?a=i:r=i+1}return r}}}(PC),RC=(IC.right,IC.left,Array.prototype);RC.slice,RC.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);function BC(t,e){var n,r,a=-1,i=t.length;if(null==e){for(;++a<i;)if(null!=(r=t[a])&&r>=r){n=r;break}for(;++a<i;)null!=(r=t[a])&&r>n&&(n=r)}else{for(;++a<i;)if(null!=(r=e(t[a],a,t))&&r>=r){n=r;break}for(;++a<i;)null!=(r=e(t[a],a,t))&&r>n&&(n=r)}return n}function OC(t,e){var n,r=0,a=t.length,i=-1;if(null==e)for(;++i<a;)(n=+t[i])&&(r+=n);else for(;++i<a;)(n=+e(t[i],i,t))&&(r+=n);return r}var LC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YC=function(t){return t},FC=function(t){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[r-n-1];return e},UC=function(t,e){t.each((function(){for(var t,n=function(t){return"string"==typeof t?new mV([[document.querySelector(t)]],[document.documentElement]):new mV([[t]],vV)}(this),r=n.text().split(/\s+/).reverse(),a=[],i=(n.attr("y"),parseFloat(n.attr("dy"))||0),o=n.text(null).append("tspan").attr("x",0).attr("dy",i+"em");t=r.pop();)a.push(t),o.text(a.join(" ")),o.node().getComputedTextLength()>e&&a.length>1&&(a.pop(),o.text(a.join(" ")),a=[t],o=n.append("tspan").attr("x",0).attr("dy",1.2+i+"em").text(t))}))},HC={d3_drawShapes:function(t,e,n,r,a,i){"rect"===t?e.attr("height",n).attr("width",r):"circle"===t?e.attr("r",a):"line"===t?e.attr("x1",0).attr("x2",r).attr("y1",0).attr("y2",0):"path"===t&&e.attr("d",i)},d3_addText:function(t,e,n,r,a){e.append("text").attr("class",r+"label");var i=t.selectAll("g."+r+"cell text."+r+"label").data(n).text(YC);return a&&t.selectAll("g."+r+"cell text."+r+"label").call(UC,a),i},d3_calcType:function(t,e,n,r,a,i){var o=t.invertExtent?function(t,e,n){var r=t.range().map((function(r){var a=t.invertExtent(r);return e(a[0])+" "+n+" "+e(a[1])}));return{data:t.range(),labels:r,feature:YC}}(t,a,i):t.ticks?function(t,e,n){var r=[];if(e.length>1)r=e;else for(var a=t.domain(),i=(a[a.length-1]-a[0])/(e-1),o=0;o<e;o++)r.push(a[0]+o*i);var l=r.map(n);return{data:r,labels:l,feature:function(e){return t(e)}}}(t,n,a):function(t){return{data:t.domain(),labels:t.domain(),feature:function(e){return t(e)}}}(t),l=t.range&&t.range()||t.domain();return o.labels=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=arguments[2],r=arguments[3],a=arguments[4];if("object"===(typeof e>"u"?"undefined":LC(e))){if(0===e.length)return t;for(var i=e.length;i<t.length;i++)e.push(t[i]);return e}if("function"==typeof e){for(var o=[],l=t.length,u=0;u<l;u++)o.push(e({i:u,genLength:l,generatedLabels:t,domain:n,range:r,labelDelimiter:a}));return o}return t}(o.labels,r,t.domain(),l,i),e&&(o.labels=FC(o.labels),o.data=FC(o.data)),o},d3_filterCells:function(t,e){var n=t.data.map((function(e,n){return{data:e,label:t.labels[n]}})).filter(e),r=n.map((function(t){return t.data})),a=n.map((function(t){return t.label}));return t.data=t.data.filter((function(t){return-1!==r.indexOf(t)})),t.labels=t.labels.filter((function(t){return-1!==a.indexOf(t)})),t},d3_placement:function(t,e,n,r,a,i){e.attr("transform",n),r.attr("transform",a),"horizontal"===t&&r.style("text-anchor",i)},d3_addEvents:function(t,e){t.on("mouseover.legend",(function(t){!function(t,e,n){t.call("cellover",n,e)}(e,t,this)})).on("mouseout.legend",(function(t){!function(t,e,n){t.call("cellout",n,e)}(e,t,this)})).on("click.legend",(function(t){!function(t,e,n){t.call("cellclick",n,e)}(e,t,this)}))},d3_title:function(t,e,n,r){if(""!==e){t.selectAll("text."+n+"legendTitle").data([e]).enter().append("text").attr("class",n+"legendTitle"),t.selectAll("text."+n+"legendTitle").text(e),r&&t.selectAll("text."+n+"legendTitle").call(UC,r);var a=t.select("."+n+"legendCells"),i=t.select("."+n+"legendTitle").nodes().map((function(t){return t.getBBox().height}))[0],o=-a.nodes().map((function(t){return t.getBBox().x}))[0];a.attr("transform","translate("+o+","+i+")")}},d3_defaultLocale:{format:AV,formatPrefix:kV},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function jC(){var t=EC(),e="rect",n=15,r=15,a=10,i=2,o=[5],l=void 0,u=[],c="",f=!1,s="",h=HC.d3_defaultLocale,d=HC.d3_defaultFormatSpecifier,g=10,p="middle",v=HC.d3_defaultDelimiter,m=void 0,y="vertical",b=!1,x=void 0,_=void 0,w=RV("cellover","cellout","cellclick");function S(S){var M=HC.d3_calcType(t,b,o,u,h.format(d),v);S.selectAll("g").data([t]).enter().append("g").attr("class",c+"legendCells"),l&&HC.d3_filterCells(M,l);var A=S.select("."+c+"legendCells").selectAll("."+c+"cell").data(M.data),k=A.enter().append("g").attr("class",c+"cell");k.append(e).attr("class",c+"swatch");var T=S.selectAll("g."+c+"cell "+e+"."+c+"swatch").data(M.data);HC.d3_addEvents(k,w),A.exit().transition().style("opacity",0).remove(),T.exit().transition().style("opacity",0).remove(),T=T.merge(T),HC.d3_drawShapes(e,T,r,n,a,x);var V=HC.d3_addText(S,k,M.labels,c,m);A=k.merge(A);var N=V.nodes().map((function(t){return t.getBBox()})),C=T.nodes().map((function(t){return t.getBBox()}));f?T.attr("class",(function(t){return c+"swatch "+M.feature(t)})):"line"==e?T.style("stroke",M.feature):T.style("fill",M.feature);var E,z=void 0,D=void 0,P="start"==p?0:"middle"==p?.5:1;"vertical"===y?(E=N.map((function(t,e){return Math.max(t.height,C[e].height)})),z=function(t,e){return"translate(0, "+(OC(E.slice(0,e))+e*i)+")"},D=function(t,e){return"translate( "+(C[e].width+C[e].x+g)+", "+(C[e].y+C[e].height/2+5)+")"}):"horizontal"===y&&(z=function(t,e){return"translate("+e*(C[e].width+i)+",0)"},D=function(t,e){return"translate("+(C[e].width*P+C[e].x)+",\n          "+(C[e].height+C[e].y+g+8)+")"}),HC.d3_placement(y,A,z,V,D,p),HC.d3_title(S,s,c,_),A.transition().style("opacity",1)}return S.scale=function(e){return arguments.length?(t=e,S):t},S.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(o=t),S):o},S.cellFilter=function(t){return arguments.length?(l=t,S):l},S.shape=function(t,n){return arguments.length?(("rect"==t||"circle"==t||"line"==t||"path"==t&&"string"==typeof n)&&(e=t,x=n),S):e},S.shapeWidth=function(t){return arguments.length?(n=+t,S):n},S.shapeHeight=function(t){return arguments.length?(r=+t,S):r},S.shapeRadius=function(t){return arguments.length?(a=+t,S):a},S.shapePadding=function(t){return arguments.length?(i=+t,S):i},S.labels=function(t){return arguments.length?(u=t,S):u},S.labelAlign=function(t){return arguments.length?(("start"==t||"end"==t||"middle"==t)&&(p=t),S):p},S.locale=function(t){return arguments.length?(h=NV(t),S):h},S.labelFormat=function(t){return arguments.length?(d=wV(t),S):S.locale().format(d)},S.labelOffset=function(t){return arguments.length?(g=+t,S):g},S.labelDelimiter=function(t){return arguments.length?(v=t,S):v},S.labelWrap=function(t){return arguments.length?(m=t,S):m},S.useClass=function(t){return arguments.length?((!0===t||!1===t)&&(f=t),S):f},S.orient=function(t){return arguments.length?(("horizontal"==(t=t.toLowerCase())||"vertical"==t)&&(y=t),S):y},S.ascending=function(t){return arguments.length?(b=!!t,S):b},S.classPrefix=function(t){return arguments.length?(c=t,S):c},S.title=function(t){return arguments.length?(s=t,S):s},S.titleWidth=function(t){return arguments.length?(_=t,S):_},S.textWrap=function(t){return arguments.length?(textWrap=t,S):textWrap},S.on=function(){var t=w.on.apply(w,arguments);return t===w?S:t},S}var WC=h(hA());var qC=10;function $C(t,e,n){let r=sp(QA(t).getContainer()).node().getBoundingClientRect(),a=t.getBoundingClientRect(),i={top:a.top+n-qC,right:a.right+e+qC,bottom:a.bottom+n+qC,left:a.left+e-qC},o={x:e,y:n};return[{edge:"right",dimension:"x"},{edge:"left",dimension:"x"},{edge:"top",dimension:"y"},{edge:"bottom",dimension:"y"}].forEach((t=>{if(Vk(r,i,t.edge)){let e=i[t.edge]-r[t.edge];o[t.dimension]=o[t.dimension]-e}})),o}var GC="resize.for-dragging";function XC(){let t=!0,e=null,n=n=>{let r=n.node(),a=r.getRootNode().host.closest("perspective-viewer");r.style.cursor="move",e.legend&&(r.style.left=e.legend.left,r.style.top=e.legend.top);let i=H_().on("drag",(function(n){let a=$C(this,n.dx,n.dy);this.style.left=`${this.offsetLeft+a.x}px`,this.style.top=`${this.offsetTop+a.y}px`;let i={left:this.style.left,top:this.style.top};e.legend={...e.legend,...i},t=function(t){let e=t.getBoundingClientRect(),n=sp(KA(t)).node().getBoundingClientRect(),r=5;return e.right+qC+r>=n.right&&e.top-qC-r<=n.top}(r)?function(t){return sp(window).on(GC,null),t.style.left="auto",!0}(r):function(t,e){return!1!==e&&sp(window).on(GC,(function(){let e=$C(t,0,0);t.style.left=`${t.offsetLeft+e.x}px`,t.style.top=`${t.offsetTop+e.y}px`})),!1}(r,t)}));i.on("end",(function(t){sp(window).on(GC,null),a?.dispatchEvent(new Event("perspective-config-update"))})),n.call(i)};return n.settings=(...t)=>t.length?(e=t[0],n):e,n}var QC="horizontal-drag-handle",KC="vertical-drag-handle",ZC="dragHandles",JC="resize";var tE=(t,e,n,r)=>{t.selectAll(`.${r}`).each(((t,r,a)=>{let i=a[r];sp(i).attr(n,i.getBoundingClientRect()[n]-e)}))},eE=t=>t.select(`#${ZC}`).size()>0,nE=(t,e,n)=>t.attr(e,Number(t.attr(e))-n),rE=(t,e,n)=>t.attr(e,t.node().getBoundingClientRect()[e]-n),aE=(t,e)=>{let n,r,a=t||jC(),i=[],o=1,l=e.legend&&e.legend.pageIndex?e.legend.pageIndex:0,u=()=>{},c=XC().settings(e),f=t=>{i=a.scale().domain(),r=function(){let t=9,e=3,n=null,r={height:100,width:100},a={height:null,width:null},i=[],o=(t,e)=>i.filter((e=>e.event===t)).forEach((t=>t.execute(e))),l=r=>{if(eE(r))return;let i={left:t=>o(JC,{horizontal:k(t),vertical:!1}),top:t=>o(JC,{horizontal:!1,vertical:V(t)}),right:t=>o(JC,{horizontal:T(t),vertical:!1}),bottom:t=>o(JC,{horizontal:!1,vertical:N(t)}),topleft:t=>o(JC,{horizontal:k(t),vertical:V(t)}),topright:t=>o(JC,{horizontal:T(t),vertical:V(t)}),bottomright:t=>o(JC,{horizontal:T(t),vertical:N(t)}),bottomleft:t=>o(JC,{horizontal:k(t),vertical:N(t)})},l=r.node();n.legend&&(l.style.height=n.legend.height,l.style.width=n.legend.width);let f=l.getBoundingClientRect(),s=r.append("svg").attr("id",ZC).attr("width",f.width).attr("height",f.height),h=s.append("g"),d=t=>"left"===t||"right"===t,g={left:0,top:t,right:f.width-t,bottom:t},p={left:t,top:0,right:t,bottom:f.height-t},[v,m,y,b]=["left","top","right","bottom"].map((n=>h.append("rect").attr("id",`drag${n}`).attr("class",d(n)?KC:QC).attr("y",p[n]).attr("x",g[n]).attr("height",d(n)?f.height-2*t:t).attr("width",d(n)?t:f.width-2*t).attr("fill",d(n)?"lightgreen":"lightblue").attr("fill-opacity",0).style("z-index",e).attr("cursor",d(n)?"ew-resize":"ns-resize").call(H_().on("drag",i[n])))),x=t=>`${t[0]}${t[1]}`,_={topleft:"nwse",topright:"nesw",bottomright:"nwse",bottomleft:"nesw"},[w,S,M,A]=[["top","left"],["top","right"],["bottom","right"],["bottom","left"]].map((n=>h.append("rect").attr("id",`drag${x(n)}`).attr("class",`corner-drag-handle ${n[0]} ${n[1]}`).attr("height",t).attr("width",t).attr("fill","red").attr("fill-opacity",0).style("z-index",e).attr("cursor",`${_[x(n)]}-resize`).call(H_().on("drag",i[x(n)]))));function k(t){let e=c($C(v.node(),t.x,0).x,s,"width",((t,e)=>t-e));return l.style.left=`${l.offsetLeft+e}px`,l.style.width=l.offsetWidth-e+"px",C(),E(y,e,"width","x")}function T(t){let e=-c($C(y.node(),t.dx,0).x,s,"width",((t,e)=>t+e));return!u(e,"x",y,t)&&(l.style.width=l.offsetWidth-e+"px",C(),E(y,e,"width","x"))}function V(t){let e=c($C(m.node(),0,t.y).y,s,"height",((t,e)=>t-e));return l.style.top=`${l.offsetTop+e}px`,l.style.height=l.offsetHeight-e+"px",C(),E(b,e,"height","y")}function N(t){let e=-c($C(b.node(),0,t.dy).y,s,"height",((t,e)=>t+e));return!u(e,"y",b,t)&&(l.style.height=l.offsetHeight-e+"px",C(),E(b,e,"height","y"))}function C(){let t={top:l.style.top,left:l.style.left,height:l.style.height,width:l.style.width};n.legend={...n.legend,...t}}function E(t,e,n,r){return rE(s,n,e),nE(t,r,e),tE(s,e,n,"height"===n?KC:QC),z(s),0!=e}function z(e){w.attr("y",0,"x",0),S.attr("y",0).attr("x",e.attr("width")-t),M.attr("y",e.attr("height")-t).attr("x",e.attr("width")-t),A.attr("y",e.attr("height")-t).attr("x",0)}function D(t,e,n){a[t]&&a[t]<f[t]&&(l.style[t]=`${a[t]}px`,E(n,f[t]-a[t],t,e))}D("height","y",b),D("width","x",y),z(s)};function u(t,e,n,r){return a=e,i=n,t<0&&r[a]<Number(i.attr(a))||((t,e,n,r)=>t>0&&r[e]>Number(n.attr(e)))(t,e,n,r);var a,i}function c(t,e,n,i){let o=i(Number(e.attr(n)),t);return o<r[n]?i(t,r[n]-o):a[n]&&o>a[n]?i(t,a[n]-o):t}return l.on=(t,e)=>(i.push({event:t,execute:e}),l),l.zIndex=t=>(e=t,l),l.settings=(...t)=>t.length?(n=t[0],l):n,l.minWidth=t=>(r.width=t,a.width&&(a.width=Math.max(r.width,a.width)),l),l.minHeight=t=>(r.height=t,a.height&&(a.height=Math.max(r.height,a.height)),l),l.handleWidth=e=>(t=e,l),l.maxWidth=t=>(a.width=t,r.width=Math.min(r.width,a.width),l),l.maxHeight=t=>(a.height=t,r.height=Math.min(r.height,a.height),l),l}().settings(e).maxHeight(16*i.length+20).on("resize",(()=>s(t))),r(t),c(t),s(t)},s=t=>{v(t),h(t),d(t),function(t){let e=t.select("g.legendCells"),n=t.node().getBoundingClientRect();if(!Vk(n,e.node().getBoundingClientRect()))return;let r=t.select(".legend");e.selectAll(".label").text(((t,e,a)=>{let i=a[e];if(Vk(n,i.getBoundingClientRect())){let e=function(t,e,n){let r=t.getBoundingClientRect(),a=e.node().createSVGPoint(),i=3;return a.x=n.right-r.left-i,a.y=0,t.getCharNumAtPosition(a)}(i,r,n);return`${t.substring(0,e-3)}...`}return t}))}(t)},h=t=>{let e=y(t);e.style("display",o<=1?"none":"block"),e.select("#page-text").text(`${l+1}/${o}`),e.select("#up-arrow").attr("class",0===l?"disabled":"").on("click",(()=>{l>0&&(g(l-1),s(t))})),e.select("#down-arrow").attr("class",l>=o-1?"disabled":"").on("click",(()=>{l<o-1&&(g(l+1),s(t))}))},d=t=>{o>1&&a.cellFilter(p()),t.select("g.legendCells").remove();let e=b(t);e.call(a);let n=t.select("g.legendCells").node().getBBox();e.attr("height",n.height+20),u(t)},g=t=>{l=t,e.legend={...e.legend,pageIndex:l}},p=()=>(t,e)=>e>=n*l&&e<n*l+n,v=t=>{let e=t.node().getBoundingClientRect(),r=Math.floor(e.height/16)-1;n=r<i.length?r-1:r,o=m(r),l=Math.min(l,o-1)},m=t=>Math.ceil(i.length/t),y=t=>Tk(t,".legend-controls",(()=>t.append("g").attr("class","legend-controls").html('<span id="up-arrow">&#9650;</span>\n<span id="page-text"></span>\n<span id="down-arrow">&#9660;</span>\n'))),b=t=>Tk(t,".legend",(()=>t.append("svg").attr("class","legend")));return f.decorate=(...t)=>t.length?(u=t[0],f):u,(0,WC.rebindAll)(f,a),f},iE=t=>aE(jC().shape("circle").shapeRadius(6),t),oE=t=>aE(function(){var t=EC(),e="path",n=5,r=[5],a=void 0,i=[],o="",l="",u=HC.d3_defaultLocale,c=HC.d3_defaultFormatSpecifier,f="middle",s=10,h=HC.d3_defaultDelimiter,d=void 0,g="vertical",p=!1,v=void 0,m=RV("cellover","cellout","cellclick");function y(y){var b=HC.d3_calcType(t,p,r,i,u.format(c),h),x=y.selectAll("g").data([t]);a&&HC.d3_filterCells(b,a),x.enter().append("g").attr("class",o+"legendCells");var _=y.select("."+o+"legendCells").selectAll("."+o+"cell").data(b.data),w=_.enter().append("g").attr("class",o+"cell");w.append(e).attr("class",o+"swatch");var S=y.selectAll("g."+o+"cell "+e+"."+o+"swatch");HC.d3_addEvents(w,m),_.exit().transition().style("opacity",0).remove(),S.exit().transition().style("opacity",0).remove(),S=S.merge(S),HC.d3_drawShapes(e,S,15,15,10,b.feature);var M=HC.d3_addText(y,w,b.labels,o,d);_=w.merge(_);var A,k=M.nodes().map((function(t){return t.getBBox()})),T=S.nodes().map((function(t){return t.getBBox()})),V=BC(T,(function(t){return t.height})),N=BC(T,(function(t){return t.width})),C=void 0,E=void 0,z="start"==f?0:"middle"==f?.5:1;"vertical"===g?(A=k.map((function(t,e){return Math.max(V,t.height)})),C=function(t,e){return"translate(0, "+(OC(A.slice(0,e))+e*n)+" )"},E=function(t,e){return"translate( "+(N+s)+",\n              "+(T[e].y+T[e].height/2+5)+")"}):"horizontal"===g&&(C=function(t,e){return"translate( "+e*(N+n)+",0)"},E=function(t,e){return"translate( "+(T[e].width*z+T[e].x)+",\n              "+(V+s)+")"}),HC.d3_placement(g,_,C,M,E,f),HC.d3_title(y,l,o,v),_.transition().style("opacity",1)}return y.scale=function(e){return arguments.length?(t=e,y):t},y.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(r=t),y):r},y.cellFilter=function(t){return arguments.length?(a=t,y):a},y.shapePadding=function(t){return arguments.length?(n=+t,y):n},y.labels=function(t){return arguments.length?(i=t,y):i},y.labelAlign=function(t){return arguments.length?(("start"==t||"end"==t||"middle"==t)&&(f=t),y):f},y.locale=function(t){return arguments.length?(u=NV(t),y):u},y.labelFormat=function(t){return arguments.length?(c=wV(t),y):y.locale().format(c)},y.labelOffset=function(t){return arguments.length?(s=+t,y):s},y.labelDelimiter=function(t){return arguments.length?(h=t,y):h},y.labelWrap=function(t){return arguments.length?(d=t,y):d},y.orient=function(t){return arguments.length?(("horizontal"==(t=t.toLowerCase())||"vertical"==t)&&(g=t),y):g},y.ascending=function(t){return arguments.length?(p=!!t,y):p},y.classPrefix=function(t){return arguments.length?(o=t,y):o},y.title=function(t){return arguments.length?(l=t,y):l},y.titleWidth=function(t){return arguments.length?(v=t,y):v},y.on=function(){var t=m.on.apply(m,arguments);return t===m?y:t},y}().shapePadding(1).labelOffset(3),t),lE=()=>fE(iE),uE=()=>fE(oE,cE);function cE(t){if(!t)return null;let e=t.domain(),n=t.range().map((t=>fm().type(t)()));return lr().domain(e).range(n)}function fE(t,e){let n={},r=null,a=null;function i(e){if(r&&r.range().length>1){let i=t(n);i.scale(r).orient("vertical").on("cellclick",(function(t){let e=this.__data__;n.hideKeys=n.hideKeys||[],n.hideKeys.includes(e)?n.hideKeys=n.hideKeys.filter((t=>t!==e)):n.hideKeys.push(e),QA(this)._draw()})),i.labels((t=>{let e=t.domain[t.i].split("|");return n.mainValues.length<=1&&e.length>1?e.slice(0,e.length-1).join("|"):t.domain[t.i]}));let o=Tk(e,"div.legend-container",(()=>e.append("div")));i.decorate((t=>{let e=t=>n.hideKeys&&n.hideKeys.includes(t),r=t.select("g.legendCells").attr("transform","translate(20,20)").selectAll("g.cell");r.classed("hidden",e),r.append("title").html((t=>t)),a&&r.select("circle, path").style("fill",(t=>e(t)?null:a(t))).style("stroke",(t=>e(t)?null:Jk(a(t))))})),o.attr("class","legend-container").attr("borderbox-on-hover",!0).style("z-index","2").call(i)}}return i.settings=(...t)=>t.length?(n=t[0],i):n,i.scale=(...t)=>t.length?(r=e?e(t[0]):t[0],i):r,i.color=(...t)=>t.length?(a=t[0],i):a,i}function sE(t,e){let n=e||t.data;return t.hideKeys&&t.hideKeys.length>0?n.map((e=>{let n={...e};return t.hideKeys.forEach((t=>{delete n[t]})),n})):n}function hE(t,e){let n=e||t.data;return t.hideKeys&&t.hideKeys.length>0?n.map((e=>{let n={};return Object.keys(e).map((r=>{t.hideKeys.includes(Gk(r))||(n[r]=e[r])})),n})):n}var dE=h(hA()),gE=t=>t.style("display","none"),pE=(t,e)=>{let n="both",r=!1,a=null,i=null,o=null,l=dE.seriesSvgMulti(),u=dE.annotationSvgGridline(),c=(t=>e=>e.style("stroke-width","1.0").style("stroke",t?t.colorStyles.grid.gridLineColor:"#bbb"))(e),f=gE,s=function(...s){r&&(l=dE.seriesCanvasMulti().context(o),u=dE.annotationCanvasGridline(),c=(t=>e=>{e.strokeStyle=t?t.colorStyles.grid.gridLineColor:"#bbb",e.lineWidth=1})(e),f=(t=>e=>{e.lineWidth=1,e.strokeStyle=t?t.colorStyles.grid.gridLineColor:"#bbb"})(e));let h=l.xScale(a).yScale(i),d="vertical"===n?f:c,g="horizontal"===n?f:c,p=u.xDecorate(d).yDecorate(g);return h.series([p,t])(...s)};return s.orient=(...t)=>t.length?(n=t[0],s):n,s.canvas=(...t)=>t.length?(r=t[0],s):r,s.xScale=(...t)=>t.length?(a=t[0],s):a,s.yScale=(...t)=>t.length?(i=t[0],s):i,s.context=(...t)=>t.length?(o=t[0],s):o,s},vE=h(hA()),mE=()=>{let t=$A(),e=e=>{let n=t.pad(),r=t.padUnit(),a=1;switch(r){case"domain":break;case"percent":a=e[1]-e[0];break;default:throw new Error("Unknown padUnit: "+r)}let i=e[0]-n[0]*a,o=e[1]+n[1]*a;return e[0]=e[0]>=0&&i<0?0:i,e[1]=e[1]<=0&&o>0?0:o,e};return vE.rebindAll(e,t),e},yE=()=>{let t=null,e=null,n=null,r=null,a=null,i=null,o=!1,l=!1,u=()=>{};function c(u){let c=`d3fc-${l?"canvas":"svg"}.plot-area`;if(n||a){let h=r&&r.domain()[0]instanceof Date,d=uA().on("zoom",(o=>{let{transform:l}=o;e.zoom={k:l.k,x:l.x,y:l.y},f(l),u.call(t);let g=1===l.k&&0===l.x&&0===l.y,p=s(u).style("display",g?"none":"");p.select("#zoom-reset").on("click",(()=>u.select(c).call(d.transform,KM)));let v=p.select("#one-year").style("display",h?"":"none"),m=p.select("#six-months").style("display",h?"":"none"),y=p.select("#one-month").style("display",h?"":"none");if(h){let t=t=>()=>{let e=new Date(n.domain()[0]),o=new Date(e);t(e,o);let l=r.range(),f=(l[1]-l[0])/(r(o)-r(e)),s=-r(e)*f,h=0;if(a){let t=a.domain().reduce(((t,e)=>t+e))/2;h=-i(t)*f+a(t)}u.select(c).call(d.transform,KM.translate(s,h).scale(f))};v.on("click",t(((t,e)=>e.setYear(t.getFullYear()+1)))),m.on("click",t(((t,e)=>e.setMonth(t.getMonth()+6)))),y.on("click",t(((t,e)=>e.setMonth(t.getMonth()+1))))}})),g=t.decorate();t.decorate(((t,n)=>{if(g(t,n),!o){o=!0;let n=t.select(c),a=l?window.devicePixelRatio:1;n.on("measure.zoom-range",(t=>{if(r&&r.range([0,t.detail.width/a]),i&&i.range([0,t.detail.height/a]),e.zoom){let t=KM.translate(e.zoom.x,e.zoom.y).scale(e.zoom.k);n.call(d.transform,t)}})).call(d)}}))}u.call(t)}c.chart=(...e)=>e.length?(t=e[0],c):t,c.settings=(...t)=>t.length?(e=t[0],c):e,c.xScale=(...t)=>t.length?(n=h(t[0]),r=n?n.copy():null,c):n,c.yScale=(...t)=>{if(!t.length)return a;if(a=h(t[0]),i=a?a.copy():null,i){let t=i.domain();i.domain([t[1],t[0]])}return c},c.canvas=(...t)=>t.length?(l=t[0],c):l,c.onChange=(...t)=>t.length?(u=t[0],c):u;let f=t=>{let e={...t};if(n&&(n.domain(t.rescaleX(r).domain()),e.xDomain=n.domain()),a){let n=t.rescaleY(i).domain();a.domain([n[1],n[0]]),e.yDomain=a.domain()}u(e)},s=t=>Tk(t,".zoom-controls",(()=>t.append("div").attr("class","zoom-controls").style("display","none").html('<button id="zoom-reset">Reset zoom</button>\n<button id="one-year">1 Year</button>\n<button id="six-months">6 Months</button>\n<button id="one-month">1 Month</button>\n'))),h=t=>t&&t.nice?t:null;return c};function bE(t,e){let n=oT(e,sE(e)),r=Xk(e),a=lE().settings(e).scale(r),i=qk(e,r).orient("horizontal"),o=gA.seriesSvgMulti().mapping(((t,e)=>t[e])).series(n.map((()=>i))),l=_k(e).settingName("mainValues").valueName("mainValue").excludeType(mA).include([0]).paddingStrategy(mE())(n),u=_k(e).excludeType(bA).settingName("crossValues").valueName("crossValue").orient("vertical")(n),c=Sk(l,u).plotArea(pE(o,e).orient("horizontal"));c.yPaddingInner&&(c.yPaddingInner(.5),c.yPaddingOuter(.25),i.align("left")),c.xNice&&c.xNice();let f=yE().chart(c).settings(e).yScale(u.scale);t.datum(n).call(f),t.call(a)}bE.plugin={name:"X Bar",category:"X Chart",max_cells:1e3,max_columns:50,render_warning:!0};var xE=bE,_E=h(hA()),wE=t=>2===t.length&&!isNaN(t[0])&&!isNaN(t[1])&&t[0]!==t[1],SE=t=>(0-t[0])/(t[1]-t[0]),ME=(t,e)=>e*t[1]/(e-1),AE=h(hA()),kE=(t,e,n=TE)=>{let r,a,i,o=t.splitMainValues||[],l=t=>{let e=t.split("|");return o.includes(e[e.length-1])},u=t.mainValues.some((t=>l(t.name)));a=u?n(e,(t=>!l(t))):e,i=u?n(e,l):null;let c=e=>{if(1===t.mainValues.length)return;let n=t.mainValues.map(((t,e)=>({index:e,name:t.name}))),a=n.filter((t=>!l(t.name))),i=n.filter((t=>l(t.name))),o=()=>(t=>{let e,n=[],r=!1,a=a=>{a.text("");let o=AE.dataJoin("span","splitter-label").key((t=>t)),l=!r&&1===n.length,u=e&&0===t.splitValues.length;o(a,n).classed("disabled",l).text((t=>t.name)).style("color",(t=>u?Jk(e(t.name)):void 0)).on("click",((e,n)=>{l||(t.splitMainValues=r?t.splitMainValues.filter((t=>t!=n.name)):[n.name].concat(t.splitMainValues||[]),e.target.getRootNode().host.closest("perspective-viewer")?.dispatchEvent(new Event("perspective-config-update")),i(a))}))},i=t=>{let e=QA(t.node());e._container.innerHTML="",e._draw()};return a.labels=(...t)=>t.length?(n=t[0],a):n,a.alt=(...t)=>t.length?(r=t[0],a):r,a.color=(...t)=>t.length?(e=t[0],a):e,a})(t).color(r);e.select(".y-label.left-label").call(o().labels(a)),e.select(".y-label.right-label").call(o().labels(i).alt(!0))};return c.color=(...t)=>t.length?(r=t[0],c):r,c.haveSplit=()=>u,c.data=(...t)=>t.length?(a=t[0],c):a,c.altData=(...t)=>t.length?(i=t[0],c):i,c},TE=(t,e)=>t.map((t=>t.filter((t=>e(t.key))))),VE=(t,e)=>t.map((t=>e(t.key)?t:t.map((t=>Object.assign({},t,{mainValue:null}))))),NE=(t,e)=>t.map((t=>VE(t,e)));function CE(t,e){let n=oT(e,sE(e)),r=Xk(e),a=lE().settings(e).scale(r),i=qk(e,r).orient("vertical"),o=_E.seriesSvgMulti().mapping(((t,e)=>t[e])).series(n.map((()=>i))),l=_k(e).excludeType(bA).settingName("crossValues").valueName("crossValue")(n),u=_k(e).settingName("mainValues").valueName("mainValue").excludeType(mA).orient("vertical").include([0]).paddingStrategy(mE()),c=e.mainValues.length>1?NE:VE,f=kE(e,n,c).color(r),s=u(f.data()),h=f.haveSplit()?o:pE(o,e).orient("vertical"),d=Sk(l,s).axisSplitter(f).plotArea(h);d.xPaddingInner&&(d.xPaddingInner(.5),d.xPaddingOuter(.25),i.align("left")),d.yNice&&d.yNice();let g=yE().chart(d).settings(e).xScale(l.scale);if(f.haveSplit()){let t=u(f.altData());((t,e)=>{if(!wE(t)||!wE(e))return;let n=SE(t),r=SE(e);n>r?e[0]=ME(e,n):t[0]=ME(t,r)})(s.domain,t.domain),d.yDomain(s.domain).altAxis(t)}t.datum(f.data()).call(g),t.call(a)}CE.plugin={name:"Y Bar",category:"Y Chart",max_cells:1e3,max_columns:50,render_warning:!0};var EE=CE,zE=h(hA()),DE=h(hA());function PE(t,e){let n=DE.seriesSvgLine(),r=t.data.length*(t.data?.length>0?Object.keys(t.data[0]).length-(t.crossValues?.length>0?1:0):0),a=Math.max(1,Math.min(3,Math.floor(t.size.width/r/2)));return n=n.decorate((t=>{t.style("stroke",(t=>Jk(e(t[0]&&t[0].key)))).style("stroke-width",a)})),n.crossValue((t=>t.crossValue)).mainValue((t=>t.mainValue))}var IE=function(t){let e=[];for(let n of t)for(let t=0;t<n.length;t++)null!==n[t].mainValue&&(e[t]=e[t]||[],e[t].push(n[t]));return e},RE=h(hA()),BE=(t,e,n=Math.min)=>{let r=t=>t.reduce(((t,r)=>{let i=a(r,e);return!i||t&&n(t.value,i.value)!==i.value?t:i}),null),a=t=>{if(Array.isArray(t))return r(t);let n=e(t);return null!==n?{item:t,value:n}:null},i=r(t);return i?i.item:null},OE=()=>{let t=jk().alwaysShow(!0),e=null,n=null,r=null,a=null,i=!1,o=null,l="crossValue",u="mainValue",c=null,f=1;function s(r){let a=`d3fc-${i?"canvas":"svg"}.plot-area`;if(e||n){let e=null,i=RE.pointer().on("point",(t=>{let a=t.length?d(t[0]):null;e=a?[a.data]:[];let i=a?a.scale:n;h(r,e,i)}));r.select(a).on("measure.nearbyTip",(()=>h(r,[]))).on("click",(()=>{e.length&&Hk(r.node(),e[0],t.settings())})).call(i)}}let h=(i,o,c=n)=>{let s=i.select("d3fc-svg.plot-area svg").selectAll("circle.nearbyTip").data(o);s.exit().remove(),s.enter().append("circle").attr("class","nearbyTip").merge(s).attr("r",(t=>a?f*Math.sqrt(a(t.size)):10)).attr("transform",(t=>`translate(${e(t[l])},${c(t[u])})`)).style("stroke","none").style("fill",(t=>r&&t.key&&tT(r(t.key)))),t(s)},d=t=>{let r=n=>r=>void 0===r[u]||null===r[u]||void 0===r[l]||null===r[l]?null:Math.sqrt(Math.pow(e(r[l])-t.x,2)+Math.pow(n(r[u])-t.y,2)),a=r(n),i=BE(o,a,Math.min);if(c){let t=r(c.yScale),e=BE(c.data,t,Math.min);return a(i)<=t(e)?{data:i,scale:n}:{data:e,scale:c.yScale}}return{data:i,scale:n}};return s.scaleFactor=(...t)=>t.length?(f=t[0],s):f,s.xScale=(...t)=>t.length?(e=t[0],s):e,s.yScale=(...t)=>t.length?(n=t[0],s):n,s.color=(...t)=>t.length?(r=t[0],s):r,s.size=(...t)=>t.length?(a=t[0]?t[0].copy().range([40,4e3]):null,s):a,s.canvas=(...t)=>t.length?(i=t[0],s):i,s.data=(...t)=>t.length?(o=t[0],s):o,s.xValueName=(...t)=>t.length?(l=t[0],s):l,s.yValueName=(...t)=>t.length?(u=t[0],s):u,s.altDataWithScale=(...t)=>t.length?(c=t[0],s):c,RE.rebindAll(s,t),s};function LE(t,e){let n=function(t,e){let n=aT(t);return e.map(((t,e)=>Object.keys(t).filter((t=>"__ROW_PATH__"!==t)).map((r=>({key:r,crossValue:n(t,e),mainValue:t[r],row:t})))))}(e,sE(e)),r=Xk(e),a=lE().settings(e).scale(r),i=zE.seriesSvgRepeat().series(PE(e,r)).orient("horizontal"),o=mE().pad([.1,.1]).padUnit("percent"),l=_k(e).excludeType(bA).settingName("crossValues").valueName("crossValue")(n),u=_k(e).settingName("mainValues").valueName("mainValue").orient("vertical").paddingStrategy(o),c=kE(e,IE(n)).color(r),f=u(c.data()),s=c.haveSplit()?i:pE(i,e).orient("vertical"),h=Sk(l,f).axisSplitter(c).plotArea(s);h.yNice&&h.yNice();let d=yE().chart(h).settings(e).xScale(l.scale),g=OE().settings(e).xScale(l.scale).yScale(f.scale).color(r).data(n);if(c.haveSplit()){let t=u(c.altData());h.altAxis(t),g.data(c.data()).altDataWithScale({yScale:t.scale,data:c.altData()})}let p=c.data();t.datum(p).call(d),t.call(g),t.call(a)}LE.plugin={name:"Y Line",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0};var YE=LE,FE=h(hA()),UE=h(hA()),HE=[Lv,Yv,Hv,Gv,$v,Qv,em];function jE(t){return t.length>1?lr().domain(t).range(HE):null}function WE(t){let e=t.data&&t.data.length>0?t.data[0]:{},n=[];return Object.keys(e).forEach((t=>{if("__ROW_PATH__"!==t){let e=Gk(t);n.includes(e)||n.push(e)}})),jE(n)}function qE(t,e){let n=IE(function(t,e){let n=t.mainValues.length;return e.map((t=>{let e=Object.keys(t).filter((t=>"__ROW_PATH__"!==t)),r=new Array(e.length/n);for(let a=0;a<e.length/n;a++)r[a]={key:Gk(e[a*n]),crossValue:t[e[a*n]],mainValue:t[e[a*n+1]],row:t};return r}))}(e,hE(e))),r=Kk(e),a=WE(e),i=null;r.domain().length>2&&(i=fE(iE,cE).settings(e).scale(a).color(r));let o=FE.seriesSvgRepeat().series(PE(e,r)).orient("horizontal"),l=mE().pad([.1,.1]).padUnit("percent"),u=_k(e).settingName("mainValues").settingValue(e.mainValues[0].name).valueName("crossValue").paddingStrategy(l),c=_k(e).settingName("mainValues").settingValue(e.mainValues[1].name).valueName("mainValue").orient("vertical").paddingStrategy(l)(n),f=u(n),s=pE(o,e).orient("vertical"),h=Sk(f,c).xLabel(e.mainValues[0].name).yLabel(e.mainValues[1].name).plotArea(s);h.xNice&&h.xNice(),h.yNice&&h.yNice();let d=yE().chart(h).settings(e).xScale(f.scale).yScale(c.scale),g=OE().settings(e).xScale(f.scale).yScale(c.scale).color(r).data(n);t.datum(n).call(d),t.call(g),i&&t.call(i)}qE.plugin={name:"X/Y Line",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Tooltip"]},selectMode:"toggle"};var $E=qE,GE=h(hA()),XE=h(hA());function QE(t,e){let n=function(t,e){let n=aT(t);return e.map(((t,e)=>{let r={};return Object.keys(t).filter((t=>"__ROW_PATH__"!==t)).map((a=>{let i=a.split("|"),o=i[i.length-1],l=r[o]||0,u=l+t[a];return r[o]=u,{key:a,crossValue:n(t,e),mainValue:u,baseValue:l,row:t}}))}))}(e,sE(e)),r=Xk(e),a=lE().settings(e).scale(r),i=GE.seriesSvgRepeat().series(function(t,e){let n=XE.seriesSvgArea();return n=n.decorate((t=>{t.style("fill",(t=>e(t[0].key))).style("opacity",.5)})),n.crossValue((t=>t.crossValue)).mainValue((t=>t.mainValue)).baseValue((t=>t.baseValue))}(0,r).orient("vertical")),o=GE.seriesSvgRepeat().series(PE(e,r)).orient("vertical"),l=GE.seriesSvgMulti().series([i,o]),u=_k(e).excludeType(bA).settingName("crossValues").valueName("crossValue")(n),c=_k(e).settingName("mainValues").valueName("mainValue").excludeType(mA).orient("vertical").include([0]).paddingStrategy(mE()),f=kE(e,n).color(r),s=c(f.data()),h=f.haveSplit()?l:pE(l,e).orient("vertical"),d=Sk(u,s).axisSplitter(f).plotArea(h);d.yNice&&d.yNice();let g=yE().chart(d).settings(e).xScale(u.scale),p=OE().settings(e).xScale(u.scale).yScale(s.scale).color(r).data(n);if(f.haveSplit()){let t=c(f.altData());d.altAxis(t),p.data(f.data()).altDataWithScale({yScale:t.scale,data:f.altData()})}t.datum(f.data()).call(g),t.call(p),t.call(a)}QE.plugin={name:"Y Area",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0};var KE=QE,ZE=h(hA()),JE=h(hA());function tz(t,e){let n=function(t,e){let n={stack:!1},r=iT(t,e,n).map((e=>lT(t,e,n)));return t.mainValues.length>1?r.reduce(((t,e)=>t.concat(e))):r}(e,sE(e)),r=function(t){let e=t.data&&t.data.length>0?t.data[0]:{};return jE(Object.keys(e).filter((t=>"__ROW_PATH__"!==t)))}(e),a=Xk(e),i=uE().settings(e).scale(r).color(a),o=ZE.seriesSvgMulti().mapping(((t,e)=>t[e])).series(n.map((t=>function(t,e,n,r){let a=JE.seriesSvgPoint().size(100),i=t.colorStyles&&t.colorStyles.opacity;return r&&a.type(r(e)),a.decorate((t=>{t.style("stroke",(t=>Jk(n(t.colorValue||e)))).style("fill",(t=>tT(n(t.colorValue||e),i)))})),a.crossValue((t=>t.crossValue)).mainValue((t=>t.mainValue))}(e,t.key,a,r)))),l=mE().pad([.05,.05]).padUnit("percent"),u=_k(e).excludeType(bA).settingName("crossValues").valueName("crossValue")(n),c=_k(e).settingName("mainValues").valueName("mainValue").orient("vertical").paddingStrategy(l),f=kE(e,n).color(a),s=c(f.data()),h=f.haveSplit()?o:pE(o,e).orient("vertical"),d=Sk(u,s).axisSplitter(f).plotArea(h);d.yNice&&d.yNice();let g=yE().chart(d).settings(e).xScale(u.scale),p=OE().settings(e).xScale(u.scale).yScale(s.scale).color(a).data(n);if(f.haveSplit()){let t=c(f.altData());d.altAxis(t),p.data(f.data()).altDataWithScale({yScale:t.scale,data:f.altData()})}t.datum(f.data()).call(g),t.call(p),i&&t.call(i)}tz.plugin={name:"Y Scatter",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0};var ez=tz,nz=h(hA());function rz(t,e){return iT(t,e,{excludeEmpty:!0}).map((e=>function(t,e){let n=aT(t),r=e.map(((r,a)=>({crossValue:n(r,a),mainValues:t.mainValues.map((t=>r[t.name])),x:r[t.mainValues[0].name],y:r[t.mainValues[1].name],colorValue:t.realValues[2]?r[t.realValues[2]]:void 0,size:t.realValues[3]?r[t.realValues[3]]:void 0,key:e.key,row:r})));return r.key=e.key,r}(t,e)))}function az(t,e,n,r){let a=iz(e,n,r),i=t.colorStyles.gradient.full;if(a[0]>=0)i=t.colorStyles.gradient.positive;else if(a[1]<=0)i=t.colorStyles.gradient.negative;else{let t=Math.max(-a[0],a[1]);a=[-t,t]}return xf(oz(i)).domain(a)}var iz=(t,e,n)=>n||JA().valueName(e).pad([0,0])(t),oz=t=>{let e=t.slice(1).map(((e,n)=>Fa(t[n][1],e[1])));return n=>{let r=t.findIndex(((e,r)=>r<t.length-1&&n<=t[r+1][0]&&n>e[0]));if(-1===r)return n<=t[0][0]?t[0][1]:t[t.length-1][1];let a=e[r],[i]=t[r],[o]=t[r+1];return a((n-i)/(o-i))}},lz=h(hA());function uz(){let t=null;function e(e){let n=Tk(e,"div.legend-container",(()=>e.append("div").attr("class","legend-container legend-color").style("z-index","2"))),{width:r,height:a}=n.node().getBoundingClientRect(),i=fr().domain([0,1]).range([0,r]),o=t.copy().nice().domain(),l=lz.extentLinear().pad([.1,.1]).padUnit("percent")(o),[u,c]=l,f=function(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(a);++r<a;)i[r]=t+r*n;return i}(u,c,(c-u)/a),s=oo().domain(l).range([a,0]),h=lz.autoBandwidth(lz.seriesSvgBar()).xScale(i).yScale(s).crossValue(0).baseValue(((t,e)=>f[Math.max(0,e-1)])).mainValue((t=>t)).decorate((e=>{e.selectAll("path").style("fill",(e=>t(e)))})),d=o[0]<0&&o[1]>0?0:Math.round((o[1]+o[0])/2),g=[...o,d],p=lz.axisRight(s).tickValues(g).tickSizeOuter(0).tickFormat((t=>XA(t))),v=Tk(n,"svg",(()=>n.append("svg"))).style("width",r).style("height",a),m=Tk(v,"g",(()=>v.append("g"))).datum(f).call(h),y=Math.abs(m.node().getBBox().x);Tk(v,"#legend-axis",(()=>v.append("g").attr("id","legend-axis"))).attr("transform",`translate(${y})`).datum(f).call(p).select(".domain").attr("visibility","hidden")}return e.scale=(...n)=>n.length?(t=n[0],e):t,e}function cz(t,e){let n=rz(e,hE(e)),r=WE(e),a=e.realValues.length<=2||null===e.realValues[2],i=null,o=null;a?(i=Kk(e),o=uE().settings(e).scale(r).color(a?i:null)):(i=az(e,n,"colorValue"),o=uz().scale(i));let l=e.realValues[3]?function(t,e,n,r){return oo().domain(iz(e,n,r))}(0,n,"size").range([10,1e4]):null,u=e.realValues[4],c=function([t,e],[n,r]){let a=(r-e)/(n-t),i=r-a*n;return function(t){let n=t.node(),o=Math.min(n.clientWidth,n.clientHeight);return Math.min(r,Math.max(e,a*o+i))}}([600,.1],[1600,1])(t),f=nz.seriesCanvasMulti().mapping(((t,e)=>t[e])).series(n.map((t=>function(t,e,n,r,a,i,o=1){let l=(0,UE.seriesCanvasPoint)().crossValue((t=>t.x)).mainValue((t=>t.y));return n&&l.size((t=>Math.round(o*n(t.size)))),i&&l.type(i(e)),l.decorate(((i,l)=>{let u=r(void 0!==l.colorValue?l.colorValue:e),c=t.colorStyles&&t.colorStyles.opacity;if(a){i.fillStyle=t.textStyles.color,i.font=t.textStyles.font;let{type:e}=t.mainValues.find((t=>t.name===a)),r=Rk(e,l.row[a]),u=0;n&&(u=1*Math.sqrt(o*n(l.size)/Math.PI));let c=u+8;i.fillText(r,c,4)}i.strokeStyle=Jk(u),i.fillStyle=tT(u,c)})),l}(e,t.key,l,i,u,r,c)))),s=()=>_k(e).settingName("mainValues").paddingStrategy(mE()).pad([.1,.1]),h=s().settingValue(e.mainValues[0].name).valueName("x")(n),d=s().orient("vertical").settingValue(e.mainValues[1].name).valueName("y")(n),g=Mk(h,d).xLabel(e.mainValues[0].name).yLabel(e.mainValues[1].name).plotArea(pE(f,e).canvas(!0));g.xNice&&g.xNice(),g.yNice&&g.yNice();let p=yE().chart(g).settings(e).xScale(h.scale).yScale(d.scale).canvas(!0),v=OE().scaleFactor(c).settings(e).canvas(!0).xScale(h.scale).xValueName("x").yValueName("y").yScale(d.scale).color(a&&i).size(l).data(n);t.datum(n).call(p),t.call(v),o&&t.call(o)}cz.plugin={name:"X/Y Scatter",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Color","Size","Label","Tooltip"]},selectMode:"toggle"};var fz=cz,sz=h(hA());function hz(t,e){let n=function(t,e){let n=aT(t),r=xA(t).excludeType(bA).settingName("splitValues")(),a=[];return e.forEach(((t,e)=>{let i=n(t,e);Object.keys(t).filter((t=>"__ROW_PATH__"!==t)).forEach((e=>{let n=function(t){let e=t.split("|");return e.pop(),e.join("|")}(e);a.push({crossValue:i,mainValue:r===yA?new Date(n):n,colorValue:t[e],row:t})}))})),a}(e,sE(e)),r=az(e,n,"colorValue"),a=function(t,e){let n=sz.seriesCanvasHeatmap();return n.decorate(((t,n)=>{t.fillStyle=e(n.colorValue)})),sz.autoBandwidth(n).xValue((t=>t.crossValue)).yValue((t=>t.mainValue)).colorValue((t=>t.colorValue)).colorInterpolate(e.interpolator()).widthFraction(1)}(0,r),i=uz().scale(r),o=_k(e).excludeType(bA).settingName("crossValues").valueName("crossValue")(n),l=_k(e).excludeType(bA).settingName("splitValues").valueName("mainValue").orient("vertical")(n),u=Mk(o,l).plotArea(pE(a,e).canvas(!0));u.xPaddingInner&&(u.xPaddingInner(0),u.xPaddingOuter(0),a.xAlign("right")),u.yPaddingInner&&(u.yPaddingInner(0),u.yPaddingOuter(0),a.yAlign("top"));let c=yE().chart(u).settings(e).xScale(o.scale).yScale(l.scale).canvas(!0),f=OE().settings(e).canvas(!0).xScale(o.scale).yScale(l.scale).color(r).data(n);t.datum(n).call(c),t.call(i),t.call(f)}hz.plugin={name:"Heatmap",category:"Hierarchial Chart",max_cells:5e4,max_columns:500,render_warning:!0};var dz=hz,gz=h(hA()),pz=h(hA());function vz(t,e){return iT(t,e,{excludeEmpty:!0}).map((e=>function(t,e){let n=aT(t),r=n=>e[n<e.length-1?n+1:n][t.mainValues[0].name],a=e.map(((a,i)=>{let o=t.mainValues.length>=1?a[t.mainValues[0].name]:void 0,l=t.mainValues.length>=2?a[t.mainValues[1].name]:r(i);return{crossValue:n(a,i),mainValues:t.mainValues.map((t=>a[t.name])),openValue:o,closeValue:l,highValue:t.mainValues.length>=3?a[t.mainValues[2].name]:Math.max(o,l),lowValue:t.mainValues.length>=4?a[t.mainValues[3].name]:Math.min(o,l),key:e.key,row:a}}));return a.key=e.key,a}(t,e)))}var mz=h(hA());var yz=function(t){return function(e,n){let r=vz(n,hE(n)),a=pz.indicatorBollingerBands().value((t=>t.openValue)),i=r.map((t=>{let e=a(t);return t.map(((t,n)=>Object.assign({bollinger:e[n]},t)))})),o=r.map((t=>t.key)).concat(n.hideKeys?n.hideKeys:[]).sort(),l=Zk().domain(o).settings(n).mapFunction(eT(1))(),u=lE().settings(n).scale(o.length>1?l:null),c=function(t,e,n){let r=n.domain(),a=Zk().domain(r).settings(t).defaultColors([t.colorStyles["series-2"]]).mapFunction(eT(.5))(),i=Zk().settings(t).domain(r)(),o=e().crossValue((t=>t.crossValue)).openValue((t=>t.openValue)).highValue((t=>t.highValue)).lowValue((t=>t.lowValue)).closeValue((t=>t.closeValue)).decorate(((t,e)=>{let r=(t=>t.closeValue>=t.openValue)(e)?n(e.key):a(e.key);t.fillStyle=r,t.strokeStyle=r})),l=mz.seriesCanvasLine().mainValue((t=>t.bollinger.average)).crossValue((t=>t.crossValue)).decorate(((t,e)=>{t.strokeStyle=i(e[0].key)})),u=mz.seriesCanvasArea().mainValue((t=>t.bollinger.upper)).baseValue((t=>t.bollinger.lower)).crossValue((t=>t.crossValue)).decorate(((t,e)=>{t.fillStyle=eT(.25)(i(e[0].key))}));return mz.seriesCanvasMulti().series([u,o,l])}(n,t,l),f=pz.seriesCanvasMulti().mapping(((t,e)=>t[e])).series(i.map((()=>c))),s=mE().pad([.1,.1]).padUnit("percent"),h=_k(n).settingName("crossValues").valueName("crossValue")(i),d=_k(n).settingName("mainValues").valueNames(["lowValue","highValue"]).orient("vertical").paddingStrategy(s)(i),g=Mk(h,d).plotArea(pE(f,n).orient("vertical").canvas(!0));g.yNice&&g.yNice();let p=yE().chart(g).settings(n).xScale(h.scale).onChange((t=>{let e=i.map((e=>e.filter((e=>e.crossValue>=t.xDomain[0]&&e.crossValue<=t.xDomain[1]))));g.yDomain(d.domainFunction(e))})).canvas(!0),v=OE().settings(n).xScale(h.scale).yScale(d.scale).yValueName("closeValue").color(l).data(i).canvas(!0);e.datum(i).call(p),e.call(v),e.call(u)}},bz=yz(gz.seriesCanvasOhlc);bz.plugin={name:"OHLC",category:"Y Chart",max_cells:3500,max_columns:50,render_warning:!0,initial:{type:"number",count:4,names:["Open","Close","High","Low"]},selectMode:"toggle"};var xz=bz,_z=yz(h(hA()).seriesCanvasCandlestick);_z.plugin={name:"Candlestick",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{type:"number",count:4,names:["Open","Close","High","Low"]},selectMode:"toggle"};var wz=_z;function Sz(t,e){if(t.realValues.length>1&&null!==t.realValues[1]){let n=t.realValues[1];if("string"===t.mainValues.find((t=>t.name===n))?.type){return Qk(t,e.map((t=>t.data)).filter((t=>t.height>0)).map((t=>Mz(t))).reduce(((t,e)=>t.concat(e))))}return az(t,null,null,(t=>{let e=t=>(e,n)=>void 0===e?n:void 0===n?e:t(e,n);return t.reduce(((t,n)=>[e(Math.min)(t[0],n[0]),e(Math.max)(t[1],n[1])]),[void 0,void 0])})(e.map((t=>t.extents))))}}function Mz(t,e=[]){return t.children&&t.children.length>0?t.children.forEach((t=>e.concat(Mz(t,e)))):t.data.color&&e.push(t.data.color),e}function Az(t){let e={},n=t.realValues.map((e=>null===e?null:t.mainValues.find((t=>t.name===e))));return t.data.forEach(((r,a)=>{let i=r.__ROW_PATH__;(function(t){let e=[];return Object.keys(t).forEach((t=>{if("__ROW_PATH__"!==t){let n=t.split("|").slice(0,-1).join("|");e.includes(n)||e.push(n)}})),e})(r).forEach((o=>{let l;e[o]||(e[o]=[]),l=e[o],i.forEach(((e,u)=>{let c=l.find((t=>t.name===e));if(c||(c={name:e,children:[]},l.push(c)),t.realValues.length>1&&null!==t.realValues[1]){let e=u===i.length-1,n=kz(e?r:t.agg_paths[a][u+1]||r,t.mainValues[1],o);void 0!==n&&(c.color=n)}if(t.realValues.length>2&&null!==t.realValues[2]){c.tooltip=[];for(let e=2;e<t.realValues.length;++e)c.tooltip.push(kz(r,n[e],o))}if(u===i.length-1&&(c.name=i.slice(-1)[0],i.length===t.crossValues.length)){let e=kz(r,t.mainValues[0],o);c.size=e>0?e:0}l=c.children}))}))})),Object.entries(e).map((e=>{let n=SA({name:"root",children:e[1]}).sum((t=>t.size)),r=PA().size([2*Math.PI,n.height+1])(n);return r.each((n=>{n.current=n,n.mainValues=1===t.realValues.length||null===t.realValues[1]&&null===t.realValues[2]?n.value:[n.value,n.data.color].concat(n.data.tooltip||[]).filter((t=>void 0!==t)),n.crossValue=n.ancestors().slice(0,-1).reverse().map((t=>t.data.name)),n.key=e[0],n.label=Rk(t.crossValues[n.depth-1<0?0:n.depth-1].type,n.data.name)})),{split:e[0],data:r,extents:Tz(t,e)}}))}var kz=(t,e,n)=>n.length?t[`${n}|${e.name}`]:t[e.name];function Tz(t,[e,n]){if(t.realValues.length>1&&null!==t.realValues[1]){return[Math.min(...t.data.map((n=>kz(n,t.mainValues[1],e)))),Math.max(...n.map((t=>t.color)))]}}var Vz=t=>Zp().startAngle((t=>t.x0)).endAngle((t=>t.x1)).padAngle((t=>Math.min((t.x1-t.x0)/2,.005))).padRadius(t).innerRadius((e=>Math.max(1,(e.y0-1)*t))).outerRadius((e=>Math.max((e.y0-1)*t,(e.y1-1)*t-1))),Nz=t=>t.y0>=1&&t.x1>t.x0,Cz=t=>t.y1<=3&&t.y0>=1&&(t.y1-t.y0)*(t.x1-t.x0)>.06;function Ez(t,e){let n=(t.x0+t.x1)/2*180/Math.PI;return`rotate(${n-90}) translate(${(t.y0-1+(t.y1-1))/2*e},0) rotate(${n<180?0:180})`}function zz(t,e){let n=this.getBBox().width;if(n>e){let r=t.label,a=sp(this);for(;n>e;)r=r.substring(0,r.length-1),a.text((()=>r)),n=this.getBBox().width;a.text((()=>`${r.substring(0,r.length-3).replace(/\s+$/,"")}...`))}}var Dz=(t,e,n,r,a,i,o,l,u)=>(c,f)=>{u.sunburstLevel[l]=c.data.name,c.parent?(n.datum(c.parent),n.style("cursor","pointer"),r.html(`&#8682; ${c.label}`)):(n.datum(t),n.style("cursor","default"),r.html("")),t.each((t=>t.target={x0:2*Math.max(0,Math.min(1,(t.x0-c.x0)/(c.x1-c.x0)))*Math.PI,x1:2*Math.max(0,Math.min(1,(t.x1-c.x0)/(c.x1-c.x0)))*Math.PI,y0:Math.max(0,t.y0-c.depth),y1:Math.max(0,t.y1-c.depth)}));let s=e.transition().duration(f?0:750);a.transition(s).tween("data",(t=>{let e=Fa(t.current,t.target);return n=>t.current=e(n)})).filter((function(t){return+this.getAttribute("fill-opacity")||Nz(t.target)})).attr("fill-opacity",(t=>Nz(t.target)?1:0)).attr("user-select",(t=>Nz(t.target)?"initial":"none")).style("pointer-events",(t=>Nz(t.target)?"initial":"none")).attrTween("d",(t=>()=>Vz(o)(t.current))),i.filter((function(t){return+this.getAttribute("fill-opacity")||Cz(t.target)})).transition(s).attr("fill-opacity",(t=>+Cz(t.target))).attrTween("transform",(t=>()=>Ez(t.current,o)))};function Pz(){let t=null,e=null,n=null,r=null,a=null,i=i=>{let o=i.selectAll("g.segment").data(n.descendants().slice(1)),l=o.enter().append("g").attr("class","segment");l.append("path"),l.append("text").attr("class","segment").attr("dy","0.35em");let u=l.merge(o),c=u.select("path").attr("fill-opacity",(t=>Nz(t.current)?1:0)).attr("user-select",(t=>Nz(t.current)?"initial":"none")).style("pointer-events",(t=>Nz(t.current)?"initial":"none")).attr("d",(t=>Vz(a)(t.current)));r&&c.style("fill",(t=>r(t.data.color)));let f=u.select("text").attr("fill-opacity",(t=>+Cz(t.current))).attr("transform",(t=>Ez(t.current,a))).text((t=>t.label)).each((function(t){zz.call(this,t,a)})),s=i.select("text.parent"),h=i.select("circle").attr("r",a).datum(n),d=Dz(n,i,h,s,c,f,a,e,t);if(t.sunburstLevel){let r=n.descendants().find((n=>n.data.name===t.sunburstLevel[e]));r&&d(r,!0)}else t.sunburstLevel={};h.on("click",(t=>d(t,!1))),c.filter((t=>t.children)).style("cursor","pointer").on("click",(t=>d(t,!1)))};return i.settings=(...e)=>e.length?(t=e[0],i):t,i.split=(...t)=>t.length?(e=t[0],i):e,i.data=(...t)=>t.length?(n=t[0],i):n,i.color=(...t)=>t.length?(r=t[0],i):r,i.radius=(...t)=>t.length?(a=t[0],i):a,i}function Iz(){let t="element-prefix-unset",e=null,n=null,r=null,a=null,i=null,o=o=>{let l=Tk(o,"div.inner-container",(()=>o.append("div").attr("class","inner-container"))),u=l.node().getBoundingClientRect(),c=u.height,f=u.width-0,s=o.datum(),h=Math.max(1,Math.min(s.length,Math.floor(f/300))),d=Math.ceil(s.length/h);i={width:f/Math.max(h,1),height:Math.min(c,Math.max(c/d,f/Math.max(h,1)))},c/d>.75*i.height&&(i.height=c/d),s.length>1?(l.style("grid-template-columns",`repeat(${h}, ${100/h}%)`),l.style("grid-template-rows",`repeat(${d}, ${i.height}px)`)):(l.style("grid-template-columns","repeat(1, 100%)"),l.style("grid-template-rows","repeat(1, 100%)")),r=l.selectAll(`div.${t}-container`).data(s,(t=>t.split)),r.exit().remove(),n=r.enter().append("div").attr("class",`${t}-container`),a=n.append("div").attr("class","title-container").style("text-align","center").attr("display","inline-block").append("text").attr("class","title").style("text-align","left"),e=n.append("svg").append("g").attr("class",t)};return o.elementsPrefix=(...e)=>e.length?(t=e[0],o):t,o.chartContainer=()=>e,o.chartEnter=()=>n,o.chartDiv=()=>r,o.chartTitle=()=>a,o.containerSize=()=>i,o}function Rz(t,e){if(0===e.crossValues.length)return void console.warn("Unable to render a chart in the absence of any groups.");let n=Az(e),r=Sz(e,n),a=Iz().elementsPrefix("sunburst");if(t.datum(n).call(a),r){let n=e.realValues[1];if("string"===e.mainValues.find((t=>t.name===n))?.type){let n=lE().settings(e).scale(r);t.call(n)}else{let e=uz().scale(r);t.call(e)}}let i=a.chartContainer(),o=a.chartEnter(),l=a.chartDiv(),u=a.chartTitle(),c=a.containerSize();u.each(((t,e,n)=>sp(n[e]).text(t.split))),i.append("circle").attr("fill","none").style("pointer-events","all"),i.append("text").attr("class","parent"),o.merge(l).select("svg").select("g.sunburst").attr("transform",`translate(${c.width/2}, ${c.height/2})`).each((function({split:t,data:n}){let a=sp(this),i=this.parentNode,{width:o,height:l}=i.getBoundingClientRect(),u=(Math.min(o,l)-24)/(2*e.crossValues.length);Pz().settings(e).split(t).data(n).color(r).radius(u)(a),jk().settings(e)(a.selectAll("g.segment"))}))}Rz.plugin={name:"Sunburst",category:"Hierarchial Chart",max_cells:7500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var Bz=Rz;function Oz(t,e){if(t.realValues.length<1||null===t.realValues[1]||void 0===t.realValues[1])return;let n=t.realValues[1],r=e.filter((t=>t.height>0)).map((t=>Lz(t))).reduce(((t,e)=>t.concat(e)));if("string"===t.mainValues.find((t=>t.name===n))?.type)return Qk(t,r);return az(t,null,null,[Math.min(...r),Math.max(...r)])}function Lz(t,e=[]){return t.children&&t.children.length>0?t.children.forEach((t=>e.concat(Lz(t,e)))):t.data.color&&e.push(t.data.color),e}var Yz=t=>!(!t.target||!t.target.textAttributes),Fz=(t,e,n)=>{t.selectAll("text").each((function(t,r){let a=Qz(t,e,n);this.style=a}));let r=jz(t);qz(r),Uz(r)},Uz=t=>{let e=t=>t.getBoundingClientRect(),n=[];t.selectAll("text").filter(((t,e,n)=>sp(n[e]).attr("style")===Kz.high)).each(((t,e,r)=>n.push(r[e]))),t.selectAll("text").filter(((t,e,n)=>sp(n[e]).attr("style")===Kz.low)).each(((t,r,a)=>{let i=a[r];n.filter((t=>Nk("x",e(t),e(i))&&Nk("y",e(t),e(i),-2))).forEach((()=>sp(i).attr("dy",Number(sp(i).attr("dy"))+14)))}))},Hz={top:1,mid:.7,lower:0},jz=t=>t.filter(((t,e,n)=>sp(n[e]).selectAll("text").attr("style")!==Kz.zero)),Wz=t=>t.selectAll("text").each(((t,e,n)=>Gz(n[e]))),qz=t=>t.selectAll("text").each(((t,e,n)=>$z(n[e]))),$z=t=>{let e=sp(t),n=t.getBoundingClientRect();e.attr("dx",0-n.width/2).attr("dy",0+n.height/4)},Gz=t=>{let e=t.parentNode.childNodes[0],n=t.getBBox(),r=e.getBBox();Xz(t,r,n)||sp(t).attr("style",sp(t).attr("style"))},Xz=(t,e,n)=>{let r=Math.min(e.height/n.height,e.width/n.width);if(r<1){let e=parseInt(sp(t).style("font-size")),n=Math.floor(e*r);return e>7&&n>7?(sp(t).style("font-size",`${n}px`),$z(t)):(sp(t).style("font-size",null),sp(t).style("opacity","0")),!0}return!1},Qz=(t,e,n)=>{if(!n.filter((t=>""!==t)).every((e=>t.crossValue.includes(e))))return Kz.zero;switch(t.depth){case e+1:return Kz.high;case e+2:return Kz.low;default:return Kz.zero}},Kz={high:"font-size:14px;z-index:5;pointer-events: none;",low:"font-size:8px;opacity:0.7;z-index:4;",zero:"font-size:0px;opacity:0;z-index:4;"},Zz=(t,e)=>{let n=function(){var t=RA,e=!1,n=1,r=1,a=[0],i=CA,o=CA,l=CA,u=CA,c=CA;function f(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(s),a=[0],e&&t.eachBefore(zA),t}function s(e){var n=a[e.depth],r=e.x0+n,f=e.y0+n,s=e.x1-n,h=e.y1-n;s<r&&(r=s=(r+s)/2),h<f&&(f=h=(f+h)/2),e.x0=r,e.y0=f,e.x1=s,e.y1=h,e.children&&(n=a[e.depth+1]=i(e)/2,r+=c(e)-n,f+=o(e)-n,(s-=l(e)-n)<r&&(r=s=(r+s)/2),(h-=u(e)-n)<f&&(f=h=(f+h)/2),t(e,r,f,s,h))}return f.round=function(t){return arguments.length?(e=!!t,f):e},f.size=function(t){return arguments.length?(n=+t[0],r=+t[1],f):[n,r]},f.tile=function(e){return arguments.length?(t=NA(e),f):t},f.padding=function(t){return arguments.length?f.paddingInner(t).paddingOuter(t):f.paddingInner()},f.paddingInner=function(t){return arguments.length?(i="function"==typeof t?t:EA(+t),f):i},f.paddingOuter=function(t){return arguments.length?f.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):f.paddingTop()},f.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:EA(+t),f):o},f.paddingRight=function(t){return arguments.length?(l="function"==typeof t?t:EA(+t),f):l},f.paddingBottom=function(t){return arguments.length?(u="function"==typeof t?t:EA(+t),f):u},f.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:EA(+t),f):c},f}().size([t,e]).paddingInner((t=>1+2*(t.height-1)));return n.tile(BA),n};function Jz(t,e,n,r,a,i){(function(t,e,n,r,a){let i={x:t.x0,y:t.y0,width:t.x1-t.x0,height:t.y1-t.y0},o={width:a.x1-a.x0,height:a.y1-a.y0},l={width:o.width/i.width,height:o.height/i.height};n.each((t=>{let n=(t.x0-i.x)*l.width,a=(t.y0-i.y)*l.height,o=sD(t)*l.width,u=hD(t)*l.height,c=((t,e)=>e.every((e=>t.crossValue.includes(e))))(t,e)&&t.data.name!==e[r-1];t.mapLevel[r]={x0:n,x1:o+n,y0:a,y1:u+a,visible:c,opacity:c?1:0}})),t.mapLevel[r].levelRoot=!0})(t,e,n,r,a),t.mapLevel[r].levelRoot=!0,function(t,e,n,r){let a=Zz(e,n)(SA(t.data).sum((t=>t.size))).descendants(),i=t.descendants();a.forEach(((t,e)=>{i[e].mapLevel[r].x0=a[e].x0,i[e].mapLevel[r].x1=a[e].x1,i[e].mapLevel[r].y0=a[e].y0,i[e].mapLevel[r].y1=a[e].y1}))}(t,i.node().getBoundingClientRect().width,i.node().getBoundingClientRect().height,r),eD(n,r)}var tD=(t,e)=>{t.each(((t,n,r)=>{let a=sp(r[n]).selectAll("text");t.mapLevel[e].textAttributes={dx:a.attr("dx"),dy:a.attr("dy"),class:a.attr("class"),"font-size":a.style("font-size")}}))};function eD(t,e){t.selectAll("text").each(((t,n,r)=>{let a=sp(r[n]),i=sp(r[n]).datum(),o=a.attr("class");i.mapLevel[e].textLockedAt={opacity:Hz[o]}}))}function nD(t,e,n,r,a,i,o,l,u,c){if(!t.children)return;a.treemapLevel<t.depth?a.treemapRoute.push(t.crossValue):a.treemapRoute.pop(),a.treemapLevel=t.depth;let f=t.crossValue;(!t.mapLevel[a.treemapLevel]||!t.mapLevel[a.treemapLevel].levelRoot)&&Jz(t,f,n,a.treemapLevel,l,i),rD(t,e,n,r,a,i,o,l,a.treemapLevel,f,u,c)}function rD(t,e,n,r,a,i,o,l,u,c,f,s,h=500,d=!0){let g=t.parent,p=o.transition("main transition").duration(h).ease(KS);n.each((t=>t.target=t.mapLevel[u])),Yz(t)||oD(n,f),n.transition(p).tween("data",(t=>{let e=Fa(t.current,t.target);return n=>t.current=e(n)})).styleTween("opacity",(t=>()=>t.current.opacity)).attrTween("pointer-events",(t=>()=>t.target.visible?"all":"none")),e.transition(p).filter((t=>t.target.visible)).styleTween("x",(t=>()=>`${t.current.x0}px`)).styleTween("y",(t=>()=>`${t.current.y0}px`)).styleTween("width",(t=>()=>t.current.x1-t.current.x0+"px")).styleTween("height",(t=>()=>t.current.y1-t.current.y0+"px")),r.transition(p).filter((t=>t.target.visible)).attrTween("x",(t=>()=>t.current.x0+sD(t.current)/2)).attrTween("y",(t=>()=>t.current.y0+hD(t.current)/2)).end().catch((()=>lD(n))).then((()=>{Yz(t)||(Uz(v),Wz(v),async function(t,e,n=400){let r=e.transition("text fade transition").duration(n).ease(KS);await t.transition(r).filter((t=>t.target.visible)).tween("data",((t,e,n)=>{let r=n[e],a=Fa(aD(t),iD(r));return e=>t.current.opacity=a(e)})).styleTween("opacity",(t=>()=>t.current.opacity)).end().catch((t=>console.error("Exception in text fade transition",t))).then((()=>t.each(((t,e,n)=>(t=>sp(t).style("opacity",null))(n[e])))))}(r,o,h),d&&tD(n,u),lD(n,f,g))})).catch((t=>{console.error("Exception completing promises after main transition",t),lD(n,f,g)})),Yz(t)?(t=>{t.each(((t,e,n)=>{sp(n[e]).selectAll("text").attr("dx",t.target.textAttributes.dx).attr("dy",t.target.textAttributes.dy).attr("style",t.target.textAttributes.style)}))})(n):(r.each(((t,e,n)=>(t=>sp(t).style("opacity",Hz[sp(t).attr("class")]))(n[e]))),Fz(n,u,c));let v=jz(n);g?f.hide(!1).text(t.label).onClick((()=>{nD(g,e,n,r,a,i,o,l,f,s);let t=i.node().getRootNode().host.parentElement;Hk(t,g,s)}))():f.hide(!0)()}var aD=t=>t.target.textLockedAt.opacity,iD=t=>Hz[sp(t).attr("class")],oD=(t,e)=>{e.deactivate(!0),t.each(((t,e,n)=>{sp(n[e]).selectAll("rect").style("pointer-events","none")}))},lD=(t,e)=>{e&&e.deactivate(!1),t.each(((t,e,n)=>{sp(n[e]).selectAll("rect").style("pointer-events",null)}))};var uD="leafnode",cD="branchnode",fD="rootnode",sD=t=>t.x1-t.x0,hD=t=>t.y1-t.y0,dD=(t,e)=>0===e.depth?fD:((t,e)=>e.depth===t)(t,e)?uD:cD;function gD(){let t=null,e=null,n=null,r=null,a=null,i=null,o=o=>{i=function(t){let e=null,n=null,r=!0,a=!1,i=Tk(t,".parent-controls",(()=>t.append("div").attr("class","parent-controls").style("display",r?"none":"").html('<button id="goto-parent">Goto parent</button>\n'))),o=()=>{i.style("display",r?"none":"").select("#goto-parent").style("pointer-events",a?"none":null).html(`⇪ ${n}`).on("click",(()=>e()))};return o.deactivate=(...t)=>{if(!t.length)return a;a=t[0];let e=i.select("#goto-parent");return a?e.style("pointer-events","none"):e.style("pointer-events",null),o},o.hide=(...t)=>t.length?(r=t[0],o):r,o.text=(...t)=>t.length?(n=t[0],o):n,o.onClick=(...t)=>t.length?(e=t[0],o):e,o}(a),i();let l=n.height;t.treemapLevel||(t.treemapLevel=0),t.treemapRoute||(t.treemapRoute=[]),Zz(a.node().getBoundingClientRect().width,a.node().getBoundingClientRect().height)(n);let u=o.selectAll("g").data(n.descendants()),c=u.enter().append("g");c.append("rect"),c.append("text");let f=c.merge(u).sort(((t,e)=>e.depth-t.depth)),s=f.select("rect").attr("class",(t=>`treerect ${dD(l,t)}`)).style("x",(t=>t.x0)).style("y",(t=>t.y0)).style("width",(t=>sD(t))).style("height",(t=>hD(t)));s.style("fill",(t=>dD(l,t)===uD?t.data.color?r(t.data.color):e.colorStyles.series:"transparent"));let h=f.filter((t=>0!==t.value)).select("text").attr("x",(t=>t.x0+sD(t)/2)).attr("y",(t=>t.y0+hD(t)/2)).text((t=>t.label)),d=s.filter((t=>0===t.crossValue.length)).datum();(function(t,e){t.each((t=>{t.mapLevel=[],t.mapLevel[0]={x0:t.x0,x1:sD(t)+t.x0,y0:t.y0,y1:hD(t)+t.y0,visible:!0,opacity:1}})),e.mapLevel[0].levelRoot=!0,eD(t,0)})(f,d),Fz(f,0,[]),Wz(jz(f)),tD(f,0),0===t.treemapRoute.length&&t.treemapRoute.push(d.crossValue),s.filter((t=>t.children)).on("click",((n,r)=>nD(r,s,f,h,t,a,o,d,i,e))),function(t,e,n,r,a,i,o,l,u){if(r.treemapLevel>0){let c=o.crossValue;rD(o,t,e,n,r,a,i,o,0,c,l,u,1,!1),r.treemapRoute.slice(1,r.treemapRoute.length).forEach((c=>{let f=e.filter((t=>t.crossValue===c)).datum(),s=f.crossValue;Jz(f,s,e,f.depth,o,a),rD(f,t,e,n,r,a,i,o,f.depth,s,l,u,1,!1)}))}}(s,f,h,t,a,o,d,i,e)};return o.settings=(...n)=>n.length?(t=n[0],e=n[1],o):t,o.data=(...t)=>t.length?(n=t[0],o):n,o.color=(...t)=>t.length?(r=t[0],o):r,o.container=(...t)=>t.length?(a=t[0],o):a,o}function pD(t,e){if(0===e.crossValues.length)return void console.warn("Unable to render a chart in the absence of any groups.");e.treemaps||(e.treemaps={});let n=Az(e),r=Oz(e,n.map((t=>t.data)));r&&this._container.classList.add("has-legend");let a=Iz().elementsPrefix("treemap");if(t.datum(n).call(a),r){let n=e.realValues[1];if("string"===e.mainValues.find((t=>t.name===n))?.type){let n=lE().settings(e).scale(r);t.call(n)}else{let e=uz().scale(r);t.call(e)}}let i=a.chartEnter(),o=a.chartDiv();a.chartTitle().each(((t,e,n)=>sp(n[e]).text(t.split))),i.merge(o).select("svg").select("g.treemap").each((function({split:t,data:n}){let a=sp(this);e.treemaps[t]||(e.treemaps[t]={}),gD().settings(e.treemaps[t],e).data(n).container(sp(sp(this.parentNode).node().parentNode)).color(r)(a),jk().settings(e).centered(!0)(a.selectAll("g"))}))}pD.plugin={type:"Treemap",name:"Treemap",category:"Hierarchial Chart",max_cells:5e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var vD=[xE,EE,YE,$E,KE,ez,fz,xz,wz,pD,Bz,dz],mD=h(dA()),yD=t=>_r(t).opacity,bD=(t,e)=>{let n=_r(`#${t}`);return n.opacity=e,n+""},xD=t=>{let e=getComputedStyle(t);return t=>e?.getPropertyValue(t)},_D=(t,e)=>{let n=mD.parse(t)[0].colorStops;return n.map(((t,r)=>[t.length?t.length.value/100:r/(n.length-1),bD(t.value,e)])).sort(((t,e)=>t[0]-e[0]))},wD={initial:{type:"number",count:1},selectMode:"select"},SD=`:host .chart{--d3fc-local-full--gradient: var(--d3fc-full--gradient, linear-gradient(#4d342f 0%, #e4521b 22.5%, #feeb65 42.5%, #f0f0f0 50%, #dcedc8 57.5%, #42b3d5 67.5%, #1a237e 100%));--d3fc-local-positive--gradient: var(--d3fc-positive--gradient, linear-gradient(#dcedc8 0%, #42b3d5 35%, #1a237e 100%));--d3fc-local-negative--gradient: var(--d3fc-negative--gradient, linear-gradient(#feeb65 100%, #e4521b 70%, #4d342f 0%))}:host .chart{--d3fc-local-series: var(--d3fc-series, rgba(31, 119, 180, .5));--d3fc-local-series-1: var(--d3fc-series-1, #0366d6);--d3fc-local-series-2: var(--d3fc-series-2, #ff7f0e);--d3fc-local-series-3: var(--d3fc-series-3, #2ca02c);--d3fc-local-series-4: var(--d3fc-series-4, #d62728);--d3fc-local-series-5: var(--d3fc-series-5, #9467bd);--d3fc-local-series-6: var(--d3fc-series-6, #8c564b);--d3fc-local-series-7: var(--d3fc-series-7, #e377c2);--d3fc-local-series-8: var(--d3fc-series-8, #7f7f7f);--d3fc-local-series-9: var(--d3fc-series-9, #bcbd22);--d3fc-local-series-10: var(--d3fc-series-10, #17becf)}:host .chart .series{fill:var(--d3fc-local-series)}:host .chart .series-1{fill:var(--d3fc-local-series-1)}:host .chart .series-2{fill:var(--d3fc-local-series-2)}:host .chart .series-3{fill:var(--d3fc-local-series-3)}:host .chart .series-4{fill:var(--d3fc-local-series-4)}:host .chart .series-5{fill:var(--d3fc-local-series-5)}:host .chart .series-6{fill:var(--d3fc-local-series-6)}:host .chart .series-7{fill:var(--d3fc-local-series-7)}:host .chart .series-8{fill:var(--d3fc-local-series-8)}:host .chart .series-9{fill:var(--d3fc-local-series-9)}:host .chart .series-10{fill:var(--d3fc-local-series-10)}:host{user-select:none}:host .chart{position:absolute;box-sizing:border-box;left:0;top:0;width:100%;height:100%;padding:15px;overflow:hidden}:host .chart.heatmap d3fc-group.cartesian-chart,:host .chart.treemap d3fc-group.cartesian-chart{grid-template-columns:minmax(0em,max-content) auto 1fr auto minmax(0em,max-content);grid-template-rows:minmax(0em,max-content) auto 1fr auto minmax(0em,max-content)}:host .chart .chart-label{display:none}:host .chart.heatmap{padding-right:120px}:host .chart.sunburst{padding:0;font-size:14px}:host .chart.sunburst .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto}:host .chart.sunburst .inner-container div{overflow:hidden}:host .chart.sunburst .inner-container .sunburst-container:not(:only-child) svg{transform:translateY(-27px)}:host .chart.sunburst .inner-container svg{width:100%;height:100%}:host .chart.sunburst .inner-container path{fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .chart.sunburst .inner-container text.segment,:host .chart.sunburst .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels, #333333)}:host .chart.sunburst .inner-container div.title-container{margin-top:5px}:host .chart.has-legend{padding-right:120px}:host .chart.treemap .treemap-container{position:relative}:host .chart.treemap .treemap-container:not(:only-child){width:calc(100% - 12px);height:calc(100% - 12px)}:host .chart.treemap .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto}:host .chart.treemap .inner-container div{overflow:hidden}:host .chart.treemap .inner-container svg{width:100%;height:100%}:host .chart.treemap .inner-container .treerect{stroke:var(--d3fc-treedata-axis--lines, var(--d3fc-axis--lines, white));fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .chart.treemap .inner-container .treerect:hover{cursor:pointer;stroke:var(--d3fc-treedata--hover-highlight, black);stroke-opacity:1}:host .chart.treemap .inner-container .rootnode{opacity:0;pointer-events:none;z-index:0}:host .chart.treemap .inner-container .branchnode{opacity:0}:host .chart.treemap .inner-container .branchnode:hover{fill-opacity:.1;opacity:1;fill:var(--d3fc-treedata--hover-highlight, black)}:host .chart.treemap .inner-container .leafnode{fill-opacity:.8}:host .chart.treemap .inner-container .leafnode:hover{fill-opacity:.5}:host .chart.treemap .inner-container #hidden{opacity:0;pointer-events:none;z-index:0}:host .chart.treemap .inner-container .top{font-size:14px;z-index:5;pointer-events:none}:host .chart.treemap .inner-container .mid{font-size:8px;opacity:.7;z-index:4}:host .chart.treemap .inner-container .lower{font-size:0px;opacity:0;z-index:4}:host .chart.treemap .inner-container text{fill:var(--d3fc-treedata--labels, #333333)}:host .chart.treemap .inner-container text.title{dominant-baseline:hanging}:host .chart.treemap .inner-container .parent-controls{position:absolute;top:15px;right:auto;left:30px;width:auto;z-index:4;transition:box-shadow 1s}:host .chart.treemap .inner-container .parent-controls:hover{box-shadow:2px 2px 6px #000;transition:box-shadow .2s}:host .chart .x-label{height:1.2em!important;line-height:1em!important}:host .chart .x-label,:host .chart .y-label{color:var(--d3fc-label--color, inherit);font-size:14px}:host .chart d3fc-canvas.plot-area{display:none}:host .chart.xyscatter d3fc-canvas.plot-area,:host .chart.xyline d3fc-canvas.plot-area,:host .chart.ohlc d3fc-canvas.plot-area,:host .chart.candlestick d3fc-canvas.plot-area,:host .chart.heatmap d3fc-canvas.plot-area{display:block}:host .chart .y-axis text,:host .chart .x-axis text{fill:var(--d3fc-axis-ticks--color, #505050);font-size:11px}:host .chart .y-axis path,:host .chart .x-axis path{stroke:var(--d3fc-axis--lines, #b4d2e1)}:host .chart .splitter-label{display:inline-block;margin:0 10px;cursor:pointer}:host .chart .splitter-label:after{margin-left:5px;color:var(--d3fc-axis--lines, #b4d2e1)}:host .chart .splitter-label:hover:after{color:var(--d3fc-axis-ticks--color, #505050)}:host .chart .splitter-label.disabled{cursor:default}:host .chart .splitter-label.disabled:after{color:#5050504d}:host .chart .y-label.left-label .splitter-label:after{font-family:var(--d3fc-y1-label--font-family, var(--button--font-family, inherit));content:var(--d3fc-y1-label--content, "\\1f847")}:host .chart .y-label.right-label .splitter-label:after{font-family:var(--d3fc-y2-label--font-family, var(--button--font-family, inherit));content:var(--d3fc-y2-label--content, "\\1f845")}:host .chart.ybar .y-axis path,:host .chart.yline .y-axis path,:host .chart.xyline .y-axis path,:host .chart.xyline .x-axis path,:host .chart.yarea .y-axis path,:host .chart.yscatter .y-axis path,:host .chart.xyscatter .y-axis path,:host .chart.xyscatter .x-axis path,:host .chart.xbar .x-axis path{visibility:hidden}:host .chart .y-label{white-space:nowrap}:host .chart .nearbyTip{fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host #dragHandles{position:absolute;top:0;right:0;left:auto;pointer-events:none}:host #dragHandles rect{pointer-events:all}:host .label rect{fill:none}:host .legend-container{position:absolute;top:15px;right:15px;left:auto;width:150px;height:280px}:host .legend-container.legend-color{width:90px;height:150px}:host .legend-container[borderbox-on-hover=true]{transition:box-shadow 1s}:host .legend-container[borderbox-on-hover=true]:hover{background-color:var(--d3fc-legend--background, #ffffff);box-shadow:0 2px 4px #0000001a;transition:box-shadow .2s,background-color .2s}:host .legend-container .legend{font-size:8pt;width:100%}:host .legend-container .legend .cell{cursor:pointer}:host .legend-container .legend .cell path{fill:var(--d3fc-series, rgba(31, 119, 180, .5));stroke:var(--d3fc-series, #1f77b4)}:host .legend-container .legend .cell.hidden path{fill:#cccccc80;stroke:#ccc}:host .legend-container .legend .cell.hidden circle{fill:#ccc!important}:host .legend-container text{fill:var(--d3fc-legend--text, #333333)}:host .legend-container .label:hover{fill:#22a0ce}:host .legend-container #legend-axis path{stroke:var(--d3fc-legend--text, #333333)}:host .legend-container .legend-controls{margin-left:12px}:host .legend-container .legend-controls #up-arrow,:host .legend-container .legend-controls #down-arrow{cursor:pointer;color:#1f77b4}:host .legend-container .legend-controls #up-arrow.disabled,:host .legend-container .legend-controls #down-arrow.disabled{cursor:default;color:#333}:host .heatmap .legend-container.legend-color{height:200px}:host .treemap .legend-container.legend-color{height:200px}:host .treemap .legend-container:not(.legend-color){width:100px}:host .zoom-controls{position:absolute;top:10px;left:0;width:100%;text-align:center}:host .zoom-controls button{-webkit-appearance:none;background:var(--plugin--background, #f7f7f7);border:1px solid var(--inactive--color, #cccccc);color:var(--d3fc-label--color, inherit);font-size:12px;padding:8px;opacity:.5;cursor:pointer}:host .zoom-controls button:hover{opacity:1}:host .parent-controls{position:absolute;top:30px;right:145px;width:100%;text-align:right}:host .parent-controls button{-webkit-appearance:none;background:#f7f7f7;border:1px solid #cccccc;padding:10px;opacity:.5;cursor:pointer}:host .parent-controls button:hover{background:#e6e6e6}:host div.tooltip{position:absolute;text-align:left;font-size:12px;font-weight:300;white-space:nowrap;padding:.5em;background:var(--d3fc-tooltip--background, #ffffff);color:var(--d3fc-tooltip--color, black);border:1px solid var(--d3fc-tooltip--border-color, #777777);box-shadow:var(--d3fc-tooltip--box-shadow, none);pointer-events:none}:host div.tooltip ul{margin:0;padding:0;list-style-type:none}\n${function(){let t=document.querySelector("head").querySelectorAll("style"),e=[];return t.forEach((t=>{-1!==t.innerText.indexOf("d3fc-")&&e.push(t.innerText)})),e.join("")}()}`,MD=["crossValues","mainValues","realValues","splitValues","filter","data","size","colorStyles","textStyles","agg_paths","treemaps"];Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),function(...t){t=new Set(t.length>0?t:vD.map((t=>t.plugin.name))),vD.forEach((e=>{if(t.has(e.plugin.name)){let t=e.plugin.name.toLowerCase().replace(/[ \t\r\n\/]*/g,""),n=`perspective-viewer-d3fc-${t}`;customElements.define(n,class extends HTMLElement{constructor(){super(),this._chart=null,this._settings=null,this.render_warning=!0}connectedCallback(){this._initialized||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>${SD}</style>`,this.shadowRoot.innerHTML+='<div id="container" class="chart"></div>',this._container=this.shadowRoot.querySelector(".chart"),this._initialized=!0)}get name(){return e.plugin.name}get category(){return e.plugin.category}get select_mode(){return e.plugin.selectMode||"select"}get min_config_columns(){return e.plugin.initial?.count||wD.initial.count}get config_column_names(){return e.plugin.initial?.names||wD.initial.names}get max_cells(){return e.plugin.max_cells||4e3}set max_cells(t){e.plugin.max_cells=t}get max_columns(){return e.plugin.max_columns||50}set max_columns(t){e.plugin.max_columns=t}async render(){var t=document.createElement("canvas"),e=this.shadowRoot.querySelector("#container");t.width=e.offsetWidth,t.height=e.offsetHeight;let n=t.getContext("2d");n.fillStyle=window.getComputedStyle(this).getPropertyValue("--plugin--background")||"white",n.fillRect(0,0,t.width,t.height);let r=window.getComputedStyle(this).getPropertyValue("color"),a=Array.from(this.shadowRoot.querySelectorAll("svg:not(#dragHandles)"));for(let t of a.reverse()){var i=document.createElement("img");i.width=t.parentNode.offsetWidth,i.height=t.parentNode.offsetHeight;let e=t.cloneNode(!0);e.hasAttribute("viewBox")||e.setAttribute("viewBox",`0 0 ${i.width} ${i.height}`),e.setAttribute("xmlns","http://www.w3.org/2000/svg");for(let t of e.querySelectorAll("text"))t.setAttribute("fill",r);var o=(new XMLSerializer).serializeToString(e);o=o.replace(/[^\x00-\x7F]/g,"");let a=new Promise(((t,e)=>{i.onload=t,i.onerror=e}));try{i.src=`data:image/svg+xml;base64,${btoa(o)}`,await a}catch{let t=new Promise(((t,e)=>{i.onload=t,i.onerror=e}));i.src=`data:image/svg+xml;utf8,${o}`,await t}n.drawImage(i,t.parentNode.offsetLeft,t.parentNode.offsetTop,i.width,i.height)}let l=Array.from(this.shadowRoot.querySelectorAll("canvas"));for(let t of l.reverse())n.drawImage(t,t.parentNode.offsetLeft,t.parentNode.offsetTop,t.width/window.devicePixelRatio,t.height/window.devicePixelRatio);return await new Promise((e=>t.toBlob((t=>e(t)))),"image/png")}async draw(t,e,n){null!==this.offsetParent?(this._staged_view=void 0,this.config=await this.parentElement.save(),await this.update(t,e,n,!0)):this._staged_view=[t,e,n]}async update(t,n,r,a=!1){if(null===this.offsetParent)return;let i,o,l=this.parentElement,u=this.config.columns,c="Sunburst"!==e.plugin.name;i=n&&r?t.to_json({end_row:r,end_col:n,leaves_only:c}):n?t.to_json({end_col:n,leaves_only:c}):r?t.to_json({end_row:r,leaves_only:c}):t.to_json({leaves_only:c}),o=await Promise.all([l.getTable().then((t=>t.schema(!1))),t.expression_schema(!1),t.schema(!1),i,t.get_config()]);let[f,s,h,d,g]=o,p=function(t){let e=f[t];return e||(e=s[t]),e},{columns:v,group_by:m,split_by:y,filter:b}=g,x=m.length>0?d.reduce(((t,e)=>{if(e.__ROW_PATH__&&e.__ROW_PATH__.length==m.length)t.agg_paths.push(t.aggs.slice()),t.rows.push(e);else{let n=e.__ROW_PATH__.filter((t=>void 0!==t)).length;t.aggs[n]=e,t.aggs=t.aggs.slice(0,n+1)}return t}),{rows:[],aggs:[],agg_paths:[]}):{rows:d},_=x.rows.map(((t,e)=>m.length?t:{...t,__ROW_PATH__:[e]})),w={realValues:u,crossValues:m.map((t=>({name:t,type:p(t)}))),mainValues:v.map((t=>({name:t,type:h[t]}))),splitValues:y.map((t=>({name:t,type:p(t)}))),filter:b,data:_,agg_paths:x.agg_paths};this._chart=e;let S={set:(t,e,n)=>(MD.includes(e)||this._container&&this._container.dispatchEvent(new Event("perspective-plugin-update",{bubbles:!0,composed:!0})),t[e]=n,!0)};this._settings=new Proxy({...this._settings,...w},S),this._settings.splitMainValues&&this._settings.splitMainValues.length>=v.length&&(this._settings.splitMainValues=[]),((t,e)=>{if(!e.colorStyles){let n={scheme:[],gradient:{},interpolator:{},grid:{}},r=xD(t);n.series=r("--d3fc-local-series");for(let t=1;;t++){let e=`series-${t}`,a=r(`--d3fc-local-${e}`);if(!a)break;n[e]=a,n.scheme.push(a)}n.opacity=yD(n.series),n.grid.gridLineColor=r`--d3fc-gridline--color`,["full","positive","negative"].forEach((t=>{let e=r(`--d3fc-local-${t}--gradient`);n.gradient[t]=_D(e,n.opacity)})),e.colorStyles=n}if(!e.textStyles){let n=window.getComputedStyle(t),r=n.getPropertyValue("color"),a=`12px ${n.getPropertyValue("font-family")}`;e.textStyles={color:r,font:a}}})(this._container,this._settings),a&&(this._container.innerHTML=""),this._draw(),await new Promise((t=>requestAnimationFrame(t)))}async clear(){this._container&&(this._container.innerHTML="")}_draw(){if(null!==this.offsetParent){let e=sp(this._container),n=`chart ${t}`;this._settings.size=this._container.getBoundingClientRect(),this._settings.data.length>0?this._chart(e.attr("class",n),this._settings):e.attr("class",`${n} disabled`)}}async resize(t){if(null!==this.offsetParent)if(void 0!==this._settings?.data)this._draw();else{let[t,e,n]=this._staged_view;this._staged_view=void 0,this.draw(t,e,n)}}async restyle(...t){let e=this._settings;e&&(delete e.colorStyles,delete e.textStyles,await this.draw(...t))}async delete(){this._container.innerHTML=""}getContainer(){return this._container}save(){let t={...this._settings};return MD.forEach((e=>{delete t[e]})),t}restore(t){let e={};for(let t of MD)e[t]=this._settings?.[t];this._settings={...e,...t},this._draw()}}),customElements.whenDefined("perspective-viewer").then((()=>function(t){customElements.get("perspective-viewer").registerPlugin(t)}(n)))}}))}()}));
//# sourceMappingURL=/sm/939c74a2d279872b0b0ebd3e73c407bd689188ee3c4be79667099b1bb386d361.map