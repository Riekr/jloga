var N9=Object.create;var Il=Object.defineProperty;var E9=Object.getOwnPropertyDescriptor;var P9=Object.getOwnPropertyNames;var L9=Object.getPrototypeOf,O9=Object.prototype.hasOwnProperty;var P=(e,t)=>()=>(e&&(t=e(e=0)),t);var rr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),On=(e,t)=>{for(var n in t)Il(e,n,{get:t[n],enumerable:!0})},nv=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of P9(t))!O9.call(e,a)&&a!==n&&Il(e,a,{get:()=>t[a],enumerable:!(r=E9(t,a))||r.enumerable});return e};var ht=(e,t,n)=>(n=e!=null?N9(L9(e)):{},nv(t||!e||!e.__esModule?Il(n,"default",{value:e,enumerable:!0}):n,e)),_r=e=>nv(Il({},"__esModule",{value:!0}),e);function Ct(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var ar=P(()=>{});function ru(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var Yf=P(()=>{});function ga(e){let t,n,r;e.length!==2?(t=Ct,n=(l,s)=>Ct(e(l),s),r=(l,s)=>e(l)-s):(t=e===Ct||e===ru?e:I9,n=e,r=e);function a(l,s,f=0,m=l.length){if(f<m){if(t(s,s)!==0)return m;do{let x=f+m>>>1;n(l[x],s)<0?f=x+1:m=x}while(f<m)}return f}function i(l,s,f=0,m=l.length){if(f<m){if(t(s,s)!==0)return m;do{let x=f+m>>>1;n(l[x],s)<=0?f=x+1:m=x}while(f<m)}return f}function o(l,s,f=0,m=l.length){let x=a(l,s,f,m-1);return x>f&&r(l[x-1],s)>-r(l[x],s)?x-1:x}return{left:a,center:o,right:i}}function I9(){return 0}var Wf=P(()=>{ar();Yf()});function Ja(e){return e===null?NaN:+e}function*rv(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}var $f=P(()=>{});var av,Uf,iv,ov,Ji,qf=P(()=>{ar();Wf();$f();av=ga(Ct),Uf=av.right,iv=av.left,ov=ga(Ja).center,Ji=Uf});function uv(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;let r=Gf(t),a=e.slice();return r(e,a,0,n,1),r(a,e,0,n,1),r(e,a,0,n,1),e}function sv(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:a,width:i,height:o}=t;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(o!==void 0?o:a.length/i))>=0))throw new RangeError("invalid height");if(!i||!o||!n&&!r)return t;let l=n&&e(n),s=r&&e(r),f=a.slice();return l&&s?(eo(l,f,a,i,o),eo(l,a,f,i,o),eo(l,f,a,i,o),to(s,a,f,i,o),to(s,f,a,i,o),to(s,a,f,i,o)):l?(eo(l,a,f,i,o),eo(l,f,a,i,o),eo(l,a,f,i,o)):s&&(to(s,a,f,i,o),to(s,f,a,i,o),to(s,a,f,i,o)),t}}function eo(e,t,n,r,a){for(let i=0,o=r*a;i<o;)e(t,n,i,i+=r,1)}function to(e,t,n,r,a){for(let i=0,o=r*a;i<r;++i)e(t,n,i,i+o,r)}function z9(e){let t=Gf(e);return(n,r,a,i,o)=>{a<<=2,i<<=2,o<<=2,t(n,r,a+0,i+0,o),t(n,r,a+1,i+1,o),t(n,r,a+2,i+2,o),t(n,r,a+3,i+3,o)}}function Gf(e){let t=Math.floor(e);if(t===e)return R9(e);let n=e-t,r=2*e+1;return(a,i,o,l,s)=>{if(!((l-=s)>=o))return;let f=t*i[o],m=s*t,x=m+s;for(let v=o,M=o+m;v<M;v+=s)f+=i[Math.min(l,v)];for(let v=o,M=l;v<=M;v+=s)f+=i[Math.min(l,v+m)],a[v]=(f+n*(i[Math.max(o,v-x)]+i[Math.min(l,v+x)]))/r,f-=i[Math.max(o,v-m)]}}function R9(e){let t=2*e+1;return(n,r,a,i,o)=>{if(!((i-=o)>=a))return;let l=e*r[a],s=o*e;for(let f=a,m=a+s;f<m;f+=o)l+=r[Math.min(i,f)];for(let f=a,m=i;f<=m;f+=o)l+=r[Math.min(i,f+s)],n[f]=l/t,l-=r[Math.max(a,f-s)]}}var lv,cv,fv=P(()=>{lv=sv(Gf),cv=sv(z9)});function Ur(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(a=+a)>=a&&++n}return n}var au=P(()=>{});function F9(e){return e.length|0}function B9(e){return!(e>0)}function H9(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function Y9(e){return t=>e(...t)}function Xf(...e){let t=typeof e[e.length-1]=="function"&&Y9(e.pop());e=e.map(H9);let n=e.map(F9),r=e.length-1,a=new Array(r+1).fill(0),i=[];if(r<0||n.some(B9))return i;for(;;){i.push(a.map((l,s)=>e[s][l]));let o=r;for(;++a[o]===n[o];){if(o===0)return t?i.map(t):i;a[o--]=0}}}var dv=P(()=>{});function jf(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?a=>n+=+a||0:a=>n+=+t(a,r++,e)||0)}var mv=P(()=>{});function iu(e,t){let n=0,r,a=0,i=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-a,a+=r/++n,i+=r*(o-a));else{let o=-1;for(let l of e)(l=t(l,++o,e))!=null&&(l=+l)>=l&&(r=l-a,a+=r/++n,i+=r*(l-a))}if(n>1)return i/(n-1)}var Qf=P(()=>{});function ou(e,t){let n=iu(e,t);return n&&Math.sqrt(n)}var Zf=P(()=>{Qf()});function ei(e,t){let n,r;if(t===void 0)for(let a of e)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}var Kf=P(()=>{});function hv(e,t){let n=new no;if(t===void 0)for(let r of e)(r=+r)&&n.add(r);else{let r=-1;for(let a of e)(a=+t(a,++r,e))&&n.add(a)}return+n}function pv(e,t){let n=new no,r=-1;return Float64Array.from(e,t===void 0?a=>n.add(+a||0):a=>n.add(+t(a,++r,e)||0))}var no,gv=P(()=>{no=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let n=this._partials,r=0;for(let a=0;a<this._n&&a<32;a++){let i=n[a],o=t+i,l=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);l&&(n[r++]=l),t=o}return n[r]=t,this._n=r+1,this}valueOf(){let t=this._partials,n=this._n,r,a,i,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,a=t[--n],o=r+a,i=a-(o-r),!i););n>0&&(i<0&&t[n-1]<0||i>0&&t[n-1]>0)&&(a=i*2,r=o+a,a==r-o&&(o=r))}return o}}});function Jf({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):n}function vv({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function yv({_intern:e,_key:t},n){let r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function bv(e){return e!==null&&typeof e=="object"?e.valueOf():e}var ir,In,va=P(()=>{ir=class extends Map{constructor(t,n=bv){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let[r,a]of t)this.set(r,a)}get(t){return super.get(Jf(this,t))}has(t){return super.has(Jf(this,t))}set(t,n){return super.set(vv(this,t),n)}delete(t){return super.delete(yv(this,t))}},In=class extends Set{constructor(t,n=bv){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let r of t)this.add(r)}has(t){return super.has(Jf(this,t))}add(t){return super.add(vv(this,t))}delete(t){return super.delete(yv(this,t))}}});function qr(e){return e}var ed=P(()=>{});function uu(e,...t){return ro(e,qr,qr,t)}function td(e,...t){return ro(e,Array.from,qr,t)}function xv(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap(a=>a.pop().map(([i,o])=>[...a,i,o]));return e}function wv(e,...t){return xv(td(e,...t),t)}function _v(e,t,...n){return xv(nd(e,t,...n),n)}function zl(e,t,...n){return ro(e,qr,t,n)}function nd(e,t,...n){return ro(e,Array.from,t,n)}function Sv(e,...t){return ro(e,qr,Cv,t)}function Mv(e,...t){return ro(e,Array.from,Cv,t)}function Cv(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function ro(e,t,n,r){return function a(i,o){if(o>=r.length)return n(i);let l=new ir,s=r[o++],f=-1;for(let m of i){let x=s(m,++f,i),v=l.get(x);v?v.push(m):l.set(x,[m])}for(let[m,x]of l)l.set(m,a(x,o));return t(l)}(e,0)}var rd=P(()=>{va();ed()});function lu(e,t){return Array.from(t,n=>e[n])}var ad=P(()=>{});function ao(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){let r=Uint32Array.from(e,(a,i)=>i);return t.length>1?(t=t.map(a=>e.map(a)),r.sort((a,i)=>{for(let o of t){let l=Gr(o[a],o[i]);if(l)return l}})):(n=e.map(n),r.sort((a,i)=>Gr(n[a],n[i]))),lu(e,r)}return e.sort(cu(n))}function cu(e=Ct){if(e===Ct)return Gr;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{let r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Gr(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var io=P(()=>{ar();ad()});function id(e,t,n){return(t.length!==2?ao(zl(e,t,n),([r,a],[i,o])=>Ct(a,o)||Ct(r,i)):ao(uu(e,n),([r,a],[i,o])=>t(a,o)||Ct(r,i))).map(([r])=>r)}var Tv=P(()=>{ar();rd();io()});var Av,kv,ON,Vv=P(()=>{Av=Array.prototype,kv=Av.slice,ON=Av.map});function su(e){return()=>e}var Dv=P(()=>{});function Rl(e,t,n){let r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=W9?10:i>=$9?5:i>=U9?2:1,l,s,f;return a<0?(f=Math.pow(10,-a)/o,l=Math.round(e*f),s=Math.round(t*f),l/f<e&&++l,s/f>t&&--s,f=-f):(f=Math.pow(10,a)*o,l=Math.round(e/f),s=Math.round(t/f),l*f<e&&++l,s*f>t&&--s),s<l&&.5<=n&&n<2?Rl(e,t,n*2):[l,s,f]}function ti(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];let r=t<e,[a,i,o]=r?Rl(t,e,n):Rl(e,t,n);if(!(i>=a))return[];let l=i-a+1,s=new Array(l);if(r)if(o<0)for(let f=0;f<l;++f)s[f]=(i-f)/-o;else for(let f=0;f<l;++f)s[f]=(i-f)*o;else if(o<0)for(let f=0;f<l;++f)s[f]=(a+f)/-o;else for(let f=0;f<l;++f)s[f]=(a+f)*o;return s}function or(e,t,n){return t=+t,e=+e,n=+n,Rl(e,t,n)[2]}function ni(e,t,n){t=+t,e=+e,n=+n;let r=t<e,a=r?or(t,e,n):or(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}var W9,$9,U9,Fl=P(()=>{W9=Math.sqrt(50),$9=Math.sqrt(10),U9=Math.sqrt(2)});function fu(e,t,n){let r;for(;;){let a=or(e,t,n);if(a===r||a===0||!isFinite(a))return[e,t];a>0?(e=Math.floor(e/a)*a,t=Math.ceil(t/a)*a):a<0&&(e=Math.ceil(e*a)/a,t=Math.floor(t*a)/a),r=a}}var od=P(()=>{Fl()});function du(e){return Math.max(1,Math.ceil(Math.log(Ur(e))/Math.LN2)+1)}var ud=P(()=>{au()});function Bl(){var e=qr,t=ei,n=du;function r(a){Array.isArray(a)||(a=Array.from(a));var i,o=a.length,l,s,f=new Array(o);for(i=0;i<o;++i)f[i]=e(a[i],i,a);var m=t(f),x=m[0],v=m[1],M=n(f,x,v);if(!Array.isArray(M)){let B=v,V=+M;if(t===ei&&([x,v]=fu(x,v,V)),M=ti(x,v,V),M[0]<=x&&(s=or(x,v,V)),M[M.length-1]>=v)if(B>=v&&t===ei){let I=or(x,v,V);isFinite(I)&&(I>0?v=(Math.floor(v/I)+1)*I:I<0&&(v=(Math.ceil(v*-I)+1)/-I))}else M.pop()}for(var T=M.length,A=0,C=T;M[A]<=x;)++A;for(;M[C-1]>v;)--C;(A||C<T)&&(M=M.slice(A,C),T=C-A);var D=new Array(T+1),R;for(i=0;i<=T;++i)R=D[i]=[],R.x0=i>0?M[i-1]:x,R.x1=i<T?M[i]:v;if(isFinite(s)){if(s>0)for(i=0;i<o;++i)(l=f[i])!=null&&x<=l&&l<=v&&D[Math.min(T,Math.floor((l-x)/s))].push(a[i]);else if(s<0){for(i=0;i<o;++i)if((l=f[i])!=null&&x<=l&&l<=v){let B=Math.floor((x-l)*s);D[Math.min(T,B+(M[B]<=l))].push(a[i])}}}else for(i=0;i<o;++i)(l=f[i])!=null&&x<=l&&l<=v&&D[Ji(M,l,0,T)].push(a[i]);return D}return r.value=function(a){return arguments.length?(e=typeof a=="function"?a:su(a),r):e},r.domain=function(a){return arguments.length?(t=typeof a=="function"?a:su([a[0],a[1]]),r):t},r.thresholds=function(a){return arguments.length?(n=typeof a=="function"?a:su(Array.isArray(a)?kv.call(a):a),r):n},r}var Nv=P(()=>{Vv();qf();Dv();Kf();ed();od();Fl();ud()});function Sr(e,t){let n;if(t===void 0)for(let r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}var ld=P(()=>{});function ri(e,t){let n,r=-1,a=-1;if(t===void 0)for(let i of e)++a,i!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=a);else for(let i of e)(i=t(i,++a,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=a);return r}var Hl=P(()=>{});function $n(e,t){let n;if(t===void 0)for(let r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}var Yl=P(()=>{});function ai(e,t){let n,r=-1,a=-1;if(t===void 0)for(let i of e)++a,i!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=a);else for(let i of e)(i=t(i,++a,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=a);return r}var Wl=P(()=>{});function ii(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?Gr:cu(a);r>n;){if(r-n>600){let s=r-n+1,f=t-n+1,m=Math.log(s),x=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*x*(s-x)/s)*(f-s/2<0?-1:1),M=Math.max(n,Math.floor(t-f*x/s+v)),T=Math.min(r,Math.floor(t+(s-f)*x/s+v));ii(e,t,M,T,a)}let i=e[t],o=n,l=r;for(mu(e,n,t),a(e[r],i)>0&&mu(e,n,r);o<l;){for(mu(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?mu(e,n,l):(++l,mu(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function mu(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}var cd=P(()=>{io()});function hu(e,t=Ct){let n,r=!1;if(t.length===1){let a;for(let i of e){let o=t(i);(r?Ct(o,a)>0:Ct(o,o)===0)&&(n=i,a=o,r=!0)}}else for(let a of e)(r?t(a,n)>0:t(a,a)===0)&&(n=a,r=!0);return n}var sd=P(()=>{ar()});function ya(e,t,n){if(e=Float64Array.from(rv(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return $n(e);if(t>=1)return Sr(e);var r,a=(r-1)*t,i=Math.floor(a),o=Sr(ii(e,i).subarray(0,i+1)),l=$n(e.subarray(i+1));return o+(l-o)*(a-i)}}function Ev(e,t,n=Ja){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function $l(e,t,n=Ja){if(!isNaN(t=+t)){if(r=Float64Array.from(e,(l,s)=>Ja(n(e[s],s,e))),t<=0)return ai(r);if(t>=1)return ri(r);var r,a=Uint32Array.from(e,(l,s)=>s),i=r.length-1,o=Math.floor(i*t);return ii(a,o,0,i,(l,s)=>Gr(r[l],r[s])),o=hu(a.subarray(0,o+1),l=>r[l]),o>=0?o:-1}}var Ul=P(()=>{ld();Hl();Yl();Wl();cd();$f();io();sd()});function fd(e,t,n){let r=Ur(e),a=ya(e,.75)-ya(e,.25);return r&&a?Math.ceil((n-t)/(2*a*Math.pow(r,-1/3))):1}var Pv=P(()=>{au();Ul()});function dd(e,t,n){let r=Ur(e),a=ou(e);return r&&a?Math.ceil((n-t)*Math.cbrt(r)/(3.49*a)):1}var Lv=P(()=>{au();Zf()});function md(e,t){let n=0,r=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(++n,r+=a);else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}var Ov=P(()=>{});function hd(e,t){return ya(e,.5,t)}function Iv(e,t){return $l(e,.5,t)}var zv=P(()=>{Ul()});function*q9(e){for(let t of e)yield*t}function pd(e){return Array.from(q9(e))}var Rv=P(()=>{});function gd(e,t){let n=new ir;if(t===void 0)for(let i of e)i!=null&&i>=i&&n.set(i,(n.get(i)||0)+1);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,a=0;for(let[i,o]of n)o>a&&(a=o,r=i);return r}var Fv=P(()=>{va()});function vd(e,t=G9){let n=[],r,a=!1;for(let i of e)a&&n.push(t(r,i)),r=i,a=!0;return n}function G9(e,t){return[e,t]}var Bv=P(()=>{});function oi(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}var Hv=P(()=>{});function yd(e,t=Ct){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(e),r=new Float64Array(n.length);t.length!==2&&(n=n.map(t),t=Ct);let a=(l,s)=>t(n[l],n[s]),i,o;return e=Uint32Array.from(n,(l,s)=>s),e.sort(t===Ct?(l,s)=>Gr(n[l],n[s]):cu(a)),e.forEach((l,s)=>{let f=a(l,i===void 0?l:i);f>=0?((i===void 0||f>0)&&(i=l,o=s),r[l]=o):r[l]=NaN}),r}var Yv=P(()=>{ar();io()});function bd(e,t=Ct){let n,r=!1;if(t.length===1){let a;for(let i of e){let o=t(i);(r?Ct(o,a)<0:Ct(o,o)===0)&&(n=i,a=o,r=!0)}}else for(let a of e)(r?t(a,n)<0:t(a,a)===0)&&(n=a,r=!0);return n}var Wv=P(()=>{ar()});function pu(e,t=Ct){if(t.length===1)return ai(e,t);let n,r=-1,a=-1;for(let i of e)++a,(r<0?t(i,i)===0:t(i,n)<0)&&(n=i,r=a);return r}var xd=P(()=>{ar();Wl()});function wd(e,t=Ct){if(t.length===1)return ri(e,t);let n,r=-1,a=-1;for(let i of e)++a,(r<0?t(i,i)===0:t(i,n)>0)&&(n=i,r=a);return r}var $v=P(()=>{ar();Hl()});function _d(e,t){let n=pu(e,t);return n<0?void 0:n}var Uv=P(()=>{xd()});function Sd(e){return function(n,r=0,a=n.length){let i=a-(r=+r);for(;i;){let o=e()*i--|0,l=n[i+r];n[i+r]=n[o+r],n[o+r]=l}return n}}var qv,Gv=P(()=>{qv=Sd(Math.random)});function Md(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let a of e)(a=+t(a,++r,e))&&(n+=a)}return n}var Xv=P(()=>{});function gu(e){if(!(i=e.length))return[];for(var t=-1,n=$n(e,X9),r=new Array(n);++t<n;)for(var a=-1,i,o=r[t]=new Array(i);++a<i;)o[a]=e[a][t];return r}function X9(e){return e.length}var Cd=P(()=>{Yl()});function Td(){return gu(arguments)}var jv=P(()=>{Cd()});function Ad(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(let r of e)if(!t(r,++n,e))return!1;return!0}var Qv=P(()=>{});function kd(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(let r of e)if(t(r,++n,e))return!0;return!1}var Zv=P(()=>{});function Vd(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=[],r=-1;for(let a of e)t(a,++r,e)&&n.push(a);return n}var Kv=P(()=>{});function Dd(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(n,r)=>t(n,r,e))}var Jv=P(()=>{});function Nd(e,t,n){if(typeof t!="function")throw new TypeError("reducer is not a function");let r=e[Symbol.iterator](),a,i,o=-1;if(arguments.length<3){if({done:a,value:n}=r.next(),a)return;++o}for(;{done:a,value:i}=r.next(),!a;)n=t(n,i,++o,e);return n}var e1=P(()=>{});function Ed(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}var t1=P(()=>{});function Pd(e,...t){e=new In(e);for(let n of t)for(let r of n)e.delete(r);return e}var n1=P(()=>{va()});function Ld(e,t){let n=t[Symbol.iterator](),r=new In;for(let a of e){if(r.has(a))return!1;let i,o;for(;({value:i,done:o}=n.next())&&!o;){if(Object.is(a,i))return!1;r.add(i)}}return!0}var r1=P(()=>{va()});function Od(e,...t){e=new In(e),t=t.map(j9);e:for(let n of e)for(let r of t)if(!r.has(n)){e.delete(n);continue e}return e}function j9(e){return e instanceof In?e:new In(e)}var a1=P(()=>{va()});function vu(e,t){let n=e[Symbol.iterator](),r=new Set;for(let a of t){let i=i1(a);if(r.has(i))continue;let o,l;for(;{value:o,done:l}=n.next();){if(l)return!1;let s=i1(o);if(r.add(s),Object.is(i,s))break}}return!0}function i1(e){return e!==null&&typeof e=="object"?e.valueOf():e}var Id=P(()=>{});function zd(e,t){return vu(t,e)}var o1=P(()=>{Id()});function Rd(...e){let t=new In;for(let n of e)for(let r of n)t.add(r);return t}var u1=P(()=>{va()});var Fd={};On(Fd,{Adder:()=>no,InternMap:()=>ir,InternSet:()=>In,ascending:()=>Ct,bin:()=>Bl,bisect:()=>Ji,bisectCenter:()=>ov,bisectLeft:()=>iv,bisectRight:()=>Uf,bisector:()=>ga,blur:()=>uv,blur2:()=>lv,blurImage:()=>cv,count:()=>Ur,cross:()=>Xf,cumsum:()=>jf,descending:()=>ru,deviation:()=>ou,difference:()=>Pd,disjoint:()=>Ld,every:()=>Ad,extent:()=>ei,fcumsum:()=>pv,filter:()=>Vd,flatGroup:()=>wv,flatRollup:()=>_v,fsum:()=>hv,greatest:()=>hu,greatestIndex:()=>wd,group:()=>uu,groupSort:()=>id,groups:()=>td,histogram:()=>Bl,index:()=>Sv,indexes:()=>Mv,intersection:()=>Od,least:()=>bd,leastIndex:()=>pu,map:()=>Dd,max:()=>Sr,maxIndex:()=>ri,mean:()=>md,median:()=>hd,medianIndex:()=>Iv,merge:()=>pd,min:()=>$n,minIndex:()=>ai,mode:()=>gd,nice:()=>fu,pairs:()=>vd,permute:()=>lu,quantile:()=>ya,quantileIndex:()=>$l,quantileSorted:()=>Ev,quickselect:()=>ii,range:()=>oi,rank:()=>yd,reduce:()=>Nd,reverse:()=>Ed,rollup:()=>zl,rollups:()=>nd,scan:()=>_d,shuffle:()=>qv,shuffler:()=>Sd,some:()=>kd,sort:()=>ao,subset:()=>zd,sum:()=>Md,superset:()=>vu,thresholdFreedmanDiaconis:()=>fd,thresholdScott:()=>dd,thresholdSturges:()=>du,tickIncrement:()=>or,tickStep:()=>ni,ticks:()=>ti,transpose:()=>gu,union:()=>Rd,variance:()=>iu,zip:()=>Td});var Mr=P(()=>{qf();ar();Wf();fv();au();dv();mv();Yf();Zf();Kf();gv();rd();Tv();Nv();Pv();Lv();ud();ld();Hl();Ov();zv();Rv();Yl();Wl();Fv();od();Bv();ad();Ul();cd();Hv();Yv();Wv();xd();sd();$v();Uv();Gv();Xv();Fl();Cd();Qf();jv();Qv();Zv();Kv();Jv();e1();t1();io();n1();r1();a1();o1();Id();u1();va()});var c1=rr((ql,l1)=>{(function(e,t){typeof ql=="object"&&typeof l1<"u"?t(ql):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(ql,function(e){"use strict";function t(Q,Z){return Q<Z?-1:Q>Z?1:Q>=Z?0:NaN}function n(Q){return Q.length===1&&(Q=r(Q)),{left:function(Z,ce,te,$){for(te==null&&(te=0),$==null&&($=Z.length);te<$;){var se=te+$>>>1;Q(Z[se],ce)<0?te=se+1:$=se}return te},right:function(Z,ce,te,$){for(te==null&&(te=0),$==null&&($=Z.length);te<$;){var se=te+$>>>1;Q(Z[se],ce)>0?$=se:te=se+1}return te}}}function r(Q){return function(Z,ce){return t(Q(Z),ce)}}var a=n(t),i=a.right,o=a.left;function l(Q,Z){Z==null&&(Z=s);for(var ce=0,te=Q.length-1,$=Q[0],se=new Array(te<0?0:te);ce<te;)se[ce]=Z($,$=Q[++ce]);return se}function s(Q,Z){return[Q,Z]}function f(Q,Z,ce){var te=Q.length,$=Z.length,se=new Array(te*$),Ne,We,ot,Be;for(ce==null&&(ce=s),Ne=ot=0;Ne<te;++Ne)for(Be=Q[Ne],We=0;We<$;++We,++ot)se[ot]=ce(Be,Z[We]);return se}function m(Q,Z){return Z<Q?-1:Z>Q?1:Z>=Q?0:NaN}function x(Q){return Q===null?NaN:+Q}function v(Q,Z){var ce=Q.length,te=0,$=-1,se=0,Ne,We,ot=0;if(Z==null)for(;++$<ce;)isNaN(Ne=x(Q[$]))||(We=Ne-se,se+=We/++te,ot+=We*(Ne-se));else for(;++$<ce;)isNaN(Ne=x(Z(Q[$],$,Q)))||(We=Ne-se,se+=We/++te,ot+=We*(Ne-se));if(te>1)return ot/(te-1)}function M(Q,Z){var ce=v(Q,Z);return ce&&Math.sqrt(ce)}function T(Q,Z){var ce=Q.length,te=-1,$,se,Ne;if(Z==null){for(;++te<ce;)if(($=Q[te])!=null&&$>=$)for(se=Ne=$;++te<ce;)($=Q[te])!=null&&(se>$&&(se=$),Ne<$&&(Ne=$))}else for(;++te<ce;)if(($=Z(Q[te],te,Q))!=null&&$>=$)for(se=Ne=$;++te<ce;)($=Z(Q[te],te,Q))!=null&&(se>$&&(se=$),Ne<$&&(Ne=$));return[se,Ne]}var A=Array.prototype,C=A.slice,D=A.map;function R(Q){return function(){return Q}}function B(Q){return Q}function V(Q,Z,ce){Q=+Q,Z=+Z,ce=($=arguments.length)<2?(Z=Q,Q=0,1):$<3?1:+ce;for(var te=-1,$=Math.max(0,Math.ceil((Z-Q)/ce))|0,se=new Array($);++te<$;)se[te]=Q+te*ce;return se}var I=Math.sqrt(50),O=Math.sqrt(10),j=Math.sqrt(2);function K(Q,Z,ce){var te,$=-1,se,Ne,We;if(Z=+Z,Q=+Q,ce=+ce,Q===Z&&ce>0)return[Q];if((te=Z<Q)&&(se=Q,Q=Z,Z=se),(We=ye(Q,Z,ce))===0||!isFinite(We))return[];if(We>0)for(Q=Math.ceil(Q/We),Z=Math.floor(Z/We),Ne=new Array(se=Math.ceil(Z-Q+1));++$<se;)Ne[$]=(Q+$)*We;else for(Q=Math.floor(Q*We),Z=Math.ceil(Z*We),Ne=new Array(se=Math.ceil(Q-Z+1));++$<se;)Ne[$]=(Q-$)/We;return te&&Ne.reverse(),Ne}function ye(Q,Z,ce){var te=(Z-Q)/Math.max(0,ce),$=Math.floor(Math.log(te)/Math.LN10),se=te/Math.pow(10,$);return $>=0?(se>=I?10:se>=O?5:se>=j?2:1)*Math.pow(10,$):-Math.pow(10,-$)/(se>=I?10:se>=O?5:se>=j?2:1)}function ge(Q,Z,ce){var te=Math.abs(Z-Q)/Math.max(0,ce),$=Math.pow(10,Math.floor(Math.log(te)/Math.LN10)),se=te/$;return se>=I?$*=10:se>=O?$*=5:se>=j&&($*=2),Z<Q?-$:$}function le(Q){return Math.ceil(Math.log(Q.length)/Math.LN2)+1}function Ie(){var Q=B,Z=T,ce=le;function te($){var se,Ne=$.length,We,ot=new Array(Ne);for(se=0;se<Ne;++se)ot[se]=Q($[se],se,$);var Be=Z(ot),it=Be[0],vt=Be[1],nt=ce(ot,it,vt);Array.isArray(nt)||(nt=ge(it,vt,nt),nt=V(Math.ceil(it/nt)*nt,vt,nt));for(var zt=nt.length;nt[0]<=it;)nt.shift(),--zt;for(;nt[zt-1]>vt;)nt.pop(),--zt;var Bt=new Array(zt+1),Ut;for(se=0;se<=zt;++se)Ut=Bt[se]=[],Ut.x0=se>0?nt[se-1]:it,Ut.x1=se<zt?nt[se]:vt;for(se=0;se<Ne;++se)We=ot[se],it<=We&&We<=vt&&Bt[i(nt,We,0,zt)].push($[se]);return Bt}return te.value=function($){return arguments.length?(Q=typeof $=="function"?$:R($),te):Q},te.domain=function($){return arguments.length?(Z=typeof $=="function"?$:R([$[0],$[1]]),te):Z},te.thresholds=function($){return arguments.length?(ce=typeof $=="function"?$:Array.isArray($)?R(C.call($)):R($),te):ce},te}function he(Q,Z,ce){if(ce==null&&(ce=x),!!(te=Q.length)){if((Z=+Z)<=0||te<2)return+ce(Q[0],0,Q);if(Z>=1)return+ce(Q[te-1],te-1,Q);var te,$=(te-1)*Z,se=Math.floor($),Ne=+ce(Q[se],se,Q),We=+ce(Q[se+1],se+1,Q);return Ne+(We-Ne)*($-se)}}function U(Q,Z,ce){return Q=D.call(Q,x).sort(t),Math.ceil((ce-Z)/(2*(he(Q,.75)-he(Q,.25))*Math.pow(Q.length,-1/3)))}function _e(Q,Z,ce){return Math.ceil((ce-Z)/(3.5*M(Q)*Math.pow(Q.length,-1/3)))}function ne(Q,Z){var ce=Q.length,te=-1,$,se;if(Z==null){for(;++te<ce;)if(($=Q[te])!=null&&$>=$)for(se=$;++te<ce;)($=Q[te])!=null&&$>se&&(se=$)}else for(;++te<ce;)if(($=Z(Q[te],te,Q))!=null&&$>=$)for(se=$;++te<ce;)($=Z(Q[te],te,Q))!=null&&$>se&&(se=$);return se}function ie(Q,Z){var ce=Q.length,te=ce,$=-1,se,Ne=0;if(Z==null)for(;++$<ce;)isNaN(se=x(Q[$]))?--te:Ne+=se;else for(;++$<ce;)isNaN(se=x(Z(Q[$],$,Q)))?--te:Ne+=se;if(te)return Ne/te}function ve(Q,Z){var ce=Q.length,te=-1,$,se=[];if(Z==null)for(;++te<ce;)isNaN($=x(Q[te]))||se.push($);else for(;++te<ce;)isNaN($=x(Z(Q[te],te,Q)))||se.push($);return he(se.sort(t),.5)}function oe(Q){for(var Z=Q.length,ce,te=-1,$=0,se,Ne;++te<Z;)$+=Q[te].length;for(se=new Array($);--Z>=0;)for(Ne=Q[Z],ce=Ne.length;--ce>=0;)se[--$]=Ne[ce];return se}function be(Q,Z){var ce=Q.length,te=-1,$,se;if(Z==null){for(;++te<ce;)if(($=Q[te])!=null&&$>=$)for(se=$;++te<ce;)($=Q[te])!=null&&se>$&&(se=$)}else for(;++te<ce;)if(($=Z(Q[te],te,Q))!=null&&$>=$)for(se=$;++te<ce;)($=Z(Q[te],te,Q))!=null&&se>$&&(se=$);return se}function Ee(Q,Z){for(var ce=Z.length,te=new Array(ce);ce--;)te[ce]=Q[Z[ce]];return te}function De(Q,Z){if(!!(ce=Q.length)){var ce,te=0,$=0,se,Ne=Q[$];for(Z==null&&(Z=t);++te<ce;)(Z(se=Q[te],Ne)<0||Z(Ne,Ne)!==0)&&(Ne=se,$=te);if(Z(Ne,Ne)===0)return $}}function Se(Q,Z,ce){for(var te=(ce??Q.length)-(Z=Z==null?0:+Z),$,se;te;)se=Math.random()*te--|0,$=Q[te+Z],Q[te+Z]=Q[se+Z],Q[se+Z]=$;return Q}function Ye(Q,Z){var ce=Q.length,te=-1,$,se=0;if(Z==null)for(;++te<ce;)($=+Q[te])&&(se+=$);else for(;++te<ce;)($=+Z(Q[te],te,Q))&&(se+=$);return se}function Oe(Q){if(!(se=Q.length))return[];for(var Z=-1,ce=be(Q,Qe),te=new Array(ce);++Z<ce;)for(var $=-1,se,Ne=te[Z]=new Array(se);++$<se;)Ne[$]=Q[$][Z];return te}function Qe(Q){return Q.length}function Ue(){return Oe(arguments)}e.bisect=i,e.bisectRight=i,e.bisectLeft=o,e.ascending=t,e.bisector=n,e.cross=f,e.descending=m,e.deviation=M,e.extent=T,e.histogram=Ie,e.thresholdFreedmanDiaconis=U,e.thresholdScott=_e,e.thresholdSturges=le,e.max=ne,e.mean=ie,e.median=ve,e.merge=oe,e.min=be,e.pairs=l,e.permute=Ee,e.quantile=he,e.range=V,e.scan=De,e.shuffle=Se,e.sum=Ye,e.ticks=K,e.tickIncrement=ye,e.tickStep=ge,e.transpose=Oe,e.variance=v,e.zip=Ue,Object.defineProperty(e,"__esModule",{value:!0})})});var f1=rr((Gl,s1)=>{(function(e,t){typeof Gl=="object"&&typeof s1<"u"?t(Gl):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(Gl,function(e){"use strict";var t="$";function n(){}n.prototype=r.prototype={constructor:n,has:function(A){return t+A in this},get:function(A){return this[t+A]},set:function(A,C){return this[t+A]=C,this},remove:function(A){var C=t+A;return C in this&&delete this[C]},clear:function(){for(var A in this)A[0]===t&&delete this[A]},keys:function(){var A=[];for(var C in this)C[0]===t&&A.push(C.slice(1));return A},values:function(){var A=[];for(var C in this)C[0]===t&&A.push(this[C]);return A},entries:function(){var A=[];for(var C in this)C[0]===t&&A.push({key:C.slice(1),value:this[C]});return A},size:function(){var A=0;for(var C in this)C[0]===t&&++A;return A},empty:function(){for(var A in this)if(A[0]===t)return!1;return!0},each:function(A){for(var C in this)C[0]===t&&A(this[C],C.slice(1),this)}};function r(A,C){var D=new n;if(A instanceof n)A.each(function(O,j){D.set(j,O)});else if(Array.isArray(A)){var R=-1,B=A.length,V;if(C==null)for(;++R<B;)D.set(R,A[R]);else for(;++R<B;)D.set(C(V=A[R],R,A),V)}else if(A)for(var I in A)D.set(I,A[I]);return D}function a(){var A=[],C=[],D,R,B;function V(O,j,K,ye){if(j>=A.length)return D!=null&&O.sort(D),R!=null?R(O):O;for(var ge=-1,le=O.length,Ie=A[j++],he,U,_e=r(),ne,ie=K();++ge<le;)(ne=_e.get(he=Ie(U=O[ge])+""))?ne.push(U):_e.set(he,[U]);return _e.each(function(ve,oe){ye(ie,oe,V(ve,j,K,ye))}),ie}function I(O,j){if(++j>A.length)return O;var K,ye=C[j-1];return R!=null&&j>=A.length?K=O.entries():(K=[],O.each(function(ge,le){K.push({key:le,values:I(ge,j)})})),ye!=null?K.sort(function(ge,le){return ye(ge.key,le.key)}):K}return B={object:function(O){return V(O,0,i,o)},map:function(O){return V(O,0,l,s)},entries:function(O){return I(V(O,0,l,s),0)},key:function(O){return A.push(O),B},sortKeys:function(O){return C[A.length-1]=O,B},sortValues:function(O){return D=O,B},rollup:function(O){return R=O,B}}}function i(){return{}}function o(A,C,D){A[C]=D}function l(){return r()}function s(A,C,D){A.set(C,D)}function f(){}var m=r.prototype;f.prototype=x.prototype={constructor:f,has:m.has,add:function(A){return A+="",this[t+A]=A,this},remove:m.remove,clear:m.clear,values:m.keys,size:m.size,empty:m.empty,each:m.each};function x(A,C){var D=new f;if(A instanceof f)A.each(function(V){D.add(V)});else if(A){var R=-1,B=A.length;if(C==null)for(;++R<B;)D.add(A[R]);else for(;++R<B;)D.add(C(A[R],R,A))}return D}function v(A){var C=[];for(var D in A)C.push(D);return C}function M(A){var C=[];for(var D in A)C.push(A[D]);return C}function T(A){var C=[];for(var D in A)C.push({key:D,value:A[D]});return C}e.nest=a,e.set=x,e.map=r,e.keys=v,e.values=M,e.entries=T,Object.defineProperty(e,"__esModule",{value:!0})})});var Bd=rr((Xl,d1)=>{(function(e,t){typeof Xl=="object"&&typeof d1<"u"?t(Xl):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(Xl,function(e){"use strict";function t(N,G,de){N.prototype=G.prototype=de,de.constructor=N}function n(N,G){var de=Object.create(N.prototype);for(var Le in G)de[Le]=G[Le];return de}function r(){}var a=.7,i=1/a,o="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f=/^#([0-9a-f]{3,8})$/,m=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),x=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),v=new RegExp("^rgba\\("+[o,o,o,l]+"\\)$"),M=new RegExp("^rgba\\("+[s,s,s,l]+"\\)$"),T=new RegExp("^hsl\\("+[l,s,s]+"\\)$"),A=new RegExp("^hsla\\("+[l,s,s,l]+"\\)$"),C={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};t(r,V,{copy:function(N){return Object.assign(new this.constructor,this,N)},displayable:function(){return this.rgb().displayable()},hex:D,formatHex:D,formatHsl:R,formatRgb:B,toString:B});function D(){return this.rgb().formatHex()}function R(){return U(this).formatHsl()}function B(){return this.rgb().formatRgb()}function V(N){var G,de;return N=(N+"").trim().toLowerCase(),(G=f.exec(N))?(de=G[1].length,G=parseInt(G[1],16),de===6?I(G):de===3?new ye(G>>8&15|G>>4&240,G>>4&15|G&240,(G&15)<<4|G&15,1):de===8?O(G>>24&255,G>>16&255,G>>8&255,(G&255)/255):de===4?O(G>>12&15|G>>8&240,G>>8&15|G>>4&240,G>>4&15|G&240,((G&15)<<4|G&15)/255):null):(G=m.exec(N))?new ye(G[1],G[2],G[3],1):(G=x.exec(N))?new ye(G[1]*255/100,G[2]*255/100,G[3]*255/100,1):(G=v.exec(N))?O(G[1],G[2],G[3],G[4]):(G=M.exec(N))?O(G[1]*255/100,G[2]*255/100,G[3]*255/100,G[4]):(G=T.exec(N))?he(G[1],G[2]/100,G[3]/100,1):(G=A.exec(N))?he(G[1],G[2]/100,G[3]/100,G[4]):C.hasOwnProperty(N)?I(C[N]):N==="transparent"?new ye(NaN,NaN,NaN,0):null}function I(N){return new ye(N>>16&255,N>>8&255,N&255,1)}function O(N,G,de,Le){return Le<=0&&(N=G=de=NaN),new ye(N,G,de,Le)}function j(N){return N instanceof r||(N=V(N)),N?(N=N.rgb(),new ye(N.r,N.g,N.b,N.opacity)):new ye}function K(N,G,de,Le){return arguments.length===1?j(N):new ye(N,G,de,Le??1)}function ye(N,G,de,Le){this.r=+N,this.g=+G,this.b=+de,this.opacity=+Le}t(ye,K,n(r,{brighter:function(N){return N=N==null?i:Math.pow(i,N),new ye(this.r*N,this.g*N,this.b*N,this.opacity)},darker:function(N){return N=N==null?a:Math.pow(a,N),new ye(this.r*N,this.g*N,this.b*N,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ge,formatHex:ge,formatRgb:le,toString:le}));function ge(){return"#"+Ie(this.r)+Ie(this.g)+Ie(this.b)}function le(){var N=this.opacity;return N=isNaN(N)?1:Math.max(0,Math.min(1,N)),(N===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(N===1?")":", "+N+")")}function Ie(N){return N=Math.max(0,Math.min(255,Math.round(N)||0)),(N<16?"0":"")+N.toString(16)}function he(N,G,de,Le){return Le<=0?N=G=de=NaN:de<=0||de>=1?N=G=NaN:G<=0&&(N=NaN),new ne(N,G,de,Le)}function U(N){if(N instanceof ne)return new ne(N.h,N.s,N.l,N.opacity);if(N instanceof r||(N=V(N)),!N)return new ne;if(N instanceof ne)return N;N=N.rgb();var G=N.r/255,de=N.g/255,Le=N.b/255,W=Math.min(G,de,Le),J=Math.max(G,de,Le),ue=NaN,xe=J-W,we=(J+W)/2;return xe?(G===J?ue=(de-Le)/xe+(de<Le)*6:de===J?ue=(Le-G)/xe+2:ue=(G-de)/xe+4,xe/=we<.5?J+W:2-J-W,ue*=60):xe=we>0&&we<1?0:ue,new ne(ue,xe,we,N.opacity)}function _e(N,G,de,Le){return arguments.length===1?U(N):new ne(N,G,de,Le??1)}function ne(N,G,de,Le){this.h=+N,this.s=+G,this.l=+de,this.opacity=+Le}t(ne,_e,n(r,{brighter:function(N){return N=N==null?i:Math.pow(i,N),new ne(this.h,this.s,this.l*N,this.opacity)},darker:function(N){return N=N==null?a:Math.pow(a,N),new ne(this.h,this.s,this.l*N,this.opacity)},rgb:function(){var N=this.h%360+(this.h<0)*360,G=isNaN(N)||isNaN(this.s)?0:this.s,de=this.l,Le=de+(de<.5?de:1-de)*G,W=2*de-Le;return new ye(ie(N>=240?N-240:N+120,W,Le),ie(N,W,Le),ie(N<120?N+240:N-120,W,Le),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var N=this.opacity;return N=isNaN(N)?1:Math.max(0,Math.min(1,N)),(N===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(N===1?")":", "+N+")")}}));function ie(N,G,de){return(N<60?G+(de-G)*N/60:N<180?de:N<240?G+(de-G)*(240-N)/60:G)*255}var ve=Math.PI/180,oe=180/Math.PI,be=18,Ee=.96422,De=1,Se=.82521,Ye=4/29,Oe=6/29,Qe=3*Oe*Oe,Ue=Oe*Oe*Oe;function Q(N){if(N instanceof te)return new te(N.l,N.a,N.b,N.opacity);if(N instanceof vt)return nt(N);N instanceof ye||(N=j(N));var G=We(N.r),de=We(N.g),Le=We(N.b),W=$((.2225045*G+.7168786*de+.0606169*Le)/De),J,ue;return G===de&&de===Le?J=ue=W:(J=$((.4360747*G+.3850649*de+.1430804*Le)/Ee),ue=$((.0139322*G+.0971045*de+.7141733*Le)/Se)),new te(116*W-16,500*(J-W),200*(W-ue),N.opacity)}function Z(N,G){return new te(N,0,0,G??1)}function ce(N,G,de,Le){return arguments.length===1?Q(N):new te(N,G,de,Le??1)}function te(N,G,de,Le){this.l=+N,this.a=+G,this.b=+de,this.opacity=+Le}t(te,ce,n(r,{brighter:function(N){return new te(this.l+be*(N??1),this.a,this.b,this.opacity)},darker:function(N){return new te(this.l-be*(N??1),this.a,this.b,this.opacity)},rgb:function(){var N=(this.l+16)/116,G=isNaN(this.a)?N:N+this.a/500,de=isNaN(this.b)?N:N-this.b/200;return G=Ee*se(G),N=De*se(N),de=Se*se(de),new ye(Ne(3.1338561*G-1.6168667*N-.4906146*de),Ne(-.9787684*G+1.9161415*N+.033454*de),Ne(.0719453*G-.2289914*N+1.4052427*de),this.opacity)}}));function $(N){return N>Ue?Math.pow(N,1/3):N/Qe+Ye}function se(N){return N>Oe?N*N*N:Qe*(N-Ye)}function Ne(N){return 255*(N<=.0031308?12.92*N:1.055*Math.pow(N,1/2.4)-.055)}function We(N){return(N/=255)<=.04045?N/12.92:Math.pow((N+.055)/1.055,2.4)}function ot(N){if(N instanceof vt)return new vt(N.h,N.c,N.l,N.opacity);if(N instanceof te||(N=Q(N)),N.a===0&&N.b===0)return new vt(NaN,0<N.l&&N.l<100?0:NaN,N.l,N.opacity);var G=Math.atan2(N.b,N.a)*oe;return new vt(G<0?G+360:G,Math.sqrt(N.a*N.a+N.b*N.b),N.l,N.opacity)}function Be(N,G,de,Le){return arguments.length===1?ot(N):new vt(de,G,N,Le??1)}function it(N,G,de,Le){return arguments.length===1?ot(N):new vt(N,G,de,Le??1)}function vt(N,G,de,Le){this.h=+N,this.c=+G,this.l=+de,this.opacity=+Le}function nt(N){if(isNaN(N.h))return new te(N.l,0,0,N.opacity);var G=N.h*ve;return new te(N.l,Math.cos(G)*N.c,Math.sin(G)*N.c,N.opacity)}t(vt,it,n(r,{brighter:function(N){return new vt(this.h,this.c,this.l+be*(N??1),this.opacity)},darker:function(N){return new vt(this.h,this.c,this.l-be*(N??1),this.opacity)},rgb:function(){return nt(this).rgb()}}));var zt=-.14861,Bt=1.78277,Ut=-.29227,Tn=-.90649,nn=1.97294,Yn=nn*Tn,L=nn*Bt,Y=Bt*Ut-Tn*zt;function pe(N){if(N instanceof Me)return new Me(N.h,N.s,N.l,N.opacity);N instanceof ye||(N=j(N));var G=N.r/255,de=N.g/255,Le=N.b/255,W=(Y*Le+Yn*G-L*de)/(Y+Yn-L),J=Le-W,ue=(nn*(de-W)-Ut*J)/Tn,xe=Math.sqrt(ue*ue+J*J)/(nn*W*(1-W)),we=xe?Math.atan2(ue,J)*oe-120:NaN;return new Me(we<0?we+360:we,xe,W,N.opacity)}function Pe(N,G,de,Le){return arguments.length===1?pe(N):new Me(N,G,de,Le??1)}function Me(N,G,de,Le){this.h=+N,this.s=+G,this.l=+de,this.opacity=+Le}t(Me,Pe,n(r,{brighter:function(N){return N=N==null?i:Math.pow(i,N),new Me(this.h,this.s,this.l*N,this.opacity)},darker:function(N){return N=N==null?a:Math.pow(a,N),new Me(this.h,this.s,this.l*N,this.opacity)},rgb:function(){var N=isNaN(this.h)?0:(this.h+120)*ve,G=+this.l,de=isNaN(this.s)?0:this.s*G*(1-G),Le=Math.cos(N),W=Math.sin(N);return new ye(255*(G+de*(zt*Le+Bt*W)),255*(G+de*(Ut*Le+Tn*W)),255*(G+de*(nn*Le)),this.opacity)}})),e.color=V,e.cubehelix=Pe,e.gray=Z,e.hcl=it,e.hsl=_e,e.lab=ce,e.lch=Be,e.rgb=K,Object.defineProperty(e,"__esModule",{value:!0})})});var h1=rr((jl,m1)=>{(function(e,t){typeof jl=="object"&&typeof m1<"u"?t(jl,Bd()):typeof define=="function"&&define.amd?define(["exports","d3-color"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(jl,function(e,t){"use strict";function n(L,Y,pe,Pe,Me){var N=L*L,G=N*L;return((1-3*L+3*N-G)*Y+(4-6*N+3*G)*pe+(1+3*L+3*N-3*G)*Pe+G*Me)/6}function r(L){var Y=L.length-1;return function(pe){var Pe=pe<=0?pe=0:pe>=1?(pe=1,Y-1):Math.floor(pe*Y),Me=L[Pe],N=L[Pe+1],G=Pe>0?L[Pe-1]:2*Me-N,de=Pe<Y-1?L[Pe+2]:2*N-Me;return n((pe-Pe/Y)*Y,G,Me,N,de)}}function a(L){var Y=L.length;return function(pe){var Pe=Math.floor(((pe%=1)<0?++pe:pe)*Y),Me=L[(Pe+Y-1)%Y],N=L[Pe%Y],G=L[(Pe+1)%Y],de=L[(Pe+2)%Y];return n((pe-Pe/Y)*Y,Me,N,G,de)}}function i(L){return function(){return L}}function o(L,Y){return function(pe){return L+pe*Y}}function l(L,Y,pe){return L=Math.pow(L,pe),Y=Math.pow(Y,pe)-L,pe=1/pe,function(Pe){return Math.pow(L+Pe*Y,pe)}}function s(L,Y){var pe=Y-L;return pe?o(L,pe>180||pe<-180?pe-360*Math.round(pe/360):pe):i(isNaN(L)?Y:L)}function f(L){return(L=+L)==1?m:function(Y,pe){return pe-Y?l(Y,pe,L):i(isNaN(Y)?pe:Y)}}function m(L,Y){var pe=Y-L;return pe?o(L,pe):i(isNaN(L)?Y:L)}var x=function L(Y){var pe=f(Y);function Pe(Me,N){var G=pe((Me=t.rgb(Me)).r,(N=t.rgb(N)).r),de=pe(Me.g,N.g),Le=pe(Me.b,N.b),W=m(Me.opacity,N.opacity);return function(J){return Me.r=G(J),Me.g=de(J),Me.b=Le(J),Me.opacity=W(J),Me+""}}return Pe.gamma=L,Pe}(1);function v(L){return function(Y){var pe=Y.length,Pe=new Array(pe),Me=new Array(pe),N=new Array(pe),G,de;for(G=0;G<pe;++G)de=t.rgb(Y[G]),Pe[G]=de.r||0,Me[G]=de.g||0,N[G]=de.b||0;return Pe=L(Pe),Me=L(Me),N=L(N),de.opacity=1,function(Le){return de.r=Pe(Le),de.g=Me(Le),de.b=N(Le),de+""}}}var M=v(r),T=v(a);function A(L,Y){Y||(Y=[]);var pe=L?Math.min(Y.length,L.length):0,Pe=Y.slice(),Me;return function(N){for(Me=0;Me<pe;++Me)Pe[Me]=L[Me]*(1-N)+Y[Me]*N;return Pe}}function C(L){return ArrayBuffer.isView(L)&&!(L instanceof DataView)}function D(L,Y){return(C(Y)?A:R)(L,Y)}function R(L,Y){var pe=Y?Y.length:0,Pe=L?Math.min(pe,L.length):0,Me=new Array(Pe),N=new Array(pe),G;for(G=0;G<Pe;++G)Me[G]=le(L[G],Y[G]);for(;G<pe;++G)N[G]=Y[G];return function(de){for(G=0;G<Pe;++G)N[G]=Me[G](de);return N}}function B(L,Y){var pe=new Date;return L=+L,Y=+Y,function(Pe){return pe.setTime(L*(1-Pe)+Y*Pe),pe}}function V(L,Y){return L=+L,Y=+Y,function(pe){return L*(1-pe)+Y*pe}}function I(L,Y){var pe={},Pe={},Me;(L===null||typeof L!="object")&&(L={}),(Y===null||typeof Y!="object")&&(Y={});for(Me in Y)Me in L?pe[Me]=le(L[Me],Y[Me]):Pe[Me]=Y[Me];return function(N){for(Me in pe)Pe[Me]=pe[Me](N);return Pe}}var O=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,j=new RegExp(O.source,"g");function K(L){return function(){return L}}function ye(L){return function(Y){return L(Y)+""}}function ge(L,Y){var pe=O.lastIndex=j.lastIndex=0,Pe,Me,N,G=-1,de=[],Le=[];for(L=L+"",Y=Y+"";(Pe=O.exec(L))&&(Me=j.exec(Y));)(N=Me.index)>pe&&(N=Y.slice(pe,N),de[G]?de[G]+=N:de[++G]=N),(Pe=Pe[0])===(Me=Me[0])?de[G]?de[G]+=Me:de[++G]=Me:(de[++G]=null,Le.push({i:G,x:V(Pe,Me)})),pe=j.lastIndex;return pe<Y.length&&(N=Y.slice(pe),de[G]?de[G]+=N:de[++G]=N),de.length<2?Le[0]?ye(Le[0].x):K(Y):(Y=Le.length,function(W){for(var J=0,ue;J<Y;++J)de[(ue=Le[J]).i]=ue.x(W);return de.join("")})}function le(L,Y){var pe=typeof Y,Pe;return Y==null||pe==="boolean"?i(Y):(pe==="number"?V:pe==="string"?(Pe=t.color(Y))?(Y=Pe,x):ge:Y instanceof t.color?x:Y instanceof Date?B:C(Y)?A:Array.isArray(Y)?R:typeof Y.valueOf!="function"&&typeof Y.toString!="function"||isNaN(Y)?I:V)(L,Y)}function Ie(L){var Y=L.length;return function(pe){return L[Math.max(0,Math.min(Y-1,Math.floor(pe*Y)))]}}function he(L,Y){var pe=s(+L,+Y);return function(Pe){var Me=pe(Pe);return Me-360*Math.floor(Me/360)}}function U(L,Y){return L=+L,Y=+Y,function(pe){return Math.round(L*(1-pe)+Y*pe)}}var _e=180/Math.PI,ne={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ie(L,Y,pe,Pe,Me,N){var G,de,Le;return(G=Math.sqrt(L*L+Y*Y))&&(L/=G,Y/=G),(Le=L*pe+Y*Pe)&&(pe-=L*Le,Pe-=Y*Le),(de=Math.sqrt(pe*pe+Pe*Pe))&&(pe/=de,Pe/=de,Le/=de),L*Pe<Y*pe&&(L=-L,Y=-Y,Le=-Le,G=-G),{translateX:Me,translateY:N,rotate:Math.atan2(Y,L)*_e,skewX:Math.atan(Le)*_e,scaleX:G,scaleY:de}}var ve,oe,be,Ee;function De(L){return L==="none"?ne:(ve||(ve=document.createElement("DIV"),oe=document.documentElement,be=document.defaultView),ve.style.transform=L,L=be.getComputedStyle(oe.appendChild(ve),null).getPropertyValue("transform"),oe.removeChild(ve),L=L.slice(7,-1).split(","),ie(+L[0],+L[1],+L[2],+L[3],+L[4],+L[5]))}function Se(L){return L==null||(Ee||(Ee=document.createElementNS("http://www.w3.org/2000/svg","g")),Ee.setAttribute("transform",L),!(L=Ee.transform.baseVal.consolidate()))?ne:(L=L.matrix,ie(L.a,L.b,L.c,L.d,L.e,L.f))}function Ye(L,Y,pe,Pe){function Me(W){return W.length?W.pop()+" ":""}function N(W,J,ue,xe,we,Ae){if(W!==ue||J!==xe){var Ce=we.push("translate(",null,Y,null,pe);Ae.push({i:Ce-4,x:V(W,ue)},{i:Ce-2,x:V(J,xe)})}else(ue||xe)&&we.push("translate("+ue+Y+xe+pe)}function G(W,J,ue,xe){W!==J?(W-J>180?J+=360:J-W>180&&(W+=360),xe.push({i:ue.push(Me(ue)+"rotate(",null,Pe)-2,x:V(W,J)})):J&&ue.push(Me(ue)+"rotate("+J+Pe)}function de(W,J,ue,xe){W!==J?xe.push({i:ue.push(Me(ue)+"skewX(",null,Pe)-2,x:V(W,J)}):J&&ue.push(Me(ue)+"skewX("+J+Pe)}function Le(W,J,ue,xe,we,Ae){if(W!==ue||J!==xe){var Ce=we.push(Me(we)+"scale(",null,",",null,")");Ae.push({i:Ce-4,x:V(W,ue)},{i:Ce-2,x:V(J,xe)})}else(ue!==1||xe!==1)&&we.push(Me(we)+"scale("+ue+","+xe+")")}return function(W,J){var ue=[],xe=[];return W=L(W),J=L(J),N(W.translateX,W.translateY,J.translateX,J.translateY,ue,xe),G(W.rotate,J.rotate,ue,xe),de(W.skewX,J.skewX,ue,xe),Le(W.scaleX,W.scaleY,J.scaleX,J.scaleY,ue,xe),W=J=null,function(we){for(var Ae=-1,Ce=xe.length,Fe;++Ae<Ce;)ue[(Fe=xe[Ae]).i]=Fe.x(we);return ue.join("")}}}var Oe=Ye(De,"px, ","px)","deg)"),Qe=Ye(Se,", ",")",")"),Ue=Math.SQRT2,Q=2,Z=4,ce=1e-12;function te(L){return((L=Math.exp(L))+1/L)/2}function $(L){return((L=Math.exp(L))-1/L)/2}function se(L){return((L=Math.exp(2*L))-1)/(L+1)}function Ne(L,Y){var pe=L[0],Pe=L[1],Me=L[2],N=Y[0],G=Y[1],de=Y[2],Le=N-pe,W=G-Pe,J=Le*Le+W*W,ue,xe;if(J<ce)xe=Math.log(de/Me)/Ue,ue=function(Je){return[pe+Je*Le,Pe+Je*W,Me*Math.exp(Ue*Je*xe)]};else{var we=Math.sqrt(J),Ae=(de*de-Me*Me+Z*J)/(2*Me*Q*we),Ce=(de*de-Me*Me-Z*J)/(2*de*Q*we),Fe=Math.log(Math.sqrt(Ae*Ae+1)-Ae),$e=Math.log(Math.sqrt(Ce*Ce+1)-Ce);xe=($e-Fe)/Ue,ue=function(Je){var wt=Je*xe,Ge=te(Fe),X=Me/(Q*we)*(Ge*se(Ue*wt+Fe)-$(Fe));return[pe+X*Le,Pe+X*W,Me*Ge/te(Ue*wt+Fe)]}}return ue.duration=xe*1e3,ue}function We(L){return function(Y,pe){var Pe=L((Y=t.hsl(Y)).h,(pe=t.hsl(pe)).h),Me=m(Y.s,pe.s),N=m(Y.l,pe.l),G=m(Y.opacity,pe.opacity);return function(de){return Y.h=Pe(de),Y.s=Me(de),Y.l=N(de),Y.opacity=G(de),Y+""}}}var ot=We(s),Be=We(m);function it(L,Y){var pe=m((L=t.lab(L)).l,(Y=t.lab(Y)).l),Pe=m(L.a,Y.a),Me=m(L.b,Y.b),N=m(L.opacity,Y.opacity);return function(G){return L.l=pe(G),L.a=Pe(G),L.b=Me(G),L.opacity=N(G),L+""}}function vt(L){return function(Y,pe){var Pe=L((Y=t.hcl(Y)).h,(pe=t.hcl(pe)).h),Me=m(Y.c,pe.c),N=m(Y.l,pe.l),G=m(Y.opacity,pe.opacity);return function(de){return Y.h=Pe(de),Y.c=Me(de),Y.l=N(de),Y.opacity=G(de),Y+""}}}var nt=vt(s),zt=vt(m);function Bt(L){return function Y(pe){pe=+pe;function Pe(Me,N){var G=L((Me=t.cubehelix(Me)).h,(N=t.cubehelix(N)).h),de=m(Me.s,N.s),Le=m(Me.l,N.l),W=m(Me.opacity,N.opacity);return function(J){return Me.h=G(J),Me.s=de(J),Me.l=Le(Math.pow(J,pe)),Me.opacity=W(J),Me+""}}return Pe.gamma=Y,Pe}(1)}var Ut=Bt(s),Tn=Bt(m);function nn(L,Y){for(var pe=0,Pe=Y.length-1,Me=Y[0],N=new Array(Pe<0?0:Pe);pe<Pe;)N[pe]=L(Me,Me=Y[++pe]);return function(G){var de=Math.max(0,Math.min(Pe-1,Math.floor(G*=Pe)));return N[de](G-de)}}function Yn(L,Y){for(var pe=new Array(Y),Pe=0;Pe<Y;++Pe)pe[Pe]=L(Pe/(Y-1));return pe}e.interpolate=le,e.interpolateArray=D,e.interpolateBasis=r,e.interpolateBasisClosed=a,e.interpolateCubehelix=Ut,e.interpolateCubehelixLong=Tn,e.interpolateDate=B,e.interpolateDiscrete=Ie,e.interpolateHcl=nt,e.interpolateHclLong=zt,e.interpolateHsl=ot,e.interpolateHslLong=Be,e.interpolateHue=he,e.interpolateLab=it,e.interpolateNumber=V,e.interpolateNumberArray=A,e.interpolateObject=I,e.interpolateRgb=x,e.interpolateRgbBasis=M,e.interpolateRgbBasisClosed=T,e.interpolateRound=U,e.interpolateString=ge,e.interpolateTransformCss=Oe,e.interpolateTransformSvg=Qe,e.interpolateZoom=Ne,e.piecewise=nn,e.quantize=Yn,Object.defineProperty(e,"__esModule",{value:!0})})});var Hd=rr((Ql,p1)=>{(function(e,t){typeof Ql=="object"&&typeof p1<"u"?t(Ql):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(Ql,function(e){"use strict";function t(V,I){if((O=(V=I?V.toExponential(I-1):V.toExponential()).indexOf("e"))<0)return null;var O,j=V.slice(0,O);return[j.length>1?j[0]+j.slice(2):j,+V.slice(O+1)]}function n(V){return V=t(Math.abs(V)),V?V[1]:NaN}function r(V,I){return function(O,j){for(var K=O.length,ye=[],ge=0,le=V[0],Ie=0;K>0&&le>0&&(Ie+le+1>j&&(le=Math.max(1,j-Ie)),ye.push(O.substring(K-=le,K+le)),!((Ie+=le+1)>j));)le=V[ge=(ge+1)%V.length];return ye.reverse().join(I)}}function a(V,I){V=V.toPrecision(I);e:for(var O=V.length,j=1,K=-1,ye;j<O;++j)switch(V[j]){case".":K=ye=j;break;case"0":K===0&&(K=j),ye=j;break;case"e":break e;default:K>0&&(K=0);break}return K>0?V.slice(0,K)+V.slice(ye+1):V}var i;function o(V,I){var O=t(V,I);if(!O)return V+"";var j=O[0],K=O[1],ye=K-(i=Math.max(-8,Math.min(8,Math.floor(K/3)))*3)+1,ge=j.length;return ye===ge?j:ye>ge?j+new Array(ye-ge+1).join("0"):ye>0?j.slice(0,ye)+"."+j.slice(ye):"0."+new Array(1-ye).join("0")+t(V,Math.max(0,I+ye-1))[0]}function l(V,I){var O=t(V,I);if(!O)return V+"";var j=O[0],K=O[1];return K<0?"0."+new Array(-K).join("0")+j:j.length>K+1?j.slice(0,K+1)+"."+j.slice(K+1):j+new Array(K-j.length+2).join("0")}var s={"":a,"%":function(V,I){return(V*100).toFixed(I)},b:function(V){return Math.round(V).toString(2)},c:function(V){return V+""},d:function(V){return Math.round(V).toString(10)},e:function(V,I){return V.toExponential(I)},f:function(V,I){return V.toFixed(I)},g:function(V,I){return V.toPrecision(I)},o:function(V){return Math.round(V).toString(8)},p:function(V,I){return l(V*100,I)},r:l,s:o,X:function(V){return Math.round(V).toString(16).toUpperCase()},x:function(V){return Math.round(V).toString(16)}},f=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function m(V){return new x(V)}function x(V){if(!(I=f.exec(V)))throw new Error("invalid format: "+V);var I,O=I[1]||" ",j=I[2]||">",K=I[3]||"-",ye=I[4]||"",ge=!!I[5],le=I[6]&&+I[6],Ie=!!I[7],he=I[8]&&+I[8].slice(1),U=I[9]||"";U==="n"?(Ie=!0,U="g"):s[U]||(U=""),(ge||O==="0"&&j==="=")&&(ge=!0,O="0",j="="),this.fill=O,this.align=j,this.sign=K,this.symbol=ye,this.zero=ge,this.width=le,this.comma=Ie,this.precision=he,this.type=U}x.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type};var v=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function M(V){return V}function T(V){var I=V.grouping&&V.thousands?r(V.grouping,V.thousands):M,O=V.currency,j=V.decimal;function K(ge){ge=m(ge);var le=ge.fill,Ie=ge.align,he=ge.sign,U=ge.symbol,_e=ge.zero,ne=ge.width,ie=ge.comma,ve=ge.precision,oe=ge.type,be=U==="$"?O[0]:U==="#"&&/[boxX]/.test(oe)?"0"+oe.toLowerCase():"",Ee=U==="$"?O[1]:/[%p]/.test(oe)?"%":"",De=s[oe],Se=!oe||/[defgprs%]/.test(oe);ve=ve==null?oe?6:12:/[gprs]/.test(oe)?Math.max(1,Math.min(21,ve)):Math.max(0,Math.min(20,ve));function Ye(Oe){var Qe=be,Ue=Ee,Q,Z,ce;if(oe==="c")Ue=De(Oe)+Ue,Oe="";else{Oe=+Oe;var te=(Oe<0||1/Oe<0)&&(Oe*=-1,!0);if(Oe=De(Oe,ve),te){for(Q=-1,Z=Oe.length,te=!1;++Q<Z;)if(ce=Oe.charCodeAt(Q),48<ce&&ce<58||oe==="x"&&96<ce&&ce<103||oe==="X"&&64<ce&&ce<71){te=!0;break}}if(Qe=(te?he==="("?he:"-":he==="-"||he==="("?"":he)+Qe,Ue=Ue+(oe==="s"?v[8+i/3]:"")+(te&&he==="("?")":""),Se){for(Q=-1,Z=Oe.length;++Q<Z;)if(ce=Oe.charCodeAt(Q),48>ce||ce>57){Ue=(ce===46?j+Oe.slice(Q+1):Oe.slice(Q))+Ue,Oe=Oe.slice(0,Q);break}}}ie&&!_e&&(Oe=I(Oe,1/0));var $=Qe.length+Oe.length+Ue.length,se=$<ne?new Array(ne-$+1).join(le):"";switch(ie&&_e&&(Oe=I(se+Oe,se.length?ne-Ue.length:1/0),se=""),Ie){case"<":return Qe+Oe+Ue+se;case"=":return Qe+se+Oe+Ue;case"^":return se.slice(0,$=se.length>>1)+Qe+Oe+Ue+se.slice($)}return se+Qe+Oe+Ue}return Ye.toString=function(){return ge+""},Ye}function ye(ge,le){var Ie=K((ge=m(ge),ge.type="f",ge)),he=Math.max(-8,Math.min(8,Math.floor(n(le)/3)))*3,U=Math.pow(10,-he),_e=v[8+he/3];return function(ne){return Ie(U*ne)+_e}}return{format:K,formatPrefix:ye}}var A;C({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function C(V){return A=T(V),e.format=A.format,e.formatPrefix=A.formatPrefix,A}function D(V){return Math.max(0,-n(Math.abs(V)))}function R(V,I){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(n(I)/3)))*3-n(Math.abs(V)))}function B(V,I){return V=Math.abs(V),I=Math.abs(I)-V,Math.max(0,n(I)-n(V))+1}e.formatDefaultLocale=C,e.formatLocale=T,e.formatSpecifier=m,e.precisionFixed=D,e.precisionPrefix=R,e.precisionRound=B,Object.defineProperty(e,"__esModule",{value:!0})})});var Yd=rr((Zl,g1)=>{(function(e,t){typeof Zl=="object"&&typeof g1<"u"?t(Zl):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(Zl,function(e){"use strict";var t=new Date,n=new Date;function r(L,Y,pe,Pe){function Me(N){return L(N=arguments.length===0?new Date:new Date(+N)),N}return Me.floor=function(N){return L(N=new Date(+N)),N},Me.ceil=function(N){return L(N=new Date(N-1)),Y(N,1),L(N),N},Me.round=function(N){var G=Me(N),de=Me.ceil(N);return N-G<de-N?G:de},Me.offset=function(N,G){return Y(N=new Date(+N),G==null?1:Math.floor(G)),N},Me.range=function(N,G,de){var Le=[],W;if(N=Me.ceil(N),de=de==null?1:Math.floor(de),!(N<G)||!(de>0))return Le;do Le.push(W=new Date(+N)),Y(N,de),L(N);while(W<N&&N<G);return Le},Me.filter=function(N){return r(function(G){if(G>=G)for(;L(G),!N(G);)G.setTime(G-1)},function(G,de){if(G>=G)if(de<0)for(;++de<=0;)for(;Y(G,-1),!N(G););else for(;--de>=0;)for(;Y(G,1),!N(G););})},pe&&(Me.count=function(N,G){return t.setTime(+N),n.setTime(+G),L(t),L(n),Math.floor(pe(t,n))},Me.every=function(N){return N=Math.floor(N),!isFinite(N)||!(N>0)?null:N>1?Me.filter(Pe?function(G){return Pe(G)%N===0}:function(G){return Me.count(0,G)%N===0}):Me}),Me}var a=r(function(){},function(L,Y){L.setTime(+L+Y)},function(L,Y){return Y-L});a.every=function(L){return L=Math.floor(L),!isFinite(L)||!(L>0)?null:L>1?r(function(Y){Y.setTime(Math.floor(Y/L)*L)},function(Y,pe){Y.setTime(+Y+pe*L)},function(Y,pe){return(pe-Y)/L}):a};var i=a.range,o=1e3,l=6e4,s=36e5,f=864e5,m=6048e5,x=r(function(L){L.setTime(L-L.getMilliseconds())},function(L,Y){L.setTime(+L+Y*o)},function(L,Y){return(Y-L)/o},function(L){return L.getUTCSeconds()}),v=x.range,M=r(function(L){L.setTime(L-L.getMilliseconds()-L.getSeconds()*o)},function(L,Y){L.setTime(+L+Y*l)},function(L,Y){return(Y-L)/l},function(L){return L.getMinutes()}),T=M.range,A=r(function(L){L.setTime(L-L.getMilliseconds()-L.getSeconds()*o-L.getMinutes()*l)},function(L,Y){L.setTime(+L+Y*s)},function(L,Y){return(Y-L)/s},function(L){return L.getHours()}),C=A.range,D=r(function(L){L.setHours(0,0,0,0)},function(L,Y){L.setDate(L.getDate()+Y)},function(L,Y){return(Y-L-(Y.getTimezoneOffset()-L.getTimezoneOffset())*l)/f},function(L){return L.getDate()-1}),R=D.range;function B(L){return r(function(Y){Y.setDate(Y.getDate()-(Y.getDay()+7-L)%7),Y.setHours(0,0,0,0)},function(Y,pe){Y.setDate(Y.getDate()+pe*7)},function(Y,pe){return(pe-Y-(pe.getTimezoneOffset()-Y.getTimezoneOffset())*l)/m})}var V=B(0),I=B(1),O=B(2),j=B(3),K=B(4),ye=B(5),ge=B(6),le=V.range,Ie=I.range,he=O.range,U=j.range,_e=K.range,ne=ye.range,ie=ge.range,ve=r(function(L){L.setDate(1),L.setHours(0,0,0,0)},function(L,Y){L.setMonth(L.getMonth()+Y)},function(L,Y){return Y.getMonth()-L.getMonth()+(Y.getFullYear()-L.getFullYear())*12},function(L){return L.getMonth()}),oe=ve.range,be=r(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,Y){L.setFullYear(L.getFullYear()+Y)},function(L,Y){return Y.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});be.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:r(function(Y){Y.setFullYear(Math.floor(Y.getFullYear()/L)*L),Y.setMonth(0,1),Y.setHours(0,0,0,0)},function(Y,pe){Y.setFullYear(Y.getFullYear()+pe*L)})};var Ee=be.range,De=r(function(L){L.setUTCSeconds(0,0)},function(L,Y){L.setTime(+L+Y*l)},function(L,Y){return(Y-L)/l},function(L){return L.getUTCMinutes()}),Se=De.range,Ye=r(function(L){L.setUTCMinutes(0,0,0)},function(L,Y){L.setTime(+L+Y*s)},function(L,Y){return(Y-L)/s},function(L){return L.getUTCHours()}),Oe=Ye.range,Qe=r(function(L){L.setUTCHours(0,0,0,0)},function(L,Y){L.setUTCDate(L.getUTCDate()+Y)},function(L,Y){return(Y-L)/f},function(L){return L.getUTCDate()-1}),Ue=Qe.range;function Q(L){return r(function(Y){Y.setUTCDate(Y.getUTCDate()-(Y.getUTCDay()+7-L)%7),Y.setUTCHours(0,0,0,0)},function(Y,pe){Y.setUTCDate(Y.getUTCDate()+pe*7)},function(Y,pe){return(pe-Y)/m})}var Z=Q(0),ce=Q(1),te=Q(2),$=Q(3),se=Q(4),Ne=Q(5),We=Q(6),ot=Z.range,Be=ce.range,it=te.range,vt=$.range,nt=se.range,zt=Ne.range,Bt=We.range,Ut=r(function(L){L.setUTCDate(1),L.setUTCHours(0,0,0,0)},function(L,Y){L.setUTCMonth(L.getUTCMonth()+Y)},function(L,Y){return Y.getUTCMonth()-L.getUTCMonth()+(Y.getUTCFullYear()-L.getUTCFullYear())*12},function(L){return L.getUTCMonth()}),Tn=Ut.range,nn=r(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,Y){L.setUTCFullYear(L.getUTCFullYear()+Y)},function(L,Y){return Y.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});nn.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:r(function(Y){Y.setUTCFullYear(Math.floor(Y.getUTCFullYear()/L)*L),Y.setUTCMonth(0,1),Y.setUTCHours(0,0,0,0)},function(Y,pe){Y.setUTCFullYear(Y.getUTCFullYear()+pe*L)})};var Yn=nn.range;e.timeDay=D,e.timeDays=R,e.timeFriday=ye,e.timeFridays=ne,e.timeHour=A,e.timeHours=C,e.timeInterval=r,e.timeMillisecond=a,e.timeMilliseconds=i,e.timeMinute=M,e.timeMinutes=T,e.timeMonday=I,e.timeMondays=Ie,e.timeMonth=ve,e.timeMonths=oe,e.timeSaturday=ge,e.timeSaturdays=ie,e.timeSecond=x,e.timeSeconds=v,e.timeSunday=V,e.timeSundays=le,e.timeThursday=K,e.timeThursdays=_e,e.timeTuesday=O,e.timeTuesdays=he,e.timeWednesday=j,e.timeWednesdays=U,e.timeWeek=V,e.timeWeeks=le,e.timeYear=be,e.timeYears=Ee,e.utcDay=Qe,e.utcDays=Ue,e.utcFriday=Ne,e.utcFridays=zt,e.utcHour=Ye,e.utcHours=Oe,e.utcMillisecond=a,e.utcMilliseconds=i,e.utcMinute=De,e.utcMinutes=Se,e.utcMonday=ce,e.utcMondays=Be,e.utcMonth=Ut,e.utcMonths=Tn,e.utcSaturday=We,e.utcSaturdays=Bt,e.utcSecond=x,e.utcSeconds=v,e.utcSunday=Z,e.utcSundays=ot,e.utcThursday=se,e.utcThursdays=nt,e.utcTuesday=te,e.utcTuesdays=it,e.utcWednesday=$,e.utcWednesdays=vt,e.utcWeek=Z,e.utcWeeks=ot,e.utcYear=nn,e.utcYears=Yn,Object.defineProperty(e,"__esModule",{value:!0})})});var y1=rr((Kl,v1)=>{(function(e,t){typeof Kl=="object"&&typeof v1<"u"?t(Kl,Yd()):typeof define=="function"&&define.amd?define(["exports","d3-time"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(Kl,function(e,t){"use strict";function n(X){if(0<=X.y&&X.y<100){var me=new Date(-1,X.m,X.d,X.H,X.M,X.S,X.L);return me.setFullYear(X.y),me}return new Date(X.y,X.m,X.d,X.H,X.M,X.S,X.L)}function r(X){if(0<=X.y&&X.y<100){var me=new Date(Date.UTC(-1,X.m,X.d,X.H,X.M,X.S,X.L));return me.setUTCFullYear(X.y),me}return new Date(Date.UTC(X.y,X.m,X.d,X.H,X.M,X.S,X.L))}function a(X,me,Te){return{y:X,m:me,d:Te,H:0,M:0,S:0,L:0}}function i(X){var me=X.dateTime,Te=X.date,Ve=X.time,rn=X.periods,an=X.days,ca=X.shortDays,sa=X.months,An=X.shortMonths,Go=v(rn),Qi=M(rn),ut=v(an),rt=M(an),qt=v(ca),Ht=M(ca),kn=v(sa),Gt=M(sa),pn=v(An),Xo=M(An),nr={a:yf,A:Vl,b:bf,B:xf,c:null,d:ve,e:ve,f:Se,g:Ne,G:ot,H:oe,I:be,j:Ee,L:De,m:Ye,M:Oe,p:wf,q:_f,Q:xe,s:we,S:Qe,u:Ue,U:Q,V:ce,w:te,W:$,x:null,X:null,y:se,Y:We,Z:Be,"%":ue},Dt={a:Nt,A:ja,b:Qa,B:Yr,c:null,d:it,e:it,f:Ut,g:de,G:W,H:vt,I:nt,j:zt,L:Bt,m:Tn,M:nn,p:Nn,q:Sf,Q:xe,s:we,S:Yn,u:L,U:Y,V:Pe,w:Me,W:N,x:null,X:null,y:G,Y:Le,Z:J,"%":ue},pt={a:Qo,A:vr,b:Tl,B:Al,c:gf,d:K,e:K,f:U,g:V,G:B,H:ge,I:ge,j:ye,L:he,m:j,M:le,p:jo,q:O,Q:ne,s:ie,S:Ie,u:A,U:C,V:D,w:T,W:R,x:kl,X:vf,y:V,Y:B,Z:I,"%":_e};nr.x=gr(Te,nr),nr.X=gr(Ve,nr),nr.c=gr(me,nr),Dt.x=gr(Te,Dt),Dt.X=gr(Ve,Dt),Dt.c=gr(me,Dt);function gr(qe,ft){return function(yt){var ze=[],dt=-1,At=0,on=qe.length,_t,yr,gn;for(yt instanceof Date||(yt=new Date(+yt));++dt<on;)qe.charCodeAt(dt)===37&&(ze.push(qe.slice(At,dt)),(yr=o[_t=qe.charAt(++dt)])!=null?_t=qe.charAt(++dt):yr=_t==="e"?" ":"0",(gn=ft[_t])&&(_t=gn(yt,yr)),ze.push(_t),At=dt+1);return ze.push(qe.slice(At,dt)),ze.join("")}}function Cl(qe,ft){return function(yt){var ze=a(1900,void 0,1),dt=Zi(ze,qe,yt+="",0),At,on;if(dt!=yt.length)return null;if("Q"in ze)return new Date(ze.Q);if("s"in ze)return new Date(ze.s*1e3+("L"in ze?ze.L:0));if(ft&&!("Z"in ze)&&(ze.Z=0),"p"in ze&&(ze.H=ze.H%12+ze.p*12),ze.m===void 0&&(ze.m="q"in ze?ze.q:0),"V"in ze){if(ze.V<1||ze.V>53)return null;"w"in ze||(ze.w=1),"Z"in ze?(At=r(a(ze.y,0,1)),on=At.getUTCDay(),At=on>4||on===0?t.utcMonday.ceil(At):t.utcMonday(At),At=t.utcDay.offset(At,(ze.V-1)*7),ze.y=At.getUTCFullYear(),ze.m=At.getUTCMonth(),ze.d=At.getUTCDate()+(ze.w+6)%7):(At=n(a(ze.y,0,1)),on=At.getDay(),At=on>4||on===0?t.timeMonday.ceil(At):t.timeMonday(At),At=t.timeDay.offset(At,(ze.V-1)*7),ze.y=At.getFullYear(),ze.m=At.getMonth(),ze.d=At.getDate()+(ze.w+6)%7)}else("W"in ze||"U"in ze)&&("w"in ze||(ze.w="u"in ze?ze.u%7:"W"in ze?1:0),on="Z"in ze?r(a(ze.y,0,1)).getUTCDay():n(a(ze.y,0,1)).getDay(),ze.m=0,ze.d="W"in ze?(ze.w+6)%7+ze.W*7-(on+5)%7:ze.w+ze.U*7-(on+6)%7);return"Z"in ze?(ze.H+=ze.Z/100|0,ze.M+=ze.Z%100,r(ze)):n(ze)}}function Zi(qe,ft,yt,ze){for(var dt=0,At=ft.length,on=yt.length,_t,yr;dt<At;){if(ze>=on)return-1;if(_t=ft.charCodeAt(dt++),_t===37){if(_t=ft.charAt(dt++),yr=pt[_t in o?ft.charAt(dt++):_t],!yr||(ze=yr(qe,yt,ze))<0)return-1}else if(_t!=yt.charCodeAt(ze++))return-1}return ze}function jo(qe,ft,yt){var ze=Go.exec(ft.slice(yt));return ze?(qe.p=Qi[ze[0].toLowerCase()],yt+ze[0].length):-1}function Qo(qe,ft,yt){var ze=qt.exec(ft.slice(yt));return ze?(qe.w=Ht[ze[0].toLowerCase()],yt+ze[0].length):-1}function vr(qe,ft,yt){var ze=ut.exec(ft.slice(yt));return ze?(qe.w=rt[ze[0].toLowerCase()],yt+ze[0].length):-1}function Tl(qe,ft,yt){var ze=pn.exec(ft.slice(yt));return ze?(qe.m=Xo[ze[0].toLowerCase()],yt+ze[0].length):-1}function Al(qe,ft,yt){var ze=kn.exec(ft.slice(yt));return ze?(qe.m=Gt[ze[0].toLowerCase()],yt+ze[0].length):-1}function gf(qe,ft,yt){return Zi(qe,me,ft,yt)}function kl(qe,ft,yt){return Zi(qe,Te,ft,yt)}function vf(qe,ft,yt){return Zi(qe,Ve,ft,yt)}function yf(qe){return ca[qe.getDay()]}function Vl(qe){return an[qe.getDay()]}function bf(qe){return An[qe.getMonth()]}function xf(qe){return sa[qe.getMonth()]}function wf(qe){return rn[+(qe.getHours()>=12)]}function _f(qe){return 1+~~(qe.getMonth()/3)}function Nt(qe){return ca[qe.getUTCDay()]}function ja(qe){return an[qe.getUTCDay()]}function Qa(qe){return An[qe.getUTCMonth()]}function Yr(qe){return sa[qe.getUTCMonth()]}function Nn(qe){return rn[+(qe.getUTCHours()>=12)]}function Sf(qe){return 1+~~(qe.getUTCMonth()/3)}return{format:function(qe){var ft=gr(qe+="",nr);return ft.toString=function(){return qe},ft},parse:function(qe){var ft=Cl(qe+="",!1);return ft.toString=function(){return qe},ft},utcFormat:function(qe){var ft=gr(qe+="",Dt);return ft.toString=function(){return qe},ft},utcParse:function(qe){var ft=Cl(qe+="",!0);return ft.toString=function(){return qe},ft}}}var o={"-":"",_:" ",0:"0"},l=/^\s*\d+/,s=/^%/,f=/[\\^$*+?|[\]().{}]/g;function m(X,me,Te){var Ve=X<0?"-":"",rn=(Ve?-X:X)+"",an=rn.length;return Ve+(an<Te?new Array(Te-an+1).join(me)+rn:rn)}function x(X){return X.replace(f,"\\$&")}function v(X){return new RegExp("^(?:"+X.map(x).join("|")+")","i")}function M(X){for(var me={},Te=-1,Ve=X.length;++Te<Ve;)me[X[Te].toLowerCase()]=Te;return me}function T(X,me,Te){var Ve=l.exec(me.slice(Te,Te+1));return Ve?(X.w=+Ve[0],Te+Ve[0].length):-1}function A(X,me,Te){var Ve=l.exec(me.slice(Te,Te+1));return Ve?(X.u=+Ve[0],Te+Ve[0].length):-1}function C(X,me,Te){var Ve=l.exec(me.slice(Te,Te+2));return Ve?(X.U=+Ve[0],Te+Ve[0].length):-1}function D(X,me,Te){var Ve=l.exec(me.slice(Te,Te+2));return Ve?(X.V=+Ve[0],Te+Ve[0].length):-1}function R(X,me,Te){var Ve=l.exec(me.slice(Te,Te+2));return Ve?(X.W=+Ve[0],Te+Ve[0].length):-1}function B(X,me,Te){var Ve=l.exec(me.slice(Te,Te+4));return Ve?(X.y=+Ve[0],Te+Ve[0].length):-1}function V(X,me,Te){var Ve=l.exec(me.slice(Te,Te+2));return Ve?(X.y=+Ve[0]+(+Ve[0]>68?1900:2e3),Te+Ve[0].length):-1}function I(X,me,Te){var Ve=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(me.slice(Te,Te+6));return Ve?(X.Z=Ve[1]?0:-(Ve[2]+(Ve[3]||"00")),Te+Ve[0].length):-1}function O(X,me,Te){var Ve=l.exec(me.slice(Te,Te+1));return Ve?(X.q=Ve[0]*3-3,Te+Ve[0].length):-1}function j(X,me,Te){var Ve=l.exec(me.slice(Te,Te+2));return Ve?(X.m=Ve[0]-1,Te+Ve[0].length):-1}function K(X,me,Te){var Ve=l.exec(me.slice(Te,Te+2));return Ve?(X.d=+Ve[0],Te+Ve[0].length):-1}function ye(X,me,Te){var Ve=l.exec(me.slice(Te,Te+3));return Ve?(X.m=0,X.d=+Ve[0],Te+Ve[0].length):-1}function ge(X,me,Te){var Ve=l.exec(me.slice(Te,Te+2));return Ve?(X.H=+Ve[0],Te+Ve[0].length):-1}function le(X,me,Te){var Ve=l.exec(me.slice(Te,Te+2));return Ve?(X.M=+Ve[0],Te+Ve[0].length):-1}function Ie(X,me,Te){var Ve=l.exec(me.slice(Te,Te+2));return Ve?(X.S=+Ve[0],Te+Ve[0].length):-1}function he(X,me,Te){var Ve=l.exec(me.slice(Te,Te+3));return Ve?(X.L=+Ve[0],Te+Ve[0].length):-1}function U(X,me,Te){var Ve=l.exec(me.slice(Te,Te+6));return Ve?(X.L=Math.floor(Ve[0]/1e3),Te+Ve[0].length):-1}function _e(X,me,Te){var Ve=s.exec(me.slice(Te,Te+1));return Ve?Te+Ve[0].length:-1}function ne(X,me,Te){var Ve=l.exec(me.slice(Te));return Ve?(X.Q=+Ve[0],Te+Ve[0].length):-1}function ie(X,me,Te){var Ve=l.exec(me.slice(Te));return Ve?(X.s=+Ve[0],Te+Ve[0].length):-1}function ve(X,me){return m(X.getDate(),me,2)}function oe(X,me){return m(X.getHours(),me,2)}function be(X,me){return m(X.getHours()%12||12,me,2)}function Ee(X,me){return m(1+t.timeDay.count(t.timeYear(X),X),me,3)}function De(X,me){return m(X.getMilliseconds(),me,3)}function Se(X,me){return De(X,me)+"000"}function Ye(X,me){return m(X.getMonth()+1,me,2)}function Oe(X,me){return m(X.getMinutes(),me,2)}function Qe(X,me){return m(X.getSeconds(),me,2)}function Ue(X){var me=X.getDay();return me===0?7:me}function Q(X,me){return m(t.timeSunday.count(t.timeYear(X)-1,X),me,2)}function Z(X){var me=X.getDay();return me>=4||me===0?t.timeThursday(X):t.timeThursday.ceil(X)}function ce(X,me){return X=Z(X),m(t.timeThursday.count(t.timeYear(X),X)+(t.timeYear(X).getDay()===4),me,2)}function te(X){return X.getDay()}function $(X,me){return m(t.timeMonday.count(t.timeYear(X)-1,X),me,2)}function se(X,me){return m(X.getFullYear()%100,me,2)}function Ne(X,me){return X=Z(X),m(X.getFullYear()%100,me,2)}function We(X,me){return m(X.getFullYear()%1e4,me,4)}function ot(X,me){var Te=X.getDay();return X=Te>=4||Te===0?t.timeThursday(X):t.timeThursday.ceil(X),m(X.getFullYear()%1e4,me,4)}function Be(X){var me=X.getTimezoneOffset();return(me>0?"-":(me*=-1,"+"))+m(me/60|0,"0",2)+m(me%60,"0",2)}function it(X,me){return m(X.getUTCDate(),me,2)}function vt(X,me){return m(X.getUTCHours(),me,2)}function nt(X,me){return m(X.getUTCHours()%12||12,me,2)}function zt(X,me){return m(1+t.utcDay.count(t.utcYear(X),X),me,3)}function Bt(X,me){return m(X.getUTCMilliseconds(),me,3)}function Ut(X,me){return Bt(X,me)+"000"}function Tn(X,me){return m(X.getUTCMonth()+1,me,2)}function nn(X,me){return m(X.getUTCMinutes(),me,2)}function Yn(X,me){return m(X.getUTCSeconds(),me,2)}function L(X){var me=X.getUTCDay();return me===0?7:me}function Y(X,me){return m(t.utcSunday.count(t.utcYear(X)-1,X),me,2)}function pe(X){var me=X.getUTCDay();return me>=4||me===0?t.utcThursday(X):t.utcThursday.ceil(X)}function Pe(X,me){return X=pe(X),m(t.utcThursday.count(t.utcYear(X),X)+(t.utcYear(X).getUTCDay()===4),me,2)}function Me(X){return X.getUTCDay()}function N(X,me){return m(t.utcMonday.count(t.utcYear(X)-1,X),me,2)}function G(X,me){return m(X.getUTCFullYear()%100,me,2)}function de(X,me){return X=pe(X),m(X.getUTCFullYear()%100,me,2)}function Le(X,me){return m(X.getUTCFullYear()%1e4,me,4)}function W(X,me){var Te=X.getUTCDay();return X=Te>=4||Te===0?t.utcThursday(X):t.utcThursday.ceil(X),m(X.getUTCFullYear()%1e4,me,4)}function J(){return"+0000"}function ue(){return"%"}function xe(X){return+X}function we(X){return Math.floor(+X/1e3)}var Ae;Ce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ce(X){return Ae=i(X),e.timeFormat=Ae.format,e.timeParse=Ae.parse,e.utcFormat=Ae.utcFormat,e.utcParse=Ae.utcParse,Ae}var Fe="%Y-%m-%dT%H:%M:%S.%LZ";function $e(X){return X.toISOString()}var Je=Date.prototype.toISOString?$e:e.utcFormat(Fe);function wt(X){var me=new Date(X);return isNaN(me)?null:me}var Ge=+new Date("2000-01-01T00:00:00.000Z")?wt:e.utcParse(Fe);e.isoFormat=Je,e.isoParse=Ge,e.timeFormatDefaultLocale=Ce,e.timeFormatLocale=i,Object.defineProperty(e,"__esModule",{value:!0})})});var Wd=rr((Jl,b1)=>{(function(e,t){typeof Jl=="object"&&typeof b1<"u"?t(Jl,c1(),f1(),h1(),Hd(),Yd(),y1(),Bd()):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-collection","d3-interpolate","d3-format","d3-time","d3-time-format","d3-color"],t):t(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3)})(Jl,function(e,t,n,r,a,i,o,l){"use strict";var s=Array.prototype,f=s.map,m=s.slice,x={name:"implicit"};function v(W){var J=n.map(),ue=[],xe=x;W=W==null?[]:m.call(W);function we(Ae){var Ce=Ae+"",Fe=J.get(Ce);if(!Fe){if(xe!==x)return xe;J.set(Ce,Fe=ue.push(Ae))}return W[(Fe-1)%W.length]}return we.domain=function(Ae){if(!arguments.length)return ue.slice();ue=[],J=n.map();for(var Ce=-1,Fe=Ae.length,$e,Je;++Ce<Fe;)J.has(Je=($e=Ae[Ce])+"")||J.set(Je,ue.push($e));return we},we.range=function(Ae){return arguments.length?(W=m.call(Ae),we):W.slice()},we.unknown=function(Ae){return arguments.length?(xe=Ae,we):xe},we.copy=function(){return v().domain(ue).range(W).unknown(xe)},we}function M(){var W=v().unknown(void 0),J=W.domain,ue=W.range,xe=[0,1],we,Ae,Ce=!1,Fe=0,$e=0,Je=.5;delete W.unknown;function wt(){var Ge=J().length,X=xe[1]<xe[0],me=xe[X-0],Te=xe[1-X];we=(Te-me)/Math.max(1,Ge-Fe+$e*2),Ce&&(we=Math.floor(we)),me+=(Te-me-we*(Ge-Fe))*Je,Ae=we*(1-Fe),Ce&&(me=Math.round(me),Ae=Math.round(Ae));var Ve=t.range(Ge).map(function(rn){return me+we*rn});return ue(X?Ve.reverse():Ve)}return W.domain=function(Ge){return arguments.length?(J(Ge),wt()):J()},W.range=function(Ge){return arguments.length?(xe=[+Ge[0],+Ge[1]],wt()):xe.slice()},W.rangeRound=function(Ge){return xe=[+Ge[0],+Ge[1]],Ce=!0,wt()},W.bandwidth=function(){return Ae},W.step=function(){return we},W.round=function(Ge){return arguments.length?(Ce=!!Ge,wt()):Ce},W.padding=function(Ge){return arguments.length?(Fe=$e=Math.max(0,Math.min(1,Ge)),wt()):Fe},W.paddingInner=function(Ge){return arguments.length?(Fe=Math.max(0,Math.min(1,Ge)),wt()):Fe},W.paddingOuter=function(Ge){return arguments.length?($e=Math.max(0,Math.min(1,Ge)),wt()):$e},W.align=function(Ge){return arguments.length?(Je=Math.max(0,Math.min(1,Ge)),wt()):Je},W.copy=function(){return M().domain(J()).range(xe).round(Ce).paddingInner(Fe).paddingOuter($e).align(Je)},wt()}function T(W){var J=W.copy;return W.padding=W.paddingOuter,delete W.paddingInner,delete W.paddingOuter,W.copy=function(){return T(J())},W}function A(){return T(M().paddingInner(1))}function C(W){return function(){return W}}function D(W){return+W}var R=[0,1];function B(W,J){return(J-=W=+W)?function(ue){return(ue-W)/J}:C(J)}function V(W){return function(J,ue){var xe=W(J=+J,ue=+ue);return function(we){return we<=J?0:we>=ue?1:xe(we)}}}function I(W){return function(J,ue){var xe=W(J=+J,ue=+ue);return function(we){return we<=0?J:we>=1?ue:xe(we)}}}function O(W,J,ue,xe){var we=W[0],Ae=W[1],Ce=J[0],Fe=J[1];return Ae<we?(we=ue(Ae,we),Ce=xe(Fe,Ce)):(we=ue(we,Ae),Ce=xe(Ce,Fe)),function($e){return Ce(we($e))}}function j(W,J,ue,xe){var we=Math.min(W.length,J.length)-1,Ae=new Array(we),Ce=new Array(we),Fe=-1;for(W[we]<W[0]&&(W=W.slice().reverse(),J=J.slice().reverse());++Fe<we;)Ae[Fe]=ue(W[Fe],W[Fe+1]),Ce[Fe]=xe(J[Fe],J[Fe+1]);return function($e){var Je=t.bisect(W,$e,1,we)-1;return Ce[Je](Ae[Je]($e))}}function K(W,J){return J.domain(W.domain()).range(W.range()).interpolate(W.interpolate()).clamp(W.clamp())}function ye(W,J){var ue=R,xe=R,we=r.interpolate,Ae=!1,Ce,Fe,$e;function Je(){return Ce=Math.min(ue.length,xe.length)>2?j:O,Fe=$e=null,wt}function wt(Ge){return(Fe||(Fe=Ce(ue,xe,Ae?V(W):W,we)))(+Ge)}return wt.invert=function(Ge){return($e||($e=Ce(xe,ue,B,Ae?I(J):J)))(+Ge)},wt.domain=function(Ge){return arguments.length?(ue=f.call(Ge,D),Je()):ue.slice()},wt.range=function(Ge){return arguments.length?(xe=m.call(Ge),Je()):xe.slice()},wt.rangeRound=function(Ge){return xe=m.call(Ge),we=r.interpolateRound,Je()},wt.clamp=function(Ge){return arguments.length?(Ae=!!Ge,Je()):Ae},wt.interpolate=function(Ge){return arguments.length?(we=Ge,Je()):we},Je()}function ge(W,J,ue){var xe=W[0],we=W[W.length-1],Ae=t.tickStep(xe,we,J??10),Ce;switch(ue=a.formatSpecifier(ue??",f"),ue.type){case"s":{var Fe=Math.max(Math.abs(xe),Math.abs(we));return ue.precision==null&&!isNaN(Ce=a.precisionPrefix(Ae,Fe))&&(ue.precision=Ce),a.formatPrefix(ue,Fe)}case"":case"e":case"g":case"p":case"r":{ue.precision==null&&!isNaN(Ce=a.precisionRound(Ae,Math.max(Math.abs(xe),Math.abs(we))))&&(ue.precision=Ce-(ue.type==="e"));break}case"f":case"%":{ue.precision==null&&!isNaN(Ce=a.precisionFixed(Ae))&&(ue.precision=Ce-(ue.type==="%")*2);break}}return a.format(ue)}function le(W){var J=W.domain;return W.ticks=function(ue){var xe=J();return t.ticks(xe[0],xe[xe.length-1],ue??10)},W.tickFormat=function(ue,xe){return ge(J(),ue,xe)},W.nice=function(ue){var xe=J(),we=xe.length-1,Ae=ue??10,Ce=xe[0],Fe=xe[we],$e=t.tickStep(Ce,Fe,Ae);return $e&&($e=t.tickStep(Math.floor(Ce/$e)*$e,Math.ceil(Fe/$e)*$e,Ae),xe[0]=Math.floor(Ce/$e)*$e,xe[we]=Math.ceil(Fe/$e)*$e,J(xe)),W},W}function Ie(){var W=ye(B,r.interpolateNumber);return W.copy=function(){return K(W,Ie())},le(W)}function he(){var W=[0,1];function J(ue){return+ue}return J.invert=J,J.domain=J.range=function(ue){return arguments.length?(W=f.call(ue,D),J):W.slice()},J.copy=function(){return he().domain(W)},le(J)}function U(W,J){W=W.slice();var ue=0,xe=W.length-1,we=W[ue],Ae=W[xe],Ce;return Ae<we&&(Ce=ue,ue=xe,xe=Ce,Ce=we,we=Ae,Ae=Ce),W[ue]=J.floor(we),W[xe]=J.ceil(Ae),W}function _e(W,J){return(J=Math.log(J/W))?function(ue){return Math.log(ue/W)/J}:C(J)}function ne(W,J){return W<0?function(ue){return-Math.pow(-J,ue)*Math.pow(-W,1-ue)}:function(ue){return Math.pow(J,ue)*Math.pow(W,1-ue)}}function ie(W){return isFinite(W)?+("1e"+W):W<0?0:W}function ve(W){return W===10?ie:W===Math.E?Math.exp:function(J){return Math.pow(W,J)}}function oe(W){return W===Math.E?Math.log:W===10&&Math.log10||W===2&&Math.log2||(W=Math.log(W),function(J){return Math.log(J)/W})}function be(W){return function(J){return-W(-J)}}function Ee(){var W=ye(_e,ne).domain([1,10]),J=W.domain,ue=10,xe=oe(10),we=ve(10);function Ae(){return xe=oe(ue),we=ve(ue),J()[0]<0&&(xe=be(xe),we=be(we)),W}return W.base=function(Ce){return arguments.length?(ue=+Ce,Ae()):ue},W.domain=function(Ce){return arguments.length?(J(Ce),Ae()):J()},W.ticks=function(Ce){var Fe=J(),$e=Fe[0],Je=Fe[Fe.length-1],wt;(wt=Je<$e)&&(Ge=$e,$e=Je,Je=Ge);var Ge=xe($e),X=xe(Je),me,Te,Ve,rn=Ce==null?10:+Ce,an=[];if(!(ue%1)&&X-Ge<rn){if(Ge=Math.round(Ge)-1,X=Math.round(X)+1,$e>0){for(;Ge<X;++Ge)for(Te=1,me=we(Ge);Te<ue;++Te)if(Ve=me*Te,!(Ve<$e)){if(Ve>Je)break;an.push(Ve)}}else for(;Ge<X;++Ge)for(Te=ue-1,me=we(Ge);Te>=1;--Te)if(Ve=me*Te,!(Ve<$e)){if(Ve>Je)break;an.push(Ve)}}else an=t.ticks(Ge,X,Math.min(X-Ge,rn)).map(we);return wt?an.reverse():an},W.tickFormat=function(Ce,Fe){if(Fe==null&&(Fe=ue===10?".0e":","),typeof Fe!="function"&&(Fe=a.format(Fe)),Ce===1/0)return Fe;Ce==null&&(Ce=10);var $e=Math.max(1,ue*Ce/W.ticks().length);return function(Je){var wt=Je/we(Math.round(xe(Je)));return wt*ue<ue-.5&&(wt*=ue),wt<=$e?Fe(Je):""}},W.nice=function(){return J(U(J(),{floor:function(Ce){return we(Math.floor(xe(Ce)))},ceil:function(Ce){return we(Math.ceil(xe(Ce)))}}))},W.copy=function(){return K(W,Ee().base(ue))},W}function De(W,J){return W<0?-Math.pow(-W,J):Math.pow(W,J)}function Se(){var W=1,J=ye(xe,we),ue=J.domain;function xe(Ae,Ce){return(Ce=De(Ce,W)-(Ae=De(Ae,W)))?function(Fe){return(De(Fe,W)-Ae)/Ce}:C(Ce)}function we(Ae,Ce){return Ce=De(Ce,W)-(Ae=De(Ae,W)),function(Fe){return De(Ae+Ce*Fe,1/W)}}return J.exponent=function(Ae){return arguments.length?(W=+Ae,ue(ue())):W},J.copy=function(){return K(J,Se().exponent(W))},le(J)}function Ye(){return Se().exponent(.5)}function Oe(){var W=[],J=[],ue=[];function xe(){var Ae=0,Ce=Math.max(1,J.length);for(ue=new Array(Ce-1);++Ae<Ce;)ue[Ae-1]=t.quantile(W,Ae/Ce);return we}function we(Ae){if(!isNaN(Ae=+Ae))return J[t.bisect(ue,Ae)]}return we.invertExtent=function(Ae){var Ce=J.indexOf(Ae);return Ce<0?[NaN,NaN]:[Ce>0?ue[Ce-1]:W[0],Ce<ue.length?ue[Ce]:W[W.length-1]]},we.domain=function(Ae){if(!arguments.length)return W.slice();W=[];for(var Ce=0,Fe=Ae.length,$e;Ce<Fe;++Ce)$e=Ae[Ce],$e!=null&&!isNaN($e=+$e)&&W.push($e);return W.sort(t.ascending),xe()},we.range=function(Ae){return arguments.length?(J=m.call(Ae),xe()):J.slice()},we.quantiles=function(){return ue.slice()},we.copy=function(){return Oe().domain(W).range(J)},we}function Qe(){var W=0,J=1,ue=1,xe=[.5],we=[0,1];function Ae(Fe){if(Fe<=Fe)return we[t.bisect(xe,Fe,0,ue)]}function Ce(){var Fe=-1;for(xe=new Array(ue);++Fe<ue;)xe[Fe]=((Fe+1)*J-(Fe-ue)*W)/(ue+1);return Ae}return Ae.domain=function(Fe){return arguments.length?(W=+Fe[0],J=+Fe[1],Ce()):[W,J]},Ae.range=function(Fe){return arguments.length?(ue=(we=m.call(Fe)).length-1,Ce()):we.slice()},Ae.invertExtent=function(Fe){var $e=we.indexOf(Fe);return $e<0?[NaN,NaN]:$e<1?[W,xe[0]]:$e>=ue?[xe[ue-1],J]:[xe[$e-1],xe[$e]]},Ae.copy=function(){return Qe().domain([W,J]).range(we)},le(Ae)}function Ue(){var W=[.5],J=[0,1],ue=1;function xe(we){if(we<=we)return J[t.bisect(W,we,0,ue)]}return xe.domain=function(we){return arguments.length?(W=m.call(we),ue=Math.min(W.length,J.length-1),xe):W.slice()},xe.range=function(we){return arguments.length?(J=m.call(we),ue=Math.min(W.length,J.length-1),xe):J.slice()},xe.invertExtent=function(we){var Ae=J.indexOf(we);return[W[Ae-1],W[Ae]]},xe.copy=function(){return Ue().domain(W).range(J)},xe}var Q=1e3,Z=Q*60,ce=Z*60,te=ce*24,$=te*7,se=te*30,Ne=te*365;function We(W){return new Date(W)}function ot(W){return W instanceof Date?+W:+new Date(+W)}function Be(W,J,ue,xe,we,Ae,Ce,Fe,$e){var Je=ye(B,r.interpolateNumber),wt=Je.invert,Ge=Je.domain,X=$e(".%L"),me=$e(":%S"),Te=$e("%I:%M"),Ve=$e("%I %p"),rn=$e("%a %d"),an=$e("%b %d"),ca=$e("%B"),sa=$e("%Y"),An=[[Ce,1,Q],[Ce,5,5*Q],[Ce,15,15*Q],[Ce,30,30*Q],[Ae,1,Z],[Ae,5,5*Z],[Ae,15,15*Z],[Ae,30,30*Z],[we,1,ce],[we,3,3*ce],[we,6,6*ce],[we,12,12*ce],[xe,1,te],[xe,2,2*te],[ue,1,$],[J,1,se],[J,3,3*se],[W,1,Ne]];function Go(ut){return(Ce(ut)<ut?X:Ae(ut)<ut?me:we(ut)<ut?Te:xe(ut)<ut?Ve:J(ut)<ut?ue(ut)<ut?rn:an:W(ut)<ut?ca:sa)(ut)}function Qi(ut,rt,qt,Ht){if(ut==null&&(ut=10),typeof ut=="number"){var kn=Math.abs(qt-rt)/ut,Gt=t.bisector(function(pn){return pn[2]}).right(An,kn);Gt===An.length?(Ht=t.tickStep(rt/Ne,qt/Ne,ut),ut=W):Gt?(Gt=An[kn/An[Gt-1][2]<An[Gt][2]/kn?Gt-1:Gt],Ht=Gt[1],ut=Gt[0]):(Ht=t.tickStep(rt,qt,ut),ut=Fe)}return Ht==null?ut:ut.every(Ht)}return Je.invert=function(ut){return new Date(wt(ut))},Je.domain=function(ut){return arguments.length?Ge(f.call(ut,ot)):Ge().map(We)},Je.ticks=function(ut,rt){var qt=Ge(),Ht=qt[0],kn=qt[qt.length-1],Gt=kn<Ht,pn;return Gt&&(pn=Ht,Ht=kn,kn=pn),pn=Qi(ut,Ht,kn,rt),pn=pn?pn.range(Ht,kn+1):[],Gt?pn.reverse():pn},Je.tickFormat=function(ut,rt){return rt==null?Go:$e(rt)},Je.nice=function(ut,rt){var qt=Ge();return(ut=Qi(ut,qt[0],qt[qt.length-1],rt))?Ge(U(qt,ut)):Je},Je.copy=function(){return K(Je,Be(W,J,ue,xe,we,Ae,Ce,Fe,$e))},Je}function it(){return Be(i.timeYear,i.timeMonth,i.timeWeek,i.timeDay,i.timeHour,i.timeMinute,i.timeSecond,i.timeMillisecond,o.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}function vt(){return Be(i.utcYear,i.utcMonth,i.utcWeek,i.utcDay,i.utcHour,i.utcMinute,i.utcSecond,i.utcMillisecond,o.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}function nt(W){return W.match(/.{6}/g).map(function(J){return"#"+J})}var zt=nt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Bt=nt("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Ut=nt("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Tn=nt("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),nn=r.interpolateCubehelixLong(l.cubehelix(300,.5,0),l.cubehelix(-240,.5,1)),Yn=r.interpolateCubehelixLong(l.cubehelix(-100,.75,.35),l.cubehelix(80,1.5,.8)),L=r.interpolateCubehelixLong(l.cubehelix(260,.75,.35),l.cubehelix(80,1.5,.8)),Y=l.cubehelix();function pe(W){(W<0||W>1)&&(W-=Math.floor(W));var J=Math.abs(W-.5);return Y.h=360*W-100,Y.s=1.5-1.5*J,Y.l=.8-.9*J,Y+""}function Pe(W){var J=W.length;return function(ue){return W[Math.max(0,Math.min(J-1,Math.floor(ue*J)))]}}var Me=Pe(nt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),N=Pe(nt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),G=Pe(nt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),de=Pe(nt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Le(W){var J=0,ue=1,xe=!1;function we(Ae){var Ce=(Ae-J)/(ue-J);return W(xe?Math.max(0,Math.min(1,Ce)):Ce)}return we.domain=function(Ae){return arguments.length?(J=+Ae[0],ue=+Ae[1],we):[J,ue]},we.clamp=function(Ae){return arguments.length?(xe=!!Ae,we):xe},we.interpolator=function(Ae){return arguments.length?(W=Ae,we):W},we.copy=function(){return Le(W).domain([J,ue]).clamp(xe)},le(we)}e.scaleBand=M,e.scalePoint=A,e.scaleIdentity=he,e.scaleLinear=Ie,e.scaleLog=Ee,e.scaleOrdinal=v,e.scaleImplicit=x,e.scalePow=Se,e.scaleSqrt=Ye,e.scaleQuantile=Oe,e.scaleQuantize=Qe,e.scaleThreshold=Ue,e.scaleTime=it,e.scaleUtc=vt,e.schemeCategory10=zt,e.schemeCategory20b=Bt,e.schemeCategory20c=Ut,e.schemeCategory20=Tn,e.interpolateCubehelixDefault=nn,e.interpolateRainbow=pe,e.interpolateWarm=Yn,e.interpolateCool=L,e.interpolateViridis=Me,e.interpolateMagma=N,e.interpolateInferno=G,e.interpolatePlasma=de,e.scaleSequential=Le,Object.defineProperty(e,"__esModule",{value:!0})})});function Vt(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{let o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{let s=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return s;let f;do s.push(f=new Date(+i)),t(i,l),e(i);while(f<i&&i<o);return s},a.filter=i=>Vt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>($d.setTime(+i),Ud.setTime(+o),e($d),e(Ud),Math.floor(n($d,Ud))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}var $d,Ud,Cr=P(()=>{$d=new Date,Ud=new Date});var ba,qd,Gd=P(()=>{Cr();ba=Vt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ba.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Vt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ba);qd=ba.range});var ur,Xd,jd=P(()=>{Cr();ur=Vt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),Xd=ur.range});var li,x1,yu,w1,Qd=P(()=>{Cr();li=Vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),x1=li.range,yu=Vt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),w1=yu.range});var si,_1,bu,S1,Zd=P(()=>{Cr();si=Vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),_1=si.range,bu=Vt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),S1=bu.range});var Ar,M1,oo,C1,wu,T1,Kd=P(()=>{Cr();Ar=Vt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),M1=Ar.range,oo=Vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),C1=oo.range,wu=Vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),T1=wu.range});function fi(e){return Vt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}function mi(e){return Vt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/6048e5)}var kr,di,Jd,em,Xr,tm,nm,rm,k1,V1,D1,N1,E1,P1,xa,hi,am,im,jr,om,um,lm,L1,O1,I1,z1,R1,F1,cm=P(()=>{Cr();kr=fi(0),di=fi(1),Jd=fi(2),em=fi(3),Xr=fi(4),tm=fi(5),nm=fi(6),rm=kr.range,k1=di.range,V1=Jd.range,D1=em.range,N1=Xr.range,E1=tm.range,P1=nm.range;xa=mi(0),hi=mi(1),am=mi(2),im=mi(3),jr=mi(4),om=mi(5),um=mi(6),lm=xa.range,L1=hi.range,O1=am.range,I1=im.range,z1=jr.range,R1=om.range,F1=um.range});var pi,B1,_u,H1,sm=P(()=>{Cr();pi=Vt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),B1=pi.range,_u=Vt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),H1=_u.range});var zn,Y1,Un,W1,fm=P(()=>{Cr();zn=Vt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());zn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Y1=zn.range,Un=Vt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Un.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});W1=Un.range});function U1(e,t,n,r,a,i){let o=[[ur,1,1e3],[ur,5,5*1e3],[ur,15,15*1e3],[ur,30,30*1e3],[i,1,6e4],[i,5,5*6e4],[i,15,15*6e4],[i,30,30*6e4],[a,1,36e5],[a,3,3*36e5],[a,6,6*36e5],[a,12,12*36e5],[r,1,864e5],[r,2,2*864e5],[n,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function l(f,m,x){let v=m<f;v&&([f,m]=[m,f]);let M=x&&typeof x.range=="function"?x:s(f,m,x),T=M?M.range(f,+m+1):[];return v?T.reverse():T}function s(f,m,x){let v=Math.abs(m-f)/x,M=ga(([,,C])=>C).right(o,v);if(M===o.length)return e.every(ni(f/31536e6,m/31536e6,x));if(M===0)return ba.every(Math.max(ni(f,m,x),1));let[T,A]=o[v/o[M-1][2]<o[M][2]/v?M-1:M];return T.every(A)}return[l,s]}var q1,G1,ec,tc,X1=P(()=>{Mr();Gd();jd();Qd();Zd();Kd();cm();sm();fm();[q1,G1]=U1(Un,_u,xa,wu,bu,yu),[ec,tc]=U1(zn,pi,kr,Ar,si,li)});var j1={};On(j1,{timeDay:()=>Ar,timeDays:()=>M1,timeFriday:()=>tm,timeFridays:()=>E1,timeHour:()=>si,timeHours:()=>_1,timeInterval:()=>Vt,timeMillisecond:()=>ba,timeMilliseconds:()=>qd,timeMinute:()=>li,timeMinutes:()=>x1,timeMonday:()=>di,timeMondays:()=>k1,timeMonth:()=>pi,timeMonths:()=>B1,timeSaturday:()=>nm,timeSaturdays:()=>P1,timeSecond:()=>ur,timeSeconds:()=>Xd,timeSunday:()=>kr,timeSundays:()=>rm,timeThursday:()=>Xr,timeThursdays:()=>N1,timeTickInterval:()=>tc,timeTicks:()=>ec,timeTuesday:()=>Jd,timeTuesdays:()=>V1,timeWednesday:()=>em,timeWednesdays:()=>D1,timeWeek:()=>kr,timeWeeks:()=>rm,timeYear:()=>zn,timeYears:()=>Y1,unixDay:()=>wu,unixDays:()=>T1,utcDay:()=>oo,utcDays:()=>C1,utcFriday:()=>om,utcFridays:()=>R1,utcHour:()=>bu,utcHours:()=>S1,utcMillisecond:()=>ba,utcMilliseconds:()=>qd,utcMinute:()=>yu,utcMinutes:()=>w1,utcMonday:()=>hi,utcMondays:()=>L1,utcMonth:()=>_u,utcMonths:()=>H1,utcSaturday:()=>um,utcSaturdays:()=>F1,utcSecond:()=>ur,utcSeconds:()=>Xd,utcSunday:()=>xa,utcSundays:()=>lm,utcThursday:()=>jr,utcThursdays:()=>z1,utcTickInterval:()=>G1,utcTicks:()=>q1,utcTuesday:()=>am,utcTuesdays:()=>O1,utcWednesday:()=>im,utcWednesdays:()=>I1,utcWeek:()=>xa,utcWeeks:()=>lm,utcYear:()=>Un,utcYears:()=>W1});var Su=P(()=>{Cr();Gd();jd();Qd();Zd();Kd();cm();sm();fm();X1()});var xt,jt=P(()=>{xt=Math.random});var Q1,Z1=P(()=>{jt();Q1=function e(t){function n(r,a){return r=r==null?0:+r,a=a==null?1:+a,arguments.length===1?(a=r,r=0):a-=r,function(){return t()*a+r}}return n.source=e,n}(xt)});var K1,J1=P(()=>{jt();K1=function e(t){function n(r,a){return arguments.length<2&&(a=r,r=0),r=Math.floor(r),a=Math.floor(a)-r,function(){return Math.floor(t()*a+r)}}return n.source=e,n}(xt)});var uo,nc=P(()=>{jt();uo=function e(t){function n(r,a){var i,o;return r=r==null?0:+r,a=a==null?1:+a,function(){var l;if(i!=null)l=i,i=null;else do i=t()*2-1,l=t()*2-1,o=i*i+l*l;while(!o||o>1);return r+a*l*Math.sqrt(-2*Math.log(o)/o)}}return n.source=e,n}(xt)});var ey,ty=P(()=>{jt();nc();ey=function e(t){var n=uo.source(t);function r(){var a=n.apply(this,arguments);return function(){return Math.exp(a())}}return r.source=e,r}(xt)});var rc,dm=P(()=>{jt();rc=function e(t){function n(r){return(r=+r)<=0?()=>0:function(){for(var a=0,i=r;i>1;--i)a+=t();return a+i*t()}}return n.source=e,n}(xt)});var ny,ry=P(()=>{jt();dm();ny=function e(t){var n=rc.source(t);function r(a){if((a=+a)==0)return t;var i=n(a);return function(){return i()/a}}return r.source=e,r}(xt)});var ay,iy=P(()=>{jt();ay=function e(t){function n(r){return function(){return-Math.log1p(-t())/r}}return n.source=e,n}(xt)});var oy,uy=P(()=>{jt();oy=function e(t){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-t(),r)}}return n.source=e,n}(xt)});var ly,cy=P(()=>{jt();ly=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+r)}}return n.source=e,n}(xt)});var ac,mm=P(()=>{jt();ac=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-t())/r)})}return n.source=e,n}(xt)});var lo,ic=P(()=>{jt();nc();lo=function e(t){var n=uo.source(t)();function r(a,i){if((a=+a)<0)throw new RangeError("invalid k");if(a===0)return()=>0;if(i=i==null?1:+i,a===1)return()=>-Math.log1p(-t())*i;var o=(a<1?a+1:a)-1/3,l=1/(3*Math.sqrt(o)),s=a<1?()=>Math.pow(t(),1/a):()=>1;return function(){do{do var f=n(),m=1+l*f;while(m<=0);m*=m*m;var x=1-t()}while(x>=1-.0331*f*f*f*f&&Math.log(x)>=.5*f*f+o*(1-m+Math.log(m)));return o*m*s()*i}}return r.source=e,r}(xt)});var oc,hm=P(()=>{jt();ic();oc=function e(t){var n=lo.source(t);function r(a,i){var o=n(a),l=n(i);return function(){var s=o();return s===0?0:s/(s+l())}}return r.source=e,r}(xt)});var uc,pm=P(()=>{jt();hm();mm();uc=function e(t){var n=ac.source(t),r=oc.source(t);function a(i,o){return i=+i,(o=+o)>=1?()=>i:o<=0?()=>0:function(){for(var l=0,s=i,f=o;s*f>16&&s*(1-f)>16;){var m=Math.floor((s+1)*f),x=r(m,s-m+1)();x<=f?(l+=m,s-=m,f=(f-x)/(1-x)):(s=m-1,f/=x)}for(var v=f<.5,M=v?f:1-f,T=n(M),A=T(),C=0;A<=s;++C)A+=T();return l+(v?C:s-C)}}return a.source=e,a}(xt)});var sy,fy=P(()=>{jt();sy=function e(t){function n(r,a,i){var o;return(r=+r)==0?o=l=>-Math.log(l):(r=1/r,o=l=>Math.pow(l,r)),a=a==null?0:+a,i=i==null?1:+i,function(){return a+i*o(-Math.log1p(-t()))}}return n.source=e,n}(xt)});var dy,my=P(()=>{jt();dy=function e(t){function n(r,a){return r=r==null?0:+r,a=a==null?1:+a,function(){return r+a*Math.tan(Math.PI*t())}}return n.source=e,n}(xt)});var hy,py=P(()=>{jt();hy=function e(t){function n(r,a){return r=r==null?0:+r,a=a==null?1:+a,function(){var i=t();return r+a*Math.log(i/(1-i))}}return n.source=e,n}(xt)});var gy,vy=P(()=>{jt();pm();ic();gy=function e(t){var n=lo.source(t),r=uc.source(t);function a(i){return function(){for(var o=0,l=i;l>16;){var s=Math.floor(.875*l),f=n(s)();if(f>l)return o+r(s-1,l/f)();o+=s,l-=f}for(var m=-Math.log1p(-t()),x=0;m<=l;++x)m-=Math.log1p(-t());return o+x}}return a.source=e,a}(xt)});function gm(e=Math.random()){let t=(0<=e&&e<1?e/yy:Math.abs(e))|0;return()=>(t=1664525*t+1013904223|0,yy*(t>>>0))}var yy,by=P(()=>{yy=23283064365386963e-26});var xy={};On(xy,{randomBates:()=>ny,randomBernoulli:()=>ly,randomBeta:()=>oc,randomBinomial:()=>uc,randomCauchy:()=>dy,randomExponential:()=>ay,randomGamma:()=>lo,randomGeometric:()=>ac,randomInt:()=>K1,randomIrwinHall:()=>rc,randomLcg:()=>gm,randomLogNormal:()=>ey,randomLogistic:()=>hy,randomNormal:()=>uo,randomPareto:()=>oy,randomPoisson:()=>gy,randomUniform:()=>Q1,randomWeibull:()=>sy});var vm=P(()=>{Z1();J1();nc();ty();ry();dm();iy();uy();cy();mm();pm();ic();hm();fy();my();py();vy();by()});function Z9(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function wy(e,t){return fetch(e,t).then(Z9)}var _y=P(()=>{});function K9(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function Sy(e,t){return fetch(e,t).then(K9)}var My=P(()=>{});function Ay(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function J9(e,t){var n=Ay(e);return function(r,a){return t(n(r),a,e)}}function Ty(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var a in r)a in t||n.push(t[a]=a)}),n}function Rn(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function eM(e){return e<0?"-"+Rn(-e,6):e>9999?"+"+Rn(e,6):Rn(e,4)}function tM(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":eM(e.getUTCFullYear(),4)+"-"+Rn(e.getUTCMonth()+1,2)+"-"+Rn(e.getUTCDate(),2)+(a?"T"+Rn(t,2)+":"+Rn(n,2)+":"+Rn(r,2)+"."+Rn(a,3)+"Z":r?"T"+Rn(t,2)+":"+Rn(n,2)+":"+Rn(r,2)+"Z":n||t?"T"+Rn(t,2)+":"+Rn(n,2)+"Z":"")}function gi(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(x,v){var M,T,A=a(x,function(C,D){if(M)return M(C,D-1);T=C,M=v?J9(C,v):Ay(C)});return A.columns=T||[],A}function a(x,v){var M=[],T=x.length,A=0,C=0,D,R=T<=0,B=!1;x.charCodeAt(T-1)===Mu&&--T,x.charCodeAt(T-1)===xm&&--T;function V(){if(R)return ym;if(B)return B=!1,Cy;var O,j=A,K;if(x.charCodeAt(j)===bm){for(;A++<T&&x.charCodeAt(A)!==bm||x.charCodeAt(++A)===bm;);return(O=A)>=T?R=!0:(K=x.charCodeAt(A++))===Mu?B=!0:K===xm&&(B=!0,x.charCodeAt(A)===Mu&&++A),x.slice(j+1,O-1).replace(/""/g,'"')}for(;A<T;){if((K=x.charCodeAt(O=A++))===Mu)B=!0;else if(K===xm)B=!0,x.charCodeAt(A)===Mu&&++A;else if(K!==n)continue;return x.slice(j,O)}return R=!0,x.slice(j,T)}for(;(D=V())!==ym;){for(var I=[];D!==Cy&&D!==ym;)I.push(D),D=V();v&&(I=v(I,C++))==null||M.push(I)}return M}function i(x,v){return x.map(function(M){return v.map(function(T){return m(M[T])}).join(e)})}function o(x,v){return v==null&&(v=Ty(x)),[v.map(m).join(e)].concat(i(x,v)).join(`
`)}function l(x,v){return v==null&&(v=Ty(x)),i(x,v).join(`
`)}function s(x){return x.map(f).join(`
`)}function f(x){return x.map(m).join(e)}function m(x){return x==null?"":x instanceof Date?tM(x):t.test(x+="")?'"'+x.replace(/"/g,'""')+'"':x}return{parse:r,parseRows:a,format:o,formatBody:l,formatRows:s,formatRow:f,formatValue:m}}var Cy,ym,bm,Mu,xm,lc=P(()=>{Cy={},ym={},bm=34,Mu=10,xm=13});var vi,wm,nM,rM,aM,iM,oM,uM,ky=P(()=>{lc();vi=gi(","),wm=vi.parse,nM=vi.parseRows,rM=vi.format,aM=vi.formatBody,iM=vi.formatRows,oM=vi.formatRow,uM=vi.formatValue});var yi,_m,lM,cM,sM,fM,dM,mM,Vy=P(()=>{lc();yi=gi("	"),_m=yi.parse,lM=yi.parseRows,cM=yi.format,sM=yi.formatBody,fM=yi.formatRows,dM=yi.formatRow,mM=yi.formatValue});var Sm=P(()=>{lc();ky();Vy()});function hM(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function bi(e,t){return fetch(e,t).then(hM)}var cc=P(()=>{});function Dy(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),bi(t,n).then(function(a){return e(a,r)})}}function Mm(e,t,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var a=gi(e);return bi(t,n).then(function(i){return a.parse(i,r)})}var Ny,Ey,Py=P(()=>{Sm();cc();Ny=Dy(wm),Ey=Dy(_m)});function Ly(e,t){return new Promise(function(n,r){var a=new Image;for(var i in t)a[i]=t[i];a.onerror=r,a.onload=function(){n(a)},a.src=e})}var Oy=P(()=>{});function pM(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function Iy(e,t){return fetch(e,t).then(pM)}var zy=P(()=>{});function Cm(e){return(t,n)=>bi(t,n).then(r=>new DOMParser().parseFromString(r,e))}var Ry,Fy,By,Hy=P(()=>{cc();Ry=Cm("application/xml"),Fy=Cm("text/html"),By=Cm("image/svg+xml")});var Yy={};On(Yy,{blob:()=>wy,buffer:()=>Sy,csv:()=>Ny,dsv:()=>Mm,html:()=>Fy,image:()=>Ly,json:()=>Iy,svg:()=>By,text:()=>bi,tsv:()=>Ey,xml:()=>Ry});var Tm=P(()=>{_y();My();Py();Oy();zy();cc();Hy()});function Wy(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function vM(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Wy;let n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}function Vm(){return new Qr}function $y(e=3){return new Qr(+e)}var Am,km,xi,gM,Qr,Uy=P(()=>{Am=Math.PI,km=2*Am,xi=1e-6,gM=km-xi;Qr=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Wy:vM(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,s=r-t,f=a-n,m=o-t,x=l-n,v=m*m+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>xi)if(!(Math.abs(x*s-f*m)>xi)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let M=r-o,T=a-l,A=s*s+f*f,C=M*M+T*T,D=Math.sqrt(A),R=Math.sqrt(v),B=i*Math.tan((Am-Math.acos((A+v-C)/(2*D*R)))/2),V=B/R,I=B/D;Math.abs(V-1)>xi&&this._append`L${t+V*m},${n+V*x}`,this._append`A${i},${i},0,0,${+(x*M>m*T)},${this._x1=t+I*s},${this._y1=n+I*f}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),s=r*Math.sin(a),f=t+l,m=n+s,x=1^o,v=o?a-i:i-a;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>xi||Math.abs(this._y1-m)>xi)&&this._append`L${f},${m}`,r&&(v<0&&(v=v%km+km),v>gM?this._append`A${r},${r},0,1,${x},${t-l},${n-s}A${r},${r},0,1,${x},${this._x1=f},${this._y1=m}`:v>xi&&this._append`A${r},${r},0,${+(v>=Am)},${x},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}};Vm.prototype=Qr.prototype});var qy={};On(qy,{Path:()=>Qr,path:()=>Vm,pathRound:()=>$y});var sc=P(()=>{Uy()});var fc,Cu,dc=P(()=>{fc="http://www.w3.org/1999/xhtml",Cu={svg:"http://www.w3.org/2000/svg",xhtml:fc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function Vr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Cu.hasOwnProperty(t)?{space:Cu[t],local:e}:e}var mc=P(()=>{dc()});function yM(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===fc&&t.documentElement.namespaceURI===fc?t.createElement(e):t.createElementNS(n,e)}}function bM(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function wa(e){var t=Vr(e);return(t.local?bM:yM)(t)}var Tu=P(()=>{mc();dc()});function xM(){}function _a(e){return e==null?xM:function(){return this.querySelector(e)}}var hc=P(()=>{});function Gy(e){typeof e!="function"&&(e=_a(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=new Array(o),s,f,m=0;m<o;++m)(s=i[m])&&(f=e.call(s,s.__data__,m,i))&&("__data__"in s&&(f.__data__=s.__data__),l[m]=f);return new Ot(r,this._parents)}var Xy=P(()=>{qn();hc()});function Au(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}var Dm=P(()=>{});function wM(){return[]}function co(e){return e==null?wM:function(){return this.querySelectorAll(e)}}var Nm=P(()=>{});function _M(e){return function(){return Au(e.apply(this,arguments))}}function jy(e){typeof e=="function"?e=_M(e):e=co(e);for(var t=this._groups,n=t.length,r=[],a=[],i=0;i<n;++i)for(var o=t[i],l=o.length,s,f=0;f<l;++f)(s=o[f])&&(r.push(e.call(s,s.__data__,f,o)),a.push(s));return new Ot(r,a)}var Qy=P(()=>{qn();Dm();Nm()});function so(e){return function(){return this.matches(e)}}function pc(e){return function(t){return t.matches(e)}}var ku=P(()=>{});function MM(e){return function(){return SM.call(this.children,e)}}function CM(){return this.firstElementChild}function Zy(e){return this.select(e==null?CM:MM(typeof e=="function"?e:pc(e)))}var SM,Ky=P(()=>{ku();SM=Array.prototype.find});function AM(){return Array.from(this.children)}function kM(e){return function(){return TM.call(this.children,e)}}function Jy(e){return this.selectAll(e==null?AM:kM(typeof e=="function"?e:pc(e)))}var TM,eb=P(()=>{ku();TM=Array.prototype.filter});function tb(e){typeof e!="function"&&(e=so(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=[],s,f=0;f<o;++f)(s=i[f])&&e.call(s,s.__data__,f,i)&&l.push(s);return new Ot(r,this._parents)}var nb=P(()=>{qn();ku()});function gc(e){return new Array(e.length)}var Em=P(()=>{});function rb(){return new Ot(this._enter||this._groups.map(gc),this._parents)}function Vu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var Pm=P(()=>{Em();qn();Vu.prototype={constructor:Vu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}});function ab(e){return function(){return e}}var ib=P(()=>{});function VM(e,t,n,r,a,i){for(var o=0,l,s=t.length,f=i.length;o<f;++o)(l=t[o])?(l.__data__=i[o],r[o]=l):n[o]=new Vu(e,i[o]);for(;o<s;++o)(l=t[o])&&(a[o]=l)}function DM(e,t,n,r,a,i,o){var l,s,f=new Map,m=t.length,x=i.length,v=new Array(m),M;for(l=0;l<m;++l)(s=t[l])&&(v[l]=M=o.call(s,s.__data__,l,t)+"",f.has(M)?a[l]=s:f.set(M,s));for(l=0;l<x;++l)M=o.call(e,i[l],l,i)+"",(s=f.get(M))?(r[l]=s,s.__data__=i[l],f.delete(M)):n[l]=new Vu(e,i[l]);for(l=0;l<m;++l)(s=t[l])&&f.get(v[l])===s&&(a[l]=s)}function NM(e){return e.__data__}function ob(e,t){if(!arguments.length)return Array.from(this,NM);var n=t?DM:VM,r=this._parents,a=this._groups;typeof e!="function"&&(e=ab(e));for(var i=a.length,o=new Array(i),l=new Array(i),s=new Array(i),f=0;f<i;++f){var m=r[f],x=a[f],v=x.length,M=EM(e.call(m,m&&m.__data__,f,r)),T=M.length,A=l[f]=new Array(T),C=o[f]=new Array(T),D=s[f]=new Array(v);n(m,x,A,C,D,M,t);for(var R=0,B=0,V,I;R<T;++R)if(V=A[R]){for(R>=B&&(B=R+1);!(I=C[B])&&++B<T;);V._next=I||null}}return o=new Ot(o,r),o._enter=l,o._exit=s,o}function EM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var ub=P(()=>{qn();Pm();ib()});function lb(){return new Ot(this._exit||this._groups.map(gc),this._parents)}var cb=P(()=>{Em();qn()});function sb(e,t,n){var r=this.enter(),a=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?i.remove():n(i),r&&a?r.merge(a).order():a}var fb=P(()=>{});function db(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,i=r.length,o=Math.min(a,i),l=new Array(a),s=0;s<o;++s)for(var f=n[s],m=r[s],x=f.length,v=l[s]=new Array(x),M,T=0;T<x;++T)(M=f[T]||m[T])&&(v[T]=M);for(;s<a;++s)l[s]=n[s];return new Ot(l,this._parents)}var mb=P(()=>{qn()});function hb(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,i=r[a],o;--a>=0;)(o=r[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}var pb=P(()=>{});function gb(e){e||(e=PM);function t(x,v){return x&&v?e(x.__data__,v.__data__):!x-!v}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o=n[i],l=o.length,s=a[i]=new Array(l),f,m=0;m<l;++m)(f=o[m])&&(s[m]=f);s.sort(t)}return new Ot(a,this._parents).order()}function PM(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var vb=P(()=>{qn()});function yb(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var bb=P(()=>{});function xb(){return Array.from(this)}var wb=P(()=>{});function _b(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}var Sb=P(()=>{});function Mb(){let e=0;for(let t of this)++e;return e}var Cb=P(()=>{});function Tb(){return!this.node()}var Ab=P(()=>{});function kb(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],i=0,o=a.length,l;i<o;++i)(l=a[i])&&e.call(l,l.__data__,i,a);return this}var Vb=P(()=>{});function LM(e){return function(){this.removeAttribute(e)}}function OM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function IM(e,t){return function(){this.setAttribute(e,t)}}function zM(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function RM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function FM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Db(e,t){var n=Vr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?OM:LM:typeof t=="function"?n.local?FM:RM:n.local?zM:IM)(n,t))}var Nb=P(()=>{mc()});function fo(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var vc=P(()=>{});function BM(e){return function(){this.style.removeProperty(e)}}function HM(e,t,n){return function(){this.style.setProperty(e,t,n)}}function YM(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Eb(e,t,n){return arguments.length>1?this.each((t==null?BM:typeof t=="function"?YM:HM)(e,t,n??"")):Zr(this.node(),e)}function Zr(e,t){return e.style.getPropertyValue(t)||fo(e).getComputedStyle(e,null).getPropertyValue(t)}var Lm=P(()=>{vc()});function WM(e){return function(){delete this[e]}}function $M(e,t){return function(){this[e]=t}}function UM(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Pb(e,t){return arguments.length>1?this.each((t==null?WM:typeof t=="function"?UM:$M)(e,t)):this.node()[e]}var Lb=P(()=>{});function Ob(e){return e.trim().split(/^|\s+/)}function Om(e){return e.classList||new Ib(e)}function Ib(e){this._node=e,this._names=Ob(e.getAttribute("class")||"")}function zb(e,t){for(var n=Om(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function Rb(e,t){for(var n=Om(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function qM(e){return function(){zb(this,e)}}function GM(e){return function(){Rb(this,e)}}function XM(e,t){return function(){(t.apply(this,arguments)?zb:Rb)(this,e)}}function Fb(e,t){var n=Ob(e+"");if(arguments.length<2){for(var r=Om(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?XM:t?qM:GM)(n,t))}var Bb=P(()=>{Ib.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}});function jM(){this.textContent=""}function QM(e){return function(){this.textContent=e}}function ZM(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Hb(e){return arguments.length?this.each(e==null?jM:(typeof e=="function"?ZM:QM)(e)):this.node().textContent}var Yb=P(()=>{});function KM(){this.innerHTML=""}function JM(e){return function(){this.innerHTML=e}}function eC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Wb(e){return arguments.length?this.each(e==null?KM:(typeof e=="function"?eC:JM)(e)):this.node().innerHTML}var $b=P(()=>{});function tC(){this.nextSibling&&this.parentNode.appendChild(this)}function Ub(){return this.each(tC)}var qb=P(()=>{});function nC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gb(){return this.each(nC)}var Xb=P(()=>{});function jb(e){var t=typeof e=="function"?e:wa(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var Qb=P(()=>{Tu()});function rC(){return null}function Zb(e,t){var n=typeof e=="function"?e:wa(e),r=t==null?rC:typeof t=="function"?t:_a(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}var Kb=P(()=>{Tu();hc()});function aC(){var e=this.parentNode;e&&e.removeChild(this)}function Jb(){return this.each(aC)}var ex=P(()=>{});function iC(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oC(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tx(e){return this.select(e?oC:iC)}var nx=P(()=>{});function rx(e){return arguments.length?this.property("__data__",e):this.node().__data__}var ax=P(()=>{});function uC(e){return function(t){e.call(this,t,this.__data__)}}function lC(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function cC(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,a=t.length,i;n<a;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function sC(e,t,n){return function(){var r=this.__on,a,i=uC(t);if(r){for(var o=0,l=r.length;o<l;++o)if((a=r[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=n),a.value=t;return}}this.addEventListener(e.type,i,n),a={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(a):this.__on=[a]}}function ix(e,t,n){var r=lC(e+""),a,i=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,f=l.length,m;s<f;++s)for(a=0,m=l[s];a<i;++a)if((o=r[a]).type===m.type&&o.name===m.name)return m.value}return}for(l=t?sC:cC,a=0;a<i;++a)this.each(l(r[a],t,n));return this}var ox=P(()=>{});function ux(e,t,n){var r=fo(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function fC(e,t){return function(){return ux(this,e,t)}}function dC(e,t){return function(){return ux(this,e,t.apply(this,arguments))}}function lx(e,t){return this.each((typeof t=="function"?dC:fC)(e,t))}var cx=P(()=>{vc()});function*sx(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length,o;a<i;++a)(o=r[a])&&(yield o)}var fx=P(()=>{});function Ot(e,t){this._groups=e,this._parents=t}function dx(){return new Ot([[document.documentElement]],Du)}function mC(){return this}var Du,Dr,qn=P(()=>{Xy();Qy();Ky();eb();nb();ub();Pm();cb();fb();mb();pb();vb();bb();wb();Sb();Cb();Ab();Vb();Nb();Lm();Lb();Bb();Yb();$b();qb();Xb();Qb();Kb();ex();nx();ax();ox();cx();fx();Du=[null];Ot.prototype=dx.prototype={constructor:Ot,select:Gy,selectAll:jy,selectChild:Zy,selectChildren:Jy,filter:tb,data:ob,enter:rb,exit:lb,join:sb,merge:db,selection:mC,order:hb,sort:gb,call:yb,nodes:xb,node:_b,size:Mb,empty:Tb,each:kb,attr:Db,style:Eb,property:Pb,classed:Fb,text:Hb,html:Wb,raise:Ub,lower:Gb,append:jb,insert:Zb,remove:Jb,clone:tx,datum:rx,on:ix,dispatch:lx,[Symbol.iterator]:sx};Dr=dx});function Re(e){return typeof e=="string"?new Ot([[document.querySelector(e)]],[document.documentElement]):new Ot([[e]],Du)}var Im=P(()=>{qn()});function mx(e){return Re(wa(e).call(document.documentElement))}var hx=P(()=>{Tu();Im()});function yc(){return new zm}function zm(){this._="@"+(++hC).toString(36)}var hC,px=P(()=>{hC=0;zm.prototype=yc.prototype={constructor:zm,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}});function bc(e){let t;for(;t=e.sourceEvent;)e=t;return e}var Rm=P(()=>{});function Qt(e,t){if(e=bc(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}var Fm=P(()=>{Rm()});function gx(e,t){return e.target&&(e=bc(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,n=>Qt(n,t))}var vx=P(()=>{Fm();Rm()});function xc(e){return typeof e=="string"?new Ot([document.querySelectorAll(e)],[document.documentElement]):new Ot([Au(e)],Du)}var yx=P(()=>{Dm();qn()});var bx={};On(bx,{create:()=>mx,creator:()=>wa,local:()=>yc,matcher:()=>so,namespace:()=>Vr,namespaces:()=>Cu,pointer:()=>Qt,pointers:()=>gx,select:()=>Re,selectAll:()=>xc,selection:()=>Dr,selector:()=>_a,selectorAll:()=>co,style:()=>Zr,window:()=>fo});var yn=P(()=>{hx();Tu();px();ku();mc();dc();Fm();vx();Im();yx();qn();hc();Nm();Lm();vc()});function tt(e){return function(){return e}}var Sa=P(()=>{});function wx(e){return e>1?0:e<-1?cr:Math.acos(e)}function Hm(e){return e>=1?Nu:e<=-1?-Nu:Math.asin(e)}var Bm,sn,lr,xx,Nr,bn,st,Zt,cr,Nu,Gn,fn=P(()=>{Bm=Math.abs,sn=Math.atan2,lr=Math.cos,xx=Math.max,Nr=Math.min,bn=Math.sin,st=Math.sqrt,Zt=1e-12,cr=Math.PI,Nu=cr/2,Gn=2*cr});function Er(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{let r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Qr(t)}var mo=P(()=>{sc()});function pC(e){return e.innerRadius}function gC(e){return e.outerRadius}function vC(e){return e.startAngle}function yC(e){return e.endAngle}function bC(e){return e&&e.padAngle}function xC(e,t,n,r,a,i,o,l){var s=n-e,f=r-t,m=o-a,x=l-i,v=x*s-m*f;if(!(v*v<Zt))return v=(m*(t-i)-x*(e-a))/v,[e+v*s,t+v*f]}function wc(e,t,n,r,a,i,o){var l=e-n,s=t-r,f=(o?i:-i)/st(l*l+s*s),m=f*s,x=-f*l,v=e+m,M=t+x,T=n+m,A=r+x,C=(v+T)/2,D=(M+A)/2,R=T-v,B=A-M,V=R*R+B*B,I=a-i,O=v*A-T*M,j=(B<0?-1:1)*st(xx(0,I*I*V-O*O)),K=(O*B-R*j)/V,ye=(-O*R-B*j)/V,ge=(O*B+R*j)/V,le=(-O*R+B*j)/V,Ie=K-C,he=ye-D,U=ge-C,_e=le-D;return Ie*Ie+he*he>U*U+_e*_e&&(K=ge,ye=le),{cx:K,cy:ye,x01:-m,y01:-x,x11:K*(a/I-1),y11:ye*(a/I-1)}}function _c(){var e=pC,t=gC,n=tt(0),r=null,a=vC,i=yC,o=bC,l=null,s=Er(f);function f(){var m,x,v=+e.apply(this,arguments),M=+t.apply(this,arguments),T=a.apply(this,arguments)-Nu,A=i.apply(this,arguments)-Nu,C=Bm(A-T),D=A>T;if(l||(l=m=s()),M<v&&(x=M,M=v,v=x),!(M>Zt))l.moveTo(0,0);else if(C>Gn-Zt)l.moveTo(M*lr(T),M*bn(T)),l.arc(0,0,M,T,A,!D),v>Zt&&(l.moveTo(v*lr(A),v*bn(A)),l.arc(0,0,v,A,T,D));else{var R=T,B=A,V=T,I=A,O=C,j=C,K=o.apply(this,arguments)/2,ye=K>Zt&&(r?+r.apply(this,arguments):st(v*v+M*M)),ge=Nr(Bm(M-v)/2,+n.apply(this,arguments)),le=ge,Ie=ge,he,U;if(ye>Zt){var _e=Hm(ye/v*bn(K)),ne=Hm(ye/M*bn(K));(O-=_e*2)>Zt?(_e*=D?1:-1,V+=_e,I-=_e):(O=0,V=I=(T+A)/2),(j-=ne*2)>Zt?(ne*=D?1:-1,R+=ne,B-=ne):(j=0,R=B=(T+A)/2)}var ie=M*lr(R),ve=M*bn(R),oe=v*lr(I),be=v*bn(I);if(ge>Zt){var Ee=M*lr(B),De=M*bn(B),Se=v*lr(V),Ye=v*bn(V),Oe;if(C<cr)if(Oe=xC(ie,ve,Se,Ye,Ee,De,oe,be)){var Qe=ie-Oe[0],Ue=ve-Oe[1],Q=Ee-Oe[0],Z=De-Oe[1],ce=1/bn(wx((Qe*Q+Ue*Z)/(st(Qe*Qe+Ue*Ue)*st(Q*Q+Z*Z)))/2),te=st(Oe[0]*Oe[0]+Oe[1]*Oe[1]);le=Nr(ge,(v-te)/(ce-1)),Ie=Nr(ge,(M-te)/(ce+1))}else le=Ie=0}j>Zt?Ie>Zt?(he=wc(Se,Ye,ie,ve,M,Ie,D),U=wc(Ee,De,oe,be,M,Ie,D),l.moveTo(he.cx+he.x01,he.cy+he.y01),Ie<ge?l.arc(he.cx,he.cy,Ie,sn(he.y01,he.x01),sn(U.y01,U.x01),!D):(l.arc(he.cx,he.cy,Ie,sn(he.y01,he.x01),sn(he.y11,he.x11),!D),l.arc(0,0,M,sn(he.cy+he.y11,he.cx+he.x11),sn(U.cy+U.y11,U.cx+U.x11),!D),l.arc(U.cx,U.cy,Ie,sn(U.y11,U.x11),sn(U.y01,U.x01),!D))):(l.moveTo(ie,ve),l.arc(0,0,M,R,B,!D)):l.moveTo(ie,ve),!(v>Zt)||!(O>Zt)?l.lineTo(oe,be):le>Zt?(he=wc(oe,be,Ee,De,v,-le,D),U=wc(ie,ve,Se,Ye,v,-le,D),l.lineTo(he.cx+he.x01,he.cy+he.y01),le<ge?l.arc(he.cx,he.cy,le,sn(he.y01,he.x01),sn(U.y01,U.x01),!D):(l.arc(he.cx,he.cy,le,sn(he.y01,he.x01),sn(he.y11,he.x11),!D),l.arc(0,0,v,sn(he.cy+he.y11,he.cx+he.x11),sn(U.cy+U.y11,U.cx+U.x11),D),l.arc(U.cx,U.cy,le,sn(U.y11,U.x11),sn(U.y01,U.x01),!D))):l.arc(0,0,v,I,V,D)}if(l.closePath(),m)return l=null,m+""||null}return f.centroid=function(){var m=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,x=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-cr/2;return[lr(x)*m,bn(x)*m]},f.innerRadius=function(m){return arguments.length?(e=typeof m=="function"?m:tt(+m),f):e},f.outerRadius=function(m){return arguments.length?(t=typeof m=="function"?m:tt(+m),f):t},f.cornerRadius=function(m){return arguments.length?(n=typeof m=="function"?m:tt(+m),f):n},f.padRadius=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:tt(+m),f):r},f.startAngle=function(m){return arguments.length?(a=typeof m=="function"?m:tt(+m),f):a},f.endAngle=function(m){return arguments.length?(i=typeof m=="function"?m:tt(+m),f):i},f.padAngle=function(m){return arguments.length?(o=typeof m=="function"?m:tt(+m),f):o},f.context=function(m){return arguments.length?(l=m??null,f):l},f}var _x=P(()=>{Sa();fn();mo()});function Ma(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var Sx,ho=P(()=>{Sx=Array.prototype.slice});function Mx(e){this._context=e}function Ca(e){return new Mx(e)}var Eu=P(()=>{Mx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}}});function po(e){return e[0]}function go(e){return e[1]}var Sc=P(()=>{});function Ta(e,t){var n=tt(!0),r=null,a=Ca,i=null,o=Er(l);e=typeof e=="function"?e:e===void 0?po:tt(e),t=typeof t=="function"?t:t===void 0?go:tt(t);function l(s){var f,m=(s=Ma(s)).length,x,v=!1,M;for(r==null&&(i=a(M=o())),f=0;f<=m;++f)!(f<m&&n(x=s[f],f,s))===v&&((v=!v)?i.lineStart():i.lineEnd()),v&&i.point(+e(x,f,s),+t(x,f,s));if(M)return i=null,M+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:tt(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:tt(+s),l):t},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:tt(!!s),l):n},l.curve=function(s){return arguments.length?(a=s,r!=null&&(i=a(r)),l):a},l.context=function(s){return arguments.length?(s==null?r=i=null:i=a(r=s),l):r},l}var Mc=P(()=>{ho();Sa();Eu();mo();Sc()});function Cc(e,t,n){var r=null,a=tt(!0),i=null,o=Ca,l=null,s=Er(f);e=typeof e=="function"?e:e===void 0?po:tt(+e),t=typeof t=="function"?t:t===void 0?tt(0):tt(+t),n=typeof n=="function"?n:n===void 0?go:tt(+n);function f(x){var v,M,T,A=(x=Ma(x)).length,C,D=!1,R,B=new Array(A),V=new Array(A);for(i==null&&(l=o(R=s())),v=0;v<=A;++v){if(!(v<A&&a(C=x[v],v,x))===D)if(D=!D)M=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),T=v-1;T>=M;--T)l.point(B[T],V[T]);l.lineEnd(),l.areaEnd()}D&&(B[v]=+e(C,v,x),V[v]=+t(C,v,x),l.point(r?+r(C,v,x):B[v],n?+n(C,v,x):V[v]))}if(R)return l=null,R+""||null}function m(){return Ta().defined(a).curve(o).context(i)}return f.x=function(x){return arguments.length?(e=typeof x=="function"?x:tt(+x),r=null,f):e},f.x0=function(x){return arguments.length?(e=typeof x=="function"?x:tt(+x),f):e},f.x1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:tt(+x),f):r},f.y=function(x){return arguments.length?(t=typeof x=="function"?x:tt(+x),n=null,f):t},f.y0=function(x){return arguments.length?(t=typeof x=="function"?x:tt(+x),f):t},f.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:tt(+x),f):n},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(n)},f.lineX1=function(){return m().x(r).y(t)},f.defined=function(x){return arguments.length?(a=typeof x=="function"?x:tt(!!x),f):a},f.curve=function(x){return arguments.length?(o=x,i!=null&&(l=o(i)),f):o},f.context=function(x){return arguments.length?(x==null?i=l=null:l=o(i=x),f):i},f}var Ym=P(()=>{ho();Sa();Eu();Mc();mo();Sc()});function Cx(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}var Tx=P(()=>{});function Ax(e){return e}var kx=P(()=>{});function Vx(){var e=Ax,t=Cx,n=null,r=tt(0),a=tt(Gn),i=tt(0);function o(l){var s,f=(l=Ma(l)).length,m,x,v=0,M=new Array(f),T=new Array(f),A=+r.apply(this,arguments),C=Math.min(Gn,Math.max(-Gn,a.apply(this,arguments)-A)),D,R=Math.min(Math.abs(C)/f,i.apply(this,arguments)),B=R*(C<0?-1:1),V;for(s=0;s<f;++s)(V=T[M[s]=s]=+e(l[s],s,l))>0&&(v+=V);for(t!=null?M.sort(function(I,O){return t(T[I],T[O])}):n!=null&&M.sort(function(I,O){return n(l[I],l[O])}),s=0,x=v?(C-f*B)/v:0;s<f;++s,A=D)m=M[s],V=T[m],D=A+(V>0?V*x:0)+B,T[m]={data:l[m],index:s,value:V,startAngle:A,endAngle:D,padAngle:R};return T}return o.value=function(l){return arguments.length?(e=typeof l=="function"?l:tt(+l),o):e},o.sortValues=function(l){return arguments.length?(t=l,n=null,o):t},o.sort=function(l){return arguments.length?(n=l,t=null,o):n},o.startAngle=function(l){return arguments.length?(r=typeof l=="function"?l:tt(+l),o):r},o.endAngle=function(l){return arguments.length?(a=typeof l=="function"?l:tt(+l),o):a},o.padAngle=function(l){return arguments.length?(i=typeof l=="function"?l:tt(+l),o):i},o}var Dx=P(()=>{ho();Sa();Tx();kx();fn()});function Nx(e){this._curve=e}function vo(e){function t(n){return new Nx(e(n))}return t._curve=e,t}var Tc,Wm=P(()=>{Eu();Tc=vo(Ca);Nx.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}}});function yo(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(vo(n)):t()._curve},e}function $m(){return yo(Ta().curve(Tc))}var Um=P(()=>{Wm();Mc()});function qm(){var e=Cc().curve(Tc),t=e.curve,n=e.lineX0,r=e.lineX1,a=e.lineY0,i=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return yo(n())},delete e.lineX0,e.lineEndAngle=function(){return yo(r())},delete e.lineX1,e.lineInnerRadius=function(){return yo(a())},delete e.lineY0,e.lineOuterRadius=function(){return yo(i())},delete e.lineY1,e.curve=function(o){return arguments.length?t(vo(o)):t()._curve},e}var Ex=P(()=>{Wm();Ym();Um()});function wi(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}var Gm=P(()=>{});function kc(e){return new Ac(e,!0)}function Vc(e){return new Ac(e,!1)}function Px(e){return new Xm(e)}var Ac,Xm,jm=P(()=>{Gm();Ac=class{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}},Xm=class{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,this._point===0)this._point=1;else{let r=wi(this._x0,this._y0),a=wi(this._x0,this._y0=(this._y0+n)/2),i=wi(t,this._y0),o=wi(t,n);this._context.moveTo(...r),this._context.bezierCurveTo(...a,...i,...o)}this._x0=t,this._y0=n}}});function wC(e){return e.source}function _C(e){return e.target}function Pu(e){let t=wC,n=_C,r=po,a=go,i=null,o=null,l=Er(s);function s(){let f,m=Sx.call(arguments),x=t.apply(this,m),v=n.apply(this,m);if(i==null&&(o=e(f=l())),o.lineStart(),m[0]=x,o.point(+r.apply(this,m),+a.apply(this,m)),m[0]=v,o.point(+r.apply(this,m),+a.apply(this,m)),o.lineEnd(),f)return o=null,f+""||null}return s.source=function(f){return arguments.length?(t=f,s):t},s.target=function(f){return arguments.length?(n=f,s):n},s.x=function(f){return arguments.length?(r=typeof f=="function"?f:tt(+f),s):r},s.y=function(f){return arguments.length?(a=typeof f=="function"?f:tt(+f),s):a},s.context=function(f){return arguments.length?(f==null?i=o=null:o=e(i=f),s):i},s}function Lx(){return Pu(kc)}function Ox(){return Pu(Vc)}function Ix(){let e=Pu(Px);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var zx=P(()=>{ho();Sa();jm();mo();Sc()});var SC,Dc,Qm=P(()=>{fn();SC=st(3),Dc={draw(e,t){let n=st(t+Nr(t/28,.75))*.59436,r=n/2,a=r*SC;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-a,-r),e.lineTo(a,r),e.moveTo(-a,r),e.lineTo(a,-r)}}});var sr,Zm=P(()=>{fn();sr={draw(e,t){let n=st(t/cr);e.moveTo(n,0),e.arc(0,0,n,0,Gn)}}});var _i,Km=P(()=>{fn();_i={draw(e,t){let n=st(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}}});var Rx,MC,Si,Jm=P(()=>{fn();Rx=st(1/3),MC=Rx*2,Si={draw(e,t){let n=st(t/MC),r=n*Rx;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}}});var Nc,eh=P(()=>{fn();Nc={draw(e,t){let n=st(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}}});var Ec,th=P(()=>{fn();Ec={draw(e,t){let n=st(t-Nr(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}}});var Mi,nh=P(()=>{fn();Mi={draw(e,t){let n=st(t),r=-n/2;e.rect(r,r,n,n)}}});var Pc,rh=P(()=>{fn();Pc={draw(e,t){let n=st(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}}});var CC,Fx,TC,AC,Ci,ah=P(()=>{fn();CC=.8908130915292852,Fx=bn(cr/10)/bn(7*cr/10),TC=bn(Gn/10)*Fx,AC=-lr(Gn/10)*Fx,Ci={draw(e,t){let n=st(t*CC),r=TC*n,a=AC*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){let o=Gn*i/5,l=lr(o),s=bn(o);e.lineTo(s*n,-l*n),e.lineTo(l*r-s*a,s*r+l*a)}e.closePath()}}});var ih,Ti,oh=P(()=>{fn();ih=st(3),Ti={draw(e,t){let n=-st(t/(ih*3));e.moveTo(0,n*2),e.lineTo(-ih*n,-n),e.lineTo(ih*n,-n),e.closePath()}}});var kC,Lc,uh=P(()=>{fn();kC=st(3),Lc={draw(e,t){let n=st(t)*.6824,r=n/2,a=n*kC/2;e.moveTo(0,-n),e.lineTo(a,r),e.lineTo(-a,r),e.closePath()}}});var Xn,jn,lh,VC,Ai,ch=P(()=>{fn();Xn=-.5,jn=st(3)/2,lh=1/st(12),VC=(lh/2+1)*3,Ai={draw(e,t){let n=st(t/VC),r=n/2,a=n*lh,i=r,o=n*lh+n,l=-i,s=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(l,s),e.lineTo(Xn*r-jn*a,jn*r+Xn*a),e.lineTo(Xn*i-jn*o,jn*i+Xn*o),e.lineTo(Xn*l-jn*s,jn*l+Xn*s),e.lineTo(Xn*r+jn*a,Xn*a-jn*r),e.lineTo(Xn*i+jn*o,Xn*o-jn*i),e.lineTo(Xn*l+jn*s,Xn*s-jn*l),e.closePath()}}});var Lu,sh=P(()=>{fn();Lu={draw(e,t){let n=st(t-Nr(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}}});function Ou(e,t){let n=null,r=Er(a);e=typeof e=="function"?e:tt(e||sr),t=typeof t=="function"?t:tt(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:tt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:tt(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}var fh,Bx,Hx=P(()=>{Sa();mo();Qm();Zm();Km();Jm();eh();th();nh();rh();ah();oh();uh();ch();sh();fh=[sr,_i,Si,Mi,Ci,Ti,Ai],Bx=[sr,Ec,Lu,Lc,Dc,Pc,Nc]});function Qn(){}var Iu=P(()=>{});function bo(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function zu(e){this._context=e}function Yx(e){return new zu(e)}var Ru=P(()=>{zu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function Wx(e){this._context=e}function $x(e){return new Wx(e)}var Ux=P(()=>{Iu();Ru();Wx.prototype={areaStart:Qn,areaEnd:Qn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:bo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function qx(e){this._context=e}function Gx(e){return new qx(e)}var Xx=P(()=>{Ru();qx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:bo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function jx(e,t){this._basis=new zu(e),this._beta=t}var Qx,Zx=P(()=>{Ru();jx.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],a=t[0],i=e[n]-r,o=t[n]-a,l=-1,s;++l<=n;)s=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(r+s*i),this._beta*t[l]+(1-this._beta)*(a+s*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};Qx=function e(t){function n(r){return t===1?new zu(r):new jx(r,t)}return n.beta=function(r){return e(+r)},n}(.85)});function xo(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Oc(e,t){this._context=e,this._k=(1-t)/6}var Kx,Fu=P(()=>{Oc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:xo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:xo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};Kx=function e(t){function n(r){return new Oc(r,t)}return n.tension=function(r){return e(+r)},n}(0)});function Ic(e,t){this._context=e,this._k=(1-t)/6}var Jx,dh=P(()=>{Iu();Fu();Ic.prototype={areaStart:Qn,areaEnd:Qn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:xo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};Jx=function e(t){function n(r){return new Ic(r,t)}return n.tension=function(r){return e(+r)},n}(0)});function zc(e,t){this._context=e,this._k=(1-t)/6}var e2,mh=P(()=>{Fu();zc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};e2=function e(t){function n(r){return new zc(r,t)}return n.tension=function(r){return e(+r)},n}(0)});function Bu(e,t,n){var r=e._x1,a=e._y1,i=e._x2,o=e._y2;if(e._l01_a>Zt){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,a=(a*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>Zt){var f=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,m=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*f+e._x1*e._l23_2a-t*e._l12_2a)/m,o=(o*f+e._y1*e._l23_2a-n*e._l12_2a)/m}e._context.bezierCurveTo(r,a,i,o,e._x2,e._y2)}function t2(e,t){this._context=e,this._alpha=t}var n2,Rc=P(()=>{fn();Fu();t2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Bu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};n2=function e(t){function n(r){return t?new t2(r,t):new Oc(r,0)}return n.alpha=function(r){return e(+r)},n}(.5)});function r2(e,t){this._context=e,this._alpha=t}var a2,i2=P(()=>{dh();Iu();Rc();r2.prototype={areaStart:Qn,areaEnd:Qn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Bu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};a2=function e(t){function n(r){return t?new r2(r,t):new Ic(r,0)}return n.alpha=function(r){return e(+r)},n}(.5)});function o2(e,t){this._context=e,this._alpha=t}var u2,l2=P(()=>{mh();Rc();o2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Bu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};u2=function e(t){function n(r){return t?new o2(r,t):new zc(r,0)}return n.alpha=function(r){return e(+r)},n}(.5)});function c2(e){this._context=e}function s2(e){return new c2(e)}var f2=P(()=>{Iu();c2.prototype={areaStart:Qn,areaEnd:Qn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}});function d2(e){return e<0?-1:1}function m2(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(d2(i)+d2(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function h2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function hh(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,a+l*t,i-l,o-l*n,i,o)}function Fc(e){this._context=e}function p2(e){this._context=new g2(e)}function g2(e){this._context=e}function v2(e){return new Fc(e)}function y2(e){return new p2(e)}var b2=P(()=>{Fc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hh(this,this._t0,h2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,hh(this,h2(this,n=m2(this,e,t)),n);break;default:hh(this,this._t0,n=m2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};(p2.prototype=Object.create(Fc.prototype)).point=function(e,t){Fc.prototype.point.call(this,t,e)};g2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}}});function w2(e){this._context=e}function x2(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function _2(e){return new w2(e)}var S2=P(()=>{w2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=x2(e),a=x2(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}});function Bc(e,t){this._context=e,this._t=t}function M2(e){return new Bc(e,.5)}function C2(e){return new Bc(e,0)}function T2(e){return new Bc(e,1)}var A2=P(()=>{Bc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}}});function fr(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}var wo=P(()=>{});function dr(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}var _o=P(()=>{});function DC(e,t){return e[t]}function NC(e){let t=[];return t.key=e,t}function k2(){var e=tt([]),t=dr,n=fr,r=DC;function a(i){var o=Array.from(e.apply(this,arguments),NC),l,s=o.length,f=-1,m;for(let x of i)for(l=0,++f;l<s;++l)(o[l][f]=[0,+r(x,o[l].key,f,i)]).data=x;for(l=0,m=Ma(t(o));l<s;++l)o[m[l]].index=l;return n(o,m),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:tt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:tt(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?dr:typeof i=="function"?i:tt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??fr,a):n},a}var V2=P(()=>{ho();Sa();wo();_o()});function D2(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}fr(e,t)}}var N2=P(()=>{wo()});function E2(e,t){if((s=e.length)>0)for(var n,r=0,a,i,o,l,s,f=e[t[0]].length;r<f;++r)for(o=l=0,n=0;n<s;++n)(i=(a=e[t[n]][r])[1]-a[0])>0?(a[0]=o,a[1]=o+=i):i<0?(a[1]=l,a[0]=l+=i):(a[0]=0,a[1]=i)}var P2=P(()=>{});function L2(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}fr(e,t)}}var O2=P(()=>{wo()});function I2(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var l=0,s=0,f=0;l<o;++l){for(var m=e[t[l]],x=m[r][1]||0,v=m[r-1][1]||0,M=(x-v)/2,T=0;T<l;++T){var A=e[t[T]],C=A[r][1]||0,D=A[r-1][1]||0;M+=C-D}s+=x,f+=M*x}a[r-1][1]+=a[r-1][0]=n,s&&(n-=f/s)}a[r-1][1]+=a[r-1][0]=n,fr(e,t)}}var z2=P(()=>{wo()});function Hc(e){var t=e.map(EC);return dr(e).sort(function(n,r){return t[n]-t[r]})}function EC(e){for(var t=-1,n=0,r=e.length,a,i=-1/0;++t<r;)(a=+e[t][1])>i&&(i=a,n=t);return n}var ph=P(()=>{_o()});function Yc(e){var t=e.map(gh);return dr(e).sort(function(n,r){return t[n]-t[r]})}function gh(e){for(var t=0,n=-1,r=e.length,a;++n<r;)(a=+e[n][1])&&(t+=a);return t}var Wc=P(()=>{_o()});function R2(e){return Yc(e).reverse()}var F2=P(()=>{Wc()});function B2(e){var t=e.length,n,r,a=e.map(gh),i=Hc(e),o=0,l=0,s=[],f=[];for(n=0;n<t;++n)r=i[n],o<l?(o+=a[r],s.push(r)):(l+=a[r],f.push(r));return f.reverse().concat(s)}var H2=P(()=>{ph();Wc()});function Y2(e){return dr(e).reverse()}var W2=P(()=>{_o()});var $2={};On($2,{arc:()=>_c,area:()=>Cc,areaRadial:()=>qm,curveBasis:()=>Yx,curveBasisClosed:()=>$x,curveBasisOpen:()=>Gx,curveBumpX:()=>kc,curveBumpY:()=>Vc,curveBundle:()=>Qx,curveCardinal:()=>Kx,curveCardinalClosed:()=>Jx,curveCardinalOpen:()=>e2,curveCatmullRom:()=>n2,curveCatmullRomClosed:()=>a2,curveCatmullRomOpen:()=>u2,curveLinear:()=>Ca,curveLinearClosed:()=>s2,curveMonotoneX:()=>v2,curveMonotoneY:()=>y2,curveNatural:()=>_2,curveStep:()=>M2,curveStepAfter:()=>T2,curveStepBefore:()=>C2,line:()=>Ta,lineRadial:()=>$m,link:()=>Pu,linkHorizontal:()=>Lx,linkRadial:()=>Ix,linkVertical:()=>Ox,pie:()=>Vx,pointRadial:()=>wi,radialArea:()=>qm,radialLine:()=>$m,stack:()=>k2,stackOffsetDiverging:()=>E2,stackOffsetExpand:()=>D2,stackOffsetNone:()=>fr,stackOffsetSilhouette:()=>L2,stackOffsetWiggle:()=>I2,stackOrderAppearance:()=>Hc,stackOrderAscending:()=>Yc,stackOrderDescending:()=>R2,stackOrderInsideOut:()=>B2,stackOrderNone:()=>dr,stackOrderReverse:()=>Y2,symbol:()=>Ou,symbolAsterisk:()=>Dc,symbolCircle:()=>sr,symbolCross:()=>_i,symbolDiamond:()=>Si,symbolDiamond2:()=>Nc,symbolPlus:()=>Ec,symbolSquare:()=>Mi,symbolSquare2:()=>Pc,symbolStar:()=>Ci,symbolTimes:()=>Lu,symbolTriangle:()=>Ti,symbolTriangle2:()=>Lc,symbolWye:()=>Ai,symbolX:()=>Lu,symbols:()=>fh,symbolsFill:()=>fh,symbolsStroke:()=>Bx});var vh=P(()=>{_x();Ym();Mc();Dx();Ex();Um();Gm();zx();Hx();Qm();Zm();Km();Jm();eh();th();nh();rh();ah();oh();uh();ch();sh();Ux();Xx();Ru();jm();Zx();dh();mh();Fu();i2();l2();Rc();f2();Eu();b2();S2();A2();V2();N2();P2();wo();O2();z2();ph();Wc();F2();H2();_o();W2()});function He(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}var ct=P(()=>{});var U2,q2=P(()=>{ct();U2=He("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")});var G2,X2=P(()=>{ct();G2=He("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")});var j2,Q2=P(()=>{ct();j2=He("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")});var Z2,K2=P(()=>{ct();Z2=He("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0")});var J2,ew=P(()=>{ct();J2=He("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")});var tw,nw=P(()=>{ct();tw=He("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")});var rw,aw=P(()=>{ct();rw=He("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")});var iw,ow=P(()=>{ct();iw=He("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")});var uw,lw=P(()=>{ct();uw=He("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")});var cw,sw=P(()=>{ct();cw=He("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")});var fw,dw=P(()=>{ct();fw=He("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")});function So(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Hu(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}var yh=P(()=>{});function Ni(){}function hw(){return this.rgb().formatHex()}function BC(){return this.rgb().formatHex8()}function HC(){return ww(this).formatHsl()}function pw(){return this.rgb().formatRgb()}function xn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=PC.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?gw(t):n===3?new dn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$c(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$c(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=LC.exec(e))?new dn(t[1],t[2],t[3],1):(t=OC.exec(e))?new dn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=IC.exec(e))?$c(t[1],t[2],t[3],t[4]):(t=zC.exec(e))?$c(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=RC.exec(e))?bw(t[1],t[2]/100,t[3]/100,1):(t=FC.exec(e))?bw(t[1],t[2]/100,t[3]/100,t[4]):mw.hasOwnProperty(e)?gw(mw[e]):e==="transparent"?new dn(NaN,NaN,NaN,0):null}function gw(e){return new dn(e>>16&255,e>>8&255,e&255,1)}function $c(e,t,n,r){return r<=0&&(e=t=n=NaN),new dn(e,t,n,r)}function xh(e){return e instanceof Ni||(e=xn(e)),e?(e=e.rgb(),new dn(e.r,e.g,e.b,e.opacity)):new dn}function ka(e,t,n,r){return arguments.length===1?xh(e):new dn(e,t,n,r??1)}function dn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function vw(){return`#${ki(this.r)}${ki(this.g)}${ki(this.b)}`}function YC(){return`#${ki(this.r)}${ki(this.g)}${ki(this.b)}${ki((isNaN(this.opacity)?1:this.opacity)*255)}`}function yw(){let e=qc(this.opacity);return`${e===1?"rgb(":"rgba("}${Vi(this.r)}, ${Vi(this.g)}, ${Vi(this.b)}${e===1?")":`, ${e})`}`}function qc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ki(e){return e=Vi(e),(e<16?"0":"")+e.toString(16)}function bw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mr(e,t,n,r)}function ww(e){if(e instanceof mr)return new mr(e.h,e.s,e.l,e.opacity);if(e instanceof Ni||(e=xn(e)),!e)return new mr;if(e instanceof mr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,s=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=s<.5?i+a:2-i-a,o*=60):l=s>0&&s<1?0:o,new mr(o,l,s,e.opacity)}function _w(e,t,n,r){return arguments.length===1?ww(e):new mr(e,t,n,r??1)}function mr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function xw(e){return e=(e||0)%360,e<0?e+360:e}function Uc(e){return Math.max(0,Math.min(1,e||0))}function bh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var Aa,Di,Mo,Yu,Pr,PC,LC,OC,IC,zC,RC,FC,mw,wh=P(()=>{yh();Aa=.7,Di=1/Aa,Mo="\\s*([+-]?\\d+)\\s*",Yu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PC=/^#([0-9a-f]{3,8})$/,LC=new RegExp(`^rgb\\(${Mo},${Mo},${Mo}\\)$`),OC=new RegExp(`^rgb\\(${Pr},${Pr},${Pr}\\)$`),IC=new RegExp(`^rgba\\(${Mo},${Mo},${Mo},${Yu}\\)$`),zC=new RegExp(`^rgba\\(${Pr},${Pr},${Pr},${Yu}\\)$`),RC=new RegExp(`^hsl\\(${Yu},${Pr},${Pr}\\)$`),FC=new RegExp(`^hsla\\(${Yu},${Pr},${Pr},${Yu}\\)$`),mw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};So(Ni,xn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hw,formatHex:hw,formatHex8:BC,formatHsl:HC,formatRgb:pw,toString:pw});So(dn,ka,Hu(Ni,{brighter(e){return e=e==null?Di:Math.pow(Di,e),new dn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Aa:Math.pow(Aa,e),new dn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new dn(Vi(this.r),Vi(this.g),Vi(this.b),qc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vw,formatHex:vw,formatHex8:YC,formatRgb:yw,toString:yw}));So(mr,_w,Hu(Ni,{brighter(e){return e=e==null?Di:Math.pow(Di,e),new mr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Aa:Math.pow(Aa,e),new mr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new dn(bh(e>=240?e-240:e+120,a,r),bh(e,a,r),bh(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new mr(xw(this.h),Uc(this.s),Uc(this.l),qc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=qc(this.opacity);return`${e===1?"hsl(":"hsla("}${xw(this.h)}, ${Uc(this.s)*100}%, ${Uc(this.l)*100}%${e===1?")":`, ${e})`}`}}))});var Sw,Mw,Cw=P(()=>{Sw=Math.PI/180,Mw=180/Math.PI});function WC(e){if(e instanceof Ei)return new Ei(e.h,e.s,e.l,e.opacity);e instanceof dn||(e=xh(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(kw*r+Tw*t-Aw*n)/(kw+Tw-Aw),i=r-a,o=(Wu*(n-a)-Sh*i)/Gc,l=Math.sqrt(o*o+i*i)/(Wu*a*(1-a)),s=l?Math.atan2(o,i)*Mw-120:NaN;return new Ei(s<0?s+360:s,l,a,e.opacity)}function Vn(e,t,n,r){return arguments.length===1?WC(e):new Ei(e,t,n,r??1)}function Ei(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}var Vw,_h,Sh,Gc,Wu,Tw,Aw,kw,Dw=P(()=>{yh();wh();Cw();Vw=-.14861,_h=1.78277,Sh=-.29227,Gc=-.90649,Wu=1.97294,Tw=Wu*Gc,Aw=Wu*_h,kw=_h*Sh-Gc*Vw;So(Ei,Vn,Hu(Ni,{brighter(e){return e=e==null?Di:Math.pow(Di,e),new Ei(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Aa:Math.pow(Aa,e),new Ei(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Sw,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new dn(255*(t+n*(Vw*r+_h*a)),255*(t+n*(Sh*r+Gc*a)),255*(t+n*(Wu*r)),this.opacity)}}))});var Kr=P(()=>{wh();Dw()});function Mh(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}function Nw(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,l=r<t-1?e[r+2]:2*i-a;return Mh((n-r/t)*t,o,a,i,l)}}var Ch=P(()=>{});function Ew(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],l=e[(r+2)%t];return Mh((n-r/t)*t,a,i,o,l)}}var Pw=P(()=>{Ch()});var Co,Th=P(()=>{Co=e=>()=>e});function Lw(e,t){return function(n){return e+n*t}}function $C(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ow(e,t){var n=t-e;return n?Lw(e,n>180||n<-180?n-360*Math.round(n/360):n):Co(isNaN(e)?t:e)}function Iw(e){return(e=+e)==1?Jr:function(t,n){return n-t?$C(t,n,e):Co(isNaN(t)?n:t)}}function Jr(e,t){var n=t-e;return n?Lw(e,n):Co(isNaN(e)?t:e)}var Ah=P(()=>{Th()});function zw(e){return function(t){var n=t.length,r=new Array(n),a=new Array(n),i=new Array(n),o,l;for(o=0;o<n;++o)l=ka(t[o]),r[o]=l.r||0,a[o]=l.g||0,i[o]=l.b||0;return r=e(r),a=e(a),i=e(i),l.opacity=1,function(s){return l.r=r(s),l.g=a(s),l.b=i(s),l+""}}}var Pi,kh,UC,Vh=P(()=>{Kr();Ch();Pw();Ah();Pi=function e(t){var n=Iw(t);function r(a,i){var o=n((a=ka(a)).r,(i=ka(i)).r),l=n(a.g,i.g),s=n(a.b,i.b),f=Jr(a.opacity,i.opacity);return function(m){return a.r=o(m),a.g=l(m),a.b=s(m),a.opacity=f(m),a+""}}return r.gamma=e,r}(1);kh=zw(Nw),UC=zw(Ew)});function Rw(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function Fw(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var Bw=P(()=>{});function Hw(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Kt(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}var Yw=P(()=>{Xc()});function Ww(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}var $w=P(()=>{});function mn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var $u=P(()=>{});function Uw(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Kt(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var qw=P(()=>{Xc()});function qC(e){return function(){return e}}function GC(e){return function(t){return e(t)+""}}function Uu(e,t){var n=Nh.lastIndex=Dh.lastIndex=0,r,a,i,o=-1,l=[],s=[];for(e=e+"",t=t+"";(r=Nh.exec(e))&&(a=Dh.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,s.push({i:o,x:mn(r,a)})),n=Dh.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?GC(s[0].x):qC(t):(t=s.length,function(f){for(var m=0,x;m<t;++m)l[(x=s[m]).i]=x.x(f);return l.join("")})}var Nh,Dh,Eh=P(()=>{$u();Nh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dh=new RegExp(Nh.source,"g")});function Kt(e,t){var n=typeof t,r;return t==null||n==="boolean"?Co(t):(n==="number"?mn:n==="string"?(r=xn(t))?(t=r,Pi):Uu:t instanceof xn?Pi:t instanceof Date?Ww:Fw(t)?Rw:Array.isArray(t)?Hw:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Uw:mn)(e,t)}var Xc=P(()=>{Kr();Vh();Yw();$w();$u();qw();Eh();Th();Bw()});function qu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Gw=P(()=>{});function Ph(e,t,n,r,a,i){var o,l,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*Xw,skewX:Math.atan(s)*Xw,scaleX:o,scaleY:l}}var Xw,jc,jw=P(()=>{Xw=180/Math.PI,jc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function Qw(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?jc:Ph(t.a,t.b,t.c,t.d,t.e,t.f)}function Zw(e){return e==null?jc:(Qc||(Qc=document.createElementNS("http://www.w3.org/2000/svg","g")),Qc.setAttribute("transform",e),(e=Qc.transform.baseVal.consolidate())?(e=e.matrix,Ph(e.a,e.b,e.c,e.d,e.e,e.f)):jc)}var Qc,Kw=P(()=>{jw()});function Jw(e,t,n,r){function a(f){return f.length?f.pop()+" ":""}function i(f,m,x,v,M,T){if(f!==x||m!==v){var A=M.push("translate(",null,t,null,n);T.push({i:A-4,x:mn(f,x)},{i:A-2,x:mn(m,v)})}else(x||v)&&M.push("translate("+x+t+v+n)}function o(f,m,x,v){f!==m?(f-m>180?m+=360:m-f>180&&(f+=360),v.push({i:x.push(a(x)+"rotate(",null,r)-2,x:mn(f,m)})):m&&x.push(a(x)+"rotate("+m+r)}function l(f,m,x,v){f!==m?v.push({i:x.push(a(x)+"skewX(",null,r)-2,x:mn(f,m)}):m&&x.push(a(x)+"skewX("+m+r)}function s(f,m,x,v,M,T){if(f!==x||m!==v){var A=M.push(a(M)+"scale(",null,",",null,")");T.push({i:A-4,x:mn(f,x)},{i:A-2,x:mn(m,v)})}else(x!==1||v!==1)&&M.push(a(M)+"scale("+x+","+v+")")}return function(f,m){var x=[],v=[];return f=e(f),m=e(m),i(f.translateX,f.translateY,m.translateX,m.translateY,x,v),o(f.rotate,m.rotate,x,v),l(f.skewX,m.skewX,x,v),s(f.scaleX,f.scaleY,m.scaleX,m.scaleY,x,v),f=m=null,function(M){for(var T=-1,A=v.length,C;++T<A;)x[(C=v[T]).i]=C.x(M);return x.join("")}}}var Lh,Oh,e_=P(()=>{$u();Kw();Lh=Jw(Qw,"px, ","px)","deg)"),Oh=Jw(Zw,", ",")",")")});function t_(e){return((e=Math.exp(e))+1/e)/2}function jC(e){return((e=Math.exp(e))-1/e)/2}function QC(e){return((e=Math.exp(2*e))-1)/(e+1)}var XC,Ih,n_=P(()=>{XC=1e-12;Ih=function e(t,n,r){function a(i,o){var l=i[0],s=i[1],f=i[2],m=o[0],x=o[1],v=o[2],M=m-l,T=x-s,A=M*M+T*T,C,D;if(A<XC)D=Math.log(v/f)/t,C=function(j){return[l+j*M,s+j*T,f*Math.exp(t*j*D)]};else{var R=Math.sqrt(A),B=(v*v-f*f+r*A)/(2*f*n*R),V=(v*v-f*f-r*A)/(2*v*n*R),I=Math.log(Math.sqrt(B*B+1)-B),O=Math.log(Math.sqrt(V*V+1)-V);D=(O-I)/t,C=function(j){var K=j*D,ye=t_(I),ge=f/(n*R)*(ye*QC(t*K+I)-jC(I));return[l+ge*M,s+ge*T,f*ye/t_(t*K+I)]}}return C.duration=D*1e3*t/Math.SQRT2,C}return a.rho=function(i){var o=Math.max(.001,+i),l=o*o,s=l*l;return e(o,l,s)},a}(Math.SQRT2,2,4)});function r_(e){return function t(n){n=+n;function r(a,i){var o=e((a=Vn(a)).h,(i=Vn(i)).h),l=Jr(a.s,i.s),s=Jr(a.l,i.l),f=Jr(a.opacity,i.opacity);return function(m){return a.h=o(m),a.s=l(m),a.l=s(Math.pow(m,n)),a.opacity=f(m),a+""}}return r.gamma=t,r}(1)}var ZC,To,a_=P(()=>{Kr();Ah();ZC=r_(Ow),To=r_(Jr)});var Zn=P(()=>{Xc();$u();Gw();Eh();e_();n_();Vh();a_()});var Ke,Et=P(()=>{Zn();Ke=e=>kh(e[e.length-1])});var zh,i_,o_=P(()=>{ct();Et();zh=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(He),i_=Ke(zh)});var Rh,u_,l_=P(()=>{ct();Et();Rh=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(He),u_=Ke(Rh)});var Fh,c_,s_=P(()=>{ct();Et();Fh=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(He),c_=Ke(Fh)});var Bh,f_,d_=P(()=>{ct();Et();Bh=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(He),f_=Ke(Bh)});var Hh,m_,h_=P(()=>{ct();Et();Hh=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(He),m_=Ke(Hh)});var Yh,p_,g_=P(()=>{ct();Et();Yh=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(He),p_=Ke(Yh)});var Wh,v_,y_=P(()=>{ct();Et();Wh=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(He),v_=Ke(Wh)});var $h,b_,x_=P(()=>{ct();Et();$h=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(He),b_=Ke($h)});var Uh,w_,__=P(()=>{ct();Et();Uh=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(He),w_=Ke(Uh)});var qh,S_,M_=P(()=>{ct();Et();qh=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(He),S_=Ke(qh)});var Gh,C_,T_=P(()=>{ct();Et();Gh=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(He),C_=Ke(Gh)});var Xh,A_,k_=P(()=>{ct();Et();Xh=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(He),A_=Ke(Xh)});var jh,V_,D_=P(()=>{ct();Et();jh=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(He),V_=Ke(jh)});var Qh,N_,E_=P(()=>{ct();Et();Qh=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(He),N_=Ke(Qh)});var Zh,P_,L_=P(()=>{ct();Et();Zh=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(He),P_=Ke(Zh)});var Kh,O_,I_=P(()=>{ct();Et();Kh=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(He),O_=Ke(Kh)});var Jh,z_,R_=P(()=>{ct();Et();Jh=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(He),z_=Ke(Jh)});var ep,F_,B_=P(()=>{ct();Et();ep=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(He),F_=Ke(ep)});var tp,H_,Y_=P(()=>{ct();Et();tp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(He),H_=Ke(tp)});var np,W_,$_=P(()=>{ct();Et();np=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(He),W_=Ke(np)});var rp,U_,q_=P(()=>{ct();Et();rp=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(He),U_=Ke(rp)});var ap,G_,X_=P(()=>{ct();Et();ap=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(He),G_=Ke(ap)});var ip,j_,Q_=P(()=>{ct();Et();ip=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(He),j_=Ke(ip)});var op,Z_,K_=P(()=>{ct();Et();op=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(He),Z_=Ke(op)});var up,J_,eS=P(()=>{ct();Et();up=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(He),J_=Ke(up)});var lp,tS,nS=P(()=>{ct();Et();lp=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(He),tS=Ke(lp)});var cp,rS,aS=P(()=>{ct();Et();cp=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(He),rS=Ke(cp)});function iS(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}var oS=P(()=>{});var uS,lS=P(()=>{Kr();Zn();uS=To(Vn(300,.5,0),Vn(-240,.5,1))});function fS(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Zc.h=360*e-100,Zc.s=1.5-1.5*t,Zc.l=.8-.9*t,Zc+""}var cS,sS,Zc,dS=P(()=>{Kr();Zn();cS=To(Vn(-100,.75,.35),Vn(80,1.5,.8)),sS=To(Vn(260,.75,.35),Vn(80,1.5,.8)),Zc=Vn()});function mS(e){var t;return e=(.5-e)*Math.PI,Kc.r=255*(t=Math.sin(e))*t,Kc.g=255*(t=Math.sin(e+KC))*t,Kc.b=255*(t=Math.sin(e+JC))*t,Kc+""}var Kc,KC,JC,hS=P(()=>{Kr();Kc=ka(),KC=Math.PI/3,JC=Math.PI*2/3});function pS(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}var gS=P(()=>{});function Jc(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var vS,yS,bS,xS,wS=P(()=>{ct();vS=Jc(He("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),yS=Jc(He("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),bS=Jc(He("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),xS=Jc(He("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))});var _S={};On(_S,{interpolateBlues:()=>G_,interpolateBrBG:()=>i_,interpolateBuGn:()=>S_,interpolateBuPu:()=>C_,interpolateCividis:()=>iS,interpolateCool:()=>sS,interpolateCubehelixDefault:()=>uS,interpolateGnBu:()=>A_,interpolateGreens:()=>j_,interpolateGreys:()=>Z_,interpolateInferno:()=>bS,interpolateMagma:()=>yS,interpolateOrRd:()=>V_,interpolateOranges:()=>rS,interpolatePRGn:()=>u_,interpolatePiYG:()=>c_,interpolatePlasma:()=>xS,interpolatePuBu:()=>P_,interpolatePuBuGn:()=>N_,interpolatePuOr:()=>f_,interpolatePuRd:()=>O_,interpolatePurples:()=>J_,interpolateRainbow:()=>fS,interpolateRdBu:()=>m_,interpolateRdGy:()=>p_,interpolateRdPu:()=>z_,interpolateRdYlBu:()=>v_,interpolateRdYlGn:()=>b_,interpolateReds:()=>tS,interpolateSinebow:()=>mS,interpolateSpectral:()=>w_,interpolateTurbo:()=>pS,interpolateViridis:()=>vS,interpolateWarm:()=>cS,interpolateYlGn:()=>H_,interpolateYlGnBu:()=>F_,interpolateYlOrBr:()=>W_,interpolateYlOrRd:()=>U_,schemeAccent:()=>G2,schemeBlues:()=>ap,schemeBrBG:()=>zh,schemeBuGn:()=>qh,schemeBuPu:()=>Gh,schemeCategory10:()=>U2,schemeDark2:()=>j2,schemeGnBu:()=>Xh,schemeGreens:()=>ip,schemeGreys:()=>op,schemeObservable10:()=>Z2,schemeOrRd:()=>jh,schemeOranges:()=>cp,schemePRGn:()=>Rh,schemePaired:()=>J2,schemePastel1:()=>tw,schemePastel2:()=>rw,schemePiYG:()=>Fh,schemePuBu:()=>Zh,schemePuBuGn:()=>Qh,schemePuOr:()=>Bh,schemePuRd:()=>Kh,schemePurples:()=>up,schemeRdBu:()=>Hh,schemeRdGy:()=>Yh,schemeRdPu:()=>Jh,schemeRdYlBu:()=>Wh,schemeRdYlGn:()=>$h,schemeReds:()=>lp,schemeSet1:()=>iw,schemeSet2:()=>uw,schemeSet3:()=>cw,schemeSpectral:()=>Uh,schemeTableau10:()=>fw,schemeYlGn:()=>tp,schemeYlGnBu:()=>ep,schemeYlOrBr:()=>np,schemeYlOrRd:()=>rp});var sp=P(()=>{q2();X2();Q2();K2();ew();nw();aw();ow();lw();sw();dw();o_();l_();s_();d_();h_();g_();y_();x_();__();M_();T_();k_();D_();E_();L_();I_();R_();B_();Y_();$_();q_();X_();Q_();K_();eS();nS();aS();oS();lS();dS();hS();gS();wS()});var fp=rr((es,SS)=>{(function(e,t){typeof es=="object"&&typeof SS<"u"?t(es):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(es,function(e){"use strict";var t={value:function(){}};function n(){for(var l=0,s=arguments.length,f={},m;l<s;++l){if(!(m=arguments[l]+"")||m in f)throw new Error("illegal type: "+m);f[m]=[]}return new r(f)}function r(l){this._=l}function a(l,s){return l.trim().split(/^|\s+/).map(function(f){var m="",x=f.indexOf(".");if(x>=0&&(m=f.slice(x+1),f=f.slice(0,x)),f&&!s.hasOwnProperty(f))throw new Error("unknown type: "+f);return{type:f,name:m}})}r.prototype=n.prototype={constructor:r,on:function(l,s){var f=this._,m=a(l+"",f),x,v=-1,M=m.length;if(arguments.length<2){for(;++v<M;)if((x=(l=m[v]).type)&&(x=i(f[x],l.name)))return x;return}if(s!=null&&typeof s!="function")throw new Error("invalid callback: "+s);for(;++v<M;)if(x=(l=m[v]).type)f[x]=o(f[x],l.name,s);else if(s==null)for(x in f)f[x]=o(f[x],l.name,null);return this},copy:function(){var l={},s=this._;for(var f in s)l[f]=s[f].slice();return new r(l)},call:function(l,s){if((x=arguments.length-2)>0)for(var f=new Array(x),m=0,x,v;m<x;++m)f[m]=arguments[m+2];if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(v=this._[l],m=0,x=v.length;m<x;++m)v[m].value.apply(s,f)},apply:function(l,s,f){if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(var m=this._[l],x=0,v=m.length;x<v;++x)m[x].value.apply(s,f)}};function i(l,s){for(var f=0,m=l.length,x;f<m;++f)if((x=l[f]).name===s)return x.value}function o(l,s,f){for(var m=0,x=l.length;m<x;++m)if(l[m].name===s){l[m]=t,l=l.slice(0,m).concat(l.slice(m+1));break}return f!=null&&l.push({name:s,value:f}),l}e.dispatch=n,Object.defineProperty(e,"__esModule",{value:!0})})});function CS(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ts(n)}function ts(e){this._=e}function tT(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}function nT(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function MS(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=eT,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var eT,ea,TS=P(()=>{eT={value:()=>{}};ts.prototype=CS.prototype={constructor:ts,on:function(e,t){var n=this._,r=tT(e+"",n),a,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((a=(e=r[i]).type)&&(a=nT(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=r[i]).type)n[a]=MS(n[a],e.name,t);else if(t==null)for(a in n)n[a]=MS(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ts(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};ea=CS});var Ao=P(()=>{TS()});function ns(e){e.stopImmediatePropagation()}function Va(e){e.preventDefault(),e.stopImmediatePropagation()}var AS,Li,dp=P(()=>{AS={passive:!1},Li={capture:!0,passive:!1}});function Oi(e){var t=e.document.documentElement,n=Re(e).on("dragstart.drag",Va,Li);"onselectstart"in t?n.on("selectstart.drag",Va,Li):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ii(e,t){var n=e.document.documentElement,r=Re(e).on("dragstart.drag",null);t&&(r.on("click.drag",Va,Li),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var mp=P(()=>{yn();dp()});var Gu,kS=P(()=>{Gu=e=>()=>e});function Xu(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:i,x:o,y:l,dx:s,dy:f,dispatch:m}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:m}})}var VS=P(()=>{Xu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e}});function rT(e){return!e.ctrlKey&&!e.button}function aT(){return this.parentNode}function iT(e,t){return t??{x:e.x,y:e.y}}function oT(){return navigator.maxTouchPoints||"ontouchstart"in this}function ko(){var e=rT,t=aT,n=iT,r=oT,a={},i=ea("start","drag","end"),o=0,l,s,f,m,x=0;function v(V){V.on("mousedown.drag",M).filter(r).on("touchstart.drag",C).on("touchmove.drag",D,AS).on("touchend.drag touchcancel.drag",R).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function M(V,I){if(!(m||!e.call(this,V,I))){var O=B(this,t.call(this,V,I),V,I,"mouse");!O||(Re(V.view).on("mousemove.drag",T,Li).on("mouseup.drag",A,Li),Oi(V.view),ns(V),f=!1,l=V.clientX,s=V.clientY,O("start",V))}}function T(V){if(Va(V),!f){var I=V.clientX-l,O=V.clientY-s;f=I*I+O*O>x}a.mouse("drag",V)}function A(V){Re(V.view).on("mousemove.drag mouseup.drag",null),Ii(V.view,f),Va(V),a.mouse("end",V)}function C(V,I){if(!!e.call(this,V,I)){var O=V.changedTouches,j=t.call(this,V,I),K=O.length,ye,ge;for(ye=0;ye<K;++ye)(ge=B(this,j,V,I,O[ye].identifier,O[ye]))&&(ns(V),ge("start",V,O[ye]))}}function D(V){var I=V.changedTouches,O=I.length,j,K;for(j=0;j<O;++j)(K=a[I[j].identifier])&&(Va(V),K("drag",V,I[j]))}function R(V){var I=V.changedTouches,O=I.length,j,K;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),j=0;j<O;++j)(K=a[I[j].identifier])&&(ns(V),K("end",V,I[j]))}function B(V,I,O,j,K,ye){var ge=i.copy(),le=Qt(ye||O,I),Ie,he,U;if((U=n.call(V,new Xu("beforestart",{sourceEvent:O,target:v,identifier:K,active:o,x:le[0],y:le[1],dx:0,dy:0,dispatch:ge}),j))!=null)return Ie=U.x-le[0]||0,he=U.y-le[1]||0,function _e(ne,ie,ve){var oe=le,be;switch(ne){case"start":a[K]=_e,be=o++;break;case"end":delete a[K],--o;case"drag":le=Qt(ve||ie,I),be=o;break}ge.call(ne,V,new Xu(ne,{sourceEvent:ie,subject:U,target:v,identifier:K,active:be,x:le[0]+Ie,y:le[1]+he,dx:le[0]-oe[0],dy:le[1]-oe[1],dispatch:ge}),j)}}return v.filter=function(V){return arguments.length?(e=typeof V=="function"?V:Gu(!!V),v):e},v.container=function(V){return arguments.length?(t=typeof V=="function"?V:Gu(V),v):t},v.subject=function(V){return arguments.length?(n=typeof V=="function"?V:Gu(V),v):n},v.touchable=function(V){return arguments.length?(r=typeof V=="function"?V:Gu(!!V),v):r},v.on=function(){var V=i.on.apply(i,arguments);return V===i?v:V},v.clickDistance=function(V){return arguments.length?(x=(V=+V)*V,v):Math.sqrt(x)},v}var DS=P(()=>{Ao();yn();mp();dp();kS();VS()});var rs=P(()=>{DS();mp()});function el(){return zi||(PS(uT),zi=Ku.now()+os)}function uT(){zi=0}function Ju(){this._call=this._time=this._next=null}function us(e,t,n){var r=new Ju;return r.restart(e,t,n),r}function LS(){el(),++Vo;for(var e=as,t;e;)(t=zi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Vo}function NS(){zi=(is=Ku.now())+os,Vo=Qu=0;try{LS()}finally{Vo=0,cT(),zi=0}}function lT(){var e=Ku.now(),t=e-is;t>ES&&(os-=t,is=e)}function cT(){for(var e,t=as,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:as=n);Zu=e,hp(r)}function hp(e){if(!Vo){Qu&&(Qu=clearTimeout(Qu));var t=e-zi;t>24?(e<1/0&&(Qu=setTimeout(NS,e-Ku.now()-os)),ju&&(ju=clearInterval(ju))):(ju||(is=Ku.now(),ju=setInterval(lT,ES)),Vo=1,PS(NS))}}var Vo,Qu,ju,ES,as,Zu,is,zi,os,Ku,PS,pp=P(()=>{Vo=0,Qu=0,ju=0,ES=1e3,is=0,zi=0,os=0,Ku=typeof performance=="object"&&performance.now?performance:Date,PS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};Ju.prototype=us.prototype={constructor:Ju,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?el():+n)+(t==null?0:+t),!this._next&&Zu!==this&&(Zu?Zu._next=this:as=this,Zu=this),this._call=e,this._time=n,hp()},stop:function(){this._call&&(this._call=null,this._time=1/0,hp())}}});function ls(e,t,n){var r=new Ju;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var OS=P(()=>{pp()});var cs=P(()=>{pp();OS()});function Da(e,t,n,r,a,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;dT(e,n,{name:t,index:r,group:a,on:sT,tween:fT,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:RS})}function nl(e,t){var n=Wt(e,t);if(n.state>RS)throw new Error("too late; already scheduled");return n}function hn(e,t){var n=Wt(e,t);if(n.state>ss)throw new Error("too late; already running");return n}function Wt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function dT(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=us(i,0,n.time);function i(f){n.state=IS,n.timer.restart(o,n.delay,n.time),n.delay<=f&&o(f-n.delay)}function o(f){var m,x,v,M;if(n.state!==IS)return s();for(m in r)if(M=r[m],M.name===n.name){if(M.state===ss)return ls(o);M.state===zS?(M.state=tl,M.timer.stop(),M.on.call("interrupt",e,e.__data__,M.index,M.group),delete r[m]):+m<t&&(M.state=tl,M.timer.stop(),M.on.call("cancel",e,e.__data__,M.index,M.group),delete r[m])}if(ls(function(){n.state===ss&&(n.state=zS,n.timer.restart(l,n.delay,n.time),l(f))}),n.state=fs,n.on.call("start",e,e.__data__,n.index,n.group),n.state===fs){for(n.state=ss,a=new Array(v=n.tween.length),m=0,x=-1;m<v;++m)(M=n.tween[m].value.call(e,e.__data__,n.index,n.group))&&(a[++x]=M);a.length=x+1}}function l(f){for(var m=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(s),n.state=ds,1),x=-1,v=a.length;++x<v;)a[x].call(e,m);n.state===ds&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=tl,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}var sT,fT,RS,IS,fs,ss,zS,ds,tl,Fn=P(()=>{Ao();cs();sT=ea("start","end","cancel","interrupt"),fT=[],RS=0,IS=1,fs=2,ss=3,zS=4,ds=5,tl=6});function Lr(e,t){var n=e.__transition,r,a,i=!0,o;if(!!n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}a=r.state>fs&&r.state<ds,r.state=tl,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}var gp=P(()=>{Fn()});function FS(e){return this.each(function(){Lr(this,e)})}var BS=P(()=>{gp()});function mT(e,t){var n,r;return function(){var a=hn(this,e),i=a.tween;if(i!==n){r=n=i;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function hT(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var i=hn(this,e),o=i.tween;if(o!==r){a=(r=o).slice();for(var l={name:t,value:n},s=0,f=a.length;s<f;++s)if(a[s].name===t){a[s]=l;break}s===f&&a.push(l)}i.tween=a}}function HS(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Wt(this.node(),n).tween,a=0,i=r.length,o;a<i;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((t==null?mT:hT)(n,e,t))}function Do(e,t,n){var r=e._id;return e.each(function(){var a=hn(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return Wt(a,r).value[t]}}var rl=P(()=>{Fn()});function ms(e,t){var n;return(typeof t=="number"?mn:t instanceof xn?Pi:(n=xn(t))?(t=n,Pi):Uu)(e,t)}var vp=P(()=>{Kr();Zn()});function pT(e){return function(){this.removeAttribute(e)}}function gT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function vT(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function yT(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function bT(e,t,n){var r,a,i;return function(){var o,l=n(this),s;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),s=l+"",o===s?null:o===r&&s===a?i:(a=s,i=t(r=o,l)))}}function xT(e,t,n){var r,a,i;return function(){var o,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),s=l+"",o===s?null:o===r&&s===a?i:(a=s,i=t(r=o,l)))}}function YS(e,t){var n=Vr(e),r=n==="transform"?Oh:ms;return this.attrTween(e,typeof t=="function"?(n.local?xT:bT)(n,r,Do(this,"attr."+e,t)):t==null?(n.local?gT:pT)(n):(n.local?yT:vT)(n,r,t))}var WS=P(()=>{Zn();yn();rl();vp()});function wT(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function _T(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ST(e,t){var n,r;function a(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&_T(e,i)),n}return a._value=t,a}function MT(e,t){var n,r;function a(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&wT(e,i)),n}return a._value=t,a}function $S(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Vr(e);return this.tween(n,(r.local?ST:MT)(r,t))}var US=P(()=>{yn()});function CT(e,t){return function(){nl(this,e).delay=+t.apply(this,arguments)}}function TT(e,t){return t=+t,function(){nl(this,e).delay=t}}function qS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?CT:TT)(t,e)):Wt(this.node(),t).delay}var GS=P(()=>{Fn()});function AT(e,t){return function(){hn(this,e).duration=+t.apply(this,arguments)}}function kT(e,t){return t=+t,function(){hn(this,e).duration=t}}function XS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?AT:kT)(t,e)):Wt(this.node(),t).duration}var jS=P(()=>{Fn()});function VT(e,t){if(typeof t!="function")throw new Error;return function(){hn(this,e).ease=t}}function QS(e){var t=this._id;return arguments.length?this.each(VT(t,e)):Wt(this.node(),t).ease}var ZS=P(()=>{Fn()});function DT(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;hn(this,e).ease=n}}function KS(e){if(typeof e!="function")throw new Error;return this.each(DT(this._id,e))}var JS=P(()=>{Fn()});function e3(e){typeof e!="function"&&(e=so(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=[],s,f=0;f<o;++f)(s=i[f])&&e.call(s,s.__data__,f,i)&&l.push(s);return new Dn(r,this._parents,this._name,this._id)}var t3=P(()=>{yn();Ri()});function n3(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),l=0;l<i;++l)for(var s=t[l],f=n[l],m=s.length,x=o[l]=new Array(m),v,M=0;M<m;++M)(v=s[M]||f[M])&&(x[M]=v);for(;l<r;++l)o[l]=t[l];return new Dn(o,this._parents,this._name,this._id)}var r3=P(()=>{Ri()});function NT(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function ET(e,t,n){var r,a,i=NT(t)?nl:hn;return function(){var o=i(this,e),l=o.on;l!==r&&(a=(r=l).copy()).on(t,n),o.on=a}}function a3(e,t){var n=this._id;return arguments.length<2?Wt(this.node(),n).on.on(e):this.each(ET(n,e,t))}var i3=P(()=>{Fn()});function PT(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function o3(){return this.on("end.remove",PT(this._id))}var u3=P(()=>{});function l3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_a(e));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var l=r[o],s=l.length,f=i[o]=new Array(s),m,x,v=0;v<s;++v)(m=l[v])&&(x=e.call(m,m.__data__,v,l))&&("__data__"in m&&(x.__data__=m.__data__),f[v]=x,Da(f[v],t,n,v,f,Wt(m,n)));return new Dn(i,this._parents,t,n)}var c3=P(()=>{yn();Ri();Fn()});function s3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=co(e));for(var r=this._groups,a=r.length,i=[],o=[],l=0;l<a;++l)for(var s=r[l],f=s.length,m,x=0;x<f;++x)if(m=s[x]){for(var v=e.call(m,m.__data__,x,s),M,T=Wt(m,n),A=0,C=v.length;A<C;++A)(M=v[A])&&Da(M,t,n,A,v,T);i.push(v),o.push(m)}return new Dn(i,o,t,n)}var f3=P(()=>{yn();Ri();Fn()});function d3(){return new LT(this._groups,this._parents)}var LT,m3=P(()=>{yn();LT=Dr.prototype.constructor});function OT(e,t){var n,r,a;return function(){var i=Zr(this,e),o=(this.style.removeProperty(e),Zr(this,e));return i===o?null:i===n&&o===r?a:a=t(n=i,r=o)}}function h3(e){return function(){this.style.removeProperty(e)}}function IT(e,t,n){var r,a=n+"",i;return function(){var o=Zr(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}function zT(e,t,n){var r,a,i;return function(){var o=Zr(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),Zr(this,e))),o===s?null:o===r&&s===a?i:(a=s,i=t(r=o,l))}}function RT(e,t){var n,r,a,i="style."+t,o="end."+i,l;return function(){var s=hn(this,e),f=s.on,m=s.value[i]==null?l||(l=h3(t)):void 0;(f!==n||a!==m)&&(r=(n=f).copy()).on(o,a=m),s.on=r}}function p3(e,t,n){var r=(e+="")=="transform"?Lh:ms;return t==null?this.styleTween(e,OT(e,r)).on("end.style."+e,h3(e)):typeof t=="function"?this.styleTween(e,zT(e,r,Do(this,"style."+e,t))).each(RT(this._id,e)):this.styleTween(e,IT(e,r,t),n).on("end.style."+e,null)}var g3=P(()=>{Zn();yn();Fn();rl();vp()});function FT(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function BT(e,t,n){var r,a;function i(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&FT(e,o,n)),r}return i._value=t,i}function v3(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,BT(e,t,n??""))}var y3=P(()=>{});function HT(e){return function(){this.textContent=e}}function YT(e){return function(){var t=e(this);this.textContent=t??""}}function b3(e){return this.tween("text",typeof e=="function"?YT(Do(this,"text",e)):HT(e==null?"":e+""))}var x3=P(()=>{rl()});function WT(e){return function(t){this.textContent=e.call(this,t)}}function $T(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&WT(a)),t}return r._value=e,r}function w3(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,$T(e))}var _3=P(()=>{});function S3(){for(var e=this._name,t=this._id,n=hs(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],l=o.length,s,f=0;f<l;++f)if(s=o[f]){var m=Wt(s,t);Da(s,e,n,f,o,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new Dn(r,this._parents,e,n)}var M3=P(()=>{Ri();Fn()});function C3(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(i,o){var l={value:o},s={value:function(){--a===0&&i()}};n.each(function(){var f=hn(this,r),m=f.on;m!==e&&(t=(e=m).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),f.on=t}),a===0&&i()})}var T3=P(()=>{Fn()});function Dn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function A3(e){return Dr().transition(e)}function hs(){return++UT}var UT,ta,Ri=P(()=>{yn();WS();US();GS();jS();ZS();JS();t3();r3();i3();u3();c3();f3();m3();g3();y3();x3();_3();M3();rl();T3();UT=0;ta=Dr.prototype;Dn.prototype=A3.prototype={constructor:Dn,select:l3,selectAll:s3,selectChild:ta.selectChild,selectChildren:ta.selectChildren,filter:e3,merge:n3,selection:d3,transition:S3,call:ta.call,nodes:ta.nodes,node:ta.node,size:ta.size,empty:ta.empty,each:ta.each,on:a3,attr:YS,attrTween:$S,style:p3,styleTween:v3,text:b3,textTween:w3,remove:o3,tween:HS,delay:qS,duration:XS,ease:QS,easeVarying:KS,end:C3,[Symbol.iterator]:ta[Symbol.iterator]}});function ps(e){return--e*e*e+1}function gs(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var k3=P(()=>{});var yp=P(()=>{k3()});function GT(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function V3(e){var t,n;e instanceof Dn?(t=e._id,e=e._name):(t=hs(),(n=qT).time=el(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],l=o.length,s,f=0;f<l;++f)(s=o[f])&&Da(s,e,t,f,o,n||GT(s,t));return new Dn(r,this._parents,e,t)}var qT,D3=P(()=>{Ri();Fn();yp();cs();qT={time:null,delay:0,duration:250,ease:gs}});var N3=P(()=>{yn();BS();D3();Dr.prototype.interrupt=FS;Dr.prototype.transition=V3});var vs=P(()=>{N3();gp()});var ys,E3=P(()=>{ys=e=>()=>e});function bp(e,{sourceEvent:t,target:n,selection:r,mode:a,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:i}})}var P3=P(()=>{});function L3(e){e.stopImmediatePropagation()}function bs(e){e.preventDefault(),e.stopImmediatePropagation()}var O3=P(()=>{});function R3(e){return[+e[0],+e[1]]}function _p(e){return[R3(e[0]),R3(e[1])]}function al(e){return{type:e}}function ZT(e){return!e.ctrlKey&&!e.button}function KT(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function JT(){return navigator.maxTouchPoints||"ontouchstart"in this}function wp(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function eA(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function H3(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function Y3(){return Sp(xs)}function W3(){return Sp(ws)}function $3(){return Sp(XT)}function Sp(e){var t=KT,n=ZT,r=JT,a=!0,i=ea("start","brush","end"),o=6,l;function s(C){var D=C.property("__brush",A).selectAll(".overlay").data([al("overlay")]);D.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",na.overlay).merge(D).each(function(){var B=wp(this).extent;Re(this).attr("x",B[0][0]).attr("y",B[0][1]).attr("width",B[1][0]-B[0][0]).attr("height",B[1][1]-B[0][1])}),C.selectAll(".selection").data([al("selection")]).enter().append("rect").attr("class","selection").attr("cursor",na.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var R=C.selectAll(".handle").data(e.handles,function(B){return B.type});R.exit().remove(),R.enter().append("rect").attr("class",function(B){return"handle handle--"+B.type}).attr("cursor",function(B){return na[B.type]}),C.each(f).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",v).filter(r).on("touchstart.brush",v).on("touchmove.brush",M).on("touchend.brush touchcancel.brush",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}s.move=function(C,D,R){C.tween?C.on("start.brush",function(B){m(this,arguments).beforestart().start(B)}).on("interrupt.brush end.brush",function(B){m(this,arguments).end(B)}).tween("brush",function(){var B=this,V=B.__brush,I=m(B,arguments),O=V.selection,j=e.input(typeof D=="function"?D.apply(this,arguments):D,V.extent),K=Kt(O,j);function ye(ge){V.selection=ge===1&&j===null?null:K(ge),f.call(B),I.brush()}return O!==null&&j!==null?ye:ye(1)}):C.each(function(){var B=this,V=arguments,I=B.__brush,O=e.input(typeof D=="function"?D.apply(B,V):D,I.extent),j=m(B,V).beforestart();Lr(B),I.selection=O===null?null:O,f.call(B),j.start(R).brush(R).end(R)})},s.clear=function(C,D){s.move(C,null,D)};function f(){var C=Re(this),D=wp(this).selection;D?(C.selectAll(".selection").style("display",null).attr("x",D[0][0]).attr("y",D[0][1]).attr("width",D[1][0]-D[0][0]).attr("height",D[1][1]-D[0][1]),C.selectAll(".handle").style("display",null).attr("x",function(R){return R.type[R.type.length-1]==="e"?D[1][0]-o/2:D[0][0]-o/2}).attr("y",function(R){return R.type[0]==="s"?D[1][1]-o/2:D[0][1]-o/2}).attr("width",function(R){return R.type==="n"||R.type==="s"?D[1][0]-D[0][0]+o:o}).attr("height",function(R){return R.type==="e"||R.type==="w"?D[1][1]-D[0][1]+o:o})):C.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function m(C,D,R){var B=C.__brush.emitter;return B&&(!R||!B.clean)?B:new x(C,D,R)}function x(C,D,R){this.that=C,this.args=D,this.state=C.__brush,this.active=0,this.clean=R}x.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(C,D){return this.starting?(this.starting=!1,this.emit("start",C,D)):this.emit("brush",C),this},brush:function(C,D){return this.emit("brush",C,D),this},end:function(C,D){return--this.active===0&&(delete this.state.emitter,this.emit("end",C,D)),this},emit:function(C,D,R){var B=Re(this.that).datum();i.call(C,this.that,new bp(C,{sourceEvent:D,target:s,selection:e.output(this.state.selection),mode:R,dispatch:i}),B)}};function v(C){if(l&&!C.touches||!n.apply(this,arguments))return;var D=this,R=C.target.__data__.type,B=(a&&C.metaKey?R="overlay":R)==="selection"?I3:a&&C.altKey?Eo:No,V=e===ws?null:jT[R],I=e===xs?null:QT[R],O=wp(D),j=O.extent,K=O.selection,ye=j[0][0],ge,le,Ie=j[0][1],he,U,_e=j[1][0],ne,ie,ve=j[1][1],oe,be,Ee=0,De=0,Se,Ye=V&&I&&a&&C.shiftKey,Oe,Qe,Ue=Array.from(C.touches||[C],Be=>{let it=Be.identifier;return Be=Qt(Be,D),Be.point0=Be.slice(),Be.identifier=it,Be});Lr(D);var Q=m(D,arguments,!0).beforestart();if(R==="overlay"){K&&(Se=!0);let Be=[Ue[0],Ue[1]||Ue[0]];O.selection=K=[[ge=e===ws?ye:_n(Be[0][0],Be[1][0]),he=e===xs?Ie:_n(Be[0][1],Be[1][1])],[ne=e===ws?_e:wn(Be[0][0],Be[1][0]),oe=e===xs?ve:wn(Be[0][1],Be[1][1])]],Ue.length>1&&se(C)}else ge=K[0][0],he=K[0][1],ne=K[1][0],oe=K[1][1];le=ge,U=he,ie=ne,be=oe;var Z=Re(D).attr("pointer-events","none"),ce=Z.selectAll(".overlay").attr("cursor",na[R]);if(C.touches)Q.moved=$,Q.ended=Ne;else{var te=Re(C.view).on("mousemove.brush",$,!0).on("mouseup.brush",Ne,!0);a&&te.on("keydown.brush",We,!0).on("keyup.brush",ot,!0),Oi(C.view)}f.call(D),Q.start(C,B.name);function $(Be){for(let it of Be.changedTouches||[Be])for(let vt of Ue)vt.identifier===it.identifier&&(vt.cur=Qt(it,D));if(Ye&&!Oe&&!Qe&&Ue.length===1){let it=Ue[0];z3(it.cur[0]-it[0])>z3(it.cur[1]-it[1])?Qe=!0:Oe=!0}for(let it of Ue)it.cur&&(it[0]=it.cur[0],it[1]=it.cur[1]);Se=!0,bs(Be),se(Be)}function se(Be){let it=Ue[0],vt=it.point0;var nt;switch(Ee=it[0]-vt[0],De=it[1]-vt[1],B){case xp:case I3:{V&&(Ee=wn(ye-ge,_n(_e-ne,Ee)),le=ge+Ee,ie=ne+Ee),I&&(De=wn(Ie-he,_n(ve-oe,De)),U=he+De,be=oe+De);break}case No:{Ue[1]?(V&&(le=wn(ye,_n(_e,Ue[0][0])),ie=wn(ye,_n(_e,Ue[1][0])),V=1),I&&(U=wn(Ie,_n(ve,Ue[0][1])),be=wn(Ie,_n(ve,Ue[1][1])),I=1)):(V<0?(Ee=wn(ye-ge,_n(_e-ge,Ee)),le=ge+Ee,ie=ne):V>0&&(Ee=wn(ye-ne,_n(_e-ne,Ee)),le=ge,ie=ne+Ee),I<0?(De=wn(Ie-he,_n(ve-he,De)),U=he+De,be=oe):I>0&&(De=wn(Ie-oe,_n(ve-oe,De)),U=he,be=oe+De));break}case Eo:{V&&(le=wn(ye,_n(_e,ge-Ee*V)),ie=wn(ye,_n(_e,ne+Ee*V))),I&&(U=wn(Ie,_n(ve,he-De*I)),be=wn(Ie,_n(ve,oe+De*I)));break}}ie<le&&(V*=-1,nt=ge,ge=ne,ne=nt,nt=le,le=ie,ie=nt,R in F3&&ce.attr("cursor",na[R=F3[R]])),be<U&&(I*=-1,nt=he,he=oe,oe=nt,nt=U,U=be,be=nt,R in B3&&ce.attr("cursor",na[R=B3[R]])),O.selection&&(K=O.selection),Oe&&(le=K[0][0],ie=K[1][0]),Qe&&(U=K[0][1],be=K[1][1]),(K[0][0]!==le||K[0][1]!==U||K[1][0]!==ie||K[1][1]!==be)&&(O.selection=[[le,U],[ie,be]],f.call(D),Q.brush(Be,B.name))}function Ne(Be){if(L3(Be),Be.touches){if(Be.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else Ii(Be.view,Se),te.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Z.attr("pointer-events","all"),ce.attr("cursor",na.overlay),O.selection&&(K=O.selection),eA(K)&&(O.selection=null,f.call(D)),Q.end(Be,B.name)}function We(Be){switch(Be.keyCode){case 16:{Ye=V&&I;break}case 18:{B===No&&(V&&(ne=ie-Ee*V,ge=le+Ee*V),I&&(oe=be-De*I,he=U+De*I),B=Eo,se(Be));break}case 32:{(B===No||B===Eo)&&(V<0?ne=ie-Ee:V>0&&(ge=le-Ee),I<0?oe=be-De:I>0&&(he=U-De),B=xp,ce.attr("cursor",na.selection),se(Be));break}default:return}bs(Be)}function ot(Be){switch(Be.keyCode){case 16:{Ye&&(Oe=Qe=Ye=!1,se(Be));break}case 18:{B===Eo&&(V<0?ne=ie:V>0&&(ge=le),I<0?oe=be:I>0&&(he=U),B=No,se(Be));break}case 32:{B===xp&&(Be.altKey?(V&&(ne=ie-Ee*V,ge=le+Ee*V),I&&(oe=be-De*I,he=U+De*I),B=Eo):(V<0?ne=ie:V>0&&(ge=le),I<0?oe=be:I>0&&(he=U),B=No),ce.attr("cursor",na[R]),se(Be));break}default:return}bs(Be)}}function M(C){m(this,arguments).moved(C)}function T(C){m(this,arguments).ended(C)}function A(){var C=this.__brush||{selection:null};return C.extent=_p(t.apply(this,arguments)),C.dim=e,C}return s.extent=function(C){return arguments.length?(t=typeof C=="function"?C:ys(_p(C)),s):t},s.filter=function(C){return arguments.length?(n=typeof C=="function"?C:ys(!!C),s):n},s.touchable=function(C){return arguments.length?(r=typeof C=="function"?C:ys(!!C),s):r},s.handleSize=function(C){return arguments.length?(o=+C,s):o},s.keyModifiers=function(C){return arguments.length?(a=!!C,s):a},s.on=function(){var C=i.on.apply(i,arguments);return C===i?s:C},s}var I3,xp,No,Eo,z3,wn,_n,xs,ws,XT,na,F3,B3,jT,QT,U3=P(()=>{Ao();rs();Zn();yn();vs();E3();P3();O3();I3={name:"drag"},xp={name:"space"},No={name:"handle"},Eo={name:"center"},{abs:z3,max:wn,min:_n}=Math;xs={name:"x",handles:["w","e"].map(al),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},ws={name:"y",handles:["n","s"].map(al),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},XT={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(al),input:function(e){return e==null?null:_p(e)},output:function(e){return e}},na={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},F3={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},B3={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},jT={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},QT={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1}});var q3={};On(q3,{brush:()=>$3,brushSelection:()=>H3,brushX:()=>Y3,brushY:()=>W3});var Mp=P(()=>{U3()});var il,G3=P(()=>{il=e=>()=>e});function Cp(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}var X3=P(()=>{});function Kn(e,t,n){this.k=e,this.x=t,this.y=n}function _s(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Or;return e.__zoom}var Or,Tp=P(()=>{Kn.prototype={constructor:Kn,scale:function(e){return e===1?this:new Kn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Kn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Or=new Kn(1,0,0);_s.prototype=Kn.prototype});function Ss(e){e.stopImmediatePropagation()}function Po(e){e.preventDefault(),e.stopImmediatePropagation()}var j3=P(()=>{});function tA(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function nA(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Q3(){return this.__zoom||Or}function rA(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function aA(){return navigator.maxTouchPoints||"ontouchstart"in this}function iA(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function Ms(){var e=tA,t=nA,n=iA,r=rA,a=aA,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,s=Ih,f=ea("start","zoom","end"),m,x,v,M=500,T=150,A=0,C=10;function D(U){U.property("__zoom",Q3).on("wheel.zoom",K,{passive:!1}).on("mousedown.zoom",ye).on("dblclick.zoom",ge).filter(a).on("touchstart.zoom",le).on("touchmove.zoom",Ie).on("touchend.zoom touchcancel.zoom",he).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}D.transform=function(U,_e,ne,ie){var ve=U.selection?U.selection():U;ve.property("__zoom",Q3),U!==ve?I(U,_e,ne,ie):ve.interrupt().each(function(){O(this,arguments).event(ie).start().zoom(null,typeof _e=="function"?_e.apply(this,arguments):_e).end()})},D.scaleBy=function(U,_e,ne,ie){D.scaleTo(U,function(){var ve=this.__zoom.k,oe=typeof _e=="function"?_e.apply(this,arguments):_e;return ve*oe},ne,ie)},D.scaleTo=function(U,_e,ne,ie){D.transform(U,function(){var ve=t.apply(this,arguments),oe=this.__zoom,be=ne==null?V(ve):typeof ne=="function"?ne.apply(this,arguments):ne,Ee=oe.invert(be),De=typeof _e=="function"?_e.apply(this,arguments):_e;return n(B(R(oe,De),be,Ee),ve,o)},ne,ie)},D.translateBy=function(U,_e,ne,ie){D.transform(U,function(){return n(this.__zoom.translate(typeof _e=="function"?_e.apply(this,arguments):_e,typeof ne=="function"?ne.apply(this,arguments):ne),t.apply(this,arguments),o)},null,ie)},D.translateTo=function(U,_e,ne,ie,ve){D.transform(U,function(){var oe=t.apply(this,arguments),be=this.__zoom,Ee=ie==null?V(oe):typeof ie=="function"?ie.apply(this,arguments):ie;return n(Or.translate(Ee[0],Ee[1]).scale(be.k).translate(typeof _e=="function"?-_e.apply(this,arguments):-_e,typeof ne=="function"?-ne.apply(this,arguments):-ne),oe,o)},ie,ve)};function R(U,_e){return _e=Math.max(i[0],Math.min(i[1],_e)),_e===U.k?U:new Kn(_e,U.x,U.y)}function B(U,_e,ne){var ie=_e[0]-ne[0]*U.k,ve=_e[1]-ne[1]*U.k;return ie===U.x&&ve===U.y?U:new Kn(U.k,ie,ve)}function V(U){return[(+U[0][0]+ +U[1][0])/2,(+U[0][1]+ +U[1][1])/2]}function I(U,_e,ne,ie){U.on("start.zoom",function(){O(this,arguments).event(ie).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(ie).end()}).tween("zoom",function(){var ve=this,oe=arguments,be=O(ve,oe).event(ie),Ee=t.apply(ve,oe),De=ne==null?V(Ee):typeof ne=="function"?ne.apply(ve,oe):ne,Se=Math.max(Ee[1][0]-Ee[0][0],Ee[1][1]-Ee[0][1]),Ye=ve.__zoom,Oe=typeof _e=="function"?_e.apply(ve,oe):_e,Qe=s(Ye.invert(De).concat(Se/Ye.k),Oe.invert(De).concat(Se/Oe.k));return function(Ue){if(Ue===1)Ue=Oe;else{var Q=Qe(Ue),Z=Se/Q[2];Ue=new Kn(Z,De[0]-Q[0]*Z,De[1]-Q[1]*Z)}be.zoom(null,Ue)}})}function O(U,_e,ne){return!ne&&U.__zooming||new j(U,_e)}function j(U,_e){this.that=U,this.args=_e,this.active=0,this.sourceEvent=null,this.extent=t.apply(U,_e),this.taps=0}j.prototype={event:function(U){return U&&(this.sourceEvent=U),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(U,_e){return this.mouse&&U!=="mouse"&&(this.mouse[1]=_e.invert(this.mouse[0])),this.touch0&&U!=="touch"&&(this.touch0[1]=_e.invert(this.touch0[0])),this.touch1&&U!=="touch"&&(this.touch1[1]=_e.invert(this.touch1[0])),this.that.__zoom=_e,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(U){var _e=Re(this.that).datum();f.call(U,this.that,new Cp(U,{sourceEvent:this.sourceEvent,target:D,type:U,transform:this.that.__zoom,dispatch:f}),_e)}};function K(U,..._e){if(!e.apply(this,arguments))return;var ne=O(this,_e).event(U),ie=this.__zoom,ve=Math.max(i[0],Math.min(i[1],ie.k*Math.pow(2,r.apply(this,arguments)))),oe=Qt(U);if(ne.wheel)(ne.mouse[0][0]!==oe[0]||ne.mouse[0][1]!==oe[1])&&(ne.mouse[1]=ie.invert(ne.mouse[0]=oe)),clearTimeout(ne.wheel);else{if(ie.k===ve)return;ne.mouse=[oe,ie.invert(oe)],Lr(this),ne.start()}Po(U),ne.wheel=setTimeout(be,T),ne.zoom("mouse",n(B(R(ie,ve),ne.mouse[0],ne.mouse[1]),ne.extent,o));function be(){ne.wheel=null,ne.end()}}function ye(U,..._e){if(v||!e.apply(this,arguments))return;var ne=U.currentTarget,ie=O(this,_e,!0).event(U),ve=Re(U.view).on("mousemove.zoom",De,!0).on("mouseup.zoom",Se,!0),oe=Qt(U,ne),be=U.clientX,Ee=U.clientY;Oi(U.view),Ss(U),ie.mouse=[oe,this.__zoom.invert(oe)],Lr(this),ie.start();function De(Ye){if(Po(Ye),!ie.moved){var Oe=Ye.clientX-be,Qe=Ye.clientY-Ee;ie.moved=Oe*Oe+Qe*Qe>A}ie.event(Ye).zoom("mouse",n(B(ie.that.__zoom,ie.mouse[0]=Qt(Ye,ne),ie.mouse[1]),ie.extent,o))}function Se(Ye){ve.on("mousemove.zoom mouseup.zoom",null),Ii(Ye.view,ie.moved),Po(Ye),ie.event(Ye).end()}}function ge(U,..._e){if(!!e.apply(this,arguments)){var ne=this.__zoom,ie=Qt(U.changedTouches?U.changedTouches[0]:U,this),ve=ne.invert(ie),oe=ne.k*(U.shiftKey?.5:2),be=n(B(R(ne,oe),ie,ve),t.apply(this,_e),o);Po(U),l>0?Re(this).transition().duration(l).call(I,be,ie,U):Re(this).call(D.transform,be,ie,U)}}function le(U,..._e){if(!!e.apply(this,arguments)){var ne=U.touches,ie=ne.length,ve=O(this,_e,U.changedTouches.length===ie).event(U),oe,be,Ee,De;for(Ss(U),be=0;be<ie;++be)Ee=ne[be],De=Qt(Ee,this),De=[De,this.__zoom.invert(De),Ee.identifier],ve.touch0?!ve.touch1&&ve.touch0[2]!==De[2]&&(ve.touch1=De,ve.taps=0):(ve.touch0=De,oe=!0,ve.taps=1+!!m);m&&(m=clearTimeout(m)),oe&&(ve.taps<2&&(x=De[0],m=setTimeout(function(){m=null},M)),Lr(this),ve.start())}}function Ie(U,..._e){if(!!this.__zooming){var ne=O(this,_e).event(U),ie=U.changedTouches,ve=ie.length,oe,be,Ee,De;for(Po(U),oe=0;oe<ve;++oe)be=ie[oe],Ee=Qt(be,this),ne.touch0&&ne.touch0[2]===be.identifier?ne.touch0[0]=Ee:ne.touch1&&ne.touch1[2]===be.identifier&&(ne.touch1[0]=Ee);if(be=ne.that.__zoom,ne.touch1){var Se=ne.touch0[0],Ye=ne.touch0[1],Oe=ne.touch1[0],Qe=ne.touch1[1],Ue=(Ue=Oe[0]-Se[0])*Ue+(Ue=Oe[1]-Se[1])*Ue,Q=(Q=Qe[0]-Ye[0])*Q+(Q=Qe[1]-Ye[1])*Q;be=R(be,Math.sqrt(Ue/Q)),Ee=[(Se[0]+Oe[0])/2,(Se[1]+Oe[1])/2],De=[(Ye[0]+Qe[0])/2,(Ye[1]+Qe[1])/2]}else if(ne.touch0)Ee=ne.touch0[0],De=ne.touch0[1];else return;ne.zoom("touch",n(B(be,Ee,De),ne.extent,o))}}function he(U,..._e){if(!!this.__zooming){var ne=O(this,_e).event(U),ie=U.changedTouches,ve=ie.length,oe,be;for(Ss(U),v&&clearTimeout(v),v=setTimeout(function(){v=null},M),oe=0;oe<ve;++oe)be=ie[oe],ne.touch0&&ne.touch0[2]===be.identifier?delete ne.touch0:ne.touch1&&ne.touch1[2]===be.identifier&&delete ne.touch1;if(ne.touch1&&!ne.touch0&&(ne.touch0=ne.touch1,delete ne.touch1),ne.touch0)ne.touch0[1]=this.__zoom.invert(ne.touch0[0]);else if(ne.end(),ne.taps===2&&(be=Qt(be,this),Math.hypot(x[0]-be[0],x[1]-be[1])<C)){var Ee=Re(this).on("dblclick.zoom");Ee&&Ee.apply(this,arguments)}}}return D.wheelDelta=function(U){return arguments.length?(r=typeof U=="function"?U:il(+U),D):r},D.filter=function(U){return arguments.length?(e=typeof U=="function"?U:il(!!U),D):e},D.touchable=function(U){return arguments.length?(a=typeof U=="function"?U:il(!!U),D):a},D.extent=function(U){return arguments.length?(t=typeof U=="function"?U:il([[+U[0][0],+U[0][1]],[+U[1][0],+U[1][1]]]),D):t},D.scaleExtent=function(U){return arguments.length?(i[0]=+U[0],i[1]=+U[1],D):[i[0],i[1]]},D.translateExtent=function(U){return arguments.length?(o[0][0]=+U[0][0],o[1][0]=+U[1][0],o[0][1]=+U[0][1],o[1][1]=+U[1][1],D):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},D.constrain=function(U){return arguments.length?(n=U,D):n},D.duration=function(U){return arguments.length?(l=+U,D):l},D.interpolate=function(U){return arguments.length?(s=U,D):s},D.on=function(){var U=f.on.apply(f,arguments);return U===f?D:U},D.clickDistance=function(U){return arguments.length?(A=(U=+U)*U,D):Math.sqrt(A)},D.tapDistance=function(U){return arguments.length?(C=+U,D):C},D}var Z3=P(()=>{Ao();rs();Zn();yn();vs();G3();X3();Tp();j3()});var K3={};On(K3,{ZoomTransform:()=>Kn,zoom:()=>Ms,zoomIdentity:()=>Or,zoomTransform:()=>_s});var Ap=P(()=>{Z3();Tp()});var Mt=rr((Cs,J3)=>{(function(e,t){typeof Cs=="object"&&typeof J3<"u"?t(Cs,(Mr(),_r(Fd)),Wd(),(Su(),_r(j1)),(vm(),_r(xy)),(Tm(),_r(Yy)),(sc(),_r(qy)),(yn(),_r(bx)),(vh(),_r($2)),(sp(),_r(_S)),fp(),(Mp(),_r(q3)),(Ap(),_r(K3))):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-scale","d3-time","d3-random","d3-fetch","d3-path","d3-selection","d3-shape","d3-scale-chromatic","d3-dispatch","d3-brush","d3-zoom"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.fc={},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3))})(Cs,function(e,t,n,r,a,i,o,l,s,f,m,x,v){"use strict";var M=function(u,c,d){var p=c[d];if(typeof p!="function")throw new Error("Attempt to rebind ".concat(d," which isn't a function on the source object"));return function(){for(var b=arguments.length,w=new Array(b),h=0;h<b;h++)w[h]=arguments[h];var g=p.apply(c,w);return g===c?u:g}},T=function(u,c){for(var d=arguments.length,p=new Array(d>2?d-2:0),b=2;b<d;b++)p[b-2]=arguments[b];for(var w=0,h=p;w<h.length;w++){var g=h[w];u[g]=M(u,c,g)}return u},A=function(c){return function(d){return c.reduce(function(p,b){return p&&b(p)},d)}},C=function(u,c){for(var d=arguments.length,p=new Array(d>2?d-2:0),b=2;b<d;b++)p[b-2]=arguments[b];for(var w=A(p),h=0,g=Object.keys(c);h<g.length;h++){var y=g[h],_=w(y);_&&(u[_]=M(u,c,y))}return u},D=function(u){return u.map(function(c){return typeof c=="string"?new RegExp("^".concat(c,"$")):c})},R=function(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];return c=D(c),function(p){return c.every(function(b){return!b.test(p)})&&p}},B=function(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];return c=D(c),function(p){return c.some(function(b){return b.test(p)})&&p}},V=function(u){return function(c){return u[c]}},I=function(c){return c[0].toUpperCase()+c.slice(1)},O=function(u){return function(c){return u+I(c)}};function j(u){return u}function K(u){}function ye(u){return typeof u=="function"?u:function(){return u}}function ge(u){return typeof u=="number"&&isNaN(u)?void 0:u}function le(){var u=function(){return 10},c=K,d=j,p=function(h){return h!=null},b=function(h){var g=u.apply(this,arguments),y=h.slice(0,g).map(d);return h.map(function(_,S){return S>=g&&(y.shift(),y.push(d(_,S))),S<g-1||y.some(function(k){return!p(k)})?c(void 0,S):c(y,S)})};return b.period=function(){return arguments.length?(u=ye(arguments.length<=0?void 0:arguments[0]),b):u},b.accumulator=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},b.defined=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],b):p},b.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},b}function Ie(){var u=2,c=le().accumulator(function(p){var b=p&&t.deviation(p),w=p&&t.mean(p);return{average:w,upper:ge(w+u*b),lower:ge(w-u*b)}}),d=function(b){return c(b)};return d.multiplier=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],d):u},T(d,c,"period","value"),d}function he(){var u=j,c=function(){return 9},d=function(w){var h=[];return function(g){var y;return h.length<w&&(g!=null?h.push(g):h=[]),h.length>=w&&(y=t.mean(h)),y}},p=function(w){var h=c.apply(this,arguments),g=2/(h+1),y=d(h),_;return w.map(function(S,k){var E=u(S,k);return _===void 0?_=y(E):_=E*g+(1-g)*_,ge(_)})};return p.period=function(){return arguments.length?(c=ye(arguments.length<=0?void 0:arguments[0]),p):c},p.value=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p}function U(){var u=j,c=he().period(12),d=he().period(26),p=he().period(9),b=function(h){c.value(u),d.value(u);var g=t.zip(c(h),d(h)).map(function(_){return _[0]!==void 0&&_[1]!==void 0?_[0]-_[1]:void 0}),y=p(g);return t.zip(g,y).map(function(_){return{macd:_[0],signal:_[1],divergence:_[0]!==void 0&&_[1]!==void 0?_[0]-_[1]:void 0}})};return b.value=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],b):u},C(b,c,V({period:"fastPeriod"})),C(b,d,V({period:"slowPeriod"})),C(b,p,V({period:"signalPeriod"})),b}function _e(u,c){(c==null||c>u.length)&&(c=u.length);for(var d=0,p=Array(c);d<c;d++)p[d]=u[d];return p}function ne(u){if(Array.isArray(u))return u}function ie(u){if(Array.isArray(u))return _e(u)}function ve(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function oe(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function be(u,c,d){if(Q())return Reflect.construct.apply(null,arguments);var p=[null];p.push.apply(p,c);var b=new(u.bind.apply(u,p));return d&&Ne(b,d.prototype),b}function Ee(u,c){for(var d=0;d<c.length;d++){var p=c[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,vt(p.key),p)}}function De(u,c,d){return c&&Ee(u.prototype,c),d&&Ee(u,d),Object.defineProperty(u,"prototype",{writable:!1}),u}function Se(u,c){var d=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!d){if(Array.isArray(u)||(d=zt(u))||c&&u&&typeof u.length=="number"){d&&(u=d);var p=0,b=function(){};return{s:b,n:function(){return p>=u.length?{done:!0}:{done:!1,value:u[p++]}},e:function(y){throw y},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w,h=!0,g=!1;return{s:function(){d=d.call(u)},n:function(){var y=d.next();return h=y.done,y},e:function(y){g=!0,w=y},f:function(){try{h||d.return==null||d.return()}finally{if(g)throw w}}}}function Ye(u){var c=Q();return function(){var d,p=Oe(u);if(c){var b=Oe(this).constructor;d=Reflect.construct(p,arguments,b)}else d=p.apply(this,arguments);return se(this,d)}}function Oe(u){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},Oe(u)}function Qe(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),c&&Ne(u,c)}function Ue(u){try{return Function.toString.call(u).indexOf("[native code]")!==-1}catch{return typeof u=="function"}}function Q(){try{var u=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q=function(){return!!u})()}function Z(u){if(typeof Symbol<"u"&&u[Symbol.iterator]!=null||u["@@iterator"]!=null)return Array.from(u)}function ce(u,c){var d=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(d!=null){var p,b,w,h,g=[],y=!0,_=!1;try{if(w=(d=d.call(u)).next,c===0){if(Object(d)!==d)return;y=!1}else for(;!(y=(p=w.call(d)).done)&&(g.push(p.value),g.length!==c);y=!0);}catch(S){_=!0,b=S}finally{try{if(!y&&d.return!=null&&(h=d.return(),Object(h)!==h))return}finally{if(_)throw b}}return g}}function te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function se(u,c){if(c&&(typeof c=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ve(u)}function Ne(u,c){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,p){return d.__proto__=p,d},Ne(u,c)}function We(u,c){return ne(u)||ce(u,c)||zt(u,c)||te()}function ot(u){return ne(u)||Z(u)||zt(u)||te()}function Be(u){return ie(u)||Z(u)||zt(u)||$()}function it(u,c){if(typeof u!="object"||!u)return u;var d=u[Symbol.toPrimitive];if(d!==void 0){var p=d.call(u,c||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(u)}function vt(u){var c=it(u,"string");return typeof c=="symbol"?c:c+""}function nt(u){return nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},nt(u)}function zt(u,c){if(u){if(typeof u=="string")return _e(u,c);var d={}.toString.call(u).slice(8,-1);return d==="Object"&&u.constructor&&(d=u.constructor.name),d==="Map"||d==="Set"?Array.from(u):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?_e(u,c):void 0}}function Bt(u){var c=typeof Map=="function"?new Map:void 0;return Bt=function(d){if(d===null||!Ue(d))return d;if(typeof d!="function")throw new TypeError("Super expression must either be null or a function");if(c!==void 0){if(c.has(d))return c.get(d);c.set(d,p)}function p(){return be(d,arguments,Oe(this).constructor)}return p.prototype=Object.create(d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),Ne(p,d)},Bt(u)}function Ut(){var u=le().period(14),c=function(y,_){return _+(y[y.length-1]-_)/y.length},d=function(y){var _=We(y,2),S=_[0],k=_[1];return S<k?0:S-k},p=function(y){var _=We(y,2),S=_[0],k=_[1];return S>k?0:k-S},b=function(y,_){return _!==void 0?c(y,_):t.mean(y)},w=function(){var y,_,S;return function(k){if(!k){y!==void 0&&(y=NaN);return}if(y===void 0){y=k[0];return}var E=t.pairs([y].concat(Be(k)));_=b(E.map(d),_),S=b(E.map(p),S);var z=isNaN(y)?NaN:S/_;return ge(100-100/(1+z))}},h=function(y){var _=w();return u.accumulator(_),u(y)};return T(h,u,"period","value"),h}function Tn(){var u=le().accumulator(function(d){return d&&t.mean(d)}),c=function(p){return u(p)};return T(c,u,"period","value"),c}function nn(){var u=function(g,y){return g.close},c=function(g,y){return g.high},d=function(g,y){return g.low},p=le().period(5).defined(function(h){return u(h)!=null&&c(h)!=null&&d(h)!=null}).accumulator(function(h){var g=h&&t.max(h,c),y=h&&t.min(h,d),_=h&&100*(u(h[h.length-1])-y)/(g-y);return ge(_)}),b=Tn().period(3),w=function(g){var y=p(g),_=b(y);return y.map(function(S,k){return{k:S,d:_[k]}})};return w.closeValue=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],w):u},w.highValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.lowValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},C(w,p,V({period:"kPeriod"})),C(w,b,V({period:"dPeriod"})),w}function Yn(){var u=function(h,g){return h.volume},c=function(h,g){return h.close},d=he().period(13),p=le().period(2).defined(function(w){return c(w)!=null&&u(w)!=null}).accumulator(function(w){return w&&ge((c(w[1])-c(w[0]))*u(w[1]))}),b=function(h){var g=p(h);return d(g)};return b.volumeValue=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],b):u},b.closeValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},T(b,d,"period"),b}function L(){var u=.1,c=j,d=function(b){return b.map(function(w){var h=ge(c(w)*(1-u)),g=ge(c(w)*(1+u));return{lower:h,upper:g}})};return d.factor=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],d):u},d.value=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},d}function Y(){var u=function(h,g){return h.close},c=function(h,g){return h.high},d=function(h,g){return h.low},p=he().period(13),b=function(h){return p.value(u),t.zip(h,p(h)).map(function(g){var y=ge(c(g[0])-g[1]),_=ge(d(g[0])-g[1]);return{bullPower:y,bearPower:_}})};return b.closeValue=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],b):u},b.highValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},b.lowValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},T(b,p,"period"),b}function pe(){var u={};return u.distance=function(c,d){return d-c},u.offset=function(c,d){return c instanceof Date?new Date(c.getTime()+d):c+d},u.clampUp=function(c){return c},u.clampDown=function(c){return c},u.copy=function(){return u},u}function Pe(u,c){var d=u.map(c.clampUp);return d.length!==new Set(d.map(function(p){return p?.valueOf()})).size&&console.warn("There are multiple ticks that fall within a discontinuity, which has led to them being rendered on top of each other. Consider using scale.ticks to explicitly specify the ticks for the scale."),d}function Me(u){var c=this;arguments.length||(u=n.scaleIdentity());var d=pe(),p=function(w){var h=u.domain(),g=u.range(),y=d.distance(h[0],h[1]),_=d.distance(h[0],w),S=_/y,k=S*(g[1]-g[0])+g[0];return k};return p.invert=function(b){var w=u.domain(),h=u.range(),g=(b-h[0])/(h[1]-h[0]),y=d.distance(w[0],w[1]),_=g*y;return d.offset(w[0],_)},p.domain=function(){if(!arguments.length)return u.domain();var b=arguments.length<=0?void 0:arguments[0],w=d.clampUp(b[0]),h=d.clampDown(b[1]);return u.domain([w,h]),p},p.nice=function(){u.nice();var b=u.domain(),w=d.clampUp(b[0]),h=d.clampDown(b[1]);return u.domain([w,h]),p},p.ticks=function(){for(var b=arguments.length,w=new Array(b),h=0;h<b;h++)w[h]=arguments[h];var g=u.ticks.apply(c,w);return Pe(g,d)},p.copy=function(){return Me(u.copy()).discontinuityProvider(d.copy())},p.discontinuityProvider=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},C(p,u,B("range","rangeRound","interpolate","clamp","tickFormat")),p}var N=function(c,d,p,b){var w={sunday:0,monday:1,saturday:6},h=24*3600*1e3,g=h*5,y=h*7,_={},S=function(E){return c(E)===0||c(E)===6};return _.clampDown=function(k){if(k&&S(k)){var E=d.ceil(k);return c(E)===w.sunday?d.offset(E,-1):c(E)===w.monday?d.offset(E,-2):E}else return k},_.clampUp=function(k){if(k&&S(k)){var E=d.floor(k);return c(E)===w.saturday?d.offset(E,2):c(E)===w.sunday?d.offset(E,1):E}else return k},_.distance=function(k,E){k=_.clampUp(k),E=_.clampDown(E);var z=p.ceil(k);if(E<z)return E.getTime()-k.getTime();var H=z.getTime()-k.getTime(),F=p.ceil(E),q=F.getTime()-E.getTime(),ee=Math.round((F.getTime()-z.getTime())/y);return ee*g+H-q},_.offset=function(k,E){var z=S(k)?_.clampUp(k):k;if(E===0)return z;var H=E<0,F=E>0,q=E,ee=H?b.floor(z):p.ceil(z);if(q-=ee.getTime()-z.getTime(),H&&q>0||F&&q<0)return new Date(z.getTime()+E);z=H?ee:d.offset(ee,2);var ae=Math.floor(q/g);return z=d.offset(z,ae*7),q-=ae*g,z=new Date(z.getTime()+q),z},_.copy=function(){return _},_},G=function(){return N(function(u){return u.getDay()},r.timeDay,r.timeSaturday,r.timeMonday)},de=function(){return N(function(u){return u.getUTCDay()},r.utcDay,r.utcSaturday,r.utcMonday)},Le=function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];var b=function(_,S){return _>S[0]&&_<S[1]},w=function(_,S){return _[0]>=S[0]&&_[1]<=S[1]},h={};h.distance=function(y,_){y=h.clampUp(y),_=h.clampDown(_);var S=d.filter(function(E){return w(E,[y,_])}),k=S.map(function(E){return E[1]-E[0]});return _-y-k.reduce(function(E,z){return E+z},0)};var g=function(_,S){return _ instanceof Date?new Date(_.getTime()+S):_+S};return h.offset=function(y,_){if(_>0){for(var S=h.clampUp(y),k=_;k>0;){var E=d.filter(function(fe){return fe[0]>S}).sort(function(fe,ke){return fe[0]-ke[0]});if(E.length){var z=E[0],H=z[0]-S;H>k?(S=g(S,k),k=0):(S=z[1],k-=H)}else S=g(S,k),k=0}return S}else{for(var F=h.clampDown(y),q=_;q<0;){var ee=d.filter(function(fe){return fe[1]<F}).sort(function(fe,ke){return ke[0]-fe[0]});if(ee.length){var ae=ee[0],re=ae[1]-F;re<q?(F=g(F,q),q=0):(F=ae[0],q-=re)}else F=g(F,q),q=0}return F}},h.clampUp=function(y){return d.reduce(function(_,S){return b(_,S)?S[1]:_},y)},h.clampDown=function(y){return d.reduce(function(_,S){return b(_,S)?S[0]:_},y)},h.copy=function(){return h},h},W=24*3600*1e3,J="00:00:00.000",ue="SOD",xe="EOD";function we(u){if(arguments.length!==1||typeof u!="string")throw"Expected single argument of type string";var c=function(h,g){return Number.isInteger(h)?h>=0&&h<=g:!1},d=[0,0,0,0],p=u.split(":");if(p.length<2||p.length>3)throw"Expected an argument wiht 2 or 3 colon delimited parts.";if(d[0]=c(parseInt(p[0],10),23)?parseInt(p[0],10):function(){throw"'Hours' component must be an int between 0 and 23, but was '".concat(p[0],"'")}(),d[1]=c(parseInt(p[1],10),59)?parseInt(p[1],10):function(){throw"'Minutes' component must be an int between 0 and 59, but was '".concat(p[1],"'")}(),p.length===3){var b=p[2].split(".").map(function(w){return parseInt(w,10)});d[2]=c(b[0],59)?b[0]:function(){throw"'Seconds' component must be an int between 0 and 59, but was '".concat(b[0],"'")}(),b.length===2&&(d[3]=c(b[1],999)?b[1]:function(){throw"'Miliseconds' component must be an int between 0 and 999, but was '".concat(b[1],"'")}())}return"".concat(d[0].toString(10).padStart(2,"0"),":").concat(d[1].toString(10).padStart(2,"0"),":").concat(d[2].toString(10).padStart(2,"0"),".").concat(d[3].toString(10).padStart(3,"0"))}function Ae(u,c){if(arguments.length!=2||!Array.isArray(u)||u.length!==2||typeof u[0]!="string"||typeof u[1]!="string")throw"Expected argument is a single string[] of length 2.";u[0]===ue&&(u[0]=J),u[1]===xe&&(u[1]=J);var d=we(u[0]),p=we(u[1]);if(p!==J&&d>p)throw"Time range start time '".concat(d,"' must be before end time '").concat(p,"' or both must equal ").concat(J);var b=c.setTime(new Date(p===J?W:0),p)-c.setTime(new Date(0),d),w={startTime:d,endTime:p,lenghtInMs:b};return w.isInRange=function(h){var g=c.getTimeString(h);return w.startTime<=g&&(w.endTime===J||w.endTime>g)},w}var Ce=function(c,d){var p=c.map(function(g){return Ae(g,d)}).sort(function(g,y){return g.startTime<y.startTime?-1:g.startTime>y.startTime?1:0}),b=W-p.reduce(function(g,y){return g+y.lenghtInMs},0),w=function(y,_){if(y.getTime()===_.getTime())return 0;if(d.dayInterval(y).getTime()!==d.dayInterval(_).getTime()&&d.getStartOfNextDay(y).getTime()!==_.getTime())throw"tradingDay.totalTradingMillisecondsBetween arguments must be on the same day or intervalEnd must be the start of the next day instead: intervalStart: '".concat(y,"'; intervalEnd: '").concat(_,"'");var S=0,k=p.filter(function(ee){return ee.endTime===J||d.setTime(y,ee.endTime)>=y}),E=Se(k),z;try{for(E.s();!(z=E.n()).done;){var H=z.value,F=d.setTime(y,H.startTime),q=H.endTime===J?d.getStartOfNextDay(y):d.setTime(y,H.endTime);if(y<F&&_<F)return S+d.msInterval.count(y,_);if(y<F&&(S+=d.msInterval.count(y,F)),_<q)return S;y=q}}catch(ee){E.e(ee)}finally{E.f()}return S+d.msInterval.count(y,_)},h=function(y,_){if(_===0)return[y,_];var S=d.msInterval.offset(y,_),k=_>0?p.filter(function(fe){return d.setTime(y,fe.startTime)>=y}):p.filter(function(fe){return d.setTime(y,fe.startTime)<y}).reverse();if(k.length===0)return[d.msInterval.offset(y,_),0];if(_>0){var E=Se(k),z;try{for(E.s();!(z=E.n()).done;){var H=z.value,F=d.setTime(y,H.startTime);F<=S&&(_-=d.msInterval.count(y,F),y=H.endTime===J?d.getStartOfNextDay(y):d.setTime(y,H.endTime),S=d.msInterval.offset(y,_))}}catch(fe){E.e(fe)}finally{E.f()}_-=d.msInterval.count(y,S)}else{var q=Se(k),ee;try{for(q.s();!(ee=q.n()).done;){var ae=ee.value,re=ae.endTime===J?d.getStartOfNextDay(y):d.setTime(y,ae.endTime);S<re&&(_+=d.msInterval.count(re,y)+1,y=d.msInterval.offset(d.setTime(y,ae.startTime),-1),S=d.msInterval.offset(y,_))}}catch(fe){q.e(fe)}finally{q.f()}_+=d.msInterval.count(S,y)}if(_!==0)throw"tradingDay.offset was called with an offset that spans more than a day";return[S,_]};return{totalTradingTimeInMiliseconds:b,nonTradingTimeRanges:p,totalTradingMillisecondsBetween:w,offset:h}},Fe=function(c,d,p,b,w){var h={};return h.getTimeComponentArrayFromString=function(g){return[g.slice(0,2),g.slice(3,5),g.slice(6,8),g.slice(9,12)]},h.getTimeString=function(g){var y=p(g).map(function(H){return H.toString(10).padStart(2,"0")}),_=We(y,4),S=_[0],k=_[1],E=_[2],z=_[3];return"".concat(S,":").concat(k,":").concat(E,".").concat(z.padStart(3,"0"))},h.setTime=function(g,y){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,S=h.getTimeComponentArrayFromString(y),k=We(S,4),E=k[0],z=k[1],H=k[2],F=k[3];return w.offset(c(g,E,z,H,F),_)},h.getStartOfNextDay=function(g){return b.offset(b.floor(g),1)},h.getEndOfPreviousDay=function(g){return w.offset(b.floor(g),-1)},h.dayInterval=b,h.msInterval=w,h.getDay=d,h},$e=Fe(function(u,c,d,p,b){return new Date(u.getFullYear(),u.getMonth(),u.getDate(),c,d,p,b)},function(u){return u.getDay()},function(u){return[u.getHours(),u.getMinutes(),u.getSeconds(),u.getMilliseconds()]},r.timeDay,r.timeMillisecond),Je=function(c,d){var p=function(y){return c[y]===void 0?[]:c[y]},b=[Ce(p("Sunday"),d),Ce(p("Monday"),d),Ce(p("Tuesday"),d),Ce(p("Wednesday"),d),Ce(p("Thursday"),d),Ce(p("Friday"),d),Ce(p("Saturday"),d)],w=b.reduce(function(g,y){return g+y.totalTradingTimeInMiliseconds},0);if(w===0)throw"Trading pattern must yield at least 1 ms of trading time";var h={tradingDays:b,totalTradingWeekMilliseconds:w};return h.clampUp=function(g){var y=b[d.getDay(g)],_=Se(y.nonTradingTimeRanges),S;try{for(_.s();!(S=_.n()).done;){var k=S.value;if(k.isInRange(g))return k.endTime===J?h.clampUp(d.getStartOfNextDay(g)):d.setTime(g,k.endTime)}}catch(E){_.e(E)}finally{_.f()}return g},h.clampDown=function(g){var y=b[d.getDay(g)],_=Se(y.nonTradingTimeRanges),S;try{for(_.s();!(S=_.n()).done;){var k=S.value;if(k.isInRange(g))return k.startTime===J?h.clampDown(d.getEndOfPreviousDay(g)):d.setTime(g,k.startTime,-1)}}catch(E){_.e(E)}finally{_.f()}return g},h.distance=function(g,y){if(g.getTime()===y.getTime())return 0;var _=g<=y?[g,y,1]:[y,g,-1],S=We(_,3),k=S[0],E=S[1],z=S[2];if(d.dayInterval(k).getTime()===d.dayInterval(E).getTime())return h.tradingDays[d.getDay(k)].totalTradingMillisecondsBetween(k,E);var H=h.tradingDays[d.getDay(k)].totalTradingMillisecondsBetween(k,d.dayInterval.offset(d.dayInterval(k),1))+h.tradingDays[d.getDay(E)].totalTradingMillisecondsBetween(d.dayInterval(E),E);return d.dayInterval.count(k,E)===1?H:(k=d.dayInterval.offset(d.dayInterval(k),1),E=d.dayInterval(E),z*d.dayInterval.range(k,E).reduce(function(F,q,ee,ae){var re=ee<ae.length-1?ae[ee+1]:d.dayInterval.offset(q,1),fe=re-q!==W,ke=h.tradingDays[d.getDay(q)];return F+=fe?ke.totalTradingMillisecondsBetween(q,re):ke.totalTradingTimeInMiliseconds},H))},h.offset=function(g,y){g=y>=0?h.clampUp(g):h.clampDown(g);var _=function(fe){return d.dayInterval.offset(fe)-d.dayInterval(fe)!==W},S=function(fe,ke,je){if(je<0){var Ze=d.dayInterval(ke),Xe=fe.totalTradingMillisecondsBetween(Ze,ke);return Math.abs(je)<=Xe?fe.offset(ke,je):[h.clampDown(d.msInterval.offset(Ze,-1)),je+Xe+1]}else{var mt=d.getStartOfNextDay(ke),un=fe.totalTradingMillisecondsBetween(ke,mt);return je<un?fe.offset(ke,je):[h.clampUp(mt),je-un]}};if(y===0)return g;var k=y<0?function(re,fe,ke){return[h.clampDown(d.dayInterval.offset(re,-1)),fe+ke]}:function(re,fe,ke){return[h.clampUp(d.dayInterval.offset(re)),fe-ke]},E=h.tradingDays[d.getDay(g)],z=S(E,g,y),H=We(z,2);for(g=H[0],y=H[1];y!==0;)if(E=h.tradingDays[d.getDay(g)],_(g)){var F=S(E,g,y),q=We(F,2);g=q[0],y=q[1]}else{var ee=Math.abs(y)>=E.totalTradingTimeInMiliseconds?k(g,y,E.totalTradingTimeInMiliseconds):S(E,g,y),ae=We(ee,2);g=ae[0],y=ae[1]}return g},h.copy=function(){return h},h},wt=function(u){return Je(u,$e)},Ge=Fe(function(u,c,d,p,b){return new Date(Date.UTC(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),c,d,p,b))},function(u){return u.getUTCDay()},function(u){return[u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()]},r.utcDay,r.utcMillisecond),X=function(u){return Je(u,Ge)};function me(){var u=[function(h){return h}],c=[0,0],d="percent",p=null,b=[],w=function(g){var y=new Array(g.length),_=Se(u),S;try{for(_.s();!(S=_.n()).done;)for(var k=S.value,E=0;E<g.length;E++){var z=k(g[E],E);Array.isArray(z)?y.push.apply(y,Be(z)):y.push(z)}}catch(ee){_.e(ee)}finally{_.f()}var H=[t.min(y),t.max(y)];if(H[0]=H[0]==null?t.min(b):t.min([H[0]].concat(Be(b))),H[1]=H[1]==null?t.max(b):t.max([H[1]].concat(Be(b))),p!=null){var F=Math.max(Math.abs(H[1]-p),Math.abs(H[0]-p));H[0]=p-F,H[1]=p+F}switch(d){case"domain":{H[0]-=c[0],H[1]+=c[1];break}case"percent":{var q=H[1]-H[0];H[0]-=c[0]*q,H[1]+=c[1]*q;break}default:throw new Error("Unknown padUnit: ".concat(d))}return H};return w.accessors=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],w):u},w.pad=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.padUnit=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},w.include=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],w):b},w.symmetricalAbout=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w}function Te(){var u=[],c=[0,0],d="percent",p=null,b=[],w=me(),h=function(_){return _!=null?_.valueOf():null},g=function(_){var S=u.map(function(k){return function(){var E=k.apply(void 0,arguments);return Array.isArray(E)?E.map(h):h(E)}});return w.accessors(S).pad(c).padUnit(d).symmetricalAbout(p!=null?p.valueOf():null).include(b.map(function(k){return k.valueOf()})),w(_).map(function(k){return new Date(k)})};return g.accessors=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.pad=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.padUnit=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],g):d},g.include=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],g):b},g.symmetricalAbout=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],g):p},g}function Ve(){var u=1,c=20,d=.1,p=.1,b=a.randomNormal(),w=function(){for(var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=u/c,_=[],S=0;S<c+1;S++){_.push(g);var k=b()*Math.sqrt(y)*p+(d-p*p/2)*y;g=g*Math.exp(k)}return _};return w.period=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],w):u},w.steps=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.mu=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},w.sigma=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.random=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],w):b},w}function rn(u){return typeof u=="function"?u:function(){return u}}function an(){var u=new Date,c=100,d=r.timeDay,p=1,b=r.timeYear,w=1,h=null,g=function(){var F=a.randomNormal(1,.1);return Math.ceil(F()*1e3)},y=Ve(),_=function(F){var q=b.offset(F,w)-F;return(d.offset(F,p)-F)/q},S=function(F,q){var ee=_(F),ae=y.period(ee)(q),re={date:F,open:ae[0],high:Math.max.apply(Math,ae),low:Math.min.apply(Math,ae),close:ae[y.steps()]};return re.volume=g(re),re},k=function(F){var q,ee,ae;do q=F?d.offset(F.date,p):new Date(u.getTime()),ee=F?F.close:c,F=S(q,ee),ae=h&&!h(F);while(ae);return F},E=function(){var F,q={};return q.next=function(){var ee=k(F);return F=ee,ee},q.take=function(ee){return q.until(function(ae,re){return!ee||ee<0||re===ee})},q.until=function(ee){for(var ae=[],re=0,fe=k(F),ke=ee&&!ee(fe,re);ke;)ae.push(fe),F=fe,fe=k(F),re+=1,ke=ee&&!ee(fe,re);return ae},q},z=function(F){return E().take(F)};if(z.stream=E,typeof Symbol!="function"||nt(Symbol.iterator)!=="symbol")throw new Error("d3fc-random-data depends on Symbol. Make sure that you load a polyfill in older browsers. See README.");return z[Symbol.iterator]=function(){var H=E();return{next:function(){return{value:H.next(),done:!1}}}},z.startDate=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],z):u},z.startPrice=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],z):c},z.interval=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],z):d},z.intervalStep=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],z):p},z.unitInterval=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],z):b},z.unitIntervalStep=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],z):w},z.filter=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],z):h},z.volume=function(){return arguments.length?(g=rn(arguments.length<=0?void 0:arguments[0]),z):g},C(z,y),z}function ca(u){var c=u.date.getDay();return!(c===0||c===6)}function sa(){var u="BTC-USD",c=null,d=null,p=null,b=function(){var h=[];c!=null&&h.push("start="+c.toISOString()),d!=null&&h.push("end="+d.toISOString()),p!=null&&h.push("granularity="+p);var g="https://api.gdax.com/products/"+u+"/candles?"+h.join("&");return i.json(g).then(function(y){return y.map(function(_){return{date:new Date(_[0]*1e3),open:_[3],high:_[2],low:_[1],close:_[4],volume:_[5]}})})};return b.product=function(w){return arguments.length?(u=w,b):u},b.start=function(w){return arguments.length?(c=w,b):c},b.end=function(w){return arguments.length?(d=w,b):d},b.granularity=function(w){return arguments.length?(p=w,b):p},b}function An(){var u=10,c=function(p){return u<=1?p.map(function(b){return[b]}):t.range(0,Math.ceil(p.length/u)).map(function(b){return p.slice(b*u,(b+1)*u)})};return c.bucketSize=function(d){return arguments.length?(u=d,c):u},c}function Go(){var u=An(),c=function(h){return h},d=function(h){return h},p=function(h){if(u.bucketSize()>=h.length)return h;var g=b(h),y=u(g),_=u(h.slice(1,h.length-1)),S=_.map(function(k,E){var z=y[E],H=t.max(z),F=z.indexOf(H);return k[F]});return[].concat([h[0]],S,[h[h.length-1]])};function b(w){var h=w.map(function(y){return[c(y),d(y)]}),g=t.range(1,h.length-1).map(function(y){var _=h[y-1],S=h[y],k=h[y+1];return .5*Math.abs((_[0]-k[0])*(S[1]-_[1])-(_[0]-S[0])*(k[1]-_[1]))});return g}return T(p,u,"bucketSize"),p.x=function(w){return arguments.length?(c=w,p):c},p.y=function(w){return arguments.length?(d=w,p):d},p}function Qi(){var u=function(w){return w},c=function(w){return w},d=An(),p=function(w){if(d.bucketSize()>=w.length)return w;var h=d(w.slice(1,w.length-1)),g=w[0],y=w[w.length-1],_=[].concat([g],h,[y]),S=u(g),k=c(g),E=h.map(function(z,H){var F=t.mean(_[H+1],u),q=t.mean(_[H+1],c),ee=z.map(function(ke){return[u(ke),c(ke)]}),ae=ee.map(function(ke){return .5*Math.abs((S-F)*(ke[1]-k)-(S-ke[0])*(q-k))}),re=ae.indexOf(t.max(ae)),fe=ee[re];return S=fe[0],k=fe[1],z[re]});return[].concat([w[0]],E,[w[w.length-1]])};return T(p,d,"bucketSize"),p.x=function(b){return arguments.length?(u=b,p):u},p.y=function(b){return arguments.length?(c=b,p):c},p}function ut(){var u=An(),c=function(b){return b},d=function(b){if(u.bucketSize()>b.length)return b;var w=t.extent(b,c),h=u(b.slice(1,b.length-1)),g=h.map(function(y,_){var S={},k,E,z=!0,H=y.map(c),F=H.filter(function(q){return q===w[0]||q===w[1]}).map(function(q){return H.indexOf(q)})[0];return F!==void 0?y[F]:(H.forEach(function(q,ee){S[q]===void 0&&(S[q]=0),S[q]++,S[q]>S[k]||k===void 0?(k=q,E=ee,z=!0):S[q]===S[k]&&(z=!1)}),z?y[E]:y[Math.floor(y.length/2)])});return[].concat([b[0]],g,[b[b.length-1]])};return T(d,u,"bucketSize"),d.value=function(p){return arguments.length?(c=p,d):c},d}var rt=function(u){return typeof u=="function"?u:function(){return u}},qt=function(){var u=null,c=function(S){return S.date},d=function(S){return S.open},p=function(S){return S.high},b=function(S){return S.low},w=function(S){return S.close},h="vertical",g=rt(3),y=function(S){var k=u||o.path();return S.forEach(function(E,z){var H=c(E,z),F=d(E,z),q=p(E,z),ee=b(E,z),ae=w(E,z),re=g(E,z)/2;h==="vertical"?(k.moveTo(H,ee),k.lineTo(H,q),k.moveTo(H,F),k.lineTo(H-re,F),k.moveTo(H,ae),k.lineTo(H+re,ae)):(k.moveTo(ee,H),k.lineTo(q,H),k.moveTo(F,H),k.lineTo(F,H+re),k.moveTo(ae,H),k.lineTo(ae,H-re))}),u?null:k.toString()};return y.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],y):u},y.x=function(){return arguments.length?(c=rt(arguments.length<=0?void 0:arguments[0]),y):c},y.open=function(){return arguments.length?(d=rt(arguments.length<=0?void 0:arguments[0]),y):d},y.high=function(){return arguments.length?(p=rt(arguments.length<=0?void 0:arguments[0]),y):p},y.low=function(){return arguments.length?(b=rt(arguments.length<=0?void 0:arguments[0]),y):b},y.close=function(){return arguments.length?(w=rt(arguments.length<=0?void 0:arguments[0]),y):w},y.width=function(){return arguments.length?(g=rt(arguments.length<=0?void 0:arguments[0]),y):g},y.orient=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],y):h},y},Ht=function(){var u=null,c=function(_){return _.x},d=function(_){return _.y},p="center",b="center",w=function(_){return _.height},h=rt(3),g=function(_,S){var k=u||o.path();return _.forEach(function(E,z){var H=c.call(this,E,S||z),F=d.call(this,E,S||z),q=w.call(this,E,S||z),ee=h.call(this,E,S||z),ae;switch(p){case"left":ae=ee;break;case"right":ae=0;break;case"center":ae=ee/2;break;default:throw new Error("Invalid horizontal alignment "+p)}var re;switch(b){case"bottom":re=-q;break;case"top":re=0;break;case"center":re=q/2;break;default:throw new Error("Invalid vertical alignment "+b)}k.rect(H-ae,F-re,ee,q)},this),u?null:k.toString()};return g.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.x=function(){return arguments.length?(c=rt(arguments.length<=0?void 0:arguments[0]),g):c},g.y=function(){return arguments.length?(d=rt(arguments.length<=0?void 0:arguments[0]),g):d},g.width=function(){return arguments.length?(h=rt(arguments.length<=0?void 0:arguments[0]),g):h},g.horizontalAlign=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],g):p},g.height=function(){return arguments.length?(w=rt(arguments.length<=0?void 0:arguments[0]),g):w},g.verticalAlign=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],g):b},g},kn=function(){var u=null,c=function(_){return _.date},d=function(_){return _.open},p=function(_){return _.high},b=function(_){return _.low},w=function(_){return _.close},h=rt(3),g=function(_){var S=u||o.path();return _.forEach(function(k,E){var z=c(k,E),H=d(k,E),F=p(k,E),q=b(k,E),ee=w(k,E),ae=h(k,E),re=ae/2;S.rect(z-re,H,ae,ee-H),S.moveTo(z,Math.min(ee,H)),S.lineTo(z,F),S.moveTo(z,Math.max(ee,H)),S.lineTo(z,q)}),u?null:S.toString()};return g.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.x=function(){return arguments.length?(c=rt(arguments.length<=0?void 0:arguments[0]),g):c},g.open=function(){return arguments.length?(d=rt(arguments.length<=0?void 0:arguments[0]),g):d},g.high=function(){return arguments.length?(p=rt(arguments.length<=0?void 0:arguments[0]),g):p},g.low=function(){return arguments.length?(b=rt(arguments.length<=0?void 0:arguments[0]),g):b},g.close=function(){return arguments.length?(w=rt(arguments.length<=0?void 0:arguments[0]),g):w},g.width=function(){return arguments.length?(h=rt(arguments.length<=0?void 0:arguments[0]),g):h},g},Gt=function(){var u=null,c=function(E){return E.value},d=function(E){return E.median},p=function(E){return E.upperQuartile},b=function(E){return E.lowerQuartile},w=function(E){return E.high},h=function(E){return E.low},g="vertical",y=rt(5),_=rt(.5),S=function(E){var z=u||o.path();return E.forEach(function(H,F){var q=c(H,F),ee=y(H,F),ae=ee/2,re=ee*_(H,F),fe=re/2,ke=w(H,F),je=p(H,F),Ze=d(H,F),Xe=b(H,F),mt=h(H,F),un=Xe-je;g==="vertical"?(z.moveTo(q-fe,ke),z.lineTo(q+fe,ke),z.moveTo(q,ke),z.lineTo(q,je),z.rect(q-ae,je,ee,un),z.moveTo(q-ae,Ze),z.lineTo(q+ae,Ze),z.moveTo(q,Xe),z.lineTo(q,mt),z.moveTo(q-fe,mt),z.lineTo(q+fe,mt)):(z.moveTo(mt,q-fe),z.lineTo(mt,q+fe),z.moveTo(mt,q),z.lineTo(Xe,q),z.rect(Xe,q-ae,-un,ee),z.moveTo(Ze,q-ae),z.lineTo(Ze,q+ae),z.moveTo(je,q),z.lineTo(ke,q),z.moveTo(ke,q-fe),z.lineTo(ke,q+fe))}),u?null:z.toString()};return S.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],S):u},S.value=function(){return arguments.length?(c=rt(arguments.length<=0?void 0:arguments[0]),S):c},S.median=function(){return arguments.length?(d=rt(arguments.length<=0?void 0:arguments[0]),S):d},S.upperQuartile=function(){return arguments.length?(p=rt(arguments.length<=0?void 0:arguments[0]),S):p},S.lowerQuartile=function(){return arguments.length?(b=rt(arguments.length<=0?void 0:arguments[0]),S):b},S.high=function(){return arguments.length?(w=rt(arguments.length<=0?void 0:arguments[0]),S):w},S.low=function(){return arguments.length?(h=rt(arguments.length<=0?void 0:arguments[0]),S):h},S.width=function(){return arguments.length?(y=rt(arguments.length<=0?void 0:arguments[0]),S):y},S.orient=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],S):g},S.cap=function(){return arguments.length?(_=rt(arguments.length<=0?void 0:arguments[0]),S):_},S},pn=function(){var u=null,c=function(y){return y.x},d=function(y){return y.high},p=function(y){return y.low},b="vertical",w=rt(5),h=function(y){var _=u||o.path();return y.forEach(function(S,k){var E=c(S,k),z=w(S,k),H=z/2,F=d(S,k),q=p(S,k);b==="vertical"?(_.moveTo(E-H,F),_.lineTo(E+H,F),_.moveTo(E,F),_.lineTo(E,q),_.moveTo(E-H,q),_.lineTo(E+H,q)):(_.moveTo(q,E-H),_.lineTo(q,E+H),_.moveTo(q,E),_.lineTo(F,E),_.moveTo(F,E-H),_.lineTo(F,E+H))}),u?null:_.toString()};return h.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],h):u},h.value=function(){return arguments.length?(c=rt(arguments.length<=0?void 0:arguments[0]),h):c},h.high=function(){return arguments.length?(d=rt(arguments.length<=0?void 0:arguments[0]),h):d},h.low=function(){return arguments.length?(p=rt(arguments.length<=0?void 0:arguments[0]),h):p},h.width=function(){return arguments.length?(w=rt(arguments.length<=0?void 0:arguments[0]),h):w},h.orient=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],h):b},h},Xo=function(u){return typeof u=="function"?u:function(){return u}},nr=1e-6,Dt=function(c){return c.selection()!==c},pt=function(u,c){u=u||"g";var d=function(h,g){return g},p=null,b=function(h,g){g=g||function(F){return F};var y=h.selection(),_=Dt(h)?h:null,S=y.selectChildren(c==null?u:"".concat(u,".").concat(c)),k=S.data(g,d),E=k.enter().append(u).attr("class",c),z=k.exit();k=k.merge(E);var H=_||p;return H&&(k=k.transition(H).style("opacity",1),E.style("opacity",nr),z=z.transition(H).style("opacity",nr)),z.remove(),k.enter=function(){return E},k.exit=function(){return z},k};return b.element=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],b):u},b.className=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},b.key=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},b.transition=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],b):p},b},gr=function(u){var c=function(){},d=function(){return[0,0]},p=function(k,E){return[k.x,k.y]},b=u||function(S){return S},w=function(){},h=n.scaleIdentity(),g=n.scaleIdentity(),y=pt("g","label"),_=function(k){k.each(function(E,z,H){var F=y(l.select(H[z]),E).call(w),q=F.nodes(),ee=q.map(function(re,fe){var ke=l.select(re).datum(),je=p(ke,fe,q),Ze=[h(je[0]),g(je[1])],Xe=d(ke,fe,q);return{hidden:!1,x:Ze[0],y:Ze[1],width:Xe[0],height:Xe[1]}}),ae=b(ee);F.attr("style",function(re,fe){return"display:"+(ae[fe].hidden?"none":"inherit")}).attr("transform",function(re,fe){return"translate("+ae[fe].x+", "+ae[fe].y+")"}).attr("layout-width",function(re,fe){return ae[fe].width}).attr("layout-height",function(re,fe){return ae[fe].height}).attr("anchor-x",function(re,fe,ke){return ee[fe].x-ae[fe].x}).attr("anchor-y",function(re,fe,ke){return ee[fe].y-ae[fe].y}),F.call(w),c(F,E,z)})};return C(_,y,B("key")),C(_,b),_.size=function(){return arguments.length?(d=Xo(arguments.length<=0?void 0:arguments[0]),_):d},_.position=function(){return arguments.length?(p=Xo(arguments.length<=0?void 0:arguments[0]),_):p},_.component=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],_):w},_.decorate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],_):c},_.xScale=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],_):h},_.yScale=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],_):g},_},Cl=function(u){var c=2,d=function(y){return y},p=pt("text"),b=pt("rect"),w=pt("circle"),h=function(y){y.each(function(_,S,k){var E=k[S],z=l.select(E),H=Number(E.getAttribute("layout-width")),F=Number(E.getAttribute("layout-height")),q=b(z,[_]);q.attr("width",H).attr("height",F);var ee=Number(E.getAttribute("anchor-x")),ae=Number(E.getAttribute("anchor-y")),re=w(z,[_]);re.attr("r",2).attr("cx",ee).attr("cy",ae);var fe=p(z,[_]);fe.enter().attr("dy","0.9em").attr("transform","translate(".concat(c,", ").concat(c,")")),fe.text(d)})};return h.padding=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.value=function(){return arguments.length?(d=Xo(arguments.length<=0?void 0:arguments[0]),h):d},h},Zi=function(c,d){return!(c.x>=d.x+d.width||c.x+c.width<=d.x||c.y>=d.y+d.height||c.y+c.height<=d.y)},jo=function(u,c){if(Zi(u,c)){var d=Math.max(u.x,c.x),p=Math.min(u.x+u.width,c.x+c.width),b=Math.max(u.y,c.y),w=Math.min(u.y+u.height,c.y+c.height);return(p-d)*(w-b)}else return 0},Qo=function(c,d){return t.sum(c.map(function(p,b){return d===b?0:jo(c[d],p)}))},vr=function(c,d,p,b,w){return{x:c,y:d,width:p,height:b,location:w}},Tl=function(u){var c=u.x,d=u.y,p=u.width,b=u.height;return[vr(c,d,p,b,"bottom-right"),vr(c-p,d,p,b,"bottom-left"),vr(c-p,d-b,p,b,"top-left"),vr(c,d-b,p,b,"top-right"),vr(c,d-b/2,p,b,"middle-right"),vr(c-p/2,d,p,b,"bottom-center"),vr(c-p,d-b/2,p,b,"middle-left"),vr(c-p/2,d-b,p,b,"top-center")]},Al=function(c,d,p){return[].concat(Be(c.slice(0,d)),[p],Be(c.slice(d+1)))},gf=function(c,d){return c<d},kl=function u(){var c=null,d=gf,p=function(){return 0},b,w=function(y,_){return c-p(b[_],_,b)+p(y,_,Al(b,_,y))},h=function g(y,_){c||(c=t.sum(b.map(function(k,E){return p(k,E,b)})));var S=w(y,_);return d(S,c)?u().locationScore(p).winningScore(d).score(S).rectangles(Al(b,_,y)):g};return h.rectangles=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],h):b},h.score=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.winningScore=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},h.locationScore=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],h):p},h},vf=function(){var u,c=function(w){return u?w.width*w.height-jo(w,u):0},d=function(w,h,g){return Qo(g,h)+c(w)},p=function(w){var h=kl().locationScore(d).rectangles(w);return w.forEach(function(g,y){Tl(g).forEach(function(_,S){h=h(_,y)})}),h.rectangles()};return p.bounds=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p},yf=function(c){return c[Vl(c)]},Vl=function(c){return Math.floor(Math.random()*c.length)},bf=function(){var u=1e3,c=1,d,p=function(y){switch(y.location){case"bottom-right":return 0;case"middle-right":case"bottom-center":return y.width*y.height/8}return y.width*y.height/4},b=function(y){return d?y.width*y.height-jo(y,d):0},w=function(y,_,S){return Qo(S,_)+b(y)+p(y)},h=function(y){for(var _=u,S=function(F,q){return Math.exp((q-F)/_)>Math.random()},k=kl().locationScore(w).winningScore(S).rectangles(y);_>0;){var E=Vl(y),z=yf(Tl(y[E]));k=k(z,E),_-=c}return k.rectangles()};return h.temperature=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],h):u},h.cooling=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.bounds=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},h},xf=function(c,d){return c[t.scan(c,d)]},wf=function(u){u=u||function(d){return d};var c=function(p){p=u(p);for(var b=function(){var g=p.filter(function(S){return!S.hidden}),y=g.map(function(S,k){return[S,Qo(g,k)]}),_=xf(y,function(S,k){return k[1]-S[1]});if(_[1]>0)_[0].hidden=!0;else return"break"};;){var w=b();if(w==="break")break}return p};return C(c,u),c},_f=function(){var u=[0,0],c=function(p){return p.map(function(b,w){var h=b.x,g=b.y;return h+b.width>u[0]&&(h-=b.width),g+b.height>u[1]&&(g-=b.height),{height:b.height,width:b.width,x:h,y:g}})};return c.bounds=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],c):u},c},Nt=function(u){return typeof u=="function"?u:function(){return u}};function ja(){var u=arguments;return function(c,d){for(var p=0,b=u.length;p<b;p++)if(u[p](c,d)==null)return!1;return!0}}var Qa=function(u,c){switch(u){case"left":return c/2;case"right":return-c/2;default:return 0}},Yr=function(u){var c=Object.assign({},u),d=function(){};return Object.keys(c).forEach(function(p){d[p]=function(){return arguments.length?(c[p]=arguments.length<=0?void 0:arguments[0],d):c[p]}}),d},Nn=function(){var u=function(){return 0},c=function(y){return y.x},d=function(y){return y.y},p="center",b=function(){return 5},w="vertical",h=Yr({decorate:function(){},defined:function(y,_){return ja(u,c,d)(y,_)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return h.values=function(g,y){var _=b(g,y),S=Qa(p,_),k=h.xScale(),E=h.yScale();if(w==="vertical"){var z=E(d(g,y),y),H=E(u(g,y),y),F=k(c(g,y),y)+S;return{d:g,x:F,y:z,y0:H,width:_,height:z-H,origin:[F,z],baseOrigin:[F,H],transposedX:F,transposedY:z}}else{var q=k(d(g,y),y),ee=k(u(g,y),y),ae=E(c(g,y),y)+S;return{d:g,x:ae,y:q,y0:ee,width:_,height:q-ee,origin:[q,ae],baseOrigin:[ee,ae],transposedX:q,transposedY:ae}}},h.xValues=function(){return w==="vertical"?[c]:[u,d]},h.yValues=function(){return w!=="vertical"?[c]:[u,d]},h.baseValue=function(){return arguments.length?(u=Nt(arguments.length<=0?void 0:arguments[0]),h):u},h.crossValue=function(){return arguments.length?(c=Nt(arguments.length<=0?void 0:arguments[0]),h):c},h.mainValue=function(){return arguments.length?(d=Nt(arguments.length<=0?void 0:arguments[0]),h):d},h.bandwidth=function(){return arguments.length?(b=Nt(arguments.length<=0?void 0:arguments[0]),h):b},h.align=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],h):p},h.orient=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],h):w},h},Sf="#c60",qe="#6c0",ft="#000",yt="#ddd",ze="#999",dt={red:Sf,green:qe,black:ft,gray:yt,darkGray:ze},At=function(){var u=Nn(),c=s.line().x(function(b,w){return u.values(b,w).transposedX}).y(function(b,w){return u.values(b,w).transposedY}),d=pt("path","line"),p=function(w){Dt(w)&&d.transition(w),c.defined(u.defined()),w.each(function(h,g,y){var _=d(l.select(y[g]),[h]);_.enter().attr("fill","none").attr("stroke",dt.black),_.attr("d",c),u.decorate()(_,h,g)})};return C(p,u,R("baseValue","bandwidth","align")),T(p,d,"key"),T(p,c,"curve"),p},on=function(){var u=Nn(),c=s.line().x(function(p,b){return u.values(p,b).transposedX}).y(function(p,b){return u.values(p,b).transposedY}),d=function(b){var w=c.context();w.beginPath(),w.strokeStyle=dt.black,w.fillStyle="transparent",u.decorate()(w,b),c.defined(u.defined())(b),w.fill(),w.stroke(),w.closePath()};return C(d,u,R("baseValue","bandwidth","align")),T(d,c,"curve","context"),d},_t=function(){var u=[0,1],c=[-1,1],d=function(){};return d.domain=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],d):u},d.range=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},d},yr=function(){var u={},c={},d=null,p=function(w,h){var g=w.context();Object.keys(u).forEach(function(y){var _=u[y];if(typeof _!="function")throw new Error("Expected an attribute for ".concat(y,", found ").concat(_));var S=g.getAttribLocation(h,y);_.location(S)(w)}),Object.keys(c).forEach(function(y){var _=c[y];if(typeof _!="function")throw new Error("Expected a uniform for ".concat(y,", found ").concat(_));var S=g.getUniformLocation(h,y);_.location(S)(w)}),d!==null&&d(w)};return p.flush=function(){Object.values(u).forEach(function(b){return b.clear()}),Object.values(c).forEach(function(b){return b.clear()}),d!==null&&d.clear()},p.attribute=function(){for(var b=arguments.length,w=new Array(b),h=0;h<b;h++)w[h]=arguments[h];return w.length===1?u[w[0]]:(u[w[0]]=w[1],p)},p.uniform=function(){for(var b=arguments.length,w=new Array(b),h=0;h<b;h++)w[h]=arguments[h];return w.length===1?c[w[0]]:(c[w[0]]=w[1],p)},p.elementIndices=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p},gn=function(u){var c=-1,d=u,p=!0,b=function(h){if(!!p){var g=h.context();if(Array.isArray(d))switch(d.length){case 1:g.uniform1fv(c,d);break;case 2:g.uniform2fv(c,d);break;case 3:g.uniform3fv(c,d);break;case 4:g.uniform4fv(c,d);break;default:throw new Error("Uniform supports up to 4 elements. ".concat(d.length," provided."))}else g.uniform1f(c,d);p=!1}};return b.clear=function(){p=!0},b.location=function(){return arguments.length?(c!==(arguments.length<=0?void 0:arguments[0])&&(c=arguments.length<=0?void 0:arguments[0],p=!0),b):c},b.data=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p=!0,b):d},b},Wr={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},$r=function(){var u=null,c=null,d=null,p=null,b=null,w=null,h=Wr.TRIANGLES,g=0,y=yr(),_=!1,S=null,k=!0,E=1,z=function ee(ae){if(u!=null){var re=d(),fe=p();if(H(c,re,fe)&&(c=F(re,fe),b=re,w=fe,k=!1),u.useProgram(c),y.uniform("uScreen",gn([u.canvas.width/E,u.canvas.height/E])),y(ee,c),g===0)y.elementIndices()==null?u.drawArrays(h,0,ae):u.drawElements(h,ae,u.UNSIGNED_SHORT,0);else if(y.elementIndices()==null)S.drawArraysInstancedANGLE(h,0,g,ae);else{var ke=y.elementIndices().data().length;if(g!==ke)throw new Error("Expected elementIndices length ".concat(ke)+" to match subInstanceCount ".concat(g,"."));S.drawElementsInstancedANGLE(h,g,u.UNSIGNED_SHORT,0,ae)}}};return z.extInstancedArrays=function(){return S},z.context=function(){for(var ee=arguments.length,ae=new Array(ee),re=0;re<ee;re++)ae[re]=arguments[re];return ae.length?((ae[0]==null||ae[0]!==u)&&(y.flush(),k=!0),ae[0]!=null&&ae[0]!==u&&(S=ae[0].getExtension("ANGLE_instanced_arrays")),u=ae[0],z):u},z.buffers=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],z):y},z.vertexShader=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],z):d},z.fragmentShader=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],z):p},z.mode=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],z):h},z.subInstanceCount=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],z):g},z.debug=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],z):_},z.pixelRatio=function(){return arguments.length?(E=arguments.length<=0?void 0:arguments[0],z):E},z;function H(ee,ae,re){return!ee||k?!0:ae!==b||re!==w}function F(ee,ae){var re=q(ee,u.VERTEX_SHADER),fe=q(ae,u.FRAGMENT_SHADER),ke=u.createProgram();if(u.attachShader(ke,re),u.attachShader(ke,fe),u.linkProgram(ke),_&&!u.getProgramParameter(ke,u.LINK_STATUS)){var je=u.getProgramInfoLog(ke);throw u.deleteProgram(ke),new Error("Failed to link program : ".concat(je,`
            Vertex Shader : `).concat(ee,`
            Fragment Shader : `).concat(ae))}return ke}function q(ee,ae){var re=u.createShader(ae);if(u.shaderSource(re,ee),u.compileShader(re),_&&!u.getShaderParameter(re,u.COMPILE_STATUS)){var fe=u.getShaderInfoLog(re);throw u.deleteShader(re),new Error("Failed to compile shader : ".concat(fe,`
            Shader : `).concat(ee))}return re}},kt=function(u){var c=[],d=[],p=function(){return u(c.join(`
`),d.join(`
`))};function b(g,y){g.push(y)}function w(g,y,_){var S=g.indexOf(_);g.splice(S>=0?S:g.length,0,y)}function h(g,y){var _=g.indexOf(y);_===-1&&g.push(y)}return p.appendHeader=function(g){return b(c,g),p},p.insertHeader=function(g,y){return w(c,g,y),p},p.appendHeaderIfNotExists=function(g){return h(c,g),p},p.appendBody=function(g){return b(d,g),p},p.insertBody=function(g,y){return w(d,g,y),p},p.appendBodyIfNotExists=function(g){return h(d,g),p},p},En=function(c,d){return`
precision mediump float;
float inf = 1.0 / 0.0;
`.concat(c,`
void main() {
    `).concat(d,`
}`)},Pn=function(c,d){return`
precision mediump float;
`.concat(c,`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
    `).concat(d,`
}`)},Pg={header:`attribute vec4 aFillColor;
             varying vec4 vFillColor;`,body:"vFillColor = aFillColor;"},Lg={header:`attribute vec4 aStrokeColor;
             varying vec4 vStrokeColor;`,body:"vStrokeColor = aStrokeColor;"},Og={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 2.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Ig={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 4.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},zg={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 3.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Rg={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt(aSize);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Fg={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt(aSize);
        gl_PointSize = 2.0 * (vSize + uStrokeWidth + 1.0);
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Bg={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt((16.0 * aSize) / (3.0 * sqrt(3.0)));
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Hg={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vStrokeWidthRatio;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 3.0 * sqrt(aSize / 5.0);
        vStrokeWidthRatio = uStrokeWidth / (vSize + uStrokeWidth + 1.0);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Yg={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aOpenValue;
        attribute float aCloseValue;
        attribute float aLowValue;
        attribute vec3 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vColorIndicator;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vColorIndicator = sign(aCloseValue - aOpenValue);

        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;
        float isNotPositiveY = 1.0 - isPositiveY;
        float isExtremeY = abs(aCorner.y) - 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;
        float yValue =
         (isPositiveY * isExtremeY * aLowValue) +
         (isPositiveY * isNotExtremeY * aCloseValue) +
         (isNotPositiveY * isNotExtremeY * aOpenValue) +
         (isNotPositiveY * isExtremeY * aHighValue);

        float lineWidthXDirection = (isNotExtremeY * aCorner.x) + (isExtremeY * aCorner.z);

        float bodyThickness = (aOpenValue == aCloseValue ? 1.0 : sign(aCloseValue - aOpenValue));
        float lineWidthYDirection = (isNotExtremeY * bodyThickness * aCorner.y);

        float bandwidthModifier = aBandwidth * aCorner.x / 2.0;

        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;
        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},Wg={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aOpenValue;
        attribute float aCloseValue;
        attribute float aLowValue;
        attribute vec3 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vColorIndicator;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vColorIndicator = sign(aCloseValue - aOpenValue);

        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;
        float isNotPositiveY = 1.0 - isPositiveY;
        float isExtremeY = abs(aCorner.y) - 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;
        float yValue =
            (isPositiveY * isExtremeY * aLowValue) +
            (isPositiveY * isNotExtremeY * aCloseValue) +
            (isNotPositiveY * isNotExtremeY * aOpenValue) +
            (isNotPositiveY * isExtremeY * aHighValue);

        float lineWidthXDirection = isExtremeY * aCorner.z;
        float lineWidthYDirection = isNotExtremeY * aCorner.z;

        float bandwidthModifier = isNotExtremeY * aCorner.x * aBandwidth / 2.0;

        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;
        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},$g={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aMainValue;
        attribute float aBaseValue;
        attribute vec2 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;`,body:`
        vDefined = aDefined;
        float isBaseline = (1.0 - aCorner.y) / 2.0;
        float yValue = (isBaseline * aBaseValue) + ((1.0 - isBaseline) * aMainValue);

        float xModifier = aCorner.x * (aBandwidth) / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},Ug={header:`
        attribute vec3 aCorner;
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aLowValue;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;`,body:`
        vDefined = aDefined;
        float isLow = (aCorner.y + 1.0) / 2.0;
        float yValue = isLow * aLowValue + (1.0 - isLow) * aHighValue;

        float isEdgeCorner = abs(aCorner.x);
        float lineWidthXDirection = (1.0 - isEdgeCorner) * aCorner.z;
        float lineWidthYDirection = isEdgeCorner * aCorner.z;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);

        float xModifier = (uStrokeWidth * lineWidthXDirection) + (aBandwidth * aCorner.x / 2.0);
        float yModifier = (uStrokeWidth * lineWidthYDirection);`},qg={header:`
        attribute vec3 aCorner;
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aCrossNextValue;
        attribute float aMainNextValue;
        attribute float aBaseValue;
        attribute float aBaseNextValue;
        attribute float aDefined;
        attribute float aDefinedNext;

        varying float vDefined;

        float when_lt(float a, float b) {
            return max(sign(b - a), 0.0);
        }

        float and(float a, float b) {
            return a * b;
        }`,body:`
        vDefined = aDefined * aDefinedNext;
        gl_Position = vec4(0, 0, 0, 1);

        float hasIntercepted = when_lt((aMainNextValue - aBaseNextValue) * (aMainValue - aBaseValue), 0.0);
        float useIntercept = and(aCorner.z, hasIntercepted);

        float yGradient = (aMainNextValue - aMainValue) / (aCrossNextValue - aCrossValue);
        float yConstant = aMainNextValue - (yGradient * aCrossNextValue);

        float y0Gradient = (aBaseNextValue - aBaseValue) / (aCrossNextValue - aCrossValue);
        float y0Constant = aBaseNextValue - (y0Gradient * aCrossNextValue);

        float denominator = (yGradient - y0Gradient) + step(abs(yGradient - y0Gradient), 0.0);
        float interceptXValue = (y0Constant - yConstant) / denominator;
        float interceptYValue = (yGradient * interceptXValue) + yConstant;

        gl_Position = vec4(interceptXValue * useIntercept, interceptYValue * useIntercept, 0, 1);

        gl_Position.x += (1.0 - useIntercept) * ((aCorner.x * aCrossNextValue) + ((1.0 - aCorner.x) * aCrossValue));
        gl_Position.y += (1.0 - useIntercept) * (1.0 - aCorner.y) * ((aCorner.x * aMainNextValue) + ((1.0 - aCorner.x) * aMainValue));
        gl_Position.y += (1.0 - useIntercept) * aCorner.y * ((aCorner.x * aBaseNextValue) + ((1.0 - aCorner.x) * aBaseValue));`},Gg={header:`
        attribute vec4 aCorner;
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aCapWidth;
        attribute float aHighValue;
        attribute float aUpperQuartileValue;
        attribute float aMedianValue;
        attribute float aLowerQuartileValue;
        attribute float aLowValue;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;
    `,body:`
        vDefined = aDefined;
        float isExtremeY = sign(abs(aCorner.y) - 2.0) + 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;

        float isNonZeroY = abs(sign(aCorner.y));
        float isZeroY = 1.0 - isNonZeroY;

        float isQuartileY = isNotExtremeY * isNonZeroY;

        float isPositiveY = (sign(aCorner.y + 0.5) + 1.0) / 2.0;
        float isNegativeY = 1.0 - isPositiveY;

        float yValue =
          (isExtremeY * isNegativeY) * aHighValue +
          (isQuartileY * isNegativeY) * aUpperQuartileValue +
          isZeroY * aMedianValue +
          (isQuartileY * isPositiveY) * aLowerQuartileValue +
          (isExtremeY * isPositiveY) * aLowValue;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);

        float isHorizontal = aCorner.w;
        float isVertical = 1.0 - isHorizontal;

        float xDisplacement = aCorner.x * (isExtremeY * aCapWidth + isNotExtremeY * aBandwidth) / 2.0;

        float xModifier = (isVertical * uStrokeWidth * aCorner.z / 2.0) + xDisplacement;
        float yModifier = isHorizontal * uStrokeWidth * aCorner.z / 2.0;`},Xg={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float distance = length(2.0 * gl_PointCoord - 1.0);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},jg={header:`
        varying float vSize;
        varying float vDefined;

        // anterior, exterior angles
        float an = 0.628319;
        vec2 acs = vec2(0.809017, 0.587786); // (cos, sin)
        float en = 0.952000;
        vec2 ecs = vec2(0.580055, 0.814577);
    `,body:`
        float canFill = 1.0;

        vec2 p = 2.0 * gl_PointCoord - 1.0;
        p.y *= -1.0;

        // sector
        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;
        p = length(p) * vec2(cos(bn), abs(sin(bn)));

        p -= acs;
        p += ecs * clamp(-dot(p, ecs), 0.0, acs.y / ecs.y);
        float d = length(p) * sign(p.x);

        float distance = 1.0 + d;
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},Qg={header:`
        varying float vSize;
        varying float vDefined;
    `,body:`
        float canFill = 1.0;

        vec2 p = 2.0 * gl_PointCoord - 1.0;
        p.y *= -1.0;

        // sector
        float an = 3.141593 / 3.0;
        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;
        p = length(p) * vec2(cos(bn), abs(sin(bn)));

        // box
        vec2 d = abs(p) - vec2(0.9, 0.35);
        float sdf = length(max(d, 0.0)) + min(max(d.x, d.y), 0.0);

        float distance = 1.0 + sdf;
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},Zg={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        if (vDefined < 0.5) {
            discard;
        }
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float distance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);`},Kg={header:`
        varying float vSize;
        varying float vDefined;
        float a = 0.6;
        float b = 1.0;
    `,body:`
        if (vDefined < 0.5) {
            discard;
        }

        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;

        float x = abs(pointCoordTransform.x);
        float y = abs(pointCoordTransform.y);

        float X = (a * b * x) / (a * y + b * x);
        float Y = (a * b * y) / (a * y + b * x);

        float distance = length(vec2(x, y)) / length(vec2(X, Y));

        if (distance > 1.0) {
            discard;
        }
    `},Jg={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float topEdgesDistance = abs(pointCoordTransform.x) - ((pointCoordTransform.y - 0.6) / sqrt(3.0));
        float bottomEdgeDistance = pointCoordTransform.y + 0.5;
        float distance = max(topEdgesDistance, bottomEdgeDistance);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
        }`},e0={header:`
        varying float vSize;
        varying float vStrokeWidthRatio;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float innerCornerDistance = min(abs(pointCoordTransform.x), abs(pointCoordTransform.y)) + 0.66 - vStrokeWidthRatio;
        float outerEdgeDistance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));
        float distance = max(innerCornerDistance, outerEdgeDistance);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
        }`},t0={header:`
        varying float vColorIndicator;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float canStroke = 0.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.4, 0.8, 0, 1);
        if (vColorIndicator < 0.0) {
            gl_FragColor = vec4(0.8, 0.4, 0, 1);
        }`},n0={header:`
        varying float vColorIndicator;
        varying float vDefined;`,body:`
        float canFill = 0.0;
        float canStroke = 1.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.4, 0.8, 0, 1);
        if (vColorIndicator < 0.0) {
            gl_FragColor = vec4(0.8, 0.4, 0, 1);
        }`},r0={header:`
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float canStroke = 0.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.86, 0.86, 0.86, 1);`},a0={header:`
        varying float vDefined;
    `,body:`
        float canFill = 0.0;
        float canStroke = 1.0;

        if (vDefined < 0.5) {
            discard;
        }`},i0={header:"varying float vDefined;",body:`
        float canFill = 0.0;
        float canStroke = 1.0;
        if (vDefined < 0.5) {
            discard;
        }`},o0={header:"varying float vDefined;",body:`
        float canFill = 1.0;
        float canStroke = 0.0;

        gl_FragColor = vec4(0.60, 0.60, 0.60, 1.0);

        if (vDefined < 0.5) {
            discard;
        }`},u0={header:"varying vec4 vFillColor;",body:"gl_FragColor = (canFill * vFillColor) + ((1.0 - canFill) * gl_FragColor);"},l0={header:"varying vec4 vStrokeColor;",body:"gl_FragColor = (canStroke * vStrokeColor) + ((1.0 - canStroke) * gl_FragColor);"},K4=function(){var u=kt(En),c=kt(Pn);return u.appendHeader(qg.header).appendBody(qg.body),c.appendHeader(r0.header).appendBody(r0.body),{vertex:function(){return u},fragment:function(){return c}}},bt={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,FLOAT:5126};function Mf(u){switch(u){case bt.BYTE:case bt.UNSIGNED_BYTE:return 1;case bt.SHORT:case bt.UNSIGNED_SHORT:return 2;case bt.FLOAT:return 4;default:throw new Error("Unknown type ".concat(u))}}function c0(u){switch(u){case bt.BYTE:return Int8Array;case bt.UNSIGNED_BYTE:return Uint8Array;case bt.SHORT:return Int16Array;case bt.UNSIGNED_SHORT:return Uint16Array;case bt.FLOAT:return Float32Array;default:throw new Error("Unknown type ".concat(u))}}var Dl=function(){var u=-1,c=null,d=1,p=bt.FLOAT,b=!1,w=0,h=0,g=null,y=function(S){var k=S.context();c==null&&(c=k.createBuffer()),k.bindBuffer(k.ARRAY_BUFFER,c),k.vertexAttribPointer(u,d,p,b,w,h),k.enableVertexAttribArray(u);var E=S.extInstancedArrays();E.vertexAttribDivisorANGLE(u,g??(S.subInstanceCount()>0?1:0))};return y.location=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],y):u},y.buffer=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},y.size=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},y.type=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],y):p},y.normalized=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],y):b},y.stride=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],y):w},y.offset=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],y):h},y.divisor=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],y):g},y},J4=function(){var u=bt.FLOAT,c=new Float32Array(0),d=function(b){var w=c0(u);return c.length>b?c=new w(c.buffer,0,b):c.length!==b&&(c=new w(b)),c};return d.type=function(){if(!arguments.length)return u;if(u!==(arguments.length<=0?void 0:arguments[0])){u=arguments.length<=0?void 0:arguments[0];var p=c0(u);c=new p(0)}return d},d},s0=function(){var u=!0,c=1,d=bt.FLOAT,p=J4(),b=function(y,_){return y},w=null,h=function(){var y=w.length,_=p.type(d)(y*c);if(c>1)for(var S=0;S<y;S++){var k=b(w[S],S);if(k.length!==c)throw new Error("Expected components array of size ".concat(c,", recieved array with length ").concat(k.length,"."));for(var E=0;E<c;E++)_[S*c+E]=k[E]}else for(var z=0;z<y;z++){var H=b(w[z],z);if(Array.isArray(H))throw new Error("Expected a single component value, recieved array with length ".concat(H.length,"."));_[z]=H}return u=!1,_};return h.dirty=function(){return u},h.clear=function(){u=!0},h.size=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],u=!0,h):c},h.type=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],u=!0,h):d},h.arrayViewFactory=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],u=!0,h):p},h.value=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],u=!0,h):b},h.data=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],u=!0,h):w},h},lt=function(){var u=Dl(),c=s0(),d=function p(b){if(u.size(p.size()).type(p.type()),u(b),!!c.dirty()){var w=c(),h=b.context();h.bindBuffer(h.ARRAY_BUFFER,u.buffer()),h.bufferData(h.ARRAY_BUFFER,w,h.DYNAMIC_DRAW)}};return d.clear=function(){u.buffer(null),c.clear()},T(d,u,"normalized","location","divisor"),T(d,c,"data","value","size","type"),d},et=function(u,c,d,p){for(var b=arguments.length,w=new Array(b>4?b-4:0),h=4;h<b;h++)w[h-4]=arguments[h];u[c]=function(){for(var g=arguments.length,y=new Array(g),_=0;_<g;_++)y[_]=arguments[_];var S=d[p].apply(d,w.concat(y));return S===d?u:S}},f0=function(){var u=$r().mode(Wr.TRIANGLES).subInstanceCount(6),c=_t(),d=_t(),p=function(){},b=lt().divisor(0).size(3).type(bt.UNSIGNED_BYTE).data([[0,0,0],[0,1,0],[1,1,1],[0,0,1],[1,0,0],[1,1,0]]);u.buffers().attribute("aCorner",b);var w=function(g){var y=K4();u.vertexShader(y.vertex()).fragmentShader(y.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),p(u),u(g-1)};return w.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},T(w,u,"context","pixelRatio"),et(w,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),et(w,"crossNextValueAttribute",u.buffers(),"attribute","aCrossNextValue"),et(w,"mainValueAttribute",u.buffers(),"attribute","aMainValue"),et(w,"mainNextValueAttribute",u.buffers(),"attribute","aMainNextValue"),et(w,"baseValueAttribute",u.buffers(),"attribute","aBaseValue"),et(w,"baseNextValueAttribute",u.buffers(),"attribute","aBaseNextValue"),et(w,"definedAttribute",u.buffers(),"attribute","aDefined"),et(w,"definedNextAttribute",u.buffers(),"attribute","aDefinedNext"),w},d0=function(){var u=kt(En),c=kt(Pn);return u.appendHeader(Og.header).appendBody(Og.body),c.appendHeader(Xg.header).appendBody(Xg.body),{vertex:function(){return u},fragment:function(){return c}}},m0=function(){var u=$r().mode(Wr.POINTS),c=_t(),d=_t(),p=d0(),b=function(){},w=function(g){u.vertexShader(p.vertex()).fragmentShader(p.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),b(u),u(g)};return w.type=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],w):b},w.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},T(w,u,"context","pixelRatio"),et(w,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),et(w,"mainValueAttribute",u.buffers(),"attribute","aMainValue"),et(w,"sizeAttribute",u.buffers(),"attribute","aSize"),et(w,"definedAttribute",u.buffers(),"attribute","aDefined"),w},Zo=function(){var u=1,c=function(p){p.buffers().uniform("uStrokeWidth",gn(u))};return c.lineWidth=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],c):u},c},Za=function(u){var c=null,d=u,p=!0,b=function(h){var g=h.context();c==null&&(c=g.createBuffer()),g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,c),p&&(g.bufferData(g.ELEMENT_ARRAY_BUFFER,new Uint16Array(d),g.STATIC_DRAW),p=!1)};return b.clear=function(){c=null,p=!0},b.data=function(){return arguments.length?(p=!0,d=arguments.length<=0?void 0:arguments[0],b):d},b},h0=function(){var u=$r().mode(Wr.TRIANGLES).subInstanceCount(6),c=_t(),d=_t(),p=function(){},b=Zo(),w=lt().divisor(0).size(4).type(bt.BYTE).data([[-1,1,1,0],[1,1,0,1],[1,-1,0,1],[-1,-1,1,0]]);u.buffers().elementIndices(Za([0,1,2,2,3,0])).attribute("aCorner",w);var h=function(y){var _=kt(En),S=kt(Pn);u.vertexShader(_).fragmentShader(S),_.appendHeader(`
            attribute vec4 aCorner;
            attribute float aCrossValue;
            attribute float aCrossNextValue;
            attribute float aMainValue;
            attribute float aMainNextValue;
            attribute float aDefined;
            attribute float aDefinedNext;

            uniform float uStrokeWidth;
            uniform vec2 uScreen;

            varying float vLength;
            varying vec2 vPosition;
        `),_.appendBody(`
            vec4 value = vec4(aCrossValue, aMainValue, 0.0, 1.0);
            vec4 nextValue = vec4(aCrossNextValue, aMainNextValue, 0.0, 1.0);
        `),c(u,"value",0),c(u,"nextValue",0),d(u,"value",1),d(u,"nextValue",1),_.appendBody(`
            vec2 position = aCorner[2] * value.xy + aCorner[3] * nextValue.xy;

            vec2 direction = normalize((nextValue.xy - value.xy) * uScreen);
            vec2 normal = vec2(direction.y, -direction.x);
            vec2 padding = ((uStrokeWidth / 2.0) / (uScreen / 2.0));
            
            padding *= aDefined * aDefinedNext;
            position += (aCorner[0] * direction + aCorner[1] * normal) * padding;

            gl_Position = vec4(position.x, position.y, 0.0, 1.0);

            vLength = length((nextValue.xy - value.xy) * (uScreen / 2.0));
            vPosition = aCorner.xy * (uStrokeWidth / 2.0);
            vPosition.x += aCorner[3] * vLength;
        `),S.appendHeader(`
            uniform float uStrokeWidth;
            varying float vLength;
            varying vec2 vPosition;

            float canFill = 0.0;
            float canStroke = 1.0;
        `),S.appendBody(`
            vec2 position = vPosition;
            position.x -= clamp(position.x, 0.0, vLength);
            float sdf = length(position) - uStrokeWidth / 2.0;
            if (sdf > 0.5) {
                discard;
            }
        `),b(u),p(u),u(y-1)};return h.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],h):p},h.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},T(h,u,"context","pixelRatio"),T(h,b,"lineWidth"),et(h,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),et(h,"crossNextValueAttribute",u.buffers(),"attribute","aCrossNextValue"),et(h,"mainValueAttribute",u.buffers(),"attribute","aMainValue"),et(h,"mainNextValueAttribute",u.buffers(),"attribute","aMainNextValue"),et(h,"definedAttribute",u.buffers(),"attribute","aDefined"),et(h,"definedNextAttribute",u.buffers(),"attribute","aDefinedNext"),h},e7=function(){var u=kt(En),c=kt(Pn);return u.appendHeader(Wg.header).appendBody(Wg.body),c.appendHeader(n0.header).appendBody(n0.body),{vertex:function(){return u},fragment:function(){return c}}},p0=function(){var u=$r().mode(Wr.TRIANGLES).subInstanceCount(18),c=_t(),d=_t(),p=Zo(),b=function(){},w=lt().divisor(0).size(3).type(bt.BYTE).data([[0,-2,-1],[0,-2,1],[0,2,1],[0,2,-1],[-1,-1,-1],[-1,-1,1],[0,-1,1],[0,-1,-1],[1,1,1],[0,1,1],[0,1,-1],[1,1,-1]]);u.buffers().elementIndices(Za([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,10,11,8])).attribute("aCorner",w);var h=function(y){var _=e7();u.vertexShader(_.vertex()).fragmentShader(_.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),p(u),u.vertexShader().appendBody(`
          gl_Position.x += xModifier / uScreen.x * 2.0;
          gl_Position.y += yModifier / uScreen.y * 2.0;
        `),b(u),u(y)};return h.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],h):b},h.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},T(h,u,"context","pixelRatio"),T(h,p,"lineWidth"),et(h,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),et(h,"openValueAttribute",u.buffers(),"attribute","aOpenValue"),et(h,"highValueAttribute",u.buffers(),"attribute","aHighValue"),et(h,"lowValueAttribute",u.buffers(),"attribute","aLowValue"),et(h,"closeValueAttribute",u.buffers(),"attribute","aCloseValue"),et(h,"bandwidthAttribute",u.buffers(),"attribute","aBandwidth"),et(h,"definedAttribute",u.buffers(),"attribute","aDefined"),h},t7=function(){var u=kt(En),c=kt(Pn);return u.appendHeader($g.header).appendBody($g.body),c.appendHeader(o0.header).appendBody(o0.body),{vertex:function(){return u},fragment:function(){return c}}},g0=function(){var u=$r().mode(Wr.TRIANGLES).subInstanceCount(6),c=_t(),d=_t(),p=function(){},b=lt().divisor(0).size(2).type(bt.BYTE).data([[-1,-1],[1,1],[-1,1],[1,-1]]);u.buffers().elementIndices(Za([0,1,2,0,1,3])).attribute("aCorner",b);var w=function(g){var y=t7();u.vertexShader(y.vertex()).fragmentShader(y.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),u.vertexShader().appendBody(`
            gl_Position.x += xModifier / uScreen.x * 2.0;
        `),p(u),u(g)};return w.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},T(w,u,"context","pixelRatio"),et(w,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),et(w,"mainValueAttribute",u.buffers(),"attribute","aMainValue"),et(w,"baseValueAttribute",u.buffers(),"attribute","aBaseValue"),et(w,"bandwidthAttribute",u.buffers(),"attribute","aBandwidth"),et(w,"definedAttribute",u.buffers(),"attribute","aDefined"),w},n7=function(){var u=kt(En),c=kt(Pn);return u.appendHeader(Ug.header).appendBody(Ug.body),c.appendHeader(i0.header).appendBody(i0.body),{vertex:function(){return u},fragment:function(){return c}}},v0=function(){var u=$r().mode(Wr.TRIANGLES).subInstanceCount(18),c=_t(),d=_t(),p=function(){},b=Zo(),w=lt().divisor(0).size(3).type(bt.BYTE).data([[0,1,1],[0,1,-1],[0,-1,-1],[0,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1],[-1,-1,1],[-1,1,-1],[-1,1,1],[1,1,1],[1,1,-1]]);u.buffers().elementIndices(Za([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,8,11,10])).attribute("aCorner",w);var h=function(y){var _=n7();u.vertexShader(_.vertex()).fragmentShader(_.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),b(u),u.vertexShader().appendBody(`
                gl_Position.x += xModifier / uScreen.x * 2.0;
                gl_Position.y += yModifier / uScreen.y * 2.0;
            `),p(u),u(y)};return h.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],h):p},h.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},T(h,u,"context","pixelRatio"),T(h,b,"lineWidth"),et(h,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),et(h,"highValueAttribute",u.buffers(),"attribute","aHighValue"),et(h,"lowValueAttribute",u.buffers(),"attribute","aLowValue"),et(h,"bandwidthAttribute",u.buffers(),"attribute","aBandwidth"),et(h,"definedAttribute",u.buffers(),"attribute","aDefined"),h},r7=function(){var u=kt(En),c=kt(Pn);return u.appendHeader(Yg.header).appendBody(Yg.body),c.appendHeader(t0.header).appendBody(t0.body),{vertex:function(){return u},fragment:function(){return c}}},y0=function(){var u=$r().mode(Wr.TRIANGLES).subInstanceCount(12),c=_t(),d=_t(),p=Zo(),b=function(){},w=lt().divisor(0).size(3).type(bt.BYTE).data([[0,2,1],[0,2,-1],[0,-2,-1],[0,-2,1],[1,-1,0],[-1,-1,0],[-1,1,0],[1,1,0]]);u.buffers().elementIndices(Za([0,1,2,0,3,2,4,5,6,4,7,6])).attribute("aCorner",w);var h=function(y){var _=r7();u.vertexShader(_.vertex()).fragmentShader(_.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),p(u),u.vertexShader().appendBody(`
          gl_Position.x += xModifier / uScreen.x * 2.0;
          gl_Position.y += yModifier / uScreen.y * 2.0;
        `),b(u),u(y)};return h.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],h):b},h.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},T(h,u,"context","pixelRatio"),T(h,p,"lineWidth"),et(h,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),et(h,"openValueAttribute",u.buffers(),"attribute","aOpenValue"),et(h,"highValueAttribute",u.buffers(),"attribute","aHighValue"),et(h,"lowValueAttribute",u.buffers(),"attribute","aLowValue"),et(h,"closeValueAttribute",u.buffers(),"attribute","aCloseValue"),et(h,"bandwidthAttribute",u.buffers(),"attribute","aBandwidth"),et(h,"definedAttribute",u.buffers(),"attribute","aDefined"),h},a7=function(){var u=kt(En),c=kt(Pn);return u.appendHeader(Gg.header).appendBody(Gg.body),c.appendHeader(a0.header).appendBody(a0.body),{vertex:function(){return u},fragment:function(){return c}}},b0=function(){var u=$r().mode(Wr.TRIANGLES).subInstanceCount(54),c=_t(),d=_t(),p=function(){},b=Zo(),w=lt().divisor(0).size(4).type(bt.BYTE).data([[-1,-2,-1,1],[1,-2,-1,1],[1,-2,1,1],[-1,-2,1,1],[0,-2,-1,0],[0,-2,1,0],[0,-1,1,0],[0,-1,-1,0],[-1,-1,-1,1],[1,-1,-1,1],[1,-1,1,1],[-1,-1,1,1],[-1,0,-1,1],[1,0,-1,1],[1,0,1,1],[-1,0,1,1],[-1,1,-1,1],[1,1,-1,1],[1,1,1,1],[-1,1,1,1],[-1,-1,-1,0],[-1,-1,1,0],[-1,1,1,0],[-1,1,-1,0],[1,-1,-1,0],[1,-1,1,0],[1,1,1,0],[1,1,-1,0],[0,2,-1,0],[0,2,1,0],[0,1,1,0],[0,1,-1,0],[-1,2,-1,1],[1,2,-1,1],[1,2,1,1],[-1,2,1,1]]);u.buffers().elementIndices(Za([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23,24,25,26,24,26,27,28,29,30,28,30,31,32,33,34,32,34,35])).attribute("aCorner",w);var h=function(y){var _=a7();u.vertexShader(_.vertex()).fragmentShader(_.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),b(u),u.vertexShader().appendBody(`
            gl_Position.x += xModifier / uScreen.x * 2.0;
            gl_Position.y += yModifier / uScreen.y * 2.0;
        `),p(u),u(y)};return h.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],h):p},h.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},T(h,u,"context","pixelRatio"),T(h,b,"lineWidth"),et(h,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),et(h,"highValueAttribute",u.buffers(),"attribute","aHighValue"),et(h,"upperQuartileValueAttribute",u.buffers(),"attribute","aUpperQuartileValue"),et(h,"medianValueAttribute",u.buffers(),"attribute","aMedianValue"),et(h,"lowerQuartileValueAttribute",u.buffers(),"attribute","aLowerQuartileValue"),et(h,"lowValueAttribute",u.buffers(),"attribute","aLowValue"),et(h,"bandwidthAttribute",u.buffers(),"attribute","aBandwidth"),et(h,"capAttribute",u.buffers(),"attribute","aCapWidth"),et(h,"definedAttribute",u.buffers(),"attribute","aDefined"),h},fa=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(u>0||c<0)throw new Error("Offset values (".concat(u," & ").concat(c,") must straddle 0 "));var d=Dl(),p=s0(),b=function w(h){var g=w.size()*Mf(w.type()),y=Math.abs(u)*g;if(d.offset(y).size(w.size()).type(w.type()),d(h),!!p.dirty()){var _=p(),S=c*g,k=y+_.length*Mf(w.type())+S,E=h.context();E.bindBuffer(E.ARRAY_BUFFER,d.buffer()),E.bufferData(E.ARRAY_BUFFER,k,E.DYNAMIC_DRAW),E.bufferSubData(E.ARRAY_BUFFER,y,_)}};return b.offset=function(w){if(u>w||w>c)throw new Error("Requested offset ".concat(w," exceeds bounds (").concat(u," & ").concat(c,") "));var h=function(y){d.offset((w-u)*b.size()*Mf(b.type())),d(y)};return T(h,b,"clear","location"),h},b.clear=function(){d.buffer(null),p.clear()},T(b,d,"normalized","location","divisor"),T(b,p,"data","value","size","type"),b},Nl=function(){var u=_t(),c=function(b){return"linear".concat(b)},d=function(b,w,h){b.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(c(h),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(c(h),"Scale;")).appendBody("".concat(w," = ").concat(w," + ").concat(c(h),"Offset;")).appendBody("".concat(w," = ").concat(w," * ").concat(c(h),"Scale;"));var g=u.domain()[1]-u.domain()[0],y=u.range()[1]-u.range()[0],_=u.range()[0]*(g/y)-u.domain()[0],S=y/g,k=[0,0,0,0],E=[1,1,1,1];k[h]=_,E[h]=S,b.buffers().uniform("".concat(c(h),"Offset"),gn(k)).uniform("".concat(c(h),"Scale"),gn(E))};return C(d,u),d},x0=function(){var u=_t(),c=10;function d(w,h){return Math.log10(w)/Math.log10(h)}var p=function(h){return"log".concat(h)},b=function(h,g,y){var _="".concat(p(y),"Offset + (").concat(p(y),"Scale * clamp(log(").concat(g,") / log(").concat(p(y),"Base), -inf, inf))");h.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Include;")).appendHeaderIfNotExists("uniform float ".concat(p(y),"Base;")).appendBody("".concat(g," = (").concat(p(y),"Include * (").concat(_,")) + ((1.0 - ").concat(p(y),"Include) * ").concat(g,");"));var S=d(u.domain()[1],c)-d(u.domain()[0],c),k=u.range()[1]-u.range()[0],E=k/S,z=u.range()[0]-E*d(u.domain()[0],c),H=[0,0,0,0],F=[0,0,0,0],q=[0,0,0,0];H[y]=z,F[y]=E,q[y]=1,h.buffers().uniform("".concat(p(y),"Offset"),gn(H)).uniform("".concat(p(y),"Scale"),gn(F)).uniform("".concat(p(y),"Include"),gn(q)).uniform("".concat(p(y),"Base"),gn(c))};return b.base=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},C(b,u),b},w0=function(){var u=_t(),c=1;function d(w,h){return Math.sign(w)*Math.pow(Math.abs(w),h)}var p=function(h){return"pow".concat(h)},b=function(h,g,y){var _="".concat(p(y),"Offset + (").concat(p(y),"Scale * sign(").concat(g,") * pow(abs(").concat(g,"), vec4(").concat(p(y),"Exp)))");h.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Include;")).appendHeaderIfNotExists("uniform float ".concat(p(y),"Exp;")).appendBody("".concat(g," = (").concat(p(y),"Include * (").concat(_,")) + ((1.0 - ").concat(p(y),"Include) * ").concat(g,");"));var S=d(u.domain()[1],c)-d(u.domain()[0],c),k=u.range()[1]-u.range()[0],E=k/S,z=u.range()[0]-E*d(u.domain()[0],c),H=[0,0,0,0],F=[0,0,0,0],q=[0,0,0,0];H[y]=z,F[y]=E,q[y]=1,h.buffers().uniform("".concat(p(y),"Offset"),gn(H)).uniform("".concat(p(y),"Scale"),gn(F)).uniform("".concat(p(y),"Include"),gn(q)).uniform("".concat(p(y),"Exp"),gn(c))};return b.exponent=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},C(b,u),b},i7=n.scaleLinear().copy.toString(),o7=n.scaleLog().copy.toString(),u7=n.scalePow().copy.toString(),l7=n.scaleTime().copy.toString(),Cf=n.scaleIdentity(),c7=Date.now(),_0=function(c){return c-c7},da=function(u){switch(u.copy.toString()){case i7:return{scale:Cf,webglScale:Nl().domain(u.domain())};case l7:return{scale:_0,webglScale:Nl().domain(u.domain().map(_0))};case o7:return{scale:Cf,webglScale:x0().domain(u.domain()).base(u.base())};case u7:return{scale:Cf,webglScale:w0().domain(u.domain()).exponent(u.exponent())};default:return{scale:u.copy(),webglScale:Nl().domain(u.range())}}},s7=function(){var u=kt(En),c=kt(Pn);return u.appendHeader(Rg.header).appendBody(Rg.body),c.appendHeader(Zg.header).appendBody(Zg.body),{vertex:function(){return u},fragment:function(){return c}}},f7=function(){var u=kt(En),c=kt(Pn);return u.appendHeader(Bg.header).appendBody(Bg.body),c.appendHeader(Jg.header).appendBody(Jg.body),{vertex:function(){return u},fragment:function(){return c}}},d7=function(){var u=kt(En),c=kt(Pn);return u.appendHeader(Hg.header).appendBody(Hg.body),c.appendHeader(e0.header).appendBody(e0.body),{vertex:function(){return u},fragment:function(){return c}}},m7=function(){var u=kt(En),c=kt(Pn);return u.appendHeader(Fg.header).appendBody(Fg.body),c.appendHeader(Kg.header).appendBody(Kg.body),{vertex:function(){return u},fragment:function(){return c}}},h7=function(){var u=kt(En),c=kt(Pn);return u.appendHeader(Ig.header).appendBody(Ig.body),c.appendHeader(jg.header).appendBody(jg.body),{vertex:function(){return u},fragment:function(){return c}}},p7=function(){var u=kt(En),c=kt(Pn);return u.appendHeader(zg.header).appendBody(zg.body),c.appendHeader(Qg.header).appendBody(Qg.body),{vertex:function(){return u},fragment:function(){return c}}},S0=function(u){switch(u){case s.symbolCircle:return d0();case s.symbolSquare:return s7();case s.symbolTriangle:return f7();case s.symbolCross:return d7();case s.symbolDiamond:return m7();case s.symbolStar:return h7();case s.symbolWye:return p7();default:throw new Error("Unrecognised symbol: ".concat(u))}},M0=function(u){var c=Dl().divisor(1),d=u,p=!0,b=function(h){if(c(h),!!p){if(!Array.isArray(d))throw new Error("Expected an array, received: ".concat(d));if(d.length!==c.size())throw new Error("Expected array of length: ".concat(c.size(),", recieved array of length: ").concat(d.length));var g=h.context();g["vertexAttrib".concat(d.length,"fv")](c.location(),d),g.disableVertexAttribArray(c.location()),p=!1}};return b.clear=function(){p=!0},b.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p=!0,b):d},T(b,c,"normalized","size","location"),b},g7=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,1],c=lt().size(4),d=u,p=!0,b=function(h){if(h.vertexShader().appendHeaderIfNotExists(Pg.header).appendBodyIfNotExists(Pg.body),h.fragmentShader().appendHeaderIfNotExists(u0.header).appendBodyIfNotExists(u0.body),Array.isArray(d))h.buffers().attribute("aFillColor",M0(d).size(4));else if(typeof d=="function"){if(!p)return;c.value(d),h.buffers().attribute("aFillColor",c)}else throw new Error("Expected value to be an array or function, received ".concat(d));p=!1};return b.value=function(){return arguments.length?(d!==(arguments.length<=0?void 0:arguments[0])&&(d=arguments.length<=0?void 0:arguments[0],p=!0),b):d},T(b,c,"data"),b},v7=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,1],c=lt().size(4),d=u,p=!0,b=function(h){if(h.vertexShader().appendHeaderIfNotExists(Lg.header).appendBodyIfNotExists(Lg.body),h.fragmentShader().appendHeaderIfNotExists(l0.header).appendBodyIfNotExists(l0.body),Array.isArray(d))h.buffers().attribute("aStrokeColor",M0(d).size(4));else if(typeof d=="function"){if(!p)return;c.value(d),h.buffers().attribute("aStrokeColor",c)}else throw new Error("Expected value to be an array or function, received ".concat(d));p=!1};return b.value=function(){return arguments.length?(d!==(arguments.length<=0?void 0:arguments[0])&&(d=arguments.length<=0?void 0:arguments[0],p=!0),b):d},T(b,c,"data"),b},C0=function(){var u=Nn(),c=fa(0,1),d=c.offset(1),p=fa(0,1),b=p.offset(1),w=fa(0,1).type(bt.UNSIGNED_BYTE),h=w.offset(1),g=h0().crossValueAttribute(c).crossNextValueAttribute(d).mainValueAttribute(p).mainNextValueAttribute(b).definedAttribute(w).definedNextAttribute(h),y=function(F,q){return!1},_=da,S=[],k=null,E=null,z=function(F){var q=_(u.xScale()),ee=_(u.yScale()),ae=!y(S,F);ae&&(S=F,w.value(function(re,fe){return u.defined()(re,fe)}).data(F)),(ae||q.scale!==k)&&(k=q.scale,u.orient()==="vertical"?c.value(function(re,fe){return q.scale(u.crossValue()(re,fe))}).data(F):c.value(function(re,fe){return q.scale(u.mainValue()(re,fe))}).data(F)),(ae||ee.scale!==E)&&(E=ee.scale,u.orient()==="vertical"?p.value(function(re,fe){return ee.scale(u.mainValue()(re,fe))}).data(F):p.value(function(re,fe){return ee.scale(u.crossValue()(re,fe))}).data(F)),g.xScale(q.webglScale).yScale(ee.webglScale).decorate(function(re){return u.decorate()(re,F,0)}),g(F.length)};return z.equals=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],z):y},z.scaleMapper=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],z):_},C(z,u,R("baseValue","bandwidth","align")),T(z,g,"context","lineWidth","pixelRatio"),z},T0=function(){var u=s.symbol(),c=Nn(),d=pt("g","point"),p=function(h){return"translate("+h[0]+", "+h[1]+")"},b=function(h){Dt(h)&&d.transition(h),h.each(function(g,y,_){var S=g.filter(c.defined()),k=d(l.select(_[y]),S);k.enter().attr("transform",function(E,z){return p(c.values(E,z).origin)}).attr("fill",dt.gray).attr("stroke",dt.black).append("path"),k.attr("transform",function(E,z){return p(c.values(E,z).origin)}).select("path").attr("d",u),c.decorate()(k,g,y)})};return C(b,c,R("baseValue","bandwidth","align")),T(b,d,"key"),T(b,u,"type","size"),b},A0=function(){var u=s.symbol(),c=Nn(),d=function(b){var w=b.filter(c.defined()),h=u.context();w.forEach(function(g,y){h.save();var _=c.values(g,y);h.translate(_.origin[0],_.origin[1]),h.beginPath(),h.strokeStyle=dt.black,h.fillStyle=dt.gray,c.decorate()(h,g,y),u(g,y),h.fill(),h.stroke(),h.closePath(),h.restore()})};return C(d,c,R("baseValue","bandwidth","align")),T(d,u,"size","type","context"),d},y7=function(){var u=Nn(),c=Nt(64),d=s.symbolCircle,p=lt(),b=lt(),w=lt().type(bt.UNSIGNED_SHORT),h=lt().type(bt.UNSIGNED_BYTE),g=m0().crossValueAttribute(p).mainValueAttribute(b).sizeAttribute(w).definedAttribute(h),y=function(F,q){return!1},_=da,S=[],k=null,E=null,z=function(F){var q=_(u.xScale()),ee=_(u.yScale()),ae=!y(S,F);ae&&(S=F,w.value(function(re,fe){return c(re,fe)}).data(F),h.value(function(re,fe){return u.defined()(re,fe)}).data(F)),(ae||q.scale!==k)&&(k=q.scale,u.orient()==="vertical"?p.value(function(re,fe){return q.scale(u.crossValue()(re,fe))}).data(F):p.value(function(re,fe){return q.scale(u.mainValue()(re,fe))}).data(F)),(ae||ee.scale!==E)&&(E=ee.scale,u.orient()==="vertical"?b.value(function(re,fe){return ee.scale(u.mainValue()(re,fe))}).data(F):b.value(function(re,fe){return ee.scale(u.crossValue()(re,fe))}).data(F)),g.xScale(q.webglScale).yScale(ee.webglScale).type(S0(d)).decorate(function(re){return u.decorate()(re,F,0)}),g(F.length)};return z.size=function(){return arguments.length?(c=Nt(arguments.length<=0?void 0:arguments[0]),z):c},z.type=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],z):d},z.equals=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],z):y},z.scaleMapper=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],z):_},C(z,u,R("baseValue","bandwidth","align")),T(z,g,"context","pixelRatio"),z},b7=function(){var u=Ht().x(0).y(0),c=Nn(),d=pt("g","bar"),p=function(y){return c.orient()==="vertical"?y.height:y.width},b=function(y){return c.orient()==="vertical"?y.width:y.height},w=function(y){return"translate("+y[0]+", "+y[1]+")"},h=function(y){Dt(y)&&d.transition(y),y.each(function(_,S,k){var E=c.orient();if(E!=="vertical"&&E!=="horizontal")throw new Error("The bar series does not support an orientation of "+E);var z=_.filter(c.defined()),H=z.map(c.values);u.width(0).height(0),c.orient()==="vertical"?(u.verticalAlign("top"),u.horizontalAlign("center")):(u.horizontalAlign("right"),u.verticalAlign("center"));var F=d(l.select(k[S]),z);F.enter().attr("transform",function(q,ee){return w(H[ee].baseOrigin)}).attr("class","bar "+c.orient()).attr("fill",dt.darkGray).append("path").attr("d",function(q,ee){return b(u)(H[ee].width),u([q])}),F.attr("transform",function(q,ee){return w(H[ee].origin)}).select("path").attr("d",function(q,ee){return b(u)(H[ee].width),p(u)(-H[ee].height),u([q])}),c.decorate()(F,z,S)})};return C(h,c),T(h,d,"key"),h},x7=function(){var u=Nn(),c=Ht().x(0).y(0),d=function(h){return u.orient()==="vertical"?h.height:h.width},p=function(h){return u.orient()==="vertical"?h.width:h.height},b=function(h){var g=c.context(),y=h.filter(u.defined()),_=y.map(u.values);u.orient()==="vertical"?(c.verticalAlign("top"),c.horizontalAlign("center")):(c.horizontalAlign("right"),c.verticalAlign("center")),_.forEach(function(S,k){g.save(),g.beginPath(),g.translate(S.origin[0],S.origin[1]),g.fillStyle=dt.darkGray,g.strokeStyle="transparent",u.decorate()(g,S.d,k),d(c)(-S.height),p(c)(S.width),c([S]),g.fill(),g.stroke(),g.closePath(),g.restore()})};return C(b,u),T(b,c,"context"),b},w7=function(){var u=Nn(),c=lt(),d=lt(),p=lt(),b=lt().type(bt.UNSIGNED_SHORT),w=lt().type(bt.UNSIGNED_BYTE),h=g0().crossValueAttribute(c).mainValueAttribute(d).baseValueAttribute(p).bandwidthAttribute(b).definedAttribute(w),g=function(H,F){return!1},y=da,_=[],S=null,k=null,E=function(H){if(u.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(u.orient()));var F=y(u.xScale()),q=y(u.yScale()),ee=!g(_,H);ee&&(_=H,b.value(function(ae,re){return u.bandwidth()(ae,re)}).data(H),w.value(function(ae,re){return u.defined()(ae,re)}).data(H)),(ee||F.scale!==S)&&(S=F.scale,c.value(function(ae,re){return F.scale(u.crossValue()(ae,re))}).data(H)),(ee||q.scale!==k)&&(k=q.scale,p.value(function(ae,re){return q.scale(u.baseValue()(ae,re))}).data(H),d.value(function(ae,re){return q.scale(u.mainValue()(ae,re))}).data(H)),h.xScale(F.webglScale).yScale(q.webglScale).decorate(function(ae){return u.decorate()(ae,H,0)}),h(H.length)};return E.equals=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],E):g},E.scaleMapper=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],E):y},C(E,u,R("align")),T(E,h,"context","pixelRatio"),E},Tf=function(){var u=function(y){return y.high},c=function(y){return y.low},d=function(y){return y.cross},p="vertical",b="center",w=function(){return 5},h=Yr({decorate:function(){},defined:function(y,_){return ja(c,u,d)(y,_)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return h.values=function(g,y){var _=w(g,y),S=Qa(b,_),k=h.xScale(),E=h.yScale();if(p==="vertical"){var z=E(u(g,y));return{origin:[k(d(g,y))+S,z],high:0,low:E(c(g,y))-z,width:_}}else{var H=k(c(g,y));return{origin:[H,E(d(g,y))+S],high:k(u(g,y))-H,low:0,width:_}}},h.xValues=function(){return p==="vertical"?[d]:[u,c]},h.yValues=function(){return p!=="vertical"?[d]:[u,c]},h.orient=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],h):p},h.lowValue=function(){return arguments.length?(c=Nt(arguments.length<=0?void 0:arguments[0]),h):c},h.highValue=function(){return arguments.length?(u=Nt(arguments.length<=0?void 0:arguments[0]),h):u},h.crossValue=function(){return arguments.length?(d=Nt(arguments.length<=0?void 0:arguments[0]),h):d},h.bandwidth=function(){return arguments.length?(w=Nt(arguments.length<=0?void 0:arguments[0]),h):w},h.align=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],h):b},h},_7=function(){var u=Tf(),c=pt("g","error-bar"),d=pn().value(0),p=function(g){return function(y){return Dt(g)?y.transition(g):y}},b=function(g){return"translate("+g.origin[0]+", "+g.origin[1]+")"},w=function(g){Dt(g)&&c.transition(g);var y=p(g);g.each(function(_,S,k){var E=_.filter(u.defined()),z=E.map(u.values),H=c(l.select(k[S]),E);H.enter().attr("stroke",dt.black).attr("fill",dt.gray).attr("transform",function(F,q){return b(u.values(F,q))+" scale(1e-6, 1)"}).append("path"),d.orient(u.orient()),H.each(function(F,q,ee){var ae=z[q];d.high(ae.high).low(ae.low).width(ae.width),y(l.select(ee[q])).attr("transform",b(ae)+" scale(1)").select("path").attr("d",d([F]))}),u.decorate()(H,_,S)})};return C(w,u),T(w,c,"key"),w},S7=function(){var u=Tf(),c=pn().value(0),d=function(b){var w=b.filter(u.defined()),h=c.context();c.orient(u.orient()),w.forEach(function(g,y){h.save();var _=u.values(g,y);h.translate(_.origin[0],_.origin[1]),h.beginPath(),h.strokeStyle=dt.black,h.fillStyle=dt.gray,u.decorate()(h,g,y),c.high(_.high).width(_.width).low(_.low)([g]),h.fill(),h.stroke(),h.closePath(),h.restore()})};return C(d,u),T(d,c,"context"),d},M7=function(){var u=Tf(),c=lt(),d=lt(),p=lt(),b=lt().type(bt.UNSIGNED_SHORT),w=lt().type(bt.UNSIGNED_BYTE),h=v0().crossValueAttribute(c).highValueAttribute(d).lowValueAttribute(p).bandwidthAttribute(b).definedAttribute(w),g=function(H,F){return!1},y=da,_=[],S=null,k=null,E=function(H){if(u.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(u.orient()));var F=y(u.xScale()),q=y(u.yScale()),ee=!g(_,H);ee&&(_=H,b.value(function(ae,re){return u.bandwidth()(ae,re)}).data(H),w.value(function(ae,re){return u.defined()(ae,re)}).data(H)),(ee||F.scale!==S)&&(S=F.scale,c.value(function(ae,re){return F.scale(u.crossValue()(ae,re))}).data(H)),(ee||q.scale!==k)&&(k=q.scale,d.value(function(ae,re){return q.scale(u.highValue()(ae,re))}).data(H),p.value(function(ae,re){return q.scale(u.lowValue()(ae,re))}).data(H)),h.xScale(F.webglScale).yScale(q.webglScale).decorate(function(ae){return u.decorate()(ae,H,0)}),h(H.length)};return E.equals=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],E):g},E.scaleMapper=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],E):y},C(E,u,R("align")),T(E,h,"context","lineWidth","pixelRatio"),E},C7=function(){var u=Nn(),c=s.area(),d=pt("path","area"),p=function(w){Dt(w)&&d.transition(w),c.defined(u.defined()),w.each(function(h,g,y){var _=h.map(u.values);c.x(function(E,z){return _[z].transposedX}).y(function(E,z){return _[z].transposedY});var S=u.orient()==="vertical"?"y":"x";c[S+"0"](function(E,z){return _[z].y0}),c[S+"1"](function(E,z){return _[z].y});var k=d(l.select(y[g]),[h]);k.enter().attr("fill",dt.gray),k.attr("d",c),u.decorate()(k,h,g)})};return C(p,u,R("bandwidth","align")),T(p,d,"key"),T(p,c,"curve"),p},T7=function(){var u=Nn(),c=s.area(),d=function(b){var w=c.context();c.defined(u.defined());var h=b.map(u.values);c.x(function(y,_){return h[_].transposedX}).y(function(y,_){return h[_].transposedY});var g=u.orient()==="vertical"?"y":"x";c[g+"0"](function(y,_){return h[_].y0}),c[g+"1"](function(y,_){return h[_].y}),w.beginPath(),w.fillStyle=dt.gray,w.strokeStyle="transparent",u.decorate()(w,b),c(b),w.fill(),w.stroke(),w.closePath()};return C(d,u,R("bandwidth","align")),T(d,c,"curve","context"),d},A7=function(){var u=Nn(),c=fa(0,1),d=c.offset(1),p=fa(0,1),b=p.offset(1),w=fa(0,1),h=w.offset(1),g=fa(0,1).type(bt.UNSIGNED_BYTE),y=g.offset(1),_=f0().crossValueAttribute(c).crossNextValueAttribute(d).mainValueAttribute(p).mainNextValueAttribute(b).baseValueAttribute(w).baseNextValueAttribute(h).definedAttribute(g).definedNextAttribute(y),S=function(ee,ae){return!1},k=da,E=[],z=null,H=null,F=function(ee){if(u.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(u.orient()));var ae=k(u.xScale()),re=k(u.yScale()),fe=!S(E,ee);fe&&(E=ee,g.value(function(ke,je){return u.defined()(ke,je)}).data(ee)),(fe||ae.scale!==z)&&(z=ae.scale,c.value(function(ke,je){return ae.scale(u.crossValue()(ke,je))}).data(ee)),(fe||re.scale!==H)&&(H=re.scale,w.value(function(ke,je){return re.scale(u.baseValue()(ke,je))}).data(ee),p.value(function(ke,je){return re.scale(u.mainValue()(ke,je))}).data(ee)),_.xScale(ae.webglScale).yScale(re.webglScale).decorate(function(ke){return u.decorate()(ke,ee,0)}),_(ee.length)};return F.equals=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],F):S},F.scaleMapper=function(){return arguments.length?(k=arguments.length<=0?void 0:arguments[0],F):k},C(F,u,R("bandwidth","align")),T(F,_,"context","pixelRatio"),F},Af=function(){var u,c=function(S){return S.date},d=function(S){return S.open},p=function(S){return S.high},b=function(S){return S.low},w=function(S){return S.close},h=function(){return 5},g="center",y=function(S,k){return u.xScale()(c(S,k))};return u=Yr({decorate:function(){},defined:function(S,k){return ja(c,d,b,p,w)(S,k)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()}),u.values=function(_,S){var k=w(_,S),E=d(_,S),z=h(_,S),H=Qa(g,z),F="";return k>E?F="up":k<E&&(F="down"),{cross:y(_,S)+H,open:u.yScale()(E),high:u.yScale()(p(_,S)),low:u.yScale()(b(_,S)),close:u.yScale()(k),width:z,direction:F}},u.xValues=function(){return[c]},u.yValues=function(){return[d,p,b,w]},u.crossValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],u):c},u.openValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],u):d},u.highValue=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],u):p},u.lowValue=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],u):b},u.yValue=u.closeValue=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],u):w},u.bandwidth=function(){return arguments.length?(h=Nt(arguments.length<=0?void 0:arguments[0]),u):h},u.align=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],u):g},u},k0=function(u,c){var d=Af(),p=pt("g",c),b=function(y){return"translate("+y.cross+", "+y.high+")"},w=function(y){return function(_){return Dt(y)?_.transition(y):_}},h=function(y){Dt(y)&&p.transition(y);var _=w(y);y.each(function(S,k,E){var z=S.filter(d.defined()),H=p(l.select(E[k]),z);H.enter().attr("transform",function(F,q){return b(d.values(F,q))+" scale(1e-6, 1)"}).append("path"),H.each(function(F,q,ee){var ae=d.values(F,q),re=ae.direction==="up"?dt.green:dt.red,fe=_(l.select(ee[q])).attr("class",c+" "+ae.direction).attr("stroke",re).attr("fill",re).attr("transform",function(){return b(ae)+" scale(1)"});u.x(0).width(ae.width).open(function(){return ae.open-ae.high}).high(0).low(function(){return ae.low-ae.high}).close(function(){return ae.close-ae.high}),fe.select("path").attr("d",u([F]))}),d.decorate()(H,S,k)})};return T(h,p,"key"),C(h,d),h},k7=function(){return k0(kn(),"candlestick")},V0=function(u){var c=Af(),d=function(b){var w=b.filter(c.defined()),h=u.context();w.forEach(function(g,y){h.save();var _=c.values(g,y);h.translate(_.cross,_.high),h.beginPath(),u.x(0).open(function(){return _.open-_.high}).width(_.width).high(0).low(function(){return _.low-_.high}).close(function(){return _.close-_.high})([g]);var S=_.direction==="up"?dt.green:dt.red;h.strokeStyle=S,h.fillStyle=S,c.decorate()(h,g,y),h.fill(),h.stroke(),h.closePath(),h.restore()})};return T(d,u,"context"),C(d,c),d},V7=function(){return V0(kn())},D0=function(u){var c=Af(),d=lt(),p=lt(),b=lt(),w=lt(),h=lt(),g=lt().type(bt.UNSIGNED_SHORT),y=lt().type(bt.UNSIGNED_BYTE);u.crossValueAttribute(d).openValueAttribute(p).highValueAttribute(b).lowValueAttribute(w).closeValueAttribute(h).bandwidthAttribute(g).definedAttribute(y);var _=function(q,ee){return!1},S=da,k=[],E=null,z=null,H=function(q){var ee=S(c.xScale()),ae=S(c.yScale()),re=!_(k,q);re&&(k=q,g.value(function(fe,ke){return c.bandwidth()(fe,ke)}).data(q),y.value(function(fe,ke){return c.defined()(fe,ke)}).data(q)),(re||ee.scale!==E)&&(E=ee.scale,d.value(function(fe,ke){return ee.scale(c.crossValue()(fe,ke))}).data(q)),(re||ae.scale!==z)&&(z=ae.scale,p.value(function(fe,ke){return ae.scale(c.openValue()(fe,ke))}).data(q),b.value(function(fe,ke){return ae.scale(c.highValue()(fe,ke))}).data(q),w.value(function(fe,ke){return ae.scale(c.lowValue()(fe,ke))}).data(q),h.value(function(fe,ke){return ae.scale(c.closeValue()(fe,ke))}).data(q)),u.xScale(ee.webglScale).yScale(ae.webglScale).decorate(function(fe){return c.decorate()(fe,q,0)}),u(q.length)};return H.equals=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],H):_},H.scaleMapper=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],H):S},C(H,c,R("align")),T(H,u,"context","lineWidth","pixelRatio"),H},D7=function(){return D0(y0())},kf=function(){var u=function(k){return k.upperQuartile},c=function(k){return k.lowerQuartile},d=function(k){return k.high},p=function(k){return k.low},b=function(k){return k.value},w=function(k){return k.median},h="vertical",g="center",y=function(){return 5},_=Yr({decorate:function(){},defined:function(k,E){return ja(p,d,c,u,b,w)(k,E)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return _.values=function(S,k){var E=y(S,k),z=Qa(g,E),H=_.xScale(),F=_.yScale();if(h==="vertical"){var q=F(d(S,k));return{origin:[H(b(S,k))+z,q],high:0,upperQuartile:F(u(S,k))-q,median:F(w(S,k))-q,lowerQuartile:F(c(S,k))-q,low:F(p(S,k))-q,width:E}}else{var ee=H(p(S,k));return{origin:[ee,F(b(S,k))+z],high:H(d(S,k))-ee,upperQuartile:H(u(S,k))-ee,median:H(w(S,k))-ee,lowerQuartile:H(c(S,k))-ee,low:0,width:E}}},_.xValues=function(){return h==="vertical"?[b]:[u,c,d,p,w]},_.yValues=function(){return h!=="vertical"?[b]:[u,c,d,p,w]},_.orient=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],_):h},_.lowerQuartileValue=function(){return arguments.length?(c=Nt(arguments.length<=0?void 0:arguments[0]),_):c},_.upperQuartileValue=function(){return arguments.length?(u=Nt(arguments.length<=0?void 0:arguments[0]),_):u},_.lowValue=function(){return arguments.length?(p=Nt(arguments.length<=0?void 0:arguments[0]),_):p},_.highValue=function(){return arguments.length?(d=Nt(arguments.length<=0?void 0:arguments[0]),_):d},_.crossValue=function(){return arguments.length?(b=Nt(arguments.length<=0?void 0:arguments[0]),_):b},_.medianValue=function(){return arguments.length?(w=Nt(arguments.length<=0?void 0:arguments[0]),_):w},_.bandwidth=function(){return arguments.length?(y=Nt(arguments.length<=0?void 0:arguments[0]),_):y},_.align=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],_):g},_},N7=function(){var u=kf(),c=pt("g","box-plot"),d=Gt().value(0),p=function(g){return function(y){return Dt(g)?y.transition(g):y}},b=function(g){return"translate("+g.origin[0]+", "+g.origin[1]+")"},w=function(g){Dt(g)&&c.transition(g);var y=p(g);g.each(function(_,S,k){var E=_.filter(u.defined()),z=c(l.select(k[S]),E);z.enter().attr("stroke",dt.black).attr("fill",dt.gray).attr("transform",function(H,F){return b(u.values(H,F))+" scale(1e-6, 1)"}).append("path"),d.orient(u.orient()),z.each(function(H,F,q){var ee=u.values(H,F);d.median(ee.median).upperQuartile(ee.upperQuartile).lowerQuartile(ee.lowerQuartile).width(ee.width).high(ee.high).low(ee.low),y(l.select(q[F])).attr("transform",b(ee)).select("path").attr("d",d([H]))}),u.decorate()(z,_,S)})};return C(w,u),T(w,c,"key"),T(w,d,"cap"),w},E7=function(){var u=kf(),c=Gt().value(0),d=function(b){var w=b.filter(u.defined()),h=c.context();c.orient(u.orient()),w.forEach(function(g,y){h.save();var _=u.values(g,y);h.translate(_.origin[0],_.origin[1]),h.beginPath(),h.fillStyle=dt.gray,h.strokeStyle=dt.black,u.decorate()(h,g,y),c.median(_.median).upperQuartile(_.upperQuartile).lowerQuartile(_.lowerQuartile).high(_.high).width(_.width).low(_.low)([g]),h.fill(),h.stroke(),h.closePath(),h.restore()})};return C(d,u),T(d,c,"cap","context"),d},P7=function(){var u=kf(),c=lt(),d=lt(),p=lt(),b=lt(),w=lt(),h=lt(),g=lt().type(bt.UNSIGNED_SHORT),y=lt().type(bt.UNSIGNED_SHORT),_=lt().type(bt.UNSIGNED_BYTE),S=b0().crossValueAttribute(c).highValueAttribute(d).upperQuartileValueAttribute(p).medianValueAttribute(b).lowerQuartileValueAttribute(w).lowValueAttribute(h).bandwidthAttribute(g).capAttribute(y).definedAttribute(_),k=function(re,fe){return!1},E=da,z=[],H=null,F=null,q=Nt(20),ee=function(re){if(u.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(u.orient()));var fe=E(u.xScale()),ke=E(u.yScale()),je=!k(z,re);je&&(z=re,g.value(function(Ze,Xe){return u.bandwidth()(Ze,Xe)}).data(re),y.value(function(Ze,Xe){return q(Ze,Xe)}).data(re),_.value(function(Ze,Xe){return u.defined()(Ze,Xe)}).data(re)),(je||fe.scale!==H)&&(H=fe.scale,c.value(function(Ze,Xe){return fe.scale(u.crossValue()(Ze,Xe))}).data(re)),(je||ke.scale!==F)&&(F=ke.scale,d.value(function(Ze,Xe){return ke.scale(u.highValue()(Ze,Xe))}).data(re),p.value(function(Ze,Xe){return ke.scale(u.upperQuartileValue()(Ze,Xe))}).data(re),b.value(function(Ze,Xe){return ke.scale(u.medianValue()(Ze,Xe))}).data(re),w.value(function(Ze,Xe){return ke.scale(u.lowerQuartileValue()(Ze,Xe))}).data(re),h.value(function(Ze,Xe){return ke.scale(u.lowValue()(Ze,Xe))}).data(re)),S.xScale(fe.webglScale).yScale(ke.webglScale).decorate(function(Ze){return u.decorate()(Ze,re,0)}),S(re.length)};return ee.cap=function(){return arguments.length?(q=Nt(arguments.length<=0?void 0:arguments[0]),ee):q},ee.equals=function(){return arguments.length?(k=arguments.length<=0?void 0:arguments[0],ee):k},ee.scaleMapper=function(){return arguments.length?(E=arguments.length<=0?void 0:arguments[0],ee):E},C(ee,u,R("align")),T(ee,S,"context","lineWidth","pixelRatio"),ee},L7=function(){return k0(qt(),"ohlc")},O7=function(){return V0(qt())},I7=function(){return D0(p0())},Vf=function(){var u=[],c=function(w){return w},d=function(w,h){return h},p=Yr({decorate:function(){},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return p.xValues=function(){return u.map(function(b){return b.xValues()}).reduce(function(b,w){return b.concat(w)})},p.yValues=function(){return u.map(function(b){return b.yValues()}).reduce(function(b,w){return b.concat(w)})},p.mapping=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.key=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p.series=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p},Df=function(){var u=Vf(),c=pt("g"),d=pt("g","multi"),p=function(w){Dt(w)&&(d.transition(w),c.transition(w));var h=u.mapping(),g=u.series(),y=u.xScale(),_=u.yScale();w.each(function(S,k,E){var z=d(l.select(E[k]),g);z.each(function(H,F,q){H.xScale(y).yScale(_);var ee=h(S,F,g),ae=c(l.select(q[F]),[ee]);ae.call(H)}),z.selection().order(),u.decorate()(z,S,k)})};return C(p,u),T(p,d,"key"),p},Nf=function(){var u=null,c=Vf(),d=function(b){var w=c.mapping(),h=c.series(),g=c.xScale(),y=c.yScale();h.forEach(function(_,S){var k=w(b,S,h);_.context(u).xScale(g).yScale(y);var E;_.decorate?(E=_.decorate(),_.decorate(function(z,H,F){c.decorate()(z,b,S),E(z,H,F)})):c.decorate()(u,b,S),_(k),E&&_.decorate(E)})};return d.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],d):u},C(d,c),d},N0=function(){var u=null,c=1,d=Vf(),p=function(w){var h=d.mapping(),g=d.series(),y=d.xScale(),_=d.yScale();g.forEach(function(S,k){var E=h(w,k,g);S.context(u).pixelRatio(c).xScale(y).yScale(_);var z;S.decorate?(z=S.decorate(),S.decorate(function(H,F,q){d.decorate()(H,w,k),z(H,F,q)})):d.decorate()(u,w,k),S(E),z&&S.decorate(z)})};return p.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p.pixelRatio=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},C(p,d),p},E0=function(u){var c=function(){return 50},d="center",p=n.scaleBand(),b=Yr({decorate:function(){},xScale:n.scaleLinear(),yScale:n.scaleLinear()});return b.offsetScaleForDatum=function(w,h,g){var y=c(h,g),_=Qa(d,y),S=y/2;return p.domain(t.range(0,w.length)).range([-S+_,S+_])},b.bandwidth=function(){return arguments.length?(c=Nt(arguments.length<=0?void 0:arguments[0]),b):c},b.align=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},C(b,p,V({paddingInner:"paddingOuter"})),b},z7=function(u){var c=E0(),d=pt("g","grouped"),p=function(w){Dt(w)&&d.transition(w),w.each(function(h,g,y){var _=d(l.select(y[g]),h);_.enter().append("g"),_.select("g").each(function(S,k,E){var z=l.select(E[k]),H=u.orient()!=="horizontal",F=function(ee,ae){var re=c.offsetScaleForDatum(h,ee,ae),fe=H?c.xScale():c.yScale();return fe(ee)+re(k)+re.bandwidth()/2};H?(u.xScale(F),u.yScale(c.yScale())):(u.yScale(F),u.xScale(c.xScale())),u.bandwidth&&u.bandwidth(function(q,ee){return c.offsetScaleForDatum(h,q,ee).bandwidth()}),u.decorate(function(q,ee){return c.decorate()(q,ee,k)}),z.call(u)})})};return C(p,u,R("decorate","xScale","yScale")),C(p,c,R("offsetScaleForDatum")),p};function R7(u){var c=E0(),d=function(b){b.forEach(function(w,h){var g=u.orient()!=="horizontal",y=function(S,k){var E=c.offsetScaleForDatum(b,S,k),z=g?c.xScale():c.yScale();return z(S)+E(h)+E.bandwidth()/2};g?(u.xScale(y),u.yScale(c.yScale())):(u.yScale(y),u.xScale(c.xScale())),u.bandwidth&&u.bandwidth(function(_,S){return c.offsetScaleForDatum(b,_,S).bandwidth()}),u.decorate(function(_,S){return c.decorate()(_,S,h)}),u(w)})};return C(d,u,R("decorate","xScale","yScale")),C(d,c,R("offsetScaleForDatum")),d}var F7=function(){var u="vertical",c=At(),d=Df(),p=function(w){return w.each(function(h,g,y){u==="vertical"?d.series(h[0].map(function(_){return c})).mapping(function(_,S){return _.map(function(k){return k[S]})}):d.series(h.map(function(_){return c})).mapping(function(_,S){return _[S]}),l.select(y[g]).call(d)})};return p.series=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},C(p,d,R("series","mapping")),p},B7=function(){var u="vertical",c=on(),d=Nf(),p=function(w){u==="vertical"?d.series(w[0].map(function(h){return c})).mapping(function(h,g){return h.map(function(y){return y[g]})}):d.series(w.map(function(h){return c})).mapping(function(h,g){return h[g]}),d(w)};return p.series=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},C(p,d,R("series","mapping")),p},H7=function(){var u="vertical",c=function(){return C0()},d=N0(),p=[],b=function(h){if(u==="vertical"){var g=p;p=h[0].map(function(_,S){return S<g.length?g[S]:c()}),d.series(p).mapping(function(_,S){return _.map(function(k){return k[S]})})}else{var y=p;p=h.map(function(_,S){return S<y.length?y[S]:c()}),d.series(p).mapping(function(_,S){return _[S]})}d(h)};return b.series=function(){for(var w=arguments.length,h=new Array(w),g=0;g<w;g++)h[g]=arguments[g];return h.length?(typeof h[0].xScale=="function"&&typeof h[0].yScale=="function"?c=function(){return h[0]}:c=h[0],p=[],b):c},b.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p=[],b):u},C(b,d,R("series","mapping")),b},Y7=function(c){return c.sort(t.ascending).filter(function(d,p,b){return b.indexOf(d,p+1)===-1})},W7=function(u){var c=.75,d=function(h){if(h.length<=1)return 10;h=Y7(h);var g=t.pairs(h).map(function(_){return Math.abs(_[0]-_[1])}),y=t.min(g);return c*y},p=function(h,g,y){if(h.bandwidth)return h.bandwidth();var _,S=Array.isArray(g)?(_=[]).concat.apply(_,Be(g)):g,k=S.filter(u.defined()).map(y()).map(h),E=d(k);return E},b=function(h){var g=function(_){if(u.xBandwidth&&u.yBandwidth)u.xBandwidth(p(u.xScale(),_,u.xValue)),u.yBandwidth(p(u.yScale(),_,u.yValue));else{var S=u.orient&&u.orient()==="horizontal"?u.yScale():u.xScale();u.bandwidth(p(S,_,u.crossValue))}};h instanceof l.selection?h.each(function(y,_,S){g(y),u(l.select(S[_]))}):(g(h),u(h))};return C(b,u),b.widthFraction=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},b},P0=function(){var u=function(y){return y.x},c=function(y){return y.y},d=function(y){return y.color},p=function(){return 5},b=function(){return 5},w=f.interpolateViridis,h=Yr({decorate:function(){},defined:function(y,_){return ja(u,c,d)(y,_)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return h.pathGenerator=Ht().x(0).y(0),h.colorScale=function(g){var y=g.map(d);return n.scaleLinear().domain([t.min(y),t.max(y)])},h.values=function(g,y){return{x:h.xScale()(u(g,y)),y:h.yScale()(c(g,y)),colorValue:d(g,y),width:b(g,y),height:p(g,y)}},h.xValues=function(){return[u]},h.yValues=function(){return[c]},h.xValue=function(){return arguments.length?(u=Nt(arguments.length<=0?void 0:arguments[0]),h):u},h.yValue=function(){return arguments.length?(c=Nt(arguments.length<=0?void 0:arguments[0]),h):c},h.colorValue=function(){return arguments.length?(d=Nt(arguments.length<=0?void 0:arguments[0]),h):d},h.colorInterpolate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],h):w},h.xBandwidth=function(){return arguments.length?(b=Nt(arguments.length<=0?void 0:arguments[0]),h):b},h.yBandwidth=function(){return arguments.length?(p=Nt(arguments.length<=0?void 0:arguments[0]),h):p},C(h,h.pathGenerator,V({horizontalAlign:"xAlign",verticalAlign:"yAlign"})),h},$7=function(){var u=P0(),c=pt("g","box"),d=function(w){return"translate("+w.x+", "+w.y+")"},p=function(w){w.each(function(h,g,y){var _=h.filter(u.defined()),S=u.colorValue(),k=u.colorInterpolate(),E=u.colorScale(_),z=c(l.select(y[g]),_);z.enter().append("path").attr("stroke","transparent"),z.attr("transform",function(H,F){return d(u.values(H,F))}).select("path").attr("d",function(H,F){return u.pathGenerator.width(u.values(H,F).width).height(u.values(H,F).height)([H])}).attr("fill",function(H,F){return k(E(S(H,F)))}),u.decorate()(z,h,g)})};return C(p,u),p},U7=function(){var u=P0(),c=function(p){var b=p.filter(u.defined()),w=u.colorInterpolate(),h=u.colorScale(b),g=u.pathGenerator.context();b.forEach(function(y,_){g.save(),g.beginPath();var S=u.values(y,_);g.translate(S.x,S.y),g.fillStyle=w(h(S.colorValue)),g.strokeStyle="transparent",u.decorate()(g,y,_),u.pathGenerator.height(S.height).width(S.width)([y]),g.fill(),g.stroke(),g.closePath(),g.restore()})};return T(c,u.pathGenerator,"context"),C(c,u),c},ma=function(u){return typeof u=="function"?u:function(){return u}},q7=function(){var u=n.scaleIdentity(),c=n.scaleIdentity(),d="horizontal",p=function(S){return S.from},b=function(S){return S.to},w=function(){},h=pt("g","annotation-band"),g=Ht().horizontalAlign("center").verticalAlign("center").x(0).y(0),y=function(S){if(Dt(S)&&h.transition(S),d!=="horizontal"&&d!=="vertical")throw new Error("Invalid orientation");var k=d==="horizontal",E=k?function(fe,ke){return"translate(".concat(fe,", ").concat(ke,")")}:function(fe,ke){return"translate(".concat(ke,", ").concat(fe,")")},z=k?u:c,H=k?c:u,F=z.range(),q=F[1]-F[0],ee=k?"height":"width",ae=k?"width":"height",re=function(){return E((F[1]+F[0])/2,(H(b.apply(void 0,arguments))+H(p.apply(void 0,arguments)))/2)};g[ae](q),g[ee](function(){return H(b.apply(void 0,arguments))-H(p.apply(void 0,arguments))}),S.each(function(fe,ke,je){var Ze=h(l.select(je[ke]),fe);Ze.enter().attr("transform",re).append("path").classed("band",!0),Ze.attr("class","annotation-band ".concat(d)).attr("transform",re).select("path").attr("d",function(Xe,mt){return g([Xe],mt)}),w(Ze,fe,ke)})};return y.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],y):u},y.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},y.orient=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},y.decorate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],y):w},y.fromValue=function(){return arguments.length?(p=ma(arguments.length<=0?void 0:arguments[0]),y):p},y.toValue=function(){return arguments.length?(b=ma(arguments.length<=0?void 0:arguments[0]),y):b},y},G7=function(){var u=n.scaleIdentity(),c=n.scaleIdentity(),d="horizontal",p=function(_){return _.from},b=function(_){return _.to},w=function(){},h=Ht().horizontalAlign("right").verticalAlign("top"),g=function(_){if(d!=="horizontal"&&d!=="vertical")throw new Error("Invalid orientation");var S=h.context(),k=d==="horizontal",E=k?u:c,z=k?c:u,H=E.range(),F=H[1]-H[0],q=k?"x":"y",ee=k?"y":"x",ae=k?"height":"width",re=k?"width":"height";_.forEach(function(fe,ke){S.save(),S.beginPath(),S.strokeStyle="transparent",h[ee](z(p(fe))),h[q](H[0]),h[re](F),h[ae](z(b(fe))-z(p(fe))),w(S,fe,ke),h.context(S)([fe],ke),S.fill(),S.stroke(),S.closePath(),S.restore()})};return g.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.orient=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],g):d},g.decorate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],g):w},g.fromValue=function(){return arguments.length?(p=ma(arguments.length<=0?void 0:arguments[0]),g):p},g.toValue=function(){return arguments.length?(b=ma(arguments.length<=0?void 0:arguments[0]),g):b},T(g,h,"context"),g},Ef=function(){var u=n.scaleIdentity(),c=n.scaleIdentity(),d=function(_){return _},p=d,b=function(){},w="horizontal",h=pt("g","annotation-line"),g=function(_){if(Dt(_)&&h.transition(_),w!=="horizontal"&&w!=="vertical")throw new Error("Invalid orientation");var S=w==="horizontal",k=S?function(Xe,mt){return"translate(".concat(Xe,", ").concat(mt,")")}:function(Xe,mt){return"translate(".concat(mt,", ").concat(Xe,")")},E=S?"x2":"y2",z=S?u:c,H=S?c:u,F=S?"left-handle":"bottom-handle",q=S?"right-handle":"top-handle",ee=S?"9":"0",ae=S?"0":"9",re=S?"0.32em":"0.71em",fe=S?"start":"middle",ke=z.range(),je=function(){return k(ke[0],H(d.apply(void 0,arguments)))},Ze=ke[1]-ke[0];_.each(function(Xe,mt,un){var Hn=h(l.select(un[mt]),Xe),br=Hn.enter().attr("transform",je).style("stroke","#bbb");br.append("line").attr(E,Ze),br.append("g").classed(F,!0).style("stroke","none"),br.append("g").classed(q,!0).style("stroke","none").attr("transform",k(Ze,0)).append("text").attr("text-anchor",fe).attr("x",ee).attr("y",ae).attr("dy",re),Hn.attr("class","annotation-line ".concat(w)),Hn.attr("transform",je),Hn.select("line").attr(E,Ze),Hn.select("g."+q).attr("transform",k(Ze,0)),Hn.select("text").text(p),b(Hn,Xe,mt)})};return g.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.value=function(){return arguments.length?(d=ma(arguments.length<=0?void 0:arguments[0]),g):d},g.label=function(){return arguments.length?(p=ma(arguments.length<=0?void 0:arguments[0]),g):p},g.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],g):b},g.orient=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],g):w},g};function X7(){var u=function(F){return F.x},c=function(F){return F.y},d=n.scaleIdentity(),p=n.scaleIdentity(),b=function(){},w=pt("g","annotation-crosshair"),h=T0(),g=Ef(),y=Ef().orient("vertical"),_=n.scaleIdentity(),S=n.scaleIdentity(),k=Df().series([g,y,h]).xScale(_).yScale(S).mapping(function(H){return[H]}),E=function(F){Dt(F)&&w.transition(F),F.each(function(q,ee,ae){var re=w(l.select(ae[ee]),q);re.enter().style("pointer-events","none"),_.range(d.range()),S.range(p.range()),h.crossValue(u).mainValue(c),g.value(c),y.value(u),re.call(k),b(re,q,ee)})};E.x=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],E):u},E.y=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],E):c},E.xScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],E):d},E.yScale=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],E):p},E.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],E):b};var z=B("label");return C(E,g,z,O("y")),C(E,y,z,O("x")),E}var Pf=function(){var u=n.scaleIdentity(),c=n.scaleIdentity(),d=function(_){return _},p=d,b=function(){},w="horizontal",h=s.line(),g=function(_){if(w!=="horizontal"&&w!=="vertical")throw new Error("Invalid orientation");var S=w==="horizontal",k=h.context(),E=S?u:c,z=S?c:u,H=E.domain(),F=S?9:0,q=S?0:9,ee=S?"left":"center",ae=S?"middle":"hanging";_.forEach(function(re,fe){k.save(),k.beginPath(),k.strokeStyle="#bbb",k.fillStyle="#000",k.textAlign=ee,k.textBaseline=ae,b(k,re,fe),h.context(k)(H.map(function(Ze){var Xe=[E(Ze),z(d(re))];return S?Xe:Xe.reverse()}));var ke=S?E(H[1]):z(d(re)),je=S?z(d(re)):E(H[1]);k.fillText(p(re),ke+F,je+q),k.fill(),k.stroke(),k.closePath(),k.restore()})};return g.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.value=function(){return arguments.length?(d=ma(arguments.length<=0?void 0:arguments[0]),g):d},g.label=function(){return arguments.length?(p=ma(arguments.length<=0?void 0:arguments[0]),g):p},g.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],g):b},g.orient=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],g):w},T(g,h,"context"),g},j7=function(){var u=function(z){return z.x},c=function(z){return z.y},d=n.scaleIdentity(),p=n.scaleIdentity(),b=A0(),w=Pf(),h=Pf().orient("vertical"),g=n.scaleIdentity(),y=n.scaleIdentity(),_=Nf().series([w,h,b]).xScale(g).yScale(y).mapping(function(E){return[E]}),S=function(z){z.forEach(function(H){g.range(d.range()),y.range(p.range()),b.crossValue(u).mainValue(c),w.value(c),h.value(u),_(H)})};S.x=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],S):u},S.y=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],S):c},S.xScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],S):d},S.yScale=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],S):p};var k=B("label","decorate");return C(S,w,k,O("y")),C(S,h,k,O("x")),T(S,b,"decorate"),T(S,_,"context"),S},El=function(){var u=n.scaleIdentity(),c=[10],d=null,p=function(){var w;return d??(u.ticks?(w=u).ticks.apply(w,Be(c)):u.domain())};return p.scale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p.ticks=function(){for(var b=arguments.length,w=new Array(b),h=0;h<b;h++)w[h]=arguments[h];return c=w,p},p.tickArguments=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.tickValues=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p},L0=function(c){return c},Q7=function(){var u=function(){},c=function(){},d=El(),p=El(),b=pt("line","gridline-y").key(L0),w=pt("line","gridline-x").key(L0),h=function(y){Dt(y)&&(b.transition(y),w.transition(y)),y.each(function(_,S,k){var E=k[S],z=l.select(k[S]),H=d.scale(),F=p.scale(),q=E.__x_scale__||H;E.__x_scale__=H.copy();var ee=d(),ae=b(z,ee);ae.enter().attr("x1",q).attr("x2",q).attr("y1",F.range()[0]).attr("y2",F.range()[1]).attr("stroke","#bbb"),ae.attr("x1",H).attr("x2",H).attr("y1",F.range()[0]).attr("y2",F.range()[1]),ae.exit().attr("x1",H).attr("x2",H),u(ae,ee,S);var re=E.__y_scale__||F;E.__y_scale__=F.copy();var fe=p(),ke=w(z,fe);ke.enter().attr("y1",re).attr("y2",re).attr("x1",H.range()[0]).attr("x2",H.range()[1]).attr("stroke","#bbb"),ke.attr("y1",F).attr("y2",F).attr("x1",H.range()[0]).attr("x2",H.range()[1]),ke.exit().attr("y1",F).attr("y2",F),c(ke,fe,S)})};return h.yDecorate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.xDecorate=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],h):u},C(h,b,V({key:"xKey"})),C(h,w,V({key:"yKey"})),C(h,d,O("x")),C(h,p,O("y")),h},Z7=function(){var u=function(){},c=function(){},d=El(),p=El(),b=s.line(),w=function(){var g=b.context(),y=d.scale(),_=p.scale();d().forEach(function(S,k){g.save(),g.beginPath(),g.strokeStyle="#bbb",g.fillStyle="transparent",u(g,S,k),b.context(g)(_.domain().map(function(E){return[y(S),_(E)]})),g.fill(),g.stroke(),g.closePath(),g.restore()}),p().forEach(function(S,k){g.save(),g.beginPath(),g.strokeStyle="#bbb",g.fillStyle="transparent",c(g,S,k),b.context(g)(y.domain().map(function(E){return[y(E),_(S)]})),g.fill(),g.stroke(),g.closePath(),g.restore()})};return w.yDecorate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.xDecorate=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],w):u},C(w,d,O("x")),C(w,p,O("y")),T(w,b,"context"),w},K7=function(c){return c},O0=function(c,d,p,b){return c[d]?c[d].apply(c,p):b},I0=function(c){var d;return(d=c.tickValues())!==null&&d!==void 0?d:O0(c.scale(),"ticks",c.tickArguments(),c.scale().domain())},z0=function(c){var d;return(d=c.tickFormat())!==null&&d!==void 0?d:O0(c.scale(),"tickFormat",c.tickArguments(),K7)},J7=function(c){return c},R0=function(c,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=[10],w=null,h=function(){},g=null,y=6,_=6,S=3,k=s.line(),E=pt("g","tick").key(J7),z=pt("path","domain"),H=function(){return{offset:[0,_+S]}},F=function(){return{path:[[0,0],[0,_]]}},q=p.labelOffset||H,ee=p.tickPath||F,ae=function(Xe,mt){var un=0;return Xe.bandwidth&&(un=Xe.bandwidth()/2,Xe.round()&&(un=Math.round(un))),function(Hn){return mt(Xe(Hn)+un,0)}},re=function(Xe,mt){return ke()?"translate(".concat(mt,", ").concat(Xe,")"):"translate(".concat(Xe,", ").concat(mt,")")},fe=function(Xe){return ke()?Xe.map(function(mt){return[mt[1],mt[0]]}):Xe},ke=function(){return c==="left"||c==="right"},je=function Ze(Xe){Dt(Xe)&&(E.transition(Xe),z.transition(Xe)),Xe.each(function(mt,un,Hn){var br=Hn[un],tu=l.select(br);br.__scale__||tu.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",c==="right"?"start":c==="left"?"end":"middle");var Hf=br.__scale__||d;br.__scale__=d.copy();var Ka=I0(Ze),gt=z0(Ze),Ki=c==="bottom"||c==="right"?1:-1,vn=function(St){var It=We(St,2),cn=It[0],Wn=It[1];return[cn,Ki*Wn]},xr=d.range(),ha=fe([[xr[0],Ki*y],[xr[0],0],[xr[1],0],[xr[1],Ki*y]]),Xt=z(tu,[mt]);Xt.enter().attr("stroke","#000"),Xt.attr("d",k(ha));var wr=E(tu,Ka),nu=Ka.map(function(at,St){return q(at,St,Ka)}),ln=Ka.map(function(at,St){return ee(at,St,Ka)});wr.enter().attr("transform",ae(Hf,re)).append("path").attr("stroke","#000"),wr.enter().append("text").attr("transform",function(at,St){return re.apply(void 0,Be(vn(nu[St].offset)))}).attr("fill","#000"),wr.exit().attr("transform",ae(d,re)),wr.select("path").attr("visibility",function(at,St){return ln[St].hidden&&"hidden"}).attr("d",function(at,St){return k(fe(ln[St].path.map(vn)))}),wr.select("text").attr("visibility",function(at,St){return nu[St].hidden&&"hidden"}).attr("transform",function(at,St){return re.apply(void 0,Be(vn(nu[St].offset)))}).attr("dy",function(){var at="0em";return ke()?at="0.32em":c==="bottom"&&(at="0.71em"),at}).text(gt),wr.attr("transform",ae(d,re)),h(wr,mt,un)})};return je.tickFormat=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],je):g},je.tickSize=function(){return arguments.length?(_=y=Number(arguments.length<=0?void 0:arguments[0]),je):_},je.tickSizeInner=function(){return arguments.length?(_=Number(arguments.length<=0?void 0:arguments[0]),je):_},je.tickSizeOuter=function(){return arguments.length?(y=Number(arguments.length<=0?void 0:arguments[0]),je):y},je.tickPadding=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],je):S},je.decorate=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],je):h},je.scale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],je):d},je.ticks=function(){for(var Ze=arguments.length,Xe=new Array(Ze),mt=0;mt<Ze;mt++)Xe[mt]=arguments[mt];return b=[].concat(Xe),je},je.tickArguments=function(){return arguments.length?(b=(arguments.length<=0?void 0:arguments[0])==null?[]:Be(arguments.length<=0?void 0:arguments[0]),je):b!==null?b.slice():null},je.tickValues=function(){return arguments.length?(w=(arguments.length<=0?void 0:arguments[0])==null?[]:Be(arguments.length<=0?void 0:arguments[0]),je):w!==null?w.slice():null},je.orient=function(){return c},je},Pl=function(c,d){var p=!1,b=function(y,_,S){var k=0,E=w.tickSizeInner()+w.tickPadding(),z=!1;if(p){var H=d(y),F=_<S.length-1?d(S[_+1]):d.range()[1];k=(F-H)/2,E=w.tickPadding(),z=_===S.length-1&&H===F}return{offset:[k,E],hidden:z}},w=R0(c,d,{labelOffset:b}),h=function(y){return w(y)};return h.tickCenterLabel=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],h):p},C(h,w),h},F0=function(c){return Pl("top",c)},B0=function(c){return Pl("bottom",c)},H0=function(c){return Pl("left",c)},Y0=function(c){return Pl("right",c)},Ll=function(c,d){var p=null,b=function(S,k,E){if(d.step)return d.step();var z=d(S);return k<E.length-1?d(E[k+1])/z:(d.range()[1]-z)*2},w=function(S,k,E){var z=0;return p?z=p(S,k):z=b(S,k,E)/2,{path:[[z,0],[z,g.tickSizeInner()]],hidden:k===E.length-1}},h=function(){return{offset:[0,g.tickPadding()]}},g=R0(c,d,{labelOffset:h,tickPath:w}),y=function(S){g(S)};return y.tickOffset=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],y):p},C(y,g),y},e9=function(c){return Ll("top",c)},t9=function(c){return Ll("bottom",c)},n9=function(c){return Ll("left",c)},r9=function(c){return Ll("right",c)},W0=function(u){var c=function(p){var b=I0(u),w=z0(u),h=b.map(w),g=p.append("text"),y=h.map(function(k){return g.text(k).node().getBBox()}),_=Math.max.apply(Math,Be(y.map(function(k){return k.height}))),S=Math.max.apply(Math,Be(y.map(function(k){return k.width})));return g.remove(),{maxHeight:_,maxWidth:S,labelCount:h.length}};return c},a9=function(u){var c="auto",d=function(){},p=function(){return u.orient()==="left"||u.orient()==="right"},b=function(){return u.orient()==="top"||u.orient()==="left"?-1:1},w=function(){switch(u.orient()){case"top":case"right":return"start";default:return"end"}},h=function(S){var k=W0(u)(S),E=k.maxHeight,z=k.maxWidth,H=k.labelCount,F=H*z,q;if(c==="auto"){var ee=u.scale().range()[1];q=ee<F?90*Math.min(1,(F/ee-.8)/2):0}else q=c;return{rotate:p()?Math.floor(b()*(90-q)):Math.floor(-q),maxHeight:E,maxWidth:z,anchor:q?w():"middle"}},g=function(S){var k=h(S),E=k.rotate,z=k.maxHeight,H=k.anchor,F=S.select("text"),q=F.attr("transform"),ee=b()*Math.floor(z/2),ae=p()?"translate(".concat(ee,", 0)"):"translate(0, ".concat(ee,")");F.style("text-anchor",H).attr("transform","".concat(q," ").concat(ae," rotate(").concat(E," 0 0)"))},y=function(S){u(S)};return u.decorate(function(_){g(_),d(_)}),y.decorate=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},y.labelRotate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},C(y,u,R("decorate")),y},i9=function(u){var c="auto",d=function(){},p=function(){return u.orient()==="left"||u.orient()==="right"},b=function(){return u.orient()==="top"||u.orient()==="left"?-1:1},w=function(y){var _=W0(u)(y),S=_.maxHeight,k=_.maxWidth,E=_.labelCount,z=u.scale().range()[1],H=c==="auto"?Math.floor((p()?S:k)*E/z)+1:c,F=y.select("text"),q=F.attr("transform"),ee=function(re){return p()?"translate(".concat(re%H*k*b(),", 0)"):"translate(0, ".concat(re%H*S*b(),")")};F.attr("transform",function(ae,re){return"".concat(q," ").concat(ee(re))})},h=function(y){return u(y)};return u.decorate(function(g){w(g),d(g)}),h.decorate=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},h.labelOffsetDepth=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},C(h,u,R("decorate")),h},Lf="__d3fc-elements__",Ko=function(c){return c[Lf]||{}},$0=function(c,d){return void(c[Lf]=d)},o9=function(c){return delete c[Lf]},u9=function(c){return c.tagName==="D3FC-GROUP"?[c].concat(Be(c.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg"))):[c]},l9=function(c){var d=Ko(c),p=d.width,b=d.height,w=c.useDevicePixelRatio&&window.devicePixelRatio!=null?window.devicePixelRatio:1,h=c.clientWidth*w,g=c.clientHeight*w,y=h!==p||g!==b,_=c.children[0];$0(c,{pixelRatio:w,width:h,height:g,resized:y,child:_})};if(typeof CustomEvent!="function")throw new Error("d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.");var c9=function(c){var d=Ko(c),p=new CustomEvent("measure",{detail:d});c.dispatchEvent(p)},s9=function(c){var d=Ko(c),p=new CustomEvent("draw",{detail:d});c.dispatchEvent(p)},f9=function(u){var c=u.map(u9).reduce(function(d,p){return d.concat(p)});c.forEach(l9),c.forEach(c9),c.forEach(s9)},U0=function(c){return Ko(c.ownerDocument).queue||[]},d9=function(c,d){var p=Ko(c.ownerDocument),b=p.requestId;b==null&&(b=requestAnimationFrame(function(){var w=U0(c);f9(w),m9(c)})),$0(c.ownerDocument,{queue:d,requestId:b})},m9=function(c){return o9(c.ownerDocument)},q0=function(c,d){var p=c;do if(p.parentNode===d)return!0;while(p=p.parentNode);return!1},Of=function(u){var c=U0(u),d=c.indexOf(u)>-1;if(!d){var p=c.some(function(w){return q0(u,w)});if(!p){var b=c.filter(function(w){return!q0(w,u)});b.push(u),d9(u,b)}}};if(typeof HTMLElement!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var h9=function(c){c.__measureListener__==null&&(c.__measureListener__=function(d){return c.setMeasurements(d.detail)},c.addEventListener("measure",c.__measureListener__))},p9=function(c){c.__measureListener__!=null&&(c.removeEventListener("measure",c.__measureListener__),c.__measureListener__=null)},G0=function(u,c){return function(d){Qe(b,d);var p=Ye(b);function b(){return oe(this,b),p.apply(this,arguments)}return De(b,[{key:"attributeChangedCallback",value:function(h){switch(h){case"use-device-pixel-ratio":this.requestRedraw();break}}},{key:"connectedCallback",value:function(){this.childNodes.length===0&&this.appendChild(u()),h9(this)}},{key:"disconnectedCallback",value:function(){p9(this)}},{key:"setMeasurements",value:function(h){var g=h.width,y=h.height,_=ot(this.childNodes),S=_[0],k=_.slice(1);if(k.length>0)throw new Error("A d3fc-svg/canvas element must only contain a single svg/canvas element.");c(this,S,{width:g,height:y})}},{key:"useDevicePixelRatio",get:function(){return this.hasAttribute("use-device-pixel-ratio")&&this.getAttribute("use-device-pixel-ratio")!=="false"},set:function(h){h&&!this.useDevicePixelRatio?this.setAttribute("use-device-pixel-ratio",""):!h&&this.useDevicePixelRatio&&this.removeAttribute("use-device-pixel-ratio"),this.requestRedraw()}},{key:"requestRedraw",value:function(){Of(this)}}],[{key:"observedAttributes",get:function(){return["use-device-pixel-ratio"]}}]),b}(Bt(HTMLElement))},g9=function(u){Qe(d,u);var c=Ye(d);function d(){return oe(this,d),c.apply(this,arguments)}return De(d,[{key:"setWebglViewport",get:function(){return this.hasAttribute("set-webgl-viewport")&&this.getAttribute("set-webgl-viewport")!=="false"},set:function(b){b&&!this.setWebglViewport?this.setAttribute("set-webgl-viewport",""):!b&&this.setWebglViewport&&this.removeAttribute("set-webgl-viewport"),this.requestRedraw()}}]),d}(G0(function(){return document.createElement("canvas")},function(u,c,d){var p=d.width,b=d.height;if(c.setAttribute("width",p),c.setAttribute("height",b),u.setWebglViewport){var w=c.getContext("webgl");w.viewport(0,0,p,b)}})),If=function(c){c.autoResize?v9(c):X0(c)},v9=function(c){c.__autoResizeListener__==null&&(c.__autoResizeListener__=function(){return Of(c)},addEventListener("resize",c.__autoResizeListener__))},X0=function(c){c.__autoResizeListener__!=null&&(removeEventListener("resize",c.__autoResizeListener__),c.__autoResizeListener__=null)},y9=function(u){Qe(d,u);var c=Ye(d);function d(){return oe(this,d),c.apply(this,arguments)}return De(d,[{key:"connectedCallback",value:function(){If(this)}},{key:"disconnectedCallback",value:function(){X0(this)}},{key:"requestRedraw",value:function(){Of(this)}},{key:"autoResize",get:function(){return this.hasAttribute("auto-resize")&&this.getAttribute("auto-resize")!=="false"},set:function(b){b&&!this.autoResize?this.setAttribute("auto-resize",""):!b&&this.autoResize&&this.removeAttribute("auto-resize"),If(this)}},{key:"attributeChangedCallback",value:function(b){switch(b){case"auto-resize":If(this);break}}}],[{key:"observedAttributes",get:function(){return["auto-resize"]}}]),d}(Bt(HTMLElement)),b9=G0(function(){return document.createElementNS("http://www.w3.org/2000/svg","svg")},function(u,c,d){var p=d.width,b=d.height;c.setAttribute("viewBox","0 0 ".concat(p," ").concat(b))}),j0="d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}",Jo=document.createElement("style");if(Jo.setAttribute("type","text/css"),document.querySelector("head").appendChild(Jo),Jo.styleSheet?Jo.styleSheet.cssText+=j0:Jo.textContent+=j0,(typeof customElements>"u"?"undefined":nt(customElements))!=="object"||typeof customElements.define!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var zf=[],Rf=function(c,d){customElements.get(c)?zf.push(c):customElements.define(c,d)};Rf("d3fc-canvas",g9),Rf("d3fc-group",y9),Rf("d3fc-svg",b9),zf.length>0&&console.warn('The d3fc components "'.concat(zf.join(", "),'" is/are already registered on window. Be aware that this can create compatibility issues if different versions are used.'));var x9=function(){var u=m.dispatch("point");function c(b){var w=l.pointer(b);u.call("point",this,[{x:w[0],y:w[1]}])}function d(){u.call("point",this,[])}var p=function(w){w.on("mouseenter.pointer",c).on("mousemove.pointer",c).on("mouseleave.pointer",d)};return T(p,u,"on"),p},w9=function(){var u="",c="vertical",d=function(g,y){return Number(g[y])},p=function(g){return Object.keys(g[0]).filter(function(y){return y!==u}).map(function(y){var _=g.filter(function(S){return S[y]}).map(function(S){var k=[S[u],d(S,y)];return k.data=S,k});return _.key=y,_})},b=function(g){return g.map(function(y){var _=Object.keys(y).filter(function(S){return S!==u}).map(function(S){var k=[S,d(y,S)];return k.data=y,k});return _.key=y[u],_})},w=function(g){return c==="vertical"?p(g):b(g)};return w.key=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],w):u},w.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},w.orient=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w},Q0=function(){for(var u={},c=function(_){for(var S=0,k=Object.keys(u);S<k.length;S++){var E=k[S];_[E].apply(null,u[E])}return _},d=arguments.length,p=new Array(d),b=0;b<d;b++)p[b]=arguments[b];for(var w=function(){var _=g[h];c[_]=function(){for(var S=arguments.length,k=new Array(S),E=0;E<S;E++)k[E]=arguments[E];return k.length?(u[_]=k,c):u[_]}},h=0,g=p;h<g.length;h++)w();return c},Z0=`d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}
d3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:1;-ms-grid-row:1;}
d3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}
d3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}
d3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}
d3fc-group.cartesian-chart>.y-label{display:flex;transform:rotate(-90deg);width:1em;white-space:nowrap;justify-content:center;}`,eu=document.createElement("style");eu.setAttribute("type","text/css"),document.querySelector("head").appendChild(eu),eu.styleSheet?eu.styleSheet.cssText+=Z0:eu.textContent+=Z0;var Ln=function(c){return typeof c=="function"?c:function(){return c}},K0=function(){var u=_9.apply(void 0,arguments),c=u.xScale,d=u.yScale,p=u.xAxis,b=u.yAxis,w=Ln(""),h=Ln(""),g=Ln(""),y=Ln(null),_=Ln(null),S=Ln("right"),k=Ln("bottom"),E=null,z=null,H=null,F=!1,q=!0,ee=Q0("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),ae=function(){},re=Q0("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),fe=function(){},ke=function(){},je=pt("d3fc-group","cartesian-chart"),Ze=pt("d3fc-canvas","webgl-plot-area"),Xe=pt("d3fc-canvas","canvas-plot-area"),mt=pt("d3fc-svg","svg-plot-area"),un=pt("d3fc-svg","x-axis").key(function(vn){return vn}),Hn=pt("d3fc-svg","y-axis").key(function(vn){return vn}),br=pt("div","chart-label"),tu=pt("div","x-label").key(function(vn){return vn}),Hf=pt("div","y-label").key(function(vn){return vn}),Ka=function(xr){return function(ha){return Dt(xr)?ha.transition(xr):ha}},gt=function(xr){var ha=Ka(xr);xr.each(function(Xt,wr,nu){var ln=je(l.select(nu[wr]),[Xt]);ln.enter().attr("auto-resize",""),br(ln,[k(Xt)]).attr("class",function(at){return at==="top"?"chart-label bottom-label":"chart-label top-label"}).style("margin-bottom",function(at){return at==="top"?0:"1em"}).style("margin-top",function(at){return at==="top"?"1em":0}).text(w(Xt)),tu(ln,[k(Xt)]).attr("class",function(at){return"x-label ".concat(at,"-label")}).text(h(Xt)),Hf(ln,[S(Xt)]).attr("class",function(at){return"y-label ".concat(at,"-label")}).text(g(Xt)),Ze(ln,E?[Xt]:[]).attr("set-webgl-viewport","").classed("plot-area",!0).attr("use-device-pixel-ratio",q).on("draw",function(at,St){var It=at.detail,cn=It.child,Wn=It.pixelRatio;E.context(F?null:cn.getContext("webgl")).pixelRatio(Wn).xScale(c).yScale(d),E(St)}),ln.select(".webgl-plot-area>canvas").on("webglcontextlost",function(at){console.warn("WebGLRenderingContext lost"),at.preventDefault(),F=!0,ln.node().requestRedraw()}).on("webglcontextrestored",function(){console.info("WebGLRenderingContext restored"),F=!1,ln.node().requestRedraw()}),Xe(ln,z?[Xt]:[]).classed("plot-area",!0).attr("use-device-pixel-ratio",q).on("draw",function(at,St){var It=at.detail,cn=It.child,Wn=It.pixelRatio,pa=cn.getContext("2d");pa.save(),q&&pa.scale(Wn,Wn),z.context(pa).xScale(c).yScale(d),z(St),pa.restore()}),mt(ln,H?[Xt]:[]).classed("plot-area",!0).on("draw",function(at,St){var It=at.detail.child;H.xScale(c).yScale(d),ha(l.select(It).datum(St)).call(H)}),un(ln,[k(Xt)]).attr("class",function(at){return"x-axis ".concat(at,"-axis")}).style("height",y(Xt)).on("measure",function(at,St){var It=at.detail,cn=It.width,Wn=It.height,pa=It.child;St==="top"&&l.select(pa).attr("viewBox","0 ".concat(-Wn," ").concat(cn," ").concat(Wn)),c.range([0,cn])}).on("draw",function(at,St){var It=at.detail.child,cn=St==="top"?p.top(c):p.bottom(c);cn.decorate(ae),ha(l.select(It).datum(St)).call(ee(cn))}),Hn(ln,[S(Xt)]).attr("class",function(at){return"y-axis ".concat(at,"-axis")}).style("width",_(Xt)).on("measure",function(at,St){var It=at.detail,cn=It.width,Wn=It.height,pa=It.child;St==="left"&&l.select(pa).attr("viewBox","".concat(-cn," 0 ").concat(cn," ").concat(Wn)),d.range([Wn,0])}).on("draw",function(at,St){var It=at.detail.child,cn=St==="left"?b.left(d):b.right(d);cn.decorate(fe),ha(l.select(It).datum(St)).call(re(cn))}),ln.each(function(at,St,It){return It[St].requestRedraw()}),ke(ln,Xt,wr)})},Ki=R(/range\w*/,/tickFormat/);return C(gt,c,Ki,O("x")),C(gt,d,Ki,O("y")),C(gt,ee,O("x")),C(gt,re,O("y")),gt.xOrient=function(){return arguments.length?(k=Ln(arguments.length<=0?void 0:arguments[0]),gt):k},gt.yOrient=function(){return arguments.length?(S=Ln(arguments.length<=0?void 0:arguments[0]),gt):S},gt.xDecorate=function(){return arguments.length?(ae=arguments.length<=0?void 0:arguments[0],gt):ae},gt.yDecorate=function(){return arguments.length?(fe=arguments.length<=0?void 0:arguments[0],gt):fe},gt.chartLabel=function(){return arguments.length?(w=Ln(arguments.length<=0?void 0:arguments[0]),gt):w},gt.xLabel=function(){return arguments.length?(h=Ln(arguments.length<=0?void 0:arguments[0]),gt):h},gt.yLabel=function(){return arguments.length?(g=Ln(arguments.length<=0?void 0:arguments[0]),gt):g},gt.xAxisHeight=function(){return arguments.length?(y=Ln(arguments.length<=0?void 0:arguments[0]),gt):y},gt.yAxisWidth=function(){return arguments.length?(_=Ln(arguments.length<=0?void 0:arguments[0]),gt):_},gt.webglPlotArea=function(){return arguments.length?(E=arguments.length<=0?void 0:arguments[0],gt):E},gt.canvasPlotArea=function(){return arguments.length?(z=arguments.length<=0?void 0:arguments[0],gt):z},gt.svgPlotArea=function(){return arguments.length?(H=arguments.length<=0?void 0:arguments[0],gt):H},gt.decorate=function(){return arguments.length?(ke=arguments.length<=0?void 0:arguments[0],gt):ke},gt.useDevicePixelRatio=function(){return arguments.length?(q=arguments.length<=0?void 0:arguments[0],gt):q},gt},_9=function(){for(var c={xScale:n.scaleIdentity(),yScale:n.scaleIdentity(),xAxis:{bottom:B0,top:F0},yAxis:{right:Y0,left:H0}},d=arguments.length,p=new Array(d),b=0;b<d;b++)p[b]=arguments[b];return p.length===1&&!p[0].domain&&!p[0].range?Object.assign(c,p[0]):Object.assign(c,{xScale:p[0]||c.xScale,yScale:p[1]||c.yScale})},J0=function(c){return typeof c=="function"?c:function(){return c}},ev=function(u,c){return function(){var d=J0(""),p=c,b=function(){},w=K0.apply(void 0,arguments),h=function(y){u(w,p),w.decorate(function(_,S,k){_.enter().select(".x-label").style("height","1em").style("line-height","1em");var E=w.yOrient()(S);_.enter().append("div").attr("class","y-label-container").style("grid-column",E==="left"?1:5).style("-ms-grid-column",E==="left"?1:5).style("grid-row",3).style("-ms-grid-row",3).style("width","1em").style("display","flex").style("align-items","center").style("justify-content","center").style("white-space","nowrap").append("div").attr("class","y-label").style("transform","rotate(-90deg)"),_.select(".y-label-container>.y-label").text(d),b(_,S,k)}),y.call(w)};return C(h,w,B(/^x/,/^y/,"chartLabel")),h.yLabel=function(){return arguments.length?(d=J0(arguments.length<=0?void 0:arguments[0]),h):d},h.plotArea=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],h):p},h.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],h):b},h}},S9=ev(function(u,c){return u.svgPlotArea(c)},At),M9=ev(function(u,c){return u.canvasPlotArea(c)},on),C9=function(c){switch(c){case"x":return x.brushX();case"y":return x.brushY();case"xy":return x.brush()}},Ff=function(c){return[c[1],c[0]]},Bf=function(c){var d=C9(c),p=m.dispatch("brush","start","end"),b=n.scaleIdentity(),w=n.scaleIdentity(),h=pt("g","brush"),g=function(F,q,ee){switch(c){case"x":return F.map(q);case"y":return F.map(ee);case"xy":return[[q(F[0][0]),ee(F[0][1])],[q(F[1][0]),ee(F[1][1])]]}},y=function(F){return g(F,n.scaleLinear().domain(b.range()).invert,n.scaleLinear().domain(Ff(w.range())).invert)},_=function(F){return g(F,n.scaleLinear().domain(b.range()),n.scaleLinear().domain(Ff(w.range())))},S=function(F){var q=n.scaleLinear().domain(b.domain());if(c==="x")return F.map(q.invert);if(c==="xy")return[q.invert(F[0][0]),q.invert(F[1][0])]},k=function(F){var q=n.scaleLinear().domain(Ff(w.domain()));if(c==="y")return[F[1],F[0]].map(q.invert);if(c==="xy")return[q.invert(F[1][1]),q.invert(F[0][1])]},E=function(F){if(!(F.sourceEvent&&F.sourceEvent.type==="draw"))if(F.selection){var q=_(F.selection);p.call(F.type,{},{selection:q,xDomain:S(q),yDomain:k(q)})}else p.call(F.type,{},{})},z=function(F){F.each(function(q,ee,ae){d.extent([[b.range()[0],w.range()[1]],[b.range()[1],w.range()[0]]]),d.on("end",function(fe){return E(fe)}).on("brush",function(fe){return E(fe)}).on("start",function(fe){return E(fe)});var re=h(l.select(ae[ee]),[q]);re.call(d).call(d.move,q?y(q):null)})};return z.xScale=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],z):b},z.yScale=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],z):w},T(z,p,"on"),T(z,d,"filter","handleSize"),z},T9=function(){return Bf("x")},A9=function(){return Bf("y")},k9=function(){return Bf("xy")},tv=function(c,d){if(c==null&&d==null)return!0;var p=c.domain(),b=d.domain();return p.length===b.length&&p.every(function(w,h){var g;return w?.valueOf()===((g=b[h])===null||g===void 0?void 0:g.valueOf())})},V9=function(c,d){return v.zoomIdentity.scale(c.k/d.k).translate(c.x-d.x,c.y-d.y)},Ol=Symbol("d3fc-domain-zoom"),D9=function(){var u=m.dispatch("zoom"),c=v.zoom().on("zoom",function(p){var b=p.transform,w=this,h=b,g=w[Ol],y=g.originalXScale,_=g.previousXScale,S=g.xScale,k=g.originalYScale,E=g.previousYScale,z=g.yScale,H=g.previousTransform;(!tv(_,S)||!tv(E,z))&&(y=S?.copy(),k=z?.copy(),h=V9(b,H)),S!=null&&(_=h.rescaleX(y.range(S.range())),S.domain(_.domain())),z!=null&&(E=h.rescaleY(k.range(z.range())),z.domain(E.domain())),H=h,w[Ol]={originalXScale:y,previousXScale:_,xScale:S,originalYScale:k,previousYScale:E,yScale:z,previousTransform:H},h!==b&&c.transform(l.select(w),h),u.call("zoom",this,p)}),d=function(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;w==null&&h==null&&console.warn("Without an xScale and/or yScale specified, this component won't do anything. Perhaps you forgot to specify them e.g. selection.call(zoom, x, y)?"),b.each(function(g,y,_){var S=_[y][Ol];S!=null&&S.xScale===w&&S.yScale===h&&console.warn("This component should only be called on a selection once. Perhaps you're missing an .enter()?");var k=w?.copy(),E=h?.copy();_[y][Ol]={originalXScale:k,previousXScale:k,xScale:w,originalYScale:E,previousYScale:E,yScale:h,previousTransform:v.zoomIdentity}}).call(c)};return T(d,u,"on"),T(d,c,"extent","filter","wheelDelta","touchable","clickDistance","tapDistance","duration","interpolate","scaleExtent","translateExtent"),d};e.annotationCanvasBand=G7,e.annotationCanvasCrosshair=j7,e.annotationCanvasGridline=Z7,e.annotationCanvasLine=Pf,e.annotationSvgBand=q7,e.annotationSvgCrosshair=X7,e.annotationSvgGridline=Q7,e.annotationSvgLine=Ef,e.autoBandwidth=W7,e.axisBottom=B0,e.axisLabelOffset=i9,e.axisLabelRotate=a9,e.axisLeft=H0,e.axisOrdinalBottom=t9,e.axisOrdinalLeft=n9,e.axisOrdinalRight=r9,e.axisOrdinalTop=e9,e.axisRight=Y0,e.axisTop=F0,e.brush=k9,e.brushX=T9,e.brushY=A9,e.bucket=An,e.chartCanvasCartesian=M9,e.chartCartesian=K0,e.chartSvgCartesian=S9,e.dataJoin=pt,e.discontinuityIdentity=pe,e.discontinuityRange=Le,e.discontinuitySkipUtcWeekends=de,e.discontinuitySkipUtcWeeklyPattern=X,e.discontinuitySkipWeekends=G,e.discontinuitySkipWeeklyPattern=wt,e.effectivelyZero=nr,e.exclude=R,e.extentDate=Te,e.extentLinear=me,e.extentTime=Te,e.feedGdax=sa,e.group=w9,e.include=B,e.includeMap=V,e.indicatorBollingerBands=Ie,e.indicatorElderRay=Y,e.indicatorEnvelope=L,e.indicatorExponentialMovingAverage=he,e.indicatorForceIndex=Yn,e.indicatorMacd=U,e.indicatorMovingAverage=Tn,e.indicatorRelativeStrengthIndex=Ut,e.indicatorStochasticOscillator=nn,e.isTransition=Dt,e.largestTriangleOneBucket=Go,e.largestTriangleThreeBucket=Qi,e.layoutAnnealing=bf,e.layoutBoundingBox=_f,e.layoutGreedy=vf,e.layoutLabel=gr,e.layoutRemoveOverlaps=wf,e.layoutTextLabel=Cl,e.modeMedian=ut,e.pointer=x9,e.prefix=O,e.randomFinancial=an,e.randomGeometricBrownianMotion=Ve,e.randomSkipWeekends=ca,e.rebind=T,e.rebindAll=C,e.scaleDiscontinuous=Me,e.seriesCanvasArea=T7,e.seriesCanvasBar=x7,e.seriesCanvasBoxPlot=E7,e.seriesCanvasCandlestick=V7,e.seriesCanvasErrorBar=S7,e.seriesCanvasGrouped=R7,e.seriesCanvasHeatmap=U7,e.seriesCanvasLine=on,e.seriesCanvasMulti=Nf,e.seriesCanvasOhlc=O7,e.seriesCanvasPoint=A0,e.seriesCanvasRepeat=B7,e.seriesSvgArea=C7,e.seriesSvgBar=b7,e.seriesSvgBoxPlot=N7,e.seriesSvgCandlestick=k7,e.seriesSvgErrorBar=_7,e.seriesSvgGrouped=z7,e.seriesSvgHeatmap=$7,e.seriesSvgLine=At,e.seriesSvgMulti=Df,e.seriesSvgOhlc=L7,e.seriesSvgPoint=T0,e.seriesSvgRepeat=F7,e.seriesWebglArea=A7,e.seriesWebglBar=w7,e.seriesWebglBoxPlot=P7,e.seriesWebglCandlestick=D7,e.seriesWebglErrorBar=M7,e.seriesWebglLine=C0,e.seriesWebglMulti=N0,e.seriesWebglOhlc=I7,e.seriesWebglPoint=y7,e.seriesWebglRepeat=H7,e.shapeBar=Ht,e.shapeBoxPlot=Gt,e.shapeCandlestick=kn,e.shapeErrorBar=pn,e.shapeOhlc=qt,e.webglAdjacentAttribute=fa,e.webglAttribute=lt,e.webglBaseAttribute=Dl,e.webglBufferBuilder=yr,e.webglElementIndices=Za,e.webglFillColor=g7,e.webglProgramBuilder=$r,e.webglScaleLinear=Nl,e.webglScaleLog=x0,e.webglScaleMapper=da,e.webglScalePow=w0,e.webglSeriesArea=f0,e.webglSeriesBar=g0,e.webglSeriesBoxPlot=b0,e.webglSeriesCandlestick=y0,e.webglSeriesErrorBar=v0,e.webglSeriesLine=h0,e.webglSeriesOhlc=p0,e.webglSeriesPoint=m0,e.webglShaderBuilder=kt,e.webglStrokeColor=v7,e.webglSymbolMapper=S0,e.webglTypes=bt,e.webglUniform=gn,e.zoom=D9,Object.defineProperty(e,"__esModule",{value:!0})})});var G4=rr(Dg=>{var ji=ji||{};ji.stringify=function(){var e={"visit_linear-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-linear-gradient":function(t){return e.visit_gradient(t)},"visit_radial-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-radial-gradient":function(t){return e.visit_gradient(t)},visit_gradient:function(t){var n=e.visit(t.orientation);return n&&(n+=", "),t.type+"("+n+e.visit(t.colorStops)+")"},visit_shape:function(t){var n=t.value,r=e.visit(t.at),a=e.visit(t.style);return a&&(n+=" "+a),r&&(n+=" at "+r),n},"visit_default-radial":function(t){var n="",r=e.visit(t.at);return r&&(n+=r),n},"visit_extent-keyword":function(t){var n=t.value,r=e.visit(t.at);return r&&(n+=" at "+r),n},"visit_position-keyword":function(t){return t.value},visit_position:function(t){return e.visit(t.value.x)+" "+e.visit(t.value.y)},"visit_%":function(t){return t.value+"%"},visit_em:function(t){return t.value+"em"},visit_px:function(t){return t.value+"px"},visit_literal:function(t){return e.visit_color(t.value,t)},visit_hex:function(t){return e.visit_color("#"+t.value,t)},visit_rgb:function(t){return e.visit_color("rgb("+t.value.join(", ")+")",t)},visit_rgba:function(t){return e.visit_color("rgba("+t.value.join(", ")+")",t)},visit_color:function(t,n){var r=t,a=e.visit(n.length);return a&&(r+=" "+a),r},visit_angular:function(t){return t.value+"deg"},visit_directional:function(t){return"to "+t.value},visit_array:function(t){var n="",r=t.length;return t.forEach(function(a,i){n+=e.visit(a),i<r-1&&(n+=", ")}),n},visit:function(t){if(!t)return"";var n="";if(t instanceof Array)return e.visit_array(t,n);if(t.type){var r=e["visit_"+t.type];if(r)return r(t);throw Error("Missing visitor visit_"+t.type)}else throw Error("Invalid node.")}};return function(t){return e.visit(t)}}();var ji=ji||{};ji.parse=function(){var e={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function n(ie){var ve=new Error(t+": "+ie);throw ve.source=t,ve}function r(){var ie=a();return t.length>0&&n("Invalid input not EOF"),ie}function a(){return B(i)}function i(){return o("linear-gradient",e.linearGradient,s)||o("repeating-linear-gradient",e.repeatingLinearGradient,s)||o("radial-gradient",e.radialGradient,x)||o("repeating-radial-gradient",e.repeatingRadialGradient,x)}function o(ie,ve,oe){return l(ve,function(be){var Ee=oe();return Ee&&(_e(e.comma)||n("Missing comma before color stops")),{type:ie,orientation:Ee,colorStops:B(V)}})}function l(ie,ve){var oe=_e(ie);if(oe){_e(e.startCall)||n("Missing (");var be=ve(oe);return _e(e.endCall)||n("Missing )"),be}}function s(){return f()||m()}function f(){return U("directional",e.sideOrCorner,1)}function m(){return U("angular",e.angleValue,1)}function x(){var ie,ve=v(),oe;return ve&&(ie=[],ie.push(ve),oe=t,_e(e.comma)&&(ve=v(),ve?ie.push(ve):t=oe)),ie}function v(){var ie=M()||T();if(ie)ie.at=C();else{var ve=A();if(ve){ie=ve;var oe=C();oe&&(ie.at=oe)}else{var be=D();be&&(ie={type:"default-radial",at:be})}}return ie}function M(){var ie=U("shape",/^(circle)/i,0);return ie&&(ie.style=he()||A()),ie}function T(){var ie=U("shape",/^(ellipse)/i,0);return ie&&(ie.style=le()||A()),ie}function A(){return U("extent-keyword",e.extentKeywords,1)}function C(){if(U("position",/^at/,0)){var ie=D();return ie||n("Missing positioning value"),ie}}function D(){var ie=R();if(ie.x||ie.y)return{type:"position",value:ie}}function R(){return{x:le(),y:le()}}function B(ie){var ve=ie(),oe=[];if(ve)for(oe.push(ve);_e(e.comma);)ve=ie(),ve?oe.push(ve):n("One extra comma");return oe}function V(){var ie=I();return ie||n("Expected color definition"),ie.length=le(),ie}function I(){return j()||ye()||K()||O()}function O(){return U("literal",e.literalColor,0)}function j(){return U("hex",e.hexColor,1)}function K(){return l(e.rgbColor,function(){return{type:"rgb",value:B(ge)}})}function ye(){return l(e.rgbaColor,function(){return{type:"rgba",value:B(ge)}})}function ge(){return _e(e.number)[1]}function le(){return U("%",e.percentageValue,1)||Ie()||he()}function Ie(){return U("position-keyword",e.positionKeywords,1)}function he(){return U("px",e.pixelValue,1)||U("em",e.emValue,1)}function U(ie,ve,oe){var be=_e(ve);if(be)return{type:ie,value:be[oe]}}function _e(ie){var ve,oe;return oe=/^[\n\r\t\s]+/.exec(t),oe&&ne(oe[0].length),ve=ie.exec(t),ve&&ne(ve[0].length),ve}function ne(ie){t=t.substr(ie)}return function(ie){return t=ie.toString(),r()}}();Dg.parse=ji.parse;Dg.stringify=ji.stringify});Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null});var M5=ht(Mt(),1);var Ra=ht(Mt(),1);var Pt={none:"none",ordinal:"ordinal",time:"time",linear:"linear"},Lo=e=>{let t="crossValues",n=null,r=null,a=()=>{let i=o=>{let l=n?e[t].filter(s=>n==s.name):e[t];return t=="crossValues"&&l.length>1?!1:l.some(s=>o.includes(s.type))};return e[t].length===0?Pt.none:r!=Pt.time&&i(["datetime","date"])?Pt.time:r!=Pt.linear&&i(["integer","float"])||r==Pt.ordinal?Pt.linear:Pt.ordinal};return a.settingName=(...i)=>i.length?(t=i[0],a):t,a.settingValue=(...i)=>i.length?(n=i[0],a):n,a.excludeType=(...i)=>i.length?(r=i[0],a):r,a};var Zp={};On(Zp,{domain:()=>Ck,labelFunction:()=>Qp,scale:()=>Mk});Mr();Mp();Kr();Ao();rs();Sm();yp();Tm();function e8(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fi(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ir(e){return e=Fi(Math.abs(e)),e?e[1]:NaN}function t8(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],s=0;a>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),i.push(n.substring(a-=l,a+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function n8(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var oA=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Na(e){if(!(t=oA.exec(e)))throw new Error("invalid format: "+e);var t;return new Ts({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Na.prototype=Ts.prototype;function Ts(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ts.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function r8(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var kp;function a8(e,t){var n=Fi(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(kp=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Fi(e,Math.max(0,t+i-1))[0]}function Vp(e,t){var n=Fi(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}var Dp={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:e8,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Vp(e*100,t),r:Vp,s:a8,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Np(e){return e}var i8=Array.prototype.map,o8=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function u8(e){var t=e.grouping===void 0||e.thousands===void 0?Np:t8(i8.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Np:n8(i8.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"\u2212":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function f(x){x=Na(x);var v=x.fill,M=x.align,T=x.sign,A=x.symbol,C=x.zero,D=x.width,R=x.comma,B=x.precision,V=x.trim,I=x.type;I==="n"?(R=!0,I="g"):Dp[I]||(B===void 0&&(B=12),V=!0,I="g"),(C||v==="0"&&M==="=")&&(C=!0,v="0",M="=");var O=A==="$"?n:A==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",j=A==="$"?r:/[%p]/.test(I)?o:"",K=Dp[I],ye=/[defgprs%]/.test(I);B=B===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function ge(le){var Ie=O,he=j,U,_e,ne;if(I==="c")he=K(le)+he,le="";else{le=+le;var ie=le<0||1/le<0;if(le=isNaN(le)?s:K(Math.abs(le),B),V&&(le=r8(le)),ie&&+le==0&&T!=="+"&&(ie=!1),Ie=(ie?T==="("?T:l:T==="-"||T==="("?"":T)+Ie,he=(I==="s"?o8[8+kp/3]:"")+he+(ie&&T==="("?")":""),ye){for(U=-1,_e=le.length;++U<_e;)if(ne=le.charCodeAt(U),48>ne||ne>57){he=(ne===46?a+le.slice(U+1):le.slice(U))+he,le=le.slice(0,U);break}}}R&&!C&&(le=t(le,1/0));var ve=Ie.length+le.length+he.length,oe=ve<D?new Array(D-ve+1).join(v):"";switch(R&&C&&(le=t(oe+le,oe.length?D-he.length:1/0),oe=""),M){case"<":le=Ie+le+he+oe;break;case"=":le=Ie+oe+le+he;break;case"^":le=oe.slice(0,ve=oe.length>>1)+Ie+le+he+oe.slice(ve);break;default:le=oe+Ie+le+he;break}return i(le)}return ge.toString=function(){return x+""},ge}function m(x,v){var M=f((x=Na(x),x.type="f",x)),T=Math.max(-8,Math.min(8,Math.floor(Ir(v)/3)))*3,A=Math.pow(10,-T),C=o8[8+T/3];return function(D){return M(A*D)+C}}return{format:f,formatPrefix:m}}var As,Ea,ks;Ep({thousands:",",grouping:[3],currency:["$",""]});function Ep(e){return As=u8(e),Ea=As.format,ks=As.formatPrefix,As}function Pp(e){return Math.max(0,-Ir(Math.abs(e)))}function Lp(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ir(t)/3)))*3-Ir(Math.abs(e)))}function Op(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ir(t)-Ir(e))+1}function uA(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function l8(){return this.eachAfter(uA)}function c8(e,t){let n=-1;for(let r of this)e.call(t,r,++n,this);return this}function s8(e,t){for(var n=this,r=[n],a,i,o=-1;n=r.pop();)if(e.call(t,n,++o,this),a=n.children)for(i=a.length-1;i>=0;--i)r.push(a[i]);return this}function f8(e,t){for(var n=this,r=[n],a=[],i,o,l,s=-1;n=r.pop();)if(a.push(n),i=n.children)for(o=0,l=i.length;o<l;++o)r.push(i[o]);for(;n=a.pop();)e.call(t,n,++s,this);return this}function d8(e,t){let n=-1;for(let r of this)if(e.call(t,r,++n,this))return r}function m8(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,a=r&&r.length;--a>=0;)n+=r[a].value;t.value=n})}function h8(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function p8(e){for(var t=this,n=lA(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var a=r.length;e!==n;)r.splice(a,0,e),e=e.parent;return r}function lA(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),a=null;for(e=n.pop(),t=r.pop();e===t;)a=e,e=n.pop(),t=r.pop();return a}function g8(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function v8(){return Array.from(this)}function y8(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function b8(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*x8(){var e=this,t,n=[e],r,a,i;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(a=0,i=r.length;a<i;++a)n.push(r[a]);while(n.length)}function Pa(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=fA)):t===void 0&&(t=sA);for(var n=new ol(e),r,a=[n],i,o,l,s;r=a.pop();)if((o=t(r.data))&&(s=(o=Array.from(o)).length))for(r.children=o,l=s-1;l>=0;--l)a.push(i=o[l]=new ol(o[l])),i.parent=r,i.depth=r.depth+1;return n.eachBefore(mA)}function cA(){return Pa(this).eachBefore(dA)}function sA(e){return e.children}function fA(e){return Array.isArray(e)?e[1]:null}function dA(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function mA(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function ol(e){this.data=e,this.depth=this.height=0,this.parent=null}ol.prototype=Pa.prototype={constructor:ol,count:l8,each:c8,eachAfter:f8,eachBefore:s8,find:d8,sum:m8,sort:h8,path:p8,ancestors:g8,descendants:v8,leaves:y8,links:b8,copy:cA,[Symbol.iterator]:x8};function w8(e){if(typeof e!="function")throw new Error;return e}function Oo(){return 0}function Io(e){return function(){return e}}function Vs(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Ds(e,t,n,r,a){for(var i=e.children,o,l=-1,s=i.length,f=e.value&&(r-t)/e.value;++l<s;)o=i[l],o.y0=n,o.y1=a,o.x0=t,o.x1=t+=o.value*f}function Ip(){var e=1,t=1,n=0,r=!1;function a(o){var l=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/l,o.eachBefore(i(t,l)),r&&o.eachBefore(Vs),o}function i(o,l){return function(s){s.children&&Ds(s,s.x0,o*(s.depth+1)/l,s.x1,o*(s.depth+2)/l);var f=s.x0,m=s.y0,x=s.x1-n,v=s.y1-n;x<f&&(f=x=(f+x)/2),v<m&&(m=v=(m+v)/2),s.x0=f,s.y0=m,s.x1=x,s.y1=v}}return a.round=function(o){return arguments.length?(r=!!o,a):r},a.size=function(o){return arguments.length?(e=+o[0],t=+o[1],a):[e,t]},a.padding=function(o){return arguments.length?(n=+o,a):n},a}function _8(e,t,n,r,a){for(var i=e.children,o,l=-1,s=i.length,f=e.value&&(a-n)/e.value;++l<s;)o=i[l],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*f}var hA=(1+Math.sqrt(5))/2;function pA(e,t,n,r,a,i){for(var o=[],l=t.children,s,f,m=0,x=0,v=l.length,M,T,A=t.value,C,D,R,B,V,I,O;m<v;){M=a-n,T=i-r;do C=l[x++].value;while(!C&&x<v);for(D=R=C,I=Math.max(T/M,M/T)/(A*e),O=C*C*I,V=Math.max(R/O,O/D);x<v;++x){if(C+=f=l[x].value,f<D&&(D=f),f>R&&(R=f),O=C*C*I,B=Math.max(R/O,O/D),B>V){C-=f;break}V=B}o.push(s={value:C,dice:M<T,children:l.slice(m,x)}),s.dice?Ds(s,n,r,a,A?r+=T*C/A:i):_8(s,n,r,A?n+=M*C/A:a,i),A-=C,m=x}return o}var S8=function e(t){function n(r,a,i,o,l){pA(t,r,a,i,o,l)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(hA);function zp(){var e=S8,t=!1,n=1,r=1,a=[0],i=Oo,o=Oo,l=Oo,s=Oo,f=Oo;function m(v){return v.x0=v.y0=0,v.x1=n,v.y1=r,v.eachBefore(x),a=[0],t&&v.eachBefore(Vs),v}function x(v){var M=a[v.depth],T=v.x0+M,A=v.y0+M,C=v.x1-M,D=v.y1-M;C<T&&(T=C=(T+C)/2),D<A&&(A=D=(A+D)/2),v.x0=T,v.y0=A,v.x1=C,v.y1=D,v.children&&(M=a[v.depth+1]=i(v)/2,T+=f(v)-M,A+=o(v)-M,C-=l(v)-M,D-=s(v)-M,C<T&&(T=C=(T+C)/2),D<A&&(A=D=(A+D)/2),e(v,T,A,C,D))}return m.round=function(v){return arguments.length?(t=!!v,m):t},m.size=function(v){return arguments.length?(n=+v[0],r=+v[1],m):[n,r]},m.tile=function(v){return arguments.length?(e=w8(v),m):e},m.padding=function(v){return arguments.length?m.paddingInner(v).paddingOuter(v):m.paddingInner()},m.paddingInner=function(v){return arguments.length?(i=typeof v=="function"?v:Io(+v),m):i},m.paddingOuter=function(v){return arguments.length?m.paddingTop(v).paddingRight(v).paddingBottom(v).paddingLeft(v):m.paddingTop()},m.paddingTop=function(v){return arguments.length?(o=typeof v=="function"?v:Io(+v),m):o},m.paddingRight=function(v){return arguments.length?(l=typeof v=="function"?v:Io(+v),m):l},m.paddingBottom=function(v){return arguments.length?(s=typeof v=="function"?v:Io(+v),m):s},m.paddingLeft=function(v){return arguments.length?(f=typeof v=="function"?v:Io(+v),m):f},m}function Rp(e,t,n,r,a){var i=e.children,o,l=i.length,s,f=new Array(l+1);for(f[0]=s=o=0;o<l;++o)f[o+1]=s+=i[o].value;m(0,l,e.value,t,n,r,a);function m(x,v,M,T,A,C,D){if(x>=v-1){var R=i[x];R.x0=T,R.y0=A,R.x1=C,R.y1=D;return}for(var B=f[x],V=M/2+B,I=x+1,O=v-1;I<O;){var j=I+O>>>1;f[j]<V?I=j+1:O=j}V-f[I-1]<f[I]-V&&x+1<I&&--I;var K=f[I]-B,ye=M-K;if(C-T>D-A){var ge=M?(T*ye+C*K)/M:C;m(x,I,K,T,A,ge,D),m(I,v,ye,ge,A,C,D)}else{var le=M?(A*ye+D*K)/M:D;m(x,I,K,T,A,C,le),m(I,v,ye,T,le,C,D)}}}Zn();sc();vm();Mr();function La(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function M8(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}Mr();var Fp=Symbol("implicit");function hr(){var e=new ir,t=[],n=[],r=Fp;function a(i){let o=e.get(i);if(o===void 0){if(r!==Fp)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new ir;for(let o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return hr(t,n).unknown(r)},La.apply(a,arguments),a}function ra(){var e=hr().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,s=0,f=0,m=.5;delete e.unknown;function x(){var v=t().length,M=a<r,T=M?a:r,A=M?r:a;i=(A-T)/Math.max(1,v-s+f*2),l&&(i=Math.floor(i)),T+=(A-T-i*(v-s))*m,o=i*(1-s),l&&(T=Math.round(T),o=Math.round(o));var C=oi(v).map(function(D){return T+i*D});return n(M?C.reverse():C)}return e.domain=function(v){return arguments.length?(t(v),x()):t()},e.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,x()):[r,a]},e.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,l=!0,x()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(v){return arguments.length?(l=!!v,x()):l},e.padding=function(v){return arguments.length?(s=Math.min(1,f=+v),x()):s},e.paddingInner=function(v){return arguments.length?(s=Math.min(1,v),x()):s},e.paddingOuter=function(v){return arguments.length?(f=+v,x()):f},e.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),x()):m},e.copy=function(){return ra(t(),[r,a]).round(l).paddingInner(s).paddingOuter(f).align(m)},La.apply(x(),arguments)}Mr();Mr();Zn();function Bp(e){return function(){return e}}function Hp(e){return+e}var C8=[0,1];function aa(e){return e}function Yp(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Bp(isNaN(t)?NaN:.5)}function gA(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function vA(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Yp(a,r),i=n(o,i)):(r=Yp(r,a),i=n(i,o)),function(l){return i(r(l))}}function yA(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Yp(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var s=Ji(e,l,1,r)-1;return i[s](a[s](l))}}function Ns(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bA(){var e=C8,t=C8,n=Kt,r,a,i,o=aa,l,s,f;function m(){var v=Math.min(e.length,t.length);return o!==aa&&(o=gA(e[0],e[v-1])),l=v>2?yA:vA,s=f=null,x}function x(v){return v==null||isNaN(v=+v)?i:(s||(s=l(e.map(r),t,n)))(r(o(v)))}return x.invert=function(v){return o(a((f||(f=l(t,e.map(r),mn)))(v)))},x.domain=function(v){return arguments.length?(e=Array.from(v,Hp),m()):e.slice()},x.range=function(v){return arguments.length?(t=Array.from(v),m()):t.slice()},x.rangeRound=function(v){return t=Array.from(v),n=qu,m()},x.clamp=function(v){return arguments.length?(o=v?!0:aa,m()):o!==aa},x.interpolate=function(v){return arguments.length?(n=v,m()):n},x.unknown=function(v){return arguments.length?(i=v,x):i},function(v,M){return r=v,a=M,m()}}function ul(){return bA()(aa,aa)}Mr();function Wp(e,t,n,r){var a=ni(e,t,n),i;switch(r=Na(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=Lp(a,o))&&(r.precision=i),ks(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Op(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Pp(a))&&(r.precision=i-(r.type==="%")*2);break}}return Ea(r)}function $p(e){var t=e.domain;return e.ticks=function(n){var r=t();return ti(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return Wp(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],s,f,m=10;for(l<o&&(f=o,o=l,l=f,f=a,a=i,i=f);m-- >0;){if(f=or(o,l,n),f===s)return r[a]=o,r[i]=l,t(r);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;s=f}return e},e}function ia(){var e=ul();return e.copy=function(){return Ns(e,ia())},La.apply(e,arguments),$p(e)}function Up(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}Su();Su();function qp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ll(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Xp(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,s=e.shortMonths,f=cl(a),m=sl(a),x=cl(i),v=sl(i),M=cl(o),T=sl(o),A=cl(l),C=sl(l),D=cl(s),R=sl(s),B={a:ie,A:ve,b:oe,B:be,c:null,d:N8,e:N8,f:YA,g:KA,G:ek,H:FA,I:BA,j:HA,L:I8,m:WA,M:$A,p:Ee,q:De,Q:L8,s:O8,S:UA,u:qA,U:GA,V:XA,w:jA,W:QA,x:null,X:null,y:ZA,Y:JA,Z:tk,"%":P8},V={a:Se,A:Ye,b:Oe,B:Qe,c:null,d:E8,e:E8,f:ik,g:pk,G:vk,H:nk,I:rk,j:ak,L:R8,m:ok,M:uk,p:Ue,q:Q,Q:L8,s:O8,S:lk,u:ck,U:sk,V:fk,w:dk,W:mk,x:null,X:null,y:hk,Y:gk,Z:yk,"%":P8},I={a:ge,A:le,b:Ie,B:he,c:U,d:V8,e:V8,f:OA,g:k8,G:A8,H:D8,I:D8,j:NA,L:LA,m:DA,M:EA,p:ye,q:VA,Q:zA,s:RA,S:PA,u:MA,U:CA,V:TA,w:SA,W:AA,x:_e,X:ne,y:k8,Y:A8,Z:kA,"%":IA};B.x=O(n,B),B.X=O(r,B),B.c=O(t,B),V.x=O(n,V),V.X=O(r,V),V.c=O(t,V);function O(Z,ce){return function(te){var $=[],se=-1,Ne=0,We=Z.length,ot,Be,it;for(te instanceof Date||(te=new Date(+te));++se<We;)Z.charCodeAt(se)===37&&($.push(Z.slice(Ne,se)),(Be=T8[ot=Z.charAt(++se)])!=null?ot=Z.charAt(++se):Be=ot==="e"?" ":"0",(it=ce[ot])&&(ot=it(te,Be)),$.push(ot),Ne=se+1);return $.push(Z.slice(Ne,se)),$.join("")}}function j(Z,ce){return function(te){var $=ll(1900,void 0,1),se=K($,Z,te+="",0),Ne,We;if(se!=te.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(ce&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(Ne=Gp(ll($.y,0,1)),We=Ne.getUTCDay(),Ne=We>4||We===0?hi.ceil(Ne):hi(Ne),Ne=oo.offset(Ne,($.V-1)*7),$.y=Ne.getUTCFullYear(),$.m=Ne.getUTCMonth(),$.d=Ne.getUTCDate()+($.w+6)%7):(Ne=qp(ll($.y,0,1)),We=Ne.getDay(),Ne=We>4||We===0?di.ceil(Ne):di(Ne),Ne=Ar.offset(Ne,($.V-1)*7),$.y=Ne.getFullYear(),$.m=Ne.getMonth(),$.d=Ne.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),We="Z"in $?Gp(ll($.y,0,1)).getUTCDay():qp(ll($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(We+5)%7:$.w+$.U*7-(We+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,Gp($)):qp($)}}function K(Z,ce,te,$){for(var se=0,Ne=ce.length,We=te.length,ot,Be;se<Ne;){if($>=We)return-1;if(ot=ce.charCodeAt(se++),ot===37){if(ot=ce.charAt(se++),Be=I[ot in T8?ce.charAt(se++):ot],!Be||($=Be(Z,te,$))<0)return-1}else if(ot!=te.charCodeAt($++))return-1}return $}function ye(Z,ce,te){var $=f.exec(ce.slice(te));return $?(Z.p=m.get($[0].toLowerCase()),te+$[0].length):-1}function ge(Z,ce,te){var $=M.exec(ce.slice(te));return $?(Z.w=T.get($[0].toLowerCase()),te+$[0].length):-1}function le(Z,ce,te){var $=x.exec(ce.slice(te));return $?(Z.w=v.get($[0].toLowerCase()),te+$[0].length):-1}function Ie(Z,ce,te){var $=D.exec(ce.slice(te));return $?(Z.m=R.get($[0].toLowerCase()),te+$[0].length):-1}function he(Z,ce,te){var $=A.exec(ce.slice(te));return $?(Z.m=C.get($[0].toLowerCase()),te+$[0].length):-1}function U(Z,ce,te){return K(Z,t,ce,te)}function _e(Z,ce,te){return K(Z,n,ce,te)}function ne(Z,ce,te){return K(Z,r,ce,te)}function ie(Z){return o[Z.getDay()]}function ve(Z){return i[Z.getDay()]}function oe(Z){return s[Z.getMonth()]}function be(Z){return l[Z.getMonth()]}function Ee(Z){return a[+(Z.getHours()>=12)]}function De(Z){return 1+~~(Z.getMonth()/3)}function Se(Z){return o[Z.getUTCDay()]}function Ye(Z){return i[Z.getUTCDay()]}function Oe(Z){return s[Z.getUTCMonth()]}function Qe(Z){return l[Z.getUTCMonth()]}function Ue(Z){return a[+(Z.getUTCHours()>=12)]}function Q(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ce=O(Z+="",B);return ce.toString=function(){return Z},ce},parse:function(Z){var ce=j(Z+="",!1);return ce.toString=function(){return Z},ce},utcFormat:function(Z){var ce=O(Z+="",V);return ce.toString=function(){return Z},ce},utcParse:function(Z){var ce=j(Z+="",!0);return ce.toString=function(){return Z},ce}}}var T8={"-":"",_:" ",0:"0"},Jt=/^\s*\d+/,xA=/^%/,wA=/[\\^$*+?|[\]().{}]/g;function Tt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function _A(e){return e.replace(wA,"\\$&")}function cl(e){return new RegExp("^(?:"+e.map(_A).join("|")+")","i")}function sl(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function SA(e,t,n){var r=Jt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function MA(e,t,n){var r=Jt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function CA(e,t,n){var r=Jt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function TA(e,t,n){var r=Jt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function AA(e,t,n){var r=Jt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function A8(e,t,n){var r=Jt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function k8(e,t,n){var r=Jt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kA(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function VA(e,t,n){var r=Jt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function DA(e,t,n){var r=Jt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function V8(e,t,n){var r=Jt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function NA(e,t,n){var r=Jt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function D8(e,t,n){var r=Jt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function EA(e,t,n){var r=Jt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function PA(e,t,n){var r=Jt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function LA(e,t,n){var r=Jt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function OA(e,t,n){var r=Jt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function IA(e,t,n){var r=xA.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function zA(e,t,n){var r=Jt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function RA(e,t,n){var r=Jt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function N8(e,t){return Tt(e.getDate(),t,2)}function FA(e,t){return Tt(e.getHours(),t,2)}function BA(e,t){return Tt(e.getHours()%12||12,t,2)}function HA(e,t){return Tt(1+Ar.count(zn(e),e),t,3)}function I8(e,t){return Tt(e.getMilliseconds(),t,3)}function YA(e,t){return I8(e,t)+"000"}function WA(e,t){return Tt(e.getMonth()+1,t,2)}function $A(e,t){return Tt(e.getMinutes(),t,2)}function UA(e,t){return Tt(e.getSeconds(),t,2)}function qA(e){var t=e.getDay();return t===0?7:t}function GA(e,t){return Tt(kr.count(zn(e)-1,e),t,2)}function z8(e){var t=e.getDay();return t>=4||t===0?Xr(e):Xr.ceil(e)}function XA(e,t){return e=z8(e),Tt(Xr.count(zn(e),e)+(zn(e).getDay()===4),t,2)}function jA(e){return e.getDay()}function QA(e,t){return Tt(di.count(zn(e)-1,e),t,2)}function ZA(e,t){return Tt(e.getFullYear()%100,t,2)}function KA(e,t){return e=z8(e),Tt(e.getFullYear()%100,t,2)}function JA(e,t){return Tt(e.getFullYear()%1e4,t,4)}function ek(e,t){var n=e.getDay();return e=n>=4||n===0?Xr(e):Xr.ceil(e),Tt(e.getFullYear()%1e4,t,4)}function tk(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tt(t/60|0,"0",2)+Tt(t%60,"0",2)}function E8(e,t){return Tt(e.getUTCDate(),t,2)}function nk(e,t){return Tt(e.getUTCHours(),t,2)}function rk(e,t){return Tt(e.getUTCHours()%12||12,t,2)}function ak(e,t){return Tt(1+oo.count(Un(e),e),t,3)}function R8(e,t){return Tt(e.getUTCMilliseconds(),t,3)}function ik(e,t){return R8(e,t)+"000"}function ok(e,t){return Tt(e.getUTCMonth()+1,t,2)}function uk(e,t){return Tt(e.getUTCMinutes(),t,2)}function lk(e,t){return Tt(e.getUTCSeconds(),t,2)}function ck(e){var t=e.getUTCDay();return t===0?7:t}function sk(e,t){return Tt(xa.count(Un(e)-1,e),t,2)}function F8(e){var t=e.getUTCDay();return t>=4||t===0?jr(e):jr.ceil(e)}function fk(e,t){return e=F8(e),Tt(jr.count(Un(e),e)+(Un(e).getUTCDay()===4),t,2)}function dk(e){return e.getUTCDay()}function mk(e,t){return Tt(hi.count(Un(e)-1,e),t,2)}function hk(e,t){return Tt(e.getUTCFullYear()%100,t,2)}function pk(e,t){return e=F8(e),Tt(e.getUTCFullYear()%100,t,2)}function gk(e,t){return Tt(e.getUTCFullYear()%1e4,t,4)}function vk(e,t){var n=e.getUTCDay();return e=n>=4||n===0?jr(e):jr.ceil(e),Tt(e.getUTCFullYear()%1e4,t,4)}function yk(){return"+0000"}function P8(){return"%"}function L8(e){return+e}function O8(e){return Math.floor(+e/1e3)}var zo,Es,B8,H8,Y8;jp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jp(e){return zo=Xp(e),Es=zo.format,B8=zo.parse,H8=zo.utcFormat,Y8=zo.utcParse,zo}function bk(e){return new Date(e)}function xk(e){return e instanceof Date?+e:+new Date(+e)}function W8(e,t,n,r,a,i,o,l,s,f){var m=ul(),x=m.invert,v=m.domain,M=f(".%L"),T=f(":%S"),A=f("%I:%M"),C=f("%I %p"),D=f("%a %d"),R=f("%b %d"),B=f("%B"),V=f("%Y");function I(O){return(s(O)<O?M:l(O)<O?T:o(O)<O?A:i(O)<O?C:r(O)<O?a(O)<O?D:R:n(O)<O?B:V)(O)}return m.invert=function(O){return new Date(x(O))},m.domain=function(O){return arguments.length?v(Array.from(O,xk)):v().map(bk)},m.ticks=function(O){var j=v();return e(j[0],j[j.length-1],O??10)},m.tickFormat=function(O,j){return j==null?I:f(j)},m.nice=function(O){var j=v();return(!O||typeof O.range!="function")&&(O=t(j[0],j[j.length-1],O??10)),O?v(Up(j,O)):m},m.copy=function(){return Ns(m,W8(e,t,n,r,a,i,o,l,s,f))},m}function Ps(){return La.apply(W8(ec,tc,zn,pi,kr,Ar,si,li,ur,Es).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}Zn();function wk(){var e=0,t=1,n,r,a,i,o=aa,l=!1,s;function f(x){return x==null||isNaN(x=+x)?s:o(a===0?.5:(x=(i(x)-n)*a,l?Math.max(0,Math.min(1,x)):x))}f.domain=function(x){return arguments.length?([e,t]=x,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(x){return arguments.length?(l=!!x,f):l},f.interpolator=function(x){return arguments.length?(o=x,f):o};function m(x){return function(v){var M,T;return arguments.length?([M,T]=v,o=x(M,T),f):[o(0),o(1)]}}return f.range=m(Kt),f.rangeRound=m(qu),f.unknown=function(x){return arguments.length?(s=x,f):s},function(x){return i=x,n=x(e),r=x(t),a=n===r?0:1/(r-n),f}}function _k(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function fl(){var e=$p(wk()(aa));return e.copy=function(){return _k(e,fl())},M8.apply(e,arguments)}sp();yn();vh();Su();cs();vs();Ap();var $8=e=>{let t=n=>(r,a)=>r===void 0?a:a===void 0?r:n(r,a);return e.reduce((n,r)=>[t(Math.min)(n[0],r[0]),t(Math.max)(n[1],r[1])],[void 0,void 0])},Oa=e=>Array.isArray(e)?e.flat(1/0):[e];var U8=ht(Mt(),1),Sk=1,Ls=e=>{let t=n=>e(n);return(0,U8.rebindAll)(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(...n),t):Math.max(e.bandwidth(),Sk),t};var q8=ht(Mt(),1),G8=e=>{let t=n=>e(n);return(0,q8.rebindAll)(t,e),t.ticks=function(){return[]},t};var Mk=()=>G8(Ls(ra())),Ck=()=>{let e=["crossValue"],t="horizontal",n=a=>{let i=Oa(a);return r([...new Set(i.map(o=>o[e[0]]))])},r=a=>t=="vertical"?a.reverse():a;return n.valueName=(...a)=>a.length?(e=[a[0]],n):e[0],n.valueNames=(...a)=>a.length?(e=a[0],n):e,n.orient=(...a)=>a.length?(t=a[0],n):t,n},Qp=e=>t=>t[e].join("|");var zs={};On(zs,{component:()=>kk,domain:()=>Jp,labelFunction:()=>eg,scale:()=>Ak,tickFormatFunction:()=>tg});var zr=ht(Mt(),1);Mr();var Os=()=>{let e=[0,0],t="percent",n=r=>{switch(t){case"domain":{r[0]-=e[0],r[1]+=e[1];break}case"percent":{let a=r[1]-r[0];r[0]-=e[0]*a,r[1]+=e[1]*a;break}default:throw new Error("Unknown padUnit: "+t)}return r};return n.pad=function(...r){return r.length?(e=r[0],n):e},n.padUnit=function(...r){return r.length?(t=r[0],n):t},n};var X8=function(){let e=[function(i){return i}],t=null,n=[],r=Os(),a=function(o){let l=new Array(o.length),s=!0,f=!1,m,x=e[Symbol.iterator]();try{for(let M;!(s=(M=x.next()).done);s=!0){let T=M.value;for(let A=0;A<o.length;A++){let C=T(o[A],A);Array.isArray(C)?l.push.apply(l,Kp(C)):l.push(C)}}}catch(M){f=!0,m=M}finally{try{!s&&x.return&&x.return()}finally{if(f)throw m}}let v=[$n(l),Sr(l)];if(v[0]=v[0]==null?$n(n):$n([v[0]].concat(Kp(n))),v[1]=v[1]==null?Sr(n):Sr([v[1]].concat(Kp(n))),t!=null){let M=Math.max(Math.abs(v[1]-t),Math.abs(v[0]-t));v[0]=t-M,v[1]=t+M}return r(v)};return a.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.pad=function(...i){return i.length?(r.pad(i[0]),a):r.pad},a.padUnit=function(...i){return i.length?(r.padUnit(i[0]),a):r.padUnit},a.include=function(...i){return i.length?(n=i[0],a):n},a.symmetricalAbout=function(...i){return i.length?(t=i[0],a):t},a.paddingStrategy=function(...i){return i.length?(r=i[0],a):r},a},Kp=function(e){if(Array.isArray(e)){let t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n];return t}else return Array.from(e)};var Tk=1e7,Is=(e,t)=>{let n=Math.ceil(Math.abs(Math.log10(t-e)))+1;return r=>Math.abs(r)>=Tk?Ea(".3s")(r):Number.isInteger(r)?Ea(",.0f")(r):Ea(`,.${n}f`)(r)};function Ro(e){return e.getRootNode().host}function Ia(e){return e.closest("#container.chart")}var Ak=()=>ia(),Jp=()=>{let e=X8().pad([0,.1]).padUnit("percent"),t=["crossValue"],n=i=>(e.accessors(t.map(o=>l=>parseFloat(l[o]))),a(Oa(i)));zr.rebindAll(n,e);let r=i=>{let o=t.map(l=>i.map(s=>s[l]).sort((s,f)=>s-f).filter((s,f,m)=>f===0||s!==m[f-1]).reduce((s,f,m,x)=>m===0||s<=f-x[m-1]?s:Math.abs(f-x[m-1])));return Math.min(...o)},a=i=>{if(e.padUnit()=="domain"){let o=r(i);return e.pad([o/2,o/2])(i)}else return e(i)};return n.valueName=(...i)=>i.length?(t=[i[0]],n):t[0],n.valueNames=(...i)=>i.length?(t=i[0],n):t,n},eg=e=>t=>t[e][0],tg=Is,kk=e=>{let t=null,n="horizontal",r=null,a=(f,m)=>{try{return Ia(f.node()).querySelector(".cartesian-chart").querySelector(`.${m}-axis`)}catch{return null}},i=f=>{let m=Re(f).select("text").node();m.style.fontSize="80%"},o=(f,m)=>{let x=f.getBoundingClientRect();m.each((v,M,T)=>{let A=Re(T[M]).node().getBoundingClientRect();(n=="vertical"&&x.width<A.width||n=="horizontal"&&x.height<A.height)&&i(T[M])})},l=(f,m,x)=>{let v=a(f,m);v&&o(v,f)},s=()=>({bottom:zr.axisBottom,left:zr.axisLeft,top:zr.axisTop,right:zr.axisRight,decorate:l});return s.domain=(...f)=>f.length?(t=f[0],s):t,s.orient=(...f)=>f.length?(n=f[0],s):n,s.settingName=(...f)=>f.length?(r=f[0],s):r,s};var rg={};On(rg,{domain:()=>Dk,labelFunction:()=>ng,scale:()=>Vk});var Fo=ht(Mt(),1);var Vk=()=>Ps(),Dk=()=>{let e=Fo.extentTime(),t=["crossValue"],n=i=>(e.accessors(t.map(o=>l=>new Date(l[o]))),a(Oa(i)));Fo.rebindAll(n,e,Fo.exclude("include","paddingStrategy"));let r=i=>{let o=t.map(l=>i.map(s=>new Date(s[l]).getTime()).sort((s,f)=>s-f).filter((s,f,m)=>f===0||s!==m[f-1]).reduce((s,f,m,x)=>m===0||Math.abs(s)<=Math.abs(f-x[m-1])?Math.abs(s):Math.abs(f-x[m-1])));return Math.min(...o)},a=i=>{let o=Math.abs(r(i));return e.padUnit("domain").pad([o/2,o/2])(i)};return n.valueName=(...i)=>i.length?(t=[i[0]],n):t[0],n.valueNames=(...i)=>i.length?(t=i[0],n):t,n},ng=e=>t=>new Date(t[e][0]);var ig={};On(ig,{component:()=>Pk,domain:()=>Ek,labelFunction:()=>ag,scale:()=>Nk});var za=ht(Mt(),1);var Sn=ht(Mt(),1);var j8=(...e)=>{let t={},n=r=>{for(let a of Object.keys(t))r[a](t[a]);return r};for(let r of e)n[r]=(...a)=>a.length?(t[r]=a[0],n):t[r];return n};var Rs=(e,t,n)=>{let r=6,a=6,i=j8("tickFormat","ticks","tickArguments","tickValues","tickPadding"),o=(...A)=>{},l=null,s=(0,Sn.dataJoin)("g","group"),f=(0,Sn.dataJoin)("path","domain"),m=(A,C)=>v()?`translate(${C}, ${A})`:`translate(${A}, ${C})`,x=A=>v()?A.map(C=>[C[1],C[0]]):A,v=()=>e==="left"||e==="right",M=A=>{if(!l){i(t(n).decorate(o))(A);return}A.each((C,D,R)=>{let B=R[D],V=Re(B),I=e==="bottom"||e==="right"?1:-1,O=n.range(),j=x([[O[0],I*r],[O[0],0],[O[1],0],[O[1],I*r]]);f(V,[C]).attr("d",Ta()(j)).attr("stroke","#000").attr("fill","none");let ye=s(V,l),ge=Ie=>Array.isArray(a)?a[Ie]:a,le=Ie=>{let he=0;for(let U=0;U<Ie;U++)he+=ge(U);return he};ye.attr("transform",(Ie,he)=>m(0,I*le(he))).each((Ie,he,U)=>{let _e=Re(U[he]),ne=T(n,Ie);i(t(ne)).decorate((ve,oe)=>o(ve,oe,he)).tickSizeInner(ge(he)).tickOffset(ve=>ne.step(ve)/2)(_e),_e.select("path.domain").attr("visibility","hidden")}),ye.exit().attr("transform",(Ie,he)=>m(0,I*le(he)))})},T=(A,C)=>{function D(R){let B=R.domain;return B.reduce((V,I)=>V+A(I),0)/B.length}return D.ticks=()=>C,D.tickFormat=()=>R=>R.text,D.copy=()=>T(A,C),D.step=R=>R.domain.length*A.step(),(0,Sn.rebindAll)(D,A,(0,Sn.exclude)("ticks","step","copy")),D};return M.tickSize=(...A)=>A.length?(a=r=Number(A[0]),M):a,M.tickSizeInner=(...A)=>A.length?(a=Array.isArray(A[0])?A[0]:Number(A[0]),M):a,M.tickSizeOuter=(...A)=>A.length?(r=Number(A[0]),M):r,M.decorate=(...A)=>A.length?(o=A[0],M):o,M.groups=(...A)=>A.length?(l=A[0],M):l,(0,Sn.rebindAll)(M,i),M},Q8=e=>Rs("top",Sn.axisOrdinalTop,e),Z8=e=>Rs("bottom",Sn.axisOrdinalBottom,e),K8=e=>Rs("left",Sn.axisOrdinalLeft,e),J8=e=>Rs("right",Sn.axisOrdinalRight,e);var Nk=()=>Ls(ra()).padding(.5),Ek=()=>{let e=["crossValue"],t="horizontal",n=a=>{let i=Oa(a);return r([...Array.from(new Set(i.map(o=>o[e[0]])))])},r=a=>t=="vertical"?a.reverse():a;return n.valueName=(...a)=>a.length?(e=[a[0]],n):e[0],n.valueNames=(...a)=>a.length?(e=a[0],n):e,n.orient=(...a)=>a.length?(t=a[0],n):t,n},ag=e=>t=>t[e].join("|"),Pk=e=>{let t="horizontal",n="crossValues",r=null,a=()=>{let v=e[n].length>1,M=o(r),T=M.map(l),A=v?T.map(V=>V.size):T[0].size,C=T.reduce((V,I)=>V+I.size,0),D=V=>I=>{let O=V(I);return v&&O.groups(M).tickSizeInner(A).tickSizeOuter(C),t!=="horizontal"&&O.tickPadding(10),O},R=(V,I,O)=>{let j=T[O].rotation;t==="horizontal"&&x(V,j),s(V,j)},B=i(v);return{bottom:D(B.bottom),left:D(B.left),right:D(B.right),top:D(B.top),size:`${C+10}px`,decorate:R}},i=v=>v?{bottom:Z8,left:K8,top:Q8,right:J8}:{bottom:za.axisOrdinalBottom,left:za.axisOrdinalLeft,top:za.axisOrdinalTop,right:za.axisOrdinalRight},o=v=>{let M=[];return v.forEach(T=>{(T&&T.split?T.split("|"):[T]).forEach((C,D)=>{for(;M.length<=D;)M.push([]);let R=M[D];R.length>0&&R[R.length-1].text===C?R[R.length-1].domain.push(T):R.push({text:C,domain:[T]})})}),M.reverse()},l=v=>{let M=e.size.width,T=Math.max(...v.map(A=>A.text?A.text.length:0));return t==="horizontal"?v&&v.length*16>M-100?{size:T*5+10,rotation:90}:v&&v.length*(T*6+10)>M-100?{size:T*3+20,rotation:45}:{size:25,rotation:0}:{size:T*5+10,rotation:0}},s=(v,M)=>{let T=I=>{let O=I.indexOf(",")!==-1?",":" ",j=I.substring(I.indexOf("(")+1,I.indexOf(")")).split(O).map(K=>parseInt(K));for(;j.length<2;)j.push(0);return j},D=M?(I,O)=>I.x+I.width+14>O.x+O.width:(I,O)=>I.x<=O.x+O.width&&O.x<=I.x+I.width&&I.y<=O.y+O.height&&O.y<=I.y+I.height,R=(I,O)=>I.x>=O.x&&I.x+I.width<=O.x+O.width&&I.y>=O.y&&I.y+I.height<=O.y+O.height,B=t=="horizontal"?f(v):null,V=[];v.each((I,O,j)=>{let K=Re(j[O]),ye=T(K.attr("transform")),ge=K.node().getBBox(),le={x:ge.x+ye[0],y:ge.y+ye[1],width:ge.width,height:ge.height},he=V.some(U=>D(U,le))||B&&!R(le,B);K.attr("visibility",he?"hidden":""),he||V.push(le)})},f=v=>{let M=Ia(v.node());if(M===null)return;let T=M.querySelector(".cartesian-chart"),A=T.querySelector(".x-axis"),C=T.getBoundingClientRect(),D=A.getBoundingClientRect();return{x:C.left-D.left,width:C.width,y:C.top-D.top,height:C.height}},m=v=>v?v<60?`rotate(-${v} 5 5)`:`rotate(-${v} 3 7)`:"translate(0, 8)",x=(v,M)=>{let T=m(M),A=M?"end":"";v.each((C,D,R)=>{Re(R[D]).select("text").attr("transform",T).style("text-anchor",A)})};return a.orient=(...v)=>v.length?(t=v[0],a):t,a.settingName=(...v)=>v.length?(n=v[0],a):n,a.domain=(...v)=>v.length?(r=v[0],a):r,a};var Lk={none:Zp,ordinal:ig,time:rg,linear:zs},Lt=e=>{let t=null,n="horizontal",r="crossValues",a,i=["crossValue"],o=null,l=null,s=["include","paddingStrategy","pad"],f={},m=M=>{let T=Lo(e).excludeType(t).settingName(r).settingValue(a)(),A=Lk[T],C=A.domain().valueNames(i);s.forEach(V=>{f[V]&&C[V]&&C[V](f[V])}),C.orient&&C.orient(n);let D=C(M);o!==null&&(D=o(D)),l&&typeof D[0]=="number"&&(l[0]=D[0]=Math.min(D[0],l[0]),l[1]=D[1]=Math.max(D[1],l[1]));let R=A.hasOwnProperty("component")?x(A,D,M):v(),B=A==zs?tg(D[0],D[1]):void 0;return{scale:A.scale(),domain:D,domainFunction:C,labelFunction:A.labelFunction,component:{bottom:R.bottom,left:R.left,top:R.top,right:R.right},size:R.size,decorate:R.decorate,label:e[r].map(V=>V.name).join(", "),tickFormatFunction:B}},x=(M,T,A)=>M.component(e).orient(n).settingName(r).domain(T)(A),v=()=>({bottom:Ra.axisBottom,left:Ra.axisLeft,top:Ra.axisTop,right:Ra.axisRight,decorate:()=>{}});return m.memoValue=(...M)=>M.length?(l=M[0],m):l,m.excludeType=(...M)=>M.length?(t=M[0],m):t,m.orient=(...M)=>M.length?(n=M[0],m):n,m.settingName=(...M)=>M.length?(r=M[0],m):r,m.settingValue=(...M)=>M.length?(a=M[0],m):a,m.valueName=(...M)=>M.length?(i=[M[0]],m):i[0],m.valueNames=(...M)=>M.length?(i=M[0],m):i,m.modifyDomain=M=>M?(o=M,m):o,s.forEach(M=>{m[M]=(...T)=>T.length?(f[M]=T[0],m):f[M]}),m};var Bi=ht(Mt(),1),Jn=(e,t)=>e6(e,t,(n,r)=>n.svgPlotArea(r),!1),Bo=(e,t)=>e6(e,t,(n,r)=>n.canvasPlotArea(r).svgPlotArea(Bi.seriesSvgPoint()),!0),e6=(e,t,n,r)=>{let a=null,i=null,o=Bi.chartCartesian({xScale:e.scale,yScale:t.scale,xAxis:e.component,yAxis:t.component}).xDomain(e.domain).xLabel(e.label).xAxisHeight(e.size).xDecorate(e.decorate).xTickFormat(e.tickFormatFunction).yDomain(t.domain).yLabel(t.label).yAxisWidth(t.size).yDecorate(t.decorate).yOrient("left").yTickFormat(t.tickFormatFunction);e.decorate&&o.xDecorate(e.decorate),t.decorate&&o.yDecorate(t.decorate),o.xPaddingInner&&o.xPaddingInner(1),o.xPaddingOuter&&o.xPaddingOuter(.5),o.yPaddingInner&&o.yPaddingInner(1),o.yPaddingOuter&&o.yPaddingOuter(.5),o.axisSplitter=(...s)=>s.length?(a=s[0],o):a,o.altAxis=(...s)=>s.length?(i=s[0],o):i,o.plotArea=function(...s){return s.length==0?r?this.canvasPlotArea():this.svgPlotArea():n(this,...s)};let l=o.decorate();return o.decorate((s,f)=>{let m=s.select("d3fc-svg.plot-area"),x=m.select("svg").node();x.setAttribute("viewBox",`0 0 ${m.node().clientWidth} ${m.node().clientHeight}`),x.setAttribute("preserveAspectRatio","none");for(let v of["x-axis","y-axis"])s.select(`d3fc-svg.${v} svg`).node().setAttribute("preserveAspectRatio","none");if(l(s,f),r){let v=s.select(".svg-plot-area").node(),M=s.select(".canvas-plot-area").node();xc([v,M]).order()}if(!!a){if(a.haveSplit()){let v=a.altData(),M=Bi.dataJoin("d3fc-svg","y2-axis").key(D=>D),T=Bi.dataJoin("g","y-series").key(D=>D);s.append("div").attr("class","y-label right-label").style("grid-column",5).style("-ms-grid-column",5).style("grid-row",3).style("-ms-grid-row",3).style("width",i.size||"1em").style("display","flex").style("align-items","center").style("justify-content","center").append("span").attr("class","y-label splitter-label").style("transform","rotate(-90deg)");let A=i.scale.domain(i.domain),C=i.component.right(A);if(C.tickFormat(i.tickFormatFunction),i.decorate&&C.decorate(i.decorate),M(s,["right"]).attr("class",D=>`y-axis ${D}-axis`).on("measure",function(D,R){let{width:B,height:V}=D.detail;R==="left"&&Re(D.currentTarget).select("svg").attr("viewBox",`${-B} 0 ${B} ${V}`).attr("preserveAspectRatio","none"),A.range([V,0])}).on("draw",function(D,R){Re(D.currentTarget).select("svg").call(C)}),r){let D=R=>{let B=o.plotArea();B.context(R.node().getContext("2d")).xScale(e.scale);let V=[t.scale,A];[f,v].forEach((I,O)=>{B.yScale(V[O]),B(I)})};s.select("d3fc-canvas.plot-area").on("draw",function(R,B){D(Re(R.currentTarget).select("canvas"))})}else{let D=function(R){let B=o.plotArea();B.xScale(e.scale);let V=[t.scale,A];T(R,[f,v]).each((I,O,j)=>{B.yScale(V[O]),Re(j[O]).datum(I).call(B)})};s.select("d3fc-svg.plot-area").on("draw",function(R,B){D(Re(R.currentTarget).select("svg"))})}}a(s)}}),o};var ua=ht(Mt(),1);function $t(e,t,n){let r=e.select(t);return r.size()>0?r:n()}function Rr(e,t,n="right"){if(n==="right"||n==="bottom")return e[n]<t[n];if(n==="left"||n==="top")return e[n]>t[n];throw`Direction being checked for overflow is invalid: ${n}`}function og(e,t,n,r=0){let a=e==="x"?"width":"height",i=t[e],o=t[e]+t[a],l=n[e],s=n[e]+n[a],f=l+r>i&&l-r<o,m=s+r>i&&s-r<o,x=l+r<i&&s-r>o;return f||m||x}var t6=`<ul id="tooltip-values"></ul>
`;function oa(e,t){switch(e){case"date":case"datetime":return t instanceof Date?t:new Date(parseInt(t)).toLocaleString([],{dateStyle:"short",timeStyle:"medium"});case"integer":return parseInt(t,10);case"float":return parseFloat(t)}return t}function Fs(e,t){return t.crossValues.length===0?[]:e.crossValue.length===0?[]:((e.crossValue.split?e.crossValue.split("|"):Array.isArray(e.crossValue)?e.crossValue:[e.crossValue])||[e.key]).map((r,a)=>({name:t.crossValues[a].name,value:oa(t.crossValues[a].type,r)}))}function Bs(e,t){if(t.splitValues.length===0)return[];let n=[e.mainValue];return e.key?n=e.key.split("|"):e.mainValue?.split&&(n=e.mainValue.split("|")),t.splitValues.map((r,a)=>({name:r.name,value:oa(r.type,n[a])}))}function Hs(e,t){return t.mainValues.length>1?e.mainValues?t.mainValues.map((n,r)=>({name:n.name,value:oa(n.type,e.mainValues[r])})):t.mainValues.map(n=>({name:n.name,value:oa(n.type,e.row[Ik(e.key,n,t.realValues)])})):[{name:t.mainValues[0].name,value:oa(t.mainValues[0].type,e.colorValue||e.mainValue-e.baseValue||e.mainValue||e.mainValues)}]}function Ik(e,t,n){if(!e)return t.name;if(e.includes("|")){let a=e.split("|");return a[a.length-1]===t.name?e:`${n.includes(a[a.length-1])?a.slice(0,a.length-1).join("|"):e}|${t.name}`}return n.includes(e)?t.name:`${e}|${t.name}`}function n6(e,t,n){let r=Fs(t,n).concat(Bs(t,n)).concat(Hs(t,n));zk(e,r)}function zk(e,t){e.select("#tooltip-values").selectAll("li").data(t).join("li").each(function(n){Re(this).text(`${n.name}: `).append("b").text(Rk(n.value))})}var Rk=e=>e==null?"-":e.toLocaleString(void 0,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2});var r6=e=>[e.name,"==",e.value],dl=(e,t,n)=>{let r=Hs(t,n).map(l=>l.name),a=Fs(t,n).map(r6),i=Bs(t,n).map(r6),o=n.filter.concat(a).concat(i);e.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{column_names:r,config:{filter:o},row:t.row}}))},a6=()=>{let e=null,t=n=>{let r=n.node();n.on("click",(a,i)=>dl(r,i,e))};return t.settings=(...n)=>n.length?(e=n[0],t):e,t};var Fa=()=>{let e=!1,t=null,n=null,r=!1,a=i=>{let o=i.node();if(!o||!o.isConnected){i6(t);return}let l=Re(Ia(o));t=Fk(l);let s=function(m,x){n6(t,x,n);let v=i.nodes(),M=v.indexOf(this);Bk(l.node(),v[M],t,r),Re(v[M]).style("opacity","0.7")},f=function(m,x){i6(t);let v=i.nodes(),M=v.indexOf(this);v&&Re(v[M]).style("opacity","1")};e?i.each(function(m){return s.call(this,void 0,m)}):(i.on("mouseover",s).on("mouseout",f),a6().settings(n)(i))};return a.alwaysShow=(...i)=>i.length?(e=i[0],a):e,a.centered=(...i)=>i.length?(r=i[0],a):r,a.settings=(...i)=>i.length?(n=i[0],a):n,a};function Fk(e){return $t(e,"div.tooltip",()=>e.append("div").attr("class","tooltip").style("z-index",3).style("opacity",0).html(t6))}function Bk(e,t,n,r){let a=e.getBoundingClientRect(),i=t.getBoundingClientRect(),o=i.left+i.width/2-a.left,l=i.top-a.top+e.scrollTop;r&&(l=i.top+i.height/2-a.top+e.scrollTop),n.style("left",`${o}px`).style("top",`${l}px`).style("opacity",.9),r&&([o,l]=Hk(n,a)),Yk(n,a,o,l,r)}function Hk(e,t){let n=e.node().getBoundingClientRect(),r=n.width/2,a=n.left-r-t.left;e.style("left",`${a}px`);let i=n.height/2,o=n.top-i-t.top;return e.style("top",`${o}px`),[a,o]}function Yk(e,t,n,r,a=!1){let i=e.node().getBoundingClientRect();if(Rr(t,i)){let o=i.right-t.right;e.style("left",`${n-o}px`)}if(Rr(t,i,"bottom")){let o=i.bottom-t.bottom;e.style("top",`${r-o}px`)}if(!!a){if(Rr(t,i,"left")){let o=i.left-t.left;e.style("left",`${n-o}px`)}if(Rr(t,i,"top")){let o=i.top-t.top;e.style("top",`${r-o}px`)}}}function i6(e){e&&e.style("opacity",0)}function Ys(e,t){let n=e.mainValues.length>1?ua.seriesSvgGrouped(ua.seriesSvgBar()):ua.seriesSvgBar();return n=n.decorate(r=>{Fa().settings(e)(r),r.style("fill",a=>t(a.key))}),ua.autoBandwidth(Wk(n)).crossValue(r=>r.crossValue).mainValue(r=>r.mainValue?r.mainValue:0).baseValue(r=>r.baseValue)}var Wk=e=>{let t=n=>e(n);return ua.rebindAll(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(Math.max(n[0],1)),t):e.bandwidth(),t};function Ba(e){return e.split("|").slice(0,-1).join("|")}function Ws(e,t){return e.data.map(n=>Object.entries(n).filter(([r,a])=>r.split("|").at(-1)===t&&!!a).map(([r,a])=>a)).flat()}function Fr(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=Object.keys(t).filter(r=>r!=="__ROW_PATH__");return pr().settings(e).domain(n)()}function o6(e,t){let n=Ws(e,t),r=[...new Set(n)].sort();return pr().settings(e).domain(r)()}function Hi(e,t){let n=[...new Set(t)];return pr().settings(e).domain(n)()}function u6(e){let t=e.data[0]??{},n=Object.keys(t).filter(a=>a!=="__ROW_PATH__").map(a=>Ba(a)),r=[...new Set(n)];return pr().settings(e).domain(r)()}function pr(){let e=null,t=null,n={},r=i=>Yi(i,n.colorStyles&&n.colorStyles.opacity),a=()=>{let i=n.colorStyles,o=t||[i.series];if(o||e.length>1){let l=e.length>1?i.scheme:o;return hr(l.map(r)).domain(e)}return null};return a.domain=(...i)=>i.length===0?e:(e=i[0],a),a.defaultColors=(...i)=>i.length?(t=i[0],a):t,a.mapFunction=(...i)=>i.length?(r=i[0],a):r,a.settings=(...i)=>i.length?(n=i[0],a):n,a}function Br(e){return Wi(1)(e)}function Yi(e,t=.5){return Wi(t)(e)}function Wi(e){return t=>{let n=xn(t);return n!=null&&(n.opacity=e),n+""}}var l6=ht(Mt(),1);var $k={none:Qp,ordinal:ag,time:ng,linear:eg},er=e=>{let t=Lo(e),n="__ROW_PATH__",r=(a,i)=>$k[t()](n)(a);return(0,l6.rebindAll)(r,t),r.valueName=(...a)=>a.length?(n=a[0],r):n,r};function $i(e,t,{stack:n=!1,excludeEmpty:r=!1}={}){let a=t||e.data;return e.splitValues.length>0?Uk(e,a,{stack:n,excludeEmpty:r}):[a]}function Uk(e,t,{stack:n=!1,excludeEmpty:r=!1}){let a={};return t.forEach(i=>{let o={},l={};Object.keys(i).filter(s=>s!=="__ROW_PATH__").filter(s=>!r||i[s]!=null&&i[s]!=null).forEach(s=>{let f=s.split("|"),m=f[f.length-1],x=i[s]||0,v=`${m}${x>=0?"+ve":"-ve"}`,M=f.slice(0,f.length-1).join("|"),T=l[M]=l[M]||{__ROW_PATH__:i.__ROW_PATH__},A=o[v]||0;T.__KEY__=M,n?(T[m]=A+x,T[`__BASE_VALUE__${m}`]=A,o[v]=T[m]):T[m]=x,T.row=i}),Object.keys(l).forEach(s=>{(a[s]=a[s]||[]).push(l[s])})}),Object.keys(a).map(i=>{let o=a[i];return o.key=i,o})}function c6(e,t){let n={stack:!1},r=$i(e,t,n).map(a=>s6(e,a,n));return e.mainValues.length>1?r.reduce((i,o)=>i.concat(o)):r}function $s(e,t){let n={stack:!0};return $i(e,t,n).map(r=>s6(e,r,n))}function qk(e,t,{stack:n=!1}){let r=er(e);return a=>{let i=l=>n&&l[`__BASE_VALUE__${a.name}`]||0,o=t.map((l,s)=>({crossValue:r(l,s),mainValue:l[a.name]?l[a.name]:null,baseValue:i(l),key:l.__KEY__?`${l.__KEY__}|${a.name}`:a.name,row:l.row||l}));return o.key=o[0].key,o}}function s6(e,t,{stack:n=!1}){let r=qk(e,t,{stack:n});return e.mainValues.length>1?e.mainValues.map(r):r(e.mainValues[0])}var Us="http://www.w3.org/1999/xhtml",qs={svg:"http://www.w3.org/2000/svg",xhtml:Us,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ml(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),qs.hasOwnProperty(t)?{space:qs[t],local:e}:e}function Gk(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Us&&t.documentElement.namespaceURI===Us?t.createElement(e):t.createElementNS(n,e)}}function Xk(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hl(e){var t=ml(e);return(t.local?Xk:Gk)(t)}var jk=0;function lg(){return new ug}function ug(){this._="@"+(++jk).toString(36)}ug.prototype=lg.prototype={constructor:ug,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var d6=function(e){return function(){return this.matches(e)}};typeof document<"u"&&(Ho=document.documentElement,Ho.matches||(f6=Ho.webkitMatchesSelector||Ho.msMatchesSelector||Ho.mozMatchesSelector||Ho.oMatchesSelector,d6=function(e){return function(){return f6.call(this,e)}}));var Ho,f6,cg=d6;var h6={},pl=null;typeof document<"u"&&(m6=document.documentElement,"onmouseenter"in m6||(h6={mouseenter:"mouseover",mouseleave:"mouseout"}));var m6;function Qk(e,t,n){return e=p6(e,t,n),function(r){var a=r.relatedTarget;(!a||a!==this&&!(a.compareDocumentPosition(this)&8))&&e.call(this,r)}}function p6(e,t,n){return function(r){var a=pl;pl=r;try{e.call(this,this.__data__,t,n)}finally{pl=a}}}function Zk(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Kk(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,a=t.length,i;n<a;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.capture):t[++r]=i;++r?t.length=r:delete this.__on}}}function Jk(e,t,n){var r=h6.hasOwnProperty(e.type)?Qk:p6;return function(a,i,o){var l=this.__on,s,f=r(t,i,o);if(l){for(var m=0,x=l.length;m<x;++m)if((s=l[m]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=f,s.capture=n),s.value=t;return}}this.addEventListener(e.type,f,n),s={type:e.type,name:e.name,value:t,listener:f,capture:n},l?l.push(s):this.__on=[s]}}function g6(e,t,n){var r=Zk(e+""),a,i=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,f=l.length,m;s<f;++s)for(a=0,m=l[s];a<i;++a)if((o=r[a]).type===m.type&&o.name===m.name)return m.value}return}for(l=t?Jk:Kk,n==null&&(n=!1),a=0;a<i;++a)this.each(l(r[a],t,n));return this}function eV(){}function gl(e){return e==null?eV:function(){return this.querySelector(e)}}function b6(e){typeof e!="function"&&(e=gl(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=new Array(o),s,f,m=0;m<o;++m)(s=i[m])&&(f=e.call(s,s.__data__,m,i))&&("__data__"in s&&(f.__data__=s.__data__),l[m]=f);return new Ft(r,this._parents)}function tV(){return[]}function sg(e){return e==null?tV:function(){return this.querySelectorAll(e)}}function x6(e){typeof e!="function"&&(e=sg(e));for(var t=this._groups,n=t.length,r=[],a=[],i=0;i<n;++i)for(var o=t[i],l=o.length,s,f=0;f<l;++f)(s=o[f])&&(r.push(e.call(s,s.__data__,f,o)),a.push(s));return new Ft(r,a)}function w6(e){typeof e!="function"&&(e=cg(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=[],s,f=0;f<o;++f)(s=i[f])&&e.call(s,s.__data__,f,i)&&l.push(s);return new Ft(r,this._parents)}function Gs(e){return new Array(e.length)}function _6(){return new Ft(this._enter||this._groups.map(Gs),this._parents)}function vl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}vl.prototype={constructor:vl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function S6(e){return function(){return e}}var M6="$";function nV(e,t,n,r,a,i){for(var o=0,l,s=t.length,f=i.length;o<f;++o)(l=t[o])?(l.__data__=i[o],r[o]=l):n[o]=new vl(e,i[o]);for(;o<s;++o)(l=t[o])&&(a[o]=l)}function rV(e,t,n,r,a,i,o){var l,s,f={},m=t.length,x=i.length,v=new Array(m),M;for(l=0;l<m;++l)(s=t[l])&&(v[l]=M=M6+o.call(s,s.__data__,l,t),M in f?a[l]=s:f[M]=s);for(l=0;l<x;++l)M=M6+o.call(e,i[l],l,i),(s=f[M])?(r[l]=s,s.__data__=i[l],f[M]=null):n[l]=new vl(e,i[l]);for(l=0;l<m;++l)(s=t[l])&&f[v[l]]===s&&(a[l]=s)}function C6(e,t){if(!e)return M=new Array(this.size()),f=-1,this.each(function(O){M[++f]=O}),M;var n=t?rV:nV,r=this._parents,a=this._groups;typeof e!="function"&&(e=S6(e));for(var i=a.length,o=new Array(i),l=new Array(i),s=new Array(i),f=0;f<i;++f){var m=r[f],x=a[f],v=x.length,M=e.call(m,m&&m.__data__,f,r),T=M.length,A=l[f]=new Array(T),C=o[f]=new Array(T),D=s[f]=new Array(v);n(m,x,A,C,D,M,t);for(var R=0,B=0,V,I;R<T;++R)if(V=A[R]){for(R>=B&&(B=R+1);!(I=C[B])&&++B<T;);V._next=I||null}}return o=new Ft(o,r),o._enter=l,o._exit=s,o}function T6(){return new Ft(this._exit||this._groups.map(Gs),this._parents)}function A6(e){for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),l=0;l<i;++l)for(var s=t[l],f=n[l],m=s.length,x=o[l]=new Array(m),v,M=0;M<m;++M)(v=s[M]||f[M])&&(x[M]=v);for(;l<r;++l)o[l]=t[l];return new Ft(o,this._parents)}function k6(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,i=r[a],o;--a>=0;)(o=r[a])&&(i&&i!==o.nextSibling&&i.parentNode.insertBefore(o,i),i=o);return this}function V6(e){e||(e=aV);function t(x,v){return x&&v?e(x.__data__,v.__data__):!x-!v}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o=n[i],l=o.length,s=a[i]=new Array(l),f,m=0;m<l;++m)(f=o[m])&&(s[m]=f);s.sort(t)}return new Ft(a,this._parents).order()}function aV(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function D6(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function N6(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function E6(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}function P6(){var e=0;return this.each(function(){++e}),e}function L6(){return!this.node()}function O6(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],i=0,o=a.length,l;i<o;++i)(l=a[i])&&e.call(l,l.__data__,i,a);return this}function iV(e){return function(){this.removeAttribute(e)}}function oV(e){return function(){this.removeAttributeNS(e.space,e.local)}}function uV(e,t){return function(){this.setAttribute(e,t)}}function lV(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function cV(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function sV(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function I6(e,t){var n=ml(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?oV:iV:typeof t=="function"?n.local?sV:cV:n.local?lV:uV)(n,t))}function yl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function fV(e){return function(){this.style.removeProperty(e)}}function dV(e,t,n){return function(){this.style.setProperty(e,t,n)}}function mV(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function z6(e,t,n){var r;return arguments.length>1?this.each((t==null?fV:typeof t=="function"?mV:dV)(e,t,n??"")):yl(r=this.node()).getComputedStyle(r,null).getPropertyValue(e)}function hV(e){return function(){delete this[e]}}function pV(e,t){return function(){this[e]=t}}function gV(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function R6(e,t){return arguments.length>1?this.each((t==null?hV:typeof t=="function"?gV:pV)(e,t)):this.node()[e]}function F6(e){return e.trim().split(/^|\s+/)}function fg(e){return e.classList||new B6(e)}function B6(e){this._node=e,this._names=F6(e.getAttribute("class")||"")}B6.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function H6(e,t){for(var n=fg(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function Y6(e,t){for(var n=fg(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function vV(e){return function(){H6(this,e)}}function yV(e){return function(){Y6(this,e)}}function bV(e,t){return function(){(t.apply(this,arguments)?H6:Y6)(this,e)}}function W6(e,t){var n=F6(e+"");if(arguments.length<2){for(var r=fg(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?bV:t?vV:yV)(n,t))}function xV(){this.textContent=""}function wV(e){return function(){this.textContent=e}}function _V(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function $6(e){return arguments.length?this.each(e==null?xV:(typeof e=="function"?_V:wV)(e)):this.node().textContent}function SV(){this.innerHTML=""}function MV(e){return function(){this.innerHTML=e}}function CV(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function U6(e){return arguments.length?this.each(e==null?SV:(typeof e=="function"?CV:MV)(e)):this.node().innerHTML}function TV(){this.nextSibling&&this.parentNode.appendChild(this)}function q6(){return this.each(TV)}function AV(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function G6(){return this.each(AV)}function X6(e){var t=typeof e=="function"?e:hl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function kV(){return null}function j6(e,t){var n=typeof e=="function"?e:hl(e),r=t==null?kV:typeof t=="function"?t:gl(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function VV(){var e=this.parentNode;e&&e.removeChild(this)}function Q6(){return this.each(VV)}function Z6(e){return arguments.length?this.property("__data__",e):this.node().__data__}function K6(e,t,n){var r=yl(e),a=r.CustomEvent;a?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function DV(e,t){return function(){return K6(this,e,t)}}function NV(e,t){return function(){return K6(this,e,t.apply(this,arguments))}}function J6(e,t){return this.each((typeof t=="function"?NV:DV)(e,t))}var Xs=[null];function Ft(e,t){this._groups=e,this._parents=t}function EV(){return new Ft([[document.documentElement]],Xs)}Ft.prototype=EV.prototype={constructor:Ft,select:b6,selectAll:x6,filter:w6,data:C6,enter:_6,exit:T6,merge:A6,order:k6,sort:V6,call:D6,nodes:N6,node:E6,size:P6,empty:L6,each:O6,attr:I6,style:z6,property:R6,classed:W6,text:$6,html:U6,raise:q6,lower:G6,append:X6,insert:j6,remove:Q6,datum:Z6,on:g6,dispatch:J6};function dg(e){return typeof e=="string"?new Ft([[document.querySelector(e)]],[document.documentElement]):new Ft([[e]],Xs)}var Hr=ht(Hd()),hg=ht(fp()),pg=ht(Wd());function Ha(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function mg(e){return e.length===1&&(e=PV(e)),{left:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)<0?r=i+1:a=i}return r},right:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)>0?a=i:r=i+1}return r}}}function PV(e){return function(t,n){return Ha(e(t),n)}}var e5=mg(Ha),LV=e5.right,OV=e5.left;var t5=Array.prototype,zV=t5.slice,RV=t5.map;var Bne=Math.sqrt(50),Hne=Math.sqrt(10),Yne=Math.sqrt(2);function Qs(e,t){var n=-1,r=e.length,a,i;if(t==null){for(;++n<r;)if((i=e[n])!=null&&i>=i){a=i;break}for(;++n<r;)(i=e[n])!=null&&i>a&&(a=i)}else{for(;++n<r;)if((i=t(e[n],n,e))!=null&&i>=i){a=i;break}for(;++n<r;)(i=t(e[n],n,e))!=null&&i>a&&(a=i)}return a}function Zs(e,t){var n=0,r=e.length,a,i=-1;if(t==null)for(;++i<r;)(a=+e[i])&&(n+=a);else for(;++i<r;)(a=+t(e[i],i,e))&&(n+=a);return n}var GV=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i5=function(t){return t},r5=function(t){for(var n=[],r=0,a=t.length;r<a;r++)n[r]=t[a-r-1];return n},a5=function(t,n){t.each(function(){for(var r=dg(this),a=r.text().split(/\s+/).reverse(),i,o=[],l=0,s=1.2,f=r.attr("y"),m=parseFloat(r.attr("dy"))||0,x=r.text(null).append("tspan").attr("x",0).attr("dy",m+"em");i=a.pop();)o.push(i),x.text(o.join(" ")),x.node().getComputedTextLength()>n&&o.length>1&&(o.pop(),x.text(o.join(" ")),o=[i],x=r.append("tspan").attr("x",0).attr("dy",s+m+"em").text(i))})},XV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1],r=arguments[2],a=arguments[3],i=arguments[4];if((typeof n>"u"?"undefined":GV(n))==="object"){if(n.length===0)return t;for(var o=n.length;o<t.length;o++)n.push(t[o]);return n}else if(typeof n=="function"){for(var l=[],s=t.length,f=0;f<s;f++)l.push(n({i:f,genLength:s,generatedLabels:t,domain:r,range:a,labelDelimiter:i}));return l}return t},jV=function(t,n,r){var a=[];if(n.length>1)a=n;else for(var i=t.domain(),o=(i[i.length-1]-i[0])/(n-1),l=0;l<n;l++)a.push(i[0]+l*o);var s=a.map(r);return{data:a,labels:s,feature:function(m){return t(m)}}},QV=function(t,n,r){var a=t.range().map(function(i){var o=t.invertExtent(i);return n(o[0])+" "+r+" "+n(o[1])});return{data:t.range(),labels:a,feature:i5}},ZV=function(t){return{data:t.domain(),labels:t.domain(),feature:function(r){return t(r)}}},KV=function(t,n,r){t.call("cellover",r,n)},JV=function(t,n,r){t.call("cellout",r,n)},eD=function(t,n,r){t.call("cellclick",r,n)},Yt={d3_drawShapes:function(t,n,r,a,i,o){t==="rect"?n.attr("height",r).attr("width",a):t==="circle"?n.attr("r",i):t==="line"?n.attr("x1",0).attr("x2",a).attr("y1",0).attr("y2",0):t==="path"&&n.attr("d",o)},d3_addText:function(t,n,r,a,i){n.append("text").attr("class",a+"label");var o=t.selectAll("g."+a+"cell text."+a+"label").data(r).text(i5);return i&&t.selectAll("g."+a+"cell text."+a+"label").call(a5,i),o},d3_calcType:function(t,n,r,a,i,o){var l=t.invertExtent?QV(t,i,o):t.ticks?jV(t,r,i):ZV(t),s=t.range&&t.range()||t.domain();return l.labels=XV(l.labels,a,t.domain(),s,o),n&&(l.labels=r5(l.labels),l.data=r5(l.data)),l},d3_filterCells:function(t,n){var r=t.data.map(function(o,l){return{data:o,label:t.labels[l]}}).filter(n),a=r.map(function(o){return o.data}),i=r.map(function(o){return o.label});return t.data=t.data.filter(function(o){return a.indexOf(o)!==-1}),t.labels=t.labels.filter(function(o){return i.indexOf(o)!==-1}),t},d3_placement:function(t,n,r,a,i,o){n.attr("transform",r),a.attr("transform",i),t==="horizontal"&&a.style("text-anchor",o)},d3_addEvents:function(t,n){t.on("mouseover.legend",function(r){KV(n,r,this)}).on("mouseout.legend",function(r){JV(n,r,this)}).on("click.legend",function(r){eD(n,r,this)})},d3_title:function(t,n,r,a){if(n!==""){var i=t.selectAll("text."+r+"legendTitle");i.data([n]).enter().append("text").attr("class",r+"legendTitle"),t.selectAll("text."+r+"legendTitle").text(n),a&&t.selectAll("text."+r+"legendTitle").call(a5,a);var o=t.select("."+r+"legendCells"),l=t.select("."+r+"legendTitle").nodes().map(function(f){return f.getBBox().height})[0],s=-o.nodes().map(function(f){return f.getBBox().x})[0];o.attr("transform","translate("+s+","+l+")")}},d3_defaultLocale:{format:Hr.format,formatPrefix:Hr.formatPrefix},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function Ks(){var e=(0,pg.scaleLinear)(),t="rect",n=15,r=15,a=10,i=2,o=[5],l=void 0,s=[],f="",m=!1,x="",v=Yt.d3_defaultLocale,M=Yt.d3_defaultFormatSpecifier,T=10,A="middle",C=Yt.d3_defaultDelimiter,D=void 0,R="vertical",B=!1,V=void 0,I=void 0,O=(0,hg.dispatch)("cellover","cellout","cellclick");function j(K){var ye=Yt.d3_calcType(e,B,o,s,v.format(M),C),ge=K.selectAll("g").data([e]);ge.enter().append("g").attr("class",f+"legendCells"),l&&Yt.d3_filterCells(ye,l);var le=K.select("."+f+"legendCells").selectAll("."+f+"cell").data(ye.data),Ie=le.enter().append("g").attr("class",f+"cell");Ie.append(t).attr("class",f+"swatch");var he=K.selectAll("g."+f+"cell "+t+"."+f+"swatch").data(ye.data);Yt.d3_addEvents(Ie,O),le.exit().transition().style("opacity",0).remove(),he.exit().transition().style("opacity",0).remove(),he=he.merge(he),Yt.d3_drawShapes(t,he,r,n,a,V);var U=Yt.d3_addText(K,Ie,ye.labels,f,D);le=Ie.merge(le);var _e=U.nodes().map(function(be){return be.getBBox()}),ne=he.nodes().map(function(be){return be.getBBox()});m?he.attr("class",function(be){return f+"swatch "+ye.feature(be)}):t=="line"?he.style("stroke",ye.feature):he.style("fill",ye.feature);var ie=void 0,ve=void 0,oe=A=="start"?0:A=="middle"?.5:1;R==="vertical"?function(){var be=_e.map(function(Ee,De){return Math.max(Ee.height,ne[De].height)});ie=function(De,Se){var Ye=Zs(be.slice(0,Se));return"translate(0, "+(Ye+Se*i)+")"},ve=function(De,Se){return"translate( "+(ne[Se].width+ne[Se].x+T)+", "+(ne[Se].y+ne[Se].height/2+5)+")"}}():R==="horizontal"&&(ie=function(Ee,De){return"translate("+De*(ne[De].width+i)+",0)"},ve=function(Ee,De){return"translate("+(ne[De].width*oe+ne[De].x)+`,
          `+(ne[De].height+ne[De].y+T+8)+")"}),Yt.d3_placement(R,le,ie,U,ve,A),Yt.d3_title(K,x,f,I),le.transition().style("opacity",1)}return j.scale=function(K){return arguments.length?(e=K,j):e},j.cells=function(K){return arguments.length?((K.length>1||K>=2)&&(o=K),j):o},j.cellFilter=function(K){return arguments.length?(l=K,j):l},j.shape=function(K,ye){return arguments.length?((K=="rect"||K=="circle"||K=="line"||K=="path"&&typeof ye=="string")&&(t=K,V=ye),j):t},j.shapeWidth=function(K){return arguments.length?(n=+K,j):n},j.shapeHeight=function(K){return arguments.length?(r=+K,j):r},j.shapeRadius=function(K){return arguments.length?(a=+K,j):a},j.shapePadding=function(K){return arguments.length?(i=+K,j):i},j.labels=function(K){return arguments.length?(s=K,j):s},j.labelAlign=function(K){return arguments.length?((K=="start"||K=="end"||K=="middle")&&(A=K),j):A},j.locale=function(K){return arguments.length?(v=(0,Hr.formatLocale)(K),j):v},j.labelFormat=function(K){return arguments.length?(M=(0,Hr.formatSpecifier)(K),j):j.locale().format(M)},j.labelOffset=function(K){return arguments.length?(T=+K,j):T},j.labelDelimiter=function(K){return arguments.length?(C=K,j):C},j.labelWrap=function(K){return arguments.length?(D=K,j):D},j.useClass=function(K){return arguments.length?((K===!0||K===!1)&&(m=K),j):m},j.orient=function(K){return arguments.length?(K=K.toLowerCase(),(K=="horizontal"||K=="vertical")&&(R=K),j):R},j.ascending=function(K){return arguments.length?(B=!!K,j):B},j.classPrefix=function(K){return arguments.length?(f=K,j):f},j.title=function(K){return arguments.length?(x=K,j):x},j.titleWidth=function(K){return arguments.length?(I=K,j):I},j.textWrap=function(K){return arguments.length?(textWrap=K,j):textWrap},j.on=function(){var K=O.on.apply(O,arguments);return K===O?j:K},j}function o5(){var e=(0,pg.scaleLinear)(),t="path",n=15,r=15,a=10,i=5,o=[5],l=void 0,s=[],f="",m="",x=Yt.d3_defaultLocale,v=Yt.d3_defaultFormatSpecifier,M="middle",T=10,A=Yt.d3_defaultDelimiter,C=void 0,D="vertical",R=!1,B=void 0,V=(0,hg.dispatch)("cellover","cellout","cellclick");function I(O){var j=Yt.d3_calcType(e,R,o,s,x.format(v),A),K=O.selectAll("g").data([e]);l&&Yt.d3_filterCells(j,l),K.enter().append("g").attr("class",f+"legendCells");var ye=O.select("."+f+"legendCells").selectAll("."+f+"cell").data(j.data),ge=ye.enter().append("g").attr("class",f+"cell");ge.append(t).attr("class",f+"swatch");var le=O.selectAll("g."+f+"cell "+t+"."+f+"swatch");Yt.d3_addEvents(ge,V),ye.exit().transition().style("opacity",0).remove(),le.exit().transition().style("opacity",0).remove(),le=le.merge(le),Yt.d3_drawShapes(t,le,r,n,a,j.feature);var Ie=Yt.d3_addText(O,ge,j.labels,f,C);ye=ge.merge(ye);var he=Ie.nodes().map(function(be){return be.getBBox()}),U=le.nodes().map(function(be){return be.getBBox()}),_e=Qs(U,function(be){return be.height}),ne=Qs(U,function(be){return be.width}),ie=void 0,ve=void 0,oe=M=="start"?0:M=="middle"?.5:1;D==="vertical"?function(){var be=he.map(function(Ee,De){return Math.max(_e,Ee.height)});ie=function(De,Se){var Ye=Zs(be.slice(0,Se));return"translate(0, "+(Ye+Se*i)+" )"},ve=function(De,Se){return"translate( "+(ne+T)+`,
              `+(U[Se].y+U[Se].height/2+5)+")"}}():D==="horizontal"&&(ie=function(Ee,De){return"translate( "+De*(ne+i)+",0)"},ve=function(Ee,De){return"translate( "+(U[De].width*oe+U[De].x)+`,
              `+(_e+T)+")"}),Yt.d3_placement(D,ye,ie,Ie,ve,M),Yt.d3_title(O,m,f,B),ye.transition().style("opacity",1)}return I.scale=function(O){return arguments.length?(e=O,I):e},I.cells=function(O){return arguments.length?((O.length>1||O>=2)&&(o=O),I):o},I.cellFilter=function(O){return arguments.length?(l=O,I):l},I.shapePadding=function(O){return arguments.length?(i=+O,I):i},I.labels=function(O){return arguments.length?(s=O,I):s},I.labelAlign=function(O){return arguments.length?((O=="start"||O=="end"||O=="middle")&&(M=O),I):M},I.locale=function(O){return arguments.length?(x=(0,Hr.formatLocale)(O),I):x},I.labelFormat=function(O){return arguments.length?(v=(0,Hr.formatSpecifier)(O),I):I.locale().format(v)},I.labelOffset=function(O){return arguments.length?(T=+O,I):T},I.labelDelimiter=function(O){return arguments.length?(A=O,I):A},I.labelWrap=function(O){return arguments.length?(C=O,I):C},I.orient=function(O){return arguments.length?(O=O.toLowerCase(),(O=="horizontal"||O=="vertical")&&(D=O),I):D},I.ascending=function(O){return arguments.length?(R=!!O,I):R},I.classPrefix=function(O){return arguments.length?(f=O,I):f},I.title=function(O){return arguments.length?(m=O,I):m},I.titleWidth=function(O){return arguments.length?(B=O,I):B},I.on=function(){var O=V.on.apply(V,arguments);return O===V?I:O},I}var y5=ht(Mt(),1);var l5=`<span id="up-arrow">&#9650;</span>
<span id="page-text"></span>
<span id="down-arrow">&#9660;</span>
`;function c5(e){let t=e.select("g.legendCells"),n=e.node().getBoundingClientRect();if(!Rr(n,t.node().getBoundingClientRect()))return;let r=e.select(".legend");t.selectAll(".label").text((a,i,o)=>{let l=o[i];if(Rr(n,l.getBoundingClientRect())){let s=nD(l,r,n);return`${a.substring(0,s-3)}...`}else return a})}function nD(e,t,n){let r=e.getBoundingClientRect(),a=t.node().createSVGPoint(),i=3;return a.x=n.right-r.left-i,a.y=0,e.getCharNumAtPosition(a)}var Ui=10;function Ya(e,t,n){let r=Re(Ro(e).getContainer()).node().getBoundingClientRect(),a=e.getBoundingClientRect(),i={top:a.top+n-Ui,right:a.right+t+Ui,bottom:a.bottom+n+Ui,left:a.left+t-Ui},o={x:t,y:n};return[{edge:"right",dimension:"x"},{edge:"left",dimension:"x"},{edge:"top",dimension:"y"},{edge:"bottom",dimension:"y"}].forEach(s=>{if(Rr(r,i,s.edge)){let f=i[s.edge]-r[s.edge];o[s.dimension]=o[s.dimension]-f}}),o}var gg="resize.for-dragging";function s5(){let e=!0,t=null,n=r=>{let a=r.node(),i=a.getRootNode().host.closest("perspective-viewer");a.style.cursor="move",t.legend&&(a.style.left=t.legend.left,a.style.top=t.legend.top);let o=ko().on("drag",function(l){let s=Ya(this,l.dx,l.dy);this.style.left=`${this.offsetLeft+s.x}px`,this.style.top=`${this.offsetTop+s.y}px`;let f={left:this.style.left,top:this.style.top};t.legend={...t.legend,...f},e=iD(a)?aD(a):rD(a,e)});o.on("end",function(l){Re(window).on(gg,null),i?.dispatchEvent(new Event("perspective-config-update"))}),r.call(o)};return n.settings=(...r)=>r.length?(t=r[0],n):t,n}function rD(e,t){return t!==!1&&Re(window).on(gg,function(){let n=Ya(e,0,0);e.style.left=`${e.offsetLeft+n.x}px`,e.style.top=`${e.offsetTop+n.y}px`}),!1}function aD(e){return Re(window).on(gg,null),e.style.left="auto",!0}function iD(e){let t=e.getBoundingClientRect(),n=Re(Ia(e)).node().getBoundingClientRect(),r=5;return t.right+Ui+r>=n.right&&t.top-Ui-r<=n.top}var f5="horizontal-drag-handle",d5="vertical-drag-handle",oD="corner-drag-handle",h5="dragHandles",m5=0,Wa="resize";function p5(){let e=9,t=3,n=null,r={height:100,width:100},a={height:null,width:null},i=[],o=(m,x)=>i.filter(v=>v.event===m).forEach(v=>v.execute(x)),l=m=>{if(lD(m))return;let x={left:Se=>o(Wa,{horizontal:_e(Se),vertical:!1}),top:Se=>o(Wa,{horizontal:!1,vertical:ie(Se)}),right:Se=>o(Wa,{horizontal:ne(Se),vertical:!1}),bottom:Se=>o(Wa,{horizontal:!1,vertical:ve(Se)}),topleft:Se=>o(Wa,{horizontal:_e(Se),vertical:ie(Se)}),topright:Se=>o(Wa,{horizontal:ne(Se),vertical:ie(Se)}),bottomright:Se=>o(Wa,{horizontal:ne(Se),vertical:ve(Se)}),bottomleft:Se=>o(Wa,{horizontal:_e(Se),vertical:ve(Se)})},v=m.node();n.legend&&(v.style.height=n.legend.height,v.style.width=n.legend.width);let M=v.getBoundingClientRect(),T=m.append("svg").attr("id",h5).attr("width",M.width).attr("height",M.height),A=T.append("g"),C=Se=>Se==="left"||Se==="right",D={left:0,top:e,right:M.width-e,bottom:e},R={left:e,top:0,right:e,bottom:M.height-e},B=["left","top","right","bottom"],[V,I,O,j]=B.map(Se=>A.append("rect").attr("id",`drag${Se}`).attr("class",C(Se)?d5:f5).attr("y",R[Se]).attr("x",D[Se]).attr("height",C(Se)?M.height-e*2:e).attr("width",C(Se)?e:M.width-e*2).attr("fill",C(Se)?"lightgreen":"lightblue").attr("fill-opacity",m5).style("z-index",t).attr("cursor",C(Se)?"ew-resize":"ns-resize").call(ko().on("drag",x[Se]))),K=Se=>`${Se[0]}${Se[1]}`,ye={topleft:"nwse",topright:"nesw",bottomright:"nwse",bottomleft:"nesw"},ge=[["top","left"],["top","right"],["bottom","right"],["bottom","left"]],[le,Ie,he,U]=ge.map(Se=>A.append("rect").attr("id",`drag${K(Se)}`).attr("class",`${oD} ${Se[0]} ${Se[1]}`).attr("height",e).attr("width",e).attr("fill","red").attr("fill-opacity",m5).style("z-index",t).attr("cursor",`${ye[K(Se)]}-resize`).call(ko().on("drag",x[K(Se)])));De("height","y",j),De("width","x",O),Ee(T);function _e(Se){let Ye=f(Ya(V.node(),Se.x,0).x,T,"width",(Oe,Qe)=>Oe-Qe);return v.style.left=`${v.offsetLeft+Ye}px`,v.style.width=`${v.offsetWidth-Ye}px`,oe(),be(O,Ye,"width","x")}function ne(Se){let Ye=-f(Ya(O.node(),Se.dx,0).x,T,"width",(Oe,Qe)=>Oe+Qe);return s(Ye,"x",O,Se)?!1:(v.style.width=`${v.offsetWidth-Ye}px`,oe(),be(O,Ye,"width","x"))}function ie(Se){let Ye=f(Ya(I.node(),0,Se.y).y,T,"height",(Oe,Qe)=>Oe-Qe);return v.style.top=`${v.offsetTop+Ye}px`,v.style.height=`${v.offsetHeight-Ye}px`,oe(),be(j,Ye,"height","y")}function ve(Se){let Ye=-f(Ya(j.node(),0,Se.dy).y,T,"height",(Oe,Qe)=>Oe+Qe);return s(Ye,"y",j,Se)?!1:(v.style.height=`${v.offsetHeight-Ye}px`,oe(),be(j,Ye,"height","y"))}function oe(){let Se={top:v.style.top,left:v.style.left,height:v.style.height,width:v.style.width};n.legend={...n.legend,...Se}}function be(Se,Ye,Oe,Qe){return sD(T,Oe,Ye),cD(Se,Qe,Ye),uD(T,Ye,Oe,Oe==="height"?d5:f5),Ee(T),Ye!=0}function Ee(Se){le.attr("y",0),Ie.attr("y",0).attr("x",Se.attr("width")-e),he.attr("y",Se.attr("height")-e).attr("x",Se.attr("width")-e),U.attr("y",Se.attr("height")-e).attr("x",0)}function De(Se,Ye,Oe){!!a[Se]&&a[Se]<M[Se]&&(v.style[Se]=`${a[Se]}px`,be(Oe,M[Se]-a[Se],Se,Ye))}};l.on=(m,x)=>(i.push({event:m,execute:x}),l),l.zIndex=m=>(t=m,l),l.settings=(...m)=>m.length?(n=m[0],l):n,l.minWidth=m=>(r.width=m,a.width&&(a.width=Math.max(r.width,a.width)),l),l.minHeight=m=>(r.height=m,a.height&&(a.height=Math.max(r.height,a.height)),l),l.handleWidth=m=>(e=m,l),l.maxWidth=m=>(a.width=m,r.width=Math.min(r.width,a.width),l),l.maxHeight=m=>(a.height=m,r.height=Math.min(r.height,a.height),l);function s(m,x,v,M){let T=(C,D,R,B)=>C<0&&B[D]<Number(R.attr(D)),A=(C,D,R,B)=>C>0&&B[D]>Number(R.attr(D));return T(m,x,v,M)||A(m,x,v,M)}function f(m,x,v,M){let T=M(Number(x.attr(v)),m);if(T<r[v]){let A=r[v]-T;return M(m,A)}if(!!a[v]&&T>a[v]){let A=a[v]-T;return M(m,A)}return m}return l}var uD=(e,t,n,r)=>{e.selectAll(`.${r}`).each((i,o,l)=>{let s=l[o];Re(s).attr(n,s.getBoundingClientRect()[n]-t)})},lD=e=>e.select(`#${h5}`).size()>0,cD=(e,t,n)=>e.attr(t,Number(e.attr(t))-n),sD=(e,t,n)=>e.attr(t,e.node().getBoundingClientRect()[t]-n);var g5=16,v5=20,vg=(e,t)=>{let n=e||Ks(),r=[],a=1,i,o=t.legend&&t.legend.pageIndex?t.legend.pageIndex:0,l=()=>{},s=s5().settings(t),f,m=V=>{r=n.scale().domain(),f=p5().settings(t).maxHeight(r.length*g5+v5).on("resize",()=>x(V)),f(V),s(V),x(V)},x=V=>{C(V),v(V),M(V),c5(V)},v=V=>{let I=R(V);I.style("display",a<=1?"none":"block"),I.select("#page-text").text(`${o+1}/${a}`),I.select("#up-arrow").attr("class",o===0?"disabled":"").on("click",()=>{o>0&&(T(o-1),x(V))}),I.select("#down-arrow").attr("class",o>=a-1?"disabled":"").on("click",()=>{o<a-1&&(T(o+1),x(V))})},M=V=>{a>1&&n.cellFilter(A()),V.select("g.legendCells").remove();let I=B(V);I.call(n);let O=V.select("g.legendCells").node().getBBox();I.attr("height",O.height+v5),l(V)},T=V=>{o=V,t.legend={...t.legend,pageIndex:o}},A=()=>(V,I)=>I>=i*o&&I<i*o+i,C=V=>{let I=V.node().getBoundingClientRect(),O=Math.floor(I.height/g5)-1;i=O<r.length?O-1:O,a=D(O),o=Math.min(o,a-1)},D=V=>Math.ceil(r.length/V),R=V=>$t(V,".legend-controls",()=>V.append("g").attr("class","legend-controls").html(l5)),B=V=>$t(V,".legend",()=>V.append("svg").attr("class","legend"));return m.decorate=(...V)=>V.length?(l=V[0],m):l,(0,y5.rebindAll)(m,n),m};var b5=e=>vg(Ks().shape("circle").shapeRadius(6),e),fD=e=>vg(o5().shapePadding(1).labelOffset(3),e),Mn=()=>yg(b5),bl=()=>yg(fD,w5),x5=()=>yg(b5,w5);function w5(e){if(!e)return null;let t=e.domain(),n=e.range().map(r=>Ou().type(r)());return hr().domain(t).range(n)}function yg(e,t=void 0){let n={},r=null,a=null,i=o=>{if(r&&r.range().length>1){let l=e(n);l.scale(r).orient("vertical").on("cellclick",function(f){let m=this.__data__;n.hideKeys=n.hideKeys||[],n.hideKeys.includes(m)?n.hideKeys=n.hideKeys.filter(x=>x!==m):n.hideKeys.push(m),Ro(this)._draw()}),l.labels(f=>{let m=String(f.domain[f.i]).split("|");return n.mainValues.length<=1&&m.length>1?m.slice(0,m.length-1).join("|"):f.domain[f.i]});let s=$t(o,"div.legend-container",()=>o.append("div"));l.decorate(f=>{let m=v=>n.hideKeys&&n.hideKeys.includes(v),x=f.select("g.legendCells").attr("transform","translate(20,20)").selectAll("g.cell");x.classed("hidden",m),x.append("title").html(v=>v),a&&x.select("circle, path").style("fill",v=>m(v)?null:a(v)).style("stroke",v=>m(v)?null:Br(a(v)))}),s.attr("class","legend-container").attr("borderbox-on-hover",!0).style("z-index","2").call(l)}};return i.settings=(...o)=>o.length===0?n:(n=o[0],i),i.scale=(...o)=>o.length?(r=t?t(o[0]):o[0],i):r,i.color=(...o)=>o.length?(a=o[0],i):a,i}function tr(e,t=void 0){let n=t||e.data;return(e.hideKeys?.length??0)>0?n.map(a=>{let i={...a};return e.hideKeys.forEach(o=>{delete i[o]}),i}):n}function Yo(e){let t=e.data,n=e.hideKeys?.length??0,r=e.splitValues.length;return n>0?r===0?t.filter(a=>Object.values(a).reduce((i,o)=>i&&!e.hideKeys.includes(o),!0)):t.map(a=>{let i=Object.entries(a).filter(([o,l])=>!e.hideKeys.includes(Ba(o)));return Object.fromEntries(i)}):t}var $a=ht(Mt(),1),dD=e=>(t,n)=>t.style("stroke-width",r=>"1.0").style("stroke",r=>bg(r,e));function bg(e,t){return e===0?t?t.textStyles.color:"#666":t?t.colorStyles.grid.gridLineColor:"#bbb"}var mD=e=>(t,n)=>{t.strokeStyle=bg(n,e),t.lineWidth=1},hD=(e,t)=>e.style("display","none"),pD=e=>(t,n)=>{t.lineWidth=1,t.strokeStyle=bg(n,e)},en=(e,t)=>{let n="both",r=!1,a=null,i=null,o=null,l=$a.seriesSvgMulti(),s=$a.annotationSvgGridline(),f=dD(t),m=hD,x=function(...v){r&&(l=$a.seriesCanvasMulti().context(o),s=$a.annotationCanvasGridline(),f=mD(t),m=pD(t));let M=l.xScale(a).yScale(i),T=n==="vertical"?m:f,A=n==="horizontal"?m:f,C=s.xDecorate(T).yDecorate(A);return M.series([C,e])(...v)};return x.orient=(...v)=>v.length?(n=v[0],x):n,x.canvas=(...v)=>v.length?(r=v[0],x):r,x.xScale=(...v)=>v.length?(a=v[0],x):a,x.yScale=(...v)=>v.length?(i=v[0],x):i,x.context=(...v)=>v.length?(o=v[0],x):o,x};var _5=ht(Mt(),1),Cn=()=>{let e=Os(),t=n=>{let r=e.pad(),a=e.padUnit(),i=1;switch(a){case"domain":break;case"percent":{i=n[1]-n[0];break}default:throw new Error("Unknown padUnit: "+a)}let o=n[0]-r[0]*i,l=n[1]+r[1]*i;return n[0]=n[0]>=0&&o<0?0:o,n[1]=n[1]<=0&&l>0?0:l,n};return t.pad=function(...n){return e.pad()},t.padUnit=function(...n){return e.padUnit()},_5.rebindAll(t,e),t};var S5=`<button id="zoom-reset">Reset zoom</button>
<button id="one-year">1 Year</button>
<button id="six-months">6 Months</button>
<button id="one-month">1 Month</button>
`;var tn=()=>{let e=null,t=null,n=null,r=null,a=null,i=null,o=!1,l=!1,s=()=>{};function f(M){let T=`d3fc-${l?"canvas":"svg"}.plot-area`;if(n||a){let A=r&&r.domain()[0]instanceof Date,C=Ms().on("zoom",R=>{let{transform:B}=R;t.zoom={k:B.k,x:B.x,y:B.y},m(B),M.call(e);let V=B.k===1&&B.x===0&&B.y===0,I=x(M).style("display",V?"none":"");I.select("#zoom-reset").on("click",()=>M.select(T).call(C.transform,Or));let O=I.select("#one-year").style("display",A?"":"none"),j=I.select("#six-months").style("display",A?"":"none"),K=I.select("#one-month").style("display",A?"":"none");if(A){let ye=ge=>()=>{let le=new Date(n.domain()[0]),Ie=new Date(le);ge(le,Ie);let he=r.range(),U=(he[1]-he[0])/(r(Ie)-r(le)),_e=-r(le)*U,ne=0;if(a){let ie=a.domain().reduce((ve,oe)=>ve+oe)/2;ne=-i(ie)*U+a(ie)}M.select(T).call(C.transform,Or.translate(_e,ne).scale(U))};O.on("click",ye((ge,le)=>le.setYear(ge.getFullYear()+1))),j.on("click",ye((ge,le)=>le.setMonth(ge.getMonth()+6))),K.on("click",ye((ge,le)=>le.setMonth(ge.getMonth()+1)))}}),D=e.decorate();e.decorate((R,B)=>{if(D(R,B),!o){o=!0;let V=R.select(T),I=l?window.devicePixelRatio:1;V.on("measure.zoom-range",O=>{if(r&&r.range([0,O.detail.width/I]),i&&i.range([0,O.detail.height/I]),t.zoom){let j=Or.translate(t.zoom.x,t.zoom.y).scale(t.zoom.k);V.call(C.transform,j)}}).call(C)}})}M.call(e)}f.chart=(...M)=>M.length?(e=M[0],f):e,f.settings=(...M)=>M.length?(t=M[0],f):t,f.xScale=(...M)=>M.length?(n=v(M[0]),r=n?n.copy():null,f):n,f.yScale=(...M)=>{if(!M.length)return a;if(a=v(M[0]),i=a?a.copy():null,i){let T=i.domain();i.domain([T[1],T[0]])}return f},f.canvas=(...M)=>M.length?(l=M[0],f):l,f.onChange=(...M)=>M.length?(s=M[0],f):s;let m=M=>{let T={...M};if(n&&(n.domain(M.rescaleX(r).domain()),T.xDomain=n.domain()),a){let A=M.rescaleY(i).domain();a.domain([A[1],A[0]]),T.yDomain=a.domain()}s(T)},x=M=>$t(M,".zoom-controls",()=>M.append("div").attr("class","zoom-controls").style("display","none").html(S5)),v=M=>M&&M.nice?M:null;return f};function C5(e,t){let n=$s(t,tr(t)),r=Fr(t),a=Mn().settings(t).scale(r),i=Ys(t,r).orient("horizontal"),o=M5.seriesSvgMulti().mapping((x,v)=>x[v]).series(n.map(()=>i)),l=Lt(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[0]).excludeType(Pt.ordinal).include([0]).paddingStrategy(Cn())(n),s=Lt(t).excludeType(Pt.linear).settingName("crossValues").valueName("crossValue").orient("vertical")(n),f=Jn(l,s).plotArea(en(o,t).orient("horizontal"));f.yPaddingInner&&(f.yPaddingInner(.5),f.yPaddingOuter(.25),i.align("left")),f.xNice&&f.xNice();let m=tn().chart(f).settings(t).yScale(s.scale);e.datum(n).call(m),e.call(a)}C5.plugin={name:"X Bar",category:"X Chart",max_cells:1e3,max_columns:50,render_warning:!0,initial:{names:["X Axis"]}};var T5=C5;var L5=ht(Mt(),1);var D5=(e,t)=>{if(!A5(e)||!A5(t))return;let n=k5(e),r=k5(t);n>r?t[0]=V5(t,n):e[0]=V5(e,r)},A5=e=>e.length===2&&!isNaN(e[0])&&!isNaN(e[1])&&e[0]!==e[1],k5=e=>(0-e[0])/(e[1]-e[0]),V5=(e,t)=>t*e[1]/(t-1);var N5=ht(Mt(),1);var E5=e=>{let t=[],n=!1,r,a=o=>{o.text("");let l=N5.dataJoin("span","splitter-label").key(m=>m),s=!n&&t.length===1,f=r&&e.splitValues.length===0;l(o,t).classed("disabled",s).text(m=>m.name).style("color",m=>f?Br(r(m.name)):void 0).on("click",(m,x)=>{s||(n?e.splitMainValues=e.splitMainValues.filter(v=>v!=x.name):e.splitMainValues=[x.name].concat(e.splitMainValues||[]),m.target.getRootNode().host.closest("perspective-viewer")?.dispatchEvent(new Event("perspective-config-update")),i(o))})},i=o=>{let l=Ro(o.node());l._container.innerHTML="",l._draw()};return a.labels=(...o)=>o.length?(t=o[0],a):t,a.alt=(...o)=>o.length?(n=o[0],a):n,a.color=(...o)=>o.length?(r=o[0],a):r,a};var Ua=(e,t,n=vD)=>{let r,a,i,o=e.splitMainValues||[],l=m=>{let x=m.split("|");return o.includes(x[x.length-1])},s=e.mainValues.some(m=>l(m.name));a=s?n(t,m=>!l(m)):t,i=s?n(t,l):null;let f=m=>{if(e.mainValues.length===1)return;let x=e.mainValues.map((A,C)=>({index:C,name:A.name})),v=x.filter(A=>!l(A.name)),M=x.filter(A=>l(A.name)),T=()=>E5(e).color(r);m.select(".y-label.left-label").call(T().labels(v)),m.select(".y-label.right-label").call(T().labels(M).alt(!0))};return f.color=(...m)=>m.length?(r=m[0],f):r,f.haveSplit=()=>s,f.data=(...m)=>m.length?(a=m[0],f):a,f.altData=(...m)=>m.length?(i=m[0],f):i,f},vD=(e,t)=>e.map(n=>n.filter(r=>t(r.key))),xg=(e,t)=>e.map(n=>t(n.key)?n:n.map(r=>Object.assign({},r,{mainValue:null}))),P5=(e,t)=>e.map(n=>xg(n,t));function O5(e,t){let n=$s(t,tr(t)),r=Fr(t),a=Mn().settings(t).scale(r),i=Ys(t,r).orient("vertical"),o=L5.seriesSvgMulti().mapping((A,C)=>A[C]).series(n.map(()=>i)),l=Lt(t).excludeType(Pt.linear).settingName("crossValues").valueName("crossValue")(n),s=Lt(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).excludeType(Pt.ordinal).orient("vertical").include([0]).paddingStrategy(Cn()),f=t.mainValues.length>1?P5:xg,m=Ua(t,n,f).color(r),x=s(m.data()),v=m.haveSplit()?o:en(o,t).orient("vertical"),M=Jn(l,x).axisSplitter(m).plotArea(v);M.xPaddingInner&&(M.xPaddingInner(.5),M.xPaddingOuter(.25),i.align("left")),M.yNice&&M.yNice();let T=tn().chart(M).settings(t).xScale(l.scale);if(m.haveSplit()){let A=s(m.altData());D5(x.domain,A.domain),M.yDomain(x.domain).altAxis(A)}e.datum(m.data()).call(T),e.call(a)}O5.plugin={name:"Y Bar",category:"Y Chart",max_cells:1e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var I5=O5;var F5=ht(Mt(),1);var z5=ht(Mt(),1);function Wo(e,t){let n=z5.seriesSvgLine(),r=e.data.length*(e.data?.length>0?Object.keys(e.data[0]).length-(e.crossValues?.length>0?1:0):0),a=Math.max(1,Math.min(3,Math.floor(e.size.width/r/2)));return n=n.decorate(i=>{i.style("stroke",o=>Br(t(o[0]&&o[0].key))).style("stroke-width",a)}),n.crossValue(i=>i.crossValue).mainValue(i=>i.mainValue)}function R5(e,t){let n=er(e);return t.map((r,a)=>Object.keys(r).filter(i=>i!=="__ROW_PATH__").map(i=>({key:i,crossValue:n(r,a),mainValue:r[i],row:r})))}var Js=function(e){let t=[];for(let n of e)for(let r=0;r<n.length;r++)n[r].mainValue!==null&&(t[r]=t[r]||[],t[r].push(n[r]));return t};var ef=ht(Mt(),1);var wg=(e,t,n=Math.min)=>{let r=o=>o.reduce((l,s)=>{let f=a(s);return f&&(!l||n(l.value,f.value)===f.value)?f:l},null),a=o=>{if(Array.isArray(o))return r(o);let l=t(o);return l!==null?{item:o,value:l}:null},i=r(e);return i?i.item:null};var Bn=()=>{let e=Fa().alwaysShow(!0),t=null,n=null,r=null,a=null,i=!1,o=null,l="crossValue",s="mainValue",f=null,m=1,x=T=>{let A=`d3fc-${i?"canvas":"svg"}.plot-area`;if(t||n){let C=null,D=ef.pointer().on("point",R=>{let B=R.length?M(R[0]):null;C=B?[B.data]:[];let V=B?B.scale:n;v(T,C,V)});T.select(A).on("measure.nearbyTip",()=>v(T,[])).on("click",()=>{C.length&&dl(T.node(),C[0],e.settings())}).call(D)}},v=(T,A,C=n)=>{let D=T.select("d3fc-svg.plot-area svg").selectAll("circle.nearbyTip").data(A);D.exit().remove(),D.enter().append("circle").attr("class","nearbyTip").merge(D).attr("r",R=>a?m*Math.sqrt(a(R.size)):10).attr("transform",R=>`translate(${t(R[l])},${C(R[s])})`).style("stroke","none").style("fill",R=>r&&R.key&&Yi(r(R.key))),e(D)},M=T=>{let A=R=>B=>B[s]===void 0||B[s]===null||B[l]===void 0||B[l]===null?null:Math.sqrt(Math.pow(t(B[l])-T.x,2)+Math.pow(R(B[s])-T.y,2)),C=A(n),D=wg(o,C,Math.min);if(f){let R=A(f.yScale),B=wg(f.data,R,Math.min);return C(D)<=R(B)?{data:D,scale:n}:{data:B,scale:f.yScale}}return{data:D,scale:n}};return x.scaleFactor=(...T)=>T.length?(m=T[0],x):m,x.xScale=(...T)=>T.length?(t=T[0],x):t,x.yScale=(...T)=>T.length?(n=T[0],x):n,x.color=(...T)=>T.length?(r=T[0],x):r,x.size=(...T)=>T.length?(a=T[0]?T[0].copy().range([40,4e3]):null,x):a,x.canvas=(...T)=>T.length?(i=T[0],x):i,x.data=(...T)=>T.length?(o=T[0],x):o,x.xValueName=(...T)=>T.length?(l=T[0],x):l,x.yValueName=(...T)=>T.length?(s=T[0],x):s,x.altDataWithScale=(...T)=>T.length?(f=T[0],x):f,x.settings=(...T)=>T.length?(e.settings(T[0]),x):e.settings(),ef.rebindAll(x,e),x};function B5(e,t){let n=R5(t,tr(t)),r=Fr(t),a=Mn().settings(t).scale(r),i=F5.seriesSvgRepeat().series(Wo(t,r)).orient("horizontal"),o=Cn().pad([.1,.1]).padUnit("percent"),l=Ua(t,Js(n)).color(r),s=Lt(t).excludeType(Pt.linear).settingName("crossValues").valueName("crossValue")(n),f=Lt(t).settingName("mainValues").valueName("mainValue").memoValue(l.haveSplit()?null:t.axisMemo[0]).orient("vertical").paddingStrategy(o),m=f(l.data()),x=l.haveSplit()?i:en(i,t).orient("vertical"),v=Jn(s,m).axisSplitter(l).plotArea(x);v.yNice&&v.yNice();let M=tn().chart(v).settings(t).xScale(s.scale),T=Bn().settings(t).xScale(s.scale).yScale(m.scale).color(r).data(n);if(l.haveSplit()){let C=f(l.altData());v.altAxis(C),T.data(l.data()).altDataWithScale({yScale:C.scale,data:l.altData()})}let A=l.data();e.datum(A).call(M),e.call(T),e.call(a)}B5.plugin={name:"Y Line",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var H5=B5;var G5=ht(Mt(),1);var Y5=ht(Mt(),1);var _g=Math.sqrt(3),yD={draw:function(e,t){let n=Math.sqrt(t/(_g*3));e.moveTo(0,n*2),e.lineTo(-_g*n,-n),e.lineTo(_g*n,-n),e.closePath()}},bD=[sr,_i,Si,Mi,Ci,Ti,Ai],Sg={circle:sr,square:Mi,cross:_i,diamond:Si,star:Ci,triangle:Ti,wye:Ai,nabla:yD};function xl(e){return e.length>1?hr().domain(e).range(bD):null}var xD=8,wD=1;function W5(e,t,n,r,a,i,o=1){let l=(0,Y5.seriesCanvasPoint)().crossValue(s=>s.x).mainValue(s=>s.y);return i&&l.type(s=>i(s.row[t])),n&&l.size(s=>Math.round(o*n(s.size))),l.decorate((s,f)=>{let m=r(f.colorValue),x=e.colorStyles?.opacity;if(a){let{type:v}=e.mainValues.find(T=>T.name===a),M=oa(v,f.row[a]);if(M!==null){s.fillStyle=e.textStyles.color,s.font=e.textStyles.font;let T=0;n&&(T=Math.sqrt(o*n(f.size)/Math.PI)*wD);let A=T+xD;s.fillText(M,A,4)}}s.strokeStyle=Br(m),s.fillStyle=Yi(m,x)}),l}function $5(e,t){let n=[...new Set(Ws(e,t))];return xl(n)}function U5(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=[];return Object.keys(t).forEach(r=>{if(r!=="__ROW_PATH__"){let a=Ba(r);n.includes(a)||n.push(a)}}),xl(n)}function q5(e,t){let n=e.mainValues.length;return t.map(r=>{let a=Object.keys(r).filter(o=>o!=="__ROW_PATH__"),i=new Array(a.length/n);for(let o=0;o<a.length/n;o++)i[o]={key:Ba(a[o*n]),crossValue:r[a[o*n]],mainValue:r[a[o*n+1]],row:r};return i})}function X5(e,t){let n=Js(q5(t,Yo(t))),r=u6(t),a=U5(t),i=null;r.domain().length>=2&&(i=x5().settings(t).scale(a).color(r));let o=G5.seriesSvgRepeat().series(Wo(t,r)).orient("horizontal"),l=Cn().pad([.1,.1]).padUnit("percent"),s=Lt(t).settingName("mainValues").settingValue(t.mainValues[0].name).valueName("crossValue").memoValue(t.axisMemo[0]).paddingStrategy(l),m=Lt(t).settingName("mainValues").settingValue(t.mainValues[1].name).valueName("mainValue").memoValue(t.axisMemo[1]).orient("vertical").paddingStrategy(l)(n),x=s(n),v=en(o,t).orient("vertical"),M=Jn(x,m).xLabel(t.mainValues[0].name).yLabel(t.mainValues[1].name).plotArea(v);M.xNice&&M.xNice(),M.yNice&&M.yNice();let T=tn().chart(M).settings(t).xScale(x.scale).yScale(m.scale),A=Bn().settings(t).xScale(x.scale).yScale(m.scale).color(r).data(n);e.datum(n).call(T),e.call(A),i&&e.call(i)}X5.plugin={name:"X/Y Line",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Tooltip"]},selectMode:"toggle"};var j5=X5;var wl=ht(Mt(),1);var Q5=ht(Mt(),1);function Z5(e,t){let n=Q5.seriesSvgArea();return n=n.decorate(r=>{r.style("fill",a=>t(a[0].key)).style("opacity",.5)}),n.crossValue(r=>r.crossValue).mainValue(r=>r.mainValue).baseValue(r=>r.baseValue)}function K5(e,t){let n=er(e);return t.map((r,a)=>{let i={};return Object.keys(r).filter(o=>o!=="__ROW_PATH__").map(o=>{let l=o.split("|"),s=l[l.length-1],f=i[s]||0,m=f+r[o];return i[s]=m,{key:o,crossValue:n(r,a),mainValue:m,baseValue:f,row:r}})})}function J5(e,t){let n=K5(t,tr(t)),r=Fr(t),a=Mn().settings(t).scale(r),i=wl.seriesSvgRepeat().series(Z5(t,r).orient("vertical")),o=wl.seriesSvgRepeat().series(Wo(t,r)).orient("vertical"),l=wl.seriesSvgMulti().series([i,o]),s=Lt(t).excludeType(Pt.linear).settingName("crossValues").valueName("crossValue")(n),f=Lt(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).excludeType(Pt.ordinal).orient("vertical").include([0]).paddingStrategy(Cn()),m=Ua(t,n).color(r),x=f(m.data()),v=m.haveSplit()?l:en(l,t).orient("vertical"),M=Jn(s,x).axisSplitter(m).plotArea(v);M.yNice&&M.yNice();let T=tn().chart(M).settings(t).xScale(s.scale),A=Bn().settings(t).xScale(s.scale).yScale(x.scale).color(r).data(n);if(m.haveSplit()){let C=f(m.altData());M.altAxis(C),A.data(m.data()).altDataWithScale({yScale:C.scale,data:m.altData()})}e.datum(m.data()).call(T),e.call(A),e.call(a)}J5.plugin={name:"Y Area",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var e4=J5;var a4=ht(Mt(),1);var t4=ht(Mt(),1);function n4(e,t,n,r){let a=t4.seriesSvgPoint().size(100),i=e.colorStyles&&e.colorStyles.opacity;return r&&a.type(r(t)),a.decorate(o=>{o.style("stroke",l=>Br(n(l.colorValue||t))).style("fill",l=>Yi(n(l.colorValue||t),i))}),a.crossValue(o=>o.crossValue).mainValue(o=>o.mainValue)}function r4(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=Object.keys(t).filter(r=>r!=="__ROW_PATH__");return xl(n)}function i4(e,t){let n=c6(t,tr(t)),r=r4(t),a=Fr(t),i=bl().settings(t).scale(r).color(a),o=a4.seriesSvgMulti().mapping((C,D)=>C[D]).series(n.map(C=>n4(t,C.key,a,r))),l=Cn().pad([.05,.05]).padUnit("percent"),s=Lt(t).excludeType(Pt.linear).settingName("crossValues").valueName("crossValue")(n),f=Lt(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).orient("vertical").paddingStrategy(l),m=Ua(t,n).color(a),x=f(m.data()),v=m.haveSplit()?o:en(o,t).orient("vertical"),M=Jn(s,x).axisSplitter(m).plotArea(v);M.yNice&&M.yNice();let T=tn().chart(M).settings(t).xScale(s.scale),A=Bn().settings(t).xScale(s.scale).yScale(x.scale).color(a).data(n);if(m.haveSplit()){let C=f(m.altData());M.altAxis(C),A.data(m.data()).altDataWithScale({yScale:C.scale,data:m.altData()})}e.datum(m.data()).call(T),e.call(A),i&&e.call(i)}i4.plugin={name:"Y Scatter",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var o4=i4;function u4(e,t){return $i(e,t,{excludeEmpty:!0}).map(n=>_D(e,n))}function _D(e,t){let n=er(e),r=t.map((a,i)=>({crossValue:n(a,i),mainValues:e.mainValues.map(o=>a[o.name]),x:a[e.mainValues[0].name],y:a[e.mainValues[1].name],colorValue:e.realValues[2]?a[e.realValues[2]]:void 0,size:e.realValues[3]?a[e.realValues[3]]:void 0,key:t.key,row:a}));return r.key=t.key,r}function l4(e,t,n,r){return ia().domain(c4(t,n,r))}function qa(e,t,n,r=null){let a=c4(t,n,r),i=e.colorStyles.gradient.full;if(a[0]>=0)i=e.colorStyles.gradient.positive;else if(a[1]<=0)i=e.colorStyles.gradient.negative;else{let l=Math.max(-a[0],a[1]);a=[-l,l]}let o=SD(i);return fl(o).domain(a)}var c4=(e,t,n)=>n||Jp().valueName(t).pad([0,0])(e),SD=e=>{let t=e.slice(1).map((n,r)=>Kt(e[r][1],n[1]));return n=>{let r=e.findIndex((l,s)=>s<e.length-1&&n<=e[s+1][0]&&n>l[0]);if(r===-1)return n<=e[0][0]?e[0][1]:e[e.length-1][1];let a=t[r],[i]=e[r],[o]=e[r+1];return a((n-i)/(o-i))}};var Ga=ht(Mt(),1);function Xa(){let e=null;function t(n){let r=$t(n,"div.legend-container",()=>n.append("div").attr("class","legend-container legend-color").style("z-index","2")),{width:a,height:i}=r.node().getBoundingClientRect(),o=ra().domain([0,1]).range([0,a]),l=e.copy().nice().domain(),s=Ga.extentLinear().pad([.1,.1]).padUnit("percent")(l),[f,m]=s,x=oi(f,m,(m-f)/i),v=ia().domain(s).range([i,0]),M=Ga.autoBandwidth(Ga.seriesSvgBar()).xScale(o).yScale(v).crossValue(0).baseValue((I,O)=>x[Math.max(0,O-1)]).mainValue(I=>I).decorate(I=>{I.selectAll("path").style("fill",O=>e(O))}),T=l[0]<0&&l[1]>0?0:Math.round((l[1]+l[0])/2),A=[...l,T],C=Is(f,m),D=Ga.axisRight(v).tickValues(A).tickSizeOuter(0).tickFormat(I=>C(I)),R=$t(r,"svg",()=>r.append("svg")).style("width",a).style("height",i),B=$t(R,"g",()=>R.append("g")).datum(x).call(M),V=Math.abs(B.node().getBBox().x);$t(R,"#legend-axis",()=>R.append("g").attr("id","legend-axis")).attr("transform",`translate(${V})`).datum(x).call(D).select(".domain").attr("visibility","hidden")}return t.scale=(...n)=>n.length?(e=n[0],t):e,t}function $o(){let e="element-prefix-unset",t=null,n=null,r=null,a=null,i=null,o=null,l=!0,s=null,f=m=>{let x=$t(m,"div.outer-container",()=>m.append("div").attr("class","outer-container").style("width",`calc(100% - ${s??0})`).style("height",`calc(100% - ${s??0})`).style("padding-left",s??0)),v=$t(x,"div.inner-container",()=>x.append("div").attr("class","inner-container")),M=x.node().getBoundingClientRect(),T=M.height,A=M.width-(i?70:0),C=300,D=m.datum(),R=Math.max(1,Math.min(D.length,Math.floor(A/C))),B=Math.ceil(D.length/R);o={width:A/Math.max(R,1),height:Math.min(T,Math.max(T/B,A/Math.max(R,1)))},T/B>o.height*.75&&(o.height=T/B),D.length>1?(v.style("grid-template-columns",`repeat(${R}, ${100/R}%)`),v.style("grid-template-rows",`repeat(${B}, ${o.height}px)`)):(v.style("grid-template-columns","repeat(1, 100%)"),v.style("grid-template-rows","repeat(1, 100%)")),r=v.selectAll(`div.${e}-container`).data(D,V=>V.split),r.exit().remove(),n=r.enter().append("div").attr("class",`${e}-container`),a=n.append("div").attr("class","title-container").style("text-align","center").attr("display","inline-block").append("text").attr("class","title").style("text-align","left"),l?t=n.append("svg").append("g").attr("class",e):t=n.append("div").attr("class",e)};return f.padding=(...m)=>m.length?(s=m[0],f):s,f.svg=(...m)=>m.length?(l=m[0],f):l,f.elementsPrefix=(...m)=>m.length?(e=m[0],f):e,f.chartContainer=()=>t,f.chartEnter=()=>n,f.chartDiv=()=>r,f.chartTitle=()=>a,f.containerSize=()=>o,f}var s4=ht(Mt(),1);function MD([e,t],[n,r]){let a=(r-t)/(n-e),i=r-a*n;return function(o){let l=o.node(),s=Math.min(l.clientWidth,l.clientHeight);return Math.min(r,Math.max(t,a*s+i))}}function tf(){let e=null,t=null,n=null,r=null,a=i=>{let l=!!e.realValues[2],s=e.realValues[4],f=e.realValues[3]?l4(e,t,"size").range([10,1e4]):null,m=e.realValues[5],x=MD([600,.1],[1600,1])(i),v=s4.seriesCanvasMulti().mapping((I,O)=>I[O]).series(t.map(()=>W5(e,s,f,n,m,r,x))),M=()=>Lt(e).settingName("mainValues").paddingStrategy(Cn()).pad([.1,.1]),T=M().settingValue(e.mainValues[0].name).memoValue(e.axisMemo[0]).valueName("x")(t),A=M().orient("vertical").settingValue(e.mainValues[1].name).memoValue(e.axisMemo[1]).valueName("y")(t),[C,D]=e.splitValues.length===0?[e.mainValues[0].name,e.mainValues[1].name]:["",""],R=Bo(T,A).xLabel(C).yLabel(D).plotArea(en(v,e).canvas(!0));R.xNice&&R.xNice(),R.yNice&&R.yNice();let B=tn().chart(R).settings(e).xScale(T.scale).yScale(A.scale).canvas(!0),V=Bn().scaleFactor(x).settings(e).canvas(!0).xScale(T.scale).xValueName("x").yValueName("y").yScale(A.scale).color(!l&&n).size(f).data(t);i.datum(t).call(B),i.call(V)};return a.settings=(...i)=>i.length?(e=i[0],a):e,a.data=(...i)=>i.length?(t=i[0],a):t,a.color=(...i)=>i.length?(n=i[0],a):n,a.symbols=(...i)=>i.length?(r=i[0],a):r,a}function CD(e,t){if(!t)return;let n=e.realValues[4],r=e.mainValues.find(s=>s.name===n)?.type,a=t.domain(),i=t.range(),o=i.length;for(let[s,f]of a.entries())i[s]=i[s%o];let l=e.columns_config?.[n]?.symbols??{};return Object.entries(l).forEach(([s,f])=>{let m=Sg[f]??sr,x=a.findIndex(v=>{switch(r){case"date":case"datetime":return new Date(v).valueOf()===new Date(s).valueOf();default:return String(v)===String(s)}});i[x]=m}),t.range(i),t}function nf(e,t){let n=t.realValues[2],r=!!n,a=t.mainValues.find(x=>x.name===n)?.type==="string",i=null,o=null,l=t.realValues[4],s=$5(t,l),f=CD(t,s),m=u4(t,Yo(t));if(r&&a?l?(t.splitValues.length>0?i=Hi(t,m):i=Hi(t,m[0]),o=bl().settings(t).scale(f)):(i=o6(t,n),o=Mn().settings(t).scale(i)):r?(i=qa(t,m,"colorValue"),o=Xa().scale(i)):(i=pr().settings(t).domain([""])(),o=bl().settings(t).scale(f)),t.splitValues.length!==0){let x=$o().svg(!1).elementsPrefix("xy-scatter");x=x.padding("2.5em"),e.append("div").attr("class","multi-xlabel").append("p").text(t.mainValues[0].name),e.append("div").attr("class","multi-ylabel").append("p").text(t.mainValues[1].name).style("transform","rotate(-90deg)").style("text-wrap","nowrap"),e=e.datum(m),e.call(x);let T=x.chartContainer(),A=x.chartEnter(),C=x.chartDiv(),D=x.chartTitle(),R=x.containerSize();D.each((B,V,I)=>Re(I[V]).text(B.key)),A.merge(C).attr("transform",`translate(${R.width/2}, ${R.height/2})`).each(function(B){let V=Re(this);tf().settings(t).data([B]).color(i).symbols(f)(V)})}else tf().settings(t).data(m).color(i).symbols(f)(e);o&&e.call(o)}nf.plugin={name:"X/Y Scatter",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Color","Size","Symbol","Label","Tooltip"]},selectMode:"toggle"};nf.can_render_column_styles=(e,t)=>e==="string"&&t==="Symbol";nf.column_style_controls=(e,t)=>e==="string"&&t==="Symbol"?{symbols:{keys:"row",values:Object.keys(Sg)}}:null;var f4=nf;var rf=ht(Mt(),1);function d4(e,t){let n=rf.seriesCanvasHeatmap();return n.decorate((r,a)=>{r.fillStyle=t(a.colorValue)}),rf.autoBandwidth(n).xValue(r=>r.crossValue).yValue(r=>r.mainValue).colorValue(r=>r.colorValue).colorInterpolate(t.interpolator()).widthFraction(1)}function m4(e,t){let n=er(e),r=Lo(e).excludeType(Pt.linear).settingName("splitValues")(),a=[];return t.forEach((i,o)=>{let l=n(i,o);Object.keys(i).filter(s=>s!=="__ROW_PATH__").forEach(s=>{let f=TD(s);a.push({crossValue:l,mainValue:r===Pt.time?new Date(f):f,colorValue:i[s],row:i})})}),a}function TD(e){let t=e.split("|");return t.pop(),t.join("|")}function h4(e,t){let n=m4(t,tr(t)),r=qa(t,n,"colorValue"),a=d4(t,r),i=Xa().scale(r),o=Lt(t).excludeType(Pt.linear).settingName("crossValues").valueName("crossValue")(n),l=Lt(t).excludeType(Pt.linear).settingName("splitValues").valueName("mainValue").modifyDomain(x=>!isNaN(x[0])?x.reverse():x).orient("vertical")(n),s=Bo(o,l).plotArea(en(a,t).canvas(!0));s.xPaddingInner&&(s.xPaddingInner(0),s.xPaddingOuter(0),a.xAlign("right")),s.yPaddingInner&&(s.yPaddingInner(0),s.yPaddingOuter(0),a.yAlign("top"));let f=tn().chart(s).settings(t).xScale(o.scale).yScale(l.scale).canvas(!0),m=Bn().settings(t).canvas(!0).xScale(o.scale).yScale(l.scale).color(r).data(n);e.datum(n).call(f),e.call(i),e.call(m)}h4.plugin={name:"Heatmap",category:"Hierarchial Chart",max_cells:5e4,max_columns:500,render_warning:!0,initial:{names:["Color"]}};var p4=h4;var y4=ht(Mt(),1);var af=ht(Mt(),1);function g4(e,t){return $i(e,t,{excludeEmpty:!0}).map(n=>AD(e,n))}function AD(e,t){let n=er(e),r=i=>t[i<t.length-1?i+1:i][e.realValues[0]],a=t.map((i,o)=>{let l=e.realValues[0]?i[e.realValues[0]]:void 0,s=e.realValues[1]?i[e.realValues[1]]:r(o);return{crossValue:n(i,o),mainValues:e.mainValues.map(f=>i[f.name]),openValue:l,closeValue:s,highValue:e.realValues[2]?i[e.realValues[2]]:Math.max(l,s),lowValue:e.realValues[3]?i[e.realValues[3]]:Math.min(l,s),key:t.key,row:i}});return a.key=t.key,a}var Uo=ht(Mt(),1);var kD=e=>e.closeValue>=e.openValue;function v4(e,t,n){let r=n.domain(),a=pr().domain(r).settings(e).defaultColors([e.colorStyles["series-2"]]).mapFunction(Wi(.5))(),i=pr().settings(e).domain(r)(),o=t().crossValue(f=>f.crossValue).openValue(f=>f.openValue).highValue(f=>f.highValue).lowValue(f=>f.lowValue).closeValue(f=>f.closeValue).decorate((f,m)=>{let x=kD(m)?n(m.key):a(m.key);f.fillStyle=x,f.strokeStyle=x}),l=Uo.seriesCanvasLine().mainValue(f=>f.bollinger.average).crossValue(f=>f.crossValue).decorate((f,m)=>{f.strokeStyle=i(m[0].key)}),s=Uo.seriesCanvasArea().mainValue(f=>f.bollinger.upper).baseValue(f=>f.bollinger.lower).crossValue(f=>f.crossValue).decorate((f,m)=>{f.fillStyle=Wi(.25)(i(m[0].key))});return Uo.seriesCanvasMulti().series([s,o,l])}function VD(e){return function(t,n){let r=g4(n,Yo(n)),a=af.indicatorBollingerBands().value(D=>D.openValue),i=r.map(D=>{let R=a(D);return D.map((B,V)=>Object.assign({bollinger:R[V]},B))}),o=r.map(D=>D.key).concat(n.hideKeys?n.hideKeys:[]).sort(),l=pr().domain(o).settings(n).mapFunction(Wi(1))(),s=Mn().settings(n).scale(o.length>1?l:null),f=v4(n,e,l),m=af.seriesCanvasMulti().mapping((D,R)=>D[R]).series(i.map(()=>f)),x=Cn().pad([.1,.1]).padUnit("percent"),v=Lt(n).settingName("crossValues").valueName("crossValue")(i),M=Lt(n).settingName("mainValues").valueNames(["lowValue","highValue"]).memoValue(n.axisMemo[1]).orient("vertical").paddingStrategy(x)(i),T=Bo(v,M).plotArea(en(m,n).orient("vertical").canvas(!0));T.yNice&&T.yNice();let A=tn().chart(T).settings(n).xScale(v.scale).onChange(D=>{let R=i.map(B=>B.filter(V=>V.crossValue>=D.xDomain[0]&&V.crossValue<=D.xDomain[1]));T.yDomain(M.domainFunction(R))}).canvas(!0),C=Bn().settings(n).xScale(v.scale).yScale(M.scale).yValueName("closeValue").color(l).data(i).canvas(!0);t.datum(i).call(A),t.call(C),t.call(s)}}var of=VD;var b4=of(y4.seriesCanvasOhlc);b4.plugin={name:"OHLC",category:"Y Chart",max_cells:3500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Open","Close","High","Low","Tooltip"]},selectMode:"toggle"};var x4=b4;var w4=ht(Mt(),1);var _4=of(w4.seriesCanvasCandlestick);_4.plugin={name:"Candlestick",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Open","Close","High","Low","Tooltip"]},selectMode:"toggle"};var S4=_4;function M4(e,t){if(e.realValues.length>1&&e.realValues[1]!==null){let n=e.realValues[1];if(e.mainValues.find(r=>r.name===n)?.type==="string"){let r=t.map(a=>a.data).filter(a=>a.height>0).map(a=>C4(a)).reduce((a,i)=>a.concat(i));return Hi(e,r)}else return qa(e,null,null,$8(t.map(r=>r.extents)))}}function C4(e,t=[]){return e.children&&e.children.length>0?e.children.forEach(n=>t.concat(C4(n,t))):e.data.color&&t.push(e.data.color),t}function uf(e){let t={},n=e.realValues.map(a=>a===null?null:e.mainValues.find(i=>i.name===a));return e.data.forEach((a,i)=>{let o=Array.isArray(a.__ROW_PATH__)?a.__ROW_PATH__:[];ND(a).forEach(s=>{let f;t[s]||(t[s]=[]),f=t[s],o.forEach((m,x)=>{let v=f.find(M=>M.name===m);if(v||(v={name:m,children:[]},f.push(v)),e.realValues.length>1&&e.realValues[1]!==null){let M=x===o.length-1,T=qo(M?a:e.agg_paths[i][x+1]||a,e.mainValues[1],s);T!==void 0&&(v.color=T)}if(e.realValues.length>2&&e.realValues[2]!==null){v.tooltip=[];for(let M=2;M<e.realValues.length;++M)v.tooltip.push(qo(a,n[M],s))}if(x===o.length-1){if(v.name=o.slice(-1)[0],e.crossValues.length===0)v.size=qo(a,e.mainValues[0],"");else if(o.length===e.crossValues.length){let M=qo(a,e.mainValues[0],s);v.size=M>0?M:0}}f=v.children})})}),Object.entries(t).map(a=>{let i={name:"root",children:a[1]},o=Pa(i).sum(s=>s.size),l=Ip().size([2*Math.PI,o.height+1])(o);return l.each(s=>{s.current=s,s.mainValues=e.realValues.length===1||e.realValues[1]===null&&e.realValues[2]===null?s.value:[s.value,s.data.color].concat(s.data.tooltip||[]).filter(f=>f!==void 0),s.crossValue=s.ancestors().slice(0,-1).reverse().map(f=>f.data.name),s.key=a[0],s.label=oa(e.crossValues[s.depth-1<0?0:s.depth-1]?.type||e.mainValues[0].type,s.data.name)}),{split:a[0],data:l,extents:DD(e,a)}})}var qo=(e,t,n)=>n.length?e[`${n}|${t.name}`]:e[t.name];function DD(e,[t,n]){if(e.realValues.length>1&&e.realValues[1]!==null){let r=Math.min(...e.data.map(i=>qo(i,e.mainValues[1],t))),a=Math.max(...n.map(i=>i.color));return[r,a]}}function ND(e){let t=[];return Object.keys(e).forEach(n=>{if(n!=="__ROW_PATH__"){let r=n.split("|").slice(0,-1).join("|");t.includes(r)||t.push(r)}}),t}var lf=e=>_c().startAngle(t=>t.x0).endAngle(t=>t.x1).padAngle(t=>Math.min((t.x1-t.x0)/2,.005)).padRadius(e).innerRadius(t=>Math.max(1,(t.y0-1)*e)).outerRadius(t=>Math.max((t.y0-1)*e,(t.y1-1)*e-1)),la=e=>e.y0>=1&&e.x1>e.x0;var _l=e=>e.y1<=3&&e.y0>=1&&(e.y1-e.y0)*(e.x1-e.x0)>.06;function cf(e,t){let n=(e.x0+e.x1)/2*180/Math.PI,r=(e.y0-1+(e.y1-1))/2*t;return`rotate(${n-90}) translate(${r},0) rotate(${n<180?0:180})`}function T4(e,t){let n=this.getBBox().width;if(n>t){let r=e.label,a=Re(this);for(;n>t;)r=r.substring(0,r.length-1),a.text(()=>r),n=this.getBBox().width;a.text(()=>`${r.substring(0,r.length-3).replace(/\s+$/,"")}...`)}}var A4=(e,t,n,r,a,i,o,l,s)=>(f,m)=>{s.sunburstLevel[l]=f.data.name,f.parent?(n.datum(f.parent),n.style("cursor","pointer"),r.html(`&#8682; ${f.label}`)):(n.datum(e),n.style("cursor","default"),r.html("")),e.each(v=>v.target={x0:Math.max(0,Math.min(1,(v.x0-f.x0)/(f.x1-f.x0)))*2*Math.PI,x1:Math.max(0,Math.min(1,(v.x1-f.x0)/(f.x1-f.x0)))*2*Math.PI,y0:Math.max(0,v.y0-f.depth),y1:Math.max(0,v.y1-f.depth)});let x=t.transition().duration(m?0:750);a.transition(x).tween("data",v=>{let M=Kt(v.current,v.target);return T=>v.current=M(T)}).filter(function(v){return+this.getAttribute("fill-opacity")||la(v.target)}).attr("fill-opacity",v=>la(v.target)?1:0).attr("user-select",v=>la(v.target)?"initial":"none").style("pointer-events",v=>la(v.target)?"initial":"none").attrTween("d",v=>()=>lf(o)(v.current)),i.filter(function(v){return+this.getAttribute("fill-opacity")||_l(v.target)}).transition(x).attr("fill-opacity",v=>+_l(v.target)).attrTween("transform",v=>()=>cf(v.current,o))};function k4(){let e=null,t=null,n=null,r=null,a=null,i=o=>{let l=o.selectAll("g.segment").data(n.descendants().slice(1)),s=l.enter().append("g").attr("class","segment");s.append("path"),s.append("text").attr("class","segment").attr("dy","0.35em");let f=s.merge(l),m=f.select("path").attr("fill-opacity",A=>la(A.current)?1:0).attr("user-select",A=>la(A.current)?"initial":"none").style("pointer-events",A=>la(A.current)?"initial":"none").attr("d",A=>lf(a)(A.current));r&&m.style("fill",A=>r(A.data.color));let x=f.select("text").attr("fill-opacity",A=>+_l(A.current)).attr("transform",A=>cf(A.current,a)).text(A=>A.label).each(function(A){T4.call(this,A,a)}),v=o.select("text.parent"),M=o.select("circle").attr("r",a).datum(n),T=A4(n,o,M,v,m,x,a,t,e);if(e.sunburstLevel){let A=n.descendants().find(C=>C.data.name===e.sunburstLevel[t]);A&&T(A,!0)}else e.sunburstLevel={};M.on("click",A=>T(A,!1)),m.filter(A=>A.children).style("cursor","pointer").on("click",A=>T(A,!1))};return i.settings=(...o)=>o.length?(e=o[0],i):e,i.split=(...o)=>o.length?(t=o[0],i):t,i.data=(...o)=>o.length?(n=o[0],i):n,i.color=(...o)=>o.length?(r=o[0],i):r,i.radius=(...o)=>o.length?(a=o[0],i):a,i}function V4(e,t){let n=uf(t),r=M4(t,n),a=$o().elementsPrefix("sunburst");if(e.datum(n).call(a),r){let m=t.realValues[1];if(t.mainValues.find(x=>x.name===m)?.type==="string"){let x=Mn().settings(t).scale(r);e.call(x)}else{let x=Xa().scale(r);e.call(x)}}let i=a.chartContainer(),o=a.chartEnter(),l=a.chartDiv(),s=a.chartTitle(),f=a.containerSize();s.each((m,x,v)=>Re(v[x]).text(m.split)),i.append("circle").attr("fill","none").style("pointer-events","all"),i.append("text").attr("class","parent"),o.merge(l).select("svg").select("g.sunburst").attr("transform",`translate(${f.width/2}, ${f.height/2})`).each(function({split:m,data:x}){let v=Re(this),M=this.parentNode,{width:T,height:A}=M.getBoundingClientRect(),C=(Math.min(T,A)-24)/Math.max(2,t.crossValues.length*2);k4().settings(t).split(m).data(x).color(r).radius(C)(v),Fa().settings(t)(v.selectAll("g.segment"))})}V4.plugin={name:"Sunburst",category:"Hierarchial Chart",max_cells:7500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var D4=V4;function N4(e,t){if(e.realValues.length<1||e.realValues[1]===null||e.realValues[1]===void 0)return;let n=e.realValues[1],r=t.filter(a=>a.height>0).map(a=>E4(a)).reduce((a,i)=>a.concat(i));if(e.mainValues.find(a=>a.name===n)?.type==="string")return Hi(e,r);{let a=Math.min(...r),i=Math.max(...r);return qa(e,null,null,[a,i])}}function E4(e,t=[]){return e.children&&e.children.length>0?e.children.forEach(n=>t.concat(E4(n,t))):e.data.color&&t.push(e.data.color),t}var P4=7,sf=e=>!!(e.target&&e.target.textAttributes),ff=(e,t,n)=>{e.selectAll("text").each(function(a,i){let o=OD(a,t,n);this.style=o});let r=Ml(e);ED(r),Mg(r)},L4=e=>{e.each((t,n,r)=>{Re(r[n]).selectAll("text").attr("dx",t.target.textAttributes.dx).attr("dy",t.target.textAttributes.dy).attr("style",t.target.textAttributes.style)})},Mg=e=>{let r=i=>i.getBoundingClientRect(),a=[];e.selectAll("text").filter((i,o,l)=>Re(l[o]).attr("style")===qi.high).each((i,o,l)=>a.push(l[o])),e.selectAll("text").filter((i,o,l)=>Re(l[o]).attr("style")===qi.low).each((i,o,l)=>{let s=l[o];a.filter(f=>og("x",r(f),r(s))&&og("y",r(f),r(s),-2)).forEach(()=>Re(s).attr("dy",Number(Re(s).attr("dy"))+14))})},O4=e=>Re(e).style("opacity",Sl[Re(e).attr("class")]),I4=e=>Re(e).style("opacity",null),Sl={top:1,mid:.7,lower:0},Ml=e=>e.filter((t,n,r)=>Re(r[n]).selectAll("text").attr("style")!==qi.zero),df=e=>e.selectAll("text").each((t,n,r)=>PD(r[n])),ED=e=>e.selectAll("text").each((t,n,r)=>z4(r[n])),z4=e=>{let t=Re(e),n=e.getBoundingClientRect();t.attr("dx",0-n.width/2).attr("dy",0+n.height/4)},PD=e=>{let n=e.parentNode.childNodes[0],r=e.getBBox(),a=n.getBBox();LD(e,a,r)||Re(e).attr("style",Re(e).attr("style"))},LD=(e,t,n)=>{let r=Math.min(t.height/n.height,t.width/n.width);if(r<1){let a=parseInt(Re(e).style("font-size")),i=Math.floor(a*r);return a>P4&&i>P4?(Re(e).style("font-size",`${i}px`),z4(e)):(Re(e).style("font-size",null),Re(e).style("opacity","0")),!0}return!1},OD=(e,t,n)=>{if(!n.filter(r=>r!=="").every(r=>e.crossValue.includes(r)))return qi.zero;switch(e.depth){case t+1:return qi.high;case t+2:return qi.low;default:return qi.zero}},qi={high:"font-size:14px;z-index:5;pointer-events: none;",low:"font-size:8px;opacity:0.7;z-index:4;",zero:"font-size:0px;opacity:0;z-index:4;"};var mf=(e,t)=>{let n=zp().size([e,t]).paddingInner(r=>1+2*(r.height-1));return n.tile(Rp),n};var ID=(e,t)=>t.every(n=>e.crossValue.includes(n));function Cg(e,t,n,r,a,i){zD(e,t,n,r,a),e.mapLevel[r].levelRoot=!0,RD(e,i.node().getBoundingClientRect().width,i.node().getBoundingClientRect().height,r),F4(n,r)}function R4(e,t){e.each(n=>{n.mapLevel=[],n.mapLevel[0]={x0:n.x0,x1:Gi(n)+n.x0,y0:n.y0,y1:Xi(n)+n.y0,visible:!0,opacity:1}}),t.mapLevel[0].levelRoot=!0,F4(e,0)}var hf=(e,t)=>{e.each((n,r,a)=>{let i=Re(a[r]).selectAll("text");n.mapLevel[t].textAttributes={dx:i.attr("dx"),dy:i.attr("dy"),class:i.attr("class"),"font-size":i.style("font-size")}})};function zD(e,t,n,r,a){let i={x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0},o={width:a.x1-a.x0,height:a.y1-a.y0},l={width:o.width/i.width,height:o.height/i.height};n.each(s=>{let f=(s.x0-i.x)*l.width,m=(s.y0-i.y)*l.height,x=Gi(s)*l.width,v=Xi(s)*l.height,M=ID(s,t)&&s.data.name!==t[r-1];s.mapLevel[r]={x0:f,x1:x+f,y0:m,y1:v+m,visible:M,opacity:M?1:0}}),e.mapLevel[r].levelRoot=!0}function RD(e,t,n,r){let o=mf(t,n)(Pa(e.data).sum(s=>s.size)).descendants(),l=e.descendants();o.forEach((s,f)=>{l[f].mapLevel[r].x0=o[f].x0,l[f].mapLevel[r].x1=o[f].x1,l[f].mapLevel[r].y0=o[f].y0,l[f].mapLevel[r].y1=o[f].y1})}function F4(e,t){e.selectAll("text").each((n,r,a)=>{let i=Re(a[r]),o=Re(a[r]).datum(),l=i.attr("class");o.mapLevel[t].textLockedAt={opacity:Sl[l]}})}function B4(e,t,n,r,a,i,o,l,s){if(r.treemapLevel>0){let f=o.crossValue;Ag(o,e,t,n,r,a,i,o,0,f,l,s,1,!1),r.treemapRoute.slice(1,r.treemapRoute.length).forEach(m=>{let x=t.filter(M=>M.crossValue===m).datum(),v=x.crossValue;Cg(x,v,t,x.depth,o,a),Ag(x,e,t,n,r,a,i,o,x.depth,v,l,s,1,!1)})}}function kg(e,t,n,r,a,i,o,l,s,f){if(!e.children)return;a.treemapLevel<e.depth?a.treemapRoute.push(e.crossValue):a.treemapRoute.pop(),a.treemapLevel=e.depth;let m=e.crossValue;(!e.mapLevel[a.treemapLevel]||!e.mapLevel[a.treemapLevel].levelRoot)&&Cg(e,m,n,a.treemapLevel,l,i),Ag(e,t,n,r,a,i,o,l,a.treemapLevel,m,s,f)}function Ag(e,t,n,r,a,i,o,l,s,f,m,x,v=500,M=!0){let T=e.parent,A=o.transition("main transition").duration(v).ease(ps);n.each(D=>D.target=D.mapLevel[s]),sf(e)||YD(n,m),n.transition(A).tween("data",D=>{let R=Kt(D.current,D.target);return B=>D.current=R(B)}).styleTween("opacity",D=>()=>D.current.opacity).attrTween("pointer-events",D=>()=>D.target.visible?"all":"none"),t.transition(A).filter(D=>D.target.visible).styleTween("x",D=>()=>`${D.current.x0}px`).styleTween("y",D=>()=>`${D.current.y0}px`).styleTween("width",D=>()=>`${D.current.x1-D.current.x0}px`).styleTween("height",D=>()=>`${D.current.y1-D.current.y0}px`),r.transition(A).filter(D=>D.target.visible).attrTween("x",D=>()=>D.current.x0+Gi(D.current)/2).attrTween("y",D=>()=>D.current.y0+Xi(D.current)/2).end().catch(()=>Tg(n)).then(()=>{sf(e)||(Mg(C),df(C),FD(r,o,v),M&&hf(n,s),Tg(n,m))}).catch(D=>{console.error("Exception completing promises after main transition",D),Tg(n,m)}),sf(e)?L4(n):(r.each((D,R,B)=>O4(B[R])),ff(n,s,f));let C=Ml(n);T?m.hide(!1).text(e.label).onClick(()=>{kg(T,t,n,r,a,i,o,l,m,x);let D=i.node().getRootNode().host.parentElement;dl(D,T,x)})():m.hide(!0)()}async function FD(e,t,n=400){let r=t.transition("text fade transition").duration(n).ease(ps);await e.transition(r).filter(a=>a.target.visible).tween("data",(a,i,o)=>{let l=o[i],s=Kt(BD(a),HD(l));return f=>a.current.opacity=s(f)}).styleTween("opacity",a=>()=>a.current.opacity).end().catch(a=>console.error("Exception in text fade transition",a)).then(()=>e.each((a,i,o)=>I4(o[i])))}var BD=e=>e.target.textLockedAt.opacity,HD=e=>Sl[Re(e).attr("class")],YD=(e,t)=>{t.deactivate(!0),e.each((n,r,a)=>{Re(a[r]).selectAll("rect").style("pointer-events","none")})},Tg=(e,t=void 0)=>{t&&t.deactivate(!1),e.each((n,r,a)=>{Re(a[r]).selectAll("rect").style("pointer-events",null)})};var H4=`<button id="goto-parent">Goto parent</button>
`;function Y4(e){let t=null,n=null,r=!0,a=!1,i=$t(e,".parent-controls",()=>e.append("div").attr("class","parent-controls").style("display",r?"none":"").html(H4)),o=()=>{i.style("display",r?"none":"").select("#goto-parent").style("pointer-events",a?"none":null).html(`\u21EA ${n}`).on("click",()=>t())};return o.deactivate=(...l)=>{if(!l.length)return a;a=l[0];let s=i.select("#goto-parent");return a?s.style("pointer-events","none"):s.style("pointer-events",null),o},o.hide=(...l)=>l.length?(r=l[0],o):r,o.text=(...l)=>l.length?(n=l[0],o):n,o.onClick=(...l)=>l.length?(t=l[0],o):t,o}var pf={leaf:"leafnode",branch:"branchnode",root:"rootnode"},Gi=e=>e.x1-e.x0,Xi=e=>e.y1-e.y0,$D=(e,t)=>t.depth===e,W4=(e,t)=>t.depth===0?pf.root:$D(e,t)?pf.leaf:pf.branch;function $4(){let e=null,t=null,n=null,r=null,a=null,i=null,o=l=>{i=Y4(a),i();let s=n.height;e.treemapLevel||(e.treemapLevel=0),e.treemapRoute||(e.treemapRoute=[]),mf(a.node().getBoundingClientRect().width,a.node().getBoundingClientRect().height)(n);let m=l.selectAll("g").data(n.descendants()),x=m.enter().append("g");x.append("rect"),x.append("text");let v=x.merge(m).sort((C,D)=>D.depth-C.depth),M=v.select("rect").attr("class",C=>`treerect ${W4(s,C)}`).style("x",C=>C.x0).style("y",C=>C.y0).style("width",C=>Gi(C)).style("height",C=>Xi(C));M.style("fill",C=>W4(s,C)===pf.leaf?C.data.color?r(C.data.color):t.colorStyles.series:"transparent");let T=v.filter(C=>C.value!==0).select("text").attr("x",C=>C.x0+Gi(C)/2).attr("y",C=>C.y0+Xi(C)/2).text(C=>C.label),A=M.filter(C=>C.crossValue.length===0).datum();R4(v,A),ff(v,0,[]),df(Ml(v)),hf(v,0),e.treemapRoute.length===0&&e.treemapRoute.push(A.crossValue),M.filter(C=>C.children).on("click",(C,D)=>kg(D,M,v,T,e,a,l,A,i,t)),B4(M,v,T,e,a,l,A,i,t)};return o.settings=(...l)=>l.length?(e=l[0],t=l[1],o):e,o.data=(...l)=>l.length?(n=l[0],o):n,o.color=(...l)=>l.length?(r=l[0],o):r,o.container=(...l)=>l.length?(a=l[0],o):a,o}function U4(e,t){t.treemaps||(t.treemaps={});let n=uf(t),r=N4(t,n.map(s=>s.data));r&&this._container.classList.add("has-legend");let a=$o().elementsPrefix("treemap");if(e.datum(n).call(a),r){let s=t.realValues[1];if(t.mainValues.find(f=>f.name===s)?.type==="string"){let f=Mn().settings(t).scale(r);e.call(f)}else{let f=Xa().scale(r);e.call(f)}}let i=a.chartEnter(),o=a.chartDiv();a.chartTitle().each((s,f,m)=>Re(m[f]).text(s.split)),i.merge(o).select("svg").select("g.treemap").each(function({split:s,data:f}){let m=Re(this);t.treemaps[s]||(t.treemaps[s]={}),$4().settings(t.treemaps[s],t).data(f).container(Re(Re(this.parentNode).node().parentNode)).color(r)(m),Fa().settings(t).centered(!0)(m.selectAll("g"))})}U4.plugin={type:"Treemap",name:"Treemap",category:"Hierarchial Chart",max_cells:3e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var q4=U4;var UD=[T5,I5,H5,j5,e4,o4,f4,x4,S4,q4,D4,p4],Vg=UD;var X4=ht(G4(),1),Ng=(e,t)=>{if(!t.colorStyles){let n={scheme:[],gradient:{},interpolator:{},grid:{}},r=XD(e);n.series=r("--d3fc-local-series");for(let i=1;;i++){let o=`series-${i}`,l=r(`--d3fc-local-${o}`);if(!l)break;n[o]=l,n.scheme.push(l)}n.opacity=qD(n.series),n.grid.gridLineColor=r`--d3fc-gridline--color`,["full","positive","negative"].forEach(i=>{let o=r(`--d3fc-local-${i}--gradient`);n.gradient[i]=jD(o,n.opacity)}),t.colorStyles=n}if(!t.textStyles){let n=window.getComputedStyle(e),r=n.getPropertyValue("color"),a=`12px ${n.getPropertyValue("font-family")}`;t.textStyles={color:r,font:a}}},qD=e=>xn(e).opacity,GD=(e,t)=>{let n=xn(`#${e}`);return n.opacity=t,n+""},XD=e=>{let t=getComputedStyle(e);return n=>t?.getPropertyValue(n)},jD=(e,t)=>{let n=X4.parse(e)[0].colorStops;return n.map((r,a)=>[r.length?r.length.value/100:a/(n.length-1),GD(r.value,t)]).sort((r,a)=>r[0]-a[0])};var j4=':host .chart{--d3fc-local-full--gradient:var(--d3fc-full--gradient,linear-gradient(#4d342f 0%,#e4521b 22.5%,#feeb65 42.5%,#f0f0f0 50%,#dcedc8 57.5%,#42b3d5 67.5%,#1a237e 100%));--d3fc-local-positive--gradient:var(--d3fc-positive--gradient,linear-gradient(#dcedc8 0%,#42b3d5 35%,#1a237e 100%));--d3fc-local-negative--gradient:var(--d3fc-negative--gradient,linear-gradient(#feeb65 100%,#e4521b 70%,#4d342f 0%));--d3fc-local-series:var(--d3fc-series,rgba(31,119,180,0.5));--d3fc-local-series-1:var(--d3fc-series-1,#0366d6);--d3fc-local-series-2:var(--d3fc-series-2,#ff7f0e);--d3fc-local-series-3:var(--d3fc-series-3,#2ca02c);--d3fc-local-series-4:var(--d3fc-series-4,#d62728);--d3fc-local-series-5:var(--d3fc-series-5,#9467bd);--d3fc-local-series-6:var(--d3fc-series-6,#8c564b);--d3fc-local-series-7:var(--d3fc-series-7,#e377c2);--d3fc-local-series-8:var(--d3fc-series-8,#7f7f7f);--d3fc-local-series-9:var(--d3fc-series-9,#bcbd22);--d3fc-local-series-10:var(--d3fc-series-10,#17becf);}:host .chart .series{fill:var(--d3fc-local-series);}:host .chart .series-1{fill:var(--d3fc-local-series-1);}:host .chart .series-2{fill:var(--d3fc-local-series-2);}:host .chart .series-3{fill:var(--d3fc-local-series-3);}:host .chart .series-4{fill:var(--d3fc-local-series-4);}:host .chart .series-5{fill:var(--d3fc-local-series-5);}:host .chart .series-6{fill:var(--d3fc-local-series-6);}:host .chart .series-7{fill:var(--d3fc-local-series-7);}:host .chart .series-8{fill:var(--d3fc-local-series-8);}:host .chart .series-9{fill:var(--d3fc-local-series-9);}:host .chart .series-10{fill:var(--d3fc-local-series-10);}:host{user-select:none;}:host .chart{position:absolute;box-sizing:border-box;left:0;top:0;width:100%;height:100%;padding:12px;overflow:hidden;}:host .chart.heatmap d3fc-group.cartesian-chart,:host .chart.treemap d3fc-group.cartesian-chart{grid-template-columns:minmax(0em,max-content)auto 1fr auto minmax(0em,max-content);grid-template-rows:minmax(0em,max-content)auto 1fr auto minmax(0em,max-content);}:host .chart .chart-label{display:none;}:host .chart.heatmap{padding-right:120px;}:host .chart.xyscatter{padding:0;font-size:14px;}:host .chart.xyscatter d3fc-group:first-child{padding:16px;padding-top:0px;width:calc(100% - 32px);height:calc(100% - 16px);}:host .chart.xyscatter .multi-xlabel{position:absolute;bottom:0;height:2.5em;width:100%;display:flex;justify-content:center;align-items:center;background:var(--d3fc-legend--background);}:host .chart.xyscatter .multi-ylabel{position:absolute;top:0;width:2.5em;height:100%;display:flex;justify-content:center;align-items:center;background:var(--d3fc-legend--background);}:host .chart.xyscatter .outer-container{height:100%;}:host .chart.xyscatter .inner-container{display:inline-grid;overflow-y:auto;width:calc(100% - 16px);height:100%;padding:0;margin:0;}:host .chart.xyscatter .inner-container div{overflow:hidden;}:host .chart.xyscatter .inner-container text.segment,:host .chart.xyscatter .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.xyscatter .inner-container div.xy-scatter-container{margin:5px 0;}:host .chart.sunburst{padding:0;font-size:14px;}:host .chart.sunburst .outer-container{height:100%;}:host .chart.sunburst .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto;}:host .chart.sunburst .inner-container div{overflow:hidden;}:host .chart.sunburst .inner-container .sunburst-container:not(:only-child) svg{transform:translate(0,-27px);}:host .chart.sunburst .inner-container svg{width:100%;height:100%;}:host .chart.sunburst .inner-container path{fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host .chart.sunburst .inner-container text.segment,:host .chart.sunburst .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.sunburst .inner-container div.title-container{margin-top:5px;}:host .chart.has-legend{padding-right:120px;}:host .chart.treemap .treemap-container{position:relative;}:host .chart.treemap .treemap-container:not(:only-child){width:calc(100% - 12px);height:calc(100% - 12px);}:host .chart.treemap .outer-container{height:100%;}:host .chart.treemap .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto;}:host .chart.treemap .inner-container div{overflow:hidden;}:host .chart.treemap .inner-container svg{width:100%;height:100%;}:host .chart.treemap .inner-container .treerect{stroke:var(--d3fc-treedata-axis--lines,var(--d3fc-axis--lines,white));fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host .chart.treemap .inner-container .treerect:hover{cursor:pointer;stroke:var(--d3fc-treedata--hover-highlight,black);stroke-opacity:1;}:host .chart.treemap .inner-container .rootnode{opacity:0;pointer-events:none;z-index:0;}:host .chart.treemap .inner-container .branchnode{opacity:0;}:host .chart.treemap .inner-container .branchnode:hover{fill-opacity:0.1;opacity:1;fill:var(--d3fc-treedata--hover-highlight,black);}:host .chart.treemap .inner-container .leafnode{fill-opacity:0.8;}:host .chart.treemap .inner-container .leafnode:hover{fill-opacity:0.5;}:host .chart.treemap .inner-container #hidden{opacity:0;pointer-events:none;z-index:0;}:host .chart.treemap .inner-container .top{font-size:14px;z-index:5;pointer-events:none;}:host .chart.treemap .inner-container .mid{font-size:8px;opacity:0.7;z-index:4;}:host .chart.treemap .inner-container .lower{font-size:0px;opacity:0;z-index:4;}:host .chart.treemap .inner-container text{fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.treemap .inner-container text.title{dominant-baseline:hanging;}:host .chart.treemap .inner-container .parent-controls{position:absolute;top:12px;right:auto;left:30px;width:auto;z-index:4;transition:box-shadow 1s;}:host .chart.treemap .inner-container .parent-controls:hover{box-shadow:2px 2px 6px#000;transition:box-shadow 0.2s;}:host .chart .x-label{height:1.2em!important;line-height:1em!important;}:host .chart .x-label,:host .chart .y-label{color:var(--d3fc-label--color,inherit);font-size:14px;}:host .chart d3fc-canvas.plot-area{display:none;}:host .chart.xyscatter d3fc-canvas.plot-area,:host .chart.xyline d3fc-canvas.plot-area,:host .chart.ohlc d3fc-canvas.plot-area,:host .chart.candlestick d3fc-canvas.plot-area,:host .chart.heatmap d3fc-canvas.plot-area{display:block;}:host .chart .y-axis text,:host .chart .x-axis text{fill:var(--d3fc-axis-ticks--color,rgb(80,80,80));font-size:11px;}:host .chart .y-axis path,:host .chart .x-axis path{stroke:var(--d3fc-axis--lines,rgb(180,210,225));}:host .chart .splitter-label{display:inline-block;margin:0 10px;cursor:pointer;}:host .chart .splitter-label::after{margin-left:5px;color:var(--d3fc-axis--lines,rgb(180,210,225));}:host .chart .splitter-label:hover::after{color:var(--d3fc-axis-ticks--color,rgb(80,80,80));}:host .chart .splitter-label.disabled::after{color:rgba(80,80,80,0.3);}:host .chart .splitter-label.disabled{cursor:default;}:host .chart .y-label.left-label .splitter-label::after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:16px;height:12px;-webkit-mask-image:var(--sort-desc-icon--mask-image);mask-image:var(--sort-desc-icon--mask-image);}:host .chart .y-label.right-label .splitter-label::after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:16px;height:12px;-webkit-mask-image:var(--sort-asc-icon--mask-image);mask-image:var(--sort-asc-icon--mask-image);}:host .chart.ybar .y-axis path,:host .chart.yline .y-axis path,:host .chart.xyline .y-axis path,:host .chart.xyline .x-axis path,:host .chart.yarea .y-axis path,:host .chart.yscatter .y-axis path,:host .chart.xyscatter .y-axis path,:host .chart.xyscatter .x-axis path,:host .chart.xbar .x-axis path{visibility:hidden;}:host .chart .y-label{white-space:nowrap;}:host .chart .nearbyTip{fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host #dragHandles{position:absolute;top:0px;right:0px;left:auto;pointer-events:none;}:host #dragHandles rect{pointer-events:all;}:host .label rect{fill:none;}:host .legend-container{position:absolute;top:12px;right:12px;left:auto;width:150px;height:280px;}:host .legend-container.legend-color{width:90px;height:150px;}:host .legend-container[borderbox-on-hover="true"]{transition:box-shadow 1s;}:host .legend-container[borderbox-on-hover="true"]:hover{background-color:var(--d3fc-legend--background,#ffffff);transition:box-shadow 0.2s,background-color 0.2s;}:host .legend-container .legend{font-size:8pt;width:100%;}:host .legend-container .legend .cell{cursor:pointer;}:host .legend-container .legend .cell path{fill:var(--d3fc-series,rgba(31,119,180,0.5));stroke:var(--d3fc-series,rgb(31,119,180));}:host .legend-container .legend .cell.hidden path{fill:rgba(204,204,204,0.5);stroke:rgb(204,204,204);}:host .legend-container .legend .cell.hidden circle{fill:rgb(204,204,204)!important;}:host .legend-container text{fill:var(--d3fc-legend--text,rgb(51,51,51));}:host .legend-container .label:hover{fill:rgb(34,160,206);}:host .legend-container #legend-axis path{stroke:var(--d3fc-legend--text,rgb(51,51,51));}:host .legend-container .legend-controls{margin-left:12px;}:host .legend-container .legend-controls #up-arrow,:host .legend-container .legend-controls #down-arrow{cursor:pointer;color:rgb(31,119,180);}:host .legend-container .legend-controls #up-arrow.disabled,:host .legend-container .legend-controls #down-arrow.disabled{cursor:default;color:rgb(51,51,51);}:host .heatmap .legend-container.legend-color{height:200px;}:host .treemap .legend-container.legend-color{height:200px;}:host .treemap .legend-container:not(.legend-color){width:100px;}:host .zoom-controls{position:absolute;top:10px;left:0;width:100%;text-align:center;}:host .zoom-controls button{-webkit-appearance:none;background:var(--plugin--background,rgb(247,247,247));border:1px solid var(--inactive--color,rgb(204,204,204));color:var(--d3fc-label--color,inherit);font-size:12px;padding:8px;opacity:0.5;cursor:pointer;}:host .zoom-controls button:hover{opacity:1;}:host .parent-controls{position:absolute;top:30px;right:145px;width:100%;text-align:right;}:host .parent-controls button{-webkit-appearance:none;background:rgb(247,247,247);border:1px solid rgb(204,204,204);padding:10px;opacity:0.5;cursor:pointer;}:host .parent-controls button:hover{background:rgb(230,230,230);}:host div.tooltip{position:absolute;text-align:left;font-size:12px;font-weight:300;white-space:nowrap;padding:0.5em;background:var(--d3fc-tooltip--background,#ffffff);color:var(--d3fc-tooltip--color,black);border:1px solid var(--d3fc-tooltip--border-color,#777777);box-shadow:var(--d3fc-tooltip--box-shadow,none);pointer-events:none;}:host div.tooltip ul{margin:0;padding:0;list-style-type:none;}';var Q4={initial:{type:"number",count:1,names:[]},selectMode:"select"},ZD=`${j4}${KD()}`,Eg=["crossValues","mainValues","realValues","splitValues","filter","data","size","colorStyles","textStyles","agg_paths","treemaps","axisMemo","columns_config"];function KD(){let e=document.querySelector("head").querySelectorAll("style"),t=[];return e.forEach(n=>{n.innerText.indexOf("d3fc-")!==-1&&t.push(n.innerText)}),t.join("")}async function JD(e){await customElements.get("perspective-viewer").registerPlugin(e)}function Z4(...e){let t=new Set(e.length>0?e:Vg.map(n=>n.plugin.name));Vg.forEach(n=>{if(t.has(n.plugin.name)){let r=n.plugin.name.toLowerCase().replace(/[ \t\r\n\/]*/g,""),a=`perspective-viewer-d3fc-${r}`;customElements.define(a,class extends HTMLElement{_chart;_settings;render_warning;_initialized;_container;_staged_view;config;constructor(){super(),this._chart=null,this._settings=null,this.render_warning=!0}connectedCallback(){this._initialized||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>${ZD}</style>`,this.shadowRoot.innerHTML+='<div id="container" class="chart"></div>',this._container=this.shadowRoot.querySelector(".chart"),this._initialized=!0)}get name(){return n.plugin.name}get category(){return n.plugin.category}get select_mode(){return n.plugin.selectMode||"select"}get min_config_columns(){return n.plugin.initial?.count||Q4.initial.count}get config_column_names(){return n.plugin.initial?.names||Q4.initial.names}get max_cells(){return n.plugin.max_cells||4e3}set max_cells(i){n.plugin.max_cells=i}get max_columns(){return n.plugin.max_columns||50}set max_columns(i){n.plugin.max_columns=i}can_render_column_styles(i,o){return n.can_render_column_styles?.call(this,i,o)}column_style_controls(i,o){return n.column_style_controls?.call(this,i,o)}async render(){var i=document.createElement("canvas"),o=this.shadowRoot.querySelector("#container");i.width=o.offsetWidth,i.height=o.offsetHeight;let l=i.getContext("2d");l.fillStyle=window.getComputedStyle(this).getPropertyValue("--plugin--background")||"white",l.fillRect(0,0,i.width,i.height);let s=window.getComputedStyle(this).getPropertyValue("color"),f=Array.from(this.shadowRoot.querySelectorAll("svg:not(#dragHandles)"));for(let M of f.reverse()){var m=document.createElement("img");let T=0;m.width=M.parentElement?M.parentElement.offsetWidth:T,m.height=M.parentElement?M.parentElement.offsetHeight:T;let A=M.cloneNode(!0);A.hasAttribute("viewBox")||A.setAttribute("viewBox",`0 0 ${m.width} ${m.height}`),A.setAttribute("xmlns","http://www.w3.org/2000/svg");for(let D of A.querySelectorAll("text"))D.setAttribute("fill",s);var x=new XMLSerializer().serializeToString(A);x=x.replace(/[^\x00-\x7F]/g,"");let C=new Promise((D,R)=>{m.onload=D,m.onerror=R});try{m.src=`data:image/svg+xml;base64,${btoa(x)}`,await C}catch{let R=new Promise((B,V)=>{m.onload=B,m.onerror=V});m.src=`data:image/svg+xml;utf8,${x}`,await R}l.drawImage(m,M.parentNode.offsetLeft,M.parentNode.offsetTop,m.width,m.height)}let v=Array.from(this.shadowRoot.querySelectorAll("canvas"));for(let M of v.reverse())l.drawImage(M,M.parentNode.offsetLeft,M.parentNode.offsetTop,M.width/window.devicePixelRatio,M.height/window.devicePixelRatio);return await new Promise(M=>i.toBlob(T=>M(T)),"image/png")}async draw(i,o,l){if(this.offsetParent===null){this._staged_view=[i,o,l];return}this._staged_view=void 0,this._settings&&(this._settings.axisMemo=[[1/0,-1/0],[1/0,-1/0]]),await this.update(i,o,l,!0)}async update(i,o,l,s=!1){if(this.offsetParent===null)return;let f=this.parentElement,m,x,v=n.plugin.name!=="Sunburst";o&&l?m=i.to_columns_string({end_row:l,end_col:o,leaves_only:v}):o?m=i.to_columns_string({end_col:o,leaves_only:v}):l?m=i.to_columns_string({end_row:l,leaves_only:v}):m=i.to_columns_string({leaves_only:v}),x=await Promise.all([f.save(),f.getTable().then(oe=>oe.schema()),i.expression_schema(!1),i.schema(!1),m,i.get_config()]);let[M,T,A,C,D,R]=x,B=JSON.parse(D),V=Object.keys(B),I={row(oe){let be={};for(let Ee of V)be[Ee]=B[Ee][oe];return be}};this.config=M;let O=this.config.columns,j=function(oe){let be=T[oe];return be||(be=A[oe]),be},{columns:K,group_by:ye,split_by:ge,filter:le}=R,Ie=B[Object.keys(B)[0]]||[],he=ye.length>0?Ie.reduce((oe,be,Ee)=>{let De=I.row(Ee);if(De.__ROW_PATH__&&De.__ROW_PATH__.length==ye.length)oe.agg_paths.push(oe.aggs.slice()),oe.rows.push(De);else{let Se=De.__ROW_PATH__.filter(Ye=>Ye!==void 0).length;oe.aggs[Se]=De,oe.aggs=oe.aggs.slice(0,Se+1)}return oe},{rows:[],aggs:[],agg_paths:[]}):{rows:Ie.map((oe,be)=>I.row(be))},U=(oe,be)=>ye.length?oe:{...oe,__ROW_PATH__:[be]},_e=he.rows.map(U),ne={realValues:O,crossValues:ye.map(oe=>({name:oe,type:j(oe)})),mainValues:K.map(oe=>({name:oe,type:C[oe]})),splitValues:ge.map(oe=>({name:oe,type:j(oe)})),filter:le,data:_e,agg_paths:he.agg_paths,...this.config.plugin_config};this._chart=n;let ie={set:(oe,be,Ee)=>(Eg.includes(be)||this._container&&this._container.dispatchEvent(new Event("perspective-plugin-update",{bubbles:!0,composed:!0})),oe[be]=Ee,!0)},ve=[[1/0,-1/0],[1/0,-1/0]];this._settings=new Proxy({axisMemo:ve,...this._settings,...ne},ie),this._settings.splitMainValues&&this._settings.splitMainValues.length>=K.length&&(this._settings.splitMainValues=[]),Ng(this._container,this._settings),s&&(this._container.innerHTML=""),this._draw(),await new Promise(oe=>requestAnimationFrame(oe))}async clear(){this._container&&(this._container.innerHTML="")}_draw(){if(this.offsetParent!==null){let i=Re(this._container),o=`chart ${r}`;this._settings.size=this._container.getBoundingClientRect(),this._settings.data.length>0?this._chart(i.attr("class",o),this._settings):i.attr("class",`${o} disabled`)}}async resize(i){if(this.offsetParent!==null)if(this._settings?.data!==void 0)this._draw();else{let[o,l,s]=this._staged_view;this._staged_view=void 0,this.draw(o,l,s)}}async restyle(i,o,l){let s=this._settings;s&&(delete s.colorStyles,delete s.textStyles,this.isConnected&&(Ng(this._container,this._settings),this.resize(i)))}async delete(){this._container.innerHTML=""}getContainer(){return this._container}save(){let i={...this._settings};return Eg.forEach(o=>{delete i[o]}),i}restore(i,o){let l={};for(let s of Eg)this._settings?.[s]!==void 0&&(l[s]=this._settings?.[s]);this._settings={...l,...i,columns_config:o}}}),customElements.whenDefined("perspective-viewer").then(()=>JD(a))}})}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector);Z4();
//# sourceMappingURL=perspective-viewer-d3fc.js.map
