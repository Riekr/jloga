/**
 * Minified by jsDelivr using Terser v5.15.0.
 * Original file: /npm/@finos/perspective-viewer-d3fc@1.7.1/dist/umd/perspective-viewer-d3fc.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,e){"function"==typeof define&&define.amd?define(["exports"],e):"object"==typeof exports&&"string"!=typeof exports.nodeName?e(exports):e(t.perspective_viewer_d3fc={})}("undefined"!=typeof self?self:this,(function(t){var e=Object.create,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,i=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,u=t=>n(t,"__esModule",{value:!0}),l=(t,e)=>()=>(t&&(e=t(t=0)),e),c=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),f=(t,e)=>{for(var r in u(t),e)n(t,r,{get:e[r],enumerable:!0})},s=t=>((t,e,i)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let u of a(e))!o.call(t,u)&&"default"!==u&&n(t,u,{get:()=>e[u],enumerable:!(i=r(e,u))||i.enumerable});return t})(u(n(null!=t?e(i(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);function h(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var d=l((()=>{}));function g(t){let e=t,n=t,r=t;function a(t,e,a=0,i=t.length){if(a<i){if(0!==n(e,e))return i;do{let n=a+i>>>1;r(t[n],e)<0?a=n+1:i=n}while(a<i)}return a}return 2!==t.length&&(e=(e,n)=>t(e)-n,n=h,r=(e,n)=>h(t(e),n)),{left:a,center:function(t,n,r=0,i=t.length){let o=a(t,n,r,i-1);return o>r&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e,a=0,i=t.length){if(a<i){if(0!==n(e,e))return i;do{let n=a+i>>>1;r(t[n],e)<=0?a=n+1:i=n}while(a<i)}return a}}}var p=l((()=>{d()}));function v(t){return null===t?NaN:+t}var m,y,b,x,_,w=l((()=>{})),S=l((()=>{d(),p(),w(),m=g(h),y=m.right,b=m.left,x=g(v).center,_=y}));function M(t,e){let n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&++n;else{let r=-1;for(let a of t)null!=(a=e(a,++r,t))&&(a=+a)>=a&&++n}return n}var A=l((()=>{}));function k(t){return 0|t.length}function V(t){return!(t>0)}function T(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function C(...t){let e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(T)).map(k),r=t.length-1,a=new Array(r+1).fill(0),i=[];if(r<0||n.some(V))return i;for(;;){i.push(a.map(((e,n)=>t[n][e])));let o=r;for(;++a[o]===n[o];){if(0===o)return e?i.map(e):i;a[o--]=0}}}var N=l((()=>{}));function E(t,e){var n=0,r=0;return Float64Array.from(t,void 0===e?t=>n+=+t||0:a=>n+=+e(a,r++,t)||0)}var D=l((()=>{}));function z(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var P=l((()=>{}));function B(t,e){let n,r=0,a=0,i=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(n=e-a,a+=n/++r,i+=n*(e-a));else{let o=-1;for(let u of t)null!=(u=e(u,++o,t))&&(u=+u)>=u&&(n=u-a,a+=n/++r,i+=n*(u-a))}if(r>1)return i/(r-1)}var R=l((()=>{}));function O(t,e){let n=B(t,e);return n&&Math.sqrt(n)}var I=l((()=>{R()}));function Y(t,e){let n,r;if(void 0===e)for(let e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let a=-1;for(let i of t)null!=(i=e(i,++a,t))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}var F=l((()=>{}));function L(t,e){let n=new H;if(void 0===e)for(let e of t)(e=+e)&&n.add(e);else{let r=-1;for(let a of t)(a=+e(a,++r,t))&&n.add(a)}return+n}function U(t,e){let n=new H,r=-1;return Float64Array.from(t,void 0===e?t=>n.add(+t||0):a=>n.add(+e(a,++r,t)||0))}var H,j=l((()=>{H=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let e=this._partials,n=0;for(let r=0;r<this._n&&r<32;r++){let a=e[r],i=t+a,o=Math.abs(t)<Math.abs(a)?t-(i-a):a-(i-t);o&&(e[n++]=o),t=i}return e[n]=t,this._n=n+1,this}valueOf(){let t,e,n,r=this._partials,a=this._n,i=0;if(a>0){for(i=r[--a];a>0&&(t=i,e=r[--a],i=t+e,n=e-(i-t),!n););a>0&&(n<0&&r[a-1]<0||n>0&&r[a-1]>0)&&(e=2*n,t=i+e,e==t-i&&(i=t))}return i}}}));function W({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):n}function q({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function $({_intern:t,_key:e},n){let r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function X(t){return null!==t&&"object"==typeof t?t.valueOf():t}var G,Q,Z=l((()=>{G=class extends Map{constructor(t,e=X){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(let[e,n]of t)this.set(e,n)}get(t){return super.get(W(this,t))}has(t){return super.has(W(this,t))}set(t,e){return super.set(q(this,t),e)}delete(t){return super.delete($(this,t))}},Q=class extends Set{constructor(t,e=X){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(let e of t)this.add(e)}has(t){return super.has(W(this,t))}add(t){return super.add(q(this,t))}delete(t){return super.delete($(this,t))}}}));function K(t){return t}var J=l((()=>{}));function tt(t,...e){return ft(t,K,K,e)}function et(t,...e){return ft(t,Array.from,K,e)}function nt(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap((t=>t.pop().map((([e,n])=>[...t,e,n]))));return t}function rt(t,...e){return nt(et(t,...e),e)}function at(t,e,...n){return nt(ot(t,e,...n),n)}function it(t,e,...n){return ft(t,K,e,n)}function ot(t,e,...n){return ft(t,Array.from,e,n)}function ut(t,...e){return ft(t,K,ct,e)}function lt(t,...e){return ft(t,Array.from,ct,e)}function ct(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function ft(t,e,n,r){return function t(a,i){if(i>=r.length)return n(a);let o=new G,u=r[i++],l=-1;for(let t of a){let e=u(t,++l,a),n=o.get(e);n?n.push(t):o.set(e,[t])}for(let[e,n]of o)o.set(e,t(n,i));return e(o)}(t,0)}var st=l((()=>{Z(),J()}));function ht(t,e){return Array.from(e,(e=>t[e]))}var dt=l((()=>{}));function gt(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&2!==n.length||e.length>1){let r=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),r.sort(((t,n)=>{for(let r of e){let e=vt(r[t],r[n]);if(e)return e}}))):(n=t.map(n),r.sort(((t,e)=>vt(n[t],n[e])))),ht(t,r)}return t.sort(pt(n))}function pt(t=h){if(t===h)return vt;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,n)=>{let r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function vt(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}var mt=l((()=>{d(),dt()}));function yt(t,e,n){return(2!==e.length?gt(it(t,e,n),(([t,e],[n,r])=>h(e,r)||h(t,n))):gt(tt(t,n),(([t,n],[r,a])=>e(n,a)||h(t,r)))).map((([t])=>t))}var bt,xt,_t=l((()=>{d(),st(),mt()})),wt=l((()=>{bt=Array.prototype,xt=bt.slice,bt.map}));function St(t){return()=>t}var Mt=l((()=>{}));function At(t,e,n){var r,a,i,o,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(o=kt(t,e,n))||!isFinite(o))return[];if(o>0){let n=Math.round(t/o),r=Math.round(e/o);for(n*o<t&&++n,r*o>e&&--r,i=new Array(a=r-n+1);++u<a;)i[u]=(n+u)*o}else{o=-o;let n=Math.round(t*o),r=Math.round(e*o);for(n/o<t&&++n,r/o>e&&--r,i=new Array(a=r-n+1);++u<a;)i[u]=(n+u)/o}return r&&i.reverse(),i}function kt(t,e,n){var r=(e-t)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=Tt?10:i>=Ct?5:i>=Nt?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=Tt?10:i>=Ct?5:i>=Nt?2:1)}function Vt(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=Tt?a*=10:i>=Ct?a*=5:i>=Nt&&(a*=2),e<t?-a:a}var Tt,Ct,Nt,Et=l((()=>{Tt=Math.sqrt(50),Ct=Math.sqrt(10),Nt=Math.sqrt(2)}));function Dt(t,e,n){let r;for(;;){let a=kt(t,e,n);if(a===r||0===a||!isFinite(a))return[t,e];a>0?(t=Math.floor(t/a)*a,e=Math.ceil(e/a)*a):a<0&&(t=Math.ceil(t*a)/a,e=Math.floor(e*a)/a),r=a}}var zt=l((()=>{Et()}));function Pt(t){return Math.ceil(Math.log(M(t))/Math.LN2)+1}var Bt=l((()=>{A()}));function Rt(){var t=K,e=Y,n=Pt;function r(r){Array.isArray(r)||(r=Array.from(r));var a,i,o=r.length,u=new Array(o);for(a=0;a<o;++a)u[a]=t(r[a],a,r);var l=e(u),c=l[0],f=l[1],s=n(u,c,f);if(!Array.isArray(s)){let t=f,n=+s;if(e===Y&&([c,f]=Dt(c,f,n)),(s=At(c,f,n))[s.length-1]>=f)if(t>=f&&e===Y){let t=kt(c,f,n);isFinite(t)&&(t>0?f=(Math.floor(f/t)+1)*t:t<0&&(f=(Math.ceil(f*-t)+1)/-t))}else s.pop()}for(var h=s.length;s[0]<=c;)s.shift(),--h;for(;s[h-1]>f;)s.pop(),--h;var d,g=new Array(h+1);for(a=0;a<=h;++a)(d=g[a]=[]).x0=a>0?s[a-1]:c,d.x1=a<h?s[a]:f;for(a=0;a<o;++a)null!=(i=u[a])&&c<=i&&i<=f&&g[_(s,i,0,h)].push(r[a]);return g}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:St(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:St([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?St(xt.call(t)):St(t),r):n},r}var Ot=l((()=>{wt(),S(),Mt(),F(),J(),zt(),Et(),Bt()}));function It(t,e){let n;if(void 0===e)for(let e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let a of t)null!=(a=e(a,++r,t))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}var Yt=l((()=>{}));function Ft(t,e){let n;if(void 0===e)for(let e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let a of t)null!=(a=e(a,++r,t))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}var Lt=l((()=>{}));function Ut(t,e,n=0,r=t.length-1,a){for(a=void 0===a?vt:pt(a);r>n;){if(r-n>600){let i=r-n+1,o=e-n+1,u=Math.log(i),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(i-l)/i)*(o-i/2<0?-1:1);Ut(t,e,Math.max(n,Math.floor(e-o*l/i+c)),Math.min(r,Math.floor(e+(i-o)*l/i+c)),a)}let i=t[e],o=n,u=r;for(Ht(t,n,e),a(t[r],i)>0&&Ht(t,n,r);o<u;){for(Ht(t,o,u),++o,--u;a(t[o],i)<0;)++o;for(;a(t[u],i)>0;)--u}0===a(t[n],i)?Ht(t,n,u):(++u,Ht(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Ht(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}var jt=l((()=>{mt()}));function Wt(t,e,n){if(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n)),r=t.length){if((e=+e)<=0||r<2)return Ft(t);if(e>=1)return It(t);var r,a=(r-1)*e,i=Math.floor(a),o=It(Ut(t,i).subarray(0,i+1));return o+(Ft(t.subarray(i+1))-o)*(a-i)}}function qt(t,e,n=v){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),o=+n(t[i],i,t);return o+(+n(t[i+1],i+1,t)-o)*(a-i)}}var $t=l((()=>{Yt(),Lt(),jt(),w()}));function Xt(t,e,n){return Math.ceil((n-e)/(2*(Wt(t,.75)-Wt(t,.25))*Math.pow(M(t),-1/3)))}var Gt=l((()=>{A(),$t()}));function Qt(t,e,n){return Math.ceil((n-e)/(3.5*O(t)*Math.pow(M(t),-1/3)))}var Zt=l((()=>{A(),I()}));function Kt(t,e){let n,r=-1,a=-1;if(void 0===e)for(let e of t)++a,null!=e&&(n<e||void 0===n&&e>=e)&&(n=e,r=a);else for(let i of t)null!=(i=e(i,++a,t))&&(n<i||void 0===n&&i>=i)&&(n=i,r=a);return r}var Jt=l((()=>{}));function te(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let a=-1;for(let i of t)null!=(i=e(i,++a,t))&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}var ee=l((()=>{}));function ne(t,e){return Wt(t,.5,e)}var re=l((()=>{$t()}));function ae(t){return Array.from(function*(t){for(let e of t)yield*e}(t))}var ie=l((()=>{}));function oe(t,e){let n,r=-1,a=-1;if(void 0===e)for(let e of t)++a,null!=e&&(n>e||void 0===n&&e>=e)&&(n=e,r=a);else for(let i of t)null!=(i=e(i,++a,t))&&(n>i||void 0===n&&i>=i)&&(n=i,r=a);return r}var ue=l((()=>{}));function le(t,e){let n=new G;if(void 0===e)for(let e of t)null!=e&&e>=e&&n.set(e,(n.get(e)||0)+1);else{let r=-1;for(let a of t)null!=(a=e(a,++r,t))&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,a=0;for(let[t,e]of n)e>a&&(a=e,r=t);return r}var ce=l((()=>{Z()}));function fe(t,e=se){let n,r=[],a=!1;for(let i of t)a&&r.push(e(n,i)),n=i,a=!0;return r}function se(t,e){return[t,e]}var he=l((()=>{}));function de(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(a);++r<a;)i[r]=t+r*n;return i}var ge=l((()=>{}));function pe(t,e=h){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(t),r=new Float64Array(n.length);2!==e.length&&(n=n.map(e),e=h);let a,i,o=(t,r)=>e(n[t],n[r]);return Uint32Array.from(n,((t,e)=>e)).sort(e===h?(t,e)=>vt(n[t],n[e]):pt(o)).forEach(((t,e)=>{let n=o(t,void 0===a?t:a);n>=0?((void 0===a||n>0)&&(a=t,i=e),r[t]=i):r[t]=NaN})),r}var ve=l((()=>{d(),mt()}));function me(t,e=h){let n,r=!1;if(1===e.length){let a;for(let i of t){let t=e(i);(r?h(t,a)<0:0===h(t,t))&&(n=i,a=t,r=!0)}}else for(let a of t)(r?e(a,n)<0:0===e(a,a))&&(n=a,r=!0);return n}var ye=l((()=>{d()}));function be(t,e=h){if(1===e.length)return oe(t,e);let n,r=-1,a=-1;for(let i of t)++a,(r<0?0===e(i,i):e(i,n)<0)&&(n=i,r=a);return r}var xe=l((()=>{d(),ue()}));function _e(t,e=h){let n,r=!1;if(1===e.length){let a;for(let i of t){let t=e(i);(r?h(t,a)>0:0===h(t,t))&&(n=i,a=t,r=!0)}}else for(let a of t)(r?e(a,n)>0:0===e(a,a))&&(n=a,r=!0);return n}var we=l((()=>{d()}));function Se(t,e=h){if(1===e.length)return Kt(t,e);let n,r=-1,a=-1;for(let i of t)++a,(r<0?0===e(i,i):e(i,n)>0)&&(n=i,r=a);return r}var Me=l((()=>{d(),Jt()}));function Ae(t,e){let n=be(t,e);return n<0?void 0:n}var ke=l((()=>{xe()}));function Ve(t){return function(e,n=0,r=e.length){let a=r-(n=+n);for(;a;){let r=t()*a--|0,i=e[a+n];e[a+n]=e[r+n],e[r+n]=i}return e}}var Te,Ce=l((()=>{Te=Ve(Math.random)}));function Ne(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let a of t)(a=+e(a,++r,t))&&(n+=a)}return n}var Ee=l((()=>{}));function De(t){if(!(a=t.length))return[];for(var e=-1,n=Ft(t,ze),r=new Array(n);++e<n;)for(var a,i=-1,o=r[e]=new Array(a);++i<a;)o[i]=t[i][e];return r}function ze(t){return t.length}var Pe=l((()=>{Lt()}));function Be(){return De(arguments)}var Re=l((()=>{Pe()}));function Oe(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(let r of t)if(!e(r,++n,t))return!1;return!0}var Ie=l((()=>{}));function Ye(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(let r of t)if(e(r,++n,t))return!0;return!1}var Fe=l((()=>{}));function Le(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=[],r=-1;for(let a of t)e(a,++r,t)&&n.push(a);return n}var Ue=l((()=>{}));function He(t,e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof e)throw new TypeError("mapper is not a function");return Array.from(t,((n,r)=>e(n,r,t)))}var je=l((()=>{}));function We(t,e,n){if("function"!=typeof e)throw new TypeError("reducer is not a function");let r,a,i=t[Symbol.iterator](),o=-1;if(arguments.length<3){if(({done:r,value:n}=i.next()),r)return;++o}for(;({done:r,value:a}=i.next()),!r;)n=e(n,a,++o,t);return n}var qe=l((()=>{}));function $e(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}var Xe=l((()=>{}));function Ge(t,...e){t=new Q(t);for(let n of e)for(let e of n)t.delete(e);return t}var Qe=l((()=>{Z()}));function Ze(t,e){let n=e[Symbol.iterator](),r=new Q;for(let e of t){if(r.has(e))return!1;let t,a;for(;({value:t,done:a}=n.next())&&!a;){if(Object.is(e,t))return!1;r.add(t)}}return!0}var Ke=l((()=>{Z()}));function Je(t,...e){t=new Q(t),e=e.map(tn);t:for(let n of t)for(let r of e)if(!r.has(n)){t.delete(n);continue t}return t}function tn(t){return t instanceof Q?t:new Q(t)}var en=l((()=>{Z()}));function nn(t,e){let n=t[Symbol.iterator](),r=new Set;for(let t of e){let e,a,i=rn(t);if(!r.has(i))for(;({value:e,done:a}=n.next());){if(a)return!1;let t=rn(e);if(r.add(t),Object.is(i,t))break}}return!0}function rn(t){return null!==t&&"object"==typeof t?t.valueOf():t}var an=l((()=>{}));function on(t,e){return nn(e,t)}var un=l((()=>{an()}));function ln(...t){let e=new Q;for(let n of t)for(let t of n)e.add(t);return e}var cn=l((()=>{Z()})),fn={};f(fn,{Adder:()=>H,InternMap:()=>G,InternSet:()=>Q,ascending:()=>h,bin:()=>Rt,bisect:()=>_,bisectCenter:()=>x,bisectLeft:()=>b,bisectRight:()=>y,bisector:()=>g,count:()=>M,cross:()=>C,cumsum:()=>E,descending:()=>z,deviation:()=>O,difference:()=>Ge,disjoint:()=>Ze,every:()=>Oe,extent:()=>Y,fcumsum:()=>U,filter:()=>Le,flatGroup:()=>rt,flatRollup:()=>at,fsum:()=>L,greatest:()=>_e,greatestIndex:()=>Se,group:()=>tt,groupSort:()=>yt,groups:()=>et,histogram:()=>Rt,index:()=>ut,indexes:()=>lt,intersection:()=>Je,least:()=>me,leastIndex:()=>be,map:()=>He,max:()=>It,maxIndex:()=>Kt,mean:()=>te,median:()=>ne,merge:()=>ae,min:()=>Ft,minIndex:()=>oe,mode:()=>le,nice:()=>Dt,pairs:()=>fe,permute:()=>ht,quantile:()=>Wt,quantileSorted:()=>qt,quickselect:()=>Ut,range:()=>de,rank:()=>pe,reduce:()=>We,reverse:()=>$e,rollup:()=>it,rollups:()=>ot,scan:()=>Ae,shuffle:()=>Te,shuffler:()=>Ve,some:()=>Ye,sort:()=>gt,subset:()=>on,sum:()=>Ne,superset:()=>nn,thresholdFreedmanDiaconis:()=>Xt,thresholdScott:()=>Qt,thresholdSturges:()=>Pt,tickIncrement:()=>kt,tickStep:()=>Vt,ticks:()=>At,transpose:()=>De,union:()=>ln,variance:()=>B,zip:()=>Be});var sn=l((()=>{S(),d(),p(),A(),N(),D(),P(),I(),F(),j(),st(),_t(),Ot(),Gt(),Zt(),Bt(),Yt(),Jt(),ee(),re(),ie(),Lt(),ue(),ce(),zt(),he(),dt(),$t(),jt(),ge(),ve(),ye(),xe(),we(),Me(),ke(),Ce(),Ee(),Et(),Pe(),R(),Re(),Ie(),Fe(),Ue(),je(),qe(),Xe(),mt(),Qe(),Ke(),en(),un(),an(),cn(),Z()})),hn=c(((t,e)=>{var n,r;n=t,r=function(t){"use strict";function e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function n(t){return 1===t.length&&(t=function(t){return function(n,r){return e(t(n),r)}}(t)),{left:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)<0?r=i+1:a=i}return r},right:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)>0?a=i:r=i+1}return r}}}var r=n(e),a=r.right,i=r.left;function o(t,e){return[t,e]}function u(t){return null===t?NaN:+t}function l(t,e){var n,r,a=t.length,i=0,o=-1,l=0,c=0;if(null==e)for(;++o<a;)isNaN(n=u(t[o]))||(c+=(r=n-l)*(n-(l+=r/++i)));else for(;++o<a;)isNaN(n=u(e(t[o],o,t)))||(c+=(r=n-l)*(n-(l+=r/++i)));if(i>1)return c/(i-1)}function c(t,e){var n=l(t,e);return n&&Math.sqrt(n)}function f(t,e){var n,r,a,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=a=n;++o<i;)null!=(n=t[o])&&(r>n&&(r=n),a<n&&(a=n))}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=a=n;++o<i;)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),a<n&&(a=n));return[r,a]}var s=Array.prototype,h=s.slice,d=s.map;function g(t){return function(){return t}}function p(t){return t}function v(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(a);++r<a;)i[r]=t+r*n;return i}var m=Math.sqrt(50),y=Math.sqrt(10),b=Math.sqrt(2);function x(t,e,n){var r=(e-t)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=m?10:i>=y?5:i>=b?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=m?10:i>=y?5:i>=b?2:1)}function _(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=m?a*=10:i>=y?a*=5:i>=b&&(a*=2),e<t?-a:a}function w(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function S(t,e,n){if(null==n&&(n=u),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),o=+n(t[i],i,t);return o+(+n(t[i+1],i+1,t)-o)*(a-i)}}function M(t,e){var n,r,a=t.length,i=-1;if(null==e){for(;++i<a;)if(null!=(n=t[i])&&n>=n)for(r=n;++i<a;)null!=(n=t[i])&&r>n&&(r=n)}else for(;++i<a;)if(null!=(n=e(t[i],i,t))&&n>=n)for(r=n;++i<a;)null!=(n=e(t[i],i,t))&&r>n&&(r=n);return r}function A(t){if(!(a=t.length))return[];for(var e=-1,n=M(t,k),r=new Array(n);++e<n;)for(var a,i=-1,o=r[e]=new Array(a);++i<a;)o[i]=t[i][e];return r}function k(t){return t.length}t.bisect=a,t.bisectRight=a,t.bisectLeft=i,t.ascending=e,t.bisector=n,t.cross=function(t,e,n){var r,a,i,u,l=t.length,c=e.length,f=new Array(l*c);for(null==n&&(n=o),r=i=0;r<l;++r)for(u=t[r],a=0;a<c;++a,++i)f[i]=n(u,e[a]);return f},t.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},t.deviation=c,t.extent=f,t.histogram=function(){var t=p,e=f,n=w;function r(r){var i,o,u=r.length,l=new Array(u);for(i=0;i<u;++i)l[i]=t(r[i],i,r);var c=e(l),f=c[0],s=c[1],h=n(l,f,s);Array.isArray(h)||(h=_(f,s,h),h=v(Math.ceil(f/h)*h,s,h));for(var d=h.length;h[0]<=f;)h.shift(),--d;for(;h[d-1]>s;)h.pop(),--d;var g,p=new Array(d+1);for(i=0;i<=d;++i)(g=p[i]=[]).x0=i>0?h[i-1]:f,g.x1=i<d?h[i]:s;for(i=0;i<u;++i)f<=(o=l[i])&&o<=s&&p[a(h,o,0,d)].push(r[i]);return p}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:g(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:g([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?g(h.call(t)):g(t),r):n},r},t.thresholdFreedmanDiaconis=function(t,n,r){return t=d.call(t,u).sort(e),Math.ceil((r-n)/(2*(S(t,.75)-S(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*c(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=w,t.max=function(t,e){var n,r,a=t.length,i=-1;if(null==e){for(;++i<a;)if(null!=(n=t[i])&&n>=n)for(r=n;++i<a;)null!=(n=t[i])&&n>r&&(r=n)}else for(;++i<a;)if(null!=(n=e(t[i],i,t))&&n>=n)for(r=n;++i<a;)null!=(n=e(t[i],i,t))&&n>r&&(r=n);return r},t.mean=function(t,e){var n,r=t.length,a=r,i=-1,o=0;if(null==e)for(;++i<r;)isNaN(n=u(t[i]))?--a:o+=n;else for(;++i<r;)isNaN(n=u(e(t[i],i,t)))?--a:o+=n;if(a)return o/a},t.median=function(t,n){var r,a=t.length,i=-1,o=[];if(null==n)for(;++i<a;)isNaN(r=u(t[i]))||o.push(r);else for(;++i<a;)isNaN(r=u(n(t[i],i,t)))||o.push(r);return S(o.sort(e),.5)},t.merge=function(t){for(var e,n,r,a=t.length,i=-1,o=0;++i<a;)o+=t[i].length;for(n=new Array(o);--a>=0;)for(e=(r=t[a]).length;--e>=0;)n[--o]=r[e];return n},t.min=M,t.pairs=function(t,e){null==e&&(e=o);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return i},t.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},t.quantile=S,t.range=v,t.scan=function(t,n){if(r=t.length){var r,a,i=0,o=0,u=t[o];for(null==n&&(n=e);++i<r;)(n(a=t[i],u)<0||0!==n(u,u))&&(u=a,o=i);if(0===n(u,u))return o}},t.shuffle=function(t,e,n){for(var r,a,i=(n??t.length)-(e=null==e?0:+e);i;)a=Math.random()*i--|0,r=t[i+e],t[i+e]=t[a+e],t[a+e]=r;return t},t.sum=function(t,e){var n,r=t.length,a=-1,i=0;if(null==e)for(;++a<r;)(n=+t[a])&&(i+=n);else for(;++a<r;)(n=+e(t[a],a,t))&&(i+=n);return i},t.ticks=function(t,e,n){var r,a,i,o,u=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(o=x(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),i=new Array(a=Math.ceil(e-t+1));++u<a;)i[u]=(t+u)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),i=new Array(a=Math.ceil(t-e+1));++u<a;)i[u]=(t-u)/o;return r&&i.reverse(),i},t.tickIncrement=x,t.tickStep=_,t.transpose=A,t.variance=l,t.zip=function(){return A(arguments)},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof t&&void 0!==e?r(t):"function"==typeof define&&define.amd?define(["exports"],r):r(n.d3=n.d3||{})})),dn=c(((t,e)=>{var n,r;n=t,r=function(t){"use strict";var e="$";function n(){}function r(t,e){var r=new n;if(t instanceof n)t.each((function(t,e){r.set(e,t)}));else if(Array.isArray(t)){var a,i=-1,o=t.length;if(null==e)for(;++i<o;)r.set(i,t[i]);else for(;++i<o;)r.set(e(a=t[i],i,t),a)}else if(t)for(var u in t)r.set(u,t[u]);return r}function a(){return{}}function i(t,e,n){t[e]=n}function o(){return r()}function u(t,e,n){t.set(e,n)}function l(){}n.prototype=r.prototype={constructor:n,has:function(t){return e+t in this},get:function(t){return this[e+t]},set:function(t,n){return this[e+t]=n,this},remove:function(t){var n=e+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===e&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===e&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===e&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===e&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===e&&++t;return t},empty:function(){for(var t in this)if(t[0]===e)return!1;return!0},each:function(t){for(var n in this)n[0]===e&&t(this[n],n.slice(1),this)}};var c=r.prototype;function f(t,e){var n=new l;if(t instanceof l)t.each((function(t){n.add(t)}));else if(t){var r=-1,a=t.length;if(null==e)for(;++r<a;)n.add(t[r]);else for(;++r<a;)n.add(e(t[r],r,t))}return n}l.prototype=f.prototype={constructor:l,has:c.has,add:function(t){return this[e+(t+="")]=t,this},remove:c.remove,clear:c.clear,values:c.keys,size:c.size,empty:c.empty,each:c.each},t.nest=function(){var t,e,n,l=[],c=[];function f(n,a,i,o){if(a>=l.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var u,c,s,h=-1,d=n.length,g=l[a++],p=r(),v=i();++h<d;)(s=p.get(u=g(c=n[h])+""))?s.push(c):p.set(u,[c]);return p.each((function(t,e){o(v,e,f(t,a,i,o))})),v}function s(t,n){if(++n>l.length)return t;var r,a=c[n-1];return null!=e&&n>=l.length?r=t.entries():(r=[],t.each((function(t,e){r.push({key:e,values:s(t,n)})}))),null!=a?r.sort((function(t,e){return a(t.key,e.key)})):r}return n={object:function(t){return f(t,0,a,i)},map:function(t){return f(t,0,o,u)},entries:function(t){return s(f(t,0,o,u),0)},key:function(t){return l.push(t),n},sortKeys:function(t){return c[l.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}},t.set=f,t.map=r,t.keys=function(t){var e=[];for(var n in t)e.push(n);return e},t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof t&&void 0!==e?r(t):"function"==typeof define&&define.amd?define(["exports"],r):r(n.d3=n.d3||{})})),gn=c(((t,e)=>{var n,r;n=t,r=function(t){"use strict";function e(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function n(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function r(){}var a=.7,i=1/a,o="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,f=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),s=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),h=new RegExp("^rgba\\("+[o,o,o,u]+"\\)$"),d=new RegExp("^rgba\\("+[l,l,l,u]+"\\)$"),g=new RegExp("^hsl\\("+[u,l,l]+"\\)$"),p=new RegExp("^hsla\\("+[u,l,l,u]+"\\)$"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m(){return this.rgb().formatHex()}function y(){return this.rgb().formatRgb()}function b(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=c.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?x(e):3===n?new M(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?_(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=f.exec(t))?new M(e[1],e[2],e[3],1):(e=s.exec(t))?new M(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=h.exec(t))?_(e[1],e[2],e[3],e[4]):(e=d.exec(t))?_(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=g.exec(t))?T(e[1],e[2]/100,e[3]/100,1):(e=p.exec(t))?T(e[1],e[2]/100,e[3]/100,e[4]):v.hasOwnProperty(t)?x(v[t]):"transparent"===t?new M(NaN,NaN,NaN,0):null}function x(t){return new M(t>>16&255,t>>8&255,255&t,1)}function _(t,e,n,r){return r<=0&&(t=e=n=NaN),new M(t,e,n,r)}function w(t){return t instanceof r||(t=b(t)),t?new M((t=t.rgb()).r,t.g,t.b,t.opacity):new M}function S(t,e,n,r){return 1===arguments.length?w(t):new M(t,e,n,r??1)}function M(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function A(){return"#"+V(this.r)+V(this.g)+V(this.b)}function k(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function V(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function T(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new E(t,e,n,r)}function C(t){if(t instanceof E)return new E(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=b(t)),!t)return new E;if(t instanceof E)return t;var e=(t=t.rgb()).r/255,n=t.g/255,a=t.b/255,i=Math.min(e,n,a),o=Math.max(e,n,a),u=NaN,l=o-i,c=(o+i)/2;return l?(u=e===o?(n-a)/l+6*(n<a):n===o?(a-e)/l+2:(e-n)/l+4,l/=c<.5?o+i:2-o-i,u*=60):l=c>0&&c<1?0:u,new E(u,l,c,t.opacity)}function N(t,e,n,r){return 1===arguments.length?C(t):new E(t,e,n,r??1)}function E(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function D(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}e(r,b,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:m,formatHex:m,formatHsl:function(){return C(this).formatHsl()},formatRgb:y,toString:y}),e(M,S,n(r,{brighter:function(t){return t=null==t?i:Math.pow(i,t),new M(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?a:Math.pow(a,t),new M(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A,formatHex:A,formatRgb:k,toString:k})),e(E,N,n(r,{brighter:function(t){return t=null==t?i:Math.pow(i,t),new E(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?a:Math.pow(a,t),new E(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new M(D(t>=240?t-240:t+120,a,r),D(t,a,r),D(t<120?t+240:t-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var z=Math.PI/180,P=180/Math.PI,B=.96422,R=.82521,O=4/29,I=6/29,Y=3*I*I;function F(t){if(t instanceof U)return new U(t.l,t.a,t.b,t.opacity);if(t instanceof G)return Q(t);t instanceof M||(t=w(t));var e,n,r=q(t.r),a=q(t.g),i=q(t.b),o=H((.2225045*r+.7168786*a+.0606169*i)/1);return r===a&&a===i?e=n=o:(e=H((.4360747*r+.3850649*a+.1430804*i)/B),n=H((.0139322*r+.0971045*a+.7141733*i)/R)),new U(116*o-16,500*(e-o),200*(o-n),t.opacity)}function L(t,e,n,r){return 1===arguments.length?F(t):new U(t,e,n,r??1)}function U(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function H(t){return t>.008856451679035631?Math.pow(t,1/3):t/Y+O}function j(t){return t>I?t*t*t:Y*(t-O)}function W(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function q(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function $(t){if(t instanceof G)return new G(t.h,t.c,t.l,t.opacity);if(t instanceof U||(t=F(t)),0===t.a&&0===t.b)return new G(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*P;return new G(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function X(t,e,n,r){return 1===arguments.length?$(t):new G(t,e,n,r??1)}function G(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Q(t){if(isNaN(t.h))return new U(t.l,0,0,t.opacity);var e=t.h*z;return new U(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}e(U,L,n(r,{brighter:function(t){return new U(this.l+18*(t??1),this.a,this.b,this.opacity)},darker:function(t){return new U(this.l-18*(t??1),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new M(W(3.1338561*(e=B*j(e))-1.6168667*(t=1*j(t))-.4906146*(n=R*j(n))),W(-.9787684*e+1.9161415*t+.033454*n),W(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),e(G,X,n(r,{brighter:function(t){return new G(this.h,this.c,this.l+18*(t??1),this.opacity)},darker:function(t){return new G(this.h,this.c,this.l-18*(t??1),this.opacity)},rgb:function(){return Q(this).rgb()}}));var Z=-.14861,K=1.78277,J=-.29227,tt=-.90649,et=1.97294,nt=et*tt,rt=et*K,at=K*J-tt*Z;function it(t){if(t instanceof ut)return new ut(t.h,t.s,t.l,t.opacity);t instanceof M||(t=w(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(at*r+nt*e-rt*n)/(at+nt-rt),i=r-a,o=(et*(n-a)-J*i)/tt,u=Math.sqrt(o*o+i*i)/(et*a*(1-a)),l=u?Math.atan2(o,i)*P-120:NaN;return new ut(l<0?l+360:l,u,a,t.opacity)}function ot(t,e,n,r){return 1===arguments.length?it(t):new ut(t,e,n,r??1)}function ut(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}e(ut,ot,n(r,{brighter:function(t){return t=null==t?i:Math.pow(i,t),new ut(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?a:Math.pow(a,t),new ut(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*z,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),a=Math.sin(t);return new M(255*(e+n*(Z*r+K*a)),255*(e+n*(J*r+tt*a)),255*(e+n*(et*r)),this.opacity)}})),t.color=b,t.cubehelix=ot,t.gray=function(t,e){return new U(t,0,0,e??1)},t.hcl=X,t.hsl=N,t.lab=L,t.lch=function(t,e,n,r){return 1===arguments.length?$(t):new G(n,e,t,r??1)},t.rgb=S,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof t&&void 0!==e?r(t):"function"==typeof define&&define.amd?define(["exports"],r):r((n=n||self).d3=n.d3||{})})),pn=c(((t,e)=>{var n,r;n=t,r=function(t,e){"use strict";function n(t,e,n,r,a){var i=t*t,o=i*t;return((1-3*t+3*i-o)*e+(4-6*i+3*o)*n+(1+3*t+3*i-3*o)*r+o*a)/6}function r(t){var e=t.length-1;return function(r){var a=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),i=t[a],o=t[a+1],u=a>0?t[a-1]:2*i-o,l=a<e-1?t[a+2]:2*o-i;return n((r-a/e)*e,u,i,o,l)}}function a(t){var e=t.length;return function(r){var a=Math.floor(((r%=1)<0?++r:r)*e),i=t[(a+e-1)%e],o=t[a%e],u=t[(a+1)%e],l=t[(a+2)%e];return n((r-a/e)*e,i,o,u,l)}}function i(t){return function(){return t}}function o(t,e){return function(n){return t+n*e}}function u(t,e){var n=e-t;return n?o(t,n>180||n<-180?n-360*Math.round(n/360):n):i(isNaN(t)?e:t)}function l(t){return 1==(t=+t)?c:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):i(isNaN(e)?n:e)}}function c(t,e){var n=e-t;return n?o(t,n):i(isNaN(t)?e:t)}var f=function t(n){var r=l(n);function a(t,n){var a=r((t=e.rgb(t)).r,(n=e.rgb(n)).r),i=r(t.g,n.g),o=r(t.b,n.b),u=c(t.opacity,n.opacity);return function(e){return t.r=a(e),t.g=i(e),t.b=o(e),t.opacity=u(e),t+""}}return a.gamma=t,a}(1);function s(t){return function(n){var r,a,i=n.length,o=new Array(i),u=new Array(i),l=new Array(i);for(r=0;r<i;++r)a=e.rgb(n[r]),o[r]=a.r||0,u[r]=a.g||0,l[r]=a.b||0;return o=t(o),u=t(u),l=t(l),a.opacity=1,function(t){return a.r=o(t),a.g=u(t),a.b=l(t),a+""}}}var h=s(r),d=s(a);function g(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,a=e.slice();return function(i){for(n=0;n<r;++n)a[n]=t[n]*(1-i)+e[n]*i;return a}}function p(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function v(t,e){var n,r=e?e.length:0,a=t?Math.min(r,t.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=S(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<a;++n)o[n]=i[n](t);return o}}function m(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function y(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function b(t,e){var n,r={},a={};for(n in(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={}),e)n in t?r[n]=S(t[n],e[n]):a[n]=e[n];return function(t){for(n in r)a[n]=r[n](t);return a}}var x=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_=new RegExp(x.source,"g");function w(t,e){var n,r,a,i=x.lastIndex=_.lastIndex=0,o=-1,u=[],l=[];for(t+="",e+="";(n=x.exec(t))&&(r=_.exec(e));)(a=r.index)>i&&(a=e.slice(i,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,l.push({i:o,x:y(n,r)})),i=_.lastIndex;return i<e.length&&(a=e.slice(i),u[o]?u[o]+=a:u[++o]=a),u.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)u[(n=l[r]).i]=n.x(t);return u.join("")})}function S(t,n){var r,a=typeof n;return null==n||"boolean"===a?i(n):("number"===a?y:"string"===a?(r=e.color(n))?(n=r,f):w:n instanceof e.color?f:n instanceof Date?m:p(n)?g:Array.isArray(n)?v:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?b:y)(t,n)}var M,A,k,V,T=180/Math.PI,C={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function N(t,e,n,r,a,i){var o,u,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*T,skewX:Math.atan(l)*T,scaleX:o,scaleY:u}}function E(t,e,n,r){function a(t){return t.length?t.pop()+" ":""}return function(i,o){var u=[],l=[];return i=t(i),o=t(o),function(t,r,a,i,o,u){if(t!==a||r!==i){var l=o.push("translate(",null,e,null,n);u.push({i:l-4,x:y(t,a)},{i:l-2,x:y(r,i)})}else(a||i)&&o.push("translate("+a+e+i+n)}(i.translateX,i.translateY,o.translateX,o.translateY,u,l),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:y(t,e)})):e&&n.push(a(n)+"rotate("+e+r)}(i.rotate,o.rotate,u,l),function(t,e,n,i){t!==e?i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:y(t,e)}):e&&n.push(a(n)+"skewX("+e+r)}(i.skewX,o.skewX,u,l),function(t,e,n,r,i,o){if(t!==n||e!==r){var u=i.push(a(i)+"scale(",null,",",null,")");o.push({i:u-4,x:y(t,n)},{i:u-2,x:y(e,r)})}else(1!==n||1!==r)&&i.push(a(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,u,l),i=o=null,function(t){for(var e,n=-1,r=l.length;++n<r;)u[(e=l[n]).i]=e.x(t);return u.join("")}}}var D=E((function(t){return"none"===t?C:(M||(M=document.createElement("DIV"),A=document.documentElement,k=document.defaultView),M.style.transform=t,t=k.getComputedStyle(A.appendChild(M),null).getPropertyValue("transform"),A.removeChild(M),N(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),z=E((function(t){return null!=t&&(V||(V=document.createElementNS("http://www.w3.org/2000/svg","g")),V.setAttribute("transform",t),t=V.transform.baseVal.consolidate())?N((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):C}),", ",")",")"),P=Math.SQRT2;function B(t){return((t=Math.exp(t))+1/t)/2}function R(t){return function(n,r){var a=t((n=e.hsl(n)).h,(r=e.hsl(r)).h),i=c(n.s,r.s),o=c(n.l,r.l),u=c(n.opacity,r.opacity);return function(t){return n.h=a(t),n.s=i(t),n.l=o(t),n.opacity=u(t),n+""}}}var O=R(u),I=R(c);function Y(t){return function(n,r){var a=t((n=e.hcl(n)).h,(r=e.hcl(r)).h),i=c(n.c,r.c),o=c(n.l,r.l),u=c(n.opacity,r.opacity);return function(t){return n.h=a(t),n.c=i(t),n.l=o(t),n.opacity=u(t),n+""}}}var F=Y(u),L=Y(c);function U(t){return function n(r){function a(n,a){var i=t((n=e.cubehelix(n)).h,(a=e.cubehelix(a)).h),o=c(n.s,a.s),u=c(n.l,a.l),l=c(n.opacity,a.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=u(Math.pow(t,r)),n.opacity=l(t),n+""}}return r=+r,a.gamma=n,a}(1)}var H=U(u),j=U(c);t.interpolate=S,t.interpolateArray=function(t,e){return(p(e)?g:v)(t,e)},t.interpolateBasis=r,t.interpolateBasisClosed=a,t.interpolateCubehelix=H,t.interpolateCubehelixLong=j,t.interpolateDate=m,t.interpolateDiscrete=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},t.interpolateHcl=F,t.interpolateHclLong=L,t.interpolateHsl=O,t.interpolateHslLong=I,t.interpolateHue=function(t,e){var n=u(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},t.interpolateLab=function(t,n){var r=c((t=e.lab(t)).l,(n=e.lab(n)).l),a=c(t.a,n.a),i=c(t.b,n.b),o=c(t.opacity,n.opacity);return function(e){return t.l=r(e),t.a=a(e),t.b=i(e),t.opacity=o(e),t+""}},t.interpolateNumber=y,t.interpolateNumberArray=g,t.interpolateObject=b,t.interpolateRgb=f,t.interpolateRgbBasis=h,t.interpolateRgbBasisClosed=d,t.interpolateRound=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},t.interpolateString=w,t.interpolateTransformCss=D,t.interpolateTransformSvg=z,t.interpolateZoom=function(t,e){var n,r,a=t[0],i=t[1],o=t[2],u=e[0],l=e[1],c=e[2],f=u-a,s=l-i,h=f*f+s*s;if(h<1e-12)r=Math.log(c/o)/P,n=function(t){return[a+t*f,i+t*s,o*Math.exp(P*t*r)]};else{var d=Math.sqrt(h),g=(c*c-o*o+4*h)/(2*o*2*d),p=(c*c-o*o-4*h)/(2*c*2*d),v=Math.log(Math.sqrt(g*g+1)-g),m=Math.log(Math.sqrt(p*p+1)-p);r=(m-v)/P,n=function(t){var e=t*r,n=B(v),u=o/(2*d)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(P*e+v)-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[a+u*f,i+u*s,o*n/B(P*e+v)]}}return n.duration=1e3*r,n},t.piecewise=function(t,e){for(var n=0,r=e.length-1,a=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(a,a=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return i[e](t-e)}},t.quantize=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof t&&void 0!==e?r(t,gn()):"function"==typeof define&&define.amd?define(["exports","d3-color"],r):r((n=n||self).d3=n.d3||{},n.d3)})),vn=c(((t,e)=>{var n,r;n=t,r=function(t){"use strict";function e(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function n(t){return(t=e(Math.abs(t)))?t[1]:NaN}var r,a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(t){if(!(e=a.exec(t)))throw new Error("invalid format: "+t);var e;return new o({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function o(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function u(t,n){var r=e(t,n);if(!r)return t+"";var a=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")}i.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var l={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return u(100*t,e)},r:u,s:function(t,n){var a=e(t,n);if(!a)return t+"";var i=a[0],o=a[1],u=o-(r=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,l=i.length;return u===l?i:u>l?i+new Array(u-l+1).join("0"):u>0?i.slice(0,u)+"."+i.slice(u):"0."+new Array(1-u).join("0")+e(t,Math.max(0,n+u-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function c(t){return t}var f,s=Array.prototype.map,h=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function d(t){var e=void 0===t.grouping||void 0===t.thousands?c:function(t,e){return function(n,r){for(var a=n.length,i=[],o=0,u=t[0],l=0;a>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),i.push(n.substring(a-=u,a+u)),!((l+=u+1)>r));)u=t[o=(o+1)%t.length];return i.reverse().join(e)}}(s.call(t.grouping,Number),t.thousands+""),a=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",f=void 0===t.numerals?c:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(s.call(t.numerals,String)),d=void 0===t.percent?"%":t.percent+"",g=void 0===t.minus?"-":t.minus+"",p=void 0===t.nan?"NaN":t.nan+"";function v(t){var n=(t=i(t)).fill,c=t.align,s=t.sign,v=t.symbol,m=t.zero,y=t.width,b=t.comma,x=t.precision,_=t.trim,w=t.type;"n"===w?(b=!0,w="g"):l[w]||(void 0===x&&(x=12),_=!0,w="g"),(m||"0"===n&&"="===c)&&(m=!0,n="0",c="=");var S="$"===v?a:"#"===v&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",M="$"===v?o:/[%p]/.test(w)?d:"",A=l[w],k=/[defgprs%]/.test(w);function V(t){var a,i,o,l=S,d=M;if("c"===w)d=A(t)+d,t="";else{var v=(t=+t)<0||1/t<0;if(t=isNaN(t)?p:A(Math.abs(t),x),_&&(t=function(t){t:for(var e,n=t.length,r=1,a=-1;r<n;++r)switch(t[r]){case".":a=e=r;break;case"0":0===a&&(a=r),e=r;break;default:if(!+t[r])break t;a>0&&(a=0)}return a>0?t.slice(0,a)+t.slice(e+1):t}(t)),v&&0==+t&&"+"!==s&&(v=!1),l=(v?"("===s?s:g:"-"===s||"("===s?"":s)+l,d=("s"===w?h[8+r/3]:"")+d+(v&&"("===s?")":""),k)for(a=-1,i=t.length;++a<i;)if(48>(o=t.charCodeAt(a))||o>57){d=(46===o?u+t.slice(a+1):t.slice(a))+d,t=t.slice(0,a);break}}b&&!m&&(t=e(t,1/0));var V=l.length+t.length+d.length,T=V<y?new Array(y-V+1).join(n):"";switch(b&&m&&(t=e(T+t,T.length?y-d.length:1/0),T=""),c){case"<":t=l+t+d+T;break;case"=":t=l+T+t+d;break;case"^":t=T.slice(0,V=T.length>>1)+l+t+d+T.slice(V);break;default:t=T+l+t+d}return f(t)}return x=void 0===x?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),V.toString=function(){return t+""},V}return{format:v,formatPrefix:function(t,e){var r=v(((t=i(t)).type="f",t)),a=3*Math.max(-8,Math.min(8,Math.floor(n(e)/3))),o=Math.pow(10,-a),u=h[8+a/3];return function(t){return r(o*t)+u}}}}function g(e){return f=d(e),t.format=f.format,t.formatPrefix=f.formatPrefix,f}g({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),t.FormatSpecifier=o,t.formatDefaultLocale=g,t.formatLocale=d,t.formatSpecifier=i,t.precisionFixed=function(t){return Math.max(0,-n(Math.abs(t)))},t.precisionPrefix=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(e)/3)))-n(Math.abs(t)))},t.precisionRound=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,n(e)-n(t))+1},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof t&&void 0!==e?r(t):"function"==typeof define&&define.amd?define(["exports"],r):r((n="undefined"!=typeof globalThis?globalThis:n||self).d3=n.d3||{})})),mn=c(((t,e)=>{var n,r;n=t,r=function(t){"use strict";var e=new Date,n=new Date;function r(t,a,i,o){function u(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return u.floor=function(e){return t(e=new Date(+e)),e},u.ceil=function(e){return t(e=new Date(e-1)),a(e,1),t(e),e},u.round=function(t){var e=u(t),n=u.ceil(t);return t-e<n-t?e:n},u.offset=function(t,e){return a(t=new Date(+t),null==e?1:Math.floor(e)),t},u.range=function(e,n,r){var i,o=[];if(e=u.ceil(e),r=null==r?1:Math.floor(r),!(e<n&&r>0))return o;do{o.push(i=new Date(+e)),a(e,r),t(e)}while(i<e&&e<n);return o},u.filter=function(e){return r((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,n){if(t>=t)if(n<0)for(;++n<=0;)for(;a(t,-1),!e(t););else for(;--n>=0;)for(;a(t,1),!e(t););}))},i&&(u.count=function(r,a){return e.setTime(+r),n.setTime(+a),t(e),t(n),Math.floor(i(e,n))},u.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?u.filter(o?function(e){return o(e)%t==0}:function(e){return u.count(0,e)%t==0}):u:null}),u}var a=r((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):a:null};var i=a.range,o=1e3,u=6e4,l=36e5,c=864e5,f=6048e5,s=r((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*o)}),(function(t,e){return(e-t)/o}),(function(t){return t.getUTCSeconds()})),h=s.range,d=r((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*o)}),(function(t,e){t.setTime(+t+e*u)}),(function(t,e){return(e-t)/u}),(function(t){return t.getMinutes()})),g=d.range,p=r((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*o-t.getMinutes()*u)}),(function(t,e){t.setTime(+t+e*l)}),(function(t,e){return(e-t)/l}),(function(t){return t.getHours()})),v=p.range,m=r((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*u)/c}),(function(t){return t.getDate()-1})),y=m.range;function b(t){return r((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*u)/f}))}var x=b(0),_=b(1),w=b(2),S=b(3),M=b(4),A=b(5),k=b(6),V=x.range,T=_.range,C=w.range,N=S.range,E=M.range,D=A.range,z=k.range,P=r((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),B=P.range,R=r((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));R.every=function(t){return isFinite(t=Math.floor(t))&&t>0?r((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var O=R.range,I=r((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*u)}),(function(t,e){return(e-t)/u}),(function(t){return t.getUTCMinutes()})),Y=I.range,F=r((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*l)}),(function(t,e){return(e-t)/l}),(function(t){return t.getUTCHours()})),L=F.range,U=r((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/c}),(function(t){return t.getUTCDate()-1})),H=U.range;function j(t){return r((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/f}))}var W=j(0),q=j(1),$=j(2),X=j(3),G=j(4),Q=j(5),Z=j(6),K=W.range,J=q.range,tt=$.range,et=X.range,nt=G.range,rt=Q.range,at=Z.range,it=r((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),ot=it.range,ut=r((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));ut.every=function(t){return isFinite(t=Math.floor(t))&&t>0?r((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var lt=ut.range;t.timeDay=m,t.timeDays=y,t.timeFriday=A,t.timeFridays=D,t.timeHour=p,t.timeHours=v,t.timeInterval=r,t.timeMillisecond=a,t.timeMilliseconds=i,t.timeMinute=d,t.timeMinutes=g,t.timeMonday=_,t.timeMondays=T,t.timeMonth=P,t.timeMonths=B,t.timeSaturday=k,t.timeSaturdays=z,t.timeSecond=s,t.timeSeconds=h,t.timeSunday=x,t.timeSundays=V,t.timeThursday=M,t.timeThursdays=E,t.timeTuesday=w,t.timeTuesdays=C,t.timeWednesday=S,t.timeWednesdays=N,t.timeWeek=x,t.timeWeeks=V,t.timeYear=R,t.timeYears=O,t.utcDay=U,t.utcDays=H,t.utcFriday=Q,t.utcFridays=rt,t.utcHour=F,t.utcHours=L,t.utcMillisecond=a,t.utcMilliseconds=i,t.utcMinute=I,t.utcMinutes=Y,t.utcMonday=q,t.utcMondays=J,t.utcMonth=it,t.utcMonths=ot,t.utcSaturday=Z,t.utcSaturdays=at,t.utcSecond=s,t.utcSeconds=h,t.utcSunday=W,t.utcSundays=K,t.utcThursday=G,t.utcThursdays=nt,t.utcTuesday=$,t.utcTuesdays=tt,t.utcWednesday=X,t.utcWednesdays=et,t.utcWeek=W,t.utcWeeks=K,t.utcYear=ut,t.utcYears=lt,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof t&&void 0!==e?r(t):"function"==typeof define&&define.amd?define(["exports"],r):r((n=n||self).d3=n.d3||{})})),yn=c(((t,e)=>{var n,r;n=t,r=function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function a(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function i(t){var i=t.dateTime,o=t.date,l=t.time,c=t.periods,f=t.days,s=t.shortDays,h=t.months,q=t.shortMonths,ht=d(c),Mt=g(c),At=d(f),kt=g(f),Vt=d(s),Tt=g(s),Ct=d(h),Nt=g(h),Et=d(q),Dt=g(q),zt={a:function(t){return s[t.getDay()]},A:function(t){return f[t.getDay()]},b:function(t){return q[t.getMonth()]},B:function(t){return h[t.getMonth()]},c:null,d:B,e:B,f:F,g:Z,G:J,H:R,I:O,j:I,L:Y,m:L,M:U,p:function(t){return c[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:wt,s:St,S:H,u:j,U:W,V:$,w:X,W:G,x:null,X:null,y:Q,Y:K,Z:tt,"%":_t},Pt={a:function(t){return s[t.getUTCDay()]},A:function(t){return f[t.getUTCDay()]},b:function(t){return q[t.getUTCMonth()]},B:function(t){return h[t.getUTCMonth()]},c:null,d:et,e:et,f:ot,g:mt,G:bt,H:nt,I:rt,j:at,L:it,m:ut,M:lt,p:function(t){return c[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:wt,s:St,S:ct,u:ft,U:st,V:dt,w:gt,W:pt,x:null,X:null,y:vt,Y:yt,Z:xt,"%":_t},Bt={a:function(t,e,n){var r=Vt.exec(e.slice(n));return r?(t.w=Tt[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=At.exec(e.slice(n));return r?(t.w=kt[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=Et.exec(e.slice(n));return r?(t.m=Dt[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=Ct.exec(e.slice(n));return r?(t.m=Nt[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return It(t,i,e,n)},d:A,e:A,f:E,g:_,G:x,H:V,I:V,j:k,L:N,m:M,M:T,p:function(t,e,n){var r=ht.exec(e.slice(n));return r?(t.p=Mt[r[0].toLowerCase()],n+r[0].length):-1},q:S,Q:z,s:P,S:C,u:v,U:m,V:y,w:p,W:b,x:function(t,e,n){return It(t,o,e,n)},X:function(t,e,n){return It(t,l,e,n)},y:_,Y:x,Z:w,"%":D};function Rt(t,e){return function(n){var r,a,i,o=[],l=-1,c=0,f=t.length;for(n instanceof Date||(n=new Date(+n));++l<f;)37===t.charCodeAt(l)&&(o.push(t.slice(c,l)),null!=(a=u[r=t.charAt(++l)])?r=t.charAt(++l):a="e"===r?" ":"0",(i=e[r])&&(r=i(n,a)),o.push(r),c=l+1);return o.push(t.slice(c,l)),o.join("")}}function Ot(t,i){return function(o){var u,l,c=a(1900,void 0,1);if(It(c,t,o+="",0)!=o.length)return null;if("Q"in c)return new Date(c.Q);if("s"in c)return new Date(1e3*c.s+("L"in c?c.L:0));if(i&&!("Z"in c)&&(c.Z=0),"p"in c&&(c.H=c.H%12+12*c.p),void 0===c.m&&(c.m="q"in c?c.q:0),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(l=(u=r(a(c.y,0,1))).getUTCDay(),u=l>4||0===l?e.utcMonday.ceil(u):e.utcMonday(u),u=e.utcDay.offset(u,7*(c.V-1)),c.y=u.getUTCFullYear(),c.m=u.getUTCMonth(),c.d=u.getUTCDate()+(c.w+6)%7):(l=(u=n(a(c.y,0,1))).getDay(),u=l>4||0===l?e.timeMonday.ceil(u):e.timeMonday(u),u=e.timeDay.offset(u,7*(c.V-1)),c.y=u.getFullYear(),c.m=u.getMonth(),c.d=u.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),l="Z"in c?r(a(c.y,0,1)).getUTCDay():n(a(c.y,0,1)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(l+5)%7:c.w+7*c.U-(l+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,r(c)):n(c)}}function It(t,e,n,r){for(var a,i,o=0,l=e.length,c=n.length;o<l;){if(r>=c)return-1;if(37===(a=e.charCodeAt(o++))){if(a=e.charAt(o++),!(i=Bt[a in u?e.charAt(o++):a])||(r=i(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return zt.x=Rt(o,zt),zt.X=Rt(l,zt),zt.c=Rt(i,zt),Pt.x=Rt(o,Pt),Pt.X=Rt(l,Pt),Pt.c=Rt(i,Pt),{format:function(t){var e=Rt(t+="",zt);return e.toString=function(){return t},e},parse:function(t){var e=Ot(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=Rt(t+="",Pt);return e.toString=function(){return t},e},utcParse:function(t){var e=Ot(t+="",!0);return e.toString=function(){return t},e}}}var o,u={"-":"",_:" ",0:"0"},l=/^\s*\d+/,c=/^%/,f=/[\\^$*+?|[\]().{}]/g;function s(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function h(t){return t.replace(f,"\\$&")}function d(t){return new RegExp("^(?:"+t.map(h).join("|")+")","i")}function g(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function p(t,e,n){var r=l.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function v(t,e,n){var r=l.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function m(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function y(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function b(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function x(t,e,n){var r=l.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function _(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function w(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function S(t,e,n){var r=l.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function M(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function A(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function k(t,e,n){var r=l.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function V(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function T(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function C(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function N(t,e,n){var r=l.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function E(t,e,n){var r=l.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function D(t,e,n){var r=c.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function z(t,e,n){var r=l.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function P(t,e,n){var r=l.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function B(t,e){return s(t.getDate(),e,2)}function R(t,e){return s(t.getHours(),e,2)}function O(t,e){return s(t.getHours()%12||12,e,2)}function I(t,n){return s(1+e.timeDay.count(e.timeYear(t),t),n,3)}function Y(t,e){return s(t.getMilliseconds(),e,3)}function F(t,e){return Y(t,e)+"000"}function L(t,e){return s(t.getMonth()+1,e,2)}function U(t,e){return s(t.getMinutes(),e,2)}function H(t,e){return s(t.getSeconds(),e,2)}function j(t){var e=t.getDay();return 0===e?7:e}function W(t,n){return s(e.timeSunday.count(e.timeYear(t)-1,t),n,2)}function q(t){var n=t.getDay();return n>=4||0===n?e.timeThursday(t):e.timeThursday.ceil(t)}function $(t,n){return t=q(t),s(e.timeThursday.count(e.timeYear(t),t)+(4===e.timeYear(t).getDay()),n,2)}function X(t){return t.getDay()}function G(t,n){return s(e.timeMonday.count(e.timeYear(t)-1,t),n,2)}function Q(t,e){return s(t.getFullYear()%100,e,2)}function Z(t,e){return s((t=q(t)).getFullYear()%100,e,2)}function K(t,e){return s(t.getFullYear()%1e4,e,4)}function J(t,n){var r=t.getDay();return s((t=r>=4||0===r?e.timeThursday(t):e.timeThursday.ceil(t)).getFullYear()%1e4,n,4)}function tt(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+s(e/60|0,"0",2)+s(e%60,"0",2)}function et(t,e){return s(t.getUTCDate(),e,2)}function nt(t,e){return s(t.getUTCHours(),e,2)}function rt(t,e){return s(t.getUTCHours()%12||12,e,2)}function at(t,n){return s(1+e.utcDay.count(e.utcYear(t),t),n,3)}function it(t,e){return s(t.getUTCMilliseconds(),e,3)}function ot(t,e){return it(t,e)+"000"}function ut(t,e){return s(t.getUTCMonth()+1,e,2)}function lt(t,e){return s(t.getUTCMinutes(),e,2)}function ct(t,e){return s(t.getUTCSeconds(),e,2)}function ft(t){var e=t.getUTCDay();return 0===e?7:e}function st(t,n){return s(e.utcSunday.count(e.utcYear(t)-1,t),n,2)}function ht(t){var n=t.getUTCDay();return n>=4||0===n?e.utcThursday(t):e.utcThursday.ceil(t)}function dt(t,n){return t=ht(t),s(e.utcThursday.count(e.utcYear(t),t)+(4===e.utcYear(t).getUTCDay()),n,2)}function gt(t){return t.getUTCDay()}function pt(t,n){return s(e.utcMonday.count(e.utcYear(t)-1,t),n,2)}function vt(t,e){return s(t.getUTCFullYear()%100,e,2)}function mt(t,e){return s((t=ht(t)).getUTCFullYear()%100,e,2)}function yt(t,e){return s(t.getUTCFullYear()%1e4,e,4)}function bt(t,n){var r=t.getUTCDay();return s((t=r>=4||0===r?e.utcThursday(t):e.utcThursday.ceil(t)).getUTCFullYear()%1e4,n,4)}function xt(){return"+0000"}function _t(){return"%"}function wt(t){return+t}function St(t){return Math.floor(+t/1e3)}function Mt(e){return o=i(e),t.timeFormat=o.format,t.timeParse=o.parse,t.utcFormat=o.utcFormat,t.utcParse=o.utcParse,o}Mt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var At="%Y-%m-%dT%H:%M:%S.%LZ",kt=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat(At),Vt=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:t.utcParse(At);t.isoFormat=kt,t.isoParse=Vt,t.timeFormatDefaultLocale=Mt,t.timeFormatLocale=i,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof t&&void 0!==e?r(t,mn()):"function"==typeof define&&define.amd?define(["exports","d3-time"],r):r((n=n||self).d3=n.d3||{},n.d3)})),bn=c(((t,e)=>{var n,r;n=t,r=function(t,e,n,r,a,i,o,u){"use strict";var l=Array.prototype,c=l.map,f=l.slice,s={name:"implicit"};function h(t){var e=n.map(),r=[],a=s;function i(n){var i=n+"",o=e.get(i);if(!o){if(a!==s)return a;e.set(i,o=r.push(n))}return t[(o-1)%t.length]}return t=null==t?[]:f.call(t),i.domain=function(t){if(!arguments.length)return r.slice();r=[],e=n.map();for(var a,o,u=-1,l=t.length;++u<l;)e.has(o=(a=t[u])+"")||e.set(o,r.push(a));return i},i.range=function(e){return arguments.length?(t=f.call(e),i):t.slice()},i.unknown=function(t){return arguments.length?(a=t,i):a},i.copy=function(){return h().domain(r).range(t).unknown(a)},i}function d(){var t,n,r=h().unknown(void 0),a=r.domain,i=r.range,o=[0,1],u=!1,l=0,c=0,f=.5;function s(){var r=a().length,s=o[1]<o[0],h=o[s-0],d=o[1-s];t=(d-h)/Math.max(1,r-l+2*c),u&&(t=Math.floor(t)),h+=(d-h-t*(r-l))*f,n=t*(1-l),u&&(h=Math.round(h),n=Math.round(n));var g=e.range(r).map((function(e){return h+t*e}));return i(s?g.reverse():g)}return delete r.unknown,r.domain=function(t){return arguments.length?(a(t),s()):a()},r.range=function(t){return arguments.length?(o=[+t[0],+t[1]],s()):o.slice()},r.rangeRound=function(t){return o=[+t[0],+t[1]],u=!0,s()},r.bandwidth=function(){return n},r.step=function(){return t},r.round=function(t){return arguments.length?(u=!!t,s()):u},r.padding=function(t){return arguments.length?(l=c=Math.max(0,Math.min(1,t)),s()):l},r.paddingInner=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),s()):l},r.paddingOuter=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),s()):c},r.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),s()):f},r.copy=function(){return d().domain(a()).range(o).round(u).paddingInner(l).paddingOuter(c).align(f)},s()}function g(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return g(e())},t}function p(t){return function(){return t}}function v(t){return+t}var m=[0,1];function y(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:p(e)}function b(t,e,n,r){var a=t[0],i=t[1],o=e[0],u=e[1];return i<a?(a=n(i,a),o=r(u,o)):(a=n(a,i),o=r(o,u)),function(t){return o(a(t))}}function x(t,n,r,a){var i=Math.min(t.length,n.length)-1,o=new Array(i),u=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++l<i;)o[l]=r(t[l],t[l+1]),u[l]=a(n[l],n[l+1]);return function(n){var r=e.bisect(t,n,1,i)-1;return u[r](o[r](n))}}function _(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function w(t,e){var n,a,i,o=m,u=m,l=r.interpolate,s=!1;function h(){return n=Math.min(o.length,u.length)>2?x:b,a=i=null,d}function d(e){return(a||(a=n(o,u,s?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,l)))(+e)}return d.invert=function(t){return(i||(i=n(u,o,y,s?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},d.domain=function(t){return arguments.length?(o=c.call(t,v),h()):o.slice()},d.range=function(t){return arguments.length?(u=f.call(t),h()):u.slice()},d.rangeRound=function(t){return u=f.call(t),l=r.interpolateRound,h()},d.clamp=function(t){return arguments.length?(s=!!t,h()):s},d.interpolate=function(t){return arguments.length?(l=t,h()):l},h()}function S(t){var n=t.domain;return t.ticks=function(t){var r=n();return e.ticks(r[0],r[r.length-1],t??10)},t.tickFormat=function(t,r){return function(t,n,r){var i,o=t[0],u=t[t.length-1],l=e.tickStep(o,u,n??10);switch((r=a.formatSpecifier(r??",f")).type){case"s":var c=Math.max(Math.abs(o),Math.abs(u));return null==r.precision&&!isNaN(i=a.precisionPrefix(l,c))&&(r.precision=i),a.formatPrefix(r,c);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(i=a.precisionRound(l,Math.max(Math.abs(o),Math.abs(u))))&&(r.precision=i-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(i=a.precisionFixed(l))&&(r.precision=i-2*("%"===r.type))}return a.format(r)}(n(),t,r)},t.nice=function(r){var a=n(),i=a.length-1,o=r??10,u=a[0],l=a[i],c=e.tickStep(u,l,o);return c&&(c=e.tickStep(Math.floor(u/c)*c,Math.ceil(l/c)*c,o),a[0]=Math.floor(u/c)*c,a[i]=Math.ceil(l/c)*c,n(a)),t},t}function M(t,e){var n,r=0,a=(t=t.slice()).length-1,i=t[r],o=t[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),t[r]=e.floor(i),t[a]=e.ceil(o),t}function A(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:p(e)}function k(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function V(t){return isFinite(t)?+("1e"+t):t<0?0:t}function T(t){return 10===t?V:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function C(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function N(t){return function(e){return-t(-e)}}function E(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function D(){var t=1,e=w((function(e,n){return(n=E(n,t)-(e=E(e,t)))?function(r){return(E(r,t)-e)/n}:p(n)}),(function(e,n){return n=E(n,t)-(e=E(e,t)),function(r){return E(e+n*r,1/t)}})),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return _(e,D().exponent(t))},S(e)}var z=1e3,P=60*z,B=60*P,R=24*B,O=30*R,I=365*R;function Y(t){return new Date(t)}function F(t){return t instanceof Date?+t:+new Date(+t)}function L(t,n,a,i,o,u,l,f,s){var h=w(y,r.interpolateNumber),d=h.invert,g=h.domain,p=s(".%L"),v=s(":%S"),m=s("%I:%M"),b=s("%I %p"),x=s("%a %d"),S=s("%b %d"),A=s("%B"),k=s("%Y"),V=[[l,1,z],[l,5,5*z],[l,15,15*z],[l,30,30*z],[u,1,P],[u,5,5*P],[u,15,15*P],[u,30,30*P],[o,1,B],[o,3,3*B],[o,6,6*B],[o,12,12*B],[i,1,R],[i,2,2*R],[a,1,6048e5],[n,1,O],[n,3,3*O],[t,1,I]];function T(e){return(l(e)<e?p:u(e)<e?v:o(e)<e?m:i(e)<e?b:n(e)<e?a(e)<e?x:S:t(e)<e?A:k)(e)}function C(n,r,a,i){if(null==n&&(n=10),"number"==typeof n){var o=Math.abs(a-r)/n,u=e.bisector((function(t){return t[2]})).right(V,o);u===V.length?(i=e.tickStep(r/I,a/I,n),n=t):u?(i=(u=V[o/V[u-1][2]<V[u][2]/o?u-1:u])[1],n=u[0]):(i=e.tickStep(r,a,n),n=f)}return null==i?n:n.every(i)}return h.invert=function(t){return new Date(d(t))},h.domain=function(t){return arguments.length?g(c.call(t,F)):g().map(Y)},h.ticks=function(t,e){var n,r=g(),a=r[0],i=r[r.length-1],o=i<a;return o&&(n=a,a=i,i=n),n=(n=C(t,a,i,e))?n.range(a,i+1):[],o?n.reverse():n},h.tickFormat=function(t,e){return null==e?T:s(e)},h.nice=function(t,e){var n=g();return(t=C(t,n[0],n[n.length-1],e))?g(M(n,t)):h},h.copy=function(){return _(h,L(t,n,a,i,o,u,l,f,s))},h}function U(t){return t.match(/.{6}/g).map((function(t){return"#"+t}))}var H=U("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),j=U("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),W=U("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),q=U("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),$=r.interpolateCubehelixLong(u.cubehelix(300,.5,0),u.cubehelix(-240,.5,1)),X=r.interpolateCubehelixLong(u.cubehelix(-100,.75,.35),u.cubehelix(80,1.5,.8)),G=r.interpolateCubehelixLong(u.cubehelix(260,.75,.35),u.cubehelix(80,1.5,.8)),Q=u.cubehelix();function Z(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var K=Z(U("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),J=Z(U("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),tt=Z(U("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),et=Z(U("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));t.scaleBand=d,t.scalePoint=function(){return g(d().paddingInner(1))},t.scaleIdentity=function t(){var e=[0,1];function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=c.call(t,v),n):e.slice()},n.copy=function(){return t().domain(e)},S(n)},t.scaleLinear=function t(){var e=w(y,r.interpolateNumber);return e.copy=function(){return _(e,t())},S(e)},t.scaleLog=function t(){var n=w(A,k).domain([1,10]),r=n.domain,i=10,o=C(10),u=T(10);function l(){return o=C(i),u=T(i),r()[0]<0&&(o=N(o),u=N(u)),n}return n.base=function(t){return arguments.length?(i=+t,l()):i},n.domain=function(t){return arguments.length?(r(t),l()):r()},n.ticks=function(t){var n,a=r(),l=a[0],c=a[a.length-1];(n=c<l)&&(d=l,l=c,c=d);var f,s,h,d=o(l),g=o(c),p=null==t?10:+t,v=[];if(!(i%1)&&g-d<p){if(d=Math.round(d)-1,g=Math.round(g)+1,l>0){for(;d<g;++d)for(s=1,f=u(d);s<i;++s)if(!((h=f*s)<l)){if(h>c)break;v.push(h)}}else for(;d<g;++d)for(s=i-1,f=u(d);s>=1;--s)if(!((h=f*s)<l)){if(h>c)break;v.push(h)}}else v=e.ticks(d,g,Math.min(g-d,p)).map(u);return n?v.reverse():v},n.tickFormat=function(t,e){if(null==e&&(e=10===i?".0e":","),"function"!=typeof e&&(e=a.format(e)),t===1/0)return e;null==t&&(t=10);var r=Math.max(1,i*t/n.ticks().length);return function(t){var n=t/u(Math.round(o(t)));return n*i<i-.5&&(n*=i),n<=r?e(t):""}},n.nice=function(){return r(M(r(),{floor:function(t){return u(Math.floor(o(t)))},ceil:function(t){return u(Math.ceil(o(t)))}}))},n.copy=function(){return _(n,t().base(i))},n},t.scaleOrdinal=h,t.scaleImplicit=s,t.scalePow=D,t.scaleSqrt=function(){return D().exponent(.5)},t.scaleQuantile=function t(){var n=[],r=[],a=[];function i(){var t=0,i=Math.max(1,r.length);for(a=new Array(i-1);++t<i;)a[t-1]=e.quantile(n,t/i);return o}function o(t){if(!isNaN(t=+t))return r[e.bisect(a,t)]}return o.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[e>0?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]},o.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var r,a=0,o=t.length;a<o;++a)null!=(r=t[a])&&!isNaN(r=+r)&&n.push(r);return n.sort(e.ascending),i()},o.range=function(t){return arguments.length?(r=f.call(t),i()):r.slice()},o.quantiles=function(){return a.slice()},o.copy=function(){return t().domain(n).range(r)},o},t.scaleQuantize=function t(){var n=0,r=1,a=1,i=[.5],o=[0,1];function u(t){if(t<=t)return o[e.bisect(i,t,0,a)]}function l(){var t=-1;for(i=new Array(a);++t<a;)i[t]=((t+1)*r-(t-a)*n)/(a+1);return u}return u.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],l()):[n,r]},u.range=function(t){return arguments.length?(a=(o=f.call(t)).length-1,l()):o.slice()},u.invertExtent=function(t){var e=o.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,i[0]]:e>=a?[i[a-1],r]:[i[e-1],i[e]]},u.copy=function(){return t().domain([n,r]).range(o)},S(u)},t.scaleThreshold=function t(){var n=[.5],r=[0,1],a=1;function i(t){if(t<=t)return r[e.bisect(n,t,0,a)]}return i.domain=function(t){return arguments.length?(n=f.call(t),a=Math.min(n.length,r.length-1),i):n.slice()},i.range=function(t){return arguments.length?(r=f.call(t),a=Math.min(n.length,r.length-1),i):r.slice()},i.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},i.copy=function(){return t().domain(n).range(r)},i},t.scaleTime=function(){return L(i.timeYear,i.timeMonth,i.timeWeek,i.timeDay,i.timeHour,i.timeMinute,i.timeSecond,i.timeMillisecond,o.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},t.scaleUtc=function(){return L(i.utcYear,i.utcMonth,i.utcWeek,i.utcDay,i.utcHour,i.utcMinute,i.utcSecond,i.utcMillisecond,o.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},t.schemeCategory10=H,t.schemeCategory20b=j,t.schemeCategory20c=W,t.schemeCategory20=q,t.interpolateCubehelixDefault=$,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Q.h=360*t-100,Q.s=1.5-1.5*e,Q.l=.8-.9*e,Q+""},t.interpolateWarm=X,t.interpolateCool=G,t.interpolateViridis=K,t.interpolateMagma=J,t.interpolateInferno=tt,t.interpolatePlasma=et,t.scaleSequential=function t(e){var n=0,r=1,a=!1;function i(t){var i=(t-n)/(r-n);return e(a?Math.max(0,Math.min(1,i)):i)}return i.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],i):[n,r]},i.clamp=function(t){return arguments.length?(a=!!t,i):a},i.interpolator=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return t(e).domain([n,r]).clamp(a)},S(i)},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof t&&void 0!==e?r(t,hn(),dn(),pn(),vn(),mn(),yn(),gn()):"function"==typeof define&&define.amd?define(["exports","d3-array","d3-collection","d3-interpolate","d3-format","d3-time","d3-time-format","d3-color"],r):r(n.d3=n.d3||{},n.d3,n.d3,n.d3,n.d3,n.d3,n.d3,n.d3)}));function xn(t,e,n,r){function a(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return a.floor=function(e){return t(e=new Date(+e)),e},a.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},a.range=function(n,r,i){var o,u=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return u;do{u.push(o=new Date(+n)),e(n,i),t(n)}while(o<n&&n<r);return u},a.filter=function(n){return xn((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(a.count=function(e,r){return _n.setTime(+e),wn.setTime(+r),t(_n),t(wn),Math.floor(n(_n,wn))},a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(r?function(e){return r(e)%t==0}:function(e){return a.count(0,e)%t==0}):a:null}),a}var _n,wn,Sn,Mn,An,kn,Vn,Tn,Cn,Nn,En,Dn,zn,Pn,Bn,Rn,On,In,Yn,Fn,Ln,Un,Hn,jn,Wn=l((()=>{_n=new Date,wn=new Date})),qn=l((()=>{Wn(),(Sn=xn((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}))).every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?xn((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Sn:null},Mn=Sn,An=Sn.range})),$n=l((()=>{Nn=7*(Cn=24*(Tn=60*(Vn=60*(kn=1e3)))),En=30*Cn,Dn=365*Cn})),Xn=l((()=>{Wn(),$n(),zn=xn((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*kn)}),(function(t,e){return(e-t)/kn}),(function(t){return t.getUTCSeconds()})),Pn=zn,Bn=zn.range})),Gn=l((()=>{Wn(),$n(),Rn=xn((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*kn)}),(function(t,e){t.setTime(+t+e*Vn)}),(function(t,e){return(e-t)/Vn}),(function(t){return t.getMinutes()})),On=Rn,In=Rn.range})),Qn=l((()=>{Wn(),$n(),Yn=xn((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*kn-t.getMinutes()*Vn)}),(function(t,e){t.setTime(+t+e*Tn)}),(function(t,e){return(e-t)/Tn}),(function(t){return t.getHours()})),Fn=Yn,Ln=Yn.range})),Zn=l((()=>{Wn(),$n(),Un=xn((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Vn)/Cn),(t=>t.getDate()-1)),Hn=Un,jn=Un.range}));function Kn(t){return xn((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Vn)/Nn}))}var Jn,tr,er,nr,rr,ar,ir,or,ur,lr,cr,fr,sr,hr,dr,gr,pr,vr,mr,yr,br,xr,_r,wr,Sr,Mr,Ar,kr,Vr,Tr=l((()=>{Wn(),$n(),Jn=Kn(0),tr=Kn(1),er=Kn(2),nr=Kn(3),rr=Kn(4),ar=Kn(5),ir=Kn(6),or=Jn.range,ur=tr.range,lr=er.range,cr=nr.range,fr=rr.range,sr=ar.range,hr=ir.range})),Cr=l((()=>{Wn(),dr=xn((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),gr=dr,pr=dr.range})),Nr=l((()=>{Wn(),(vr=xn((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}))).every=function(t){return isFinite(t=Math.floor(t))&&t>0?xn((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null},mr=vr,yr=vr.range})),Er=l((()=>{Wn(),$n(),br=xn((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Vn)}),(function(t,e){return(e-t)/Vn}),(function(t){return t.getUTCMinutes()})),xr=br,_r=br.range})),Dr=l((()=>{Wn(),$n(),wr=xn((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Tn)}),(function(t,e){return(e-t)/Tn}),(function(t){return t.getUTCHours()})),Sr=wr,Mr=wr.range})),zr=l((()=>{Wn(),$n(),Ar=xn((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Cn}),(function(t){return t.getUTCDate()-1})),kr=Ar,Vr=Ar.range}));function Pr(t){return xn((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Nn}))}var Br,Rr,Or,Ir,Yr,Fr,Lr,Ur,Hr,jr,Wr,qr,$r,Xr,Gr,Qr,Zr,Kr,Jr,ta,ea=l((()=>{Wn(),$n(),Br=Pr(0),Rr=Pr(1),Or=Pr(2),Ir=Pr(3),Yr=Pr(4),Fr=Pr(5),Lr=Pr(6),Ur=Br.range,Hr=Rr.range,jr=Or.range,Wr=Ir.range,qr=Yr.range,$r=Fr.range,Xr=Lr.range})),na=l((()=>{Wn(),Gr=xn((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Qr=Gr,Zr=Gr.range})),ra=l((()=>{Wn(),(Kr=xn((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}))).every=function(t){return isFinite(t=Math.floor(t))&&t>0?xn((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null},Jr=Kr,ta=Kr.range}));function aa(t,e,n,r,a,i){let o=[[Pn,1,kn],[Pn,5,5*kn],[Pn,15,15*kn],[Pn,30,30*kn],[i,1,Vn],[i,5,5*Vn],[i,15,15*Vn],[i,30,30*Vn],[a,1,Tn],[a,3,3*Tn],[a,6,6*Tn],[a,12,12*Tn],[r,1,Cn],[r,2,2*Cn],[n,1,Nn],[e,1,En],[e,3,3*En],[t,1,Dn]];function u(e,n,r){let a=Math.abs(n-e)/r,i=g((([,,t])=>t)).right(o,a);if(i===o.length)return t.every(Vt(e/Dn,n/Dn,r));if(0===i)return Mn.every(Math.max(Vt(e,n,r),1));let[u,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return u.every(l)}return[function(t,e,n){let r=e<t;r&&([t,e]=[e,t]);let a=n&&"function"==typeof n.range?n:u(t,e,n),i=a?a.range(t,+e+1):[];return r?i.reverse():i},u]}var ia,oa,ua,la,ca=l((()=>{sn(),$n(),qn(),Xn(),Gn(),Qn(),Zn(),Tr(),Cr(),Nr(),Er(),Dr(),zr(),ea(),na(),ra(),[ia,oa]=aa(Jr,Qr,Br,kr,Sr,xr),[ua,la]=aa(mr,gr,Jn,Hn,Fn,On)})),fa={};f(fa,{timeDay:()=>Hn,timeDays:()=>jn,timeFriday:()=>ar,timeFridays:()=>sr,timeHour:()=>Fn,timeHours:()=>Ln,timeInterval:()=>xn,timeMillisecond:()=>Mn,timeMilliseconds:()=>An,timeMinute:()=>On,timeMinutes:()=>In,timeMonday:()=>tr,timeMondays:()=>ur,timeMonth:()=>gr,timeMonths:()=>pr,timeSaturday:()=>ir,timeSaturdays:()=>hr,timeSecond:()=>Pn,timeSeconds:()=>Bn,timeSunday:()=>Jn,timeSundays:()=>or,timeThursday:()=>rr,timeThursdays:()=>fr,timeTickInterval:()=>la,timeTicks:()=>ua,timeTuesday:()=>er,timeTuesdays:()=>lr,timeWednesday:()=>nr,timeWednesdays:()=>cr,timeWeek:()=>Jn,timeWeeks:()=>or,timeYear:()=>mr,timeYears:()=>yr,utcDay:()=>kr,utcDays:()=>Vr,utcFriday:()=>Fr,utcFridays:()=>$r,utcHour:()=>Sr,utcHours:()=>Mr,utcMillisecond:()=>Mn,utcMilliseconds:()=>An,utcMinute:()=>xr,utcMinutes:()=>_r,utcMonday:()=>Rr,utcMondays:()=>Hr,utcMonth:()=>Qr,utcMonths:()=>Zr,utcSaturday:()=>Lr,utcSaturdays:()=>Xr,utcSecond:()=>Pn,utcSeconds:()=>Bn,utcSunday:()=>Br,utcSundays:()=>Ur,utcThursday:()=>Yr,utcThursdays:()=>qr,utcTickInterval:()=>oa,utcTicks:()=>ia,utcTuesday:()=>Or,utcTuesdays:()=>jr,utcWednesday:()=>Ir,utcWednesdays:()=>Wr,utcWeek:()=>Br,utcWeeks:()=>Ur,utcYear:()=>Jr,utcYears:()=>ta});var sa,ha,da,ga,pa,va,ma,ya,ba,xa,_a,wa,Sa,Ma,Aa,ka,Va,Ta,Ca=l((()=>{Wn(),qn(),Xn(),Gn(),Qn(),Zn(),Tr(),Cr(),Nr(),Er(),Dr(),zr(),ea(),na(),ra(),ca()})),Na=l((()=>{sa=Math.random})),Ea=l((()=>{Na(),ha=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(sa)})),Da=l((()=>{Na(),da=function t(e){function n(t,n){return arguments.length<2&&(n=t,t=0),t=Math.floor(t),n=Math.floor(n)-t,function(){return Math.floor(e()*n+t)}}return n.source=t,n}(sa)})),za=l((()=>{Na(),ga=function t(e){function n(t,n){var r,a;return t=null==t?0:+t,n=null==n?1:+n,function(){var i;if(null!=r)i=r,r=null;else do{r=2*e()-1,i=2*e()-1,a=r*r+i*i}while(!a||a>1);return t+n*i*Math.sqrt(-2*Math.log(a)/a)}}return n.source=t,n}(sa)})),Pa=l((()=>{Na(),za(),pa=function t(e){var n=ga.source(e);function r(){var t=n.apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(sa)})),Ba=l((()=>{Na(),va=function t(e){function n(t){return(t=+t)<=0?()=>0:function(){for(var n=0,r=t;r>1;--r)n+=e();return n+r*e()}}return n.source=t,n}(sa)})),Ra=l((()=>{Na(),Ba(),ma=function t(e){var n=va.source(e);function r(t){if(0==(t=+t))return e;var r=n(t);return function(){return r()/t}}return r.source=t,r}(sa)})),Oa=l((()=>{Na(),ya=function t(e){function n(t){return function(){return-Math.log1p(-e())/t}}return n.source=t,n}(sa)})),Ia=l((()=>{Na(),ba=function t(e){function n(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-e(),t)}}return n.source=t,n}(sa)})),Ya=l((()=>{Na(),xa=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+t)}}return n.source=t,n}(sa)})),Fa=l((()=>{Na(),_a=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-e())/t)})}return n.source=t,n}(sa)})),La=l((()=>{Na(),za(),wa=function t(e){var n=ga.source(e)();function r(t,r){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return()=>0;if(r=null==r?1:+r,1===t)return()=>-Math.log1p(-e())*r;var a=(t<1?t+1:t)-1/3,i=1/(3*Math.sqrt(a)),o=t<1?()=>Math.pow(e(),1/t):()=>1;return function(){do{do{var t=n(),u=1+i*t}while(u<=0);u*=u*u;var l=1-e()}while(l>=1-.0331*t*t*t*t&&Math.log(l)>=.5*t*t+a*(1-u+Math.log(u)));return a*u*o()*r}}return r.source=t,r}(sa)})),Ua=l((()=>{Na(),La(),Sa=function t(e){var n=wa.source(e);function r(t,e){var r=n(t),a=n(e);return function(){var t=r();return 0===t?0:t/(t+a())}}return r.source=t,r}(sa)})),Ha=l((()=>{Na(),Ua(),Fa(),Ma=function t(e){var n=_a.source(e),r=Sa.source(e);function a(t,e){return t=+t,(e=+e)>=1?()=>t:e<=0?()=>0:function(){for(var a=0,i=t,o=e;i*o>16&&i*(1-o)>16;){var u=Math.floor((i+1)*o),l=r(u,i-u+1)();l<=o?(a+=u,i-=u,o=(o-l)/(1-l)):(i=u-1,o/=l)}for(var c=o<.5,f=n(c?o:1-o),s=f(),h=0;s<=i;++h)s+=f();return a+(c?h:i-h)}}return a.source=t,a}(sa)})),ja=l((()=>{Na(),Aa=function t(e){function n(t,n,r){var a;return 0==(t=+t)?a=t=>-Math.log(t):(t=1/t,a=e=>Math.pow(e,t)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*a(-Math.log1p(-e()))}}return n.source=t,n}(sa)})),Wa=l((()=>{Na(),ka=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){return t+n*Math.tan(Math.PI*e())}}return n.source=t,n}(sa)})),qa=l((()=>{Na(),Va=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){var r=e();return t+n*Math.log(r/(1-r))}}return n.source=t,n}(sa)})),$a=l((()=>{Na(),Ha(),La(),Ta=function t(e){var n=wa.source(e),r=Ma.source(e);function a(t){return function(){for(var a=0,i=t;i>16;){var o=Math.floor(.875*i),u=n(o)();if(u>i)return a+r(o-1,i/u)();a+=o,i-=u}for(var l=-Math.log1p(-e()),c=0;l<=i;++c)l-=Math.log1p(-e());return a+c}}return a.source=t,a}(sa)}));function Xa(t=Math.random()){let e=0|(0<=t&&t<1?t/Za:Math.abs(t));return()=>(e=Ga*e+Qa|0,Za*(e>>>0))}var Ga,Qa,Za,Ka=l((()=>{Ga=1664525,Qa=1013904223,Za=1/4294967296})),Ja={};f(Ja,{randomBates:()=>ma,randomBernoulli:()=>xa,randomBeta:()=>Sa,randomBinomial:()=>Ma,randomCauchy:()=>ka,randomExponential:()=>ya,randomGamma:()=>wa,randomGeometric:()=>_a,randomInt:()=>da,randomIrwinHall:()=>va,randomLcg:()=>Xa,randomLogNormal:()=>pa,randomLogistic:()=>Va,randomNormal:()=>ga,randomPareto:()=>ba,randomPoisson:()=>Ta,randomUniform:()=>ha,randomWeibull:()=>Aa});var ti=l((()=>{Ea(),Da(),za(),Pa(),Ra(),Ba(),Oa(),Ia(),Ya(),Fa(),Ha(),La(),Ua(),ja(),Wa(),qa(),$a(),Ka()}));function ei(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function ni(t,e){return fetch(t,e).then(ei)}var ri=l((()=>{}));function ai(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function ii(t,e){return fetch(t,e).then(ai)}var oi=l((()=>{}));function ui(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function li(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function ci(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function fi(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+ci(-t,6):t>9999?"+"+ci(t,6):ci(t,4)}(t.getUTCFullYear())+"-"+ci(t.getUTCMonth()+1,2)+"-"+ci(t.getUTCDate(),2)+(a?"T"+ci(e,2)+":"+ci(n,2)+":"+ci(r,2)+"."+ci(a,3)+"Z":r?"T"+ci(e,2)+":"+ci(n,2)+":"+ci(r,2)+"Z":n||e?"T"+ci(e,2)+":"+ci(n,2)+"Z":"")}function si(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,a=[],i=t.length,o=0,u=0,l=i<=0,c=!1;function f(){if(l)return di;if(c)return c=!1,hi;var e,r,a=o;if(t.charCodeAt(a)===gi){for(;o++<i&&t.charCodeAt(o)!==gi||t.charCodeAt(++o)===gi;);return(e=o)>=i?l=!0:(r=t.charCodeAt(o++))===pi?c=!0:r===vi&&(c=!0,t.charCodeAt(o)===pi&&++o),t.slice(a+1,e-1).replace(/""/g,'"')}for(;o<i;){if((r=t.charCodeAt(e=o++))===pi)c=!0;else if(r===vi)c=!0,t.charCodeAt(o)===pi&&++o;else if(r!==n)continue;return t.slice(a,e)}return l=!0,t.slice(a,i)}for(t.charCodeAt(i-1)===pi&&--i,t.charCodeAt(i-1)===vi&&--i;(r=f())!==di;){for(var s=[];r!==hi&&r!==di;)s.push(r),r=f();e&&null==(s=e(s,u++))||a.push(s)}return a}function a(e,n){return e.map((function(e){return n.map((function(t){return o(e[t])})).join(t)}))}function i(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?fi(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,a,i=r(t,(function(t,r){if(n)return n(t,r-1);a=t,n=e?function(t,e){var n=ui(t);return function(r,a){return e(n(r),a,t)}}(t,e):ui(t)}));return i.columns=a||[],i},parseRows:r,format:function(e,n){return null==n&&(n=li(e)),[n.map(o).join(t)].concat(a(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=li(t)),a(t,e).join("\n")},formatRows:function(t){return t.map(i).join("\n")},formatRow:i,formatValue:o}}var hi,di,gi,pi,vi,mi,yi,bi,xi,_i=l((()=>{hi={},di={},gi=34,pi=10,vi=13})),wi=l((()=>{_i(),mi=si(","),yi=mi.parse,mi.parseRows,mi.format,mi.formatBody,mi.formatRows,mi.formatRow,mi.formatValue})),Si=l((()=>{_i(),bi=si("\t"),xi=bi.parse,bi.parseRows,bi.format,bi.formatBody,bi.formatRows,bi.formatRow,bi.formatValue})),Mi=l((()=>{_i(),wi(),Si()}));function Ai(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ki(t,e){return fetch(t,e).then(Ai)}var Vi=l((()=>{}));function Ti(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),ki(e,n).then((function(e){return t(e,r)}))}}function Ci(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var a=si(t);return ki(e,n).then((function(t){return a.parse(t,r)}))}var Ni,Ei,Di=l((()=>{Mi(),Vi(),Ni=Ti(yi),Ei=Ti(xi)}));function zi(t,e){return new Promise((function(n,r){var a=new Image;for(var i in e)a[i]=e[i];a.onerror=r,a.onload=function(){n(a)},a.src=t}))}var Pi=l((()=>{}));function Bi(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Ri(t,e){return fetch(t,e).then(Bi)}var Oi=l((()=>{}));function Ii(t){return(e,n)=>ki(e,n).then((e=>(new DOMParser).parseFromString(e,t)))}var Yi,Fi,Li,Ui=l((()=>{Vi(),Yi=Ii("application/xml"),Fi=Ii("text/html"),Li=Ii("image/svg+xml")})),Hi={};f(Hi,{blob:()=>ni,buffer:()=>ii,csv:()=>Ni,dsv:()=>Ci,html:()=>Fi,image:()=>zi,json:()=>Ri,svg:()=>Li,text:()=>ki,tsv:()=>Ei,xml:()=>Yi});var ji=l((()=>{ri(),oi(),Di(),Pi(),Oi(),Vi(),Ui()}));function Wi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function qi(){return new Wi}var $i,Xi,Gi,Qi,Zi,Ki=l((()=>{$i=Math.PI,Qi=(Xi=2*$i)-(Gi=1e-6),Wi.prototype=qi.prototype={constructor:Wi,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,a,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(t,e,n,r,a){t=+t,e=+e,n=+n,r=+r,a=+a;var i=this._x1,o=this._y1,u=n-t,l=r-e,c=i-t,f=o-e,s=c*c+f*f;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(s>Gi)if(Math.abs(f*u-l*c)>Gi&&a){var h=n-i,d=r-o,g=u*u+l*l,p=h*h+d*d,v=Math.sqrt(g),m=Math.sqrt(s),y=a*Math.tan(($i-Math.acos((g+s-p)/(2*v*m)))/2),b=y/m,x=y/v;Math.abs(b-1)>Gi&&(this._+="L"+(t+b*c)+","+(e+b*f)),this._+="A"+a+","+a+",0,0,"+ +(f*h>c*d)+","+(this._x1=t+x*u)+","+(this._y1=e+x*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,a,i){t=+t,e=+e,i=!!i;var o=(n=+n)*Math.cos(r),u=n*Math.sin(r),l=t+o,c=e+u,f=1^i,s=i?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Gi||Math.abs(this._y1-c)>Gi)&&(this._+="L"+l+","+c),n&&(s<0&&(s=s%Xi+Xi),s>Qi?this._+="A"+n+","+n+",0,1,"+f+","+(t-o)+","+(e-u)+"A"+n+","+n+",0,1,"+f+","+(this._x1=l)+","+(this._y1=c):s>Gi&&(this._+="A"+n+","+n+",0,"+ +(s>=$i)+","+f+","+(this._x1=t+n*Math.cos(a))+","+(this._y1=e+n*Math.sin(a))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},Zi=qi})),Ji={};f(Ji,{path:()=>Zi});var to,eo,no=l((()=>{Ki()})),ro=l((()=>{eo={svg:"http://www.w3.org/2000/svg",xhtml:to="http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}}));function ao(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),eo.hasOwnProperty(e)?{space:eo[e],local:t}:t}var io=l((()=>{ro()}));function oo(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===to&&e.documentElement.namespaceURI===to?e.createElement(t):e.createElementNS(n,t)}}function uo(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function lo(t){var e=ao(t);return(e.local?uo:oo)(e)}var co=l((()=>{io(),ro()}));function fo(){}function so(t){return null==t?fo:function(){return this.querySelector(t)}}var ho=l((()=>{}));function go(t){"function"!=typeof t&&(t=so(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o,u=e[a],l=u.length,c=r[a]=new Array(l),f=0;f<l;++f)(i=u[f])&&(o=t.call(i,i.__data__,f,u))&&("__data__"in i&&(o.__data__=i.__data__),c[f]=o);return new Ol(r,this._parents)}var po=l((()=>{Ul(),ho()}));function vo(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}var mo=l((()=>{}));function yo(){return[]}function bo(t){return null==t?yo:function(){return this.querySelectorAll(t)}}var xo=l((()=>{}));function _o(t){t="function"==typeof t?function(t){return function(){return vo(t.apply(this,arguments))}}(t):bo(t);for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var o,u=e[i],l=u.length,c=0;c<l;++c)(o=u[c])&&(r.push(t.call(o,o.__data__,c,u)),a.push(o));return new Ol(r,a)}var wo=l((()=>{Ul(),mo(),xo()}));function So(t){return function(){return this.matches(t)}}function Mo(t){return function(e){return e.matches(t)}}var Ao=l((()=>{}));function ko(){return this.firstElementChild}function Vo(t){return this.select(null==t?ko:function(t){return function(){return To.call(this.children,t)}}("function"==typeof t?t:Mo(t)))}var To,Co=l((()=>{Ao(),To=Array.prototype.find}));function No(){return Array.from(this.children)}function Eo(t){return this.selectAll(null==t?No:function(t){return function(){return Do.call(this.children,t)}}("function"==typeof t?t:Mo(t)))}var Do,zo=l((()=>{Ao(),Do=Array.prototype.filter}));function Po(t){"function"!=typeof t&&(t=So(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],u=o.length,l=r[a]=[],c=0;c<u;++c)(i=o[c])&&t.call(i,i.__data__,c,o)&&l.push(i);return new Ol(r,this._parents)}var Bo=l((()=>{Ul(),Ao()}));function Ro(t){return new Array(t.length)}var Oo=l((()=>{}));function Io(){return new Ol(this._enter||this._groups.map(Ro),this._parents)}function Yo(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}var Fo=l((()=>{Oo(),Ul(),Yo.prototype={constructor:Yo,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}}));function Lo(t){return function(){return t}}var Uo=l((()=>{}));function Ho(t,e,n,r,a,i){for(var o,u=0,l=e.length,c=i.length;u<c;++u)(o=e[u])?(o.__data__=i[u],r[u]=o):n[u]=new Yo(t,i[u]);for(;u<l;++u)(o=e[u])&&(a[u]=o)}function jo(t,e,n,r,a,i,o){var u,l,c,f=new Map,s=e.length,h=i.length,d=new Array(s);for(u=0;u<s;++u)(l=e[u])&&(d[u]=c=o.call(l,l.__data__,u,e)+"",f.has(c)?a[u]=l:f.set(c,l));for(u=0;u<h;++u)c=o.call(t,i[u],u,i)+"",(l=f.get(c))?(r[u]=l,l.__data__=i[u],f.delete(c)):n[u]=new Yo(t,i[u]);for(u=0;u<s;++u)(l=e[u])&&f.get(d[u])===l&&(a[u]=l)}function Wo(t){return t.__data__}function qo(t,e){if(!arguments.length)return Array.from(this,Wo);var n=e?jo:Ho,r=this._parents,a=this._groups;"function"!=typeof t&&(t=Lo(t));for(var i=a.length,o=new Array(i),u=new Array(i),l=new Array(i),c=0;c<i;++c){var f=r[c],s=a[c],h=s.length,d=$o(t.call(f,f&&f.__data__,c,r)),g=d.length,p=u[c]=new Array(g),v=o[c]=new Array(g),m=l[c]=new Array(h);n(f,s,p,v,m,d,e);for(var y,b,x=0,_=0;x<g;++x)if(y=p[x]){for(x>=_&&(_=x+1);!(b=v[_])&&++_<g;);y._next=b||null}}return(o=new Ol(o,r))._enter=u,o._exit=l,o}function $o(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}var Xo=l((()=>{Ul(),Fo(),Uo()}));function Go(){return new Ol(this._exit||this._groups.map(Ro),this._parents)}var Qo=l((()=>{Oo(),Ul()}));function Zo(t,e,n){var r=this.enter(),a=this,i=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&((a=e(a))&&(a=a.selection())),null==n?i.remove():n(i),r&&a?r.merge(a).order():a}var Ko=l((()=>{}));function Jo(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,a=n.length,i=r.length,o=Math.min(a,i),u=new Array(a),l=0;l<o;++l)for(var c,f=n[l],s=r[l],h=f.length,d=u[l]=new Array(h),g=0;g<h;++g)(c=f[g]||s[g])&&(d[g]=c);for(;l<a;++l)u[l]=n[l];return new Ol(u,this._parents)}var tu=l((()=>{Ul()}));function eu(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,a=t[e],i=a.length-1,o=a[i];--i>=0;)(r=a[i])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this}var nu=l((()=>{}));function ru(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=au);for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o,u=n[i],l=u.length,c=a[i]=new Array(l),f=0;f<l;++f)(o=u[f])&&(c[f]=o);c.sort(e)}return new Ol(a,this._parents).order()}function au(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var iu=l((()=>{Ul()}));function ou(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}var uu=l((()=>{}));function lu(){return Array.from(this)}var cu=l((()=>{}));function fu(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}var su=l((()=>{}));function hu(){let t=0;for(let e of this)++t;return t}var du=l((()=>{}));function gu(){return!this.node()}var pu=l((()=>{}));function vu(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a,i=e[n],o=0,u=i.length;o<u;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}var mu=l((()=>{}));function yu(t){return function(){this.removeAttribute(t)}}function bu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xu(t,e){return function(){this.setAttribute(t,e)}}function _u(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function wu(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Su(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Mu(t,e){var n=ao(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?bu:yu:"function"==typeof e?n.local?Su:wu:n.local?_u:xu)(n,e))}var Au=l((()=>{io()}));function ku(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}var Vu=l((()=>{}));function Tu(t){return function(){this.style.removeProperty(t)}}function Cu(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Nu(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Eu(t,e,n){return arguments.length>1?this.each((null==e?Tu:"function"==typeof e?Nu:Cu)(t,e,n??"")):Du(this.node(),t)}function Du(t,e){return t.style.getPropertyValue(e)||ku(t).getComputedStyle(t,null).getPropertyValue(e)}var zu=l((()=>{Vu()}));function Pu(t){return function(){delete this[t]}}function Bu(t,e){return function(){this[t]=e}}function Ru(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ou(t,e){return arguments.length>1?this.each((null==e?Pu:"function"==typeof e?Ru:Bu)(t,e)):this.node()[t]}var Iu=l((()=>{}));function Yu(t){return t.trim().split(/^|\s+/)}function Fu(t){return t.classList||new Lu(t)}function Lu(t){this._node=t,this._names=Yu(t.getAttribute("class")||"")}function Uu(t,e){for(var n=Fu(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function Hu(t,e){for(var n=Fu(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function ju(t){return function(){Uu(this,t)}}function Wu(t){return function(){Hu(this,t)}}function qu(t,e){return function(){(e.apply(this,arguments)?Uu:Hu)(this,t)}}function $u(t,e){var n=Yu(t+"");if(arguments.length<2){for(var r=Fu(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?qu:e?ju:Wu)(n,e))}var Xu=l((()=>{Lu.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}}}));function Gu(){this.textContent=""}function Qu(t){return function(){this.textContent=t}}function Zu(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Ku(t){return arguments.length?this.each(null==t?Gu:("function"==typeof t?Zu:Qu)(t)):this.node().textContent}var Ju=l((()=>{}));function tl(){this.innerHTML=""}function el(t){return function(){this.innerHTML=t}}function nl(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function rl(t){return arguments.length?this.each(null==t?tl:("function"==typeof t?nl:el)(t)):this.node().innerHTML}var al=l((()=>{}));function il(){this.nextSibling&&this.parentNode.appendChild(this)}function ol(){return this.each(il)}var ul=l((()=>{}));function ll(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cl(){return this.each(ll)}var fl=l((()=>{}));function sl(t){var e="function"==typeof t?t:lo(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}var hl=l((()=>{co()}));function dl(){return null}function gl(t,e){var n="function"==typeof t?t:lo(t),r=null==e?dl:"function"==typeof e?e:so(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))}var pl=l((()=>{co(),ho()}));function vl(){var t=this.parentNode;t&&t.removeChild(this)}function ml(){return this.each(vl)}var yl=l((()=>{}));function bl(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function xl(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _l(t){return this.select(t?xl:bl)}var wl=l((()=>{}));function Sl(t){return arguments.length?this.property("__data__",t):this.node().__data__}var Ml=l((()=>{}));function Al(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function kl(t){return function(){var e=this.__on;if(e){for(var n,r=0,a=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++a]=n:this.removeEventListener(n.type,n.listener,n.options);++a?e.length=a:delete this.__on}}}function Vl(t,e,n){return function(){var r,a=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(a)for(var o=0,u=a.length;o<u;++o)if((r=a[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=e);this.addEventListener(t.type,i,n),r={type:t.type,name:t.name,value:e,listener:i,options:n},a?a.push(r):this.__on=[r]}}function Tl(t,e,n){var r,a,i=Al(t+""),o=i.length;if(!(arguments.length<2)){for(u=e?Vl:kl,r=0;r<o;++r)this.each(u(i[r],e,n));return this}var u=this.node().__on;if(u)for(var l,c=0,f=u.length;c<f;++c)for(r=0,l=u[c];r<o;++r)if((a=i[r]).type===l.type&&a.name===l.name)return l.value}var Cl=l((()=>{}));function Nl(t,e,n){var r=ku(t),a=r.CustomEvent;"function"==typeof a?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function El(t,e){return function(){return Nl(this,t,e)}}function Dl(t,e){return function(){return Nl(this,t,e.apply(this,arguments))}}function zl(t,e){return this.each(("function"==typeof e?Dl:El)(t,e))}var Pl=l((()=>{Vu()}));function*Bl(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,a=t[e],i=0,o=a.length;i<o;++i)(r=a[i])&&(yield r)}var Rl=l((()=>{}));function Ol(t,e){this._groups=t,this._parents=e}function Il(){return new Ol([[document.documentElement]],Fl)}function Yl(){return this}var Fl,Ll,Ul=l((()=>{po(),wo(),Co(),zo(),Bo(),Xo(),Fo(),Qo(),Ko(),tu(),nu(),iu(),uu(),cu(),su(),du(),pu(),mu(),Au(),zu(),Iu(),Xu(),Ju(),al(),ul(),fl(),hl(),pl(),yl(),wl(),Ml(),Cl(),Pl(),Rl(),Fl=[null],Ol.prototype=Il.prototype={constructor:Ol,select:go,selectAll:_o,selectChild:Vo,selectChildren:Eo,filter:Po,data:qo,enter:Io,exit:Go,join:Zo,merge:Jo,selection:Yl,order:eu,sort:ru,call:ou,nodes:lu,node:fu,size:hu,empty:gu,each:vu,attr:Mu,style:Eu,property:Ou,classed:$u,text:Ku,html:rl,raise:ol,lower:cl,append:sl,insert:gl,remove:ml,clone:_l,datum:Sl,on:Tl,dispatch:zl,[Symbol.iterator]:Bl},Ll=Il}));function Hl(t){return"string"==typeof t?new Ol([[document.querySelector(t)]],[document.documentElement]):new Ol([[t]],Fl)}var jl=l((()=>{Ul()}));function Wl(t){return Hl(lo(t).call(document.documentElement))}var ql=l((()=>{co(),jl()}));function $l(){return new Xl}function Xl(){this._="@"+(++Gl).toString(36)}var Gl,Ql=l((()=>{Gl=0,Xl.prototype=$l.prototype={constructor:Xl,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}}));function Zl(t){let e;for(;e=t.sourceEvent;)t=e;return t}var Kl=l((()=>{}));function Jl(t,e){if(t=Zl(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}var tc=l((()=>{Kl()}));function ec(t,e){return t.target&&(t=Zl(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>Jl(t,e)))}var nc=l((()=>{tc(),Kl()}));function rc(t){return"string"==typeof t?new Ol([document.querySelectorAll(t)],[document.documentElement]):new Ol([vo(t)],Fl)}var ac=l((()=>{mo(),Ul()})),ic={};f(ic,{create:()=>Wl,creator:()=>lo,local:()=>$l,matcher:()=>So,namespace:()=>ao,namespaces:()=>eo,pointer:()=>Jl,pointers:()=>ec,select:()=>Hl,selectAll:()=>rc,selection:()=>Ll,selector:()=>so,selectorAll:()=>bo,style:()=>Du,window:()=>ku});var oc=l((()=>{ql(),co(),Ql(),Ao(),io(),ro(),tc(),nc(),jl(),ac(),Ul(),ho(),xo(),zu(),Vu()}));function uc(t){return function(){return t}}var lc=l((()=>{}));function cc(t){return t>1?0:t<-1?bc:Math.acos(t)}function fc(t){return t>=1?xc:t<=-1?-xc:Math.asin(t)}var sc,hc,dc,gc,pc,vc,mc,yc,bc,xc,_c,wc=l((()=>{sc=Math.abs,hc=Math.atan2,dc=Math.cos,gc=Math.max,pc=Math.min,vc=Math.sin,mc=Math.sqrt,yc=1e-12,bc=Math.PI,xc=bc/2,_c=2*bc}));function Sc(t){return t.innerRadius}function Mc(t){return t.outerRadius}function Ac(t){return t.startAngle}function kc(t){return t.endAngle}function Vc(t){return t&&t.padAngle}function Tc(t,e,n,r,a,i,o,u){var l=n-t,c=r-e,f=o-a,s=u-i,h=s*l-f*c;if(!(h*h<yc))return[t+(h=(f*(e-i)-s*(t-a))/h)*l,e+h*c]}function Cc(t,e,n,r,a,i,o){var u=t-n,l=e-r,c=(o?i:-i)/mc(u*u+l*l),f=c*l,s=-c*u,h=t+f,d=e+s,g=n+f,p=r+s,v=(h+g)/2,m=(d+p)/2,y=g-h,b=p-d,x=y*y+b*b,_=a-i,w=h*p-g*d,S=(b<0?-1:1)*mc(gc(0,_*_*x-w*w)),M=(w*b-y*S)/x,A=(-w*y-b*S)/x,k=(w*b+y*S)/x,V=(-w*y+b*S)/x,T=M-v,C=A-m,N=k-v,E=V-m;return T*T+C*C>N*N+E*E&&(M=k,A=V),{cx:M,cy:A,x01:-f,y01:-s,x11:M*(a/_-1),y11:A*(a/_-1)}}function Nc(){var t=Sc,e=Mc,n=uc(0),r=null,a=Ac,i=kc,o=Vc,u=null;function l(){var l,c,f=+t.apply(this,arguments),s=+e.apply(this,arguments),h=a.apply(this,arguments)-xc,d=i.apply(this,arguments)-xc,g=sc(d-h),p=d>h;if(u||(u=l=Zi()),s<f&&(c=s,s=f,f=c),s>yc)if(g>_c-yc)u.moveTo(s*dc(h),s*vc(h)),u.arc(0,0,s,h,d,!p),f>yc&&(u.moveTo(f*dc(d),f*vc(d)),u.arc(0,0,f,d,h,p));else{var v,m,y=h,b=d,x=h,_=d,w=g,S=g,M=o.apply(this,arguments)/2,A=M>yc&&(r?+r.apply(this,arguments):mc(f*f+s*s)),k=pc(sc(s-f)/2,+n.apply(this,arguments)),V=k,T=k;if(A>yc){var C=fc(A/f*vc(M)),N=fc(A/s*vc(M));(w-=2*C)>yc?(x+=C*=p?1:-1,_-=C):(w=0,x=_=(h+d)/2),(S-=2*N)>yc?(y+=N*=p?1:-1,b-=N):(S=0,y=b=(h+d)/2)}var E=s*dc(y),D=s*vc(y),z=f*dc(_),P=f*vc(_);if(k>yc){var B,R=s*dc(b),O=s*vc(b),I=f*dc(x),Y=f*vc(x);if(g<bc&&(B=Tc(E,D,I,Y,R,O,z,P))){var F=E-B[0],L=D-B[1],U=R-B[0],H=O-B[1],j=1/vc(cc((F*U+L*H)/(mc(F*F+L*L)*mc(U*U+H*H)))/2),W=mc(B[0]*B[0]+B[1]*B[1]);V=pc(k,(f-W)/(j-1)),T=pc(k,(s-W)/(j+1))}}S>yc?T>yc?(v=Cc(I,Y,E,D,s,T,p),m=Cc(R,O,z,P,s,T,p),u.moveTo(v.cx+v.x01,v.cy+v.y01),T<k?u.arc(v.cx,v.cy,T,hc(v.y01,v.x01),hc(m.y01,m.x01),!p):(u.arc(v.cx,v.cy,T,hc(v.y01,v.x01),hc(v.y11,v.x11),!p),u.arc(0,0,s,hc(v.cy+v.y11,v.cx+v.x11),hc(m.cy+m.y11,m.cx+m.x11),!p),u.arc(m.cx,m.cy,T,hc(m.y11,m.x11),hc(m.y01,m.x01),!p))):(u.moveTo(E,D),u.arc(0,0,s,y,b,!p)):u.moveTo(E,D),f>yc&&w>yc?V>yc?(v=Cc(z,P,R,O,f,-V,p),m=Cc(E,D,I,Y,f,-V,p),u.lineTo(v.cx+v.x01,v.cy+v.y01),V<k?u.arc(v.cx,v.cy,V,hc(v.y01,v.x01),hc(m.y01,m.x01),!p):(u.arc(v.cx,v.cy,V,hc(v.y01,v.x01),hc(v.y11,v.x11),!p),u.arc(0,0,f,hc(v.cy+v.y11,v.cx+v.x11),hc(m.cy+m.y11,m.cx+m.x11),p),u.arc(m.cx,m.cy,V,hc(m.y11,m.x11),hc(m.y01,m.x01),!p))):u.arc(0,0,f,_,x,p):u.lineTo(z,P)}else u.moveTo(0,0);if(u.closePath(),l)return u=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-bc/2;return[dc(r)*n,vc(r)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:uc(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:uc(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:uc(+t),l):n},l.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:uc(+t),l):r},l.startAngle=function(t){return arguments.length?(a="function"==typeof t?t:uc(+t),l):a},l.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:uc(+t),l):i},l.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:uc(+t),l):o},l.context=function(t){return arguments.length?(u=t??null,l):u},l}var Ec=l((()=>{no(),lc(),wc()}));function Dc(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}var zc,Pc=l((()=>{zc=Array.prototype.slice}));function Bc(t){this._context=t}function Rc(t){return new Bc(t)}var Oc=l((()=>{Bc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}}}));function Ic(t){return t[0]}function Yc(t){return t[1]}var Fc=l((()=>{}));function Lc(t,e){var n=uc(!0),r=null,a=Rc,i=null;function o(o){var u,l,c,f=(o=Dc(o)).length,s=!1;for(null==r&&(i=a(c=Zi())),u=0;u<=f;++u)!(u<f&&n(l=o[u],u,o))===s&&((s=!s)?i.lineStart():i.lineEnd()),s&&i.point(+t(l,u,o),+e(l,u,o));if(c)return i=null,c+""||null}return t="function"==typeof t?t:void 0===t?Ic:uc(t),e="function"==typeof e?e:void 0===e?Yc:uc(e),o.x=function(e){return arguments.length?(t="function"==typeof e?e:uc(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:uc(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:uc(!!t),o):n},o.curve=function(t){return arguments.length?(a=t,null!=r&&(i=a(r)),o):a},o.context=function(t){return arguments.length?(null==t?r=i=null:i=a(r=t),o):r},o}var Uc=l((()=>{no(),Pc(),lc(),Oc(),Fc()}));function Hc(t,e,n){var r=null,a=uc(!0),i=null,o=Rc,u=null;function l(l){var c,f,s,h,d,g=(l=Dc(l)).length,p=!1,v=new Array(g),m=new Array(g);for(null==i&&(u=o(d=Zi())),c=0;c<=g;++c){if(!(c<g&&a(h=l[c],c,l))===p)if(p=!p)f=c,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),s=c-1;s>=f;--s)u.point(v[s],m[s]);u.lineEnd(),u.areaEnd()}p&&(v[c]=+t(h,c,l),m[c]=+e(h,c,l),u.point(r?+r(h,c,l):v[c],n?+n(h,c,l):m[c]))}if(d)return u=null,d+""||null}function c(){return Lc().defined(a).curve(o).context(i)}return t="function"==typeof t?t:void 0===t?Ic:uc(+t),e="function"==typeof e?e:uc(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?Yc:uc(+n),l.x=function(e){return arguments.length?(t="function"==typeof e?e:uc(+e),r=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:uc(+e),l):t},l.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:uc(+t),l):r},l.y=function(t){return arguments.length?(e="function"==typeof t?t:uc(+t),n=null,l):e},l.y0=function(t){return arguments.length?(e="function"==typeof t?t:uc(+t),l):e},l.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:uc(+t),l):n},l.lineX0=l.lineY0=function(){return c().x(t).y(e)},l.lineY1=function(){return c().x(t).y(n)},l.lineX1=function(){return c().x(r).y(e)},l.defined=function(t){return arguments.length?(a="function"==typeof t?t:uc(!!t),l):a},l.curve=function(t){return arguments.length?(o=t,null!=i&&(u=o(i)),l):o},l.context=function(t){return arguments.length?(null==t?i=u=null:u=o(i=t),l):i},l}var jc=l((()=>{no(),Pc(),lc(),Oc(),Uc(),Fc()}));function Wc(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}var qc=l((()=>{}));function $c(t){return t}var Xc=l((()=>{}));function Gc(){var t=$c,e=Wc,n=null,r=uc(0),a=uc(_c),i=uc(0);function o(o){var u,l,c,f,s,h=(o=Dc(o)).length,d=0,g=new Array(h),p=new Array(h),v=+r.apply(this,arguments),m=Math.min(_c,Math.max(-_c,a.apply(this,arguments)-v)),y=Math.min(Math.abs(m)/h,i.apply(this,arguments)),b=y*(m<0?-1:1);for(u=0;u<h;++u)(s=p[g[u]=u]=+t(o[u],u,o))>0&&(d+=s);for(null!=e?g.sort((function(t,n){return e(p[t],p[n])})):null!=n&&g.sort((function(t,e){return n(o[t],o[e])})),u=0,c=d?(m-h*b)/d:0;u<h;++u,v=f)l=g[u],f=v+((s=p[l])>0?s*c:0)+b,p[l]={data:o[l],index:u,value:s,startAngle:v,endAngle:f,padAngle:y};return p}return o.value=function(e){return arguments.length?(t="function"==typeof e?e:uc(+e),o):t},o.sortValues=function(t){return arguments.length?(e=t,n=null,o):e},o.sort=function(t){return arguments.length?(n=t,e=null,o):n},o.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:uc(+t),o):r},o.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:uc(+t),o):a},o.padAngle=function(t){return arguments.length?(i="function"==typeof t?t:uc(+t),o):i},o}var Qc=l((()=>{Pc(),lc(),qc(),Xc(),wc()}));function Zc(t){this._curve=t}function Kc(t){function e(e){return new Zc(t(e))}return e._curve=t,e}var Jc,tf=l((()=>{Oc(),Jc=Kc(Rc),Zc.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}}}));function ef(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Kc(t)):e()._curve},t}function nf(){return ef(Lc().curve(Jc))}var rf=l((()=>{tf(),Uc()}));function af(){var t=Hc().curve(Jc),e=t.curve,n=t.lineX0,r=t.lineX1,a=t.lineY0,i=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ef(n())},delete t.lineX0,t.lineEndAngle=function(){return ef(r())},delete t.lineX1,t.lineInnerRadius=function(){return ef(a())},delete t.lineY0,t.lineOuterRadius=function(){return ef(i())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Kc(t)):e()._curve},t}var of=l((()=>{tf(),jc(),rf()}));function uf(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var lf=l((()=>{}));function cf(t){return t.source}function ff(t){return t.target}function sf(t){var e=cf,n=ff,r=Ic,a=Yc,i=null;function o(){var o,u=zc.call(arguments),l=e.apply(this,u),c=n.apply(this,u);if(i||(i=o=Zi()),t(i,+r.apply(this,(u[0]=l,u)),+a.apply(this,u),+r.apply(this,(u[0]=c,u)),+a.apply(this,u)),o)return i=null,o+""||null}return o.source=function(t){return arguments.length?(e=t,o):e},o.target=function(t){return arguments.length?(n=t,o):n},o.x=function(t){return arguments.length?(r="function"==typeof t?t:uc(+t),o):r},o.y=function(t){return arguments.length?(a="function"==typeof t?t:uc(+t),o):a},o.context=function(t){return arguments.length?(i=t??null,o):i},o}function hf(t,e,n,r,a){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,a,r,a)}function df(t,e,n,r,a){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+a)/2,r,n,r,a)}function gf(t,e,n,r,a){var i=uf(e,n),o=uf(e,n=(n+a)/2),u=uf(r,n),l=uf(r,a);t.moveTo(i[0],i[1]),t.bezierCurveTo(o[0],o[1],u[0],u[1],l[0],l[1])}function pf(){return sf(hf)}function vf(){return sf(df)}function mf(){var t=sf(gf);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var yf,bf,xf,_f,wf,Sf,Mf,Af,kf,Vf,Tf,Cf,Nf,Ef,Df,zf,Pf,Bf=l((()=>{no(),Pc(),lc(),Fc(),lf()})),Rf=l((()=>{wc(),yf={draw:function(t,e){var n=Math.sqrt(e/bc);t.moveTo(n,0),t.arc(0,0,n,0,_c)}}})),Of=l((()=>{bf={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}}})),If=l((()=>{xf=Math.sqrt(1/3),_f=2*xf,wf={draw:function(t,e){var n=Math.sqrt(e/_f),r=n*xf;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}}})),Yf=l((()=>{wc(),.8908130915292852,Sf=Math.sin(bc/10)/Math.sin(7*bc/10),Mf=Math.sin(_c/10)*Sf,Af=-Math.cos(_c/10)*Sf,kf={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=Mf*n,a=Af*n;t.moveTo(0,-n),t.lineTo(r,a);for(var i=1;i<5;++i){var o=_c*i/5,u=Math.cos(o),l=Math.sin(o);t.lineTo(l*n,-u*n),t.lineTo(u*r-l*a,l*r+u*a)}t.closePath()}}})),Ff=l((()=>{Vf={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}}})),Lf=l((()=>{Tf=Math.sqrt(3),Cf={draw:function(t,e){var n=-Math.sqrt(e/(3*Tf));t.moveTo(0,2*n),t.lineTo(-Tf*n,-n),t.lineTo(Tf*n,-n),t.closePath()}}})),Uf=l((()=>{Nf=-.5,Ef=Math.sqrt(3)/2,Df=1/Math.sqrt(12),zf=3*(Df/2+1),Pf={draw:function(t,e){var n=Math.sqrt(e/zf),r=n/2,a=n*Df,i=r,o=n*Df+n,u=-i,l=o;t.moveTo(r,a),t.lineTo(i,o),t.lineTo(u,l),t.lineTo(Nf*r-Ef*a,Ef*r+Nf*a),t.lineTo(Nf*i-Ef*o,Ef*i+Nf*o),t.lineTo(Nf*u-Ef*l,Ef*u+Nf*l),t.lineTo(Nf*r+Ef*a,Nf*a-Ef*r),t.lineTo(Nf*i+Ef*o,Nf*o-Ef*i),t.lineTo(Nf*u+Ef*l,Nf*l-Ef*u),t.closePath()}}}));function Hf(t,e){var n=null;function r(){var r;if(n||(n=r=Zi()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return t="function"==typeof t?t:uc(t||yf),e="function"==typeof e?e:uc(void 0===e?64:+e),r.type=function(e){return arguments.length?(t="function"==typeof e?e:uc(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:uc(+t),r):e},r.context=function(t){return arguments.length?(n=t??null,r):n},r}var jf,Wf=l((()=>{no(),Rf(),Of(),If(),Yf(),Ff(),Lf(),Uf(),lc(),jf=[yf,bf,wf,Vf,kf,Cf,Pf]}));function qf(){}var $f=l((()=>{}));function Xf(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Gf(t){this._context=t}function Qf(t){return new Gf(t)}var Zf=l((()=>{Gf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xf(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}}}));function Kf(t){this._context=t}function Jf(t){return new Kf(t)}var ts=l((()=>{$f(),Zf(),Kf.prototype={areaStart:qf,areaEnd:qf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Xf(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}}}));function es(t){this._context=t}function ns(t){return new es(t)}var rs=l((()=>{Zf(),es.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Xf(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}}}));function as(t){return new os(t,!0)}function is(t){return new os(t,!1)}var os,us=l((()=>{os=class{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}}));function ls(t,e){this._basis=new Gf(t),this._beta=e}var cs,fs=l((()=>{Zf(),ls.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,a=t[0],i=e[0],o=t[n]-a,u=e[n]-i,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(a+r*o),this._beta*e[l]+(1-this._beta)*(i+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}},cs=function t(e){function n(t){return 1===e?new Gf(t):new ls(t,e)}return n.beta=function(e){return t(+e)},n}(.85)}));function ss(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function hs(t,e){this._context=t,this._k=(1-e)/6}var ds,gs=l((()=>{hs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ss(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ss(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},ds=function t(e){function n(t){return new hs(t,e)}return n.tension=function(e){return t(+e)},n}(0)}));function ps(t,e){this._context=t,this._k=(1-e)/6}var vs,ms=l((()=>{$f(),gs(),ps.prototype={areaStart:qf,areaEnd:qf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ss(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},vs=function t(e){function n(t){return new ps(t,e)}return n.tension=function(e){return t(+e)},n}(0)}));function ys(t,e){this._context=t,this._k=(1-e)/6}var bs,xs=l((()=>{gs(),ys.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ss(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},bs=function t(e){function n(t){return new ys(t,e)}return n.tension=function(e){return t(+e)},n}(0)}));function _s(t,e,n){var r=t._x1,a=t._y1,i=t._x2,o=t._y2;if(t._l01_a>yc){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,a=(a*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>yc){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);i=(i*c+t._x1*t._l23_2a-e*t._l12_2a)/f,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/f}t._context.bezierCurveTo(r,a,i,o,t._x2,t._y2)}function ws(t,e){this._context=t,this._alpha=e}var Ss,Ms=l((()=>{wc(),gs(),ws.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:_s(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},Ss=function t(e){function n(t){return e?new ws(t,e):new hs(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)}));function As(t,e){this._context=t,this._alpha=e}var ks,Vs=l((()=>{ms(),$f(),Ms(),As.prototype={areaStart:qf,areaEnd:qf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:_s(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},ks=function t(e){function n(t){return e?new As(t,e):new ps(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)}));function Ts(t,e){this._context=t,this._alpha=e}var Cs,Ns=l((()=>{xs(),Ms(),Ts.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_s(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},Cs=function t(e){function n(t){return e?new Ts(t,e):new ys(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)}));function Es(t){this._context=t}function Ds(t){return new Es(t)}var zs=l((()=>{$f(),Es.prototype={areaStart:qf,areaEnd:qf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}}}));function Ps(t){return t<0?-1:1}function Bs(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),o=(n-t._y1)/(a||r<0&&-0),u=(i*a+o*r)/(r+a);return(Ps(i)+Ps(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(u))||0}function Rs(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Os(t,e,n){var r=t._x0,a=t._y0,i=t._x1,o=t._y1,u=(i-r)/3;t._context.bezierCurveTo(r+u,a+u*e,i-u,o-u*n,i,o)}function Is(t){this._context=t}function Ys(t){this._context=new Fs(t)}function Fs(t){this._context=t}function Ls(t){return new Is(t)}function Us(t){return new Ys(t)}var Hs=l((()=>{Is.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Os(this,this._t0,Rs(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Os(this,Rs(this,n=Bs(this,t,e)),n);break;default:Os(this,this._t0,n=Bs(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Ys.prototype=Object.create(Is.prototype)).point=function(t,e){Is.prototype.point.call(this,e,t)},Fs.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}}}));function js(t){this._context=t}function Ws(t){var e,n,r=t.length-1,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function qs(t){return new js(t)}var $s=l((()=>{js.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Ws(t),a=Ws(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}}}));function Xs(t,e){this._context=t,this._t=e}function Gs(t){return new Xs(t,.5)}function Qs(t){return new Xs(t,0)}function Zs(t){return new Xs(t,1)}var Ks=l((()=>{Xs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}}}));function Js(t,e){if((a=t.length)>1)for(var n,r,a,i=1,o=t[e[0]],u=o.length;i<a;++i)for(r=o,o=t[e[i]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}var th=l((()=>{}));function eh(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}var nh=l((()=>{}));function rh(t,e){return t[e]}function ah(t){let e=[];return e.key=t,e}function ih(){var t=uc([]),e=eh,n=Js,r=rh;function a(a){var i,o,u=Array.from(t.apply(this,arguments),ah),l=u.length,c=-1;for(let t of a)for(i=0,++c;i<l;++i)(u[i][c]=[0,+r(t,u[i].key,c,a)]).data=t;for(i=0,o=Dc(e(u));i<l;++i)u[o[i]].index=i;return n(u,o),u}return a.keys=function(e){return arguments.length?(t="function"==typeof e?e:uc(Array.from(e)),a):t},a.value=function(t){return arguments.length?(r="function"==typeof t?t:uc(+t),a):r},a.order=function(t){return arguments.length?(e=null==t?eh:"function"==typeof t?t:uc(Array.from(t)),a):e},a.offset=function(t){return arguments.length?(n=t??Js,a):n},a}var oh=l((()=>{Pc(),lc(),th(),nh()}));function uh(t,e){if((r=t.length)>0){for(var n,r,a,i=0,o=t[0].length;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Js(t,e)}}var lh=l((()=>{th()}));function ch(t,e){if((u=t.length)>0)for(var n,r,a,i,o,u,l=0,c=t[e[0]].length;l<c;++l)for(i=o=0,n=0;n<u;++n)(a=(r=t[e[n]][l])[1]-r[0])>0?(r[0]=i,r[1]=i+=a):a<0?(r[1]=o,r[0]=o+=a):(r[0]=0,r[1]=a)}var fh=l((()=>{}));function sh(t,e){if((n=t.length)>0){for(var n,r=0,a=t[e[0]],i=a.length;r<i;++r){for(var o=0,u=0;o<n;++o)u+=t[o][r][1]||0;a[r][1]+=a[r][0]=-u/2}Js(t,e)}}var hh=l((()=>{th()}));function dh(t,e){if((a=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,a,i=0,o=1;o<r;++o){for(var u=0,l=0,c=0;u<a;++u){for(var f=t[e[u]],s=f[o][1]||0,h=(s-(f[o-1][1]||0))/2,d=0;d<u;++d){var g=t[e[d]];h+=(g[o][1]||0)-(g[o-1][1]||0)}l+=s,c+=h*s}n[o-1][1]+=n[o-1][0]=i,l&&(i-=c/l)}n[o-1][1]+=n[o-1][0]=i,Js(t,e)}}var gh=l((()=>{th()}));function ph(t){var e=t.map(vh);return eh(t).sort((function(t,n){return e[t]-e[n]}))}function vh(t){for(var e,n=-1,r=0,a=t.length,i=-1/0;++n<a;)(e=+t[n][1])>i&&(i=e,r=n);return r}var mh=l((()=>{nh()}));function yh(t){var e=t.map(bh);return eh(t).sort((function(t,n){return e[t]-e[n]}))}function bh(t){for(var e,n=0,r=-1,a=t.length;++r<a;)(e=+t[r][1])&&(n+=e);return n}var xh=l((()=>{nh()}));function _h(t){return yh(t).reverse()}var wh=l((()=>{xh()}));function Sh(t){var e,n,r=t.length,a=t.map(bh),i=ph(t),o=0,u=0,l=[],c=[];for(e=0;e<r;++e)n=i[e],o<u?(o+=a[n],l.push(n)):(u+=a[n],c.push(n));return c.reverse().concat(l)}var Mh=l((()=>{mh(),xh()}));function Ah(t){return eh(t).reverse()}var kh=l((()=>{nh()})),Vh={};f(Vh,{arc:()=>Nc,area:()=>Hc,areaRadial:()=>af,curveBasis:()=>Qf,curveBasisClosed:()=>Jf,curveBasisOpen:()=>ns,curveBumpX:()=>as,curveBumpY:()=>is,curveBundle:()=>cs,curveCardinal:()=>ds,curveCardinalClosed:()=>vs,curveCardinalOpen:()=>bs,curveCatmullRom:()=>Ss,curveCatmullRomClosed:()=>ks,curveCatmullRomOpen:()=>Cs,curveLinear:()=>Rc,curveLinearClosed:()=>Ds,curveMonotoneX:()=>Ls,curveMonotoneY:()=>Us,curveNatural:()=>qs,curveStep:()=>Gs,curveStepAfter:()=>Zs,curveStepBefore:()=>Qs,line:()=>Lc,lineRadial:()=>nf,linkHorizontal:()=>pf,linkRadial:()=>mf,linkVertical:()=>vf,pie:()=>Gc,pointRadial:()=>uf,radialArea:()=>af,radialLine:()=>nf,stack:()=>ih,stackOffsetDiverging:()=>ch,stackOffsetExpand:()=>uh,stackOffsetNone:()=>Js,stackOffsetSilhouette:()=>sh,stackOffsetWiggle:()=>dh,stackOrderAppearance:()=>ph,stackOrderAscending:()=>yh,stackOrderDescending:()=>_h,stackOrderInsideOut:()=>Sh,stackOrderNone:()=>eh,stackOrderReverse:()=>Ah,symbol:()=>Hf,symbolCircle:()=>yf,symbolCross:()=>bf,symbolDiamond:()=>wf,symbolSquare:()=>Vf,symbolStar:()=>kf,symbolTriangle:()=>Cf,symbolWye:()=>Pf,symbols:()=>jf});var Th=l((()=>{Ec(),jc(),Uc(),Qc(),of(),rf(),lf(),Bf(),Wf(),Rf(),Of(),If(),Ff(),Yf(),Lf(),Uf(),ts(),rs(),Zf(),us(),fs(),ms(),xs(),gs(),Vs(),Ns(),Ms(),zs(),Oc(),Hs(),$s(),Ks(),oh(),lh(),fh(),th(),hh(),gh(),mh(),xh(),wh(),Mh(),nh(),kh()}));function Ch(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}var Nh,Eh,Dh,zh,Ph,Bh,Rh,Oh,Ih,Yh,Fh=l((()=>{})),Lh=l((()=>{Fh(),Nh=Ch("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")})),Uh=l((()=>{Fh(),Eh=Ch("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")})),Hh=l((()=>{Fh(),Dh=Ch("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")})),jh=l((()=>{Fh(),zh=Ch("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")})),Wh=l((()=>{Fh(),Ph=Ch("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")})),qh=l((()=>{Fh(),Bh=Ch("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")})),$h=l((()=>{Fh(),Rh=Ch("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")})),Xh=l((()=>{Fh(),Oh=Ch("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")})),Gh=l((()=>{Fh(),Ih=Ch("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")})),Qh=l((()=>{Fh(),Yh=Ch("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")}));function Zh(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Kh(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}var Jh=l((()=>{}));function td(){}function ed(){return this.rgb().formatHex()}function nd(){return gd(this).formatHsl()}function rd(){return this.rgb().formatRgb()}function ad(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Sd.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?id(e):3===n?new cd(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?od(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?od(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Md.exec(t))?new cd(e[1],e[2],e[3],1):(e=Ad.exec(t))?new cd(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=kd.exec(t))?od(e[1],e[2],e[3],e[4]):(e=Vd.exec(t))?od(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Td.exec(t))?dd(e[1],e[2]/100,e[3]/100,1):(e=Cd.exec(t))?dd(e[1],e[2]/100,e[3]/100,e[4]):Nd.hasOwnProperty(t)?id(Nd[t]):"transparent"===t?new cd(NaN,NaN,NaN,0):null}function id(t){return new cd(t>>16&255,t>>8&255,255&t,1)}function od(t,e,n,r){return r<=0&&(t=e=n=NaN),new cd(t,e,n,r)}function ud(t){return t instanceof td||(t=ad(t)),t?new cd((t=t.rgb()).r,t.g,t.b,t.opacity):new cd}function ld(t,e,n,r){return 1===arguments.length?ud(t):new cd(t,e,n,r??1)}function cd(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function fd(){return"#"+hd(this.r)+hd(this.g)+hd(this.b)}function sd(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function hd(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function dd(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new vd(t,e,n,r)}function gd(t){if(t instanceof vd)return new vd(t.h,t.s,t.l,t.opacity);if(t instanceof td||(t=ad(t)),!t)return new vd;if(t instanceof vd)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,u=i-a,l=(i+a)/2;return u?(o=e===i?(n-r)/u+6*(n<r):n===i?(r-e)/u+2:(e-n)/u+4,u/=l<.5?i+a:2-i-a,o*=60):u=l>0&&l<1?0:o,new vd(o,u,l,t.opacity)}function pd(t,e,n,r){return 1===arguments.length?gd(t):new vd(t,e,n,r??1)}function vd(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function md(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}var yd,bd,xd,_d,wd,Sd,Md,Ad,kd,Vd,Td,Cd,Nd,Ed,Dd,zd=l((()=>{Jh(),bd=1/(yd=.7),xd="\\s*([+-]?\\d+)\\s*",_d="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",wd="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sd=/^#([0-9a-f]{3,8})$/,Md=new RegExp("^rgb\\("+[xd,xd,xd]+"\\)$"),Ad=new RegExp("^rgb\\("+[wd,wd,wd]+"\\)$"),kd=new RegExp("^rgba\\("+[xd,xd,xd,_d]+"\\)$"),Vd=new RegExp("^rgba\\("+[wd,wd,wd,_d]+"\\)$"),Td=new RegExp("^hsl\\("+[_d,wd,wd]+"\\)$"),Cd=new RegExp("^hsla\\("+[_d,wd,wd,_d]+"\\)$"),Nd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Zh(td,ad,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ed,formatHex:ed,formatHsl:nd,formatRgb:rd,toString:rd}),Zh(cd,ld,Kh(td,{brighter:function(t){return t=null==t?bd:Math.pow(bd,t),new cd(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?yd:Math.pow(yd,t),new cd(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fd,formatHex:fd,formatRgb:sd,toString:sd})),Zh(vd,pd,Kh(td,{brighter:function(t){return t=null==t?bd:Math.pow(bd,t),new vd(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?yd:Math.pow(yd,t),new vd(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new cd(md(t>=240?t-240:t+120,a,r),md(t,a,r),md(t<120?t+240:t-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}))})),Pd=l((()=>{Ed=Math.PI/180,Dd=180/Math.PI}));function Bd(t){if(t instanceof Od)return new Od(t.h,t.s,t.l,t.opacity);t instanceof cd||(t=ud(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(Wd*r+Hd*e-jd*n)/(Wd+Hd-jd),i=r-a,o=(Ud*(n-a)-Fd*i)/Ld,u=Math.sqrt(o*o+i*i)/(Ud*a*(1-a)),l=u?Math.atan2(o,i)*Dd-120:NaN;return new Od(l<0?l+360:l,u,a,t.opacity)}function Rd(t,e,n,r){return 1===arguments.length?Bd(t):new Od(t,e,n,r??1)}function Od(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}var Id,Yd,Fd,Ld,Ud,Hd,jd,Wd,qd=l((()=>{Jh(),zd(),Pd(),Hd=(Ud=1.97294)*(Ld=-.90649),jd=Ud*(Yd=1.78277),Wd=Yd*(Fd=-.29227)-Ld*(Id=-.14861),Zh(Od,Rd,Kh(td,{brighter:function(t){return t=null==t?bd:Math.pow(bd,t),new Od(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?yd:Math.pow(yd,t),new Od(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Ed,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),a=Math.sin(t);return new cd(255*(e+n*(Id*r+Yd*a)),255*(e+n*(Fd*r+Ld*a)),255*(e+n*(Ud*r)),this.opacity)}}))})),$d=l((()=>{zd(),qd()}));function Xd(t,e,n,r,a){var i=t*t,o=i*t;return((1-3*t+3*i-o)*e+(4-6*i+3*o)*n+(1+3*t+3*i-3*o)*r+o*a)/6}function Gd(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[r],i=t[r+1],o=r>0?t[r-1]:2*a-i,u=r<e-1?t[r+2]:2*i-a;return Xd((n-r/e)*e,o,a,i,u)}}var Qd=l((()=>{}));function Zd(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),a=t[(r+e-1)%e],i=t[r%e],o=t[(r+1)%e],u=t[(r+2)%e];return Xd((n-r/e)*e,a,i,o,u)}}var Kd,Jd=l((()=>{Qd()})),tg=l((()=>{Kd=t=>()=>t}));function eg(t,e){return function(n){return t+n*e}}function ng(t,e){var n=e-t;return n?eg(t,n>180||n<-180?n-360*Math.round(n/360):n):Kd(isNaN(t)?e:t)}function rg(t){return 1==(t=+t)?ag:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Kd(isNaN(e)?n:e)}}function ag(t,e){var n=e-t;return n?eg(t,n):Kd(isNaN(t)?e:t)}var ig=l((()=>{tg()}));function og(t){return function(e){var n,r,a=e.length,i=new Array(a),o=new Array(a),u=new Array(a);for(n=0;n<a;++n)r=ld(e[n]),i[n]=r.r||0,o[n]=r.g||0,u[n]=r.b||0;return i=t(i),o=t(o),u=t(u),r.opacity=1,function(t){return r.r=i(t),r.g=o(t),r.b=u(t),r+""}}}var ug,lg,cg=l((()=>{$d(),Qd(),Jd(),ig(),ug=function t(e){var n=rg(e);function r(t,e){var r=n((t=ld(t)).r,(e=ld(e)).r),a=n(t.g,e.g),i=n(t.b,e.b),o=ag(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=a(e),t.b=i(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1),lg=og(Gd),og(Zd)}));function fg(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,a=e.slice();return function(i){for(n=0;n<r;++n)a[n]=t[n]*(1-i)+e[n]*i;return a}}var sg=l((()=>{}));function hg(t,e){var n,r=e?e.length:0,a=t?Math.min(r,t.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=Mg(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<a;++n)o[n]=i[n](t);return o}}var dg=l((()=>{Ag()}));function gg(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}var pg=l((()=>{}));function vg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var mg=l((()=>{}));function yg(t,e){var n,r={},a={};for(n in(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={}),e)n in t?r[n]=Mg(t[n],e[n]):a[n]=e[n];return function(t){for(n in r)a[n]=r[n](t);return a}}var bg=l((()=>{Ag()}));function xg(t,e){var n,r,a,i=_g.lastIndex=wg.lastIndex=0,o=-1,u=[],l=[];for(t+="",e+="";(n=_g.exec(t))&&(r=wg.exec(e));)(a=r.index)>i&&(a=e.slice(i,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,l.push({i:o,x:vg(n,r)})),i=wg.lastIndex;return i<e.length&&(a=e.slice(i),u[o]?u[o]+=a:u[++o]=a),u.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)u[(n=l[r]).i]=n.x(t);return u.join("")})}var _g,wg,Sg=l((()=>{mg(),_g=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wg=new RegExp(_g.source,"g")}));function Mg(t,e){var n,r=typeof e;return null==e||"boolean"===r?Kd(e):("number"===r?vg:"string"===r?(n=ad(e))?(e=n,ug):xg:e instanceof ad?ug:e instanceof Date?gg:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?fg:Array.isArray(e)?hg:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?yg:vg)(t,e)}var Ag=l((()=>{$d(),cg(),dg(),pg(),mg(),bg(),Sg(),tg(),sg()}));function kg(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Vg=l((()=>{}));function Tg(t,e,n,r,a,i){var o,u,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*Cg,skewX:Math.atan(l)*Cg,scaleX:o,scaleY:u}}var Cg,Ng,Eg=l((()=>{Cg=180/Math.PI,Ng={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}}));function Dg(t){let e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ng:Tg(e.a,e.b,e.c,e.d,e.e,e.f)}function zg(t){return null==t?Ng:(Pg||(Pg=document.createElementNS("http://www.w3.org/2000/svg","g")),Pg.setAttribute("transform",t),(t=Pg.transform.baseVal.consolidate())?Tg((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ng)}var Pg,Bg=l((()=>{Eg()}));function Rg(t,e,n,r){function a(t){return t.length?t.pop()+" ":""}return function(i,o){var u=[],l=[];return i=t(i),o=t(o),function(t,r,a,i,o,u){if(t!==a||r!==i){var l=o.push("translate(",null,e,null,n);u.push({i:l-4,x:vg(t,a)},{i:l-2,x:vg(r,i)})}else(a||i)&&o.push("translate("+a+e+i+n)}(i.translateX,i.translateY,o.translateX,o.translateY,u,l),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:vg(t,e)})):e&&n.push(a(n)+"rotate("+e+r)}(i.rotate,o.rotate,u,l),function(t,e,n,i){t!==e?i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:vg(t,e)}):e&&n.push(a(n)+"skewX("+e+r)}(i.skewX,o.skewX,u,l),function(t,e,n,r,i,o){if(t!==n||e!==r){var u=i.push(a(i)+"scale(",null,",",null,")");o.push({i:u-4,x:vg(t,n)},{i:u-2,x:vg(e,r)})}else(1!==n||1!==r)&&i.push(a(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,u,l),i=o=null,function(t){for(var e,n=-1,r=l.length;++n<r;)u[(e=l[n]).i]=e.x(t);return u.join("")}}}var Og,Ig,Yg=l((()=>{mg(),Bg(),Og=Rg(Dg,"px, ","px)","deg)"),Ig=Rg(zg,", ",")",")")}));function Fg(t){return((t=Math.exp(t))+1/t)/2}var Lg,Ug=l((()=>{1e-12,Lg=function t(e,n,r){function a(t,a){var i,o,u=t[0],l=t[1],c=t[2],f=a[0],s=a[1],h=a[2],d=f-u,g=s-l,p=d*d+g*g;if(p<1e-12)o=Math.log(h/c)/e,i=function(t){return[u+t*d,l+t*g,c*Math.exp(e*t*o)]};else{var v=Math.sqrt(p),m=(h*h-c*c+r*p)/(2*c*n*v),y=(h*h-c*c-r*p)/(2*h*n*v),b=Math.log(Math.sqrt(m*m+1)-m),x=Math.log(Math.sqrt(y*y+1)-y);o=(x-b)/e,i=function(t){var r=t*o,a=Fg(b),i=c/(n*v)*(a*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*r+b)-function(t){return((t=Math.exp(t))-1/t)/2}(b));return[u+i*d,l+i*g,c*a/Fg(e*r+b)]}}return i.duration=1e3*o*e/Math.SQRT2,i}return a.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},a}(Math.SQRT2,2,4)}));function Hg(t){return function e(n){function r(e,r){var a=t((e=Rd(e)).h,(r=Rd(r)).h),i=ag(e.s,r.s),o=ag(e.l,r.l),u=ag(e.opacity,r.opacity);return function(t){return e.h=a(t),e.s=i(t),e.l=o(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,r.gamma=e,r}(1)}var jg,Wg,qg,$g,Xg,Gg,Qg,Zg,Kg,Jg,tp,ep,np,rp,ap,ip,op,up,lp,cp,fp,sp,hp,dp,gp,pp,vp,mp,yp,bp,xp,_p,wp,Sp,Mp,Ap,kp,Vp,Tp,Cp,Np,Ep,Dp,zp,Pp,Bp,Rp,Op,Ip,Yp,Fp,Lp,Up,Hp,jp,Wp,qp=l((()=>{$d(),ig(),Hg(ng),jg=Hg(ag)})),$p=l((()=>{Ag(),mg(),Vg(),Sg(),Yg(),Ug(),cg(),qp()})),Xp=l((()=>{$p(),Wg=t=>lg(t[t.length-1])})),Gp=l((()=>{Fh(),Xp(),qg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ch),$g=Wg(qg)})),Qp=l((()=>{Fh(),Xp(),Xg=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ch),Gg=Wg(Xg)})),Zp=l((()=>{Fh(),Xp(),Qg=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ch),Zg=Wg(Qg)})),Kp=l((()=>{Fh(),Xp(),Kg=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ch),Jg=Wg(Kg)})),Jp=l((()=>{Fh(),Xp(),tp=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ch),ep=Wg(tp)})),tv=l((()=>{Fh(),Xp(),np=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ch),rp=Wg(np)})),ev=l((()=>{Fh(),Xp(),ap=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ch),ip=Wg(ap)})),nv=l((()=>{Fh(),Xp(),op=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ch),up=Wg(op)})),rv=l((()=>{Fh(),Xp(),lp=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ch),cp=Wg(lp)})),av=l((()=>{Fh(),Xp(),fp=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ch),sp=Wg(fp)})),iv=l((()=>{Fh(),Xp(),hp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ch),dp=Wg(hp)})),ov=l((()=>{Fh(),Xp(),gp=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ch),pp=Wg(gp)})),uv=l((()=>{Fh(),Xp(),vp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ch),mp=Wg(vp)})),lv=l((()=>{Fh(),Xp(),yp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ch),bp=Wg(yp)})),cv=l((()=>{Fh(),Xp(),xp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ch),_p=Wg(xp)})),fv=l((()=>{Fh(),Xp(),wp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ch),Sp=Wg(wp)})),sv=l((()=>{Fh(),Xp(),Mp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ch),Ap=Wg(Mp)})),hv=l((()=>{Fh(),Xp(),kp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ch),Vp=Wg(kp)})),dv=l((()=>{Fh(),Xp(),Tp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ch),Cp=Wg(Tp)})),gv=l((()=>{Fh(),Xp(),Np=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ch),Ep=Wg(Np)})),pv=l((()=>{Fh(),Xp(),Dp=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ch),zp=Wg(Dp)})),vv=l((()=>{Fh(),Xp(),Pp=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ch),Bp=Wg(Pp)})),mv=l((()=>{Fh(),Xp(),Rp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ch),Op=Wg(Rp)})),yv=l((()=>{Fh(),Xp(),Ip=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ch),Yp=Wg(Ip)})),bv=l((()=>{Fh(),Xp(),Fp=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ch),Lp=Wg(Fp)})),xv=l((()=>{Fh(),Xp(),Up=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ch),Hp=Wg(Up)})),_v=l((()=>{Fh(),Xp(),jp=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ch),Wp=Wg(jp)}));function wv(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var Sv,Mv=l((()=>{})),Av=l((()=>{$d(),$p(),Sv=jg(Rd(300,.5,0),Rd(-240,.5,1))}));function kv(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Cv.h=360*t-100,Cv.s=1.5-1.5*e,Cv.l=.8-.9*e,Cv+""}var Vv,Tv,Cv,Nv=l((()=>{$d(),$p(),Vv=jg(Rd(-100,.75,.35),Rd(80,1.5,.8)),Tv=jg(Rd(260,.75,.35),Rd(80,1.5,.8)),Cv=Rd()}));function Ev(t){var e;return t=(.5-t)*Math.PI,Dv.r=255*(e=Math.sin(t))*e,Dv.g=255*(e=Math.sin(t+zv))*e,Dv.b=255*(e=Math.sin(t+Pv))*e,Dv+""}var Dv,zv,Pv,Bv=l((()=>{$d(),Dv=ld(),zv=Math.PI/3,Pv=2*Math.PI/3}));function Rv(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}var Ov=l((()=>{}));function Iv(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Yv,Fv,Lv,Uv,Hv=l((()=>{Fh(),Yv=Iv(Ch("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Fv=Iv(Ch("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Lv=Iv(Ch("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Uv=Iv(Ch("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))})),jv={};f(jv,{interpolateBlues:()=>Bp,interpolateBrBG:()=>$g,interpolateBuGn:()=>sp,interpolateBuPu:()=>dp,interpolateCividis:()=>wv,interpolateCool:()=>Tv,interpolateCubehelixDefault:()=>Sv,interpolateGnBu:()=>pp,interpolateGreens:()=>Op,interpolateGreys:()=>Yp,interpolateInferno:()=>Lv,interpolateMagma:()=>Fv,interpolateOrRd:()=>mp,interpolateOranges:()=>Wp,interpolatePRGn:()=>Gg,interpolatePiYG:()=>Zg,interpolatePlasma:()=>Uv,interpolatePuBu:()=>_p,interpolatePuBuGn:()=>bp,interpolatePuOr:()=>Jg,interpolatePuRd:()=>Sp,interpolatePurples:()=>Lp,interpolateRainbow:()=>kv,interpolateRdBu:()=>ep,interpolateRdGy:()=>rp,interpolateRdPu:()=>Ap,interpolateRdYlBu:()=>ip,interpolateRdYlGn:()=>up,interpolateReds:()=>Hp,interpolateSinebow:()=>Ev,interpolateSpectral:()=>cp,interpolateTurbo:()=>Rv,interpolateViridis:()=>Yv,interpolateWarm:()=>Vv,interpolateYlGn:()=>Cp,interpolateYlGnBu:()=>Vp,interpolateYlOrBr:()=>Ep,interpolateYlOrRd:()=>zp,schemeAccent:()=>Eh,schemeBlues:()=>Pp,schemeBrBG:()=>qg,schemeBuGn:()=>fp,schemeBuPu:()=>hp,schemeCategory10:()=>Nh,schemeDark2:()=>Dh,schemeGnBu:()=>gp,schemeGreens:()=>Rp,schemeGreys:()=>Ip,schemeOrRd:()=>vp,schemeOranges:()=>jp,schemePRGn:()=>Xg,schemePaired:()=>zh,schemePastel1:()=>Ph,schemePastel2:()=>Bh,schemePiYG:()=>Qg,schemePuBu:()=>xp,schemePuBuGn:()=>yp,schemePuOr:()=>Kg,schemePuRd:()=>wp,schemePurples:()=>Fp,schemeRdBu:()=>tp,schemeRdGy:()=>np,schemeRdPu:()=>Mp,schemeRdYlBu:()=>ap,schemeRdYlGn:()=>op,schemeReds:()=>Up,schemeSet1:()=>Rh,schemeSet2:()=>Oh,schemeSet3:()=>Ih,schemeSpectral:()=>lp,schemeTableau10:()=>Yh,schemeYlGn:()=>Tp,schemeYlGnBu:()=>kp,schemeYlOrBr:()=>Np,schemeYlOrRd:()=>Dp});var Wv=l((()=>{Lh(),Uh(),Hh(),jh(),Wh(),qh(),$h(),Xh(),Gh(),Qh(),Gp(),Qp(),Zp(),Kp(),Jp(),tv(),ev(),nv(),rv(),av(),iv(),ov(),uv(),lv(),cv(),fv(),sv(),hv(),dv(),gv(),pv(),vv(),mv(),yv(),bv(),xv(),_v(),Mv(),Av(),Nv(),Bv(),Ov(),Hv()}));function qv(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new $v(r)}function $v(t){this._=t}function Xv(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Gv(t,e){for(var n,r=0,a=t.length;r<a;++r)if((n=t[r]).name===e)return n.value}function Qv(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=Zv,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}var Zv,Kv,Jv=l((()=>{Zv={value:()=>{}},$v.prototype=qv.prototype={constructor:$v,on:function(t,e){var n,r=this._,a=Xv(t+"",r),i=-1,o=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<o;)if(n=(t=a[i]).type)r[n]=Qv(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Qv(r[n],t.name,null);return this}for(;++i<o;)if((n=(t=a[i]).type)&&(n=Gv(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new $v(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,a)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}},Kv=qv})),tm={};f(tm,{dispatch:()=>Kv});var em=l((()=>{Jv()}));function nm(t){t.stopImmediatePropagation()}function rm(t){t.preventDefault(),t.stopImmediatePropagation()}var am,im,om=l((()=>{am={passive:!1},im={capture:!0,passive:!1}}));function um(t){var e=t.document.documentElement,n=Hl(t).on("dragstart.drag",rm,im);"onselectstart"in e?n.on("selectstart.drag",rm,im):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function lm(t,e){var n=t.document.documentElement,r=Hl(t).on("dragstart.drag",null);e&&(r.on("click.drag",rm,im),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var cm,fm=l((()=>{oc(),om()})),sm=l((()=>{cm=t=>()=>t}));function hm(t,{sourceEvent:e,subject:n,target:r,identifier:a,active:i,x:o,y:u,dx:l,dy:c,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}var dm=l((()=>{hm.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}}));function gm(t){return!t.ctrlKey&&!t.button}function pm(){return this.parentNode}function vm(t,e){return e??{x:t.x,y:t.y}}function mm(){return navigator.maxTouchPoints||"ontouchstart"in this}function ym(){var t,e,n,r,a=gm,i=pm,o=vm,u=mm,l={},c=Kv("start","drag","end"),f=0,s=0;function h(t){t.on("mousedown.drag",d).filter(u).on("touchstart.drag",v).on("touchmove.drag",m,am).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(o,u){if(!r&&a.call(this,o,u)){var l=b(this,i.call(this,o,u),o,u,"mouse");!l||(Hl(o.view).on("mousemove.drag",g,im).on("mouseup.drag",p,im),um(o.view),nm(o),n=!1,t=o.clientX,e=o.clientY,l("start",o))}}function g(r){if(rm(r),!n){var a=r.clientX-t,i=r.clientY-e;n=a*a+i*i>s}l.mouse("drag",r)}function p(t){Hl(t.view).on("mousemove.drag mouseup.drag",null),lm(t.view,n),rm(t),l.mouse("end",t)}function v(t,e){if(a.call(this,t,e)){var n,r,o=t.changedTouches,u=i.call(this,t,e),l=o.length;for(n=0;n<l;++n)(r=b(this,u,t,e,o[n].identifier,o[n]))&&(nm(t),r("start",t,o[n]))}}function m(t){var e,n,r=t.changedTouches,a=r.length;for(e=0;e<a;++e)(n=l[r[e].identifier])&&(rm(t),n("drag",t,r[e]))}function y(t){var e,n,a=t.changedTouches,i=a.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<i;++e)(n=l[a[e].identifier])&&(nm(t),n("end",t,a[e]))}function b(t,e,n,r,a,i){var u,s,d,g=c.copy(),p=Jl(i||n,e);if(null!=(d=o.call(t,new hm("beforestart",{sourceEvent:n,target:h,identifier:a,active:f,x:p[0],y:p[1],dx:0,dy:0,dispatch:g}),r)))return u=d.x-p[0]||0,s=d.y-p[1]||0,function n(i,o,c){var v,m=p;switch(i){case"start":l[a]=n,v=f++;break;case"end":delete l[a],--f;case"drag":p=Jl(c||o,e),v=f}g.call(i,t,new hm(i,{sourceEvent:o,subject:d,target:h,identifier:a,active:v,x:p[0]+u,y:p[1]+s,dx:p[0]-m[0],dy:p[1]-m[1],dispatch:g}),r)}}return h.filter=function(t){return arguments.length?(a="function"==typeof t?t:cm(!!t),h):a},h.container=function(t){return arguments.length?(i="function"==typeof t?t:cm(t),h):i},h.subject=function(t){return arguments.length?(o="function"==typeof t?t:cm(t),h):o},h.touchable=function(t){return arguments.length?(u="function"==typeof t?t:cm(!!t),h):u},h.on=function(){var t=c.on.apply(c,arguments);return t===c?h:t},h.clickDistance=function(t){return arguments.length?(s=(t=+t)*t,h):Math.sqrt(s)},h}var bm=l((()=>{em(),oc(),fm(),om(),sm(),dm()})),xm=l((()=>{bm(),fm()}));function _m(){return Bm||(Im(wm),Bm=Om.now()+Rm)}function wm(){Bm=0}function Sm(){this._call=this._time=this._next=null}function Mm(t,e,n){var r=new Sm;return r.restart(t,e,n),r}function Am(){Bm=(Pm=Om.now())+Rm,Tm=Cm=0;try{!function(){_m(),++Tm;for(var t,e=Dm;e;)(t=Bm-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Tm}()}finally{Tm=0,function(){for(var t,e,n=Dm,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Dm=e);zm=t,Vm(r)}(),Bm=0}}function km(){var t=Om.now(),e=t-Pm;e>Em&&(Rm-=e,Pm=t)}function Vm(t){Tm||(Cm&&(Cm=clearTimeout(Cm)),t-Bm>24?(t<1/0&&(Cm=setTimeout(Am,t-Om.now()-Rm)),Nm&&(Nm=clearInterval(Nm))):(Nm||(Pm=Om.now(),Nm=setInterval(km,Em)),Tm=1,Im(Am)))}var Tm,Cm,Nm,Em,Dm,zm,Pm,Bm,Rm,Om,Im,Ym=l((()=>{Tm=0,Cm=0,Nm=0,Em=1e3,Pm=0,Bm=0,Rm=0,Om="object"==typeof performance&&performance.now?performance:Date,Im="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)},Sm.prototype=Mm.prototype={constructor:Sm,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?_m():+n)+(null==e?0:+e),!this._next&&zm!==this&&(zm?zm._next=this:Dm=this,zm=this),this._call=t,this._time=n,Vm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vm())}}}));function Fm(t,e,n){var r=new Sm;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}var Lm=l((()=>{Ym()})),Um=l((()=>{Ym(),Lm()}));function Hm(t,e,n,r,a,i){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,a=t.__transition;function i(t){n.state=Qm,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(i){var c,f,s,h;if(n.state!==Qm)return l();for(c in a)if((h=a[c]).name===n.name){if(h.state===Km)return Fm(o);h.state===Jm?(h.state=ey,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete a[c]):+c<e&&(h.state=ey,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete a[c])}if(Fm((function(){n.state===Km&&(n.state=Jm,n.timer.restart(u,n.delay,n.time),u(i))})),n.state=Zm,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Zm){for(n.state=Km,r=new Array(s=n.tween.length),c=0,f=-1;c<s;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++f]=h);r.length=f+1}}function u(e){for(var a=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=ty,1),i=-1,o=r.length;++i<o;)r[i].call(t,a);n.state===ty&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=ey,n.timer.stop(),delete a[e],a)return;delete t.__transition}a[e]=n,n.timer=Mm(i,0,n.time)}(t,n,{name:e,index:r,group:a,on:$m,tween:Xm,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Gm})}function jm(t,e){var n=qm(t,e);if(n.state>Gm)throw new Error("too late; already scheduled");return n}function Wm(t,e){var n=qm(t,e);if(n.state>Km)throw new Error("too late; already running");return n}function qm(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var $m,Xm,Gm,Qm,Zm,Km,Jm,ty,ey,ny=l((()=>{em(),Um(),$m=Kv("start","end","cancel","interrupt"),Xm=[],Gm=0,Qm=1,Zm=2,Km=3,Jm=4,ty=5,ey=6}));function ry(t,e){var n,r,a,i=t.__transition,o=!0;if(i){for(a in e=null==e?null:e+"",i)(n=i[a]).name===e?(r=n.state>Zm&&n.state<ty,n.state=ey,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[a]):o=!1;o&&delete t.__transition}}var ay=l((()=>{ny()}));function iy(t){return this.each((function(){ry(this,t)}))}var oy=l((()=>{ay()}));function uy(t,e){var n,r;return function(){var a=Wm(this,t),i=a.tween;if(i!==n)for(var o=0,u=(r=n=i).length;o<u;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}a.tween=r}}function ly(t,e,n){var r,a;if("function"!=typeof n)throw new Error;return function(){var i=Wm(this,t),o=i.tween;if(o!==r){a=(r=o).slice();for(var u={name:e,value:n},l=0,c=a.length;l<c;++l)if(a[l].name===e){a[l]=u;break}l===c&&a.push(u)}i.tween=a}}function cy(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,a=qm(this.node(),n).tween,i=0,o=a.length;i<o;++i)if((r=a[i]).name===t)return r.value;return null}return this.each((null==e?uy:ly)(n,t,e))}function fy(t,e,n){var r=t._id;return t.each((function(){var t=Wm(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return qm(t,r).value[e]}}var sy=l((()=>{ny()}));function hy(t,e){var n;return("number"==typeof e?vg:e instanceof ad?ug:(n=ad(e))?(e=n,ug):xg)(t,e)}var dy=l((()=>{$d(),$p()}));function gy(t){return function(){this.removeAttribute(t)}}function py(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vy(t,e,n){var r,a,i=n+"";return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function my(t,e,n){var r,a,i=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function yy(t,e,n){var r,a,i;return function(){var o,u,l=n(this);return null==l?void this.removeAttribute(t):(o=this.getAttribute(t))===(u=l+"")?null:o===r&&u===a?i:(a=u,i=e(r=o,l))}}function by(t,e,n){var r,a,i;return function(){var o,u,l=n(this);return null==l?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local))===(u=l+"")?null:o===r&&u===a?i:(a=u,i=e(r=o,l))}}function xy(t,e){var n=ao(t),r="transform"===n?Ig:hy;return this.attrTween(t,"function"==typeof e?(n.local?by:yy)(n,r,fy(this,"attr."+t,e)):null==e?(n.local?py:gy)(n):(n.local?my:vy)(n,r,e))}var _y=l((()=>{$p(),oc(),sy(),dy()}));function wy(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Sy(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function My(t,e){var n,r;function a(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Sy(t,a)),n}return a._value=e,a}function Ay(t,e){var n,r;function a(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&wy(t,a)),n}return a._value=e,a}function ky(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=ao(t);return this.tween(n,(r.local?My:Ay)(r,e))}var Vy=l((()=>{oc()}));function Ty(t,e){return function(){jm(this,t).delay=+e.apply(this,arguments)}}function Cy(t,e){return e=+e,function(){jm(this,t).delay=e}}function Ny(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ty:Cy)(e,t)):qm(this.node(),e).delay}var Ey=l((()=>{ny()}));function Dy(t,e){return function(){Wm(this,t).duration=+e.apply(this,arguments)}}function zy(t,e){return e=+e,function(){Wm(this,t).duration=e}}function Py(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Dy:zy)(e,t)):qm(this.node(),e).duration}var By=l((()=>{ny()}));function Ry(t,e){if("function"!=typeof e)throw new Error;return function(){Wm(this,t).ease=e}}function Oy(t){var e=this._id;return arguments.length?this.each(Ry(e,t)):qm(this.node(),e).ease}var Iy=l((()=>{ny()}));function Yy(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Wm(this,t).ease=n}}(this._id,t))}var Fy=l((()=>{ny()}));function Ly(t){"function"!=typeof t&&(t=So(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],u=o.length,l=r[a]=[],c=0;c<u;++c)(i=o[c])&&t.call(i,i.__data__,c,o)&&l.push(i);return new xb(r,this._parents,this._name,this._id)}var Uy=l((()=>{oc(),Ab()}));function Hy(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),o=new Array(r),u=0;u<i;++u)for(var l,c=e[u],f=n[u],s=c.length,h=o[u]=new Array(s),d=0;d<s;++d)(l=c[d]||f[d])&&(h[d]=l);for(;u<r;++u)o[u]=e[u];return new xb(o,this._parents,this._name,this._id)}var jy=l((()=>{Ab()}));function Wy(t,e,n){var r,a,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?jm:Wm;return function(){var o=i(this,t),u=o.on;u!==r&&(a=(r=u).copy()).on(e,n),o.on=a}}function qy(t,e){var n=this._id;return arguments.length<2?qm(this.node(),n).on.on(t):this.each(Wy(n,t,e))}var $y=l((()=>{ny()}));function Xy(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t}var Gy=l((()=>{}));function Qy(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=so(t));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var u,l,c=r[o],f=c.length,s=i[o]=new Array(f),h=0;h<f;++h)(u=c[h])&&(l=t.call(u,u.__data__,h,c))&&("__data__"in u&&(l.__data__=u.__data__),s[h]=l,Hm(s[h],e,n,h,s,qm(u,n)));return new xb(i,this._parents,e,n)}var Zy=l((()=>{oc(),Ab(),ny()}));function Ky(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=bo(t));for(var r=this._groups,a=r.length,i=[],o=[],u=0;u<a;++u)for(var l,c=r[u],f=c.length,s=0;s<f;++s)if(l=c[s]){for(var h,d=t.call(l,l.__data__,s,c),g=qm(l,n),p=0,v=d.length;p<v;++p)(h=d[p])&&Hm(h,e,n,p,d,g);i.push(d),o.push(l)}return new xb(i,o,e,n)}var Jy=l((()=>{oc(),Ab(),ny()}));function tb(){return new eb(this._groups,this._parents)}var eb,nb=l((()=>{oc(),eb=Ll.prototype.constructor}));function rb(t){return function(){this.style.removeProperty(t)}}function ab(t,e,n){var r="transform"==(t+="")?Og:hy;return null==e?this.styleTween(t,function(t,e){var n,r,a;return function(){var i=Du(this,t),o=(this.style.removeProperty(t),Du(this,t));return i===o?null:i===n&&o===r?a:a=e(n=i,r=o)}}(t,r)).on("end.style."+t,rb(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,a,i;return function(){var o=Du(this,t),u=n(this),l=u+"";return null==u&&(this.style.removeProperty(t),l=u=Du(this,t)),o===l?null:o===r&&l===a?i:(a=l,i=e(r=o,u))}}(t,r,fy(this,"style."+t,e))).each(function(t,e){var n,r,a,i,o="style."+e,u="end."+o;return function(){var l=Wm(this,t),c=l.on,f=null==l.value[o]?i||(i=rb(e)):void 0;(c!==n||a!==f)&&(r=(n=c).copy()).on(u,a=f),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,a,i=n+"";return function(){var o=Du(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)}var ib=l((()=>{$p(),oc(),ny(),sy(),dy()}));function ob(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ub(t,e,n){var r,a;function i(){var i=e.apply(this,arguments);return i!==a&&(r=(a=i)&&ob(t,i,n)),r}return i._value=e,i}function lb(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,ub(t,e,n??""))}var cb=l((()=>{}));function fb(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=e??""}}(fy(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))}var sb=l((()=>{sy()}));function hb(t){return function(e){this.textContent=t.call(this,e)}}function db(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&hb(r)),e}return r._value=t,r}function gb(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,db(t))}var pb=l((()=>{}));function vb(){for(var t=this._name,e=this._id,n=wb(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o,u=r[i],l=u.length,c=0;c<l;++c)if(o=u[c]){var f=qm(o,e);Hm(o,t,n,c,u,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new xb(r,this._parents,t,n)}var mb=l((()=>{Ab(),ny()}));function yb(){var t,e,n=this,r=n._id,a=n.size();return new Promise((function(i,o){var u={value:o},l={value:function(){0==--a&&i()}};n.each((function(){var n=Wm(this,r),a=n.on;a!==t&&((e=(t=a).copy())._.cancel.push(u),e._.interrupt.push(u),e._.end.push(l)),n.on=e})),0===a&&i()}))}var bb=l((()=>{ny()}));function xb(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function _b(t){return Ll().transition(t)}function wb(){return++Sb}var Sb,Mb,Ab=l((()=>{oc(),_y(),Vy(),Ey(),By(),Iy(),Fy(),Uy(),jy(),$y(),Gy(),Zy(),Jy(),nb(),ib(),cb(),sb(),pb(),mb(),sy(),bb(),Sb=0,Mb=Ll.prototype,xb.prototype=_b.prototype={constructor:xb,select:Qy,selectAll:Ky,selectChild:Mb.selectChild,selectChildren:Mb.selectChildren,filter:Ly,merge:Hy,selection:tb,transition:vb,call:Mb.call,nodes:Mb.nodes,node:Mb.node,size:Mb.size,empty:Mb.empty,each:Mb.each,on:qy,attr:xy,attrTween:ky,style:ab,styleTween:lb,text:fb,textTween:gb,remove:Xy,tween:cy,delay:Ny,duration:Py,ease:Oy,easeVarying:Yy,end:yb,[Symbol.iterator]:Mb[Symbol.iterator]}}));function kb(t){return--t*t*t+1}function Vb(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Tb=l((()=>{})),Cb=l((()=>{Tb()}));function Nb(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Eb(t){var e,n;t instanceof xb?(e=t._id,t=t._name):(e=wb(),(n=Db).time=_m(),t=null==t?null:t+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o,u=r[i],l=u.length,c=0;c<l;++c)(o=u[c])&&Hm(o,t,e,c,u,n||Nb(o,e));return new xb(r,this._parents,t,e)}var Db,zb,Pb=l((()=>{Ab(),ny(),Cb(),Um(),Db={time:null,delay:0,duration:250,ease:Vb}})),Bb=l((()=>{oc(),oy(),Pb(),Ll.prototype.interrupt=iy,Ll.prototype.transition=Eb})),Rb=l((()=>{Bb(),ay()})),Ob=l((()=>{zb=t=>()=>t}));function Ib(t,{sourceEvent:e,target:n,selection:r,mode:a,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:i}})}var Yb=l((()=>{}));function Fb(t){t.stopImmediatePropagation()}function Lb(t){t.preventDefault(),t.stopImmediatePropagation()}var Ub=l((()=>{}));function Hb(t){return[+t[0],+t[1]]}function jb(t){return[Hb(t[0]),Hb(t[1])]}function Wb(t){return{type:t}}function qb(t){return!t.ctrlKey&&!t.button}function $b(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Xb(){return navigator.maxTouchPoints||"ontouchstart"in this}function Gb(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Qb(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Zb(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Kb(){return ex(cx)}function Jb(){return ex(fx)}function tx(){return ex(sx)}function ex(t){var e,n=$b,r=qb,a=Xb,i=!0,o=Kv("start","brush","end"),u=6;function l(e){var n=e.property("__brush",p).selectAll(".overlay").data([Wb("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",hx.overlay).merge(n).each((function(){var t=Gb(this).extent;Hl(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([Wb("selection")]).enter().append("rect").attr("class","selection").attr("cursor",hx.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return hx[t.type]})),e.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(a).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t=Hl(this),e=Gb(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-u/2:e[0][0]-u/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-u/2:e[0][1]-u/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+u:u})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+u:u}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new s(t,e,n):r}function s(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function h(n){if((!e||n.touches)&&r.apply(this,arguments)){var a,o,u,l,s,h,d,g,p,v,m,y=this,b=n.target.__data__.type,x="selection"===(i&&n.metaKey?b="overlay":b)?nx:i&&n.altKey?ix:ax,_=t===fx?null:px[b],w=t===cx?null:vx[b],S=Gb(y),M=S.extent,A=S.selection,k=M[0][0],V=M[0][1],T=M[1][0],C=M[1][1],N=0,E=0,D=_&&w&&i&&n.shiftKey,z=Array.from(n.touches||[n],(t=>{let e=t.identifier;return(t=Jl(t,y)).point0=t.slice(),t.identifier=e,t}));ry(y);var P=f(y,arguments,!0).beforestart();if("overlay"===b){A&&(p=!0);let e=[z[0],z[1]||z[0]];S.selection=A=[[a=t===fx?k:lx(e[0][0],e[1][0]),u=t===cx?V:lx(e[0][1],e[1][1])],[s=t===fx?T:ux(e[0][0],e[1][0]),d=t===cx?C:ux(e[0][1],e[1][1])]],z.length>1&&Y(n)}else a=A[0][0],u=A[0][1],s=A[1][0],d=A[1][1];o=a,l=u,h=s,g=d;var B=Hl(y).attr("pointer-events","none"),R=B.selectAll(".overlay").attr("cursor",hx[b]);if(n.touches)P.moved=I,P.ended=F;else{var O=Hl(n.view).on("mousemove.brush",I,!0).on("mouseup.brush",F,!0);i&&O.on("keydown.brush",L,!0).on("keyup.brush",U,!0),um(n.view)}c.call(y),P.start(n,x.name)}function I(t){for(let e of t.changedTouches||[t])for(let t of z)t.identifier===e.identifier&&(t.cur=Jl(e,y));if(D&&!v&&!m&&1===z.length){let t=z[0];ox(t.cur[0]-t[0])>ox(t.cur[1]-t[1])?m=!0:v=!0}for(let t of z)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);p=!0,Lb(t),Y(t)}function Y(t){let e=z[0],n=e.point0;var r;switch(N=e[0]-n[0],E=e[1]-n[1],x){case rx:case nx:_&&(N=ux(k-a,lx(T-s,N)),o=a+N,h=s+N),w&&(E=ux(V-u,lx(C-d,E)),l=u+E,g=d+E);break;case ax:z[1]?(_&&(o=ux(k,lx(T,z[0][0])),h=ux(k,lx(T,z[1][0])),_=1),w&&(l=ux(V,lx(C,z[0][1])),g=ux(V,lx(C,z[1][1])),w=1)):(_<0?(N=ux(k-a,lx(T-a,N)),o=a+N,h=s):_>0&&(N=ux(k-s,lx(T-s,N)),o=a,h=s+N),w<0?(E=ux(V-u,lx(C-u,E)),l=u+E,g=d):w>0&&(E=ux(V-d,lx(C-d,E)),l=u,g=d+E));break;case ix:_&&(o=ux(k,lx(T,a-N*_)),h=ux(k,lx(T,s+N*_))),w&&(l=ux(V,lx(C,u-E*w)),g=ux(V,lx(C,d+E*w)))}h<o&&(_*=-1,r=a,a=s,s=r,r=o,o=h,h=r,b in dx&&R.attr("cursor",hx[b=dx[b]])),g<l&&(w*=-1,r=u,u=d,d=r,r=l,l=g,g=r,b in gx&&R.attr("cursor",hx[b=gx[b]])),S.selection&&(A=S.selection),v&&(o=A[0][0],h=A[1][0]),m&&(l=A[0][1],g=A[1][1]),(A[0][0]!==o||A[0][1]!==l||A[1][0]!==h||A[1][1]!==g)&&(S.selection=[[o,l],[h,g]],c.call(y),P.brush(t,x.name))}function F(t){if(Fb(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else lm(t.view,p),O.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);B.attr("pointer-events","all"),R.attr("cursor",hx.overlay),S.selection&&(A=S.selection),Qb(A)&&(S.selection=null,c.call(y)),P.end(t,x.name)}function L(t){switch(t.keyCode){case 16:D=_&&w;break;case 18:x===ax&&(_&&(s=h-N*_,a=o+N*_),w&&(d=g-E*w,u=l+E*w),x=ix,Y(t));break;case 32:(x===ax||x===ix)&&(_<0?s=h-N:_>0&&(a=o-N),w<0?d=g-E:w>0&&(u=l-E),x=rx,R.attr("cursor",hx.selection),Y(t));break;default:return}Lb(t)}function U(t){switch(t.keyCode){case 16:D&&(v=m=D=!1,Y(t));break;case 18:x===ix&&(_<0?s=h:_>0&&(a=o),w<0?d=g:w>0&&(u=l),x=ax,Y(t));break;case 32:x===rx&&(t.altKey?(_&&(s=h-N*_,a=o+N*_),w&&(d=g-E*w,u=l+E*w),x=ix):(_<0?s=h:_>0&&(a=o),w<0?d=g:w>0&&(u=l),x=ax),R.attr("cursor",hx[b]),Y(t));break;default:return}Lb(t)}}function d(t){f(this,arguments).moved(t)}function g(t){f(this,arguments).ended(t)}function p(){var e=this.__brush||{selection:null};return e.extent=jb(n.apply(this,arguments)),e.dim=t,e}return l.move=function(e,n,r){e.tween?e.on("start.brush",(function(t){f(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){f(this,arguments).end(t)})).tween("brush",(function(){var e=this,r=e.__brush,a=f(e,arguments),i=r.selection,o=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),u=Mg(i,o);function l(t){r.selection=1===t&&null===o?null:u(t),c.call(e),a.brush()}return null!==i&&null!==o?l:l(1)})):e.each((function(){var e=this,a=arguments,i=e.__brush,o=t.input("function"==typeof n?n.apply(e,a):n,i.extent),u=f(e,a).beforestart();ry(e),i.selection=null===o?null:o,c.call(e),u.start(r).brush(r).end(r)}))},l.clear=function(t,e){l.move(t,null,e)},s.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(e,n,r){var a=Hl(this.that).datum();o.call(e,this.that,new Ib(e,{sourceEvent:n,target:l,selection:t.output(this.state.selection),mode:r,dispatch:o}),a)}},l.extent=function(t){return arguments.length?(n="function"==typeof t?t:zb(jb(t)),l):n},l.filter=function(t){return arguments.length?(r="function"==typeof t?t:zb(!!t),l):r},l.touchable=function(t){return arguments.length?(a="function"==typeof t?t:zb(!!t),l):a},l.handleSize=function(t){return arguments.length?(u=+t,l):u},l.keyModifiers=function(t){return arguments.length?(i=!!t,l):i},l.on=function(){var t=o.on.apply(o,arguments);return t===o?l:t},l}var nx,rx,ax,ix,ox,ux,lx,cx,fx,sx,hx,dx,gx,px,vx,mx=l((()=>{em(),xm(),$p(),oc(),Rb(),Ob(),Yb(),Ub(),nx={name:"drag"},rx={name:"space"},ax={name:"handle"},ix={name:"center"},({abs:ox,max:ux,min:lx}=Math),cx={name:"x",handles:["w","e"].map(Wb),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},fx={name:"y",handles:["n","s"].map(Wb),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},sx={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Wb),input:function(t){return null==t?null:jb(t)},output:function(t){return t}},hx={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},dx={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},gx={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},px={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},vx={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1}})),yx={};f(yx,{brush:()=>tx,brushSelection:()=>Zb,brushX:()=>Kb,brushY:()=>Jb});var bx,xx=l((()=>{mx()})),_x=l((()=>{bx=t=>()=>t}));function wx(t,{sourceEvent:e,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}var Sx=l((()=>{}));function Mx(t,e,n){this.k=t,this.x=e,this.y=n}function Ax(t){for(;!t.__zoom;)if(!(t=t.parentNode))return kx;return t.__zoom}var kx,Vx=l((()=>{Mx.prototype={constructor:Mx,scale:function(t){return 1===t?this:new Mx(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Mx(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},kx=new Mx(1,0,0),Ax.prototype=Mx.prototype}));function Tx(t){t.stopImmediatePropagation()}function Cx(t){t.preventDefault(),t.stopImmediatePropagation()}var Nx=l((()=>{}));function Ex(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Dx(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function zx(){return this.__zoom||kx}function Px(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Bx(){return navigator.maxTouchPoints||"ontouchstart"in this}function Rx(t,e,n){var r=t.invertX(e[0][0])-n[0][0],a=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function Ox(){var t,e,n,r=Ex,a=Dx,i=Rx,o=Px,u=Bx,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,s=Lg,h=Kv("start","zoom","end"),d=500,g=0,p=10;function v(t){t.property("__zoom",zx).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",A).filter(u).on("touchstart.zoom",k).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new Mx(e,t.x,t.y)}function y(t,e,n){var r=e[0]-n[0]*t.k,a=e[1]-n[1]*t.k;return r===t.x&&a===t.y?t:new Mx(t.k,r,a)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,e,n,r){t.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,i=arguments,o=_(t,i).event(r),u=a.apply(t,i),l=null==n?b(u):"function"==typeof n?n.apply(t,i):n,c=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),f=t.__zoom,h="function"==typeof e?e.apply(t,i):e,d=s(f.invert(l).concat(c/f.k),h.invert(l).concat(c/h.k));return function(t){if(1===t)t=h;else{var e=d(t),n=c/e[2];t=new Mx(n,l[0]-e[0]*n,l[1]-e[1]*n)}o.zoom(null,t)}}))}function _(t,e,n){return!n&&t.__zooming||new w(t,e)}function w(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=a.apply(t,e),this.taps=0}function S(t,...e){if(r.apply(this,arguments)){var n=_(this,e).event(t),a=this.__zoom,u=Math.max(l[0],Math.min(l[1],a.k*Math.pow(2,o.apply(this,arguments)))),f=Jl(t);if(n.wheel)(n.mouse[0][0]!==f[0]||n.mouse[0][1]!==f[1])&&(n.mouse[1]=a.invert(n.mouse[0]=f)),clearTimeout(n.wheel);else{if(a.k===u)return;n.mouse=[f,a.invert(f)],ry(this),n.start()}Cx(t),n.wheel=setTimeout(s,150),n.zoom("mouse",i(y(m(a,u),n.mouse[0],n.mouse[1]),n.extent,c))}function s(){n.wheel=null,n.end()}}function M(t,...e){if(!n&&r.apply(this,arguments)){var a=t.currentTarget,o=_(this,e,!0).event(t),u=Hl(t.view).on("mousemove.zoom",h,!0).on("mouseup.zoom",d,!0),l=Jl(t,a),f=t.clientX,s=t.clientY;um(t.view),Tx(t),o.mouse=[l,this.__zoom.invert(l)],ry(this),o.start()}function h(t){if(Cx(t),!o.moved){var e=t.clientX-f,n=t.clientY-s;o.moved=e*e+n*n>g}o.event(t).zoom("mouse",i(y(o.that.__zoom,o.mouse[0]=Jl(t,a),o.mouse[1]),o.extent,c))}function d(t){u.on("mousemove.zoom mouseup.zoom",null),lm(t.view,o.moved),Cx(t),o.event(t).end()}}function A(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,o=Jl(t.changedTouches?t.changedTouches[0]:t,this),u=n.invert(o),l=n.k*(t.shiftKey?.5:2),s=i(y(m(n,l),o,u),a.apply(this,e),c);Cx(t),f>0?Hl(this).transition().duration(f).call(x,s,o,t):Hl(this).call(v.transform,s,o,t)}}function k(n,...a){if(r.apply(this,arguments)){var i,o,u,l,c=n.touches,f=c.length,s=_(this,a,n.changedTouches.length===f).event(n);for(Tx(n),o=0;o<f;++o)l=[l=Jl(u=c[o],this),this.__zoom.invert(l),u.identifier],s.touch0?!s.touch1&&s.touch0[2]!==l[2]&&(s.touch1=l,s.taps=0):(s.touch0=l,i=!0,s.taps=1+!!t);t&&(t=clearTimeout(t)),i&&(s.taps<2&&(e=l[0],t=setTimeout((function(){t=null}),d)),ry(this),s.start())}}function V(t,...e){if(this.__zooming){var n,r,a,o,u=_(this,e).event(t),l=t.changedTouches,f=l.length;for(Cx(t),n=0;n<f;++n)a=Jl(r=l[n],this),u.touch0&&u.touch0[2]===r.identifier?u.touch0[0]=a:u.touch1&&u.touch1[2]===r.identifier&&(u.touch1[0]=a);if(r=u.that.__zoom,u.touch1){var s=u.touch0[0],h=u.touch0[1],d=u.touch1[0],g=u.touch1[1],p=(p=d[0]-s[0])*p+(p=d[1]-s[1])*p,v=(v=g[0]-h[0])*v+(v=g[1]-h[1])*v;r=m(r,Math.sqrt(p/v)),a=[(s[0]+d[0])/2,(s[1]+d[1])/2],o=[(h[0]+g[0])/2,(h[1]+g[1])/2]}else{if(!u.touch0)return;a=u.touch0[0],o=u.touch0[1]}u.zoom("touch",i(y(r,a,o),u.extent,c))}}function T(t,...r){if(this.__zooming){var a,i,o=_(this,r).event(t),u=t.changedTouches,l=u.length;for(Tx(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),d),a=0;a<l;++a)i=u[a],o.touch0&&o.touch0[2]===i.identifier?delete o.touch0:o.touch1&&o.touch1[2]===i.identifier&&delete o.touch1;if(o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0)o.touch0[1]=this.__zoom.invert(o.touch0[0]);else if(o.end(),2===o.taps&&(i=Jl(i,this),Math.hypot(e[0]-i[0],e[1]-i[1])<p)){var c=Hl(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return v.transform=function(t,e,n,r){var a=t.selection?t.selection():t;a.property("__zoom",zx),t!==a?x(t,e,n,r):a.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},v.scaleBy=function(t,e,n,r){v.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n,r)},v.scaleTo=function(t,e,n,r){v.transform(t,(function(){var t=a.apply(this,arguments),r=this.__zoom,o=null==n?b(t):"function"==typeof n?n.apply(this,arguments):n,u=r.invert(o),l="function"==typeof e?e.apply(this,arguments):e;return i(y(m(r,l),o,u),t,c)}),n,r)},v.translateBy=function(t,e,n,r){v.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),a.apply(this,arguments),c)}),null,r)},v.translateTo=function(t,e,n,r,o){v.transform(t,(function(){var t=a.apply(this,arguments),o=this.__zoom,u=null==r?b(t):"function"==typeof r?r.apply(this,arguments):r;return i(kx.translate(u[0],u[1]).scale(o.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),r,o)},w.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Hl(this.that).datum();h.call(t,this.that,new wx(t,{sourceEvent:this.sourceEvent,target:v,type:t,transform:this.that.__zoom,dispatch:h}),e)}},v.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:bx(+t),v):o},v.filter=function(t){return arguments.length?(r="function"==typeof t?t:bx(!!t),v):r},v.touchable=function(t){return arguments.length?(u="function"==typeof t?t:bx(!!t),v):u},v.extent=function(t){return arguments.length?(a="function"==typeof t?t:bx([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):a},v.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],v):[l[0],l[1]]},v.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(t){return arguments.length?(i=t,v):i},v.duration=function(t){return arguments.length?(f=+t,v):f},v.interpolate=function(t){return arguments.length?(s=t,v):s},v.on=function(){var t=h.on.apply(h,arguments);return t===h?v:t},v.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,v):Math.sqrt(g)},v.tapDistance=function(t){return arguments.length?(p=+t,v):p},v}var Ix=l((()=>{em(),xm(),$p(),oc(),Rb(),_x(),Sx(),Vx(),Nx()})),Yx={};f(Yx,{ZoomTransform:()=>Mx,zoom:()=>Ox,zoomIdentity:()=>kx,zoomTransform:()=>Ax});var Fx=l((()=>{Ix(),Vx()})),Lx=c(((t,e)=>{var n,r;n=t,r=function(t,e,n,r,a,i,o,u,l,c,f,s,h){"use strict";var d=function(t,e,n){var r=e[n];if("function"!=typeof r)throw new Error("Attempt to rebind ".concat(n," which isn't a function on the source object"));return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=r.apply(e,a);return o===e?t:o}},g=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];for(var i=0,o=r;i<o.length;i++){var u=o[i];t[u]=d(t,e,u)}return t},p=function(t){return function(e){return t.reduce((function(t,e){return t&&e(t)}),e)}},v=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];for(var i=p(r),o=0,u=Object.keys(e);o<u.length;o++){var l=u[o],c=i(l);c&&(t[c]=d(t,e,l))}return t},m=function(t){return t.map((function(t){return"string"==typeof t?new RegExp("^".concat(t,"$")):t}))},y=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e=m(e),function(t){return e.every((function(e){return!e.test(t)}))&&t}},b=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e=m(e),function(t){return e.some((function(e){return e.test(t)}))&&t}},x=function(t){return function(e){return t[e]}},_=function(t){return function(e){return t+function(t){return t[0].toUpperCase()+t.slice(1)}(e)}};function w(t){return t}function S(t){}function M(t){return"function"==typeof t?t:function(){return t}}function A(t){return"number"==typeof t&&isNaN(t)?void 0:t}function k(){var t=function(){return 10},e=S,n=w,r=function(t){return null!=t},a=function(a){var i=t.apply(this,arguments),o=a.slice(0,i).map(n);return a.map((function(t,a){return a>=i&&(o.shift(),o.push(n(t,a))),a<i-1||o.some((function(t){return!r(t)}))?e(void 0,a):e(o,a)}))};return a.period=function(){return arguments.length?(t=M(arguments.length<=0?void 0:arguments[0]),a):t},a.accumulator=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.defined=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a}function V(){var t=w,n=function(){return 9},r=function(t){var n=[];return function(r){var a;return n.length<t&&(null!=r?n.push(r):n=[]),n.length>=t&&(a=e.mean(n)),a}},a=function(e){var a,i=n.apply(this,arguments),o=2/(i+1),u=r(i);return e.map((function(e,n){var r=t(e,n);return A(a=void 0===a?u(r):r*o+(1-o)*a)}))};return a.period=function(){return arguments.length?(n=M(arguments.length<=0?void 0:arguments[0]),a):n},a.value=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a}function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,e,n){return e&&N(t.prototype,e),n&&N(t,n),t}function D(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch{return!1}}function R(t,e,n){return(R=B()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var a=new(Function.bind.apply(t,r));return n&&P(a,n.prototype),a}).apply(null,arguments)}function O(t){var e="function"==typeof Map?new Map:void 0;return O=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return R(t,arguments,z(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),P(n,t)},O(t)}function I(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t){var e=B();return function(){var n,r=z(t);if(e){var a=z(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return I(this,n)}}function F(t,e){return U(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{!r&&null!=u.return&&u.return()}finally{if(a)throw i}}return n}}(t,e)||j(t,e)||q()}function L(t){return function(t){if(Array.isArray(t))return W(t)}(t)||H(t)||j(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(t){if(Array.isArray(t))return t}function H(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function j(t,e){if(t){if("string"==typeof t)return W(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(t,e)}}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $(){var t=k().accumulator((function(t){return t&&e.mean(t)})),n=function(e){return t(e)};return g(n,t,"period","value"),n}function X(){var t={distance:function(t,e){return e-t},offset:function(t,e){return t instanceof Date?new Date(t.getTime()+e):t+e},clampUp:function(t){return t},clampDown:function(t){return t},copy:function(){return t}};return t}function G(t,e){var n=t.map(e.clampUp);return n.length!==new Set(n.map((function(t){return null==t?void 0:t.valueOf()}))).size&&console.warn("There are multiple ticks that fall within a discontinuity, which has led to them being rendered on top of each other. Consider using scale.ticks to explicitly specify the ticks for the scale."),n}var Q=function(t,e,n,r){var a=0,i=1,o=6,u=864e5,l=5*u,c={},f=function(e){return 0===t(e)||6===t(e)};return c.clampDown=function(n){if(n&&f(n)){var r=e.ceil(n);return t(r)===a?e.offset(r,-1):t(r)===i?e.offset(r,-2):r}return n},c.clampUp=function(n){if(n&&f(n)){var r=e.floor(n);return t(r)===o?e.offset(r,2):t(r)===a?e.offset(r,1):r}return n},c.distance=function(t,e){t=c.clampUp(t),e=c.clampDown(e);var r=n.ceil(t);if(e<r)return e.getTime()-t.getTime();var a=r.getTime()-t.getTime(),i=n.ceil(e),o=i.getTime()-e.getTime();return Math.round((i.getTime()-r.getTime())/6048e5)*l+a-o},c.offset=function(t,a){var i=f(t)?c.clampUp(t):t;if(0===a)return i;var o=a<0,u=a>0,s=a,h=o?r.floor(i):n.ceil(i);if(s-=h.getTime()-i.getTime(),o&&s>0||u&&s<0)return new Date(i.getTime()+a);i=o?h:e.offset(h,2);var d=Math.floor(s/l);return i=e.offset(i,7*d),s-=d*l,i=new Date(i.getTime()+s)},c.copy=function(){return c},c};function Z(){var t=[function(t){return t}],n=[0,0],r="percent",a=null,i=[],o=function(o){var u,l=new Array(o.length),c=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=j(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){u=!0,i=t},f:function(){try{!o&&null!=n.return&&n.return()}finally{if(u)throw i}}}}(t);try{for(c.s();!(u=c.n()).done;)for(var f=u.value,s=0;s<o.length;s++){var h=f(o[s],s);Array.isArray(h)?l.push.apply(l,L(h)):l.push(h)}}catch(t){c.e(t)}finally{c.f()}var d=[e.min(l),e.max(l)];if(d[0]=null==d[0]?e.min(i):e.min([d[0]].concat(L(i))),d[1]=null==d[1]?e.max(i):e.max([d[1]].concat(L(i))),null!=a){var g=Math.max(Math.abs(d[1]-a),Math.abs(d[0]-a));d[0]=a-g,d[1]=a+g}switch(r){case"domain":d[0]-=n[0],d[1]+=n[1];break;case"percent":var p=d[1]-d[0];d[0]-=n[0]*p,d[1]+=n[1]*p;break;default:throw new Error("Unknown padUnit: ".concat(r))}return d};return o.accessors=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.pad=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.padUnit=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.include=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o.symmetricalAbout=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o}function K(){var t=[],e=[0,0],n="percent",r=null,a=[],i=Z(),o=function(t){return null!=t?t.valueOf():null},u=function(u){var l=t.map((function(t){return function(){var e=t.apply(void 0,arguments);return Array.isArray(e)?e.map(o):o(e)}}));return i.accessors(l).pad(e).padUnit(n).symmetricalAbout(null!=r?r.valueOf():null).include(a.map((function(t){return t.valueOf()}))),i(u).map((function(t){return new Date(t)}))};return u.accessors=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],u):t},u.pad=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],u):e},u.padUnit=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],u):n},u.include=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],u):a},u.symmetricalAbout=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],u):r},u}function J(){var t=1,e=20,n=.1,r=.1,i=a.randomNormal(),o=function(){for(var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=t/e,u=[],l=0;l<e+1;l++){u.push(a);var c=i()*Math.sqrt(o)*r+(n-r*r/2)*o;a*=Math.exp(c)}return u};return o.period=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.steps=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.mu=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.sigma=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.random=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o}function tt(t){return"function"==typeof t?t:function(){return t}}function et(){var t=10,n=function(n){return t<=1?n.map((function(t){return[t]})):e.range(0,Math.ceil(n.length/t)).map((function(e){return n.slice(e*t,(e+1)*t)}))};return n.bucketSize=function(e){return arguments.length?(t=e,n):t},n}var nt=function(t){return"function"==typeof t?t:function(){return t}},rt=function(){var t=null,e=function(t){return t.date},n=function(t){return t.open},r=function(t){return t.high},a=function(t){return t.low},i=function(t){return t.close},u="vertical",l=nt(3),c=function(c){var f=t||o.path();return c.forEach((function(t,o){var c=e(t,o),s=n(t,o),h=r(t,o),d=a(t,o),g=i(t,o),p=l(t,o)/2;"vertical"===u?(f.moveTo(c,d),f.lineTo(c,h),f.moveTo(c,s),f.lineTo(c-p,s),f.moveTo(c,g),f.lineTo(c+p,g)):(f.moveTo(d,c),f.lineTo(h,c),f.moveTo(s,c),f.lineTo(s,c+p),f.moveTo(g,c),f.lineTo(g,c-p))})),t?null:f.toString()};return c.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.x=function(){return arguments.length?(e=nt(arguments.length<=0?void 0:arguments[0]),c):e},c.open=function(){return arguments.length?(n=nt(arguments.length<=0?void 0:arguments[0]),c):n},c.high=function(){return arguments.length?(r=nt(arguments.length<=0?void 0:arguments[0]),c):r},c.low=function(){return arguments.length?(a=nt(arguments.length<=0?void 0:arguments[0]),c):a},c.close=function(){return arguments.length?(i=nt(arguments.length<=0?void 0:arguments[0]),c):i},c.width=function(){return arguments.length?(l=nt(arguments.length<=0?void 0:arguments[0]),c):l},c.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],c):u},c},at=function(){var t=null,e=function(t){return t.x},n=function(t){return t.y},r="center",a="center",i=function(t){return t.height},u=nt(3),l=function(l,c){var f=t||o.path();return l.forEach((function(t,o){var l,s,h=e.call(this,t,c||o),d=n.call(this,t,c||o),g=i.call(this,t,c||o),p=u.call(this,t,c||o);switch(r){case"left":l=p;break;case"right":l=0;break;case"center":l=p/2;break;default:throw new Error("Invalid horizontal alignment "+r)}switch(a){case"bottom":s=-g;break;case"top":s=0;break;case"center":s=g/2;break;default:throw new Error("Invalid vertical alignment "+a)}f.rect(h-l,d-s,p,g)}),this),t?null:f.toString()};return l.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},l.x=function(){return arguments.length?(e=nt(arguments.length<=0?void 0:arguments[0]),l):e},l.y=function(){return arguments.length?(n=nt(arguments.length<=0?void 0:arguments[0]),l):n},l.width=function(){return arguments.length?(u=nt(arguments.length<=0?void 0:arguments[0]),l):u},l.horizontalAlign=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],l):r},l.height=function(){return arguments.length?(i=nt(arguments.length<=0?void 0:arguments[0]),l):i},l.verticalAlign=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l},it=function(){var t=null,e=function(t){return t.date},n=function(t){return t.open},r=function(t){return t.high},a=function(t){return t.low},i=function(t){return t.close},u=nt(3),l=function(l){var c=t||o.path();return l.forEach((function(t,o){var l=e(t,o),f=n(t,o),s=r(t,o),h=a(t,o),d=i(t,o),g=u(t,o),p=g/2;c.rect(l-p,f,g,d-f),c.moveTo(l,Math.min(d,f)),c.lineTo(l,s),c.moveTo(l,Math.max(d,f)),c.lineTo(l,h)})),t?null:c.toString()};return l.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},l.x=function(){return arguments.length?(e=nt(arguments.length<=0?void 0:arguments[0]),l):e},l.open=function(){return arguments.length?(n=nt(arguments.length<=0?void 0:arguments[0]),l):n},l.high=function(){return arguments.length?(r=nt(arguments.length<=0?void 0:arguments[0]),l):r},l.low=function(){return arguments.length?(a=nt(arguments.length<=0?void 0:arguments[0]),l):a},l.close=function(){return arguments.length?(i=nt(arguments.length<=0?void 0:arguments[0]),l):i},l.width=function(){return arguments.length?(u=nt(arguments.length<=0?void 0:arguments[0]),l):u},l},ot=function(){var t=null,e=function(t){return t.value},n=function(t){return t.median},r=function(t){return t.upperQuartile},a=function(t){return t.lowerQuartile},i=function(t){return t.high},u=function(t){return t.low},l="vertical",c=nt(5),f=nt(.5),s=function(s){var h=t||o.path();return s.forEach((function(t,o){var s=e(t,o),d=c(t,o),g=d/2,p=d*f(t,o)/2,v=i(t,o),m=r(t,o),y=n(t,o),b=a(t,o),x=u(t,o),_=b-m;"vertical"===l?(h.moveTo(s-p,v),h.lineTo(s+p,v),h.moveTo(s,v),h.lineTo(s,m),h.rect(s-g,m,d,_),h.moveTo(s-g,y),h.lineTo(s+g,y),h.moveTo(s,b),h.lineTo(s,x),h.moveTo(s-p,x),h.lineTo(s+p,x)):(h.moveTo(x,s-p),h.lineTo(x,s+p),h.moveTo(x,s),h.lineTo(b,s),h.rect(b,s-g,-_,d),h.moveTo(y,s-g),h.lineTo(y,s+g),h.moveTo(m,s),h.lineTo(v,s),h.moveTo(v,s-p),h.lineTo(v,s+p))})),t?null:h.toString()};return s.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s.value=function(){return arguments.length?(e=nt(arguments.length<=0?void 0:arguments[0]),s):e},s.median=function(){return arguments.length?(n=nt(arguments.length<=0?void 0:arguments[0]),s):n},s.upperQuartile=function(){return arguments.length?(r=nt(arguments.length<=0?void 0:arguments[0]),s):r},s.lowerQuartile=function(){return arguments.length?(a=nt(arguments.length<=0?void 0:arguments[0]),s):a},s.high=function(){return arguments.length?(i=nt(arguments.length<=0?void 0:arguments[0]),s):i},s.low=function(){return arguments.length?(u=nt(arguments.length<=0?void 0:arguments[0]),s):u},s.width=function(){return arguments.length?(c=nt(arguments.length<=0?void 0:arguments[0]),s):c},s.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],s):l},s.cap=function(){return arguments.length?(f=nt(arguments.length<=0?void 0:arguments[0]),s):f},s},ut=function(){var t=null,e=function(t){return t.x},n=function(t){return t.high},r=function(t){return t.low},a="vertical",i=nt(5),u=function(u){var l=t||o.path();return u.forEach((function(t,o){var u=e(t,o),c=i(t,o)/2,f=n(t,o),s=r(t,o);"vertical"===a?(l.moveTo(u-c,f),l.lineTo(u+c,f),l.moveTo(u,f),l.lineTo(u,s),l.moveTo(u-c,s),l.lineTo(u+c,s)):(l.moveTo(s,u-c),l.lineTo(s,u+c),l.moveTo(s,u),l.lineTo(f,u),l.moveTo(f,u-c),l.lineTo(f,u+c))})),t?null:l.toString()};return u.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],u):t},u.value=function(){return arguments.length?(e=nt(arguments.length<=0?void 0:arguments[0]),u):e},u.high=function(){return arguments.length?(n=nt(arguments.length<=0?void 0:arguments[0]),u):n},u.low=function(){return arguments.length?(r=nt(arguments.length<=0?void 0:arguments[0]),u):r},u.width=function(){return arguments.length?(i=nt(arguments.length<=0?void 0:arguments[0]),u):i},u.orient=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],u):a},u},lt=function(t){return"function"==typeof t?t:function(){return t}},ct=1e-6,ft=function(t){return t.selection()!==t},st=function(t,e){t=t||"g";var n=function(t,e){return e},r=null,a=function(a,i){i=i||function(t){return t};var o=a.selection(),u=ft(a)?a:null,l=o.selectChildren(null==e?t:"".concat(t,".").concat(e)).data(i,n),c=l.enter().append(t).attr("class",e),f=l.exit();l=l.merge(c);var s=u||r;return s&&(l=l.transition(s).style("opacity",1),c.style("opacity",ct),f=f.transition(s).style("opacity",ct)),f.remove(),l.enter=function(){return c},l.exit=function(){return f},l};return a.element=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.className=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.key=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.transition=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a},ht=function(t,e){if(function(t,e){return!(t.x>=e.x+e.width||t.x+t.width<=e.x||t.y>=e.y+e.height||t.y+t.height<=e.y)}(t,e)){var n=Math.max(t.x,e.x),r=Math.min(t.x+t.width,e.x+e.width),a=Math.max(t.y,e.y);return(r-n)*(Math.min(t.y+t.height,e.y+e.height)-a)}return 0},dt=function(t,n){return e.sum(t.map((function(e,r){return n===r?0:ht(t[n],e)})))},gt=function(t,e,n,r,a){return{x:t,y:e,width:n,height:r,location:a}},pt=function(t){var e=t.x,n=t.y,r=t.width,a=t.height;return[gt(e,n,r,a,"bottom-right"),gt(e-r,n,r,a,"bottom-left"),gt(e-r,n-a,r,a,"top-left"),gt(e,n-a,r,a,"top-right"),gt(e,n-a/2,r,a,"middle-right"),gt(e-r/2,n,r,a,"bottom-center"),gt(e-r,n-a/2,r,a,"middle-left"),gt(e-r/2,n-a,r,a,"top-center")]},vt=function(t,e,n){return[].concat(L(t.slice(0,e)),[n],L(t.slice(e+1)))},mt=function(t,e){return t<e},yt=function t(){var n,r=null,a=mt,i=function(){return 0},o=function o(u,l){r||(r=e.sum(n.map((function(t,e){return i(t,e,n)}))));var c=function(t,e){return r-i(n[e],e,n)+i(t,e,vt(n,e,t))}(u,l);return a(c,r)?t().locationScore(i).winningScore(a).score(c).rectangles(vt(n,l,u)):o};return o.rectangles=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.score=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.winningScore=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o.locationScore=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o},bt=function(t){return t[xt(t)]},xt=function(t){return Math.floor(Math.random()*t.length)},_t=function(t){return"function"==typeof t?t:function(){return t}};function wt(){var t=arguments;return function(e,n){for(var r=0,a=t.length;r<a;r++)if(null==t[r](e,n))return!1;return!0}}var St=function(t,e){switch(t){case"left":return e/2;case"right":return-e/2;default:return 0}},Mt=function(t){var e=Object.assign({},t),n=function(){};return Object.keys(e).forEach((function(t){n[t]=function(){return arguments.length?(e[t]=arguments.length<=0?void 0:arguments[0],n):e[t]}})),n},At=function(){var t=function(){return 0},e=function(t){return t.x},r=function(t){return t.y},a="center",i=function(){return 5},o="vertical",u=Mt({decorate:function(){},defined:function(n,a){return wt(t,e,r)(n,a)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return u.values=function(n,l){var c=i(n,l),f=St(a,c),s=u.xScale(),h=u.yScale();if("vertical"===o){var d=h(r(n,l),l),g=h(t(n,l),l),p=s(e(n,l),l)+f;return{d:n,x:p,y:d,y0:g,width:c,height:d-g,origin:[p,d],baseOrigin:[p,g],transposedX:p,transposedY:d}}var v=s(r(n,l),l),m=s(t(n,l),l),y=h(e(n,l),l)+f;return{d:n,x:y,y:v,y0:m,width:c,height:v-m,origin:[v,y],baseOrigin:[m,y],transposedX:v,transposedY:y}},u.xValues=function(){return"vertical"===o?[e]:[t,r]},u.yValues=function(){return"vertical"!==o?[e]:[t,r]},u.baseValue=function(){return arguments.length?(t=_t(arguments.length<=0?void 0:arguments[0]),u):t},u.crossValue=function(){return arguments.length?(e=_t(arguments.length<=0?void 0:arguments[0]),u):e},u.mainValue=function(){return arguments.length?(r=_t(arguments.length<=0?void 0:arguments[0]),u):r},u.bandwidth=function(){return arguments.length?(i=_t(arguments.length<=0?void 0:arguments[0]),u):i},u.align=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],u):a},u.orient=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],u):o},u},kt="#c60",Vt="#6c0",Tt="#000",Ct="#ddd",Nt="#999",Et=function(){var t=At(),e=l.line().x((function(e,n){return t.values(e,n).transposedX})).y((function(e,n){return t.values(e,n).transposedY})),n=st("path","line"),r=function(r){ft(r)&&n.transition(r),e.defined(t.defined()),r.each((function(r,a,i){var o=n(u.select(i[a]),[r]);o.enter().attr("fill","none").attr("stroke",Tt),o.attr("d",e),t.decorate()(o,r,a)}))};return v(r,t,y("baseValue","bandwidth","align")),g(r,n,"key"),g(r,e,"curve"),r},Dt=function(){var t=At(),e=l.line().x((function(e,n){return t.values(e,n).transposedX})).y((function(e,n){return t.values(e,n).transposedY})),n=function(n){var r=e.context();r.beginPath(),r.strokeStyle=Tt,r.fillStyle="transparent",t.decorate()(r,n),e.defined(t.defined())(n),r.fill(),r.stroke(),r.closePath()};return v(n,t,y("baseValue","bandwidth","align")),g(n,e,"curve","context"),n},zt=function(){var t=[0,1],e=[-1,1],n=function(){};return n.domain=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n.range=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n},Pt=function(){var t={},e={},n=null,r=function(r,a){var i=r.context();Object.keys(t).forEach((function(e){var n=t[e];if("function"!=typeof n)throw new Error("Expected an attribute for ".concat(e,", found ").concat(n));var o=i.getAttribLocation(a,e);n.location(o)(r)})),Object.keys(e).forEach((function(t){var n=e[t];if("function"!=typeof n)throw new Error("Expected a uniform for ".concat(t,", found ").concat(n));var o=i.getUniformLocation(a,t);n.location(o)(r)})),null!==n&&n(r)};return r.flush=function(){Object.values(t).forEach((function(t){return t.clear()})),Object.values(e).forEach((function(t){return t.clear()})),null!==n&&n.clear()},r.attribute=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return 1===n.length?t[n[0]]:(t[n[0]]=n[1],r)},r.uniform=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return 1===n.length?e[n[0]]:(e[n[0]]=n[1],r)},r.elementIndices=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},r},Bt=function(t){var e=-1,n=t,r=!0,a=function(t){if(r){var a=t.context();if(Array.isArray(n))switch(n.length){case 1:a.uniform1fv(e,n);break;case 2:a.uniform2fv(e,n);break;case 3:a.uniform3fv(e,n);break;case 4:a.uniform4fv(e,n);break;default:throw new Error("Uniform supports up to 4 elements. ".concat(n.length," provided."))}else a.uniform1f(e,n);r=!1}};return a.clear=function(){r=!0},a.location=function(){return arguments.length?(e!==(arguments.length<=0?void 0:arguments[0])&&(e=arguments.length<=0?void 0:arguments[0],r=!0),a):e},a.data=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r=!0,a):n},a},Rt=0,Ot=4,It=function(){var t=null,e=null,n=null,r=null,a=null,i=null,o=Ot,u=0,l=Pt(),c=!1,f=null,s=!0,h=1,d=function d(p){if(null!=t){var v=n(),m=r();if(function(t,e,n){return!(t&&!s)||e!==a||n!==i}(e,v,m)&&(e=function(e,n){var r=g(e,t.VERTEX_SHADER),a=g(n,t.FRAGMENT_SHADER),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,a),t.linkProgram(i),c&&!t.getProgramParameter(i,t.LINK_STATUS)){var o=t.getProgramInfoLog(i);throw t.deleteProgram(i),new Error("Failed to link program : ".concat(o,"\n            Vertex Shader : ").concat(e,"\n            Fragment Shader : ").concat(n))}return i}(v,m),a=v,i=m,s=!1),t.useProgram(e),l.uniform("uScreen",Bt([t.canvas.width/h,t.canvas.height/h])),l(d,e),0===u)null==l.elementIndices()?t.drawArrays(o,0,p):t.drawElements(o,p,t.UNSIGNED_SHORT,0);else if(null==l.elementIndices())f.drawArraysInstancedANGLE(o,0,u,p);else{var y=l.elementIndices().data().length;if(u!==y)throw new Error("Expected elementIndices length ".concat(y)+" to match subInstanceCount ".concat(u,"."));f.drawElementsInstancedANGLE(o,u,t.UNSIGNED_SHORT,0,p)}}};return d.extInstancedArrays=function(){return f},d.context=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.length?((null==n[0]||n[0]!==t)&&(l.flush(),s=!0),null!=n[0]&&n[0]!==t&&(f=n[0].getExtension("ANGLE_instanced_arrays")),t=n[0],d):t},d.buffers=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],d):l},d.vertexShader=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],d):n},d.fragmentShader=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],d):r},d.mode=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],d):o},d.subInstanceCount=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],d):u},d.debug=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},d.pixelRatio=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],d):h},d;function g(e,n){var r=t.createShader(n);if(t.shaderSource(r,e),t.compileShader(r),c&&!t.getShaderParameter(r,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(r);throw t.deleteShader(r),new Error("Failed to compile shader : ".concat(a,"\n            Shader : ").concat(e))}return r}},Yt=function(t){var e=[],n=[],r=function(){return t(e.join("\n"),n.join("\n"))};function a(t,e){t.push(e)}function i(t,e,n){var r=t.indexOf(n);t.splice(r>=0?r:t.length,0,e)}function o(t,e){-1===t.indexOf(e)&&t.push(e)}return r.appendHeader=function(t){return a(e,t),r},r.insertHeader=function(t,n){return i(e,t,n),r},r.appendHeaderIfNotExists=function(t){return o(e,t),r},r.appendBody=function(t){return a(n,t),r},r.insertBody=function(t,e){return i(n,t,e),r},r.appendBodyIfNotExists=function(t){return o(n,t),r},r},Ft=function(t,e){return"\nprecision mediump float;\nfloat inf = 1.0 / 0.0;\n".concat(t,"\nvoid main() {\n    ").concat(e,"\n}")},Lt=function(t,e){return"\nprecision mediump float;\n".concat(t,"\nvoid main() {\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    ").concat(e,"\n}")},Ut={header:"attribute vec4 aFillColor;\n             varying vec4 vFillColor;",body:"vFillColor = aFillColor;"},Ht={header:"attribute vec4 aStrokeColor;\n             varying vec4 vStrokeColor;",body:"vStrokeColor = aStrokeColor;"},jt={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = 2.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},Wt={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = 4.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},qt={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = 3.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},$t={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = sqrt(aSize);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},Xt={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = sqrt(aSize);\n        gl_PointSize = 2.0 * (vSize + uStrokeWidth + 1.0);\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},Gt={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = sqrt((16.0 * aSize) / (3.0 * sqrt(3.0)));\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},Qt={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vStrokeWidthRatio;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = 3.0 * sqrt(aSize / 5.0);\n        vStrokeWidthRatio = uStrokeWidth / (vSize + uStrokeWidth + 1.0);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},Zt={header:"\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aOpenValue;\n        attribute float aCloseValue;\n        attribute float aLowValue;\n        attribute vec3 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vColorIndicator;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vColorIndicator = sign(aCloseValue - aOpenValue);\n\n        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;\n        float isNotPositiveY = 1.0 - isPositiveY;\n        float isExtremeY = abs(aCorner.y) - 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n        float yValue =\n         (isPositiveY * isExtremeY * aLowValue) +\n         (isPositiveY * isNotExtremeY * aCloseValue) +\n         (isNotPositiveY * isNotExtremeY * aOpenValue) +\n         (isNotPositiveY * isExtremeY * aHighValue);\n\n        float lineWidthXDirection = (isNotExtremeY * aCorner.x) + (isExtremeY * aCorner.z);\n        float lineWidthYDirection = isNotExtremeY * sign(aCloseValue - aOpenValue) * aCorner.y;\n\n        float bandwidthModifier = aBandwidth * aCorner.x / 2.0;\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;\n        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);"},Kt={header:"\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aOpenValue;\n        attribute float aCloseValue;\n        attribute float aLowValue;\n        attribute vec3 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vColorIndicator;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vColorIndicator = sign(aCloseValue - aOpenValue);\n\n        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;\n        float isNotPositiveY = 1.0 - isPositiveY;\n        float isExtremeY = abs(aCorner.y) - 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n        float yValue =\n            (isPositiveY * isExtremeY * aLowValue) +\n            (isPositiveY * isNotExtremeY * aCloseValue) +\n            (isNotPositiveY * isNotExtremeY * aOpenValue) +\n            (isNotPositiveY * isExtremeY * aHighValue);\n\n        float lineWidthXDirection = isExtremeY * aCorner.z;\n        float lineWidthYDirection = isNotExtremeY * aCorner.z;\n\n        float bandwidthModifier = isNotExtremeY * aCorner.x * aBandwidth / 2.0;\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;\n        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);"},Jt={header:"\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aMainValue;\n        attribute float aBaseValue;\n        attribute vec2 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        float isBaseline = (1.0 - aCorner.y) / 2.0;\n        float yValue = (isBaseline * aBaseValue) + ((1.0 - isBaseline) * aMainValue);\n\n        float xModifier = aCorner.x * (aBandwidth) / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);"},te={header:"\n        attribute vec3 aCorner;\n        attribute float aCrossNextNextValue;\n        attribute float aMainNextNextValue;\n        attribute float aCrossNextValue;\n        attribute float aMainNextValue;\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aCrossPrevValue;\n        attribute float aMainPrevValue;\n        attribute float aDefined;\n        attribute float aDefinedNext;\n\n        uniform float uStrokeWidth;\n        uniform vec2 uScreen;\n\n        varying float vDefined;",body:"\n        vDefined = aDefined * aDefinedNext;\n        vec4 prev = vec4(aCrossPrevValue, aMainPrevValue, 0, 0);\n        vec4 curr = vec4(aCrossValue, aMainValue, 0, 0);\n        gl_Position = vec4(aCrossNextValue, aMainNextValue, 0, 1);\n        vec4 nextNext = vec4(aCrossNextNextValue, aMainNextNextValue, 0, 0);"},ee={body:"\n        vec4 currVertexPosition = gl_Position;\n        vec4 nextVertexPosition = gl_Position;\n\n        if (all(equal(curr.xy, prev.xy))) {\n            prev.xy = curr.xy + normalize(curr.xy - currVertexPosition.xy);\n        }\n        if (all(equal(curr.xy, currVertexPosition.xy))) {\n            currVertexPosition.xy = curr.xy + normalize(curr.xy - prev.xy);\n        }\n        vec2 A = normalize(normalize(curr.xy - prev.xy) * uScreen);\n        vec2 B = normalize(normalize(currVertexPosition.xy - curr.xy) * uScreen);\n        vec2 tangent = normalize(A + B);\n        vec2 miter = vec2(-tangent.y, tangent.x);\n        vec2 normalA = vec2(-A.y, A.x);\n        float miterLength = 1.0 / dot(miter, normalA);\n        vec2 point = normalize(A - B);\n        if (miterLength > 10.0 && sign(aCorner.x * dot(miter, point)) > 0.0) {\n            currVertexPosition.xy = curr.xy - (aCorner.x * aCorner.y * uStrokeWidth * normalA) / uScreen.xy;\n        } else {\n            currVertexPosition.xy = curr.xy + (aCorner.x * miter * uStrokeWidth * miterLength) / uScreen.xy;\n        }\n\n        if (all(equal(nextVertexPosition.xy, curr.xy))) {\n            curr.xy = nextVertexPosition.xy + normalize(nextVertexPosition.xy - nextNext.xy);\n        }\n        if (all(equal(nextVertexPosition.xy, nextNext.xy))) {\n            nextNext.xy = nextVertexPosition.xy + normalize(nextVertexPosition.xy - curr.xy);\n        }\n        vec2 C = normalize(normalize(nextVertexPosition.xy - curr.xy) * uScreen);\n        vec2 D = normalize(normalize(nextNext.xy - nextVertexPosition.xy) * uScreen);\n        vec2 tangentCD = normalize(C + D);\n        vec2 miterCD = vec2(-tangentCD.y, tangentCD.x);\n        vec2 normalC = vec2(-C.y, C.x);\n        float miterCDLength = 1.0 / dot(miterCD, normalC);\n        vec2 pointCD = normalize(C - D);\n        if (miterCDLength > 10.0 && sign(aCorner.x * dot(miterCD, pointCD)) > 0.0) {\n            nextVertexPosition.xy = nextVertexPosition.xy - (aCorner.x * aCorner.y * uStrokeWidth * normalC) / uScreen.xy;\n        } else {\n            nextVertexPosition.xy = nextVertexPosition.xy + (aCorner.x * miterCD * uStrokeWidth * miterCDLength) / uScreen.xy;\n        }\n\n        gl_Position.xy = ((1.0 - aCorner.z) * currVertexPosition.xy) + (aCorner.z * nextVertexPosition.xy);"},ne={header:"\n        attribute vec3 aCorner;\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aLowValue;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        float isLow = (aCorner.y + 1.0) / 2.0;\n        float yValue = isLow * aLowValue + (1.0 - isLow) * aHighValue;\n\n        float isEdgeCorner = abs(aCorner.x);\n        float lineWidthXDirection = (1.0 - isEdgeCorner) * aCorner.z;\n        float lineWidthYDirection = isEdgeCorner * aCorner.z;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection) + (aBandwidth * aCorner.x / 2.0);\n        float yModifier = (uStrokeWidth * lineWidthYDirection);"},re={header:"\n        attribute vec3 aCorner;\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aCrossNextValue;\n        attribute float aMainNextValue;\n        attribute float aBaseValue;\n        attribute float aBaseNextValue;\n        attribute float aDefined;\n        attribute float aDefinedNext;\n\n        varying float vDefined;\n\n        float when_lt(float a, float b) {\n            return max(sign(b - a), 0.0);\n        }\n\n        float and(float a, float b) {\n            return a * b;\n        }",body:"\n        vDefined = aDefined * aDefinedNext;\n        gl_Position = vec4(0, 0, 0, 1);\n\n        float hasIntercepted = when_lt((aMainNextValue - aBaseNextValue) * (aMainValue - aBaseValue), 0.0);\n        float useIntercept = and(aCorner.z, hasIntercepted);\n\n        float yGradient = (aMainNextValue - aMainValue) / (aCrossNextValue - aCrossValue);\n        float yConstant = aMainNextValue - (yGradient * aCrossNextValue);\n\n        float y0Gradient = (aBaseNextValue - aBaseValue) / (aCrossNextValue - aCrossValue);\n        float y0Constant = aBaseNextValue - (y0Gradient * aCrossNextValue);\n\n        float denominator = (yGradient - y0Gradient) + step(abs(yGradient - y0Gradient), 0.0);\n        float interceptXValue = (y0Constant - yConstant) / denominator;\n        float interceptYValue = (yGradient * interceptXValue) + yConstant;\n\n        gl_Position = vec4(interceptXValue * useIntercept, interceptYValue * useIntercept, 0, 1);\n\n        gl_Position.x += (1.0 - useIntercept) * ((aCorner.x * aCrossNextValue) + ((1.0 - aCorner.x) * aCrossValue));\n        gl_Position.y += (1.0 - useIntercept) * (1.0 - aCorner.y) * ((aCorner.x * aMainNextValue) + ((1.0 - aCorner.x) * aMainValue));\n        gl_Position.y += (1.0 - useIntercept) * aCorner.y * ((aCorner.x * aBaseNextValue) + ((1.0 - aCorner.x) * aBaseValue));"},ae={header:"\n        attribute vec4 aCorner;\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aCapWidth;\n        attribute float aHighValue;\n        attribute float aUpperQuartileValue;\n        attribute float aMedianValue;\n        attribute float aLowerQuartileValue;\n        attribute float aLowValue;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;\n    ",body:"\n        vDefined = aDefined;\n        float isExtremeY = sign(abs(aCorner.y) - 2.0) + 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n\n        float isNonZeroY = abs(sign(aCorner.y));\n        float isZeroY = 1.0 - isNonZeroY;\n\n        float isQuartileY = isNotExtremeY * isNonZeroY;\n\n        float isPositiveY = (sign(aCorner.y + 0.5) + 1.0) / 2.0;\n        float isNegativeY = 1.0 - isPositiveY;\n\n        float yValue =\n          (isExtremeY * isNegativeY) * aHighValue +\n          (isQuartileY * isNegativeY) * aUpperQuartileValue +\n          isZeroY * aMedianValue +\n          (isQuartileY * isPositiveY) * aLowerQuartileValue +\n          (isExtremeY * isPositiveY) * aLowValue;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);\n\n        float isHorizontal = aCorner.w;\n        float isVertical = 1.0 - isHorizontal;\n\n        float xDisplacement = aCorner.x * (isExtremeY * aCapWidth + isNotExtremeY * aBandwidth) / 2.0;\n\n        float xModifier = (isVertical * uStrokeWidth * aCorner.z / 2.0) + xDisplacement;\n        float yModifier = isHorizontal * uStrokeWidth * aCorner.z / 2.0;"},ie={header:"\n        varying float vSize;\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        float distance = length(2.0 * gl_PointCoord - 1.0);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }"},oe={header:"\n        varying float vSize;\n        varying float vDefined;\n\n        // anterior, exterior angles\n        float an = 0.628319;\n        vec2 acs = vec2(0.809017, 0.587786); // (cos, sin)\n        float en = 0.952000;\n        vec2 ecs = vec2(0.580055, 0.814577);\n    ",body:"\n        float canFill = 1.0;\n\n        vec2 p = 2.0 * gl_PointCoord - 1.0;\n        p.y *= -1.0;\n\n        // sector\n        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;\n        p = length(p) * vec2(cos(bn), abs(sin(bn)));\n\n        p -= acs;\n        p += ecs * clamp(-dot(p, ecs), 0.0, acs.y / ecs.y);\n        float d = length(p) * sign(p.x);\n\n        float distance = 1.0 + d;\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }"},ue={header:"\n        varying float vSize;\n        varying float vDefined;\n    ",body:"\n        float canFill = 1.0;\n\n        vec2 p = 2.0 * gl_PointCoord - 1.0;\n        p.y *= -1.0;\n\n        // sector\n        float an = 3.141593 / 3.0;\n        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;\n        p = length(p) * vec2(cos(bn), abs(sin(bn)));\n\n        // box\n        vec2 d = abs(p) - vec2(0.9, 0.35);\n        float sdf = length(max(d, 0.0)) + min(max(d.x, d.y), 0.0);\n\n        float distance = 1.0 + sdf;\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }"},le={header:"\n        varying float vSize;\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float distance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);"},ce={header:"\n        varying float vSize;\n        varying float vDefined;\n        float a = 0.6;\n        float b = 1.0;\n    ",body:"\n        if (vDefined < 0.5) {\n            discard;\n        }\n\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n\n        float x = abs(pointCoordTransform.x);\n        float y = abs(pointCoordTransform.y);\n\n        float X = (a * b * x) / (a * y + b * x);\n        float Y = (a * b * y) / (a * y + b * x);\n\n        float distance = length(vec2(x, y)) / length(vec2(X, Y));\n\n        if (distance > 1.0) {\n            discard;\n        }\n    "},fe={header:"\n        varying float vSize;\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float topEdgesDistance = abs(pointCoordTransform.x) - ((pointCoordTransform.y - 0.6) / sqrt(3.0));\n        float bottomEdgeDistance = pointCoordTransform.y + 0.5;\n        float distance = max(topEdgesDistance, bottomEdgeDistance);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n        }"},se={header:"\n        varying float vSize;\n        varying float vStrokeWidthRatio;\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float innerCornerDistance = min(abs(pointCoordTransform.x), abs(pointCoordTransform.y)) + 0.66 - vStrokeWidthRatio;\n        float outerEdgeDistance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));\n        float distance = max(innerCornerDistance, outerEdgeDistance);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n        }"},he={header:"\n        varying float vColorIndicator;\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        float canStroke = 0.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.4, 0.8, 0, 1);\n        if (vColorIndicator < 0.0) {\n            gl_FragColor = vec4(0.8, 0.4, 0, 1);\n        }"},de={header:"\n        varying float vColorIndicator;\n        varying float vDefined;",body:"\n        float canFill = 0.0;\n        float canStroke = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.4, 0.8, 0, 1);\n        if (vColorIndicator < 0.0) {\n            gl_FragColor = vec4(0.8, 0.4, 0, 1);\n        }"},ge={header:"\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        float canStroke = 0.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.86, 0.86, 0.86, 1);"},pe={header:"\n        varying float vDefined;\n    ",body:"\n        float canFill = 0.0;\n        float canStroke = 1.0;\n\n        if (vDefined < 0.5) {\n            discard;\n        }"},ve={header:"varying float vDefined;",body:"\n        float canFill = 0.0;\n        float canStroke = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }"},me={header:"varying float vDefined;",body:"\n        float canFill = 1.0;\n        float canStroke = 0.0;\n\n        gl_FragColor = vec4(0.60, 0.60, 0.60, 1.0);\n\n        if (vDefined < 0.5) {\n            discard;\n        }"},ye="varying vec4 vFillColor;",be="gl_FragColor = (canFill * vFillColor) + ((1.0 - canFill) * gl_FragColor);",xe="varying vec4 vStrokeColor;",_e="gl_FragColor = (canStroke * vStrokeColor) + ((1.0 - canStroke) * gl_FragColor);",we={header:"varying float vDefined;",body:"\n        float canFill = 0.0;\n        float canStroke = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }"},Se={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,FLOAT:5126};function Me(t){switch(t){case Se.BYTE:case Se.UNSIGNED_BYTE:return 1;case Se.SHORT:case Se.UNSIGNED_SHORT:return 2;case Se.FLOAT:return 4;default:throw new Error("Unknown type ".concat(t))}}function Ae(t){switch(t){case Se.BYTE:return Int8Array;case Se.UNSIGNED_BYTE:return Uint8Array;case Se.SHORT:return Int16Array;case Se.UNSIGNED_SHORT:return Uint16Array;case Se.FLOAT:return Float32Array;default:throw new Error("Unknown type ".concat(t))}}var ke=function(){var t=-1,e=null,n=1,r=Se.FLOAT,a=!1,i=0,o=0,u=null,l=function(l){var c=l.context();null==e&&(e=c.createBuffer()),c.bindBuffer(c.ARRAY_BUFFER,e),c.vertexAttribPointer(t,n,r,a,i,o),c.enableVertexAttribArray(t),l.extInstancedArrays().vertexAttribDivisorANGLE(t,u??(l.subInstanceCount()>0?1:0))};return l.location=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},l.buffer=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],l):e},l.size=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],l):n},l.type=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],l):r},l.normalized=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l.stride=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],l):i},l.offset=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],l):o},l.divisor=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],l):u},l},Ve=function(){var t=!0,e=1,n=Se.FLOAT,r=function(){var t=Se.FLOAT,e=new Float32Array(0),n=function(n){var r=Ae(t);return e.length>n?e=new r(e.buffer,0,n):e.length!==n&&(e=new r(n)),e};return n.type=function(){if(!arguments.length)return t;if(t!==(arguments.length<=0?void 0:arguments[0])){var r=Ae(t=arguments.length<=0?void 0:arguments[0]);e=new r(0)}return n},n}(),a=function(t,e){return t},i=null,o=function(){var o=i.length,u=r.type(n)(o*e);if(e>1)for(var l=0;l<o;l++){var c=a(i[l],l);if(c.length!==e)throw new Error("Expected components array of size ".concat(e,", recieved array with length ").concat(c.length,"."));for(var f=0;f<e;f++)u[l*e+f]=c[f]}else for(var s=0;s<o;s++){var h=a(i[s],s);if(Array.isArray(h))throw new Error("Expected a single component value, recieved array with length ".concat(h.length,"."));u[s]=h}return t=!1,u};return o.dirty=function(){return t},o.clear=function(){t=!0},o.size=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],t=!0,o):e},o.type=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],t=!0,o):n},o.arrayViewFactory=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],t=!0,o):r},o.value=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],t=!0,o):a},o.data=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],t=!0,o):i},o},Te=function(){var t=ke(),e=Ve(),n=function n(r){if(t.size(n.size()).type(n.type()),t(r),e.dirty()){var a=e(),i=r.context();i.bindBuffer(i.ARRAY_BUFFER,t.buffer()),i.bufferData(i.ARRAY_BUFFER,a,i.DYNAMIC_DRAW)}};return n.clear=function(){t.buffer(null),e.clear()},g(n,t,"normalized","location","divisor"),g(n,e,"data","value","size","type"),n},Ce=function(t,e,n,r){for(var a=arguments.length,i=new Array(a>4?a-4:0),o=4;o<a;o++)i[o-4]=arguments[o];t[e]=function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];var u=n[r].apply(n,i.concat(a));return u===n?t:u}},Ne=function(){var t=It().mode(Ot).subInstanceCount(6),e=zt(),n=zt(),r=function(){},a=Te().divisor(0).size(3).type(Se.UNSIGNED_BYTE).data([[0,0,0],[0,1,0],[1,1,1],[0,0,1],[1,0,0],[1,1,0]]);t.buffers().attribute("aCorner",a);var i=function(a){var i=function(){var t=Yt(Ft),e=Yt(Lt);return t.appendHeader(re.header).appendBody(re.body),e.appendHeader(ge.header).appendBody(ge.body),{vertex:function(){return t},fragment:function(){return e}}}();t.vertexShader(i.vertex()).fragmentShader(i.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),r(t),t(a-1)};return i.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},g(i,t,"context","pixelRatio"),Ce(i,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),Ce(i,"crossNextValueAttribute",t.buffers(),"attribute","aCrossNextValue"),Ce(i,"mainValueAttribute",t.buffers(),"attribute","aMainValue"),Ce(i,"mainNextValueAttribute",t.buffers(),"attribute","aMainNextValue"),Ce(i,"baseValueAttribute",t.buffers(),"attribute","aBaseValue"),Ce(i,"baseNextValueAttribute",t.buffers(),"attribute","aBaseNextValue"),Ce(i,"definedAttribute",t.buffers(),"attribute","aDefined"),Ce(i,"definedNextAttribute",t.buffers(),"attribute","aDefinedNext"),i},Ee=function(){var t=Yt(Ft),e=Yt(Lt);return t.appendHeader(jt.header).appendBody(jt.body),e.appendHeader(ie.header).appendBody(ie.body),{vertex:function(){return t},fragment:function(){return e}}},De=function(){var t=It().mode(Rt),e=zt(),n=zt(),r=Ee(),a=function(){},i=function(i){t.vertexShader(r.vertex()).fragmentShader(r.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),a(t),t(i)};return i.type=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],i):a},i.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},g(i,t,"context","pixelRatio"),Ce(i,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),Ce(i,"mainValueAttribute",t.buffers(),"attribute","aMainValue"),Ce(i,"sizeAttribute",t.buffers(),"attribute","aSize"),Ce(i,"definedAttribute",t.buffers(),"attribute","aDefined"),i},ze=function(){var t=1,e=function(e){e.buffers().uniform("uStrokeWidth",Bt(t))};return e.lineWidth=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],e):t},e},Pe=function(t){var e=null,n=t,r=!0,a=function(t){var a=t.context();null==e&&(e=a.createBuffer()),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,e),r&&(a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(n),a.STATIC_DRAW),r=!1)};return a.clear=function(){e=null,r=!0},a.data=function(){return arguments.length?(r=!0,n=arguments.length<=0?void 0:arguments[0],a):n},a},Be=function(){var t=It().mode(Ot).subInstanceCount(12),e=zt(),n=zt(),r=function(){},a=ze(),i=Te().divisor(0).size(3).type(Se.BYTE).data([[-1,0,0],[1,1,0],[1,-1,1],[-1,0,1],[1,1,1]]);t.buffers().elementIndices(Pe([0,1,2,1,2,3,0,2,3,2,3,4])).attribute("aCorner",i);var o=function(i){var o=function(){var t=Yt(Ft),e=Yt(Lt);return t.appendHeader(te.header).appendBody(te.body),e.appendHeader(we.header).appendBody(we.body),{vertex:function(){return t},fragment:function(){return e}}}();t.vertexShader(o.vertex()).fragmentShader(o.fragment()),e(t,"prev",0),n(t,"prev",1),e(t,"curr",0),n(t,"curr",1),e(t,"gl_Position",0),n(t,"gl_Position",1),e(t,"nextNext",0),n(t,"nextNext",1),t.vertexShader().appendBody(ee.body),a(t),r(t),t(i-1)};return o.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,t,"context","pixelRatio"),g(o,a,"lineWidth"),Ce(o,"crossPreviousValueAttribute",t.buffers(),"attribute","aCrossPrevValue"),Ce(o,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),Ce(o,"crossNextValueAttribute",t.buffers(),"attribute","aCrossNextValue"),Ce(o,"crossNextNextValueAttribute",t.buffers(),"attribute","aCrossNextNextValue"),Ce(o,"mainPreviousValueAttribute",t.buffers(),"attribute","aMainPrevValue"),Ce(o,"mainValueAttribute",t.buffers(),"attribute","aMainValue"),Ce(o,"mainNextValueAttribute",t.buffers(),"attribute","aMainNextValue"),Ce(o,"mainNextNextValueAttribute",t.buffers(),"attribute","aMainNextNextValue"),Ce(o,"definedAttribute",t.buffers(),"attribute","aDefined"),Ce(o,"definedNextAttribute",t.buffers(),"attribute","aDefinedNext"),o},Re=function(){var t=It().mode(Ot).subInstanceCount(18),e=zt(),n=zt(),r=ze(),a=function(){},i=Te().divisor(0).size(3).type(Se.BYTE).data([[0,-2,-1],[0,-2,1],[0,2,1],[0,2,-1],[-1,-1,-1],[-1,-1,1],[0,-1,1],[0,-1,-1],[1,1,1],[0,1,1],[0,1,-1],[1,1,-1]]);t.buffers().elementIndices(Pe([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,10,11,8])).attribute("aCorner",i);var o=function(i){var o=function(){var t=Yt(Ft),e=Yt(Lt);return t.appendHeader(Kt.header).appendBody(Kt.body),e.appendHeader(de.header).appendBody(de.body),{vertex:function(){return t},fragment:function(){return e}}}();t.vertexShader(o.vertex()).fragmentShader(o.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),r(t),t.vertexShader().appendBody("\n          gl_Position.x += xModifier / uScreen.x * 2.0;\n          gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),a(t),t(i)};return o.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,t,"context","pixelRatio"),g(o,r,"lineWidth"),Ce(o,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),Ce(o,"openValueAttribute",t.buffers(),"attribute","aOpenValue"),Ce(o,"highValueAttribute",t.buffers(),"attribute","aHighValue"),Ce(o,"lowValueAttribute",t.buffers(),"attribute","aLowValue"),Ce(o,"closeValueAttribute",t.buffers(),"attribute","aCloseValue"),Ce(o,"bandwidthAttribute",t.buffers(),"attribute","aBandwidth"),Ce(o,"definedAttribute",t.buffers(),"attribute","aDefined"),o},Oe=function(){var t=It().mode(Ot).subInstanceCount(6),e=zt(),n=zt(),r=function(){},a=Te().divisor(0).size(2).type(Se.BYTE).data([[-1,-1],[1,1],[-1,1],[1,-1]]);t.buffers().elementIndices(Pe([0,1,2,0,1,3])).attribute("aCorner",a);var i=function(a){var i=function(){var t=Yt(Ft),e=Yt(Lt);return t.appendHeader(Jt.header).appendBody(Jt.body),e.appendHeader(me.header).appendBody(me.body),{vertex:function(){return t},fragment:function(){return e}}}();t.vertexShader(i.vertex()).fragmentShader(i.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),t.vertexShader().appendBody("\n            gl_Position.x += xModifier / uScreen.x * 2.0;\n        "),r(t),t(a)};return i.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},g(i,t,"context","pixelRatio"),Ce(i,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),Ce(i,"mainValueAttribute",t.buffers(),"attribute","aMainValue"),Ce(i,"baseValueAttribute",t.buffers(),"attribute","aBaseValue"),Ce(i,"bandwidthAttribute",t.buffers(),"attribute","aBandwidth"),Ce(i,"definedAttribute",t.buffers(),"attribute","aDefined"),i},Ie=function(){var t=It().mode(Ot).subInstanceCount(18),e=zt(),n=zt(),r=function(){},a=ze(),i=Te().divisor(0).size(3).type(Se.BYTE).data([[0,1,1],[0,1,-1],[0,-1,-1],[0,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1],[-1,-1,1],[-1,1,-1],[-1,1,1],[1,1,1],[1,1,-1]]);t.buffers().elementIndices(Pe([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,8,11,10])).attribute("aCorner",i);var o=function(i){var o=function(){var t=Yt(Ft),e=Yt(Lt);return t.appendHeader(ne.header).appendBody(ne.body),e.appendHeader(ve.header).appendBody(ve.body),{vertex:function(){return t},fragment:function(){return e}}}();t.vertexShader(o.vertex()).fragmentShader(o.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),a(t),t.vertexShader().appendBody("\n                gl_Position.x += xModifier / uScreen.x * 2.0;\n                gl_Position.y += yModifier / uScreen.y * 2.0;\n            "),r(t),t(i)};return o.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,t,"context","pixelRatio"),g(o,a,"lineWidth"),Ce(o,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),Ce(o,"highValueAttribute",t.buffers(),"attribute","aHighValue"),Ce(o,"lowValueAttribute",t.buffers(),"attribute","aLowValue"),Ce(o,"bandwidthAttribute",t.buffers(),"attribute","aBandwidth"),Ce(o,"definedAttribute",t.buffers(),"attribute","aDefined"),o},Ye=function(){var t=It().mode(Ot).subInstanceCount(12),e=zt(),n=zt(),r=ze(),a=function(){},i=Te().divisor(0).size(3).type(Se.BYTE).data([[0,2,1],[0,2,-1],[0,-2,-1],[0,-2,1],[1,-1,0],[-1,-1,0],[-1,1,0],[1,1,0]]);t.buffers().elementIndices(Pe([0,1,2,0,3,2,4,5,6,4,7,6])).attribute("aCorner",i);var o=function(i){var o=function(){var t=Yt(Ft),e=Yt(Lt);return t.appendHeader(Zt.header).appendBody(Zt.body),e.appendHeader(he.header).appendBody(he.body),{vertex:function(){return t},fragment:function(){return e}}}();t.vertexShader(o.vertex()).fragmentShader(o.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),r(t),t.vertexShader().appendBody("\n          gl_Position.x += xModifier / uScreen.x * 2.0;\n          gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),a(t),t(i)};return o.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,t,"context","pixelRatio"),g(o,r,"lineWidth"),Ce(o,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),Ce(o,"openValueAttribute",t.buffers(),"attribute","aOpenValue"),Ce(o,"highValueAttribute",t.buffers(),"attribute","aHighValue"),Ce(o,"lowValueAttribute",t.buffers(),"attribute","aLowValue"),Ce(o,"closeValueAttribute",t.buffers(),"attribute","aCloseValue"),Ce(o,"bandwidthAttribute",t.buffers(),"attribute","aBandwidth"),Ce(o,"definedAttribute",t.buffers(),"attribute","aDefined"),o},Fe=function(){var t=It().mode(Ot).subInstanceCount(54),e=zt(),n=zt(),r=function(){},a=ze(),i=Te().divisor(0).size(4).type(Se.BYTE).data([[-1,-2,-1,1],[1,-2,-1,1],[1,-2,1,1],[-1,-2,1,1],[0,-2,-1,0],[0,-2,1,0],[0,-1,1,0],[0,-1,-1,0],[-1,-1,-1,1],[1,-1,-1,1],[1,-1,1,1],[-1,-1,1,1],[-1,0,-1,1],[1,0,-1,1],[1,0,1,1],[-1,0,1,1],[-1,1,-1,1],[1,1,-1,1],[1,1,1,1],[-1,1,1,1],[-1,-1,-1,0],[-1,-1,1,0],[-1,1,1,0],[-1,1,-1,0],[1,-1,-1,0],[1,-1,1,0],[1,1,1,0],[1,1,-1,0],[0,2,-1,0],[0,2,1,0],[0,1,1,0],[0,1,-1,0],[-1,2,-1,1],[1,2,-1,1],[1,2,1,1],[-1,2,1,1]]);t.buffers().elementIndices(Pe([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23,24,25,26,24,26,27,28,29,30,28,30,31,32,33,34,32,34,35])).attribute("aCorner",i);var o=function(i){var o=function(){var t=Yt(Ft),e=Yt(Lt);return t.appendHeader(ae.header).appendBody(ae.body),e.appendHeader(pe.header).appendBody(pe.body),{vertex:function(){return t},fragment:function(){return e}}}();t.vertexShader(o.vertex()).fragmentShader(o.fragment()),e(t,"gl_Position",0),n(t,"gl_Position",1),a(t),t.vertexShader().appendBody("\n            gl_Position.x += xModifier / uScreen.x * 2.0;\n            gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),r(t),t(i)};return o.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,t,"context","pixelRatio"),g(o,a,"lineWidth"),Ce(o,"crossValueAttribute",t.buffers(),"attribute","aCrossValue"),Ce(o,"highValueAttribute",t.buffers(),"attribute","aHighValue"),Ce(o,"upperQuartileValueAttribute",t.buffers(),"attribute","aUpperQuartileValue"),Ce(o,"medianValueAttribute",t.buffers(),"attribute","aMedianValue"),Ce(o,"lowerQuartileValueAttribute",t.buffers(),"attribute","aLowerQuartileValue"),Ce(o,"lowValueAttribute",t.buffers(),"attribute","aLowValue"),Ce(o,"bandwidthAttribute",t.buffers(),"attribute","aBandwidth"),Ce(o,"capAttribute",t.buffers(),"attribute","aCapWidth"),Ce(o,"definedAttribute",t.buffers(),"attribute","aDefined"),o},Le=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t>0||e<0)throw new Error("Offset values (".concat(t," & ").concat(e,") must straddle 0 "));var n=ke(),r=Ve(),a=function a(i){var o=a.size()*Me(a.type()),u=Math.abs(t)*o;if(n.offset(u).size(a.size()).type(a.type()),n(i),r.dirty()){var l=r(),c=e*o,f=u+l.length*Me(a.type())+c,s=i.context();s.bindBuffer(s.ARRAY_BUFFER,n.buffer()),s.bufferData(s.ARRAY_BUFFER,f,s.DYNAMIC_DRAW),s.bufferSubData(s.ARRAY_BUFFER,u,l)}};return a.offset=function(r){if(t>r||r>e)throw new Error("Requested offset ".concat(r," exceeds bounds (").concat(t," & ").concat(e,") "));var i=function(e){n.offset((r-t)*a.size()*Me(a.type())),n(e)};return g(i,a,"clear","location"),i},a.clear=function(){n.buffer(null),r.clear()},g(a,n,"normalized","location","divisor"),g(a,r,"data","value","size","type"),a},Ue=function(){var t=zt(),e=function(t){return"linear".concat(t)},n=function(n,r,a){n.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(e(a),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(e(a),"Scale;")).appendBody("".concat(r," = ").concat(r," + ").concat(e(a),"Offset;")).appendBody("".concat(r," = ").concat(r," * ").concat(e(a),"Scale;"));var i=t.domain()[1]-t.domain()[0],o=t.range()[1]-t.range()[0],u=t.range()[0]*(i/o)-t.domain()[0],l=o/i,c=[0,0,0,0],f=[1,1,1,1];c[a]=u,f[a]=l,n.buffers().uniform("".concat(e(a),"Offset"),Bt(c)).uniform("".concat(e(a),"Scale"),Bt(f))};return v(n,t),n},He=function(){var t=zt(),e=10;function n(t,e){return Math.log10(t)/Math.log10(e)}var r=function(t){return"log".concat(t)},a=function(a,i,o){var u="".concat(r(o),"Offset + (").concat(r(o),"Scale * clamp(log(").concat(i,") / log(").concat(r(o),"Base), -inf, inf))");a.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Include;")).appendHeaderIfNotExists("uniform float ".concat(r(o),"Base;")).appendBody("".concat(i," = (").concat(r(o),"Include * (").concat(u,")) + ((1.0 - ").concat(r(o),"Include) * ").concat(i,");"));var l=n(t.domain()[1],e)-n(t.domain()[0],e),c=(t.range()[1]-t.range()[0])/l,f=t.range()[0]-c*n(t.domain()[0],e),s=[0,0,0,0],h=[0,0,0,0],d=[0,0,0,0];s[o]=f,h[o]=c,d[o]=1,a.buffers().uniform("".concat(r(o),"Offset"),Bt(s)).uniform("".concat(r(o),"Scale"),Bt(h)).uniform("".concat(r(o),"Include"),Bt(d)).uniform("".concat(r(o),"Base"),Bt(e))};return a.base=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},v(a,t),a},je=function(){var t=zt(),e=1;function n(t,e){return Math.sign(t)*Math.pow(Math.abs(t),e)}var r=function(t){return"pow".concat(t)},a=function(a,i,o){var u="".concat(r(o),"Offset + (").concat(r(o),"Scale * sign(").concat(i,") * pow(abs(").concat(i,"), vec4(").concat(r(o),"Exp)))");a.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Include;")).appendHeaderIfNotExists("uniform float ".concat(r(o),"Exp;")).appendBody("".concat(i," = (").concat(r(o),"Include * (").concat(u,")) + ((1.0 - ").concat(r(o),"Include) * ").concat(i,");"));var l=n(t.domain()[1],e)-n(t.domain()[0],e),c=(t.range()[1]-t.range()[0])/l,f=t.range()[0]-c*n(t.domain()[0],e),s=[0,0,0,0],h=[0,0,0,0],d=[0,0,0,0];s[o]=f,h[o]=c,d[o]=1,a.buffers().uniform("".concat(r(o),"Offset"),Bt(s)).uniform("".concat(r(o),"Scale"),Bt(h)).uniform("".concat(r(o),"Include"),Bt(d)).uniform("".concat(r(o),"Exp"),Bt(e))};return a.exponent=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},v(a,t),a},We=n.scaleLinear().copy.toString(),qe=n.scaleLog().copy.toString(),$e=n.scalePow().copy.toString(),Xe=n.scaleTime().copy.toString(),Ge=n.scaleIdentity(),Qe=Date.now(),Ze=function(t){return t-Qe},Ke=function(t){switch(t.copy.toString()){case We:return{scale:Ge,webglScale:Ue().domain(t.domain())};case Xe:return{scale:Ze,webglScale:Ue().domain(t.domain().map(Ze))};case qe:return{scale:Ge,webglScale:He().domain(t.domain()).base(t.base())};case $e:return{scale:Ge,webglScale:je().domain(t.domain()).exponent(t.exponent())};default:return{scale:t.copy(),webglScale:Ue().domain(t.range())}}},Je=function(t){switch(t){case l.symbolCircle:return Ee();case l.symbolSquare:return function(){var t=Yt(Ft),e=Yt(Lt);return t.appendHeader($t.header).appendBody($t.body),e.appendHeader(le.header).appendBody(le.body),{vertex:function(){return t},fragment:function(){return e}}}();case l.symbolTriangle:return function(){var t=Yt(Ft),e=Yt(Lt);return t.appendHeader(Gt.header).appendBody(Gt.body),e.appendHeader(fe.header).appendBody(fe.body),{vertex:function(){return t},fragment:function(){return e}}}();case l.symbolCross:return function(){var t=Yt(Ft),e=Yt(Lt);return t.appendHeader(Qt.header).appendBody(Qt.body),e.appendHeader(se.header).appendBody(se.body),{vertex:function(){return t},fragment:function(){return e}}}();case l.symbolDiamond:return function(){var t=Yt(Ft),e=Yt(Lt);return t.appendHeader(Xt.header).appendBody(Xt.body),e.appendHeader(ce.header).appendBody(ce.body),{vertex:function(){return t},fragment:function(){return e}}}();case l.symbolStar:return function(){var t=Yt(Ft),e=Yt(Lt);return t.appendHeader(Wt.header).appendBody(Wt.body),e.appendHeader(oe.header).appendBody(oe.body),{vertex:function(){return t},fragment:function(){return e}}}();case l.symbolWye:return function(){var t=Yt(Ft),e=Yt(Lt);return t.appendHeader(qt.header).appendBody(qt.body),e.appendHeader(ue.header).appendBody(ue.body),{vertex:function(){return t},fragment:function(){return e}}}();default:throw new Error("Unrecognised symbol: ".concat(t))}},tn=function(t){var e=ke().divisor(1),n=t,r=!0,a=function(t){if(e(t),r){if(!Array.isArray(n))throw new Error("Expected an array, received: ".concat(n));if(n.length!==e.size())throw new Error("Expected array of length: ".concat(e.size(),", recieved array of length: ").concat(n.length));var a=t.context();a["vertexAttrib".concat(n.length,"fv")](e.location(),n),a.disableVertexAttribArray(e.location()),r=!1}};return a.clear=function(){r=!0},a.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r=!0,a):n},g(a,e,"normalized","size","location"),a},en=function(){var t=At(),e=Le(-1,2),n=e.offset(-1),r=e.offset(1),a=e.offset(2),i=Le(-1,2),o=i.offset(-1),u=i.offset(1),l=i.offset(2),c=Le(0,1).type(Se.UNSIGNED_BYTE),f=c.offset(1),s=Be().crossPreviousValueAttribute(n).crossValueAttribute(e).crossNextValueAttribute(r).crossNextNextValueAttribute(a).mainPreviousValueAttribute(o).mainValueAttribute(i).mainNextValueAttribute(u).mainNextNextValueAttribute(l).definedAttribute(c).definedNextAttribute(f),h=function(t,e){return!1},d=Ke,p=[],m=null,b=null,x=function(n){var r=d(t.xScale()),a=d(t.yScale()),o=!h(p,n);o&&(p=n,c.value((function(e,n){return t.defined()(e,n)})).data(n)),(o||r.scale!==m)&&(m=r.scale,"vertical"===t.orient()?e.value((function(e,n){return r.scale(t.crossValue()(e,n))})).data(n):e.value((function(e,n){return r.scale(t.mainValue()(e,n))})).data(n)),(o||a.scale!==b)&&(b=a.scale,"vertical"===t.orient()?i.value((function(e,n){return a.scale(t.mainValue()(e,n))})).data(n):i.value((function(e,n){return a.scale(t.crossValue()(e,n))})).data(n)),s.xScale(r.webglScale).yScale(a.webglScale).decorate((function(e){return t.decorate()(e,n,0)})),s(n.length)};return x.equals=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],x):h},x.scaleMapper=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],x):d},v(x,t,y("baseValue","bandwidth","align")),g(x,s,"context","lineWidth","pixelRatio"),x},nn=function(){var t=l.symbol(),e=At(),n=st("g","point"),r=function(t){return"translate("+t[0]+", "+t[1]+")"},a=function(a){ft(a)&&n.transition(a),a.each((function(a,i,o){var l=a.filter(e.defined()),c=n(u.select(o[i]),l);c.enter().attr("transform",(function(t,n){return r(e.values(t,n).origin)})).attr("fill",Ct).attr("stroke",Tt).append("path"),c.attr("transform",(function(t,n){return r(e.values(t,n).origin)})).select("path").attr("d",t),e.decorate()(c,a,i)}))};return v(a,e,y("baseValue","bandwidth","align")),g(a,n,"key"),g(a,t,"type","size"),a},rn=function(){var t=l.symbol(),e=At(),n=function(n){var r=n.filter(e.defined()),a=t.context();r.forEach((function(n,r){a.save();var i=e.values(n,r);a.translate(i.origin[0],i.origin[1]),a.beginPath(),a.strokeStyle=Tt,a.fillStyle=Ct,e.decorate()(a,n,r),t(n,r),a.fill(),a.stroke(),a.closePath(),a.restore()}))};return v(n,e,y("baseValue","bandwidth","align")),g(n,t,"size","type","context"),n},an=function(){var t=function(t){return t.high},e=function(t){return t.low},r=function(t){return t.cross},a="vertical",i="center",o=function(){return 5},u=Mt({decorate:function(){},defined:function(n,a){return wt(e,t,r)(n,a)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return u.values=function(n,l){var c=o(n,l),f=St(i,c),s=u.xScale(),h=u.yScale();if("vertical"===a){var d=h(t(n,l));return{origin:[s(r(n,l))+f,d],high:0,low:h(e(n,l))-d,width:c}}var g=s(e(n,l));return{origin:[g,h(r(n,l))+f],high:s(t(n,l))-g,low:0,width:c}},u.xValues=function(){return"vertical"===a?[r]:[t,e]},u.yValues=function(){return"vertical"!==a?[r]:[t,e]},u.orient=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],u):a},u.lowValue=function(){return arguments.length?(e=_t(arguments.length<=0?void 0:arguments[0]),u):e},u.highValue=function(){return arguments.length?(t=_t(arguments.length<=0?void 0:arguments[0]),u):t},u.crossValue=function(){return arguments.length?(r=_t(arguments.length<=0?void 0:arguments[0]),u):r},u.bandwidth=function(){return arguments.length?(o=_t(arguments.length<=0?void 0:arguments[0]),u):o},u.align=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],u):i},u},on=function(){var t,e=function(t){return t.date},r=function(t){return t.open},a=function(t){return t.high},i=function(t){return t.low},o=function(t){return t.close},u=function(){return 5},l="center",c=function(n,r){return t.xScale()(e(n,r))};return(t=Mt({decorate:function(){},defined:function(t,n){return wt(e,r,i,a,o)(t,n)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()})).values=function(e,n){var f=o(e,n),s=r(e,n),h=u(e,n),d=St(l,h),g="";return f>s?g="up":f<s&&(g="down"),{cross:c(e,n)+d,open:t.yScale()(s),high:t.yScale()(a(e,n)),low:t.yScale()(i(e,n)),close:t.yScale()(f),width:h,direction:g}},t.xValues=function(){return[e]},t.yValues=function(){return[r,a,i,o]},t.crossValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],t):e},t.openValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],t):r},t.highValue=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],t):a},t.lowValue=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],t):i},t.yValue=t.closeValue=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],t):o},t.bandwidth=function(){return arguments.length?(u=_t(arguments.length<=0?void 0:arguments[0]),t):u},t.align=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],t):l},t},un=function(t,e){var n=on(),r=st("g",e),a=function(t){return"translate("+t.cross+", "+t.high+")"},i=function(i){ft(i)&&r.transition(i);var o=function(t){return function(e){return ft(t)?e.transition(t):e}}(i);i.each((function(i,l,c){var f=i.filter(n.defined()),s=r(u.select(c[l]),f);s.enter().attr("transform",(function(t,e){return a(n.values(t,e))+" scale(1e-6, 1)"})).append("path"),s.each((function(r,i,l){var c=n.values(r,i),f="up"===c.direction?Vt:kt,s=o(u.select(l[i])).attr("class",e+" "+c.direction).attr("stroke",f).attr("fill",f).attr("transform",(function(){return a(c)+" scale(1)"}));t.x(0).width(c.width).open((function(){return c.open-c.high})).high(0).low((function(){return c.low-c.high})).close((function(){return c.close-c.high})),s.select("path").attr("d",t([r]))})),n.decorate()(s,i,l)}))};return g(i,r,"key"),v(i,n),i},ln=function(t){var e=on(),n=function(n){var r=n.filter(e.defined()),a=t.context();r.forEach((function(n,r){a.save();var i=e.values(n,r);a.translate(i.cross,i.high),a.beginPath(),t.x(0).open((function(){return i.open-i.high})).width(i.width).high(0).low((function(){return i.low-i.high})).close((function(){return i.close-i.high}))([n]);var o="up"===i.direction?Vt:kt;a.strokeStyle=o,a.fillStyle=o,e.decorate()(a,n,r),a.fill(),a.stroke(),a.closePath(),a.restore()}))};return g(n,t,"context"),v(n,e),n},cn=function(t){var e=on(),n=Te(),r=Te(),a=Te(),i=Te(),o=Te(),u=Te().type(Se.UNSIGNED_SHORT),l=Te().type(Se.UNSIGNED_BYTE);t.crossValueAttribute(n).openValueAttribute(r).highValueAttribute(a).lowValueAttribute(i).closeValueAttribute(o).bandwidthAttribute(u).definedAttribute(l);var c=function(t,e){return!1},f=Ke,s=[],h=null,d=null,p=function(g){var p=f(e.xScale()),v=f(e.yScale()),m=!c(s,g);m&&(s=g,u.value((function(t,n){return e.bandwidth()(t,n)})).data(g),l.value((function(t,n){return e.defined()(t,n)})).data(g)),(m||p.scale!==h)&&(h=p.scale,n.value((function(t,n){return p.scale(e.crossValue()(t,n))})).data(g)),(m||v.scale!==d)&&(d=v.scale,r.value((function(t,n){return v.scale(e.openValue()(t,n))})).data(g),a.value((function(t,n){return v.scale(e.highValue()(t,n))})).data(g),i.value((function(t,n){return v.scale(e.lowValue()(t,n))})).data(g),o.value((function(t,n){return v.scale(e.closeValue()(t,n))})).data(g)),t.xScale(p.webglScale).yScale(v.webglScale).decorate((function(t){return e.decorate()(t,g,0)})),t(g.length)};return p.equals=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.scaleMapper=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],p):f},v(p,e,y("align")),g(p,t,"context","lineWidth","pixelRatio"),p},fn=function(){var t=function(t){return t.upperQuartile},e=function(t){return t.lowerQuartile},r=function(t){return t.high},a=function(t){return t.low},i=function(t){return t.value},o=function(t){return t.median},u="vertical",l="center",c=function(){return 5},f=Mt({decorate:function(){},defined:function(n,u){return wt(a,r,e,t,i,o)(n,u)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return f.values=function(n,s){var h=c(n,s),d=St(l,h),g=f.xScale(),p=f.yScale();if("vertical"===u){var v=p(r(n,s));return{origin:[g(i(n,s))+d,v],high:0,upperQuartile:p(t(n,s))-v,median:p(o(n,s))-v,lowerQuartile:p(e(n,s))-v,low:p(a(n,s))-v,width:h}}var m=g(a(n,s));return{origin:[m,p(i(n,s))+d],high:g(r(n,s))-m,upperQuartile:g(t(n,s))-m,median:g(o(n,s))-m,lowerQuartile:g(e(n,s))-m,low:0,width:h}},f.xValues=function(){return"vertical"===u?[i]:[t,e,r,a,o]},f.yValues=function(){return"vertical"!==u?[i]:[t,e,r,a,o]},f.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],f):u},f.lowerQuartileValue=function(){return arguments.length?(e=_t(arguments.length<=0?void 0:arguments[0]),f):e},f.upperQuartileValue=function(){return arguments.length?(t=_t(arguments.length<=0?void 0:arguments[0]),f):t},f.lowValue=function(){return arguments.length?(a=_t(arguments.length<=0?void 0:arguments[0]),f):a},f.highValue=function(){return arguments.length?(r=_t(arguments.length<=0?void 0:arguments[0]),f):r},f.crossValue=function(){return arguments.length?(i=_t(arguments.length<=0?void 0:arguments[0]),f):i},f.medianValue=function(){return arguments.length?(o=_t(arguments.length<=0?void 0:arguments[0]),f):o},f.bandwidth=function(){return arguments.length?(c=_t(arguments.length<=0?void 0:arguments[0]),f):c},f.align=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],f):l},f},sn=function(){var t=[],e=function(t){return t},r=function(t,e){return e},a=Mt({decorate:function(){},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return a.xValues=function(){return t.map((function(t){return t.xValues()})).reduce((function(t,e){return t.concat(e)}))},a.yValues=function(){return t.map((function(t){return t.yValues()})).reduce((function(t,e){return t.concat(e)}))},a.mapping=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.key=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.series=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a},hn=function(){var t=sn(),e=st("g"),n=st("g","multi"),r=function(r){ft(r)&&(n.transition(r),e.transition(r));var a=t.mapping(),i=t.series(),o=t.xScale(),l=t.yScale();r.each((function(r,c,f){var s=n(u.select(f[c]),i);s.each((function(t,n,c){t.xScale(o).yScale(l);var f=a(r,n,i);e(u.select(c[n]),[f]).call(t)})),s.selection().order(),t.decorate()(s,r,c)}))};return v(r,t),g(r,n,"key"),r},dn=function(){var t=null,e=sn(),n=function(n){var r=e.mapping(),a=e.series(),i=e.xScale(),o=e.yScale();a.forEach((function(u,l){var c,f=r(n,l,a);u.context(t).xScale(i).yScale(o),u.decorate?(c=u.decorate(),u.decorate((function(t,r,a){e.decorate()(t,n,l),c(t,r,a)}))):e.decorate()(t,n,l),u(f),c&&u.decorate(c)}))};return n.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},v(n,e),n},gn=function(){var t=null,e=1,n=sn(),r=function(r){var a=n.mapping(),i=n.series(),o=n.xScale(),u=n.yScale();i.forEach((function(l,c){var f,s=a(r,c,i);l.context(t).pixelRatio(e).xScale(o).yScale(u),l.decorate?(f=l.decorate(),l.decorate((function(t,e,a){n.decorate()(t,r,c),f(t,e,a)}))):n.decorate()(t,r,c),l(s),f&&l.decorate(f)}))};return r.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r.pixelRatio=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},v(r,n),r},pn=function(t){var r=function(){return 50},a="center",i=n.scaleBand(),o=Mt({decorate:function(){},xScale:n.scaleLinear(),yScale:n.scaleLinear()});return o.offsetScaleForDatum=function(t,n,o){var u=r(n,o),l=St(a,u),c=u/2;return i.domain(e.range(0,t.length)).range([-c+l,c+l])},o.bandwidth=function(){return arguments.length?(r=_t(arguments.length<=0?void 0:arguments[0]),o):r},o.align=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},v(o,i,x({paddingInner:"paddingOuter"})),o},vn=function(){var t=function(t){return t.x},r=function(t){return t.y},a=function(t){return t.color},i=function(){return 5},o=function(){return 5},u=c.interpolateViridis,l=Mt({decorate:function(){},defined:function(e,n){return wt(t,r,a)(e,n)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return l.pathGenerator=at().x(0).y(0),l.colorScale=function(t){var r=t.map(a);return n.scaleLinear().domain([e.min(r),e.max(r)])},l.values=function(e,n){return{x:l.xScale()(t(e,n)),y:l.yScale()(r(e,n)),colorValue:a(e,n),width:o(e,n),height:i(e,n)}},l.xValues=function(){return[t]},l.yValues=function(){return[r]},l.xValue=function(){return arguments.length?(t=_t(arguments.length<=0?void 0:arguments[0]),l):t},l.yValue=function(){return arguments.length?(r=_t(arguments.length<=0?void 0:arguments[0]),l):r},l.colorValue=function(){return arguments.length?(a=_t(arguments.length<=0?void 0:arguments[0]),l):a},l.colorInterpolate=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],l):u},l.xBandwidth=function(){return arguments.length?(o=_t(arguments.length<=0?void 0:arguments[0]),l):o},l.yBandwidth=function(){return arguments.length?(i=_t(arguments.length<=0?void 0:arguments[0]),l):i},v(l,l.pathGenerator,x({horizontalAlign:"xAlign",verticalAlign:"yAlign"})),l},mn=function(t){return"function"==typeof t?t:function(){return t}},yn=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r=function(t){return t},a=r,i=function(){},o="horizontal",l=st("g","annotation-line"),c=function(n){if(ft(n)&&l.transition(n),"horizontal"!==o&&"vertical"!==o)throw new Error("Invalid orientation");var c="horizontal"===o,f=c?function(t,e){return"translate(".concat(t,", ").concat(e,")")}:function(t,e){return"translate(".concat(e,", ").concat(t,")")},s=c?"x2":"y2",h=c?e:t,d=c?"left-handle":"bottom-handle",g=c?"right-handle":"top-handle",p=c?"9":"0",v=c?"0":"9",m=c?"0.32em":"0.71em",y=c?"start":"middle",b=(c?t:e).range(),x=function(){return f(b[0],h(r.apply(void 0,arguments)))},_=b[1]-b[0];n.each((function(t,e,n){var r=l(u.select(n[e]),t),c=r.enter().attr("transform",x).style("stroke","#bbb");c.append("line").attr(s,_),c.append("g").classed(d,!0).style("stroke","none"),c.append("g").classed(g,!0).style("stroke","none").attr("transform",f(_,0)).append("text").attr("text-anchor",y).attr("x",p).attr("y",v).attr("dy",m),r.attr("class","annotation-line ".concat(o)),r.attr("transform",x),r.select("line").attr(s,_),r.select("g."+g).attr("transform",f(_,0)),r.select("text").text(a),i(r,t,e)}))};return c.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.value=function(){return arguments.length?(r=mn(arguments.length<=0?void 0:arguments[0]),c):r},c.label=function(){return arguments.length?(a=mn(arguments.length<=0?void 0:arguments[0]),c):a},c.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],c):i},c.orient=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],c):o},c},bn=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r=function(t){return t},a=r,i=function(){},o="horizontal",u=l.line(),c=function(n){if("horizontal"!==o&&"vertical"!==o)throw new Error("Invalid orientation");var l="horizontal"===o,c=u.context(),f=l?t:e,s=l?e:t,h=f.domain(),d=l?9:0,g=l?0:9,p=l?"left":"center",v=l?"middle":"hanging";n.forEach((function(t,e){c.save(),c.beginPath(),c.strokeStyle="#bbb",c.fillStyle="#000",c.textAlign=p,c.textBaseline=v,i(c,t,e),u.context(c)(h.map((function(e){var n=[f(e),s(r(t))];return l?n:n.reverse()})));var n=l?f(h[1]):s(r(t)),o=l?s(r(t)):f(h[1]);c.fillText(a(t),n+d,o+g),c.fill(),c.stroke(),c.closePath(),c.restore()}))};return c.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.value=function(){return arguments.length?(r=mn(arguments.length<=0?void 0:arguments[0]),c):r},c.label=function(){return arguments.length?(a=mn(arguments.length<=0?void 0:arguments[0]),c):a},c.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],c):i},c.orient=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],c):o},g(c,u,"context"),c},xn=function(){var t=n.scaleIdentity(),e=[10],r=null,a=function(){var n;return r??(t.ticks?(n=t).ticks.apply(n,L(e)):t.domain())};return a.scale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.ticks=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=n,a},a.tickArguments=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.tickValues=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a},_n=function(t){return t},wn=function(t){return t},Sn=function(t,e,n,r){return t[e]?t[e].apply(t,n):r},Mn=function(t){var e;return null!==(e=t.tickValues())&&void 0!==e?e:Sn(t.scale(),"ticks",t.tickArguments(),t.scale().domain())},An=function(t){var e;return null!==(e=t.tickFormat())&&void 0!==e?e:Sn(t.scale(),"tickFormat",t.tickArguments(),wn)},kn=function(t){return t},Vn=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[10],a=null,i=function(){},o=null,c=6,f=6,s=3,h=l.line(),d=st("g","tick").key(kn),g=st("path","domain"),p=function(){return{offset:[0,f+s]}},v=function(){return{path:[[0,0],[0,f]]}},m=n.labelOffset||p,y=n.tickPath||v,b=function(t,e){var n=0;return t.bandwidth&&(n=t.bandwidth()/2,t.round()&&(n=Math.round(n))),function(r){return e(t(r)+n,0)}},x=function(t,e){return w()?"translate(".concat(e,", ").concat(t,")"):"translate(".concat(t,", ").concat(e,")")},_=function(t){return w()?t.map((function(t){return[t[1],t[0]]})):t},w=function(){return"left"===t||"right"===t},S=function n(r){ft(r)&&(d.transition(r),g.transition(r)),r.each((function(r,a,o){var l=o[a],f=u.select(l);l.__scale__||f.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","right"===t?"start":"left"===t?"end":"middle");var s=l.__scale__||e;l.__scale__=e.copy();var p=Mn(n),v=An(n),S="bottom"===t||"right"===t?1:-1,M=function(t){var e=F(t,2),n=e[0],r=e[1];return[n,S*r]},A=e.range(),k=_([[A[0],S*c],[A[0],0],[A[1],0],[A[1],S*c]]),V=g(f,[r]);V.enter().attr("stroke","#000"),V.attr("d",h(k));var T=d(f,p),C=p.map((function(t,e){return m(t,e,p)})),N=p.map((function(t,e){return y(t,e,p)}));T.enter().attr("transform",b(s,x)).append("path").attr("stroke","#000"),T.enter().append("text").attr("transform",(function(t,e){return x.apply(void 0,L(M(C[e].offset)))})).attr("fill","#000"),T.exit().attr("transform",b(e,x)),T.select("path").attr("visibility",(function(t,e){return N[e].hidden&&"hidden"})).attr("d",(function(t,e){return h(_(N[e].path.map(M)))})),T.select("text").attr("visibility",(function(t,e){return C[e].hidden&&"hidden"})).attr("transform",(function(t,e){return x.apply(void 0,L(M(C[e].offset)))})).attr("dy",(function(){var e="0em";return w()?e="0.32em":"bottom"===t&&(e="0.71em"),e})).text(v),T.attr("transform",b(e,x)),i(T,r,a)}))};return S.tickFormat=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],S):o},S.tickSize=function(){return arguments.length?(f=c=Number(arguments.length<=0?void 0:arguments[0]),S):f},S.tickSizeInner=function(){return arguments.length?(f=Number(arguments.length<=0?void 0:arguments[0]),S):f},S.tickSizeOuter=function(){return arguments.length?(c=Number(arguments.length<=0?void 0:arguments[0]),S):c},S.tickPadding=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],S):s},S.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],S):i},S.scale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],S):e},S.ticks=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r=[].concat(e),S},S.tickArguments=function(){return arguments.length?(r=null==(arguments.length<=0?void 0:arguments[0])?[]:L(arguments.length<=0?void 0:arguments[0]),S):null!==r?r.slice():null},S.tickValues=function(){return arguments.length?(a=null==(arguments.length<=0?void 0:arguments[0])?[]:L(arguments.length<=0?void 0:arguments[0]),S):null!==a?a.slice():null},S.orient=function(){return t},S},Tn=function(t,e){var n=!1,r=Vn(t,e,{labelOffset:function(t,a,i){var o=0,u=r.tickSizeInner()+r.tickPadding(),l=!1;if(n){var c=e(t),f=a<i.length-1?e(i[a+1]):e.range()[1];o=(f-c)/2,u=r.tickPadding(),l=a===i.length-1&&c===f}return{offset:[o,u],hidden:l}}}),a=function(t){return r(t)};return a.tickCenterLabel=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},v(a,r),a},Cn=function(t){return Tn("top",t)},Nn=function(t){return Tn("bottom",t)},En=function(t){return Tn("left",t)},Dn=function(t){return Tn("right",t)},zn=function(t,e){var n=null,r=Vn(t,e,{labelOffset:function(){return{offset:[0,r.tickPadding()]}},tickPath:function(t,a,i){var o=0;return o=n?n(t,a):function(t,n,r){if(e.step)return e.step();var a=e(t);return n<r.length-1?e(r[n+1])/a:2*(e.range()[1]-a)}(t,a,i)/2,{path:[[o,0],[o,r.tickSizeInner()]],hidden:a===i.length-1}}}),a=function(t){r(t)};return a.tickOffset=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},v(a,r),a},Pn=function(t){return function(e){var n=Mn(t),r=An(t),a=n.map(r),i=e.append("text"),o=a.map((function(t){return i.text(t).node().getBBox()})),u=Math.max.apply(Math,L(o.map((function(t){return t.height})))),l=Math.max.apply(Math,L(o.map((function(t){return t.width}))));return i.remove(),{maxHeight:u,maxWidth:l,labelCount:a.length}}},Bn="__d3fc-elements__",Rn=function(t){return t[Bn]||{}},On=function(t,e){t[Bn]=e},In=function(t){return"D3FC-GROUP"===t.tagName?[t].concat(L(t.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg"))):[t]},Yn=function(t){var e=Rn(t),n=e.width,r=e.height,a=t.useDevicePixelRatio&&null!=window.devicePixelRatio?window.devicePixelRatio:1,i=t.clientWidth*a,o=t.clientHeight*a,u=i!==n||o!==r,l=t.children[0];On(t,{pixelRatio:a,width:i,height:o,resized:u,child:l})};if("function"!=typeof CustomEvent)throw new Error("d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.");var Fn=function(t){var e=Rn(t),n=new CustomEvent("measure",{detail:e});t.dispatchEvent(n)},Ln=function(t){var e=Rn(t),n=new CustomEvent("draw",{detail:e});t.dispatchEvent(n)},Un=function(t){return Rn(t.ownerDocument).queue||[]},Hn=function(t,e){var n=Rn(t.ownerDocument).requestId;null==n&&(n=requestAnimationFrame((function(){(function(t){var e=t.map(In).reduce((function(t,e){return t.concat(e)}));e.forEach(Yn),e.forEach(Fn),e.forEach(Ln)})(Un(t)),jn(t)}))),On(t.ownerDocument,{queue:e,requestId:n})},jn=function(t){return function(t){return delete t[Bn]}(t.ownerDocument)},Wn=function(t,e){var n=t;do{if(n.parentNode===e)return!0}while(n=n.parentNode);return!1},qn=function(t){var e=Un(t);if(!(e.indexOf(t)>-1||e.some((function(e){return Wn(t,e)})))){var n=e.filter((function(e){return!Wn(e,t)}));n.push(t),Hn(t,n)}};if("function"!=typeof HTMLElement)throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var $n=function(t,e){return function(n){D(a,n);var r=Y(a);function a(){return C(this,a),r.apply(this,arguments)}return E(a,[{key:"attributeChangedCallback",value:function(t){"use-device-pixel-ratio"===t&&this.requestRedraw()}},{key:"connectedCallback",value:function(){0===this.childNodes.length&&this.appendChild(t()),function(t){null==t.__measureListener__&&(t.__measureListener__=function(e){return t.setMeasurements(e.detail)},t.addEventListener("measure",t.__measureListener__))}(this)}},{key:"disconnectedCallback",value:function(){!function(t){null!=t.__measureListener__&&(t.removeEventListener("measure",t.__measureListener__),t.__measureListener__=null)}(this)}},{key:"setMeasurements",value:function(t){var n=t.width,r=t.height,a=function(t){return U(t)||H(t)||j(t)||q()}(this.childNodes),i=a[0];if(a.slice(1).length>0)throw new Error("A d3fc-svg/canvas element must only contain a single svg/canvas element.");e(this,i,{width:n,height:r})}},{key:"requestRedraw",value:function(){qn(this)}},{key:"useDevicePixelRatio",get:function(){return this.hasAttribute("use-device-pixel-ratio")&&"false"!==this.getAttribute("use-device-pixel-ratio")},set:function(t){t&&!this.useDevicePixelRatio?this.setAttribute("use-device-pixel-ratio",""):!t&&this.useDevicePixelRatio&&this.removeAttribute("use-device-pixel-ratio"),this.requestRedraw()}}],[{key:"observedAttributes",get:function(){return["use-device-pixel-ratio"]}}]),a}(O(HTMLElement))},Xn=function(t){D(n,t);var e=Y(n);function n(){return C(this,n),e.apply(this,arguments)}return E(n,[{key:"setWebglViewport",get:function(){return this.hasAttribute("set-webgl-viewport")&&"false"!==this.getAttribute("set-webgl-viewport")},set:function(t){t&&!this.setWebglViewport?this.setAttribute("set-webgl-viewport",""):!t&&this.setWebglViewport&&this.removeAttribute("set-webgl-viewport"),this.requestRedraw()}}]),n}($n((function(){return document.createElement("canvas")}),(function(t,e,n){var r=n.width,a=n.height;e.setAttribute("width",r),e.setAttribute("height",a),t.setWebglViewport&&e.getContext("webgl").viewport(0,0,r,a)}))),Gn=function(t){t.autoResize?Qn(t):Zn(t)},Qn=function(t){null==t.__autoResizeListener__&&(t.__autoResizeListener__=function(){return qn(t)},addEventListener("resize",t.__autoResizeListener__))},Zn=function(t){null!=t.__autoResizeListener__&&(removeEventListener("resize",t.__autoResizeListener__),t.__autoResizeListener__=null)},Kn=function(t){D(n,t);var e=Y(n);function n(){return C(this,n),e.apply(this,arguments)}return E(n,[{key:"connectedCallback",value:function(){Gn(this)}},{key:"disconnectedCallback",value:function(){Zn(this)}},{key:"requestRedraw",value:function(){qn(this)}},{key:"attributeChangedCallback",value:function(t){"auto-resize"===t&&Gn(this)}},{key:"autoResize",get:function(){return this.hasAttribute("auto-resize")&&"false"!==this.getAttribute("auto-resize")},set:function(t){t&&!this.autoResize?this.setAttribute("auto-resize",""):!t&&this.autoResize&&this.removeAttribute("auto-resize"),Gn(this)}}],[{key:"observedAttributes",get:function(){return["auto-resize"]}}]),n}(O(HTMLElement)),Jn=$n((function(){return document.createElementNS("http://www.w3.org/2000/svg","svg")}),(function(t,e,n){var r=n.width,a=n.height;e.setAttribute("viewBox","0 0 ".concat(r," ").concat(a))})),tr="d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}",er=document.createElement("style");if(er.setAttribute("type","text/css"),document.querySelector("head").appendChild(er),er.styleSheet?er.styleSheet.cssText+=tr:er.textContent+=tr,"object"!==("undefined"==typeof customElements?"undefined":T(customElements))||"function"!=typeof customElements.define)throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var nr=[],rr=function(t,e){customElements.get(t)?nr.push(t):customElements.define(t,e)};rr("d3fc-canvas",Xn),rr("d3fc-group",Kn),rr("d3fc-svg",Jn),nr.length>0&&console.warn('The d3fc components "'.concat(nr.join(", "),'" is/are already registered on window. Be aware that this can create compatibility issues if different versions are used.'));var ar=function(){for(var t={},e=function(e){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];e[a].apply(null,t[a])}return e},n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];for(var i=function(){var n=u[o];e[n]=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return a.length?(t[n]=a,e):t[n]}},o=0,u=r;o<u.length;o++)i();return e},ir="d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}\nd3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:1;-ms-grid-row:1;}\nd3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}\nd3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}\nd3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}\nd3fc-group.cartesian-chart>.y-label{display:flex;transform:rotate(-90deg);width:1em;white-space:nowrap;justify-content:center;}",or=document.createElement("style");or.setAttribute("type","text/css"),document.querySelector("head").appendChild(or),or.styleSheet?or.styleSheet.cssText+=ir:or.textContent+=ir;var ur=function(t){return"function"==typeof t?t:function(){return t}},lr=function(){var t=cr.apply(void 0,arguments),e=t.xScale,n=t.yScale,r=t.xAxis,a=t.yAxis,i=ur(""),o=ur(""),l=ur(""),c=ur(null),f=ur(null),s=ur("right"),h=ur("bottom"),d=null,g=null,p=null,m=!1,b=!0,x=ar("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),w=function(){},S=ar("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),M=function(){},A=function(){},k=st("d3fc-group","cartesian-chart"),V=st("d3fc-canvas","webgl-plot-area"),T=st("d3fc-canvas","canvas-plot-area"),C=st("d3fc-svg","svg-plot-area"),N=st("d3fc-svg","x-axis").key((function(t){return t})),E=st("d3fc-svg","y-axis").key((function(t){return t})),D=st("div","chart-label"),z=st("div","x-label").key((function(t){return t})),P=st("div","y-label").key((function(t){return t})),B=function(t){return function(e){return ft(t)?e.transition(t):e}},R=function(t){var v=B(t);t.each((function(t,y,_){var B=k(u.select(_[y]),[t]);B.enter().attr("auto-resize",""),D(B,[h(t)]).attr("class",(function(t){return"top"===t?"chart-label bottom-label":"chart-label top-label"})).style("margin-bottom",(function(t){return"top"===t?0:"1em"})).style("margin-top",(function(t){return"top"===t?"1em":0})).text(i(t)),z(B,[h(t)]).attr("class",(function(t){return"x-label ".concat(t,"-label")})).text(o(t)),P(B,[s(t)]).attr("class",(function(t){return"y-label ".concat(t,"-label")})).text(l(t)),V(B,d?[t]:[]).attr("set-webgl-viewport","").classed("plot-area",!0).attr("use-device-pixel-ratio",b).on("draw",(function(t,r){var a=t.detail,i=a.child,o=a.pixelRatio;d.context(m?null:i.getContext("webgl")).pixelRatio(o).xScale(e).yScale(n),d(r)})),B.select(".webgl-plot-area>canvas").on("webglcontextlost",(function(t){console.warn("WebGLRenderingContext lost"),t.preventDefault(),m=!0,B.node().requestRedraw()})).on("webglcontextrestored",(function(){console.info("WebGLRenderingContext restored"),m=!1,B.node().requestRedraw()})),T(B,g?[t]:[]).classed("plot-area",!0).attr("use-device-pixel-ratio",b).on("draw",(function(t,r){var a=t.detail,i=a.child,o=a.pixelRatio,u=i.getContext("2d");u.save(),b&&u.scale(o,o),g.context(u).xScale(e).yScale(n),g(r),u.restore()})),C(B,p?[t]:[]).classed("plot-area",!0).on("draw",(function(t,r){var a=t.detail.child;p.xScale(e).yScale(n),v(u.select(a).datum(r)).call(p)})),N(B,[h(t)]).attr("class",(function(t){return"x-axis ".concat(t,"-axis")})).style("height",c(t)).on("measure",(function(t,n){var r=t.detail,a=r.width,i=r.height,o=r.child;"top"===n&&u.select(o).attr("viewBox","0 ".concat(-i," ").concat(a," ").concat(i)),e.range([0,a])})).on("draw",(function(t,n){var a=t.detail.child,i="top"===n?r.top(e):r.bottom(e);i.decorate(w),v(u.select(a).datum(n)).call(x(i))})),E(B,[s(t)]).attr("class",(function(t){return"y-axis ".concat(t,"-axis")})).style("width",f(t)).on("measure",(function(t,e){var r=t.detail,a=r.width,i=r.height,o=r.child;"left"===e&&u.select(o).attr("viewBox","".concat(-a," 0 ").concat(a," ").concat(i)),n.range([i,0])})).on("draw",(function(t,e){var r=t.detail.child,i="left"===e?a.left(n):a.right(n);i.decorate(M),v(u.select(r).datum(e)).call(S(i))})),B.each((function(t,e,n){return n[e].requestRedraw()})),A(B,t,y)}))},O=y(/range\w*/,/tickFormat/);return v(R,e,O,_("x")),v(R,n,O,_("y")),v(R,x,_("x")),v(R,S,_("y")),R.xOrient=function(){return arguments.length?(h=ur(arguments.length<=0?void 0:arguments[0]),R):h},R.yOrient=function(){return arguments.length?(s=ur(arguments.length<=0?void 0:arguments[0]),R):s},R.xDecorate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],R):w},R.yDecorate=function(){return arguments.length?(M=arguments.length<=0?void 0:arguments[0],R):M},R.chartLabel=function(){return arguments.length?(i=ur(arguments.length<=0?void 0:arguments[0]),R):i},R.xLabel=function(){return arguments.length?(o=ur(arguments.length<=0?void 0:arguments[0]),R):o},R.yLabel=function(){return arguments.length?(l=ur(arguments.length<=0?void 0:arguments[0]),R):l},R.xAxisHeight=function(){return arguments.length?(c=ur(arguments.length<=0?void 0:arguments[0]),R):c},R.yAxisWidth=function(){return arguments.length?(f=ur(arguments.length<=0?void 0:arguments[0]),R):f},R.webglPlotArea=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],R):d},R.canvasPlotArea=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],R):g},R.svgPlotArea=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],R):p},R.decorate=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],R):A},R.useDevicePixelRatio=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],R):b},R},cr=function(){for(var t={xScale:n.scaleIdentity(),yScale:n.scaleIdentity(),xAxis:{bottom:Nn,top:Cn},yAxis:{right:Dn,left:En}},e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return 1!==r.length||r[0].domain||r[0].range?Object.assign(t,{xScale:r[0]||t.xScale,yScale:r[1]||t.yScale}):Object.assign(t,r[0])},fr=function(t){return"function"==typeof t?t:function(){return t}},sr=function(t,e){return function(){var n=fr(""),r=e,a=function(){},i=lr.apply(void 0,arguments),o=function(e){t(i,r),i.decorate((function(t,e,r){t.enter().select(".x-label").style("height","1em").style("line-height","1em");var o=i.yOrient()(e);t.enter().append("div").attr("class","y-label-container").style("grid-column","left"===o?1:5).style("-ms-grid-column","left"===o?1:5).style("grid-row",3).style("-ms-grid-row",3).style("width","1em").style("display","flex").style("align-items","center").style("justify-content","center").style("white-space","nowrap").append("div").attr("class","y-label").style("transform","rotate(-90deg)"),t.select(".y-label-container>.y-label").text(n),a(t,e,r)})),e.call(i)};return v(o,i,b(/^x/,/^y/,"chartLabel")),o.yLabel=function(){return arguments.length?(n=fr(arguments.length<=0?void 0:arguments[0]),o):n},o.plotArea=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o}},hr=sr((function(t,e){return t.svgPlotArea(e)}),Et),dr=sr((function(t,e){return t.canvasPlotArea(e)}),Dt),gr=function(t){return[t[1],t[0]]},pr=function(t){var e=function(t){switch(t){case"x":return s.brushX();case"y":return s.brushY();case"xy":return s.brush()}}(t),r=f.dispatch("brush","start","end"),a=n.scaleIdentity(),i=n.scaleIdentity(),o=st("g","brush"),l=function(e,n,r){switch(t){case"x":return e.map(n);case"y":return e.map(r);case"xy":return[[n(e[0][0]),r(e[0][1])],[n(e[1][0]),r(e[1][1])]]}},c=function(e){var r=n.scaleLinear().domain(a.domain());return"x"===t?e.map(r.invert):"xy"===t?[r.invert(e[0][0]),r.invert(e[1][0])]:void 0},h=function(e){var r=n.scaleLinear().domain(gr(i.domain()));return"y"===t?[e[1],e[0]].map(r.invert):"xy"===t?[r.invert(e[1][1]),r.invert(e[0][1])]:void 0},d=function(t){if(!t.sourceEvent||"draw"!==t.sourceEvent.type)if(t.selection){var e=function(t){return l(t,n.scaleLinear().domain(a.range()),n.scaleLinear().domain(gr(i.range())))}(t.selection);r.call(t.type,{},{selection:e,xDomain:c(e),yDomain:h(e)})}else r.call(t.type,{},{})},p=function(t){t.each((function(t,r,c){e.extent([[a.range()[0],i.range()[1]],[a.range()[1],i.range()[0]]]),e.on("end",(function(t){return d(t)})).on("brush",(function(t){return d(t)})).on("start",(function(t){return d(t)})),o(u.select(c[r]),[t]).call(e).call(e.move,t?function(t){return l(t,n.scaleLinear().domain(a.range()).invert,n.scaleLinear().domain(gr(i.range())).invert)}(t):null)}))};return p.xScale=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],p):a},p.yScale=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],p):i},g(p,r,"on"),g(p,e,"filter","handleSize"),p},vr=function(t,e){if(null==t&&null==e)return!0;var n=t.domain(),r=e.domain();return n.length===r.length&&n.every((function(t,e){var n;return(null==t?void 0:t.valueOf())===(null===(n=r[e])||void 0===n?void 0:n.valueOf())}))},mr=Symbol("d3fc-domain-zoom");t.annotationCanvasBand=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r="horizontal",a=function(t){return t.from},i=function(t){return t.to},o=function(){},u=at().horizontalAlign("right").verticalAlign("top"),l=function(n){if("horizontal"!==r&&"vertical"!==r)throw new Error("Invalid orientation");var l=u.context(),c="horizontal"===r,f=c?e:t,s=(c?t:e).range(),h=s[1]-s[0],d=c?"x":"y",g=c?"y":"x",p=c?"height":"width",v=c?"width":"height";n.forEach((function(t,e){l.save(),l.beginPath(),l.strokeStyle="transparent",u[g](f(a(t))),u[d](s[0]),u[v](h),u[p](f(i(t))-f(a(t))),o(l,t,e),u.context(l)([t],e),l.fill(),l.stroke(),l.closePath(),l.restore()}))};return l.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},l.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],l):e},l.orient=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],l):r},l.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],l):o},l.fromValue=function(){return arguments.length?(a=mn(arguments.length<=0?void 0:arguments[0]),l):a},l.toValue=function(){return arguments.length?(i=mn(arguments.length<=0?void 0:arguments[0]),l):i},g(l,u,"context"),l},t.annotationCanvasCrosshair=function(){var t=function(t){return t.x},e=function(t){return t.y},r=n.scaleIdentity(),a=n.scaleIdentity(),i=rn(),o=bn(),u=bn().orient("vertical"),l=n.scaleIdentity(),c=n.scaleIdentity(),f=dn().series([o,u,i]).xScale(l).yScale(c).mapping((function(t){return[t]})),s=function(n){n.forEach((function(n){l.range(r.range()),c.range(a.range()),i.crossValue(t).mainValue(e),o.value(e),u.value(t),f(n)}))};s.x=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s.y=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s.xScale=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],s):r},s.yScale=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],s):a};var h=b("label","decorate");return v(s,o,h,_("y")),v(s,u,h,_("x")),g(s,i,"decorate"),g(s,f,"context"),s},t.annotationCanvasGridline=function(){var t=function(){},e=function(){},n=xn(),r=xn(),a=l.line(),i=function(){var i=a.context(),o=n.scale(),u=r.scale();n().forEach((function(e,n){i.save(),i.beginPath(),i.strokeStyle="#bbb",i.fillStyle="transparent",t(i,e,n),a.context(i)(u.domain().map((function(t){return[o(e),u(t)]}))),i.fill(),i.stroke(),i.closePath(),i.restore()})),r().forEach((function(t,n){i.save(),i.beginPath(),i.strokeStyle="#bbb",i.fillStyle="transparent",e(i,t,n),a.context(i)(o.domain().map((function(e){return[o(e),u(t)]}))),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return i.yDecorate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.xDecorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},v(i,n,_("x")),v(i,r,_("y")),g(i,a,"context"),i},t.annotationCanvasLine=bn,t.annotationSvgBand=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r="horizontal",a=function(t){return t.from},i=function(t){return t.to},o=function(){},l=st("g","annotation-band"),c=at().horizontalAlign("center").verticalAlign("center").x(0).y(0),f=function(n){if(ft(n)&&l.transition(n),"horizontal"!==r&&"vertical"!==r)throw new Error("Invalid orientation");var f="horizontal"===r,s=f?function(t,e){return"translate(".concat(t,", ").concat(e,")")}:function(t,e){return"translate(".concat(e,", ").concat(t,")")},h=f?e:t,d=(f?t:e).range(),g=d[1]-d[0],p=f?"height":"width",v=function(){return s((d[1]+d[0])/2,(h(i.apply(void 0,arguments))+h(a.apply(void 0,arguments)))/2)};c[f?"width":"height"](g),c[p]((function(){return h(i.apply(void 0,arguments))-h(a.apply(void 0,arguments))})),n.each((function(t,e,n){var a=l(u.select(n[e]),t);a.enter().attr("transform",v).append("path").classed("band",!0),a.attr("class","annotation-band ".concat(r)).attr("transform",v).select("path").attr("d",(function(t,e){return c([t],e)})),o(a,t,e)}))};return f.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],f):t},f.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],f):e},f.orient=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],f):r},f.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],f):o},f.fromValue=function(){return arguments.length?(a=mn(arguments.length<=0?void 0:arguments[0]),f):a},f.toValue=function(){return arguments.length?(i=mn(arguments.length<=0?void 0:arguments[0]),f):i},f},t.annotationSvgCrosshair=function(){var t=function(t){return t.x},e=function(t){return t.y},r=n.scaleIdentity(),a=n.scaleIdentity(),i=function(){},o=st("g","annotation-crosshair"),l=nn(),c=yn(),f=yn().orient("vertical"),s=n.scaleIdentity(),h=n.scaleIdentity(),d=hn().series([c,f,l]).xScale(s).yScale(h).mapping((function(t){return[t]})),g=function(n){ft(n)&&o.transition(n),n.each((function(n,g,p){var v=o(u.select(p[g]),n);v.enter().style("pointer-events","none"),s.range(r.range()),h.range(a.range()),l.crossValue(t).mainValue(e),c.value(e),f.value(t),v.call(d),i(v,n,g)}))};g.x=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],g):t},g.y=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],g):e},g.xScale=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],g):r},g.yScale=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],g):a},g.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],g):i};var p=b("label");return v(g,c,p,_("y")),v(g,f,p,_("x")),g},t.annotationSvgGridline=function(){var t=function(){},e=function(){},n=xn(),r=xn(),a=st("line","gridline-y").key(_n),i=st("line","gridline-x").key(_n),o=function(o){ft(o)&&(a.transition(o),i.transition(o)),o.each((function(o,l,c){var f=c[l],s=u.select(c[l]),h=n.scale(),d=r.scale(),g=f.__x_scale__||h;f.__x_scale__=h.copy();var p=n(),v=a(s,p);v.enter().attr("x1",g).attr("x2",g).attr("y1",d.range()[0]).attr("y2",d.range()[1]).attr("stroke","#bbb"),v.attr("x1",h).attr("x2",h).attr("y1",d.range()[0]).attr("y2",d.range()[1]),v.exit().attr("x1",h).attr("x2",h),t(v,p,l);var m=f.__y_scale__||d;f.__y_scale__=d.copy();var y=r(),b=i(s,y);b.enter().attr("y1",m).attr("y2",m).attr("x1",h.range()[0]).attr("x2",h.range()[1]).attr("stroke","#bbb"),b.attr("y1",d).attr("y2",d).attr("x1",h.range()[0]).attr("x2",h.range()[1]),b.exit().attr("y1",d).attr("y2",d),e(b,y,l)}))};return o.yDecorate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.xDecorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},v(o,a,x({key:"xKey"})),v(o,i,x({key:"yKey"})),v(o,n,_("x")),v(o,r,_("y")),o},t.annotationSvgLine=yn,t.autoBandwidth=function(t){var n=.75,r=function(t){if(t.length<=1)return 10;t=function(t){return t.sort(e.ascending).filter((function(t,e,n){return-1===n.indexOf(t,e+1)}))}(t);var r=e.pairs(t).map((function(t){return Math.abs(t[0]-t[1])})),a=e.min(r);return n*a},a=function(e,n,a){if(e.bandwidth)return e.bandwidth();var i,o=(Array.isArray(n)?(i=[]).concat.apply(i,L(n)):n).filter(t.defined()).map(a()).map(e);return r(o)},i=function(e){var n=function(e){if(t.xBandwidth&&t.yBandwidth)t.xBandwidth(a(t.xScale(),e,t.xValue)),t.yBandwidth(a(t.yScale(),e,t.yValue));else{var n=t.orient&&"horizontal"===t.orient()?t.yScale():t.xScale();t.bandwidth(a(n,e,t.crossValue))}};e instanceof u.selection?e.each((function(e,r,a){n(e),t(u.select(a[r]))})):(n(e),t(e))};return v(i,t),i.widthFraction=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i},t.axisBottom=Nn,t.axisLabelOffset=function(t){var e="auto",n=function(){},r=function(){return"left"===t.orient()||"right"===t.orient()},a=function(){return"top"===t.orient()||"left"===t.orient()?-1:1},i=function(n){var i=Pn(t)(n),o=i.maxHeight,u=i.maxWidth,l=i.labelCount,c=t.scale().range()[1],f="auto"===e?Math.floor((r()?o:u)*l/c)+1:e,s=n.select("text"),h=s.attr("transform");s.attr("transform",(function(t,e){return"".concat(h," ").concat(function(t){return r()?"translate(".concat(t%f*u*a(),", 0)"):"translate(0, ".concat(t%f*o*a(),")")}(e))}))},o=function(e){return t(e)};return t.decorate((function(t){i(t),n(t)})),o.decorate=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.labelOffsetDepth=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},v(o,t,y("decorate")),o},t.axisLabelRotate=function(t){var e="auto",n=function(){},r=function(){return"left"===t.orient()||"right"===t.orient()},a=function(){return"top"===t.orient()||"left"===t.orient()?-1:1},i=function(){switch(t.orient()){case"top":case"right":return"start";default:return"end"}},o=function(n){var o=function(n){var o,u=Pn(t)(n),l=u.maxHeight,c=u.maxWidth,f=u.labelCount*c;if("auto"===e){var s=t.scale().range()[1];o=s<f?90*Math.min(1,(f/s-.8)/2):0}else o=e;return{rotate:r()?Math.floor(a()*(90-o)):Math.floor(-o),maxHeight:l,maxWidth:c,anchor:o?i():"middle"}}(n),u=o.rotate,l=o.maxHeight,c=o.anchor,f=n.select("text"),s=f.attr("transform"),h=a()*Math.floor(l/2),d=r()?"translate(".concat(h,", 0)"):"translate(0, ".concat(h,")");f.style("text-anchor",c).attr("transform","".concat(s," ").concat(d," rotate(").concat(u," 0 0)"))},u=function(e){t(e)};return t.decorate((function(t){o(t),n(t)})),u.decorate=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],u):n},u.labelRotate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],u):e},v(u,t,y("decorate")),u},t.axisLeft=En,t.axisOrdinalBottom=function(t){return zn("bottom",t)},t.axisOrdinalLeft=function(t){return zn("left",t)},t.axisOrdinalRight=function(t){return zn("right",t)},t.axisOrdinalTop=function(t){return zn("top",t)},t.axisRight=Dn,t.axisTop=Cn,t.brush=function(){return pr("xy")},t.brushX=function(){return pr("x")},t.brushY=function(){return pr("y")},t.bucket=et,t.chartCanvasCartesian=dr,t.chartCartesian=lr,t.chartSvgCartesian=hr,t.dataJoin=st,t.discontinuityIdentity=X,t.discontinuityRange=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=function(t,e){return t>e[0]&&t<e[1]},a=function(t,e){return t[0]>=e[0]&&t[1]<=e[1]},i={distance:function(t,n){t=i.clampUp(t),n=i.clampDown(n);var r=e.filter((function(e){return a(e,[t,n])})).map((function(t){return t[1]-t[0]}));return n-t-r.reduce((function(t,e){return t+e}),0)}},o=function(t,e){return t instanceof Date?new Date(t.getTime()+e):t+e};return i.offset=function(t,n){if(n>0){var r=function(){for(var r=i.clampUp(t),a=n;a>0;){var u=e.filter((function(t){return t[0]>r})).sort((function(t,e){return t[0]-e[0]}));if(u.length){var l=u[0],c=l[0]-r;c>a?(r=o(r,a),a=0):(r=l[1],a-=c)}else r=o(r,a),a=0}return{v:r}}();if("object"===T(r))return r.v}else{var a=function(){for(var r=i.clampDown(t),a=n;a<0;){var u=e.filter((function(t){return t[1]<r})).sort((function(t,e){return e[0]-t[0]}));if(u.length){var l=u[0],c=l[1]-r;c<a?(r=o(r,a),a=0):(r=l[0],a-=c)}else r=o(r,a),a=0}return{v:r}}();if("object"===T(a))return a.v}},i.clampUp=function(t){return e.reduce((function(t,e){return r(t,e)?e[1]:t}),t)},i.clampDown=function(t){return e.reduce((function(t,e){return r(t,e)?e[0]:t}),t)},i.copy=function(){return i},i},t.discontinuitySkipUtcWeekends=function(){return Q((function(t){return t.getUTCDay()}),r.utcDay,r.utcSaturday,r.utcMonday)},t.discontinuitySkipWeekends=function(){return Q((function(t){return t.getDay()}),r.timeDay,r.timeSaturday,r.timeMonday)},t.effectivelyZero=ct,t.exclude=y,t.extentDate=K,t.extentLinear=Z,t.extentTime=K,t.feedGdax=function(){var t="BTC-USD",e=null,n=null,r=null,a=function(){var a=[];null!=e&&a.push("start="+e.toISOString()),null!=n&&a.push("end="+n.toISOString()),null!=r&&a.push("granularity="+r);var o="https://api.gdax.com/products/"+t+"/candles?"+a.join("&");return i.json(o).then((function(t){return t.map((function(t){return{date:new Date(1e3*t[0]),open:t[3],high:t[2],low:t[1],close:t[4],volume:t[5]}}))}))};return a.product=function(e){return arguments.length?(t=e,a):t},a.start=function(t){return arguments.length?(e=t,a):e},a.end=function(t){return arguments.length?(n=t,a):n},a.granularity=function(t){return arguments.length?(r=t,a):r},a},t.group=function(){var t="",e="vertical",n=function(t,e){return Number(t[e])},r=function(r){return"vertical"===e?function(e){return Object.keys(e[0]).filter((function(e){return e!==t})).map((function(r){var a=e.filter((function(t){return t[r]})).map((function(e){var a=[e[t],n(e,r)];return a.data=e,a}));return a.key=r,a}))}(r):function(e){return e.map((function(e){var r=Object.keys(e).filter((function(e){return e!==t})).map((function(t){var r=[t,n(e,t)];return r.data=e,r}));return r.key=e[t],r}))}(r)};return r.key=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},r.orient=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r},t.include=b,t.includeMap=x,t.indicatorBollingerBands=function(){var t=2,n=k().accumulator((function(n){var r=n&&e.deviation(n),a=n&&e.mean(n);return{average:a,upper:A(a+t*r),lower:A(a-t*r)}})),r=function(t){return n(t)};return r.multiplier=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},g(r,n,"period","value"),r},t.indicatorElderRay=function(){var t=function(t,e){return t.close},n=function(t,e){return t.high},r=function(t,e){return t.low},a=V().period(13),i=function(i){return a.value(t),e.zip(i,a(i)).map((function(t){return{bullPower:A(n(t[0])-t[1]),bearPower:A(r(t[0])-t[1])}}))};return i.closeValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.highValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.lowValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},g(i,a,"period"),i},t.indicatorEnvelope=function(){var t=.1,e=w,n=function(n){return n.map((function(n){return{lower:A(e(n)*(1-t)),upper:A(e(n)*(1+t))}}))};return n.factor=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n.value=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n},t.indicatorExponentialMovingAverage=V,t.indicatorForceIndex=function(){var t=function(t,e){return t.volume},e=function(t,e){return t.close},n=V().period(13),r=k().period(2).defined((function(n){return null!=e(n)&&null!=t(n)})).accumulator((function(n){return n&&A((e(n[1])-e(n[0]))*t(n[1]))})),a=function(t){var e=r(t);return n(e)};return a.volumeValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.closeValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},g(a,n,"period"),a},t.indicatorMacd=function(){var t=w,n=V().period(12),r=V().period(26),a=V().period(9),i=function(i){n.value(t),r.value(t);var o=e.zip(n(i),r(i)).map((function(t){return void 0!==t[0]&&void 0!==t[1]?t[0]-t[1]:void 0})),u=a(o);return e.zip(o,u).map((function(t){return{macd:t[0],signal:t[1],divergence:void 0!==t[0]&&void 0!==t[1]?t[0]-t[1]:void 0}}))};return i.value=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},v(i,n,x({period:"fastPeriod"})),v(i,r,x({period:"slowPeriod"})),v(i,a,x({period:"signalPeriod"})),i},t.indicatorMovingAverage=$,t.indicatorRelativeStrengthIndex=function(){var t=k().period(14),n=function(t){var e=F(t,2),n=e[0],r=e[1];return n<r?0:n-r},r=function(t){var e=F(t,2),n=e[0],r=e[1];return n>r?0:r-n},a=function(t,n){return void 0!==n?function(t,e){return e+(t[t.length-1]-e)/t.length}(t,n):e.mean(t)},i=function(i){var o=function(){var t,i,o;return function(u){if(u){if(void 0!==t){var l=e.pairs([t].concat(L(u)));return i=a(l.map(n),i),o=a(l.map(r),o),A(100-100/(1+(isNaN(t)?NaN:o/i)))}t=u[0]}else void 0!==t&&(t=NaN)}}();return t.accumulator(o),t(i)};return g(i,t,"period","value"),i},t.indicatorStochasticOscillator=function(){var t=function(t,e){return t.close},n=function(t,e){return t.high},r=function(t,e){return t.low},a=k().period(5).defined((function(e){return null!=t(e)&&null!=n(e)&&null!=r(e)})).accumulator((function(a){var i=a&&e.max(a,n),o=a&&e.min(a,r);return A(a&&100*(t(a[a.length-1])-o)/(i-o))})),i=$().period(3),o=function(t){var e=a(t),n=i(e);return e.map((function(t,e){return{k:t,d:n[e]}}))};return o.closeValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.highValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.lowValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},v(o,a,x({period:"kPeriod"})),v(o,i,x({period:"dPeriod"})),o},t.isTransition=ft,t.largestTriangleOneBucket=function(){var t=et(),n=function(t){return t},r=function(t){return t},a=function(a){if(t.bucketSize()>=a.length)return a;var i=function(t){var a=t.map((function(t){return[n(t),r(t)]})),i=e.range(1,a.length-1).map((function(t){var e=a[t-1],n=a[t],r=a[t+1];return.5*Math.abs((e[0]-r[0])*(n[1]-e[1])-(e[0]-n[0])*(r[1]-e[1]))}));return i}(a),o=t(i),u=t(a.slice(1,a.length-1)).map((function(t,n){var r=o[n],a=e.max(r);return t[r.indexOf(a)]}));return[].concat([a[0]],u,[a[a.length-1]])};return g(a,t,"bucketSize"),a.x=function(t){return arguments.length?(n=t,a):n},a.y=function(t){return arguments.length?(r=t,a):r},a},t.largestTriangleThreeBucket=function(){var t=function(t){return t},n=function(t){return t},r=et(),a=function(a){if(r.bucketSize()>=a.length)return a;var i=r(a.slice(1,a.length-1)),o=a[0],u=a[a.length-1],l=[].concat([o],i,[u]),c=t(o),f=n(o),s=i.map((function(r,a){var i=e.mean(l[a+1],t),o=e.mean(l[a+1],n),u=r.map((function(e){return[t(e),n(e)]})),s=u.map((function(t){return.5*Math.abs((c-i)*(t[1]-f)-(c-t[0])*(o-f))})),h=s.indexOf(e.max(s)),d=u[h];return c=d[0],f=d[1],r[h]}));return[].concat([a[0]],s,[a[a.length-1]])};return g(a,r,"bucketSize"),a.x=function(e){return arguments.length?(t=e,a):t},a.y=function(t){return arguments.length?(n=t,a):n},a},t.layoutAnnealing=function(){var t,e=1e3,n=1,r=function(e,n,r){return dt(r,n)+function(e){return t?e.width*e.height-ht(e,t):0}(e)+function(t){switch(t.location){case"bottom-right":return 0;case"middle-right":case"bottom-center":return t.width*t.height/8}return t.width*t.height/4}(e)},a=function(t){for(var a=e,i=yt().locationScore(r).winningScore((function(t,e){return Math.exp((e-t)/a)>Math.random()})).rectangles(t);a>0;){var o=xt(t);i=i(bt(pt(t[o])),o),a-=n}return i.rectangles()};return a.temperature=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.cooling=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.bounds=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a},t.layoutBoundingBox=function(){var t=[0,0],e=function(e){return e.map((function(e,n){var r=e.x,a=e.y;return r+e.width>t[0]&&(r-=e.width),a+e.height>t[1]&&(a-=e.height),{height:e.height,width:e.width,x:r,y:a}}))};return e.bounds=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],e):t},e},t.layoutGreedy=function(){var t,e=function(e,n,r){return dt(r,n)+function(e){return t?e.width*e.height-ht(e,t):0}(e)},n=function(t){var n=yt().locationScore(e).rectangles(t);return t.forEach((function(t,e){pt(t).forEach((function(t,r){n=n(t,e)}))})),n.rectangles()};return n.bounds=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n},t.layoutLabel=function(t){var e=function(){},r=function(){return[0,0]},a=function(t,e){return[t.x,t.y]},i=t||function(t){return t},o=function(){},l=n.scaleIdentity(),c=n.scaleIdentity(),f=st("g","label"),s=function(t){t.each((function(t,n,s){var h=f(u.select(s[n]),t).call(o),d=h.nodes(),g=d.map((function(t,e){var n=u.select(t).datum(),i=a(n,e,d),o=[l(i[0]),c(i[1])],f=r(n,e,d);return{hidden:!1,x:o[0],y:o[1],width:f[0],height:f[1]}})),p=i(g);h.attr("style",(function(t,e){return"display:"+(p[e].hidden?"none":"inherit")})).attr("transform",(function(t,e){return"translate("+p[e].x+", "+p[e].y+")"})).attr("layout-width",(function(t,e){return p[e].width})).attr("layout-height",(function(t,e){return p[e].height})).attr("anchor-x",(function(t,e,n){return g[e].x-p[e].x})).attr("anchor-y",(function(t,e,n){return g[e].y-p[e].y})),h.call(o),e(h,t,n)}))};return v(s,f,b("key")),v(s,i),s.size=function(){return arguments.length?(r=lt(arguments.length<=0?void 0:arguments[0]),s):r},s.position=function(){return arguments.length?(a=lt(arguments.length<=0?void 0:arguments[0]),s):a},s.component=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],s):o},s.decorate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s.xScale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],s):l},s.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],s):c},s},t.layoutRemoveOverlaps=function(t){var n=function(n){n=t(n);for(var r=function(){var t=n.filter((function(t){return!t.hidden})),r=function(t,n){return t[e.scan(t,n)]}(t.map((function(e,n){return[e,dt(t,n)]})),(function(t,e){return e[1]-t[1]}));if(!(r[1]>0))return"break";r[0].hidden=!0};"break"!==r(););return n};return v(n,t=t||function(t){return t}),n},t.layoutTextLabel=function(t){var e=2,n=function(t){return t},r=st("text"),a=st("rect"),i=st("circle"),o=function(t){t.each((function(t,o,l){var c=l[o],f=u.select(c),s=Number(c.getAttribute("layout-width")),h=Number(c.getAttribute("layout-height"));a(f,[t]).attr("width",s).attr("height",h);var d=Number(c.getAttribute("anchor-x")),g=Number(c.getAttribute("anchor-y"));i(f,[t]).attr("r",2).attr("cx",d).attr("cy",g);var p=r(f,[t]);p.enter().attr("dy","0.9em").attr("transform","translate(".concat(e,", ").concat(e,")")),p.text(n)}))};return o.padding=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.value=function(){return arguments.length?(n=lt(arguments.length<=0?void 0:arguments[0]),o):n},o},t.modeMedian=function(){var t=et(),n=function(t){return t},r=function(r){if(t.bucketSize()>r.length)return r;var a=e.extent(r,n),i=t(r.slice(1,r.length-1)).map((function(t,e){var r,i,o={},u=!0,l=t.map(n),c=l.filter((function(t){return t===a[0]||t===a[1]})).map((function(t){return l.indexOf(t)}))[0];return void 0!==c?t[c]:(l.forEach((function(t,e){void 0===o[t]&&(o[t]=0),o[t]++,o[t]>o[r]||void 0===r?(r=t,i=e,u=!0):o[t]===o[r]&&(u=!1)})),u?t[i]:t[Math.floor(t.length/2)])}));return[].concat([r[0]],i,[r[r.length-1]])};return g(r,t,"bucketSize"),r.value=function(t){return arguments.length?(n=t,r):n},r},t.pointer=function(){var t=f.dispatch("point");function e(e){var n=u.pointer(e);t.call("point",this,[{x:n[0],y:n[1]}])}function n(){t.call("point",this,[])}var r=function(t){t.on("mouseenter.pointer",e).on("mousemove.pointer",e).on("mouseleave.pointer",n)};return g(r,t,"on"),r},t.prefix=_,t.randomFinancial=function(){var t=new Date,e=100,n=r.timeDay,i=1,o=r.timeYear,u=1,l=null,c=function(){var t=a.randomNormal(1,.1);return Math.ceil(1e3*t())},f=J(),s=function(t,e){var r=function(t){var e=o.offset(t,u)-t;return(n.offset(t,i)-t)/e}(t),a=f.period(r)(e),l={date:t,open:a[0],high:Math.max.apply(Math,a),low:Math.min.apply(Math,a),close:a[f.steps()]};return l.volume=c(l),l},h=function(r){var a,o,u;do{a=r?n.offset(r.date,i):new Date(t.getTime()),o=r?r.close:e,r=s(a,o),u=l&&!l(r)}while(u);return r},d=function(){var t,e={next:function(){var e=h(t);return t=e,e},take:function(t){return e.until((function(e,n){return!t||t<0||n===t}))},until:function(e){for(var n=[],r=0,a=h(t),i=e&&!e(a,r);i;)n.push(a),a=h(t=a),r+=1,i=e&&!e(a,r);return n}};return e},g=function(t){return d().take(t)};if(g.stream=d,"function"!=typeof Symbol||"symbol"!==T(Symbol.iterator))throw new Error("d3fc-random-data depends on Symbol. Make sure that you load a polyfill in older browsers. See README.");return g[Symbol.iterator]=function(){var t=d();return{next:function(){return{value:t.next(),done:!1}}}},g.startDate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],g):t},g.startPrice=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],g):e},g.interval=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],g):n},g.intervalStep=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],g):i},g.unitInterval=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],g):o},g.unitIntervalStep=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.filter=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.volume=function(){return arguments.length?(c=tt(arguments.length<=0?void 0:arguments[0]),g):c},v(g,f),g},t.randomGeometricBrownianMotion=J,t.randomSkipWeekends=function(t){var e=t.date.getDay();return!(0===e||6===e)},t.rebind=g,t.rebindAll=v,t.scaleDiscontinuous=function t(e){var r=this;arguments.length||(e=n.scaleIdentity());var a=X(),i=function(t){var n=e.domain(),r=e.range(),i=a.distance(n[0],n[1]);return a.distance(n[0],t)/i*(r[1]-r[0])+r[0]};return i.invert=function(t){var n=e.domain(),r=e.range(),i=(t-r[0])/(r[1]-r[0])*a.distance(n[0],n[1]);return a.offset(n[0],i)},i.domain=function(){if(!arguments.length)return e.domain();var t=arguments.length<=0?void 0:arguments[0],n=a.clampUp(t[0]),r=a.clampDown(t[1]);return e.domain([n,r]),i},i.nice=function(){e.nice();var t=e.domain(),n=a.clampUp(t[0]),r=a.clampDown(t[1]);return e.domain([n,r]),i},i.ticks=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=e.ticks.apply(r,n);return G(o,a)},i.copy=function(){return t(e.copy()).discontinuityProvider(a.copy())},i.discontinuityProvider=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],i):a},v(i,e,b("range","rangeRound","interpolate","clamp","tickFormat")),i},t.seriesCanvasArea=function(){var t=At(),e=l.area(),n=function(n){var r=e.context();e.defined(t.defined());var a=n.map(t.values);e.x((function(t,e){return a[e].transposedX})).y((function(t,e){return a[e].transposedY}));var i="vertical"===t.orient()?"y":"x";e[i+"0"]((function(t,e){return a[e].y0})),e[i+"1"]((function(t,e){return a[e].y})),r.beginPath(),r.fillStyle=Ct,r.strokeStyle="transparent",t.decorate()(r,n),e(n),r.fill(),r.stroke(),r.closePath()};return v(n,t,y("bandwidth","align")),g(n,e,"curve","context"),n},t.seriesCanvasBar=function(){var t=At(),e=at().x(0).y(0),n=function(n){var r=e.context(),a=n.filter(t.defined()).map(t.values);"vertical"===t.orient()?(e.verticalAlign("top"),e.horizontalAlign("center")):(e.horizontalAlign("right"),e.verticalAlign("center")),a.forEach((function(n,a){r.save(),r.beginPath(),r.translate(n.origin[0],n.origin[1]),r.fillStyle=Nt,r.strokeStyle="transparent",t.decorate()(r,n.d,a),function(e){return"vertical"===t.orient()?e.height:e.width}(e)(-n.height),function(e){return"vertical"===t.orient()?e.width:e.height}(e)(n.width),e([n]),r.fill(),r.stroke(),r.closePath(),r.restore()}))};return v(n,t),g(n,e,"context"),n},t.seriesCanvasBoxPlot=function(){var t=fn(),e=ot().value(0),n=function(n){var r=n.filter(t.defined()),a=e.context();e.orient(t.orient()),r.forEach((function(n,r){a.save();var i=t.values(n,r);a.translate(i.origin[0],i.origin[1]),a.beginPath(),a.fillStyle=Ct,a.strokeStyle=Tt,t.decorate()(a,n,r),e.median(i.median).upperQuartile(i.upperQuartile).lowerQuartile(i.lowerQuartile).high(i.high).width(i.width).low(i.low)([n]),a.fill(),a.stroke(),a.closePath(),a.restore()}))};return v(n,t),g(n,e,"cap","context"),n},t.seriesCanvasCandlestick=function(){return ln(it())},t.seriesCanvasErrorBar=function(){var t=an(),e=ut().value(0),n=function(n){var r=n.filter(t.defined()),a=e.context();e.orient(t.orient()),r.forEach((function(n,r){a.save();var i=t.values(n,r);a.translate(i.origin[0],i.origin[1]),a.beginPath(),a.strokeStyle=Tt,a.fillStyle=Ct,t.decorate()(a,n,r),e.high(i.high).width(i.width).low(i.low)([n]),a.fill(),a.stroke(),a.closePath(),a.restore()}))};return v(n,t),g(n,e,"context"),n},t.seriesCanvasGrouped=function(t){var e=pn(),n=function(n){n.forEach((function(r,a){var i="horizontal"!==t.orient(),o=function(t,r){var o=e.offsetScaleForDatum(n,t,r);return(i?e.xScale():e.yScale())(t)+o(a)+o.bandwidth()/2};i?(t.xScale(o),t.yScale(e.yScale())):(t.yScale(o),t.xScale(e.xScale())),t.bandwidth&&t.bandwidth((function(t,r){return e.offsetScaleForDatum(n,t,r).bandwidth()})),t.decorate((function(t,n){return e.decorate()(t,n,a)})),t(r)}))};return v(n,t,y("decorate","xScale","yScale")),v(n,e,y("offsetScaleForDatum")),n},t.seriesCanvasHeatmap=function(){var t=vn(),e=function(e){var n=e.filter(t.defined()),r=t.colorInterpolate(),a=t.colorScale(n),i=t.pathGenerator.context();n.forEach((function(e,n){i.save(),i.beginPath();var o=t.values(e,n);i.translate(o.x,o.y),i.fillStyle=r(a(o.colorValue)),i.strokeStyle="transparent",t.decorate()(i,e,n),t.pathGenerator.height(o.height).width(o.width)([e]),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return g(e,t.pathGenerator,"context"),v(e,t),e},t.seriesCanvasLine=Dt,t.seriesCanvasMulti=dn,t.seriesCanvasOhlc=function(){return ln(rt())},t.seriesCanvasPoint=rn,t.seriesCanvasRepeat=function(){var t="vertical",e=Dt(),n=dn(),r=function(r){"vertical"===t?n.series(r[0].map((function(t){return e}))).mapping((function(t,e){return t.map((function(t){return t[e]}))})):n.series(r.map((function(t){return e}))).mapping((function(t,e){return t[e]})),n(r)};return r.series=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},v(r,n,y("series","mapping")),r},t.seriesSvgArea=function(){var t=At(),e=l.area(),n=st("path","area"),r=function(r){ft(r)&&n.transition(r),e.defined(t.defined()),r.each((function(r,a,i){var o=r.map(t.values);e.x((function(t,e){return o[e].transposedX})).y((function(t,e){return o[e].transposedY}));var l="vertical"===t.orient()?"y":"x";e[l+"0"]((function(t,e){return o[e].y0})),e[l+"1"]((function(t,e){return o[e].y}));var c=n(u.select(i[a]),[r]);c.enter().attr("fill",Ct),c.attr("d",e),t.decorate()(c,r,a)}))};return v(r,t,y("bandwidth","align")),g(r,n,"key"),g(r,e,"curve"),r},t.seriesSvgBar=function(){var t=at().x(0).y(0),e=At(),n=st("g","bar"),r=function(t){return"vertical"===e.orient()?t.width:t.height},a=function(t){return"translate("+t[0]+", "+t[1]+")"},i=function(i){ft(i)&&n.transition(i),i.each((function(i,o,l){var c=e.orient();if("vertical"!==c&&"horizontal"!==c)throw new Error("The bar series does not support an orientation of "+c);var f=i.filter(e.defined()),s=f.map(e.values);t.width(0).height(0),"vertical"===e.orient()?(t.verticalAlign("top"),t.horizontalAlign("center")):(t.horizontalAlign("right"),t.verticalAlign("center"));var h=n(u.select(l[o]),f);h.enter().attr("transform",(function(t,e){return a(s[e].baseOrigin)})).attr("class","bar "+e.orient()).attr("fill",Nt).append("path").attr("d",(function(e,n){return r(t)(s[n].width),t([e])})),h.attr("transform",(function(t,e){return a(s[e].origin)})).select("path").attr("d",(function(n,a){return r(t)(s[a].width),function(t){return"vertical"===e.orient()?t.height:t.width}(t)(-s[a].height),t([n])})),e.decorate()(h,f,o)}))};return v(i,e),g(i,n,"key"),i},t.seriesSvgBoxPlot=function(){var t=fn(),e=st("g","box-plot"),n=ot().value(0),r=function(t){return"translate("+t.origin[0]+", "+t.origin[1]+")"},a=function(a){ft(a)&&e.transition(a);var i=function(t){return function(e){return ft(t)?e.transition(t):e}}(a);a.each((function(a,o,l){var c=a.filter(t.defined()),f=e(u.select(l[o]),c);f.enter().attr("stroke",Tt).attr("fill",Ct).attr("transform",(function(e,n){return r(t.values(e,n))+" scale(1e-6, 1)"})).append("path"),n.orient(t.orient()),f.each((function(e,a,o){var l=t.values(e,a);n.median(l.median).upperQuartile(l.upperQuartile).lowerQuartile(l.lowerQuartile).width(l.width).high(l.high).low(l.low),i(u.select(o[a])).attr("transform",r(l)).select("path").attr("d",n([e]))})),t.decorate()(f,a,o)}))};return v(a,t),g(a,e,"key"),g(a,n,"cap"),a},t.seriesSvgCandlestick=function(){return un(it(),"candlestick")},t.seriesSvgErrorBar=function(){var t=an(),e=st("g","error-bar"),n=ut().value(0),r=function(t){return"translate("+t.origin[0]+", "+t.origin[1]+")"},a=function(a){ft(a)&&e.transition(a);var i=function(t){return function(e){return ft(t)?e.transition(t):e}}(a);a.each((function(a,o,l){var c=a.filter(t.defined()),f=c.map(t.values),s=e(u.select(l[o]),c);s.enter().attr("stroke",Tt).attr("fill",Ct).attr("transform",(function(e,n){return r(t.values(e,n))+" scale(1e-6, 1)"})).append("path"),n.orient(t.orient()),s.each((function(t,e,a){var o=f[e];n.high(o.high).low(o.low).width(o.width),i(u.select(a[e])).attr("transform",r(o)+" scale(1)").select("path").attr("d",n([t]))})),t.decorate()(s,a,o)}))};return v(a,t),g(a,e,"key"),a},t.seriesSvgGrouped=function(t){var e=pn(),n=st("g","grouped"),r=function(r){ft(r)&&n.transition(r),r.each((function(r,a,i){var o=n(u.select(i[a]),r);o.enter().append("g"),o.select("g").each((function(n,a,i){var o=u.select(i[a]),l="horizontal"!==t.orient(),c=function(t,n){var i=e.offsetScaleForDatum(r,t,n);return(l?e.xScale():e.yScale())(t)+i(a)+i.bandwidth()/2};l?(t.xScale(c),t.yScale(e.yScale())):(t.yScale(c),t.xScale(e.xScale())),t.bandwidth&&t.bandwidth((function(t,n){return e.offsetScaleForDatum(r,t,n).bandwidth()})),t.decorate((function(t,n){return e.decorate()(t,n,a)})),o.call(t)}))}))};return v(r,t,y("decorate","xScale","yScale")),v(r,e,y("offsetScaleForDatum")),r},t.seriesSvgHeatmap=function(){var t=vn(),e=st("g","box"),n=function(n){n.each((function(n,r,a){var i=n.filter(t.defined()),o=t.colorValue(),l=t.colorInterpolate(),c=t.colorScale(i),f=e(u.select(a[r]),i);f.enter().append("path").attr("stroke","transparent"),f.attr("transform",(function(e,n){return function(t){return"translate("+t.x+", "+t.y+")"}(t.values(e,n))})).select("path").attr("d",(function(e,n){return t.pathGenerator.width(t.values(e,n).width).height(t.values(e,n).height)([e])})).attr("fill",(function(t,e){return l(c(o(t,e)))})),t.decorate()(f,n,r)}))};return v(n,t),n},t.seriesSvgLine=Et,t.seriesSvgMulti=hn,t.seriesSvgOhlc=function(){return un(rt(),"ohlc")},t.seriesSvgPoint=nn,t.seriesSvgRepeat=function(){var t="vertical",e=Et(),n=hn(),r=function(r){return r.each((function(r,a,i){"vertical"===t?n.series(r[0].map((function(t){return e}))).mapping((function(t,e){return t.map((function(t){return t[e]}))})):n.series(r.map((function(t){return e}))).mapping((function(t,e){return t[e]})),u.select(i[a]).call(n)}))};return r.series=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},v(r,n,y("series","mapping")),r},t.seriesWebglArea=function(){var t=At(),e=Le(0,1),n=e.offset(1),r=Le(0,1),a=r.offset(1),i=Le(0,1),o=i.offset(1),u=Le(0,1).type(Se.UNSIGNED_BYTE),l=u.offset(1),c=Ne().crossValueAttribute(e).crossNextValueAttribute(n).mainValueAttribute(r).mainNextValueAttribute(a).baseValueAttribute(i).baseNextValueAttribute(o).definedAttribute(u).definedNextAttribute(l),f=function(t,e){return!1},s=Ke,h=[],d=null,p=null,m=function(n){if("vertical"!==t.orient())throw new Error("Unsupported orientation ".concat(t.orient()));var a=s(t.xScale()),o=s(t.yScale()),l=!f(h,n);l&&(h=n,u.value((function(e,n){return t.defined()(e,n)})).data(n)),(l||a.scale!==d)&&(d=a.scale,e.value((function(e,n){return a.scale(t.crossValue()(e,n))})).data(n)),(l||o.scale!==p)&&(p=o.scale,i.value((function(e,n){return o.scale(t.baseValue()(e,n))})).data(n),r.value((function(e,n){return o.scale(t.mainValue()(e,n))})).data(n)),c.xScale(a.webglScale).yScale(o.webglScale).decorate((function(e){return t.decorate()(e,n,0)})),c(n.length)};return m.equals=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],m):f},m.scaleMapper=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},v(m,t,y("bandwidth","align")),g(m,c,"context","pixelRatio"),m},t.seriesWebglBar=function(){var t=At(),e=Te(),n=Te(),r=Te(),a=Te().type(Se.UNSIGNED_SHORT),i=Te().type(Se.UNSIGNED_BYTE),o=Oe().crossValueAttribute(e).mainValueAttribute(n).baseValueAttribute(r).bandwidthAttribute(a).definedAttribute(i),u=function(t,e){return!1},l=Ke,c=[],f=null,s=null,h=function(h){if("vertical"!==t.orient())throw new Error("Unsupported orientation ".concat(t.orient()));var d=l(t.xScale()),g=l(t.yScale()),p=!u(c,h);p&&(c=h,a.value((function(e,n){return t.bandwidth()(e,n)})).data(h),i.value((function(e,n){return t.defined()(e,n)})).data(h)),(p||d.scale!==f)&&(f=d.scale,e.value((function(e,n){return d.scale(t.crossValue()(e,n))})).data(h)),(p||g.scale!==s)&&(s=g.scale,r.value((function(e,n){return g.scale(t.baseValue()(e,n))})).data(h),n.value((function(e,n){return g.scale(t.mainValue()(e,n))})).data(h)),o.xScale(d.webglScale).yScale(g.webglScale).decorate((function(e){return t.decorate()(e,h,0)})),o(h.length)};return h.equals=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],h):u},h.scaleMapper=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],h):l},v(h,t,y("align")),g(h,o,"context","pixelRatio"),h},t.seriesWebglBoxPlot=function(){var t=fn(),e=Te(),n=Te(),r=Te(),a=Te(),i=Te(),o=Te(),u=Te().type(Se.UNSIGNED_SHORT),l=Te().type(Se.UNSIGNED_SHORT),c=Te().type(Se.UNSIGNED_BYTE),f=Fe().crossValueAttribute(e).highValueAttribute(n).upperQuartileValueAttribute(r).medianValueAttribute(a).lowerQuartileValueAttribute(i).lowValueAttribute(o).bandwidthAttribute(u).capAttribute(l).definedAttribute(c),s=function(t,e){return!1},h=Ke,d=[],p=null,m=null,b=_t(20),x=function(g){if("vertical"!==t.orient())throw new Error("Unsupported orientation ".concat(t.orient()));var v=h(t.xScale()),y=h(t.yScale()),x=!s(d,g);x&&(d=g,u.value((function(e,n){return t.bandwidth()(e,n)})).data(g),l.value((function(t,e){return b(t,e)})).data(g),c.value((function(e,n){return t.defined()(e,n)})).data(g)),(x||v.scale!==p)&&(p=v.scale,e.value((function(e,n){return v.scale(t.crossValue()(e,n))})).data(g)),(x||y.scale!==m)&&(m=y.scale,n.value((function(e,n){return y.scale(t.highValue()(e,n))})).data(g),r.value((function(e,n){return y.scale(t.upperQuartileValue()(e,n))})).data(g),a.value((function(e,n){return y.scale(t.medianValue()(e,n))})).data(g),i.value((function(e,n){return y.scale(t.lowerQuartileValue()(e,n))})).data(g),o.value((function(e,n){return y.scale(t.lowValue()(e,n))})).data(g)),f.xScale(v.webglScale).yScale(y.webglScale).decorate((function(e){return t.decorate()(e,g,0)})),f(g.length)};return x.cap=function(){return arguments.length?(b=_t(arguments.length<=0?void 0:arguments[0]),x):b},x.equals=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],x):s},x.scaleMapper=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],x):h},v(x,t,y("align")),g(x,f,"context","lineWidth","pixelRatio"),x},t.seriesWebglCandlestick=function(){return cn(Ye())},t.seriesWebglErrorBar=function(){var t=an(),e=Te(),n=Te(),r=Te(),a=Te().type(Se.UNSIGNED_SHORT),i=Te().type(Se.UNSIGNED_BYTE),o=Ie().crossValueAttribute(e).highValueAttribute(n).lowValueAttribute(r).bandwidthAttribute(a).definedAttribute(i),u=function(t,e){return!1},l=Ke,c=[],f=null,s=null,h=function(h){if("vertical"!==t.orient())throw new Error("Unsupported orientation ".concat(t.orient()));var d=l(t.xScale()),g=l(t.yScale()),p=!u(c,h);p&&(c=h,a.value((function(e,n){return t.bandwidth()(e,n)})).data(h),i.value((function(e,n){return t.defined()(e,n)})).data(h)),(p||d.scale!==f)&&(f=d.scale,e.value((function(e,n){return d.scale(t.crossValue()(e,n))})).data(h)),(p||g.scale!==s)&&(s=g.scale,n.value((function(e,n){return g.scale(t.highValue()(e,n))})).data(h),r.value((function(e,n){return g.scale(t.lowValue()(e,n))})).data(h)),o.xScale(d.webglScale).yScale(g.webglScale).decorate((function(e){return t.decorate()(e,h,0)})),o(h.length)};return h.equals=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],h):u},h.scaleMapper=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],h):l},v(h,t,y("align")),g(h,o,"context","lineWidth","pixelRatio"),h},t.seriesWebglLine=en,t.seriesWebglMulti=gn,t.seriesWebglOhlc=function(){return cn(Re())},t.seriesWebglPoint=function(){var t=At(),e=_t(64),n=l.symbolCircle,r=Te(),a=Te(),i=Te().type(Se.UNSIGNED_SHORT),o=Te().type(Se.UNSIGNED_BYTE),u=De().crossValueAttribute(r).mainValueAttribute(a).sizeAttribute(i).definedAttribute(o),c=function(t,e){return!1},f=Ke,s=[],h=null,d=null,p=function(l){var g=f(t.xScale()),p=f(t.yScale()),v=!c(s,l);v&&(s=l,i.value((function(t,n){return e(t,n)})).data(l),o.value((function(e,n){return t.defined()(e,n)})).data(l)),(v||g.scale!==h)&&(h=g.scale,"vertical"===t.orient()?r.value((function(e,n){return g.scale(t.crossValue()(e,n))})).data(l):r.value((function(e,n){return g.scale(t.mainValue()(e,n))})).data(l)),(v||p.scale!==d)&&(d=p.scale,"vertical"===t.orient()?a.value((function(e,n){return p.scale(t.mainValue()(e,n))})).data(l):a.value((function(e,n){return p.scale(t.crossValue()(e,n))})).data(l)),u.xScale(g.webglScale).yScale(p.webglScale).type(Je(n)).decorate((function(e){return t.decorate()(e,l,0)})),u(l.length)};return p.size=function(){return arguments.length?(e=_t(arguments.length<=0?void 0:arguments[0]),p):e},p.type=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],p):n},p.equals=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.scaleMapper=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],p):f},v(p,t,y("baseValue","bandwidth","align")),g(p,u,"context","pixelRatio"),p},t.seriesWebglRepeat=function(){var t="vertical",e=function(){return en()},n=gn(),r=[],a=function(a){if("vertical"===t){var i=r;r=a[0].map((function(t,n){return n<i.length?i[n]:e()})),n.series(r).mapping((function(t,e){return t.map((function(t){return t[e]}))}))}else{var o=r;r=a.map((function(t,n){return n<o.length?o[n]:e()})),n.series(r).mapping((function(t,e){return t[e]}))}n(a)};return a.series=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.length?(e="function"==typeof n[0].xScale&&"function"==typeof n[0].yScale?function(){return n[0]}:n[0],r=[],a):e},a.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r=[],a):t},v(a,n,y("series","mapping")),a},t.shapeBar=at,t.shapeBoxPlot=ot,t.shapeCandlestick=it,t.shapeErrorBar=ut,t.shapeOhlc=rt,t.webglAdjacentAttribute=Le,t.webglAttribute=Te,t.webglBaseAttribute=ke,t.webglBufferBuilder=Pt,t.webglElementIndices=Pe,t.webglFillColor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,1],e=Te().size(4),n=t,r=!0,a=function(t){if(t.vertexShader().appendHeaderIfNotExists(Ut.header).appendBodyIfNotExists(Ut.body),t.fragmentShader().appendHeaderIfNotExists(ye).appendBodyIfNotExists(be),Array.isArray(n))t.buffers().attribute("aFillColor",tn(n).size(4));else{if("function"!=typeof n)throw new Error("Expected value to be an array or function, received ".concat(n));if(!r)return;e.value(n),t.buffers().attribute("aFillColor",e)}r=!1};return a.value=function(){return arguments.length?(n!==(arguments.length<=0?void 0:arguments[0])&&(n=arguments.length<=0?void 0:arguments[0],r=!0),a):n},g(a,e,"data"),a},t.webglProgramBuilder=It,t.webglScaleLinear=Ue,t.webglScaleLog=He,t.webglScaleMapper=Ke,t.webglScalePow=je,t.webglSeriesArea=Ne,t.webglSeriesBar=Oe,t.webglSeriesBoxPlot=Fe,t.webglSeriesCandlestick=Ye,t.webglSeriesErrorBar=Ie,t.webglSeriesLine=Be,t.webglSeriesOhlc=Re,t.webglSeriesPoint=De,t.webglShaderBuilder=Yt,t.webglStrokeColor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,1],e=Te().size(4),n=t,r=!0,a=function(t){if(t.vertexShader().appendHeaderIfNotExists(Ht.header).appendBodyIfNotExists(Ht.body),t.fragmentShader().appendHeaderIfNotExists(xe).appendBodyIfNotExists(_e),Array.isArray(n))t.buffers().attribute("aStrokeColor",tn(n).size(4));else{if("function"!=typeof n)throw new Error("Expected value to be an array or function, received ".concat(n));if(!r)return;e.value(n),t.buffers().attribute("aStrokeColor",e)}r=!1};return a.value=function(){return arguments.length?(n!==(arguments.length<=0?void 0:arguments[0])&&(n=arguments.length<=0?void 0:arguments[0],r=!0),a):n},g(a,e,"data"),a},t.webglSymbolMapper=Je,t.webglTypes=Se,t.webglUniform=Bt,t.zoom=function(){var t=f.dispatch("zoom"),e=h.zoom().on("zoom",(function(n){var r=n.transform,a=this,i=r,o=a[mr],l=o.originalXScale,c=o.previousXScale,f=o.xScale,s=o.originalYScale,d=o.previousYScale,g=o.yScale,p=o.previousTransform;(!vr(c,f)||!vr(d,g))&&(l=null==f?void 0:f.copy(),s=null==g?void 0:g.copy(),i=function(t,e){return h.zoomIdentity.scale(t.k/e.k).translate(t.x-e.x,t.y-e.y)}(r,p)),null!=f&&(c=i.rescaleX(l.range(f.range())),f.domain(c.domain())),null!=g&&(d=i.rescaleY(s.range(g.range())),g.domain(d.domain())),p=i,a[mr]={originalXScale:l,previousXScale:c,xScale:f,originalYScale:s,previousYScale:d,yScale:g,previousTransform:p},i!==r&&e.transform(u.select(a),i),t.call("zoom")})),n=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==n&&null==r&&console.warn("Without an xScale and/or yScale specified, this component won't do anything. Perhaps you forgot to specify them e.g. selection.call(zoom, x, y)?"),t.each((function(t,e,a){var i=a[e][mr];null!=i&&i.xScale===n&&i.yScale===r&&console.warn("This component should only be called on a selection once. Perhaps you're missing an .enter()?");var o=null==n?void 0:n.copy(),u=null==r?void 0:r.copy();a[e][mr]={originalXScale:o,previousXScale:o,xScale:n,originalYScale:u,previousYScale:u,yScale:r,previousTransform:h.zoomIdentity}})).call(e)};return g(n,t,"on"),g(n,e,"extent","filter","wheelDelta","touchable","clickDistance","tapDistance","duration","interpolate"),n},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof t&&void 0!==e?r(t,(sn(),fn),bn(),(Ca(),fa),(ti(),Ja),(ji(),Hi),(no(),Ji),(oc(),ic),(Th(),Vh),(Wv(),jv),(em(),tm),(xx(),yx),(Fx(),Yx)):"function"==typeof define&&define.amd?define(["exports","d3-array","d3-scale","d3-time","d3-random","d3-fetch","d3-path","d3-selection","d3-shape","d3-scale-chromatic","d3-dispatch","d3-brush","d3-zoom"],r):r((n="undefined"!=typeof globalThis?globalThis:n||self).fc={},n.d3,n.d3,n.d3,n.d3,n.d3,n.d3,n.d3,n.d3,n.d3,n.d3,n.d3,n.d3)})),Ux=c(((t,e)=>{e.exports.default={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short",timeStyle:"medium"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short"},null_value:-1}}}})),Hx=c(((t,e)=>{var n=Ux().default;function r(t){return t&&"object"==typeof t&&!Array.isArray(t)}function a(t,...e){if(!e.length)return t;let n=e.shift();if(r(t)&&r(n))for(let e in n)r(n[e])?(t[e]||Object.assign(t,{[e]:{}}),a(t[e],n[e])):Object.assign(t,{[e]:n[e]});return a(t,...e)}e.exports.get_types=function(){return Object.keys(e.exports.get_config().types)},e.exports.get_type_config=function(t){let n={};if(e.exports.get_config().types[t]&&Object.assign(n,e.exports.get_config().types[t]),n.type){let t=e.exports.get_type_config(n.type);return Object.assign(t,n),t}return n},globalThis.__PERSPECTIVE_CONFIG__=void 0,e.exports.override_config=function(t){globalThis.__PERSPECTIVE_CONFIG__&&console.warn("Config already initialized!"),globalThis.__PERSPECTIVE_CONFIG__=a(n,t)},e.exports.get_config=function(){return globalThis.__PERSPECTIVE_CONFIG__||(globalThis.__PERSPECTIVE_CONFIG__=a(n,globalThis.__TEMPLATE_CONFIG__||{})),globalThis.__PERSPECTIVE_CONFIG__}})),jx=c((t=>{var e,n;(n=n||{}).stringify=(e={"visit_linear-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-linear-gradient":function(t){return e.visit_gradient(t)},"visit_radial-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-radial-gradient":function(t){return e.visit_gradient(t)},visit_gradient:function(t){var n=e.visit(t.orientation);return n&&(n+=", "),t.type+"("+n+e.visit(t.colorStops)+")"},visit_shape:function(t){var n=t.value,r=e.visit(t.at),a=e.visit(t.style);return a&&(n+=" "+a),r&&(n+=" at "+r),n},"visit_default-radial":function(t){var n="",r=e.visit(t.at);return r&&(n+=r),n},"visit_extent-keyword":function(t){var n=t.value,r=e.visit(t.at);return r&&(n+=" at "+r),n},"visit_position-keyword":function(t){return t.value},visit_position:function(t){return e.visit(t.value.x)+" "+e.visit(t.value.y)},"visit_%":function(t){return t.value+"%"},visit_em:function(t){return t.value+"em"},visit_px:function(t){return t.value+"px"},visit_literal:function(t){return e.visit_color(t.value,t)},visit_hex:function(t){return e.visit_color("#"+t.value,t)},visit_rgb:function(t){return e.visit_color("rgb("+t.value.join(", ")+")",t)},visit_rgba:function(t){return e.visit_color("rgba("+t.value.join(", ")+")",t)},visit_color:function(t,n){var r=t,a=e.visit(n.length);return a&&(r+=" "+a),r},visit_angular:function(t){return t.value+"deg"},visit_directional:function(t){return"to "+t.value},visit_array:function(t){var n="",r=t.length;return t.forEach((function(t,a){n+=e.visit(t),a<r-1&&(n+=", ")})),n},visit:function(t){if(!t)return"";if(t instanceof Array)return e.visit_array(t,"");if(t.type){var n=e["visit_"+t.type];if(n)return n(t);throw Error("Missing visitor visit_"+t.type)}throw Error("Invalid node.")}},function(t){return e.visit(t)}),(n=n||{}).parse=function(){var t=/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,e=/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,n=/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,r=/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,a=/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,i=/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,o=/^(left|center|right|top|bottom)/i,u=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,l=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,c=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,f=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,s=/^\(/,h=/^\)/,d=/^,/,g=/^\#([0-9a-fA-F]+)/,p=/^([a-zA-Z]+)/,v=/^rgb/i,m=/^rgba/i,y=/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/,b="";function x(t){var e=new Error(b+": "+t);throw e.source=b,e}function _(){var t=E(w);return b.length>0&&x("Invalid input not EOF"),t}function w(){return S("linear-gradient",t,A)||S("repeating-linear-gradient",e,A)||S("radial-gradient",n,k)||S("repeating-radial-gradient",r,k)}function S(t,e,n){return M(e,(function(e){var r=n();return r&&(O(d)||x("Missing comma before color stops")),{type:t,orientation:r,colorStops:E(D)}}))}function M(t,e){var n=O(t);if(n){O(s)||x("Missing (");var r=e(n);return O(h)||x("Missing )"),r}}function A(){return R("directional",a,1)||R("angular",f,1)}function k(){var t,e,n=V();return n&&((t=[]).push(n),e=b,O(d)&&((n=V())?t.push(n):b=e)),t}function V(){var t=function(){var t=R("shape",/^(circle)/i,0);return t&&(t.style=B()||T()),t}()||function(){var t=R("shape",/^(ellipse)/i,0);return t&&(t.style=P()||T()),t}();if(t)t.at=C();else{var e=T();if(e){t=e;var n=C();n&&(t.at=n)}else{var r=N();r&&(t={type:"default-radial",at:r})}}return t}function T(){return R("extent-keyword",i,1)}function C(){if(R("position",/^at/,0)){var t=N();return t||x("Missing positioning value"),t}}function N(){var t={x:P(),y:P()};if(t.x||t.y)return{type:"position",value:t}}function E(t){var e=t(),n=[];if(e)for(n.push(e);O(d);)(e=t())?n.push(e):x("One extra comma");return n}function D(){var t=R("hex",g,1)||M(m,(function(){return{type:"rgba",value:E(z)}}))||M(v,(function(){return{type:"rgb",value:E(z)}}))||R("literal",p,0);return t||x("Expected color definition"),t.length=P(),t}function z(){return O(y)[1]}function P(){return R("%",l,1)||R("position-keyword",o,1)||B()}function B(){return R("px",u,1)||R("em",c,1)}function R(t,e,n){var r=O(e);if(r)return{type:t,value:r[n]}}function O(t){var e,n;return(n=/^[\n\r\t\s]+/.exec(b))&&I(n[0].length),(e=t.exec(b))&&I(e[0].length),e}function I(t){b=b.substr(t)}return function(t){return b=t.toString(),_()}}(),t.parse=n.parse,t.stringify=n.stringify}));Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var Wx=s(Lx()),qx=s(Lx()),$x="none",Xx="ordinal",Gx="time",Qx="linear",Zx=t=>{let e="crossValues",n=null,r=null,a=()=>{let a=r=>{let a=n?t[e].filter((t=>n==t.name)):t[e];return!("crossValues"==e&&a.length>1)&&a.some((t=>r.includes(t.type)))};return 0===t[e].length?$x:r!=Gx&&a(["datetime","date"])?Gx:r!=Qx&&a(["integer","float"])||r==Xx?Qx:Xx};return a.settingName=(...t)=>t.length?(e=t[0],a):e,a.settingValue=(...t)=>t.length?(n=t[0],a):n,a.excludeType=(...t)=>t.length?(r=t[0],a):r,a},Kx={};function Jx(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function t_(t){return(t=Jx(Math.abs(t)))?t[1]:NaN}f(Kx,{domain:()=>kS,labelFunction:()=>VS,scale:()=>AS}),sn(),xx(),$d(),em(),xm(),Mi(),Cb(),ji();var e_,n_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function r_(t){if(!(e=n_.exec(t)))throw new Error("invalid format: "+t);var e;return new a_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function a_(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function i_(t,e){var n=Jx(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}r_.prototype=a_.prototype,a_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var o_={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>i_(100*t,e),r:i_,s:function(t,e){var n=Jx(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(e_=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Jx(t,Math.max(0,e+i-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function u_(t){return t}var l_,c_,f_,s_=Array.prototype.map,h_=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function d_(t){var e=void 0===t.grouping||void 0===t.thousands?u_:function(t,e){return function(n,r){for(var a=n.length,i=[],o=0,u=t[0],l=0;a>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),i.push(n.substring(a-=u,a+u)),!((l+=u+1)>r));)u=t[o=(o+1)%t.length];return i.reverse().join(e)}}(s_.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",i=void 0===t.numerals?u_:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(s_.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"â":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function c(t){var c=(t=r_(t)).fill,f=t.align,s=t.sign,h=t.symbol,d=t.zero,g=t.width,p=t.comma,v=t.precision,m=t.trim,y=t.type;"n"===y?(p=!0,y="g"):o_[y]||(void 0===v&&(v=12),m=!0,y="g"),(d||"0"===c&&"="===f)&&(d=!0,c="0",f="=");var b="$"===h?n:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===h?r:/[%p]/.test(y)?o:"",_=o_[y],w=/[defgprs%]/.test(y);function S(t){var n,r,o,h=b,S=x;if("c"===y)S=_(t)+S,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:_(Math.abs(t),v),m&&(t=function(t){t:for(var e,n=t.length,r=1,a=-1;r<n;++r)switch(t[r]){case".":a=e=r;break;case"0":0===a&&(a=r),e=r;break;default:if(!+t[r])break t;a>0&&(a=0)}return a>0?t.slice(0,a)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==s&&(M=!1),h=(M?"("===s?s:u:"-"===s||"("===s?"":s)+h,S=("s"===y?h_[8+e_/3]:"")+S+(M&&"("===s?")":""),w)for(n=-1,r=t.length;++n<r;)if(48>(o=t.charCodeAt(n))||o>57){S=(46===o?a+t.slice(n+1):t.slice(n))+S,t=t.slice(0,n);break}}p&&!d&&(t=e(t,1/0));var A=h.length+t.length+S.length,k=A<g?new Array(g-A+1).join(c):"";switch(p&&d&&(t=e(k+t,k.length?g-S.length:1/0),k=""),f){case"<":t=h+t+S+k;break;case"=":t=h+k+t+S;break;case"^":t=k.slice(0,A=k.length>>1)+h+t+S+k.slice(A);break;default:t=k+h+t+S}return i(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),S.toString=function(){return t+""},S}return{format:c,formatPrefix:function(t,e){var n=c(((t=r_(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(t_(e)/3))),a=Math.pow(10,-r),i=h_[8+r/3];return function(t){return n(a*t)+i}}}}function g_(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function p_(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=m_)):void 0===e&&(e=v_);for(var n,r,a,i,o,u=new x_(t),l=[u];n=l.pop();)if((a=e(n.data))&&(o=(a=Array.from(a)).length))for(n.children=a,i=o-1;i>=0;--i)l.push(r=a[i]=new x_(a[i])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(b_)}function v_(t){return t.children}function m_(t){return Array.isArray(t)?t[1]:null}function y_(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function b_(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function x_(t){this.data=t,this.depth=this.height=0,this.parent=null}function __(t){if("function"!=typeof t)throw new Error;return t}function w_(){return 0}function S_(t){return function(){return t}}function M_(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function A_(t,e,n,r,a){for(var i,o=t.children,u=-1,l=o.length,c=t.value&&(r-e)/t.value;++u<l;)(i=o[u]).y0=n,i.y1=a,i.x0=e,i.x1=e+=i.value*c}function k_(){var t=1,e=1,n=0,r=!1;function a(a){var i=a.height+1;return a.x0=a.y0=n,a.x1=t,a.y1=e/i,a.eachBefore(function(t,e){return function(r){r.children&&A_(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var a=r.x0,i=r.y0,o=r.x1-n,u=r.y1-n;o<a&&(a=o=(a+o)/2),u<i&&(i=u=(i+u)/2),r.x0=a,r.y0=i,r.x1=o,r.y1=u}}(e,i)),r&&a.eachBefore(M_),a}return a.round=function(t){return arguments.length?(r=!!t,a):r},a.size=function(n){return arguments.length?(t=+n[0],e=+n[1],a):[t,e]},a.padding=function(t){return arguments.length?(n=+t,a):n},a}function V_(t,e,n,r,a){for(var i,o=t.children,u=-1,l=o.length,c=t.value&&(a-n)/t.value;++u<l;)(i=o[u]).x0=e,i.x1=r,i.y0=n,i.y1=n+=i.value*c}l_=d_({thousands:",",grouping:[3],currency:["$",""]}),c_=l_.format,f_=l_.formatPrefix,x_.prototype=p_.prototype={constructor:x_,count:function(){return this.eachAfter(g_)},each:function(t,e){let n=-1;for(let r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,a,i=this,o=[i],u=[],l=-1;i=o.pop();)if(u.push(i),n=i.children)for(r=0,a=n.length;r<a;++r)o.push(n[r]);for(;i=u.pop();)t.call(e,i,++l,this);return this},eachBefore:function(t,e){for(var n,r,a=this,i=[a],o=-1;a=i.pop();)if(t.call(e,a,++o,this),n=a.children)for(r=n.length-1;r>=0;--r)i.push(n[r]);return this},find:function(t,e){let n=-1;for(let r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,a=r&&r.length;--a>=0;)n+=r[a].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),a=null;for(t=n.pop(),e=r.pop();t===e;)a=t,t=n.pop(),e=r.pop();return a}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var a=r.length;t!==n;)r.splice(a,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return p_(this).eachBefore(y_)},[Symbol.iterator]:function*(){var t,e,n,r,a=this,i=[a];do{for(t=i.reverse(),i=[];a=t.pop();)if(yield a,e=a.children)for(n=0,r=e.length;n<r;++n)i.push(e[n])}while(i.length)}};var T_=function t(e){function n(t,n,r,a,i){!function(t,e,n,r,a,i){for(var o,u,l,c,f,s,h,d,g,p,v,m=[],y=e.children,b=0,x=0,_=y.length,w=e.value;b<_;){l=a-n,c=i-r;do{f=y[x++].value}while(!f&&x<_);for(s=h=f,v=f*f*(p=Math.max(c/l,l/c)/(w*t)),g=Math.max(h/v,v/s);x<_;++x){if(f+=u=y[x].value,u<s&&(s=u),u>h&&(h=u),v=f*f*p,(d=Math.max(h/v,v/s))>g){f-=u;break}g=d}m.push(o={value:f,dice:l<c,children:y.slice(b,x)}),o.dice?A_(o,n,r,a,w?r+=c*f/w:i):V_(o,n,r,w?n+=l*f/w:a,i),w-=f,b=x}}(e,t,n,r,a,i)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}((1+Math.sqrt(5))/2);function C_(t,e,n,r,a){var i,o,u=t.children,l=u.length,c=new Array(l+1);for(c[0]=o=i=0;i<l;++i)c[i+1]=o+=u[i].value;!function t(e,n,r,a,i,o,l){if(e>=n-1){var f=u[e];return f.x0=a,f.y0=i,f.x1=o,void(f.y1=l)}for(var s=c[e],h=r/2+s,d=e+1,g=n-1;d<g;){var p=d+g>>>1;c[p]<h?d=p+1:g=p}h-c[d-1]<c[d]-h&&e+1<d&&--d;var v=c[d]-s,m=r-v;if(o-a>l-i){var y=r?(a*m+o*v)/r:o;t(e,d,v,a,i,y,l),t(d,n,m,y,i,o,l)}else{var b=r?(i*m+l*v)/r:l;t(e,d,v,a,i,o,b),t(d,n,m,a,b,o,l)}}(0,l,t.value,e,n,r,a)}function N_(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function E_(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}$p(),no(),ti(),sn(),sn();var D_=Symbol("implicit");function z_(){var t=new G,e=[],n=[],r=D_;function a(a){let i=t.get(a);if(void 0===i){if(r!==D_)return r;t.set(a,i=e.push(a)-1)}return n[i%n.length]}return a.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new G;for(let r of n)t.has(r)||t.set(r,e.push(r)-1);return a},a.range=function(t){return arguments.length?(n=Array.from(t),a):n.slice()},a.unknown=function(t){return arguments.length?(r=t,a):r},a.copy=function(){return z_(e,n).unknown(r)},N_.apply(a,arguments),a}function P_(){var t,e,n=z_().unknown(void 0),r=n.domain,a=n.range,i=0,o=1,u=!1,l=0,c=0,f=.5;function s(){var n=r().length,s=o<i,h=s?o:i,d=s?i:o;t=(d-h)/Math.max(1,n-l+2*c),u&&(t=Math.floor(t)),h+=(d-h-t*(n-l))*f,e=t*(1-l),u&&(h=Math.round(h),e=Math.round(e));var g=de(n).map((function(e){return h+t*e}));return a(s?g.reverse():g)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),s()):r()},n.range=function(t){return arguments.length?([i,o]=t,i=+i,o=+o,s()):[i,o]},n.rangeRound=function(t){return[i,o]=t,i=+i,o=+o,u=!0,s()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(u=!!t,s()):u},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),s()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),s()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,s()):c},n.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),s()):f},n.copy=function(){return P_(r(),[i,o]).round(u).paddingInner(l).paddingOuter(c).align(f)},N_.apply(s(),arguments)}function B_(t){return+t}sn(),sn(),$p();var R_=[0,1];function O_(t){return t}function I_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Y_(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=I_(a,r),i=n(o,i)):(r=I_(r,a),i=n(i,o)),function(t){return i(r(t))}}function F_(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)a[o]=I_(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(e){var n=_(t,e,1,r)-1;return i[n](a[n](e))}}function L_(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function U_(){var t,e,n,r,a,i,o=R_,u=R_,l=Mg,c=O_;function f(){var t=Math.min(o.length,u.length);return c!==O_&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(o[0],o[t-1])),r=t>2?F_:Y_,a=i=null,s}function s(e){return null==e||isNaN(e=+e)?n:(a||(a=r(o.map(t),u,l)))(t(c(e)))}return s.invert=function(n){return c(e((i||(i=r(u,o.map(t),vg)))(n)))},s.domain=function(t){return arguments.length?(o=Array.from(t,B_),f()):o.slice()},s.range=function(t){return arguments.length?(u=Array.from(t),f()):u.slice()},s.rangeRound=function(t){return u=Array.from(t),l=kg,f()},s.clamp=function(t){return arguments.length?(c=!!t||O_,f()):c!==O_},s.interpolate=function(t){return arguments.length?(l=t,f()):l},s.unknown=function(t){return arguments.length?(n=t,s):n},function(n,r){return t=n,e=r,f()}}function H_(){return U_()(O_,O_)}function j_(t,e,n,r){var a,i=Vt(t,e,n);switch((r=r_(r??",f")).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null==r.precision&&!isNaN(a=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(t_(e)/3)))-t_(Math.abs(t)))}(i,o))&&(r.precision=a),f_(r,o);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(a=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,t_(e)-t_(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(a=function(t){return Math.max(0,-t_(Math.abs(t)))}(i))&&(r.precision=a-2*("%"===r.type))}return c_(r)}function W_(t){var e=t.domain;return t.ticks=function(t){var n=e();return At(n[0],n[n.length-1],t??10)},t.tickFormat=function(t,n){var r=e();return j_(r[0],r[r.length-1],t??10,n)},t.nice=function(n){null==n&&(n=10);var r,a,i=e(),o=0,u=i.length-1,l=i[o],c=i[u],f=10;for(c<l&&(a=l,l=c,c=a,a=o,o=u,u=a);f-- >0;){if((a=kt(l,c,n))===r)return i[o]=l,i[u]=c,e(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return t},t}function q_(){var t=H_();return t.copy=function(){return L_(t,q_())},N_.apply(t,arguments),W_(t)}function $_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function X_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function G_(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}sn(),Ca(),Ca();var Q_,Z_,K_={"-":"",_:" ",0:"0"},J_=/^\s*\d+/,tw=/^%/,ew=/[\\^$*+?|[\]().{}]/g;function nw(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function rw(t){return t.replace(ew,"\\$&")}function aw(t){return new RegExp("^(?:"+t.map(rw).join("|")+")","i")}function iw(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function ow(t,e,n){var r=J_.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function uw(t,e,n){var r=J_.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function lw(t,e,n){var r=J_.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cw(t,e,n){var r=J_.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fw(t,e,n){var r=J_.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function sw(t,e,n){var r=J_.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function hw(t,e,n){var r=J_.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dw(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gw(t,e,n){var r=J_.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function pw(t,e,n){var r=J_.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function vw(t,e,n){var r=J_.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function mw(t,e,n){var r=J_.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function yw(t,e,n){var r=J_.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function bw(t,e,n){var r=J_.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function xw(t,e,n){var r=J_.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function _w(t,e,n){var r=J_.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ww(t,e,n){var r=J_.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Sw(t,e,n){var r=tw.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Mw(t,e,n){var r=J_.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Aw(t,e,n){var r=J_.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function kw(t,e){return nw(t.getDate(),e,2)}function Vw(t,e){return nw(t.getHours(),e,2)}function Tw(t,e){return nw(t.getHours()%12||12,e,2)}function Cw(t,e){return nw(1+Hn.count(mr(t),t),e,3)}function Nw(t,e){return nw(t.getMilliseconds(),e,3)}function Ew(t,e){return Nw(t,e)+"000"}function Dw(t,e){return nw(t.getMonth()+1,e,2)}function zw(t,e){return nw(t.getMinutes(),e,2)}function Pw(t,e){return nw(t.getSeconds(),e,2)}function Bw(t){var e=t.getDay();return 0===e?7:e}function Rw(t,e){return nw(Jn.count(mr(t)-1,t),e,2)}function Ow(t){var e=t.getDay();return e>=4||0===e?rr(t):rr.ceil(t)}function Iw(t,e){return t=Ow(t),nw(rr.count(mr(t),t)+(4===mr(t).getDay()),e,2)}function Yw(t){return t.getDay()}function Fw(t,e){return nw(tr.count(mr(t)-1,t),e,2)}function Lw(t,e){return nw(t.getFullYear()%100,e,2)}function Uw(t,e){return nw((t=Ow(t)).getFullYear()%100,e,2)}function Hw(t,e){return nw(t.getFullYear()%1e4,e,4)}function jw(t,e){var n=t.getDay();return nw((t=n>=4||0===n?rr(t):rr.ceil(t)).getFullYear()%1e4,e,4)}function Ww(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nw(e/60|0,"0",2)+nw(e%60,"0",2)}function qw(t,e){return nw(t.getUTCDate(),e,2)}function $w(t,e){return nw(t.getUTCHours(),e,2)}function Xw(t,e){return nw(t.getUTCHours()%12||12,e,2)}function Gw(t,e){return nw(1+kr.count(Jr(t),t),e,3)}function Qw(t,e){return nw(t.getUTCMilliseconds(),e,3)}function Zw(t,e){return Qw(t,e)+"000"}function Kw(t,e){return nw(t.getUTCMonth()+1,e,2)}function Jw(t,e){return nw(t.getUTCMinutes(),e,2)}function tS(t,e){return nw(t.getUTCSeconds(),e,2)}function eS(t){var e=t.getUTCDay();return 0===e?7:e}function nS(t,e){return nw(Br.count(Jr(t)-1,t),e,2)}function rS(t){var e=t.getUTCDay();return e>=4||0===e?Yr(t):Yr.ceil(t)}function aS(t,e){return t=rS(t),nw(Yr.count(Jr(t),t)+(4===Jr(t).getUTCDay()),e,2)}function iS(t){return t.getUTCDay()}function oS(t,e){return nw(Rr.count(Jr(t)-1,t),e,2)}function uS(t,e){return nw(t.getUTCFullYear()%100,e,2)}function lS(t,e){return nw((t=rS(t)).getUTCFullYear()%100,e,2)}function cS(t,e){return nw(t.getUTCFullYear()%1e4,e,4)}function fS(t,e){var n=t.getUTCDay();return nw((t=n>=4||0===n?Yr(t):Yr.ceil(t)).getUTCFullYear()%1e4,e,4)}function sS(){return"+0000"}function hS(){return"%"}function dS(t){return+t}function gS(t){return Math.floor(+t/1e3)}function pS(t){return new Date(t)}function vS(t){return t instanceof Date?+t:+new Date(+t)}function mS(t,e,n,r,a,i,o,u,l,c){var f=H_(),s=f.invert,h=f.domain,d=c(".%L"),g=c(":%S"),p=c("%I:%M"),v=c("%I %p"),m=c("%a %d"),y=c("%b %d"),b=c("%B"),x=c("%Y");function _(t){return(l(t)<t?d:u(t)<t?g:o(t)<t?p:i(t)<t?v:r(t)<t?a(t)<t?m:y:n(t)<t?b:x)(t)}return f.invert=function(t){return new Date(s(t))},f.domain=function(t){return arguments.length?h(Array.from(t,vS)):h().map(pS)},f.ticks=function(e){var n=h();return t(n[0],n[n.length-1],e??10)},f.tickFormat=function(t,e){return null==e?_:c(e)},f.nice=function(t){var n=h();return(!t||"function"!=typeof t.range)&&(t=e(n[0],n[n.length-1],t??10)),t?h(function(t,e){var n,r=0,a=(t=t.slice()).length-1,i=t[r],o=t[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),t[r]=e.floor(i),t[a]=e.ceil(o),t}(n,t)):f},f.copy=function(){return L_(f,mS(t,e,n,r,a,i,o,u,l,c))},f}function yS(){var t,e,n,r,a,i=0,o=1,u=O_,l=!1;function c(e){return null==e||isNaN(e=+e)?a:u(0===n?.5:(e=(r(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}function f(t){return function(e){var n,r;return arguments.length?([n,r]=e,u=t(n,r),c):[u(0),u(1)]}}return c.domain=function(a){return arguments.length?([i,o]=a,t=r(i=+i),e=r(o=+o),n=t===e?0:1/(e-t),c):[i,o]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(u=t,c):u},c.range=f(Mg),c.rangeRound=f(kg),c.unknown=function(t){return arguments.length?(a=t,c):a},function(a){return r=a,t=a(i),e=a(o),n=t===e?0:1/(e-t),c}}function bS(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function xS(){var t=W_(yS()(O_));return t.copy=function(){return bS(t,xS())},E_.apply(t,arguments)}!function(t){Q_=function(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,o=t.shortDays,u=t.months,l=t.shortMonths,c=aw(a),f=iw(a),s=aw(i),h=iw(i),d=aw(o),g=iw(o),p=aw(u),v=iw(u),m=aw(l),y=iw(l),b={a:function(t){return o[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:kw,e:kw,f:Ew,g:Uw,G:jw,H:Vw,I:Tw,j:Cw,L:Nw,m:Dw,M:zw,p:function(t){return a[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:dS,s:gS,S:Pw,u:Bw,U:Rw,V:Iw,w:Yw,W:Fw,x:null,X:null,y:Lw,Y:Hw,Z:Ww,"%":hS},x={a:function(t){return o[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:qw,e:qw,f:Zw,g:lS,G:fS,H:$w,I:Xw,j:Gw,L:Qw,m:Kw,M:Jw,p:function(t){return a[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:dS,s:gS,S:tS,u:eS,U:nS,V:aS,w:iS,W:oS,x:null,X:null,y:uS,Y:cS,Z:sS,"%":hS},_={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=g.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=s.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:vw,e:vw,f:ww,g:hw,G:sw,H:yw,I:yw,j:mw,L:_w,m:pw,M:bw,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=f.get(r[0].toLowerCase()),n+r[0].length):-1},q:gw,Q:Mw,s:Aw,S:xw,u:uw,U:lw,V:cw,w:ow,W:fw,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:hw,Y:sw,Z:dw,"%":Sw};function w(t,e){return function(n){var r,a,i,o=[],u=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===t.charCodeAt(u)&&(o.push(t.slice(l,u)),null!=(a=K_[r=t.charAt(++u)])?r=t.charAt(++u):a="e"===r?" ":"0",(i=e[r])&&(r=i(n,a)),o.push(r),l=u+1);return o.push(t.slice(l,u)),o.join("")}}function S(t,e){return function(n){var r,a,i=G_(1900,void 0,1);if(M(i,t,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(e&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=X_(G_(i.y,0,1))).getUTCDay(),r=a>4||0===a?Rr.ceil(r):Rr(r),r=kr.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=$_(G_(i.y,0,1))).getDay(),r=a>4||0===a?tr.ceil(r):tr(r),r=Hn.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?X_(G_(i.y,0,1)).getUTCDay():$_(G_(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,X_(i)):$_(i)}}function M(t,e,n,r){for(var a,i,o=0,u=e.length,l=n.length;o<u;){if(r>=l)return-1;if(37===(a=e.charCodeAt(o++))){if(a=e.charAt(o++),!(i=_[a in K_?e.charAt(o++):a])||(r=i(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),x.x=w(n,x),x.X=w(r,x),x.c=w(e,x),{format:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t+="",!0);return e.toString=function(){return t},e}}}(t),Z_=Q_.format,Q_.parse,Q_.utcFormat,Q_.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),$p(),Wv(),oc(),Th(),Ca(),Um(),Rb(),Fx();var _S=t=>Array.isArray(t)?t.flat(1/0):[t],wS=s(Lx()),SS=t=>{let e=e=>t(e);return(0,wS.rebindAll)(e,t),e.bandwidth=(...n)=>n.length?(t.bandwidth(...n),e):Math.max(t.bandwidth(),1),e},MS=s(Lx()),AS=()=>(t=>{let e=e=>t(e);return(0,MS.rebindAll)(e,t),e.ticks=function(){return[]},e})(SS(P_())),kS=()=>{let t=["crossValue"],e="horizontal",n=e=>{let n=_S(e);return r([...new Set(n.map((e=>e[t[0]])))])},r=t=>"vertical"==e?t.reverse():t;return n.valueName=(...e)=>e.length?(t=[e[0]],n):t[0],n.valueNames=(...e)=>e.length?(t=e[0],n):t,n.orient=(...t)=>t.length?(e=t[0],n):e,n},VS=t=>e=>e[t].join("|"),TS={};f(TS,{domain:()=>PS,labelFunction:()=>BS,scale:()=>zS,tickFormatFunction:()=>RS});var CS=s(Lx());sn();var NS=()=>{let t=[0,0],e="percent",n=n=>{switch(e){case"domain":n[0]-=t[0],n[1]+=t[1];break;case"percent":{let e=n[1]-n[0];n[0]-=t[0]*e,n[1]+=t[1]*e;break}default:throw new Error("Unknown padUnit: "+e)}return n};return n.pad=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n.padUnit=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n},ES=function(t){if(Array.isArray(t)){let e=Array(t.length);for(let n=0;n<t.length;n++)e[n]=t[n];return e}return Array.from(t)},DS=t=>Math.abs(t)>=1e7?c_(".3s")(t):Number.isInteger(t)?c_(",.0f")(t):c_(",.2f")(t),zS=()=>q_(),PS=()=>{let t=function(){let t=[function(t){return t}],e=null,n=[],r=NS(),a=function(a){let i,o=new Array(a.length),u=!0,l=!1,c=t[Symbol.iterator]();try{for(let t;!(u=(t=c.next()).done);u=!0){let e=t.value;for(let t=0;t<a.length;t++){let n=e(a[t],t);Array.isArray(n)?o.push.apply(o,ES(n)):o.push(n)}}}catch(t){l=!0,i=t}finally{try{!u&&c.return&&c.return()}finally{if(l)throw i}}let f=[Ft(o),It(o)];if(f[0]=null==f[0]?Ft(n):Ft([f[0]].concat(ES(n))),f[1]=null==f[1]?It(n):It([f[1]].concat(ES(n))),null!=e){let t=Math.max(Math.abs(f[1]-e),Math.abs(f[0]-e));f[0]=e-t,f[1]=e+t}return r(f)};return a.accessors=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.pad=function(){return arguments.length?(r.pad(arguments.length<=0?void 0:arguments[0]),a):r.pad},a.padUnit=function(){return arguments.length?(r.padUnit(arguments.length<=0?void 0:arguments[0]),a):r.padUnit},a.include=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.symmetricalAbout=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.paddingStrategy=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a}().pad([0,.1]).padUnit("percent"),e=["crossValue"],n=n=>(t.accessors(e.map((t=>e=>parseFloat(e[t])))),r(_S(n)));CS.rebindAll(n,t);let r=n=>{if("domain"==t.padUnit()){let r=(t=>{let n=e.map((e=>t.map((t=>t[e])).sort(((t,e)=>t-e)).filter(((t,e,n)=>0===e||t!==n[e-1])).reduce(((t,e,n,r)=>0===n||t<=e-r[n-1]?t:Math.abs(e-r[n-1])))));return Math.min(...n)})(n);return t.pad([r/2,r/2])(n)}return t(n)};return n.valueName=(...t)=>t.length?(e=[t[0]],n):e[0],n.valueNames=(...t)=>t.length?(e=t[0],n):e,n},BS=t=>e=>e[t][0],RS=DS,OS={};f(OS,{domain:()=>FS,labelFunction:()=>LS,scale:()=>YS});var IS=s(Lx()),YS=()=>function(){return N_.apply(mS(ua,la,mr,gr,Jn,Hn,Fn,On,Pn,Z_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}(),FS=()=>{let t=IS.extentTime(),e=["crossValue"],n=n=>(t.accessors(e.map((t=>e=>new Date(e[t])))),r(_S(n)));IS.rebindAll(n,t,IS.exclude("include","paddingStrategy"));let r=n=>{let r=Math.abs((t=>{let n=e.map((e=>t.map((t=>new Date(t[e]).getTime())).sort(((t,e)=>t-e)).filter(((t,e,n)=>0===e||t!==n[e-1])).reduce(((t,e,n,r)=>0===n||Math.abs(t)<=Math.abs(e-r[n-1])?Math.abs(t):Math.abs(e-r[n-1])))));return Math.min(...n)})(n));return t.padUnit("domain").pad([r/2,r/2])(n)};return n.valueName=(...t)=>t.length?(e=[t[0]],n):e[0],n.valueNames=(...t)=>t.length?(e=t[0],n):e,n},LS=t=>e=>new Date(e[t][0]),US={};f(US,{component:()=>eM,domain:()=>JS,labelFunction:()=>tM,scale:()=>KS});var HS=s(Lx()),jS=s(Lx()),WS=(t,e,n)=>{let r=6,a=6,i=((...t)=>{let e={},n=t=>{for(let n of Object.keys(e))t[n](e[n]);return t};for(let r of t)n[r]=(...t)=>t.length?(e[r]=t[0],n):e[r];return n})("tickFormat","ticks","tickArguments","tickValues","tickPadding"),o=()=>{},u=null,l=(0,jS.dataJoin)("g","group"),c=(0,jS.dataJoin)("path","domain"),f=(t,e)=>s()?`translate(${e}, ${t})`:`translate(${t}, ${e})`,s=()=>"left"===t||"right"===t,h=h=>{u?h.each(((h,g,p)=>{let v=Hl(p[g]),m="bottom"===t||"right"===t?1:-1,y=n.range(),b=(t=>s()?t.map((t=>[t[1],t[0]])):t)([[y[0],m*r],[y[0],0],[y[1],0],[y[1],m*r]]);c(v,[h]).attr("d",Lc()(b)).attr("stroke","#000").attr("fill","none");let x=l(v,u),_=t=>Array.isArray(a)?a[t]:a,w=t=>{let e=0;for(let n=0;n<t;n++)e+=_(n);return e};x.attr("transform",((t,e)=>f(0,m*w(e)))).each(((t,r,a)=>{let u=Hl(a[r]),l=d(n,t);i(e(l)).decorate(((t,e)=>o(t,e,r))).tickSizeInner(_(r)).tickOffset((t=>l.step(t)/2))(u),u.select("path.domain").attr("visibility","hidden")})),x.exit().attr("transform",((t,e)=>f(0,m*w(e))))})):i(e(n).decorate(o))(h)},d=(t,e)=>{function n(e){let n=e.domain;return n.reduce(((e,n)=>e+t(n)),0)/n.length}return n.ticks=()=>e,n.tickFormat=()=>t=>t.text,n.copy=()=>d(t,e),n.step=e=>e.domain.length*t.step(),(0,jS.rebindAll)(n,t,(0,jS.exclude)("ticks","step","copy")),n};return h.tickSize=(...t)=>t.length?(a=r=Number(t[0]),h):a,h.tickSizeInner=(...t)=>t.length?(a=Array.isArray(t[0])?t[0]:Number(t[0]),h):a,h.tickSizeOuter=(...t)=>t.length?(r=Number(t[0]),h):r,h.decorate=(...t)=>t.length?(o=t[0],h):o,h.groups=(...t)=>t.length?(u=t[0],h):u,(0,jS.rebindAll)(h,i),h},qS=t=>WS("top",jS.axisOrdinalTop,t),$S=t=>WS("bottom",jS.axisOrdinalBottom,t),XS=t=>WS("left",jS.axisOrdinalLeft,t),GS=t=>WS("right",jS.axisOrdinalRight,t);function QS(t){return t.getRootNode().host}function ZS(t){return t.closest("#container.chart")}var KS=()=>SS(P_()).padding(.5),JS=()=>{let t=["crossValue"],e="horizontal",n=e=>{let n=_S(e);return r([...Array.from(new Set(n.map((e=>e[t[0]]))))])},r=t=>"vertical"==e?t.reverse():t;return n.valueName=(...e)=>e.length?(t=[e[0]],n):t[0],n.valueNames=(...e)=>e.length?(t=e[0],n):t,n.orient=(...t)=>t.length?(e=t[0],n):e,n},tM=t=>e=>e[t].join("|"),eM=t=>{let e="horizontal",n="crossValues",r=null,a=()=>{let a=t[n].length>1,c=o(r),s=c.map(u),h=a?s.map((t=>t.size)):s[0].size,d=s.reduce(((t,e)=>t+e.size),0),g=t=>n=>{let r=t(n);return a&&r.groups(c).tickSizeInner(h).tickSizeOuter(d),"horizontal"!==e&&r.tickPadding(10),r},p=i(a);return{bottom:g(p.bottom),left:g(p.left),right:g(p.right),top:g(p.top),size:`${d+10}px`,decorate:(t,n,r)=>{let a=s[r].rotation;"horizontal"===e&&f(t,a),l(t,a)}}},i=t=>t?{bottom:$S,left:XS,top:qS,right:GS}:{bottom:HS.axisOrdinalBottom,left:HS.axisOrdinalLeft,top:HS.axisOrdinalTop,right:HS.axisOrdinalRight},o=t=>{let e=[];return t.forEach((t=>{(t&&t.split?t.split("|"):[t]).forEach(((n,r)=>{for(;e.length<=r;)e.push([]);let a=e[r];a.length>0&&a[a.length-1].text===n?a[a.length-1].domain.push(t):a.push({text:n,domain:[t]})}))})),e.reverse()},u=n=>{let r=t.size.width,a=Math.max(...n.map((t=>t.text?t.text.length:0)));return"horizontal"===e?n&&16*n.length>r-100?{size:5*a+10,rotation:90}:n&&n.length*(6*a+10)>r-100?{size:3*a+20,rotation:45}:{size:25,rotation:0}:{size:5*a+10,rotation:0}},l=(t,n)=>{let r=n?(t,e)=>t.x+t.width+14>e.x+e.width:(t,e)=>t.x<=e.x+e.width&&e.x<=t.x+t.width&&t.y<=e.y+e.height&&e.y<=t.y+t.height,a="horizontal"==e?c(t):null,i=[];t.each(((t,e,n)=>{let o=Hl(n[e]),u=(t=>{let e=-1!==t.indexOf(",")?",":" ",n=t.substring(t.indexOf("(")+1,t.indexOf(")")).split(e).map((t=>parseInt(t)));for(;n.length<2;)n.push(0);return n})(o.attr("transform")),l=o.node().getBBox(),c={x:l.x+u[0],y:l.y+u[1],width:l.width,height:l.height},f=i.some((t=>r(t,c)))||a&&!((t,e)=>t.x>=e.x&&t.x+t.width<=e.x+e.width&&t.y>=e.y&&t.y+t.height<=e.y+e.height)(c,a);o.attr("visibility",f?"hidden":""),f||i.push(c)}))},c=t=>{let e=ZS(t.node());if(null===e)return;let n=e.querySelector(".cartesian-chart"),r=n.querySelector(".x-axis"),a=n.getBoundingClientRect(),i=r.getBoundingClientRect();return{x:a.left-i.left,width:a.width,y:a.top-i.top,height:a.height}},f=(t,e)=>{let n=(t=>t?t<60?`rotate(-${t} 5 5)`:`rotate(-${t} 3 7)`:"translate(0, 8)")(e),r=e?"end":"";t.each(((t,e,a)=>{Hl(a[e]).select("text").attr("transform",n).style("text-anchor",r)}))};return a.orient=(...t)=>t.length?(e=t[0],a):e,a.settingName=(...t)=>t.length?(n=t[0],a):n,a.domain=(...t)=>t.length?(r=t[0],a):r,a},nM={none:Kx,ordinal:US,time:OS,linear:TS},rM=t=>{let e=null,n="horizontal",r="crossValues",a=null,i=["crossValue"],o=["include","paddingStrategy","pad"],u={},l=l=>{let s=Zx(t).excludeType(e).settingName(r).settingValue(a)(),h=nM[s],d=h.domain().valueNames(i);o.forEach((t=>{u[t]&&d[t]&&d[t](u[t])})),d.orient&&d.orient(n);let g=d(l),p=h.component?c(h,g,l):f();return{scale:h.scale(),domain:g,domainFunction:d,labelFunction:h.labelFunction,component:{bottom:p.bottom,left:p.left,top:p.top,right:p.right},size:p.size,decorate:p.decorate,label:t[r].map((t=>t.name)).join(", "),tickFormatFunction:h.tickFormatFunction}},c=(e,a,i)=>e.component(t).orient(n).settingName(r).domain(a)(i),f=()=>({bottom:qx.axisBottom,left:qx.axisLeft,top:qx.axisTop,right:qx.axisRight,decorate:()=>{}});return l.excludeType=(...t)=>t.length?(e=t[0],l):e,l.orient=(...t)=>t.length?(n=t[0],l):n,l.settingName=(...t)=>t.length?(r=t[0],l):r,l.settingValue=(...t)=>t.length?(a=t[0],l):a,l.valueName=(...t)=>t.length?(i=[t[0]],l):i[0],l.valueNames=(...t)=>t.length?(i=t[0],l):i,o.forEach((t=>{l[t]=(...e)=>e.length?(u[t]=e[0],l):u[t]})),l},aM=s(Lx()),iM=(t,e)=>uM(t,e,((t,e)=>t.svgPlotArea(e)),!1),oM=(t,e)=>uM(t,e,((t,e)=>t.canvasPlotArea(e).svgPlotArea(aM.seriesSvgPoint())),!0),uM=(t,e,n,r)=>{let a=null,i=null,o=aM.chartCartesian({xScale:t.scale,yScale:e.scale,xAxis:t.component,yAxis:e.component}).xDomain(t.domain).xLabel(t.label).xAxisHeight(t.size).xDecorate(t.decorate).xTickFormat(t.tickFormatFunction).yDomain(e.domain).yLabel(e.label).yAxisWidth(e.size).yDecorate(e.decorate).yOrient("left").yTickFormat(e.tickFormatFunction);t.decorate&&o.xDecorate(t.decorate),e.decorate&&o.yDecorate(e.decorate),o.xPaddingInner&&o.xPaddingInner(1),o.xPaddingOuter&&o.xPaddingOuter(.5),o.yPaddingInner&&o.yPaddingInner(1),o.yPaddingOuter&&o.yPaddingOuter(.5),o.axisSplitter=(...t)=>t.length?(a=t[0],o):a,o.altAxis=(...t)=>t.length?(i=t[0],o):i,o.plotArea=function(...t){return 0==t.length?r?this.canvasPlotArea():this.svgPlotArea():n(this,...t)};let u=o.decorate();return o.decorate(((n,l)=>{let c=n.select("d3fc-svg.plot-area"),f=c.select("svg").node();f.setAttribute("viewBox",`0 0 ${c.node().clientWidth} ${c.node().clientHeight}`),f.setAttribute("preserveAspectRatio","none");for(let t of["x-axis","y-axis"])n.select(`d3fc-svg.${t} svg`).node().setAttribute("preserveAspectRatio","none");if(u(n,l),r){rc([n.select(".svg-plot-area").node(),n.select(".canvas-plot-area").node()]).order()}if(a){if(a.haveSplit()){let u=a.altData(),c=aM.dataJoin("d3fc-svg","y2-axis").key((t=>t)),f=aM.dataJoin("g","y-series").key((t=>t));n.append("div").attr("class","y-label right-label").style("grid-column",5).style("-ms-grid-column",5).style("grid-row",3).style("-ms-grid-row",3).style("width",i.size||"1em").style("display","flex").style("align-items","center").style("justify-content","center").append("span").attr("class","y-label splitter-label").style("transform","rotate(-90deg)");let s=i.scale.domain(i.domain),h=i.component.right(s);if(h.tickFormat(i.tickFormatFunction),i.decorate&&h.decorate(i.decorate),c(n,["right"]).attr("class",(t=>`y-axis ${t}-axis`)).on("measure",(function(t,e){let{width:n,height:r}=t.detail;"left"===e&&Hl(t.currentTarget).select("svg").attr("viewBox",`${-n} 0 ${n} ${r}`).attr("preserveAspectRatio","none"),s.range([r,0])})).on("draw",(function(t,e){Hl(t.currentTarget).select("svg").call(h)})),r){let r=n=>{let r=o.plotArea();r.context(n.node().getContext("2d")).xScale(t.scale);let a=[e.scale,s];[l,u].forEach(((t,e)=>{r.yScale(a[e]),r(t)}))};n.select("d3fc-canvas.plot-area").on("draw",(function(t,e){r(Hl(t.currentTarget).select("canvas"))}))}else{let r=function(n){let r=o.plotArea();r.xScale(t.scale);let a=[e.scale,s];f(n,[l,u]).each(((t,e,n)=>{r.yScale(a[e]),Hl(n[e]).datum(t).call(r)}))};n.select("d3fc-svg.plot-area").on("draw",(function(t,e){r(Hl(t.currentTarget).select("svg"))}))}}a(n)}})),o},lM=s(Lx());function cM(t,e,n){let r=t.select(e);return r.size()>0?r:n()}function fM(t,e,n="right"){if("right"===n||"bottom"===n)return t[n]<e[n];if("left"===n||"top"===n)return t[n]>e[n];throw`Direction being checked for overflow is invalid: ${n}`}function sM(t,e,n,r=0){let a="x"===t?"width":"height",i=e[t],o=e[t]+e[a],u=n[t],l=n[t]+n[a];return u+r>i&&u-r<o||l+r>i&&l-r<o||u+r<i&&l-r>o}var hM='<ul id="tooltip-values"></ul>\n',dM=s(Hx());function gM(t,e){switch(t){case"date":case"datetime":return e instanceof Date?e:new Date(parseInt(e)).toLocaleString([],(0,dM.get_type_config)(t).format);case"integer":return parseInt(e,10);case"float":return parseFloat(e)}return e}function pM(t,e){return 0===e.crossValues.length||0===t.crossValue.length?[]:((t.crossValue.split?t.crossValue.split("|"):[t.crossValue])||[t.key]).map(((t,n)=>({name:e.crossValues[n].name,value:gM(e.crossValues[n].type,t)})))}function vM(t,e){if(0===e.splitValues.length)return[];let n=t.key?t.key.split("|"):t.mainValue.split?t.mainValue.split("|"):[t.mainValue];return e.splitValues.map(((t,e)=>({name:t.name,value:gM(t.type,n[e])})))}function mM(t,e){return e.mainValues.length>1?t.mainValue?[{name:t.key,value:t.mainValue-(t.baseValue||0)}]:e.mainValues.map(((e,n)=>({name:e.name,value:gM(e.type,t.mainValues[n])}))):[{name:e.mainValues[0].name,value:gM(e.mainValues[0].type,t.colorValue||t.mainValue-t.baseValue||t.mainValue||t.mainValues)}]}var yM=s(Hx());function bM(t,e,n){!function(t,e){t.select("#tooltip-values").selectAll("li").data(e).join("li").each((function(t){Hl(this).text(`${t.name}: `).append("b").text(xM(t.value))}))}(t,pM(e,n).concat(vM(e,n)).concat(mM(e,n)))}var xM=t=>null===t?"-":t.toLocaleString(void 0,{style:"decimal",minimumFractionDigits:(0,yM.get_type_config)("float").precision,maximumFractionDigits:(0,yM.get_type_config)("float").precision}),_M=t=>[t.name,"==",t.value],wM=(t,e,n)=>{let r=mM(e,n).map((t=>t.name)),a=pM(e,n).map(_M),i=vM(e,n).map(_M),o=n.filter.concat(a).concat(i);t.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{column_names:r,config:{filter:o},row:e.row}}))},SM=()=>{let t=!1,e=null,n=null,r=!1,a=a=>{let i=a.node();if(!i||!i.isConnected)return void MM(e);let o=Hl(ZS(i));e=function(t){return cM(t,"div.tooltip",(()=>t.append("div").attr("class","tooltip").style("z-index",3).style("opacity",0).html(hM)))}(o);let u=function(t,i){bM(e,i,n);let u=a.nodes(),l=u.indexOf(this);(function(t,e,n,r){let a=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=i.left+i.width/2-a.left,u=i.top-a.top+t.scrollTop;r&&(u=i.top+i.height/2-a.top+t.scrollTop),n.style("left",`${o}px`).style("top",`${u}px`).style("opacity",.9),r&&([o,u]=function(t,e){let n=t.node().getBoundingClientRect(),r=n.width/2,a=n.left-r-e.left;t.style("left",`${a}px`);let i=n.height/2,o=n.top-i-e.top;return t.style("top",`${o}px`),[a,o]}(n,a)),function(t,e,n,r,a=!1){let i=t.node().getBoundingClientRect();if(fM(e,i)){let r=i.right-e.right;t.style("left",n-r+"px")}if(fM(e,i,"bottom")){let n=i.bottom-e.bottom;t.style("top",r-n+"px")}if(a){if(fM(e,i,"left")){let r=i.left-e.left;t.style("left",n-r+"px")}if(fM(e,i,"top")){let n=i.top-e.top;t.style("top",r-n+"px")}}}(n,a,o,u,r)})(o.node(),u[l],e,r),Hl(u[l]).style("opacity","0.7")};t?a.each((function(t){return u.call(this,void 0,t)})):(a.on("mouseover",u).on("mouseout",(function(t,n){MM(e);let r=a.nodes(),i=r.indexOf(this);r&&Hl(r[i]).style("opacity","1")})),(()=>{let t=null,e=e=>{let n=e.node();e.on("click",((e,r)=>wM(n,r,t)))};return e.settings=(...n)=>n.length?(t=n[0],e):t,e})().settings(n)(a))};return a.alwaysShow=(...e)=>e.length?(t=e[0],a):t,a.centered=(...t)=>t.length?(r=t[0],a):r,a.settings=(...t)=>t.length?(n=t[0],a):n,a};function MM(t){t&&t.style("opacity",0)}function AM(t,e){let n=t.mainValues.length>1?lM.seriesSvgGrouped(lM.seriesSvgBar()):lM.seriesSvgBar();return n=n.decorate((n=>{SM().settings(t)(n),n.style("fill",(t=>e(t.key)))})),lM.autoBandwidth(kM(n)).crossValue((t=>t.crossValue)).mainValue((t=>t.mainValue?t.mainValue:0)).baseValue((t=>t.baseValue))}var kM=t=>{let e=e=>t(e);return lM.rebindAll(e,t),e.bandwidth=(...n)=>n.length?(t.bandwidth(Math.max(n[0],1)),e):t.bandwidth(),e};function VM(t){return t.split("|").slice(0,-1).join("|")}function TM(t){let e=t.data&&t.data.length>0?t.data[0]:{},n=Object.keys(e).filter((t=>"__ROW_PATH__"!==t));return EM().settings(t).domain(n)()}function CM(t,e){let n=Array.from(new Set(e));return EM().settings(t).domain(n)()}function NM(t){let e=t.data&&t.data.length>0?t.data[0]:{},n=[];return Object.keys(e).forEach((t=>{if("__ROW_PATH__"!==t){let e=VM(t);n.includes(e)||n.push(e)}})),EM().settings(t).domain(n)()}function EM(){let t=null,e=null,n={},r=t=>zM(t,n.colorStyles&&n.colorStyles.opacity),a=()=>{let a=n.colorStyles,i=e||[a.series];if(i||t.length>1){return z_((t.length>1?a.scheme:i).map(r)).domain(t)}return null};return a.domain=(...e)=>e.length?(t=e[0],a):t,a.defaultColors=(...t)=>t.length?(e=t[0],a):e,a.mapFunction=(...t)=>t.length?(r=t[0],a):r,a.settings=(...t)=>t.length?(n=t[0],a):n,a}function DM(t){return PM(1)(t)}function zM(t,e=.5){return PM(e)(t)}function PM(t){return e=>{let n=ad(e);return n.opacity=t,n+""}}var BM=s(Lx()),RM={none:VS,ordinal:tM,time:LS,linear:BS},OM=t=>{let e=Zx(t),n="__ROW_PATH__",r=(t,r)=>RM[e()](n)(t,r);return(0,BM.rebindAll)(r,e),r.valueName=(...t)=>t.length?(n=t[0],r):n,r};function IM(t,e,{stack:n=!1,excludeEmpty:r=!1}={}){let a=e||t.data;return t.splitValues.length>0?function(t,e,{stack:n=!1,excludeEmpty:r=!1}){let a={};return e.forEach((t=>{let e={},i={};Object.keys(t).filter((t=>"__ROW_PATH__"!==t)).filter((e=>!r||null!=t[e]&&null!=t[e])).forEach((r=>{let a=r.split("|"),o=a[a.length-1],u=t[r]||0,l=`${o}${u>=0?"+ve":"-ve"}`,c=a.slice(0,a.length-1).join("|"),f=i[c]=i[c]||{__ROW_PATH__:t.__ROW_PATH__},s=e[l]||0;f.__KEY__=c,n?(f[o]=s+u,f[`__BASE_VALUE__${o}`]=s,e[l]=f[o]):f[o]=u,f.row=t})),Object.keys(i).forEach((t=>{(a[t]=a[t]||[]).push(i[t])}))})),Object.keys(a).map((t=>{let e=a[t];return e.key=t,e}))}(0,a,{stack:n,excludeEmpty:r}):[a]}function YM(t,e){let n={stack:!0};return IM(t,e,n).map((e=>FM(t,e,n)))}function FM(t,e,{stack:n=!1}){let r=function(t,e,{stack:n=!1}){let r=OM(t);return t=>{let a=e=>n&&e[`__BASE_VALUE__${t.name}`]||0,i=e.map(((e,n)=>({crossValue:r(e,n),mainValue:e[t.name]?e[t.name]:null,baseValue:a(e),key:e.__KEY__?`${e.__KEY__}|${t.name}`:t.name,row:e.row||e})));return i.key=i[0].key,i}}(t,e,{stack:n});return t.mainValues.length>1?t.mainValues.map(r):r(t.mainValues[0])}var LM="http://www.w3.org/1999/xhtml",UM={svg:"http://www.w3.org/2000/svg",xhtml:LM,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function HM(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),UM.hasOwnProperty(e)?{space:UM[e],local:t}:t}function jM(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===LM&&e.documentElement.namespaceURI===LM?e.createElement(t):e.createElementNS(n,t)}}function WM(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function qM(t){var e=HM(t);return(e.local?WM:jM)(e)}var $M=0;function XM(){this._="@"+(++$M).toString(36)}XM.prototype=function(){return new XM}.prototype={constructor:XM,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var GM=function(t){return function(){return this.matches(t)}};"undefined"!=typeof document&&((QM=document.documentElement).matches||(ZM=QM.webkitMatchesSelector||QM.msMatchesSelector||QM.mozMatchesSelector||QM.oMatchesSelector,GM=function(t){return function(){return ZM.call(this,t)}}));var QM,ZM,KM=GM,JM={},tA=null;function eA(t,e,n){return t=nA(t,e,n),function(e){var n=e.relatedTarget;(!n||n!==this&&!(8&n.compareDocumentPosition(this)))&&t.call(this,e)}}function nA(t,e,n){return function(r){var a=tA;tA=r;try{t.call(this,this.__data__,e,n)}finally{tA=a}}}function rA(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function aA(t){return function(){var e=this.__on;if(e){for(var n,r=0,a=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++a]=n:this.removeEventListener(n.type,n.listener,n.capture);++a?e.length=a:delete this.__on}}}function iA(t,e,n){var r=JM.hasOwnProperty(t.type)?eA:nA;return function(a,i,o){var u,l=this.__on,c=r(e,i,o);if(l)for(var f=0,s=l.length;f<s;++f)if((u=l[f]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=n),void(u.value=e);this.addEventListener(t.type,c,n),u={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(u):this.__on=[u]}}function oA(){}function uA(t){return null==t?oA:function(){return this.querySelector(t)}}function lA(){return[]}function cA(t){return new Array(t.length)}function fA(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(JM={mouseenter:"mouseover",mouseleave:"mouseout"})),fA.prototype={constructor:fA,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function sA(t,e,n,r,a,i){for(var o,u=0,l=e.length,c=i.length;u<c;++u)(o=e[u])?(o.__data__=i[u],r[u]=o):n[u]=new fA(t,i[u]);for(;u<l;++u)(o=e[u])&&(a[u]=o)}function hA(t,e,n,r,a,i,o){var u,l,c,f={},s=e.length,h=i.length,d=new Array(s);for(u=0;u<s;++u)(l=e[u])&&(d[u]=c="$"+o.call(l,l.__data__,u,e),c in f?a[u]=l:f[c]=l);for(u=0;u<h;++u)(l=f[c="$"+o.call(t,i[u],u,i)])?(r[u]=l,l.__data__=i[u],f[c]=null):n[u]=new fA(t,i[u]);for(u=0;u<s;++u)(l=e[u])&&f[d[u]]===l&&(a[u]=l)}function dA(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function gA(t){return function(){this.removeAttribute(t)}}function pA(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vA(t,e){return function(){this.setAttribute(t,e)}}function mA(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function yA(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function bA(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function xA(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function _A(t){return function(){this.style.removeProperty(t)}}function wA(t,e,n){return function(){this.style.setProperty(t,e,n)}}function SA(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function MA(t){return function(){delete this[t]}}function AA(t,e){return function(){this[t]=e}}function kA(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function VA(t){return t.trim().split(/^|\s+/)}function TA(t){return t.classList||new CA(t)}function CA(t){this._node=t,this._names=VA(t.getAttribute("class")||"")}function NA(t,e){for(var n=TA(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function EA(t,e){for(var n=TA(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function DA(t){return function(){NA(this,t)}}function zA(t){return function(){EA(this,t)}}function PA(t,e){return function(){(e.apply(this,arguments)?NA:EA)(this,t)}}function BA(){this.textContent=""}function RA(t){return function(){this.textContent=t}}function OA(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function IA(){this.innerHTML=""}function YA(t){return function(){this.innerHTML=t}}function FA(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function LA(){this.nextSibling&&this.parentNode.appendChild(this)}function UA(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function HA(){return null}function jA(){var t=this.parentNode;t&&t.removeChild(this)}function WA(t,e,n){var r=xA(t),a=r.CustomEvent;a?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function qA(t,e){return function(){return WA(this,t,e)}}function $A(t,e){return function(){return WA(this,t,e.apply(this,arguments))}}CA.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var XA,GA=[null];function QA(t,e){this._groups=t,this._parents=e}function ZA(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function KA(t,e){var n=ZA(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}QA.prototype=function(){return new QA([[document.documentElement]],GA)}.prototype={constructor:QA,select:function(t){"function"!=typeof t&&(t=uA(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o,u=e[a],l=u.length,c=r[a]=new Array(l),f=0;f<l;++f)(i=u[f])&&(o=t.call(i,i.__data__,f,u))&&("__data__"in i&&(o.__data__=i.__data__),c[f]=o);return new QA(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?lA:function(){return this.querySelectorAll(t)}}(t));for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var o,u=e[i],l=u.length,c=0;c<l;++c)(o=u[c])&&(r.push(t.call(o,o.__data__,c,u)),a.push(o));return new QA(r,a)},filter:function(t){"function"!=typeof t&&(t=KM(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],u=o.length,l=r[a]=[],c=0;c<u;++c)(i=o[c])&&t.call(i,i.__data__,c,o)&&l.push(i);return new QA(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var n=e?hA:sA,r=this._parents,a=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var i=a.length,o=new Array(i),u=new Array(i),l=new Array(i),c=0;c<i;++c){var f=r[c],s=a[c],h=s.length,d=t.call(f,f&&f.__data__,c,r),g=d.length,p=u[c]=new Array(g),v=o[c]=new Array(g);n(f,s,p,v,l[c]=new Array(h),d,e);for(var m,y,b=0,x=0;b<g;++b)if(m=p[b]){for(b>=x&&(x=b+1);!(y=v[x])&&++x<g;);m._next=y||null}}return(o=new QA(o,r))._enter=u,o._exit=l,o},enter:function(){return new QA(this._enter||this._groups.map(cA),this._parents)},exit:function(){return new QA(this._exit||this._groups.map(cA),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),o=new Array(r),u=0;u<i;++u)for(var l,c=e[u],f=n[u],s=c.length,h=o[u]=new Array(s),d=0;d<s;++d)(l=c[d]||f[d])&&(h[d]=l);for(;u<r;++u)o[u]=e[u];return new QA(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,a=t[e],i=a.length-1,o=a[i];--i>=0;)(r=a[i])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=dA);for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o,u=n[i],l=u.length,c=a[i]=new Array(l),f=0;f<l;++f)(o=u[f])&&(c[f]=o);c.sort(e)}return new QA(a,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a,i=e[n],o=0,u=i.length;o<u;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this},attr:function(t,e){var n=HM(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?pA:gA:"function"==typeof e?n.local?bA:yA:n.local?mA:vA)(n,e))},style:function(t,e,n){var r;return arguments.length>1?this.each((null==e?_A:"function"==typeof e?SA:wA)(t,e,n??"")):xA(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)},property:function(t,e){return arguments.length>1?this.each((null==e?MA:"function"==typeof e?kA:AA)(t,e)):this.node()[t]},classed:function(t,e){var n=VA(t+"");if(arguments.length<2){for(var r=TA(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?PA:e?DA:zA)(n,e))},text:function(t){return arguments.length?this.each(null==t?BA:("function"==typeof t?OA:RA)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?IA:("function"==typeof t?FA:YA)(t)):this.node().innerHTML},raise:function(){return this.each(LA)},lower:function(){return this.each(UA)},append:function(t){var e="function"==typeof t?t:qM(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:qM(t),r=null==e?HA:"function"==typeof e?e:uA(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(jA)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,a,i=rA(t+""),o=i.length;if(!(arguments.length<2)){for(u=e?iA:aA,null==n&&(n=!1),r=0;r<o;++r)this.each(u(i[r],e,n));return this}var u=this.node().__on;if(u)for(var l,c=0,f=u.length;c<f;++c)for(r=0,l=u[c];r<o;++r)if((a=i[r]).type===l.type&&a.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?$A:qA)(t,e))}};var JA={"":function(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,a=1,i=-1;a<r;++a)switch(t[a]){case".":i=n=a;break;case"0":0===i&&(i=a),n=a;break;case"e":break t;default:i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return KA(100*t,e)},r:KA,s:function(t,e){var n=ZA(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(XA=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ZA(t,Math.max(0,e+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},tk=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function ek(t){return new nk(t)}function nk(t){if(!(e=tk.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",a=e[3]||"-",i=e[4]||"",o=!!e[5],u=e[6]&&+e[6],l=!!e[7],c=e[8]&&+e[8].slice(1),f=e[9]||"";"n"===f?(l=!0,f="g"):JA[f]||(f=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=a,this.symbol=i,this.zero=o,this.width=u,this.comma=l,this.precision=c,this.type=f}nk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var rk,ak,ik,ok=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function uk(t){return t}function lk(t){var e=t.grouping&&t.thousands?function(t,e){return function(n,r){for(var a=n.length,i=[],o=0,u=t[0],l=0;a>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),i.push(n.substring(a-=u,a+u)),!((l+=u+1)>r));)u=t[o=(o+1)%t.length];return i.reverse().join(e)}}(t.grouping,t.thousands):uk,n=t.currency,r=t.decimal;function a(t){var a=(t=ek(t)).fill,i=t.align,o=t.sign,u=t.symbol,l=t.zero,c=t.width,f=t.comma,s=t.precision,h=t.type,d="$"===u?n[0]:"#"===u&&/[boxX]/.test(h)?"0"+h.toLowerCase():"",g="$"===u?n[1]:/[%p]/.test(h)?"%":"",p=JA[h],v=!h||/[defgprs%]/.test(h);function m(t){var n,u,m,y=d,b=g;if("c"===h)b=p(t)+b,t="";else{var x=((t=+t)<0||1/t<0)&&(t*=-1,!0);if(t=p(t,s),x)for(n=-1,u=t.length,x=!1;++n<u;)if(48<(m=t.charCodeAt(n))&&m<58||"x"===h&&96<m&&m<103||"X"===h&&64<m&&m<71){x=!0;break}if(y=(x?"("===o?o:"-":"-"===o||"("===o?"":o)+y,b=b+("s"===h?ok[8+XA/3]:"")+(x&&"("===o?")":""),v)for(n=-1,u=t.length;++n<u;)if(48>(m=t.charCodeAt(n))||m>57){b=(46===m?r+t.slice(n+1):t.slice(n))+b,t=t.slice(0,n);break}}f&&!l&&(t=e(t,1/0));var _=y.length+t.length+b.length,w=_<c?new Array(c-_+1).join(a):"";switch(f&&l&&(t=e(w+t,w.length?c-b.length:1/0),w=""),i){case"<":return y+t+b+w;case"=":return y+w+t+b;case"^":return w.slice(0,_=w.length>>1)+y+t+b+w.slice(_)}return w+y+t+b}return s=null==s?h?6:12:/[gprs]/.test(h)?Math.max(1,Math.min(21,s)):Math.max(0,Math.min(20,s)),m.toString=function(){return t+""},m}return{format:a,formatPrefix:function(t,e){var n=a(((t=ek(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(function(t){return(t=ZA(Math.abs(t)))?t[1]:NaN}(e)/3))),i=Math.pow(10,-r),o=ok[8+r/3];return function(t){return n(i*t)+o}}}}!function(t){rk=lk(t),ak=rk.format,ik=rk.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var ck={value:function(){}};function fk(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new sk(r)}function sk(t){this._=t}function hk(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function dk(t,e){for(var n,r=0,a=t.length;r<a;++r)if((n=t[r]).name===e)return n.value}function gk(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=ck,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}sk.prototype=fk.prototype={constructor:sk,on:function(t,e){var n,r=this._,a=hk(t+"",r),i=-1,o=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<o;)if(n=(t=a[i]).type)r[n]=gk(r[n],t.name,e);else if(null==e)for(n in r)r[n]=gk(r[n],t.name,null);return this}for(;++i<o;)if((n=(t=a[i]).type)&&(n=dk(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new sk(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,a)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};var pk=fk,vk=s(bn());function mk(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var yk=function(t){return 1===t.length&&(t=function(t){return function(e,n){return mk(t(e),n)}}(t)),{left:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)<0?r=i+1:a=i}return r},right:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)>0?a=i:r=i+1}return r}}}(mk),bk=(yk.right,yk.left,Array.prototype);bk.slice,bk.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);function xk(t,e){var n,r,a=-1,i=t.length;if(null==e){for(;++a<i;)if(null!=(r=t[a])&&r>=r){n=r;break}for(;++a<i;)null!=(r=t[a])&&r>n&&(n=r)}else{for(;++a<i;)if(null!=(r=e(t[a],a,t))&&r>=r){n=r;break}for(;++a<i;)null!=(r=e(t[a],a,t))&&r>n&&(n=r)}return n}function _k(t,e){var n,r=0,a=t.length,i=-1;if(null==e)for(;++i<a;)(n=+t[i])&&(r+=n);else for(;++i<a;)(n=+e(t[i],i,t))&&(r+=n);return r}var wk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sk=function(t){return t},Mk=function(t){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[r-n-1];return e},Ak=function(t,e){t.each((function(){for(var t,n=function(t){return"string"==typeof t?new QA([[document.querySelector(t)]],[document.documentElement]):new QA([[t]],GA)}(this),r=n.text().split(/\s+/).reverse(),a=[],i=(n.attr("y"),parseFloat(n.attr("dy"))||0),o=n.text(null).append("tspan").attr("x",0).attr("dy",i+"em");t=r.pop();)a.push(t),o.text(a.join(" ")),o.node().getComputedTextLength()>e&&a.length>1&&(a.pop(),o.text(a.join(" ")),a=[t],o=n.append("tspan").attr("x",0).attr("dy",1.2+i+"em").text(t))}))},kk={d3_drawShapes:function(t,e,n,r,a,i){"rect"===t?e.attr("height",n).attr("width",r):"circle"===t?e.attr("r",a):"line"===t?e.attr("x1",0).attr("x2",r).attr("y1",0).attr("y2",0):"path"===t&&e.attr("d",i)},d3_addText:function(t,e,n,r,a){e.append("text").attr("class",r+"label");var i=t.selectAll("g."+r+"cell text."+r+"label").data(n).text(Sk);return a&&t.selectAll("g."+r+"cell text."+r+"label").call(Ak,a),i},d3_calcType:function(t,e,n,r,a,i){var o=t.invertExtent?function(t,e,n){var r=t.range().map((function(r){var a=t.invertExtent(r);return e(a[0])+" "+n+" "+e(a[1])}));return{data:t.range(),labels:r,feature:Sk}}(t,a,i):t.ticks?function(t,e,n){var r=[];if(e.length>1)r=e;else for(var a=t.domain(),i=(a[a.length-1]-a[0])/(e-1),o=0;o<e;o++)r.push(a[0]+o*i);var u=r.map(n);return{data:r,labels:u,feature:function(e){return t(e)}}}(t,n,a):function(t){return{data:t.domain(),labels:t.domain(),feature:function(e){return t(e)}}}(t),u=t.range&&t.range()||t.domain();return o.labels=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=arguments[2],r=arguments[3],a=arguments[4];if("object"===(void 0===e?"undefined":wk(e))){if(0===e.length)return t;for(var i=e.length;i<t.length;i++)e.push(t[i]);return e}if("function"==typeof e){for(var o=[],u=t.length,l=0;l<u;l++)o.push(e({i:l,genLength:u,generatedLabels:t,domain:n,range:r,labelDelimiter:a}));return o}return t}(o.labels,r,t.domain(),u,i),e&&(o.labels=Mk(o.labels),o.data=Mk(o.data)),o},d3_filterCells:function(t,e){var n=t.data.map((function(e,n){return{data:e,label:t.labels[n]}})).filter(e),r=n.map((function(t){return t.data})),a=n.map((function(t){return t.label}));return t.data=t.data.filter((function(t){return-1!==r.indexOf(t)})),t.labels=t.labels.filter((function(t){return-1!==a.indexOf(t)})),t},d3_placement:function(t,e,n,r,a,i){e.attr("transform",n),r.attr("transform",a),"horizontal"===t&&r.style("text-anchor",i)},d3_addEvents:function(t,e){t.on("mouseover.legend",(function(t){!function(t,e,n){t.call("cellover",n,e)}(e,t,this)})).on("mouseout.legend",(function(t){!function(t,e,n){t.call("cellout",n,e)}(e,t,this)})).on("click.legend",(function(t){!function(t,e,n){t.call("cellclick",n,e)}(e,t,this)}))},d3_title:function(t,e,n,r){if(""!==e){t.selectAll("text."+n+"legendTitle").data([e]).enter().append("text").attr("class",n+"legendTitle"),t.selectAll("text."+n+"legendTitle").text(e),r&&t.selectAll("text."+n+"legendTitle").call(Ak,r);var a=t.select("."+n+"legendCells"),i=t.select("."+n+"legendTitle").nodes().map((function(t){return t.getBBox().height}))[0],o=-a.nodes().map((function(t){return t.getBBox().x}))[0];a.attr("transform","translate("+o+","+i+")")}},d3_defaultLocale:{format:ak,formatPrefix:ik},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function Vk(){var t=(0,vk.scaleLinear)(),e="rect",n=15,r=15,a=10,i=2,o=[5],u=void 0,l=[],c="",f=!1,s="",h=kk.d3_defaultLocale,d=kk.d3_defaultFormatSpecifier,g=10,p="middle",v=kk.d3_defaultDelimiter,m=void 0,y="vertical",b=!1,x=void 0,_=void 0,w=pk("cellover","cellout","cellclick");function S(S){var M=kk.d3_calcType(t,b,o,l,h.format(d),v);S.selectAll("g").data([t]).enter().append("g").attr("class",c+"legendCells"),u&&kk.d3_filterCells(M,u);var A=S.select("."+c+"legendCells").selectAll("."+c+"cell").data(M.data),k=A.enter().append("g").attr("class",c+"cell");k.append(e).attr("class",c+"swatch");var V=S.selectAll("g."+c+"cell "+e+"."+c+"swatch").data(M.data);kk.d3_addEvents(k,w),A.exit().transition().style("opacity",0).remove(),V.exit().transition().style("opacity",0).remove(),V=V.merge(V),kk.d3_drawShapes(e,V,r,n,a,x);var T=kk.d3_addText(S,k,M.labels,c,m);A=k.merge(A);var C=T.nodes().map((function(t){return t.getBBox()})),N=V.nodes().map((function(t){return t.getBBox()}));f?V.attr("class",(function(t){return c+"swatch "+M.feature(t)})):"line"==e?V.style("stroke",M.feature):V.style("fill",M.feature);var E,D=void 0,z=void 0,P="start"==p?0:"middle"==p?.5:1;"vertical"===y?(E=C.map((function(t,e){return Math.max(t.height,N[e].height)})),D=function(t,e){return"translate(0, "+(_k(E.slice(0,e))+e*i)+")"},z=function(t,e){return"translate( "+(N[e].width+N[e].x+g)+", "+(N[e].y+N[e].height/2+5)+")"}):"horizontal"===y&&(D=function(t,e){return"translate("+e*(N[e].width+i)+",0)"},z=function(t,e){return"translate("+(N[e].width*P+N[e].x)+",\n          "+(N[e].height+N[e].y+g+8)+")"}),kk.d3_placement(y,A,D,T,z,p),kk.d3_title(S,s,c,_),A.transition().style("opacity",1)}return S.scale=function(e){return arguments.length?(t=e,S):t},S.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(o=t),S):o},S.cellFilter=function(t){return arguments.length?(u=t,S):u},S.shape=function(t,n){return arguments.length?(("rect"==t||"circle"==t||"line"==t||"path"==t&&"string"==typeof n)&&(e=t,x=n),S):e},S.shapeWidth=function(t){return arguments.length?(n=+t,S):n},S.shapeHeight=function(t){return arguments.length?(r=+t,S):r},S.shapeRadius=function(t){return arguments.length?(a=+t,S):a},S.shapePadding=function(t){return arguments.length?(i=+t,S):i},S.labels=function(t){return arguments.length?(l=t,S):l},S.labelAlign=function(t){return arguments.length?(("start"==t||"end"==t||"middle"==t)&&(p=t),S):p},S.locale=function(t){return arguments.length?(h=lk(t),S):h},S.labelFormat=function(t){return arguments.length?(d=ek(t),S):S.locale().format(d)},S.labelOffset=function(t){return arguments.length?(g=+t,S):g},S.labelDelimiter=function(t){return arguments.length?(v=t,S):v},S.labelWrap=function(t){return arguments.length?(m=t,S):m},S.useClass=function(t){return arguments.length?((!0===t||!1===t)&&(f=t),S):f},S.orient=function(t){return arguments.length?(("horizontal"==(t=t.toLowerCase())||"vertical"==t)&&(y=t),S):y},S.ascending=function(t){return arguments.length?(b=!!t,S):b},S.classPrefix=function(t){return arguments.length?(c=t,S):c},S.title=function(t){return arguments.length?(s=t,S):s},S.titleWidth=function(t){return arguments.length?(_=t,S):_},S.textWrap=function(t){return arguments.length?(textWrap=t,S):textWrap},S.on=function(){var t=w.on.apply(w,arguments);return t===w?S:t},S}var Tk=s(Lx());var Ck=10;function Nk(t,e,n){let r=Hl(QS(t).getContainer()).node().getBoundingClientRect(),a=t.getBoundingClientRect(),i={top:a.top+n-Ck,right:a.right+e+Ck,bottom:a.bottom+n+Ck,left:a.left+e-Ck},o={x:e,y:n};return[{edge:"right",dimension:"x"},{edge:"left",dimension:"x"},{edge:"top",dimension:"y"},{edge:"bottom",dimension:"y"}].forEach((t=>{if(fM(r,i,t.edge)){let e=i[t.edge]-r[t.edge];o[t.dimension]=o[t.dimension]-e}})),o}var Ek="resize.for-dragging";function Dk(){let t=!0,e=null,n=n=>{let r=n.node(),a=r.getRootNode().host.closest("perspective-viewer");r.style.cursor="move",e.legend&&(r.style.left=e.legend.left,r.style.top=e.legend.top);let i=ym().on("drag",(function(n){let a=Nk(this,n.dx,n.dy);this.style.left=`${this.offsetLeft+a.x}px`,this.style.top=`${this.offsetTop+a.y}px`;let i={left:this.style.left,top:this.style.top};e.legend={...e.legend,...i},t=function(t){let e=t.getBoundingClientRect(),n=Hl(ZS(t)).node().getBoundingClientRect(),r=5;return e.right+Ck+r>=n.right&&e.top-Ck-r<=n.top}(r)?function(t){return Hl(window).on(Ek,null),t.style.left="auto",!0}(r):function(t,e){return!1!==e&&Hl(window).on(Ek,(function(){let e=Nk(t,0,0);t.style.left=`${t.offsetLeft+e.x}px`,t.style.top=`${t.offsetTop+e.y}px`})),!1}(r,t)}));i.on("end",(function(t){Hl(window).on(Ek,null),a?.dispatchEvent(new Event("perspective-config-update"))})),n.call(i)};return n.settings=(...t)=>t.length?(e=t[0],n):e,n}var zk="horizontal-drag-handle",Pk="vertical-drag-handle",Bk="dragHandles",Rk="resize";var Ok=(t,e,n,r)=>{t.selectAll(`.${r}`).each(((t,r,a)=>{let i=a[r];Hl(i).attr(n,i.getBoundingClientRect()[n]-e)}))},Ik=t=>t.select(`#${Bk}`).size()>0,Yk=(t,e,n)=>t.attr(e,Number(t.attr(e))-n),Fk=(t,e,n)=>t.attr(e,t.node().getBoundingClientRect()[e]-n),Lk=(t,e)=>{let n,r,a=t||Vk(),i=[],o=1,u=e.legend&&e.legend.pageIndex?e.legend.pageIndex:0,l=()=>{},c=Dk().settings(e),f=t=>{i=a.scale().domain(),r=function(){let t=9,e=3,n=null,r={height:100,width:100},a={height:null,width:null},i=[],o=(t,e)=>i.filter((e=>e.event===t)).forEach((t=>t.execute(e))),u=r=>{if(Ik(r))return;let i={left:t=>o(Rk,{horizontal:k(t),vertical:!1}),top:t=>o(Rk,{horizontal:!1,vertical:T(t)}),right:t=>o(Rk,{horizontal:V(t),vertical:!1}),bottom:t=>o(Rk,{horizontal:!1,vertical:C(t)}),topleft:t=>o(Rk,{horizontal:k(t),vertical:T(t)}),topright:t=>o(Rk,{horizontal:V(t),vertical:T(t)}),bottomright:t=>o(Rk,{horizontal:V(t),vertical:C(t)}),bottomleft:t=>o(Rk,{horizontal:k(t),vertical:C(t)})},u=r.node();n.legend&&(u.style.height=n.legend.height,u.style.width=n.legend.width);let f=u.getBoundingClientRect(),s=r.append("svg").attr("id",Bk).attr("width",f.width).attr("height",f.height),h=s.append("g"),d=t=>"left"===t||"right"===t,g={left:0,top:t,right:f.width-t,bottom:t},p={left:t,top:0,right:t,bottom:f.height-t},[v,m,y,b]=["left","top","right","bottom"].map((n=>h.append("rect").attr("id",`drag${n}`).attr("class",d(n)?Pk:zk).attr("y",p[n]).attr("x",g[n]).attr("height",d(n)?f.height-2*t:t).attr("width",d(n)?t:f.width-2*t).attr("fill",d(n)?"lightgreen":"lightblue").attr("fill-opacity",0).style("z-index",e).attr("cursor",d(n)?"ew-resize":"ns-resize").call(ym().on("drag",i[n])))),x=t=>`${t[0]}${t[1]}`,_={topleft:"nwse",topright:"nesw",bottomright:"nwse",bottomleft:"nesw"},[w,S,M,A]=[["top","left"],["top","right"],["bottom","right"],["bottom","left"]].map((n=>h.append("rect").attr("id",`drag${x(n)}`).attr("class",`corner-drag-handle ${n[0]} ${n[1]}`).attr("height",t).attr("width",t).attr("fill","red").attr("fill-opacity",0).style("z-index",e).attr("cursor",`${_[x(n)]}-resize`).call(ym().on("drag",i[x(n)]))));function k(t){let e=c(Nk(v.node(),t.x,0).x,s,"width",((t,e)=>t-e));return u.style.left=`${u.offsetLeft+e}px`,u.style.width=u.offsetWidth-e+"px",N(),E(y,e,"width","x")}function V(t){let e=-c(Nk(y.node(),t.dx,0).x,s,"width",((t,e)=>t+e));return!l(e,"x",y,t)&&(u.style.width=u.offsetWidth-e+"px",N(),E(y,e,"width","x"))}function T(t){let e=c(Nk(m.node(),0,t.y).y,s,"height",((t,e)=>t-e));return u.style.top=`${u.offsetTop+e}px`,u.style.height=u.offsetHeight-e+"px",N(),E(b,e,"height","y")}function C(t){let e=-c(Nk(b.node(),0,t.dy).y,s,"height",((t,e)=>t+e));return!l(e,"y",b,t)&&(u.style.height=u.offsetHeight-e+"px",N(),E(b,e,"height","y"))}function N(){let t={top:u.style.top,left:u.style.left,height:u.style.height,width:u.style.width};n.legend={...n.legend,...t}}function E(t,e,n,r){return Fk(s,n,e),Yk(t,r,e),Ok(s,e,n,"height"===n?Pk:zk),D(s),0!=e}function D(e){w.attr("y",0,"x",0),S.attr("y",0).attr("x",e.attr("width")-t),M.attr("y",e.attr("height")-t).attr("x",e.attr("width")-t),A.attr("y",e.attr("height")-t).attr("x",0)}function z(t,e,n){a[t]&&a[t]<f[t]&&(u.style[t]=`${a[t]}px`,E(n,f[t]-a[t],t,e))}z("height","y",b),z("width","x",y),D(s)};function l(t,e,n,r){return a=e,i=n,t<0&&r[a]<Number(i.attr(a))||((t,e,n,r)=>t>0&&r[e]>Number(n.attr(e)))(t,e,n,r);var a,i}function c(t,e,n,i){let o=i(Number(e.attr(n)),t);return o<r[n]?i(t,r[n]-o):a[n]&&o>a[n]?i(t,a[n]-o):t}return u.on=(t,e)=>(i.push({event:t,execute:e}),u),u.zIndex=t=>(e=t,u),u.settings=(...t)=>t.length?(n=t[0],u):n,u.minWidth=t=>(r.width=t,a.width&&(a.width=Math.max(r.width,a.width)),u),u.minHeight=t=>(r.height=t,a.height&&(a.height=Math.max(r.height,a.height)),u),u.handleWidth=e=>(t=e,u),u.maxWidth=t=>(a.width=t,r.width=Math.min(r.width,a.width),u),u.maxHeight=t=>(a.height=t,r.height=Math.min(r.height,a.height),u),u}().settings(e).maxHeight(16*i.length+20).on("resize",(()=>s(t))),r(t),c(t),s(t)},s=t=>{v(t),h(t),d(t),function(t){let e=t.select("g.legendCells"),n=t.node().getBoundingClientRect();if(!fM(n,e.node().getBoundingClientRect()))return;let r=t.select(".legend");e.selectAll(".label").text(((t,e,a)=>{let i=a[e];if(fM(n,i.getBoundingClientRect())){let e=function(t,e,n){let r=t.getBoundingClientRect(),a=e.node().createSVGPoint(),i=3;return a.x=n.right-r.left-i,a.y=0,t.getCharNumAtPosition(a)}(i,r,n);return`${t.substring(0,e-3)}...`}return t}))}(t)},h=t=>{let e=y(t);e.style("display",o<=1?"none":"block"),e.select("#page-text").text(`${u+1}/${o}`),e.select("#up-arrow").attr("class",0===u?"disabled":"").on("click",(()=>{u>0&&(g(u-1),s(t))})),e.select("#down-arrow").attr("class",u>=o-1?"disabled":"").on("click",(()=>{u<o-1&&(g(u+1),s(t))}))},d=t=>{o>1&&a.cellFilter(p()),t.select("g.legendCells").remove();let e=b(t);e.call(a);let n=t.select("g.legendCells").node().getBBox();e.attr("height",n.height+20),l(t)},g=t=>{u=t,e.legend={...e.legend,pageIndex:u}},p=()=>(t,e)=>e>=n*u&&e<n*u+n,v=t=>{let e=t.node().getBoundingClientRect(),r=Math.floor(e.height/16)-1;n=r<i.length?r-1:r,o=m(r),u=Math.min(u,o-1)},m=t=>Math.ceil(i.length/t),y=t=>cM(t,".legend-controls",(()=>t.append("g").attr("class","legend-controls").html('<span id="up-arrow">&#9650;</span>\n<span id="page-text"></span>\n<span id="down-arrow">&#9660;</span>\n'))),b=t=>cM(t,".legend",(()=>t.append("svg").attr("class","legend")));return f.decorate=(...t)=>t.length?(l=t[0],f):l,(0,Tk.rebindAll)(f,a),f},Uk=t=>Lk(Vk().shape("circle").shapeRadius(6),t),Hk=t=>Lk(function(){var t=(0,vk.scaleLinear)(),e="path",n=5,r=[5],a=void 0,i=[],o="",u="",l=kk.d3_defaultLocale,c=kk.d3_defaultFormatSpecifier,f="middle",s=10,h=kk.d3_defaultDelimiter,d=void 0,g="vertical",p=!1,v=void 0,m=pk("cellover","cellout","cellclick");function y(y){var b=kk.d3_calcType(t,p,r,i,l.format(c),h),x=y.selectAll("g").data([t]);a&&kk.d3_filterCells(b,a),x.enter().append("g").attr("class",o+"legendCells");var _=y.select("."+o+"legendCells").selectAll("."+o+"cell").data(b.data),w=_.enter().append("g").attr("class",o+"cell");w.append(e).attr("class",o+"swatch");var S=y.selectAll("g."+o+"cell "+e+"."+o+"swatch");kk.d3_addEvents(w,m),_.exit().transition().style("opacity",0).remove(),S.exit().transition().style("opacity",0).remove(),S=S.merge(S),kk.d3_drawShapes(e,S,15,15,10,b.feature);var M=kk.d3_addText(y,w,b.labels,o,d);_=w.merge(_);var A,k=M.nodes().map((function(t){return t.getBBox()})),V=S.nodes().map((function(t){return t.getBBox()})),T=xk(V,(function(t){return t.height})),C=xk(V,(function(t){return t.width})),N=void 0,E=void 0,D="start"==f?0:"middle"==f?.5:1;"vertical"===g?(A=k.map((function(t,e){return Math.max(T,t.height)})),N=function(t,e){return"translate(0, "+(_k(A.slice(0,e))+e*n)+" )"},E=function(t,e){return"translate( "+(C+s)+",\n              "+(V[e].y+V[e].height/2+5)+")"}):"horizontal"===g&&(N=function(t,e){return"translate( "+e*(C+n)+",0)"},E=function(t,e){return"translate( "+(V[e].width*D+V[e].x)+",\n              "+(T+s)+")"}),kk.d3_placement(g,_,N,M,E,f),kk.d3_title(y,u,o,v),_.transition().style("opacity",1)}return y.scale=function(e){return arguments.length?(t=e,y):t},y.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(r=t),y):r},y.cellFilter=function(t){return arguments.length?(a=t,y):a},y.shapePadding=function(t){return arguments.length?(n=+t,y):n},y.labels=function(t){return arguments.length?(i=t,y):i},y.labelAlign=function(t){return arguments.length?(("start"==t||"end"==t||"middle"==t)&&(f=t),y):f},y.locale=function(t){return arguments.length?(l=lk(t),y):l},y.labelFormat=function(t){return arguments.length?(c=ek(t),y):y.locale().format(c)},y.labelOffset=function(t){return arguments.length?(s=+t,y):s},y.labelDelimiter=function(t){return arguments.length?(h=t,y):h},y.labelWrap=function(t){return arguments.length?(d=t,y):d},y.orient=function(t){return arguments.length?(("horizontal"==(t=t.toLowerCase())||"vertical"==t)&&(g=t),y):g},y.ascending=function(t){return arguments.length?(p=!!t,y):p},y.classPrefix=function(t){return arguments.length?(o=t,y):o},y.title=function(t){return arguments.length?(u=t,y):u},y.titleWidth=function(t){return arguments.length?(v=t,y):v},y.on=function(){var t=m.on.apply(m,arguments);return t===m?y:t},y}().shapePadding(1).labelOffset(3),t),jk=()=>$k(Uk),Wk=()=>$k(Hk,qk);function qk(t){if(!t)return null;let e=t.domain(),n=t.range().map((t=>Hf().type(t)()));return z_().domain(e).range(n)}function $k(t,e){let n={},r=null,a=null;function i(e){if(r&&r.range().length>1){let i=t(n);i.scale(r).orient("vertical").on("cellclick",(function(t){let e=this.__data__;n.hideKeys=n.hideKeys||[],n.hideKeys.includes(e)?n.hideKeys=n.hideKeys.filter((t=>t!==e)):n.hideKeys.push(e),QS(this)._draw()})),i.labels((t=>{let e=t.domain[t.i].split("|");return n.mainValues.length<=1&&e.length>1?e.slice(0,e.length-1).join("|"):t.domain[t.i]}));let o=cM(e,"div.legend-container",(()=>e.append("div")));i.decorate((t=>{let e=t=>n.hideKeys&&n.hideKeys.includes(t),r=t.select("g.legendCells").attr("transform","translate(20,20)").selectAll("g.cell");r.classed("hidden",e),r.append("title").html((t=>t)),a&&r.select("circle, path").style("fill",(t=>e(t)?null:a(t))).style("stroke",(t=>e(t)?null:DM(a(t))))})),o.attr("class","legend-container").attr("borderbox-on-hover",!0).style("z-index","2").call(i)}}return i.settings=(...t)=>t.length?(n=t[0],i):n,i.scale=(...t)=>t.length?(r=e?e(t[0]):t[0],i):r,i.color=(...t)=>t.length?(a=t[0],i):a,i}function Xk(t,e){let n=e||t.data;return t.hideKeys&&t.hideKeys.length>0?n.map((e=>{let n={...e};return t.hideKeys.forEach((t=>{delete n[t]})),n})):n}function Gk(t,e){let n=e||t.data;return t.hideKeys&&t.hideKeys.length>0?n.map((e=>{let n={};return Object.keys(e).map((r=>{t.hideKeys.includes(VM(r))||(n[r]=e[r])})),n})):n}var Qk=s(Lx()),Zk=t=>t.style("display","none"),Kk=(t,e)=>{let n="both",r=!1,a=null,i=null,o=null,u=Qk.seriesSvgMulti(),l=Qk.annotationSvgGridline(),c=(t=>e=>e.style("stroke-width","1.0").style("stroke",t?t.colorStyles.grid.gridLineColor:"#bbb"))(e),f=Zk,s=function(...s){r&&(u=Qk.seriesCanvasMulti().context(o),l=Qk.annotationCanvasGridline(),c=(t=>e=>{e.strokeStyle=t?t.colorStyles.grid.gridLineColor:"#bbb",e.lineWidth=1})(e),f=(t=>e=>{e.lineWidth=1,e.strokeStyle=t?t.colorStyles.grid.gridLineColor:"#bbb"})(e));let h=u.xScale(a).yScale(i),d="vertical"===n?f:c,g="horizontal"===n?f:c,p=l.xDecorate(d).yDecorate(g);return h.series([p,t])(...s)};return s.orient=(...t)=>t.length?(n=t[0],s):n,s.canvas=(...t)=>t.length?(r=t[0],s):r,s.xScale=(...t)=>t.length?(a=t[0],s):a,s.yScale=(...t)=>t.length?(i=t[0],s):i,s.context=(...t)=>t.length?(o=t[0],s):o,s},Jk=s(Lx()),tV=()=>{let t=NS(),e=e=>{let n=t.pad(),r=t.padUnit(),a=1;switch(r){case"domain":break;case"percent":a=e[1]-e[0];break;default:throw new Error("Unknown padUnit: "+r)}let i=e[0]-n[0]*a,o=e[1]+n[1]*a;return e[0]=e[0]>=0&&i<0?0:i,e[1]=e[1]<=0&&o>0?0:o,e};return Jk.rebindAll(e,t),e},eV=()=>{let t=null,e=null,n=null,r=null,a=null,i=null,o=!1,u=!1,l=()=>{};function c(l){let c=`d3fc-${u?"canvas":"svg"}.plot-area`;if(n||a){let h=r&&r.domain()[0]instanceof Date,d=Ox().on("zoom",(o=>{let{transform:u}=o;e.zoom={k:u.k,x:u.x,y:u.y},f(u),l.call(t);let g=1===u.k&&0===u.x&&0===u.y,p=s(l).style("display",g?"none":"");p.select("#zoom-reset").on("click",(()=>l.select(c).call(d.transform,kx)));let v=p.select("#one-year").style("display",h?"":"none"),m=p.select("#six-months").style("display",h?"":"none"),y=p.select("#one-month").style("display",h?"":"none");if(h){let t=t=>()=>{let e=new Date(n.domain()[0]),o=new Date(e);t(e,o);let u=r.range(),f=(u[1]-u[0])/(r(o)-r(e)),s=-r(e)*f,h=0;if(a){let t=a.domain().reduce(((t,e)=>t+e))/2;h=-i(t)*f+a(t)}l.select(c).call(d.transform,kx.translate(s,h).scale(f))};v.on("click",t(((t,e)=>e.setYear(t.getFullYear()+1)))),m.on("click",t(((t,e)=>e.setMonth(t.getMonth()+6)))),y.on("click",t(((t,e)=>e.setMonth(t.getMonth()+1))))}})),g=t.decorate();t.decorate(((t,n)=>{if(g(t,n),!o){o=!0;let n=t.select(c),a=u?window.devicePixelRatio:1;n.on("measure.zoom-range",(t=>{if(r&&r.range([0,t.detail.width/a]),i&&i.range([0,t.detail.height/a]),e.zoom){let t=kx.translate(e.zoom.x,e.zoom.y).scale(e.zoom.k);n.call(d.transform,t)}})).call(d)}}))}l.call(t)}c.chart=(...e)=>e.length?(t=e[0],c):t,c.settings=(...t)=>t.length?(e=t[0],c):e,c.xScale=(...t)=>t.length?(n=h(t[0]),r=n?n.copy():null,c):n,c.yScale=(...t)=>{if(!t.length)return a;if(a=h(t[0]),i=a?a.copy():null,i){let t=i.domain();i.domain([t[1],t[0]])}return c},c.canvas=(...t)=>t.length?(u=t[0],c):u,c.onChange=(...t)=>t.length?(l=t[0],c):l;let f=t=>{let e={...t};if(n&&(n.domain(t.rescaleX(r).domain()),e.xDomain=n.domain()),a){let n=t.rescaleY(i).domain();a.domain([n[1],n[0]]),e.yDomain=a.domain()}l(e)},s=t=>cM(t,".zoom-controls",(()=>t.append("div").attr("class","zoom-controls").style("display","none").html('<button id="zoom-reset">Reset zoom</button>\n<button id="one-year">1 Year</button>\n<button id="six-months">6 Months</button>\n<button id="one-month">1 Month</button>\n'))),h=t=>t&&t.nice?t:null;return c};function nV(t,e){let n=YM(e,Xk(e)),r=TM(e),a=jk().settings(e).scale(r),i=AM(e,r).orient("horizontal"),o=Wx.seriesSvgMulti().mapping(((t,e)=>t[e])).series(n.map((()=>i))),u=rM(e).settingName("mainValues").valueName("mainValue").excludeType(Xx).include([0]).paddingStrategy(tV())(n),l=rM(e).excludeType(Qx).settingName("crossValues").valueName("crossValue").orient("vertical")(n),c=iM(u,l).plotArea(Kk(o,e).orient("horizontal"));c.yPaddingInner&&(c.yPaddingInner(.5),c.yPaddingOuter(.25),i.align("left")),c.xNice&&c.xNice();let f=eV().chart(c).settings(e).yScale(l.scale);t.datum(n).call(f),t.call(a)}nV.plugin={name:"X Bar",category:"X Chart",max_cells:1e3,max_columns:50,render_warning:!0};var rV=nV,aV=s(Lx()),iV=t=>2===t.length&&!isNaN(t[0])&&!isNaN(t[1])&&t[0]!==t[1],oV=t=>(0-t[0])/(t[1]-t[0]),uV=(t,e)=>e*t[1]/(e-1),lV=s(Lx()),cV=(t,e,n=fV)=>{let r,a,i,o=t.splitMainValues||[],u=t=>{let e=t.split("|");return o.includes(e[e.length-1])},l=t.mainValues.some((t=>u(t.name)));a=l?n(e,(t=>!u(t))):e,i=l?n(e,u):null;let c=e=>{if(1===t.mainValues.length)return;let n=t.mainValues.map(((t,e)=>({index:e,name:t.name}))),a=n.filter((t=>!u(t.name))),i=n.filter((t=>u(t.name))),o=()=>(t=>{let e,n=[],r=!1,a=a=>{a.text("");let o=lV.dataJoin("span","splitter-label").key((t=>t)),u=!r&&1===n.length,l=e&&0===t.splitValues.length;o(a,n).classed("disabled",u).text((t=>t.name)).style("color",(t=>l?DM(e(t.name)):void 0)).on("click",((e,n)=>{u||(t.splitMainValues=r?t.splitMainValues.filter((t=>t!=n.name)):[n.name].concat(t.splitMainValues||[]),e.target.getRootNode().host.closest("perspective-viewer")?.dispatchEvent(new Event("perspective-config-update")),i(a))}))},i=t=>{let e=QS(t.node());e._container.innerHTML="",e._draw()};return a.labels=(...t)=>t.length?(n=t[0],a):n,a.alt=(...t)=>t.length?(r=t[0],a):r,a.color=(...t)=>t.length?(e=t[0],a):e,a})(t).color(r);e.select(".y-label.left-label").call(o().labels(a)),e.select(".y-label.right-label").call(o().labels(i).alt(!0))};return c.color=(...t)=>t.length?(r=t[0],c):r,c.haveSplit=()=>l,c.data=(...t)=>t.length?(a=t[0],c):a,c.altData=(...t)=>t.length?(i=t[0],c):i,c},fV=(t,e)=>t.map((t=>t.filter((t=>e(t.key))))),sV=(t,e)=>t.map((t=>e(t.key)?t:t.map((t=>Object.assign({},t,{mainValue:null}))))),hV=(t,e)=>t.map((t=>sV(t,e)));function dV(t,e){let n=YM(e,Xk(e)),r=TM(e),a=jk().settings(e).scale(r),i=AM(e,r).orient("vertical"),o=aV.seriesSvgMulti().mapping(((t,e)=>t[e])).series(n.map((()=>i))),u=rM(e).excludeType(Qx).settingName("crossValues").valueName("crossValue")(n),l=rM(e).settingName("mainValues").valueName("mainValue").excludeType(Xx).orient("vertical").include([0]).paddingStrategy(tV()),c=e.mainValues.length>1?hV:sV,f=cV(e,n,c).color(r),s=l(f.data()),h=f.haveSplit()?o:Kk(o,e).orient("vertical"),d=iM(u,s).axisSplitter(f).plotArea(h);d.xPaddingInner&&(d.xPaddingInner(.5),d.xPaddingOuter(.25),i.align("left")),d.yNice&&d.yNice();let g=eV().chart(d).settings(e).xScale(u.scale);if(f.haveSplit()){let t=l(f.altData());((t,e)=>{if(!iV(t)||!iV(e))return;let n=oV(t),r=oV(e);n>r?e[0]=uV(e,n):t[0]=uV(t,r)})(s.domain,t.domain),d.yDomain(s.domain).altAxis(t)}t.datum(f.data()).call(g),t.call(a)}dV.plugin={name:"Y Bar",category:"Y Chart",max_cells:1e3,max_columns:50,render_warning:!0};var gV=dV,pV=s(Lx()),vV=s(Lx());function mV(t,e){let n=vV.seriesSvgLine(),r=t.data.length*(t.data?.length>0?Object.keys(t.data[0]).length-(t.crossValues?.length>0?1:0):0),a=Math.max(1,Math.min(3,Math.floor(t.size.width/r/2)));return n=n.decorate((t=>{t.style("stroke",(t=>DM(e(t[0]&&t[0].key)))).style("stroke-width",a)})),n.crossValue((t=>t.crossValue)).mainValue((t=>t.mainValue))}var yV=function(t){let e=[];for(let n of t)for(let t=0;t<n.length;t++)null!==n[t].mainValue&&(e[t]=e[t]||[],e[t].push(n[t]));return e},bV=s(Lx()),xV=(t,e,n=Math.min)=>{let r=t=>t.reduce(((t,r)=>{let i=a(r,e);return!i||t&&n(t.value,i.value)!==i.value?t:i}),null),a=t=>{if(Array.isArray(t))return r(t);let n=e(t);return null!==n?{item:t,value:n}:null},i=r(t);return i?i.item:null},_V=()=>{let t=SM().alwaysShow(!0),e=null,n=null,r=null,a=null,i=!1,o=null,u="crossValue",l="mainValue",c=null,f=1;function s(r){let a=`d3fc-${i?"canvas":"svg"}.plot-area`;if(e||n){let e=null,i=bV.pointer().on("point",(t=>{let a=t.length?d(t[0]):null;e=a?[a.data]:[];let i=a?a.scale:n;h(r,e,i)}));r.select(a).on("measure.nearbyTip",(()=>h(r,[]))).on("click",(()=>{e.length&&wM(r.node(),e[0],t.settings())})).call(i)}}let h=(i,o,c=n)=>{let s=i.select("d3fc-svg.plot-area svg").selectAll("circle.nearbyTip").data(o);s.exit().remove(),s.enter().append("circle").attr("class","nearbyTip").merge(s).attr("r",(t=>a?f*Math.sqrt(a(t.size)):10)).attr("transform",(t=>`translate(${e(t[u])},${c(t[l])})`)).style("stroke","none").style("fill",(t=>r&&t.key&&zM(r(t.key)))),t(s)},d=t=>{let r=n=>r=>void 0===r[l]||null===r[l]||void 0===r[u]||null===r[u]?null:Math.sqrt(Math.pow(e(r[u])-t.x,2)+Math.pow(n(r[l])-t.y,2)),a=r(n),i=xV(o,a,Math.min);if(c){let t=r(c.yScale),e=xV(c.data,t,Math.min);return a(i)<=t(e)?{data:i,scale:n}:{data:e,scale:c.yScale}}return{data:i,scale:n}};return s.scaleFactor=(...t)=>t.length?(f=t[0],s):f,s.xScale=(...t)=>t.length?(e=t[0],s):e,s.yScale=(...t)=>t.length?(n=t[0],s):n,s.color=(...t)=>t.length?(r=t[0],s):r,s.size=(...t)=>t.length?(a=t[0]?t[0].copy().range([40,4e3]):null,s):a,s.canvas=(...t)=>t.length?(i=t[0],s):i,s.data=(...t)=>t.length?(o=t[0],s):o,s.xValueName=(...t)=>t.length?(u=t[0],s):u,s.yValueName=(...t)=>t.length?(l=t[0],s):l,s.altDataWithScale=(...t)=>t.length?(c=t[0],s):c,bV.rebindAll(s,t),s};function wV(t,e){let n=function(t,e){let n=OM(t);return e.map(((t,e)=>Object.keys(t).filter((t=>"__ROW_PATH__"!==t)).map((r=>({key:r,crossValue:n(t,e),mainValue:t[r],row:t})))))}(e,Xk(e)),r=TM(e),a=jk().settings(e).scale(r),i=pV.seriesSvgRepeat().series(mV(e,r)).orient("horizontal"),o=tV().pad([.1,.1]).padUnit("percent"),u=rM(e).excludeType(Qx).settingName("crossValues").valueName("crossValue")(n),l=rM(e).settingName("mainValues").valueName("mainValue").orient("vertical").paddingStrategy(o),c=cV(e,yV(n)).color(r),f=l(c.data()),s=c.haveSplit()?i:Kk(i,e).orient("vertical"),h=iM(u,f).axisSplitter(c).plotArea(s);h.yNice&&h.yNice();let d=eV().chart(h).settings(e).xScale(u.scale),g=_V().settings(e).xScale(u.scale).yScale(f.scale).color(r).data(n);if(c.haveSplit()){let t=l(c.altData());h.altAxis(t),g.data(c.data()).altDataWithScale({yScale:t.scale,data:c.altData()})}let p=c.data();t.datum(p).call(d),t.call(g),t.call(a)}wV.plugin={name:"Y Line",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0};var SV=wV,MV=s(Lx()),AV=s(Lx()),kV=[yf,bf,wf,Vf,kf,Cf,Pf];function VV(t){return t.length>1?z_().domain(t).range(kV):null}function TV(t){let e=t.data&&t.data.length>0?t.data[0]:{},n=[];return Object.keys(e).forEach((t=>{if("__ROW_PATH__"!==t){let e=VM(t);n.includes(e)||n.push(e)}})),VV(n)}function CV(t,e){let n=yV(function(t,e){let n=t.mainValues.length;return e.map((t=>{let e=Object.keys(t).filter((t=>"__ROW_PATH__"!==t)),r=new Array(e.length/n);for(let a=0;a<e.length/n;a++)r[a]={key:VM(e[a*n]),crossValue:t[e[a*n]],mainValue:t[e[a*n+1]],row:t};return r}))}(e,Gk(e))),r=NM(e),a=TV(e),i=null;r.domain().length>2&&(i=$k(Uk,qk).settings(e).scale(a).color(r));let o=MV.seriesSvgRepeat().series(mV(e,r)).orient("horizontal"),u=tV().pad([.1,.1]).padUnit("percent"),l=rM(e).settingName("mainValues").settingValue(e.mainValues[0].name).valueName("crossValue").paddingStrategy(u),c=rM(e).settingName("mainValues").settingValue(e.mainValues[1].name).valueName("mainValue").orient("vertical").paddingStrategy(u)(n),f=l(n),s=Kk(o,e).orient("vertical"),h=iM(f,c).xLabel(e.mainValues[0].name).yLabel(e.mainValues[1].name).plotArea(s);h.xNice&&h.xNice(),h.yNice&&h.yNice();let d=eV().chart(h).settings(e).xScale(f.scale).yScale(c.scale),g=_V().settings(e).xScale(f.scale).yScale(c.scale).color(r).data(n);t.datum(n).call(d),t.call(g),i&&t.call(i)}CV.plugin={name:"X/Y Line",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Tooltip"]},selectMode:"toggle"};var NV=CV,EV=s(Lx()),DV=s(Lx());function zV(t,e){let n=function(t,e){let n=OM(t);return e.map(((t,e)=>{let r={};return Object.keys(t).filter((t=>"__ROW_PATH__"!==t)).map((a=>{let i=a.split("|"),o=i[i.length-1],u=r[o]||0,l=u+t[a];return r[o]=l,{key:a,crossValue:n(t,e),mainValue:l,baseValue:u,row:t}}))}))}(e,Xk(e)),r=TM(e),a=jk().settings(e).scale(r),i=EV.seriesSvgRepeat().series(function(t,e){let n=DV.seriesSvgArea();return n=n.decorate((t=>{t.style("fill",(t=>e(t[0].key))).style("opacity",.5)})),n.crossValue((t=>t.crossValue)).mainValue((t=>t.mainValue)).baseValue((t=>t.baseValue))}(0,r).orient("vertical")),o=EV.seriesSvgRepeat().series(mV(e,r)).orient("vertical"),u=EV.seriesSvgMulti().series([i,o]),l=rM(e).excludeType(Qx).settingName("crossValues").valueName("crossValue")(n),c=rM(e).settingName("mainValues").valueName("mainValue").excludeType(Xx).orient("vertical").include([0]).paddingStrategy(tV()),f=cV(e,n).color(r),s=c(f.data()),h=f.haveSplit()?u:Kk(u,e).orient("vertical"),d=iM(l,s).axisSplitter(f).plotArea(h);d.yNice&&d.yNice();let g=eV().chart(d).settings(e).xScale(l.scale),p=_V().settings(e).xScale(l.scale).yScale(s.scale).color(r).data(n);if(f.haveSplit()){let t=c(f.altData());d.altAxis(t),p.data(f.data()).altDataWithScale({yScale:t.scale,data:f.altData()})}t.datum(f.data()).call(g),t.call(p),t.call(a)}zV.plugin={name:"Y Area",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0};var PV=zV,BV=s(Lx()),RV=s(Lx());function OV(t,e){let n=function(t,e){let n={stack:!1},r=IM(t,e,n).map((e=>FM(t,e,n)));return t.mainValues.length>1?r.reduce(((t,e)=>t.concat(e))):r}(e,Xk(e)),r=function(t){let e=t.data&&t.data.length>0?t.data[0]:{};return VV(Object.keys(e).filter((t=>"__ROW_PATH__"!==t)))}(e),a=TM(e),i=Wk().settings(e).scale(r).color(a),o=BV.seriesSvgMulti().mapping(((t,e)=>t[e])).series(n.map((t=>function(t,e,n,r){let a=RV.seriesSvgPoint().size(100),i=t.colorStyles&&t.colorStyles.opacity;return r&&a.type(r(e)),a.decorate((t=>{t.style("stroke",(t=>DM(n(t.colorValue||e)))).style("fill",(t=>zM(n(t.colorValue||e),i)))})),a.crossValue((t=>t.crossValue)).mainValue((t=>t.mainValue))}(e,t.key,a,r)))),u=tV().pad([.05,.05]).padUnit("percent"),l=rM(e).excludeType(Qx).settingName("crossValues").valueName("crossValue")(n),c=rM(e).settingName("mainValues").valueName("mainValue").orient("vertical").paddingStrategy(u),f=cV(e,n).color(a),s=c(f.data()),h=f.haveSplit()?o:Kk(o,e).orient("vertical"),d=iM(l,s).axisSplitter(f).plotArea(h);d.yNice&&d.yNice();let g=eV().chart(d).settings(e).xScale(l.scale),p=_V().settings(e).xScale(l.scale).yScale(s.scale).color(a).data(n);if(f.haveSplit()){let t=c(f.altData());d.altAxis(t),p.data(f.data()).altDataWithScale({yScale:t.scale,data:f.altData()})}t.datum(f.data()).call(g),t.call(p),i&&t.call(i)}OV.plugin={name:"Y Scatter",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0};var IV=OV,YV=s(Lx());function FV(t,e){return IM(t,e,{excludeEmpty:!0}).map((e=>function(t,e){let n=OM(t),r=e.map(((r,a)=>({crossValue:n(r,a),mainValues:t.mainValues.map((t=>r[t.name])),x:r[t.mainValues[0].name],y:r[t.mainValues[1].name],colorValue:t.realValues[2]?r[t.realValues[2]]:void 0,size:t.realValues[3]?r[t.realValues[3]]:void 0,key:e.key,row:r})));return r.key=e.key,r}(t,e)))}function LV(t,e,n,r){let a=UV(e,n,r),i=t.colorStyles.gradient.full;if(a[0]>=0)i=t.colorStyles.gradient.positive;else if(a[1]<=0)i=t.colorStyles.gradient.negative;else{let t=Math.max(-a[0],a[1]);a=[-t,t]}return xS(HV(i)).domain(a)}var UV=(t,e,n)=>n||PS().valueName(e).pad([0,0])(t),HV=t=>{let e=t.slice(1).map(((e,n)=>Mg(t[n][1],e[1])));return n=>{let r=t.findIndex(((e,r)=>r<t.length-1&&n<=t[r+1][0]&&n>e[0]));if(-1===r)return n<=t[0][0]?t[0][1]:t[t.length-1][1];let a=e[r],[i]=t[r],[o]=t[r+1];return a((n-i)/(o-i))}},jV=s(Lx());function WV(){let t=null;function e(e){let n=cM(e,"div.legend-container",(()=>e.append("div").attr("class","legend-container legend-color").style("z-index","2"))),{width:r,height:a}=n.node().getBoundingClientRect(),i=P_().domain([0,1]).range([0,r]),o=t.copy().nice().domain(),u=jV.extentLinear().pad([.1,.1]).padUnit("percent")(o),[l,c]=u,f=de(l,c,(c-l)/a),s=q_().domain(u).range([a,0]),h=jV.autoBandwidth(jV.seriesSvgBar()).xScale(i).yScale(s).crossValue(0).baseValue(((t,e)=>f[Math.max(0,e-1)])).mainValue((t=>t)).decorate((e=>{e.selectAll("path").style("fill",(e=>t(e)))})),d=o[0]<0&&o[1]>0?0:Math.round((o[1]+o[0])/2),g=[...o,d],p=jV.axisRight(s).tickValues(g).tickSizeOuter(0).tickFormat((t=>DS(t))),v=cM(n,"svg",(()=>n.append("svg"))).style("width",r).style("height",a),m=cM(v,"g",(()=>v.append("g"))).datum(f).call(h),y=Math.abs(m.node().getBBox().x);cM(v,"#legend-axis",(()=>v.append("g").attr("id","legend-axis"))).attr("transform",`translate(${y})`).datum(f).call(p).select(".domain").attr("visibility","hidden")}return e.scale=(...n)=>n.length?(t=n[0],e):t,e}function qV(t,e){let n=FV(e,Gk(e)),r=TV(e),a=e.realValues.length<=2||null===e.realValues[2],i=null,o=null;a?(i=NM(e),o=Wk().settings(e).scale(r).color(a?i:null)):(i=LV(e,n,"colorValue"),o=WV().scale(i));let u=e.realValues[3]?function(t,e,n,r){return q_().domain(UV(e,n,r))}(0,n,"size").range([10,1e4]):null,l=function([t,e],[n,r]){let a=(r-e)/(n-t),i=r-a*n;return function(t){let n=t.node(),o=Math.min(n.clientWidth,n.clientHeight);return Math.min(r,Math.max(e,a*o+i))}}([600,.1],[1600,1])(t),c=YV.seriesCanvasMulti().mapping(((t,e)=>t[e])).series(n.map((t=>function(t,e,n,r,a,i=1){let o=(0,AV.seriesCanvasPoint)().crossValue((t=>t.x)).mainValue((t=>t.y));return n&&o.size((t=>Math.round(i*n(t.size)))),a&&o.type(a(e)),o.decorate(((n,a)=>{let i=r(void 0!==a.colorValue?a.colorValue:e),o=t.colorStyles&&t.colorStyles.opacity;n.strokeStyle=DM(i),n.fillStyle=zM(i,o)})),o}(e,t.key,u,i,r,l)))),f=()=>rM(e).settingName("mainValues").paddingStrategy(tV()).pad([.1,.1]),s=f().settingValue(e.mainValues[0].name).valueName("x")(n),h=f().orient("vertical").settingValue(e.mainValues[1].name).valueName("y")(n),d=oM(s,h).xLabel(e.mainValues[0].name).yLabel(e.mainValues[1].name).plotArea(Kk(c,e).canvas(!0));d.xNice&&d.xNice(),d.yNice&&d.yNice();let g=eV().chart(d).settings(e).xScale(s.scale).yScale(h.scale).canvas(!0),p=_V().scaleFactor(l).settings(e).canvas(!0).xScale(s.scale).xValueName("x").yValueName("y").yScale(h.scale).color(a&&i).size(u).data(n);t.datum(n).call(g),t.call(p),o&&t.call(o)}qV.plugin={name:"X/Y Scatter",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Color","Size","Tooltip"]},selectMode:"toggle"};var $V=qV,XV=s(Lx());function GV(t,e){let n=function(t,e){let n=OM(t),r=Zx(t).excludeType(Qx).settingName("splitValues")(),a=[];return e.forEach(((t,e)=>{let i=n(t,e);Object.keys(t).filter((t=>"__ROW_PATH__"!==t)).forEach((e=>{let n=function(t){let e=t.split("|");return e.pop(),e.join("|")}(e);a.push({crossValue:i,mainValue:r===Gx?new Date(n):n,colorValue:t[e],row:t})}))})),a}(e,Xk(e)),r=LV(e,n,"colorValue"),a=function(t,e){let n=XV.seriesCanvasHeatmap();return n.decorate(((t,n)=>{t.fillStyle=e(n.colorValue)})),XV.autoBandwidth(n).xValue((t=>t.crossValue)).yValue((t=>t.mainValue)).colorValue((t=>t.colorValue)).colorInterpolate(e.interpolator()).widthFraction(1)}(0,r),i=WV().scale(r),o=rM(e).excludeType(Qx).settingName("crossValues").valueName("crossValue")(n),u=rM(e).excludeType(Qx).settingName("splitValues").valueName("mainValue").orient("vertical")(n),l=oM(o,u).plotArea(Kk(a,e).canvas(!0));l.xPaddingInner&&(l.xPaddingInner(0),l.xPaddingOuter(0),a.xAlign("right")),l.yPaddingInner&&(l.yPaddingInner(0),l.yPaddingOuter(0),a.yAlign("top"));let c=eV().chart(l).settings(e).xScale(o.scale).yScale(u.scale).canvas(!0),f=_V().settings(e).canvas(!0).xScale(o.scale).yScale(u.scale).color(r).data(n);t.datum(n).call(c),t.call(i),t.call(f)}GV.plugin={name:"Heatmap",category:"Hierarchial Chart",max_cells:5e4,max_columns:500,render_warning:!0};var QV=GV,ZV=s(Lx()),KV=s(Lx());function JV(t,e){return IM(t,e,{excludeEmpty:!0}).map((e=>function(t,e){let n=OM(t),r=n=>e[n<e.length-1?n+1:n][t.mainValues[0].name],a=e.map(((a,i)=>{let o=t.mainValues.length>=1?a[t.mainValues[0].name]:void 0,u=t.mainValues.length>=2?a[t.mainValues[1].name]:r(i);return{crossValue:n(a,i),mainValues:t.mainValues.map((t=>a[t.name])),openValue:o,closeValue:u,highValue:t.mainValues.length>=3?a[t.mainValues[2].name]:Math.max(o,u),lowValue:t.mainValues.length>=4?a[t.mainValues[3].name]:Math.min(o,u),key:e.key,row:a}}));return a.key=e.key,a}(t,e)))}var tT=s(Lx());var eT=function(t){return function(e,n){let r=JV(n,Gk(n)),a=KV.indicatorBollingerBands().value((t=>t.openValue)),i=r.map((t=>{let e=a(t);return t.map(((t,n)=>Object.assign({bollinger:e[n]},t)))})),o=r.map((t=>t.key)).concat(n.hideKeys?n.hideKeys:[]).sort(),u=EM().domain(o).settings(n).mapFunction(PM(1))(),l=jk().settings(n).scale(o.length>1?u:null),c=function(t,e,n){let r=n.domain(),a=EM().domain(r).settings(t).defaultColors([t.colorStyles["series-2"]]).mapFunction(PM(.5))(),i=EM().settings(t).domain(r)(),o=e().crossValue((t=>t.crossValue)).openValue((t=>t.openValue)).highValue((t=>t.highValue)).lowValue((t=>t.lowValue)).closeValue((t=>t.closeValue)).decorate(((t,e)=>{let r=(t=>t.closeValue>=t.openValue)(e)?n(e.key):a(e.key);t.fillStyle=r,t.strokeStyle=r})),u=tT.seriesCanvasLine().mainValue((t=>t.bollinger.average)).crossValue((t=>t.crossValue)).decorate(((t,e)=>{t.strokeStyle=i(e[0].key)})),l=tT.seriesCanvasArea().mainValue((t=>t.bollinger.upper)).baseValue((t=>t.bollinger.lower)).crossValue((t=>t.crossValue)).decorate(((t,e)=>{t.fillStyle=PM(.25)(i(e[0].key))}));return tT.seriesCanvasMulti().series([l,o,u])}(n,t,u),f=KV.seriesCanvasMulti().mapping(((t,e)=>t[e])).series(i.map((()=>c))),s=tV().pad([.1,.1]).padUnit("percent"),h=rM(n).settingName("crossValues").valueName("crossValue")(i),d=rM(n).settingName("mainValues").valueNames(["lowValue","highValue"]).orient("vertical").paddingStrategy(s)(i),g=oM(h,d).plotArea(Kk(f,n).orient("vertical").canvas(!0));g.yNice&&g.yNice();let p=eV().chart(g).settings(n).xScale(h.scale).onChange((t=>{let e=i.map((e=>e.filter((e=>e.crossValue>=t.xDomain[0]&&e.crossValue<=t.xDomain[1]))));g.yDomain(d.domainFunction(e))})).canvas(!0),v=_V().settings(n).xScale(h.scale).yScale(d.scale).yValueName("closeValue").color(u).data(i).canvas(!0);e.datum(i).call(p),e.call(v),e.call(l)}},nT=eT(ZV.seriesCanvasOhlc);nT.plugin={name:"OHLC",category:"Y Chart",max_cells:3500,max_columns:50,render_warning:!0,initial:{type:"number",count:4,names:["Open","Close","High","Low"]},selectMode:"toggle"};var rT=nT,aT=eT(s(Lx()).seriesCanvasCandlestick);aT.plugin={name:"Candlestick",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{type:"number",count:4,names:["Open","Close","High","Low"]},selectMode:"toggle"};var iT=aT;function oT(t,e){if(t.realValues.length>1&&null!==t.realValues[1]){let n=t.realValues[1];if("string"===t.mainValues.find((t=>t.name===n))?.type){return CM(t,e.map((t=>t.data)).filter((t=>t.height>0)).map((t=>uT(t))).reduce(((t,e)=>t.concat(e))))}return LV(t,null,null,(t=>{let e=t=>(e,n)=>void 0===e?n:void 0===n?e:t(e,n);return t.reduce(((t,n)=>[e(Math.min)(t[0],n[0]),e(Math.max)(t[1],n[1])]),[void 0,void 0])})(e.map((t=>t.extents))))}}function uT(t,e=[]){return t.children&&t.children.length>0?t.children.forEach((t=>e.concat(uT(t,e)))):t.data.color&&e.push(t.data.color),e}function lT(t){let e={},n=t.realValues.map((e=>null===e?null:t.mainValues.find((t=>t.name===e))));return t.data.forEach(((r,a)=>{let i=r.__ROW_PATH__;(function(t){let e=[];return Object.keys(t).forEach((t=>{if("__ROW_PATH__"!==t){let n=t.split("|").slice(0,-1).join("|");e.includes(n)||e.push(n)}})),e})(r).forEach((o=>{let u;e[o]||(e[o]=[]),u=e[o],i.forEach(((e,l)=>{let c=u.find((t=>t.name===e));if(c||(c={name:e,children:[]},u.push(c)),t.realValues.length>1&&null!==t.realValues[1]){let e=l===i.length-1,n=cT(e?r:t.agg_paths[a][l+1]||r,t.mainValues[1],o);void 0!==n&&(c.color=n)}if(t.realValues.length>2&&null!==t.realValues[2]){c.tooltip=[];for(let e=2;e<t.realValues.length;++e)c.tooltip.push(cT(r,n[e],o))}if(l===i.length-1&&(c.name=i.slice(-1)[0],i.length===t.crossValues.length)){let e=cT(r,t.mainValues[0],o);c.size=e>0?e:0}u=c.children}))}))})),Object.entries(e).map((e=>{let n=p_({name:"root",children:e[1]}).sum((t=>t.size)),r=k_().size([2*Math.PI,n.height+1])(n);return r.each((n=>{n.current=n,n.mainValues=1===t.realValues.length||null===t.realValues[1]&&null===t.realValues[2]?n.value:[n.value,n.data.color].concat(n.data.tooltip||[]).filter((t=>void 0!==t)),n.crossValue=n.ancestors().slice(0,-1).reverse().map((t=>t.data.name)),n.key=e[0],n.label=gM(t.crossValues[n.depth-1<0?0:n.depth-1].type,n.data.name)})),{split:e[0],data:r,extents:fT(t,e)}}))}var cT=(t,e,n)=>n.length?t[`${n}|${e.name}`]:t[e.name];function fT(t,[e,n]){if(t.realValues.length>1&&null!==t.realValues[1]){return[Math.min(...t.data.map((n=>cT(n,t.mainValues[1],e)))),Math.max(...n.map((t=>t.color)))]}}var sT=t=>Nc().startAngle((t=>t.x0)).endAngle((t=>t.x1)).padAngle((t=>Math.min((t.x1-t.x0)/2,.005))).padRadius(t).innerRadius((e=>Math.max(1,(e.y0-1)*t))).outerRadius((e=>Math.max((e.y0-1)*t,(e.y1-1)*t-1))),hT=t=>t.y0>=1&&t.x1>t.x0,dT=t=>t.y1<=3&&t.y0>=1&&(t.y1-t.y0)*(t.x1-t.x0)>.06;function gT(t,e){let n=(t.x0+t.x1)/2*180/Math.PI;return`rotate(${n-90}) translate(${(t.y0-1+(t.y1-1))/2*e},0) rotate(${n<180?0:180})`}function pT(t,e){let n=this.getBBox().width;if(n>e){let r=t.label,a=Hl(this);for(;n>e;)r=r.substring(0,r.length-1),a.text((()=>r)),n=this.getBBox().width;a.text((()=>`${r.substring(0,r.length-3).replace(/\s+$/,"")}...`))}}var vT=(t,e,n,r,a,i,o,u,l)=>(c,f)=>{l.sunburstLevel[u]=c.data.name,c.parent?(n.datum(c.parent),n.style("cursor","pointer"),r.html(`&#8682; ${c.label}`)):(n.datum(t),n.style("cursor","default"),r.html("")),t.each((t=>t.target={x0:2*Math.max(0,Math.min(1,(t.x0-c.x0)/(c.x1-c.x0)))*Math.PI,x1:2*Math.max(0,Math.min(1,(t.x1-c.x0)/(c.x1-c.x0)))*Math.PI,y0:Math.max(0,t.y0-c.depth),y1:Math.max(0,t.y1-c.depth)}));let s=e.transition().duration(f?0:750);a.transition(s).tween("data",(t=>{let e=Mg(t.current,t.target);return n=>t.current=e(n)})).filter((function(t){return+this.getAttribute("fill-opacity")||hT(t.target)})).attr("fill-opacity",(t=>hT(t.target)?1:0)).attr("user-select",(t=>hT(t.target)?"initial":"none")).style("pointer-events",(t=>hT(t.target)?"initial":"none")).attrTween("d",(t=>()=>sT(o)(t.current))),i.filter((function(t){return+this.getAttribute("fill-opacity")||dT(t.target)})).transition(s).attr("fill-opacity",(t=>+dT(t.target))).attrTween("transform",(t=>()=>gT(t.current,o)))};function mT(){let t=null,e=null,n=null,r=null,a=null,i=i=>{let o=i.selectAll("g.segment").data(n.descendants().slice(1)),u=o.enter().append("g").attr("class","segment");u.append("path"),u.append("text").attr("class","segment").attr("dy","0.35em");let l=u.merge(o),c=l.select("path").attr("fill-opacity",(t=>hT(t.current)?1:0)).attr("user-select",(t=>hT(t.current)?"initial":"none")).style("pointer-events",(t=>hT(t.current)?"initial":"none")).attr("d",(t=>sT(a)(t.current)));r&&c.style("fill",(t=>r(t.data.color)));let f=l.select("text").attr("fill-opacity",(t=>+dT(t.current))).attr("transform",(t=>gT(t.current,a))).text((t=>t.label)).each((function(t){pT.call(this,t,a)})),s=i.select("text.parent"),h=i.select("circle").attr("r",a).datum(n),d=vT(n,i,h,s,c,f,a,e,t);if(t.sunburstLevel){let r=n.descendants().find((n=>n.data.name===t.sunburstLevel[e]));r&&d(r,!0)}else t.sunburstLevel={};h.on("click",(t=>d(t,!1))),c.filter((t=>t.children)).style("cursor","pointer").on("click",(t=>d(t,!1)))};return i.settings=(...e)=>e.length?(t=e[0],i):t,i.split=(...t)=>t.length?(e=t[0],i):e,i.data=(...t)=>t.length?(n=t[0],i):n,i.color=(...t)=>t.length?(r=t[0],i):r,i.radius=(...t)=>t.length?(a=t[0],i):a,i}function yT(){let t="element-prefix-unset",e=null,n=null,r=null,a=null,i=null,o=o=>{let u=cM(o,"div.inner-container",(()=>o.append("div").attr("class","inner-container"))),l=u.node().getBoundingClientRect(),c=l.height,f=l.width-0,s=o.datum(),h=Math.max(1,Math.min(s.length,Math.floor(f/300))),d=Math.ceil(s.length/h);i={width:f/Math.max(h,1),height:Math.min(c,Math.max(c/d,f/Math.max(h,1)))},c/d>.75*i.height&&(i.height=c/d),s.length>1?(u.style("grid-template-columns",`repeat(${h}, ${100/h}%)`),u.style("grid-template-rows",`repeat(${d}, ${i.height}px)`)):(u.style("grid-template-columns","repeat(1, 100%)"),u.style("grid-template-rows","repeat(1, 100%)")),r=u.selectAll(`div.${t}-container`).data(s,(t=>t.split)),r.exit().remove(),n=r.enter().append("div").attr("class",`${t}-container`),a=n.append("div").attr("class","title-container").style("text-align","center").attr("display","inline-block").append("text").attr("class","title").style("text-align","left"),e=n.append("svg").append("g").attr("class",t)};return o.elementsPrefix=(...e)=>e.length?(t=e[0],o):t,o.chartContainer=()=>e,o.chartEnter=()=>n,o.chartDiv=()=>r,o.chartTitle=()=>a,o.containerSize=()=>i,o}function bT(t,e){if(0===e.crossValues.length)return void console.warn("Unable to render a chart in the absence of any groups.");let n=lT(e),r=oT(e,n),a=yT().elementsPrefix("sunburst");if(t.datum(n).call(a),r){let n=e.realValues[1];if("string"===e.mainValues.find((t=>t.name===n))?.type){let n=jk().settings(e).scale(r);t.call(n)}else{let e=WV().scale(r);t.call(e)}}let i=a.chartContainer(),o=a.chartEnter(),u=a.chartDiv(),l=a.chartTitle(),c=a.containerSize();l.each(((t,e,n)=>Hl(n[e]).text(t.split))),i.append("circle").attr("fill","none").style("pointer-events","all"),i.append("text").attr("class","parent"),o.merge(u).select("svg").select("g.sunburst").attr("transform",`translate(${c.width/2}, ${c.height/2})`).each((function({split:t,data:n}){let a=Hl(this),i=this.parentNode,{width:o,height:u}=i.getBoundingClientRect(),l=(Math.min(o,u)-24)/(2*e.crossValues.length);mT().settings(e).split(t).data(n).color(r).radius(l)(a),SM().settings(e)(a.selectAll("g.segment"))}))}bT.plugin={name:"Sunburst",category:"Hierarchial Chart",max_cells:7500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var xT=bT;function _T(t,e){if(t.realValues.length<1||null===t.realValues[1]||void 0===t.realValues[1])return;let n=t.realValues[1],r=e.filter((t=>t.height>0)).map((t=>wT(t))).reduce(((t,e)=>t.concat(e)));if("string"===t.mainValues.find((t=>t.name===n))?.type)return CM(t,r);return LV(t,null,null,[Math.min(...r),Math.max(...r)])}function wT(t,e=[]){return t.children&&t.children.length>0?t.children.forEach((t=>e.concat(wT(t,e)))):t.data.color&&e.push(t.data.color),e}var ST=t=>!(!t.target||!t.target.textAttributes),MT=(t,e,n)=>{t.selectAll("text").each((function(t,r){let a=zT(t,e,n);this.style=a}));let r=VT(t);CT(r),AT(r)},AT=t=>{let e=t=>t.getBoundingClientRect(),n=[];t.selectAll("text").filter(((t,e,n)=>Hl(n[e]).attr("style")===PT.high)).each(((t,e,r)=>n.push(r[e]))),t.selectAll("text").filter(((t,e,n)=>Hl(n[e]).attr("style")===PT.low)).each(((t,r,a)=>{let i=a[r];n.filter((t=>sM("x",e(t),e(i))&&sM("y",e(t),e(i),-2))).forEach((()=>Hl(i).attr("dy",Number(Hl(i).attr("dy"))+14)))}))},kT={top:1,mid:.7,lower:0},VT=t=>t.filter(((t,e,n)=>Hl(n[e]).selectAll("text").attr("style")!==PT.zero)),TT=t=>t.selectAll("text").each(((t,e,n)=>ET(n[e]))),CT=t=>t.selectAll("text").each(((t,e,n)=>NT(n[e]))),NT=t=>{let e=Hl(t),n=t.getBoundingClientRect();e.attr("dx",0-n.width/2).attr("dy",0+n.height/4)},ET=t=>{let e=t.parentNode.childNodes[0],n=t.getBBox(),r=e.getBBox();DT(t,r,n)||Hl(t).attr("style",Hl(t).attr("style"))},DT=(t,e,n)=>{let r=Math.min(e.height/n.height,e.width/n.width);if(r<1){let e=parseInt(Hl(t).style("font-size")),n=Math.floor(e*r);return e>7&&n>7?(Hl(t).style("font-size",`${n}px`),NT(t)):(Hl(t).style("font-size",null),Hl(t).style("opacity","0")),!0}return!1},zT=(t,e,n)=>{if(!n.filter((t=>""!==t)).every((e=>t.crossValue.includes(e))))return PT.zero;switch(t.depth){case e+1:return PT.high;case e+2:return PT.low;default:return PT.zero}},PT={high:"font-size:14px;z-index:5;pointer-events: none;",low:"font-size:8px;opacity:0.7;z-index:4;",zero:"font-size:0px;opacity:0;z-index:4;"},BT=(t,e)=>{let n=function(){var t=T_,e=!1,n=1,r=1,a=[0],i=w_,o=w_,u=w_,l=w_,c=w_;function f(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(s),a=[0],e&&t.eachBefore(M_),t}function s(e){var n=a[e.depth],r=e.x0+n,f=e.y0+n,s=e.x1-n,h=e.y1-n;s<r&&(r=s=(r+s)/2),h<f&&(f=h=(f+h)/2),e.x0=r,e.y0=f,e.x1=s,e.y1=h,e.children&&(n=a[e.depth+1]=i(e)/2,r+=c(e)-n,f+=o(e)-n,(s-=u(e)-n)<r&&(r=s=(r+s)/2),(h-=l(e)-n)<f&&(f=h=(f+h)/2),t(e,r,f,s,h))}return f.round=function(t){return arguments.length?(e=!!t,f):e},f.size=function(t){return arguments.length?(n=+t[0],r=+t[1],f):[n,r]},f.tile=function(e){return arguments.length?(t=__(e),f):t},f.padding=function(t){return arguments.length?f.paddingInner(t).paddingOuter(t):f.paddingInner()},f.paddingInner=function(t){return arguments.length?(i="function"==typeof t?t:S_(+t),f):i},f.paddingOuter=function(t){return arguments.length?f.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):f.paddingTop()},f.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:S_(+t),f):o},f.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:S_(+t),f):u},f.paddingBottom=function(t){return arguments.length?(l="function"==typeof t?t:S_(+t),f):l},f.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:S_(+t),f):c},f}().size([t,e]).paddingInner((t=>1+2*(t.height-1)));return n.tile(C_),n};function RT(t,e,n,r,a,i){(function(t,e,n,r,a){let i={x:t.x0,y:t.y0,width:t.x1-t.x0,height:t.y1-t.y0},o={width:a.x1-a.x0,height:a.y1-a.y0},u={width:o.width/i.width,height:o.height/i.height};n.each((t=>{let n=(t.x0-i.x)*u.width,a=(t.y0-i.y)*u.height,o=XT(t)*u.width,l=GT(t)*u.height,c=((t,e)=>e.every((e=>t.crossValue.includes(e))))(t,e)&&t.data.name!==e[r-1];t.mapLevel[r]={x0:n,x1:o+n,y0:a,y1:l+a,visible:c,opacity:c?1:0}})),t.mapLevel[r].levelRoot=!0})(t,e,n,r,a),t.mapLevel[r].levelRoot=!0,function(t,e,n,r){let a=BT(e,n)(p_(t.data).sum((t=>t.size))).descendants(),i=t.descendants();a.forEach(((t,e)=>{i[e].mapLevel[r].x0=a[e].x0,i[e].mapLevel[r].x1=a[e].x1,i[e].mapLevel[r].y0=a[e].y0,i[e].mapLevel[r].y1=a[e].y1}))}(t,i.node().getBoundingClientRect().width,i.node().getBoundingClientRect().height,r),IT(n,r)}var OT=(t,e)=>{t.each(((t,n,r)=>{let a=Hl(r[n]).selectAll("text");t.mapLevel[e].textAttributes={dx:a.attr("dx"),dy:a.attr("dy"),class:a.attr("class"),"font-size":a.style("font-size")}}))};function IT(t,e){t.selectAll("text").each(((t,n,r)=>{let a=Hl(r[n]),i=Hl(r[n]).datum(),o=a.attr("class");i.mapLevel[e].textLockedAt={opacity:kT[o]}}))}function YT(t,e,n,r,a,i,o,u,l,c){if(!t.children)return;a.treemapLevel<t.depth?a.treemapRoute.push(t.crossValue):a.treemapRoute.pop(),a.treemapLevel=t.depth;let f=t.crossValue;(!t.mapLevel[a.treemapLevel]||!t.mapLevel[a.treemapLevel].levelRoot)&&RT(t,f,n,a.treemapLevel,u,i),FT(t,e,n,r,a,i,o,u,a.treemapLevel,f,l,c)}function FT(t,e,n,r,a,i,o,u,l,c,f,s,h=500,d=!0){let g=t.parent,p=o.transition("main transition").duration(h).ease(kb);n.each((t=>t.target=t.mapLevel[l])),ST(t)||HT(n,f),n.transition(p).tween("data",(t=>{let e=Mg(t.current,t.target);return n=>t.current=e(n)})).styleTween("opacity",(t=>()=>t.current.opacity)).attrTween("pointer-events",(t=>()=>t.target.visible?"all":"none")),e.transition(p).filter((t=>t.target.visible)).styleTween("x",(t=>()=>`${t.current.x0}px`)).styleTween("y",(t=>()=>`${t.current.y0}px`)).styleTween("width",(t=>()=>t.current.x1-t.current.x0+"px")).styleTween("height",(t=>()=>t.current.y1-t.current.y0+"px")),r.transition(p).filter((t=>t.target.visible)).attrTween("x",(t=>()=>t.current.x0+XT(t.current)/2)).attrTween("y",(t=>()=>t.current.y0+GT(t.current)/2)).end().catch((()=>jT(n))).then((()=>{ST(t)||(AT(v),TT(v),async function(t,e,n=400){let r=e.transition("text fade transition").duration(n).ease(kb);await t.transition(r).filter((t=>t.target.visible)).tween("data",((t,e,n)=>{let r=n[e],a=Mg(LT(t),UT(r));return e=>t.current.opacity=a(e)})).styleTween("opacity",(t=>()=>t.current.opacity)).end().catch((t=>console.error("Exception in text fade transition",t))).then((()=>t.each(((t,e,n)=>(t=>Hl(t).style("opacity",null))(n[e])))))}(r,o,h),d&&OT(n,l),jT(n,f,g))})).catch((t=>{console.error("Exception completing promises after main transition",t),jT(n,f,g)})),ST(t)?(t=>{t.each(((t,e,n)=>{Hl(n[e]).selectAll("text").attr("dx",t.target.textAttributes.dx).attr("dy",t.target.textAttributes.dy).attr("style",t.target.textAttributes.style)}))})(n):(r.each(((t,e,n)=>(t=>Hl(t).style("opacity",kT[Hl(t).attr("class")]))(n[e]))),MT(n,l,c));let v=VT(n);g?f.hide(!1).text(t.label).onClick((()=>{YT(g,e,n,r,a,i,o,u,f,s);let t=i.node().getRootNode().host.parentElement;wM(t,g,s)}))():f.hide(!0)()}var LT=t=>t.target.textLockedAt.opacity,UT=t=>kT[Hl(t).attr("class")],HT=(t,e)=>{e.deactivate(!0),t.each(((t,e,n)=>{Hl(n[e]).selectAll("rect").style("pointer-events","none")}))},jT=(t,e)=>{e&&e.deactivate(!1),t.each(((t,e,n)=>{Hl(n[e]).selectAll("rect").style("pointer-events",null)}))};var WT="leafnode",qT="branchnode",$T="rootnode",XT=t=>t.x1-t.x0,GT=t=>t.y1-t.y0,QT=(t,e)=>0===e.depth?$T:((t,e)=>e.depth===t)(t,e)?WT:qT;function ZT(){let t=null,e=null,n=null,r=null,a=null,i=null,o=o=>{i=function(t){let e=null,n=null,r=!0,a=!1,i=cM(t,".parent-controls",(()=>t.append("div").attr("class","parent-controls").style("display",r?"none":"").html('<button id="goto-parent">Goto parent</button>\n'))),o=()=>{i.style("display",r?"none":"").select("#goto-parent").style("pointer-events",a?"none":null).html(`âª ${n}`).on("click",(()=>e()))};return o.deactivate=(...t)=>{if(!t.length)return a;a=t[0];let e=i.select("#goto-parent");return a?e.style("pointer-events","none"):e.style("pointer-events",null),o},o.hide=(...t)=>t.length?(r=t[0],o):r,o.text=(...t)=>t.length?(n=t[0],o):n,o.onClick=(...t)=>t.length?(e=t[0],o):e,o}(a),i();let u=n.height;t.treemapLevel||(t.treemapLevel=0),t.treemapRoute||(t.treemapRoute=[]),BT(a.node().getBoundingClientRect().width,a.node().getBoundingClientRect().height)(n);let l=o.selectAll("g").data(n.descendants()),c=l.enter().append("g");c.append("rect"),c.append("text");let f=c.merge(l).sort(((t,e)=>e.depth-t.depth)),s=f.select("rect").attr("class",(t=>`treerect ${QT(u,t)}`)).style("x",(t=>t.x0)).style("y",(t=>t.y0)).style("width",(t=>XT(t))).style("height",(t=>GT(t)));s.style("fill",(t=>QT(u,t)===WT?t.data.color?r(t.data.color):e.colorStyles.series:"transparent"));let h=f.filter((t=>0!==t.value)).select("text").attr("x",(t=>t.x0+XT(t)/2)).attr("y",(t=>t.y0+GT(t)/2)).text((t=>t.label)),d=s.filter((t=>0===t.crossValue.length)).datum();(function(t,e){t.each((t=>{t.mapLevel=[],t.mapLevel[0]={x0:t.x0,x1:XT(t)+t.x0,y0:t.y0,y1:GT(t)+t.y0,visible:!0,opacity:1}})),e.mapLevel[0].levelRoot=!0,IT(t,0)})(f,d),MT(f,0,[]),TT(VT(f)),OT(f,0),0===t.treemapRoute.length&&t.treemapRoute.push(d.crossValue),s.filter((t=>t.children)).on("click",((n,r)=>YT(r,s,f,h,t,a,o,d,i,e))),function(t,e,n,r,a,i,o,u,l){if(r.treemapLevel>0){let c=o.crossValue;FT(o,t,e,n,r,a,i,o,0,c,u,l,1,!1),r.treemapRoute.slice(1,r.treemapRoute.length).forEach((c=>{let f=e.filter((t=>t.crossValue===c)).datum(),s=f.crossValue;RT(f,s,e,f.depth,o,a),FT(f,t,e,n,r,a,i,o,f.depth,s,u,l,1,!1)}))}}(s,f,h,t,a,o,d,i,e)};return o.settings=(...n)=>n.length?(t=n[0],e=n[1],o):t,o.data=(...t)=>t.length?(n=t[0],o):n,o.color=(...t)=>t.length?(r=t[0],o):r,o.container=(...t)=>t.length?(a=t[0],o):a,o}function KT(t,e){if(0===e.crossValues.length)return void console.warn("Unable to render a chart in the absence of any groups.");e.treemaps||(e.treemaps={});let n=lT(e),r=_T(e,n.map((t=>t.data)));r&&this._container.classList.add("has-legend");let a=yT().elementsPrefix("treemap");if(t.datum(n).call(a),r){let n=e.realValues[1];if("string"===e.mainValues.find((t=>t.name===n))?.type){let n=jk().settings(e).scale(r);t.call(n)}else{let e=WV().scale(r);t.call(e)}}let i=a.chartEnter(),o=a.chartDiv();a.chartTitle().each(((t,e,n)=>Hl(n[e]).text(t.split))),i.merge(o).select("svg").select("g.treemap").each((function({split:t,data:n}){let a=Hl(this);e.treemaps[t]||(e.treemaps[t]={}),ZT().settings(e.treemaps[t],e).data(n).container(Hl(Hl(this.parentNode).node().parentNode)).color(r)(a),SM().settings(e).centered(!0)(a.selectAll("g"))}))}KT.plugin={type:"Treemap",name:"Treemap",category:"Hierarchial Chart",max_cells:5e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var JT=[rV,gV,SV,NV,PV,IV,$V,rT,iT,KT,xT,QV],tC=s(jx()),eC=t=>ad(t).opacity,nC=(t,e)=>{let n=ad(`#${t}`);return n.opacity=e,n+""},rC=t=>{let e=getComputedStyle(t);return t=>e?.getPropertyValue(t)},aC=(t,e)=>{let n=tC.parse(t)[0].colorStops;return n.map(((t,r)=>[t.length?t.length.value/100:r/(n.length-1),nC(t.value,e)])).sort(((t,e)=>t[0]-e[0]))},iC={initial:{type:"number",count:1},selectMode:"select"},oC=`:host .chart{--d3fc-local-full--gradient: var(--d3fc-full--gradient, linear-gradient(#4d342f 0%, #e4521b 22.5%, #feeb65 42.5%, #f0f0f0 50%, #dcedc8 57.5%, #42b3d5 67.5%, #1a237e 100%));--d3fc-local-positive--gradient: var(--d3fc-positive--gradient, linear-gradient(#dcedc8 0%, #42b3d5 35%, #1a237e 100%));--d3fc-local-negative--gradient: var(--d3fc-negative--gradient, linear-gradient(#feeb65 100%, #e4521b 70%, #4d342f 0%))}:host .chart{--d3fc-local-series: var(--d3fc-series, rgba(31, 119, 180, .5));--d3fc-local-series-1: var(--d3fc-series-1, #0366d6);--d3fc-local-series-2: var(--d3fc-series-2, #ff7f0e);--d3fc-local-series-3: var(--d3fc-series-3, #2ca02c);--d3fc-local-series-4: var(--d3fc-series-4, #d62728);--d3fc-local-series-5: var(--d3fc-series-5, #9467bd);--d3fc-local-series-6: var(--d3fc-series-6, #8c564b);--d3fc-local-series-7: var(--d3fc-series-7, #e377c2);--d3fc-local-series-8: var(--d3fc-series-8, #7f7f7f);--d3fc-local-series-9: var(--d3fc-series-9, #bcbd22);--d3fc-local-series-10: var(--d3fc-series-10, #17becf)}:host .chart .series{fill:var(--d3fc-local-series)}:host .chart .series-1{fill:var(--d3fc-local-series-1)}:host .chart .series-2{fill:var(--d3fc-local-series-2)}:host .chart .series-3{fill:var(--d3fc-local-series-3)}:host .chart .series-4{fill:var(--d3fc-local-series-4)}:host .chart .series-5{fill:var(--d3fc-local-series-5)}:host .chart .series-6{fill:var(--d3fc-local-series-6)}:host .chart .series-7{fill:var(--d3fc-local-series-7)}:host .chart .series-8{fill:var(--d3fc-local-series-8)}:host .chart .series-9{fill:var(--d3fc-local-series-9)}:host .chart .series-10{fill:var(--d3fc-local-series-10)}:host{user-select:none}:host .chart{position:absolute;box-sizing:border-box;left:0;top:0;width:100%;height:100%;padding:15px;overflow:hidden}:host .chart.heatmap d3fc-group.cartesian-chart,:host .chart.treemap d3fc-group.cartesian-chart{grid-template-columns:minmax(0em,max-content) auto 1fr auto minmax(0em,max-content);grid-template-rows:minmax(0em,max-content) auto 1fr auto minmax(0em,max-content)}:host .chart .chart-label{display:none}:host .chart.heatmap{padding-right:120px}:host .chart.sunburst{padding:0;font-size:14px}:host .chart.sunburst .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto}:host .chart.sunburst .inner-container div{overflow:hidden}:host .chart.sunburst .inner-container .sunburst-container:not(:only-child) svg{transform:translateY(-27px)}:host .chart.sunburst .inner-container svg{width:100%;height:100%}:host .chart.sunburst .inner-container path{fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .chart.sunburst .inner-container text.segment,:host .chart.sunburst .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels, #333333)}:host .chart.sunburst .inner-container div.title-container{margin-top:5px}:host .chart.has-legend{padding-right:120px}:host .chart.treemap .treemap-container{position:relative}:host .chart.treemap .treemap-container:not(:only-child){width:calc(100% - 12px);height:calc(100% - 12px)}:host .chart.treemap .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto}:host .chart.treemap .inner-container div{overflow:hidden}:host .chart.treemap .inner-container svg{width:100%;height:100%}:host .chart.treemap .inner-container .treerect{stroke:var(--d3fc-treedata-axis--lines, var(--d3fc-axis--lines, white));fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .chart.treemap .inner-container .treerect:hover{cursor:pointer;stroke:var(--d3fc-treedata--hover-highlight, black);stroke-opacity:1}:host .chart.treemap .inner-container .rootnode{opacity:0;pointer-events:none;z-index:0}:host .chart.treemap .inner-container .branchnode{opacity:0}:host .chart.treemap .inner-container .branchnode:hover{fill-opacity:.1;opacity:1;fill:var(--d3fc-treedata--hover-highlight, black)}:host .chart.treemap .inner-container .leafnode{fill-opacity:.8}:host .chart.treemap .inner-container .leafnode:hover{fill-opacity:.5}:host .chart.treemap .inner-container #hidden{opacity:0;pointer-events:none;z-index:0}:host .chart.treemap .inner-container .top{font-size:14px;z-index:5;pointer-events:none}:host .chart.treemap .inner-container .mid{font-size:8px;opacity:.7;z-index:4}:host .chart.treemap .inner-container .lower{font-size:0px;opacity:0;z-index:4}:host .chart.treemap .inner-container text{fill:var(--d3fc-treedata--labels, #333333)}:host .chart.treemap .inner-container text.title{dominant-baseline:hanging}:host .chart.treemap .inner-container .parent-controls{position:absolute;top:15px;right:auto;left:30px;width:auto;z-index:4;transition:box-shadow 1s}:host .chart.treemap .inner-container .parent-controls:hover{box-shadow:2px 2px 6px #000;transition:box-shadow .2s}:host .chart .x-label{height:1.2em!important;line-height:1em!important}:host .chart .x-label,:host .chart .y-label{color:var(--d3fc-label--color, inherit);font-size:14px}:host .chart d3fc-canvas.plot-area{display:none}:host .chart.xyscatter d3fc-canvas.plot-area,:host .chart.xyline d3fc-canvas.plot-area,:host .chart.ohlc d3fc-canvas.plot-area,:host .chart.candlestick d3fc-canvas.plot-area,:host .chart.heatmap d3fc-canvas.plot-area{display:block}:host .chart .y-axis text,:host .chart .x-axis text{fill:var(--d3fc-axis-ticks--color, #505050);font-size:11px}:host .chart .y-axis path,:host .chart .x-axis path{stroke:var(--d3fc-axis--lines, #b4d2e1)}:host .chart .splitter-label{display:inline-block;margin:0 10px;cursor:pointer}:host .chart .splitter-label:after{margin-left:5px;color:var(--d3fc-axis--lines, #b4d2e1)}:host .chart .splitter-label:hover:after{color:var(--d3fc-axis-ticks--color, #505050)}:host .chart .splitter-label.disabled{cursor:default}:host .chart .splitter-label.disabled:after{color:#5050504d}:host .chart .y-label.left-label .splitter-label:after{font-family:var(--d3fc-y1-label--font-family, var(--button--font-family, inherit));content:var(--d3fc-y1-label--content, "\\1f847")}:host .chart .y-label.right-label .splitter-label:after{font-family:var(--d3fc-y2-label--font-family, var(--button--font-family, inherit));content:var(--d3fc-y2-label--content, "\\1f845")}:host .chart.ybar .y-axis path,:host .chart.yline .y-axis path,:host .chart.xyline .y-axis path,:host .chart.xyline .x-axis path,:host .chart.yarea .y-axis path,:host .chart.yscatter .y-axis path,:host .chart.xyscatter .y-axis path,:host .chart.xyscatter .x-axis path,:host .chart.xbar .x-axis path{visibility:hidden}:host .chart .y-label{white-space:nowrap}:host .chart .nearbyTip{fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host #dragHandles{position:absolute;top:0px;right:0px;left:auto;pointer-events:none}:host #dragHandles rect{pointer-events:all}:host .label rect{fill:none}:host .legend-container{position:absolute;top:15px;right:15px;left:auto;width:150px;height:280px}:host .legend-container.legend-color{width:90px;height:150px}:host .legend-container[borderbox-on-hover=true]{transition:box-shadow 1s}:host .legend-container[borderbox-on-hover=true]:hover{background-color:var(--d3fc-legend--background, #ffffff);box-shadow:0 2px 4px #0000001a;transition:box-shadow .2s,background-color .2s}:host .legend-container .legend{font-size:8pt;width:100%}:host .legend-container .legend .cell{cursor:pointer}:host .legend-container .legend .cell path{fill:var(--d3fc-series, rgba(31, 119, 180, .5));stroke:var(--d3fc-series, #1f77b4)}:host .legend-container .legend .cell.hidden path{fill:#cccccc80;stroke:#ccc}:host .legend-container .legend .cell.hidden circle{fill:#ccc!important}:host .legend-container text{fill:var(--d3fc-legend--text, #333333)}:host .legend-container .label:hover{fill:#22a0ce}:host .legend-container #legend-axis path{stroke:var(--d3fc-legend--text, #333333)}:host .legend-container .legend-controls{margin-left:12px}:host .legend-container .legend-controls #up-arrow,:host .legend-container .legend-controls #down-arrow{cursor:pointer;color:#1f77b4}:host .legend-container .legend-controls #up-arrow.disabled,:host .legend-container .legend-controls #down-arrow.disabled{cursor:default;color:#333}:host .heatmap .legend-container.legend-color{height:200px}:host .treemap .legend-container.legend-color{height:200px}:host .treemap .legend-container:not(.legend-color){width:100px}:host .zoom-controls{position:absolute;top:10px;left:0;width:100%;text-align:center}:host .zoom-controls button{-webkit-appearance:none;background:var(--plugin--background, #f7f7f7);border:1px solid var(--inactive--color, #cccccc);color:var(--d3fc-label--color, inherit);font-size:12px;padding:8px;opacity:.5;cursor:pointer}:host .zoom-controls button:hover{opacity:1}:host .parent-controls{position:absolute;top:30px;right:145px;width:100%;text-align:right}:host .parent-controls button{-webkit-appearance:none;background:#f7f7f7;border:1px solid #cccccc;padding:10px;opacity:.5;cursor:pointer}:host .parent-controls button:hover{background:#e6e6e6}:host div.tooltip{position:absolute;text-align:left;font-size:12px;font-weight:300;white-space:nowrap;padding:.5em;background:var(--d3fc-tooltip--background, #ffffff);color:var(--d3fc-tooltip--color, black);border:1px solid var(--d3fc-tooltip--border-color, #777777);box-shadow:var(--d3fc-tooltip--box-shadow, none);pointer-events:none}:host div.tooltip ul{margin:0;padding:0;list-style-type:none}\n${function(){let t=document.querySelector("head").querySelectorAll("style"),e=[];return t.forEach((t=>{-1!==t.innerText.indexOf("d3fc-")&&e.push(t.innerText)})),e.join("")}()}`,uC=["crossValues","mainValues","realValues","splitValues","filter","data","size","colorStyles","agg_paths","treemaps"];Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),function(...t){t=new Set(t.length>0?t:JT.map((t=>t.plugin.name))),JT.forEach((e=>{if(t.has(e.plugin.name)){let t=e.plugin.name.toLowerCase().replace(/[ \t\r\n\/]*/g,""),n=`perspective-viewer-d3fc-${t}`;customElements.define(n,class extends HTMLElement{constructor(){super(),this._chart=null,this._settings=null,this.render_warning=!0}connectedCallback(){this._initialized||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>${oC}</style>`,this.shadowRoot.innerHTML+='<div id="container" class="chart"></div>',this._container=this.shadowRoot.querySelector(".chart"),this._initialized=!0)}get name(){return e.plugin.name}get category(){return e.plugin.category}get select_mode(){return e.plugin.selectMode||"select"}get min_config_columns(){return e.plugin.initial?.count||iC.initial.count}get config_column_names(){return e.plugin.initial?.names||iC.initial.names}get max_cells(){return e.plugin.max_cells||4e3}set max_cells(t){e.plugin.max_cells=t}get max_columns(){return e.plugin.max_columns||50}set max_columns(t){e.plugin.max_columns=t}async render(){var t=document.createElement("canvas"),e=this.shadowRoot.querySelector("#container");t.width=e.offsetWidth,t.height=e.offsetHeight;let n=t.getContext("2d");n.fillStyle=window.getComputedStyle(this).getPropertyValue("--plugin--background")||"white",n.fillRect(0,0,t.width,t.height);let r=window.getComputedStyle(this).getPropertyValue("color"),a=Array.from(this.shadowRoot.querySelectorAll("svg:not(#dragHandles)"));for(let t of a.reverse()){var i=document.createElement("img");i.width=t.parentNode.offsetWidth,i.height=t.parentNode.offsetHeight;let e=t.cloneNode(!0);e.hasAttribute("viewBox")||e.setAttribute("viewBox",`0 0 ${i.width} ${i.height}`),e.setAttribute("xmlns","http://www.w3.org/2000/svg");for(let t of e.querySelectorAll("text"))t.setAttribute("fill",r);var o=(new XMLSerializer).serializeToString(e);o=o.replace(/[^\x00-\x7F]/g,"");let a=new Promise(((t,e)=>{i.onload=t,i.onerror=e}));try{i.src=`data:image/svg+xml;base64,${btoa(o)}`,await a}catch{let t=new Promise(((t,e)=>{i.onload=t,i.onerror=e}));i.src=`data:image/svg+xml;utf8,${o}`,await t}n.drawImage(i,t.parentNode.offsetLeft,t.parentNode.offsetTop,i.width,i.height)}let u=Array.from(this.shadowRoot.querySelectorAll("canvas"));for(let t of u.reverse())n.drawImage(t,t.parentNode.offsetLeft,t.parentNode.offsetTop,t.width/window.devicePixelRatio,t.height/window.devicePixelRatio);return await new Promise((e=>t.toBlob((t=>e(t)))),"image/png")}async draw(t,e,n){null!==this.offsetParent?(this._staged_view=void 0,this.config=await this.parentElement.save(),await this.update(t,e,n,!0)):this._staged_view=[t,e,n]}async update(t,n,r,a=!1){if(null===this.offsetParent)return;let i,o,u=this.parentElement,l=this.config.columns,c="Sunburst"!==e.plugin.name;i=n&&r?t.to_json({end_row:r,end_col:n,leaves_only:c}):n?t.to_json({end_col:n,leaves_only:c}):r?t.to_json({end_row:r,leaves_only:c}):t.to_json({leaves_only:c}),o=await Promise.all([u.getTable().then((t=>t.schema(!1))),t.expression_schema(!1),t.schema(!1),i,t.get_config()]);let[f,s,h,d,g]=o,p=function(t){let e=f[t];return e||(e=s[t]),e},{columns:v,group_by:m,split_by:y,filter:b}=g,x=m.length>0?d.reduce(((t,e)=>{if(e.__ROW_PATH__&&e.__ROW_PATH__.length==m.length)t.agg_paths.push(t.aggs.slice()),t.rows.push(e);else{let n=e.__ROW_PATH__.filter((t=>void 0!==t)).length;t.aggs[n]=e,t.aggs=t.aggs.slice(0,n+1)}return t}),{rows:[],aggs:[],agg_paths:[]}):{rows:d},_=x.rows.map(((t,e)=>m.length?t:{...t,__ROW_PATH__:[e]})),w={realValues:l,crossValues:m.map((t=>({name:t,type:p(t)}))),mainValues:v.map((t=>({name:t,type:h[t]}))),splitValues:y.map((t=>({name:t,type:p(t)}))),filter:b,data:_,agg_paths:x.agg_paths};this._chart=e;let S={set:(t,e,n)=>(uC.includes(e)||this._container&&this._container.dispatchEvent(new Event("perspective-plugin-update",{bubbles:!0,composed:!0})),t[e]=n,!0)};this._settings=new Proxy({...this._settings,...w},S),this._settings.splitMainValues&&this._settings.splitMainValues.length>=v.length&&(this._settings.splitMainValues=[]),((t,e)=>{if(!e.colorStyles){let n={scheme:[],gradient:{},interpolator:{},grid:{}},r=rC(t);n.series=r("--d3fc-local-series");for(let t=1;;t++){let e=`series-${t}`,a=r(`--d3fc-local-${e}`);if(!a)break;n[e]=a,n.scheme.push(a)}n.opacity=eC(n.series),n.grid.gridLineColor=r`--d3fc-gridline--color`,["full","positive","negative"].forEach((t=>{let e=r(`--d3fc-local-${t}--gradient`);n.gradient[t]=aC(e,n.opacity)})),e.colorStyles=n}})(this._container,this._settings),a&&(this._container.innerHTML=""),this._draw(),await new Promise((t=>requestAnimationFrame(t)))}async clear(){this._container&&(this._container.innerHTML="")}_draw(){if(null!==this.offsetParent){let e=Hl(this._container),n=`chart ${t}`;this._settings.size=this._container.getBoundingClientRect(),this._settings.data.length>0?this._chart(e.attr("class",n),this._settings):e.attr("class",`${n} disabled`)}}async resize(t){if(null!==this.offsetParent)if(void 0!==this._settings?.data)this._draw();else{let[t,e,n]=this._staged_view;this._staged_view=void 0,this.draw(t,e,n)}}async restyle(...t){let e=this._settings;e&&(delete e.colorStyles,await this.draw(...t))}async delete(){this._container.innerHTML=""}getContainer(){return this._container}save(){let t={...this._settings};return uC.forEach((e=>{delete t[e]})),t}restore(t){let e={};for(let t of uC)e[t]=this._settings?.[t];this._settings={...e,...t},this._draw()}}),customElements.whenDefined("perspective-viewer").then((()=>function(t){customElements.get("perspective-viewer").registerPlugin(t)}(n)))}}))}()}));
//# sourceMappingURL=/sm/0baa5cceeb0b618eb41a8897c37d898409ce9a4452dceb8c9f8e55f392162ae5.map