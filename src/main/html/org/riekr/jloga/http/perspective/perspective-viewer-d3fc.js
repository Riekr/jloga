var WC=Object.create;var Dl=Object.defineProperty;var $C=Object.getOwnPropertyDescriptor;var GC=Object.getOwnPropertyNames;var UC=Object.getPrototypeOf,XC=Object.prototype.hasOwnProperty;var T=(e,t)=>()=>(e&&(t=e(e=0)),t);var Ox=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),At=(e,t)=>{for(var r in t)Dl(e,r,{get:t[r],enumerable:!0})},Bx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of GC(t))!XC.call(e,a)&&a!==r&&Dl(e,a,{get:()=>t[a],enumerable:!(n=$C(t,a))||n.enumerable});return e};var Ie=(e,t,r)=>(r=e!=null?WC(UC(e)):{},Bx(t||!e||!e.__esModule?Dl(r,"default",{value:e,enumerable:!0}):r,e)),ar=e=>Bx(Dl({},"__esModule",{value:!0}),e);function Fe(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var _r=T(()=>{});function Wi(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var wd=T(()=>{});function Co(e){let t,r,n;e.length!==2?(t=Fe,r=(u,f)=>Fe(e(u),f),n=(u,f)=>e(u)-f):(t=e===Fe||e===Wi?e:jC,r=e,n=e);function a(u,f,c=0,h=u.length){if(c<h){if(t(f,f)!==0)return h;do{let y=c+h>>>1;r(u[y],f)<0?c=y+1:h=y}while(c<h)}return c}function o(u,f,c=0,h=u.length){if(c<h){if(t(f,f)!==0)return h;do{let y=c+h>>>1;r(u[y],f)<=0?c=y+1:h=y}while(c<h)}return c}function i(u,f,c=0,h=u.length){let y=a(u,f,c,h-1);return y>c&&n(u[y-1],f)>-n(u[y],f)?y-1:y}return{left:a,center:i,right:o}}function jC(){return 0}var _d=T(()=>{_r();wd()});function $i(e){return e===null?NaN:+e}function*Sd(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}var Md=T(()=>{});var Fx,Ad,Hx,Yx,El,kd=T(()=>{_r();_d();Md();Fx=Co(Fe),Ad=Fx.right,Hx=Fx.left,Yx=Co($i).center,El=Ad});function qx(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let r=e.length;if(!((r=Math.floor(r))>=0))throw new RangeError("invalid length");if(!r||!t)return e;let n=Cd(t),a=e.slice();return n(e,a,0,r,1),n(a,e,0,r,1),n(e,a,0,r,1),e}function Gx(e){return function(t,r,n=r){if(!((r=+r)>=0))throw new RangeError("invalid rx");if(!((n=+n)>=0))throw new RangeError("invalid ry");let{data:a,width:o,height:i}=t;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((i=Math.floor(i!==void 0?i:a.length/o))>=0))throw new RangeError("invalid height");if(!o||!i||!r&&!n)return t;let u=r&&e(r),f=n&&e(n),c=a.slice();return u&&f?(To(u,c,a,o,i),To(u,a,c,o,i),To(u,c,a,o,i),Vo(f,a,c,o,i),Vo(f,c,a,o,i),Vo(f,a,c,o,i)):u?(To(u,a,c,o,i),To(u,c,a,o,i),To(u,a,c,o,i)):f&&(Vo(f,a,c,o,i),Vo(f,c,a,o,i),Vo(f,a,c,o,i)),t}}function To(e,t,r,n,a){for(let o=0,i=n*a;o<i;)e(t,r,o,o+=n,1)}function Vo(e,t,r,n,a){for(let o=0,i=n*a;o<n;++o)e(t,r,o,o+i,n)}function QC(e){let t=Cd(e);return(r,n,a,o,i)=>{a<<=2,o<<=2,i<<=2,t(r,n,a+0,o+0,i),t(r,n,a+1,o+1,i),t(r,n,a+2,o+2,i),t(r,n,a+3,o+3,i)}}function Cd(e){let t=Math.floor(e);if(t===e)return KC(e);let r=e-t,n=2*e+1;return(a,o,i,u,f)=>{if(!((u-=f)>=i))return;let c=t*o[i],h=f*t,y=h+f;for(let x=i,M=i+h;x<M;x+=f)c+=o[Math.min(u,x)];for(let x=i,M=u;x<=M;x+=f)c+=o[Math.min(u,x+h)],a[x]=(c+r*(o[Math.max(i,x-y)]+o[Math.min(u,x+y)]))/n,c-=o[Math.max(i,x-h)]}}function KC(e){let t=2*e+1;return(r,n,a,o,i)=>{if(!((o-=i)>=a))return;let u=e*n[a],f=i*e;for(let c=a,h=a+f;c<h;c+=i)u+=n[Math.min(o,c)];for(let c=a,h=o;c<=h;c+=i)u+=n[Math.min(o,c+f)],r[c]=u/t,u-=n[Math.max(a,c-f)]}}var Wx,$x,Ux=T(()=>{Wx=Gx(Cd),$x=Gx(QC)});function un(e,t){let r=0;if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&++r;else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(a=+a)>=a&&++r}return r}var Gi=T(()=>{});function ZC(e){return e.length|0}function JC(e){return!(e>0)}function eT(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function tT(e){return t=>e(...t)}function Td(...e){let t=typeof e[e.length-1]=="function"&&tT(e.pop());e=e.map(eT);let r=e.map(ZC),n=e.length-1,a=new Array(n+1).fill(0),o=[];if(n<0||r.some(JC))return o;for(;;){o.push(a.map((u,f)=>e[f][u]));let i=n;for(;++a[i]===r[i];){if(i===0)return t?o.map(t):o;a[i--]=0}}}var Xx=T(()=>{});function Vd(e,t){var r=0,n=0;return Float64Array.from(e,t===void 0?a=>r+=+a||0:a=>r+=+t(a,n++,e)||0)}var jx=T(()=>{});function Ui(e,t){let r=0,n,a=0,o=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(n=i-a,a+=n/++r,o+=n*(i-a));else{let i=-1;for(let u of e)(u=t(u,++i,e))!=null&&(u=+u)>=u&&(n=u-a,a+=n/++r,o+=n*(u-a))}if(r>1)return o/(r-1)}var Nd=T(()=>{});function Xi(e,t){let r=Ui(e,t);return r&&Math.sqrt(r)}var Dd=T(()=>{Nd()});function ya(e,t){let r,n;if(t===void 0)for(let a of e)a!=null&&(r===void 0?a>=a&&(r=n=a):(r>a&&(r=a),n<a&&(n=a)));else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&(r===void 0?o>=o&&(r=n=o):(r>o&&(r=o),n<o&&(n=o)))}return[r,n]}var Ed=T(()=>{});function Qx(e,t){let r=new No;if(t===void 0)for(let n of e)(n=+n)&&r.add(n);else{let n=-1;for(let a of e)(a=+t(a,++n,e))&&r.add(a)}return+r}function Kx(e,t){let r=new No,n=-1;return Float64Array.from(e,t===void 0?a=>r.add(+a||0):a=>r.add(+t(a,++n,e)||0))}var No,Zx=T(()=>{No=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let r=this._partials,n=0;for(let a=0;a<this._n&&a<32;a++){let o=r[a],i=t+o,u=Math.abs(t)<Math.abs(o)?t-(i-o):o-(i-t);u&&(r[n++]=u),t=i}return r[n]=t,this._n=n+1,this}valueOf(){let t=this._partials,r=this._n,n,a,o,i=0;if(r>0){for(i=t[--r];r>0&&(n=i,a=t[--r],i=n+a,o=a-(i-n),!o););r>0&&(o<0&&t[r-1]<0||o>0&&t[r-1]>0)&&(a=o*2,n=i+a,a==n-i&&(i=n))}return i}}});function Id({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function Jx({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function e1({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function t1(e){return e!==null&&typeof e=="object"?e.valueOf():e}var or,Ot,ln=T(()=>{or=class extends Map{constructor(t,r=t1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let[n,a]of t)this.set(n,a)}get(t){return super.get(Id(this,t))}has(t){return super.has(Id(this,t))}set(t,r){return super.set(Jx(this,t),r)}delete(t){return super.delete(e1(this,t))}},Ot=class extends Set{constructor(t,r=t1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let n of t)this.add(n)}has(t){return super.has(Id(this,t))}add(t){return super.add(Jx(this,t))}delete(t){return super.delete(e1(this,t))}}});function fn(e){return e}var zd=T(()=>{});function ji(e,...t){return Do(e,fn,fn,t)}function Pd(e,...t){return Do(e,Array.from,fn,t)}function r1(e,t){for(let r=1,n=t.length;r<n;++r)e=e.flatMap(a=>a.pop().map(([o,i])=>[...a,o,i]));return e}function n1(e,...t){return r1(Pd(e,...t),t)}function a1(e,t,...r){return r1(Rd(e,t,...r),r)}function Il(e,t,...r){return Do(e,fn,t,r)}function Rd(e,t,...r){return Do(e,Array.from,t,r)}function o1(e,...t){return Do(e,fn,u1,t)}function i1(e,...t){return Do(e,Array.from,u1,t)}function u1(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function Do(e,t,r,n){return function a(o,i){if(i>=n.length)return r(o);let u=new or,f=n[i++],c=-1;for(let h of o){let y=f(h,++c,o),x=u.get(y);x?x.push(h):u.set(y,[h])}for(let[h,y]of u)u.set(h,a(y,i));return t(u)}(e,0)}var Ld=T(()=>{ln();zd()});function Qi(e,t){return Array.from(t,r=>e[r])}var Od=T(()=>{});function Eo(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[r]=t;if(r&&r.length!==2||t.length>1){let n=Uint32Array.from(e,(a,o)=>o);return t.length>1?(t=t.map(a=>e.map(a)),n.sort((a,o)=>{for(let i of t){let u=sn(i[a],i[o]);if(u)return u}})):(r=e.map(r),n.sort((a,o)=>sn(r[a],r[o]))),Qi(e,n)}return e.sort(Ki(r))}function Ki(e=Fe){if(e===Fe)return sn;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{let n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function sn(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var Io=T(()=>{_r();Od()});function Bd(e,t,r){return(t.length!==2?Eo(Il(e,t,r),([n,a],[o,i])=>Fe(a,i)||Fe(n,o)):Eo(ji(e,r),([n,a],[o,i])=>t(a,i)||Fe(n,o))).map(([n])=>n)}var l1=T(()=>{_r();Ld();Io()});var f1,s1,jR,c1=T(()=>{f1=Array.prototype,s1=f1.slice,jR=f1.map});function Zi(e){return()=>e}var d1=T(()=>{});function Ji(e,t,r){var n,a=-1,o,i,u;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(o=e,e=t,t=o),(u=zn(e,t,r))===0||!isFinite(u))return[];if(u>0){let f=Math.round(e/u),c=Math.round(t/u);for(f*u<e&&++f,c*u>t&&--c,i=new Array(o=c-f+1);++a<o;)i[a]=(f+a)*u}else{u=-u;let f=Math.round(e*u),c=Math.round(t*u);for(f/u<e&&++f,c/u>t&&--c,i=new Array(o=c-f+1);++a<o;)i[a]=(f+a)/u}return n&&i.reverse(),i}function zn(e,t,r){var n=(t-e)/Math.max(0,r),a=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,a);return a>=0?(o>=Fd?10:o>=Hd?5:o>=Yd?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(o>=Fd?10:o>=Hd?5:o>=Yd?2:1)}function m1(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/a;return o>=Fd?a*=10:o>=Hd?a*=5:o>=Yd&&(a*=2),t<e?-a:a}var Fd,Hd,Yd,zl=T(()=>{Fd=Math.sqrt(50),Hd=Math.sqrt(10),Yd=Math.sqrt(2)});function eu(e,t,r){let n;for(;;){let a=zn(e,t,r);if(a===n||a===0||!isFinite(a))return[e,t];a>0?(e=Math.floor(e/a)*a,t=Math.ceil(t/a)*a):a<0&&(e=Math.ceil(e*a)/a,t=Math.floor(t*a)/a),n=a}}var qd=T(()=>{zl()});function tu(e){return Math.ceil(Math.log(un(e))/Math.LN2)+1}var Wd=T(()=>{Gi()});function Pl(){var e=fn,t=ya,r=tu;function n(a){Array.isArray(a)||(a=Array.from(a));var o,i=a.length,u,f,c=new Array(i);for(o=0;o<i;++o)c[o]=e(a[o],o,a);var h=t(c),y=h[0],x=h[1],M=r(c,y,x);if(!Array.isArray(M)){let B=x,R=+M;if(t===ya&&([y,x]=eu(y,x,R)),M=Ji(y,x,R),M[0]<=y&&(f=zn(y,x,R)),M[M.length-1]>=x)if(B>=x&&t===ya){let I=zn(y,x,R);isFinite(I)&&(I>0?x=(Math.floor(x/I)+1)*I:I<0&&(x=(Math.ceil(x*-I)+1)/-I))}else M.pop()}for(var A=M.length,N=0,k=A;M[N]<=y;)++N;for(;M[k-1]>x;)--k;(N||k<A)&&(M=M.slice(N,k),A=k-N);var D=new Array(A+1),O;for(o=0;o<=A;++o)O=D[o]=[],O.x0=o>0?M[o-1]:y,O.x1=o<A?M[o]:x;if(isFinite(f)){if(f>0)for(o=0;o<i;++o)(u=c[o])!=null&&y<=u&&u<=x&&D[Math.min(A,Math.floor((u-y)/f))].push(a[o]);else if(f<0){for(o=0;o<i;++o)if((u=c[o])!=null&&y<=u&&u<=x){let B=Math.floor((y-u)*f);D[Math.min(A,B+(M[B]<=u))].push(a[o])}}}else for(o=0;o<i;++o)(u=c[o])!=null&&y<=u&&u<=x&&D[El(M,u,0,A)].push(a[o]);return D}return n.value=function(a){return arguments.length?(e=typeof a=="function"?a:Zi(a),n):e},n.domain=function(a){return arguments.length?(t=typeof a=="function"?a:Zi([a[0],a[1]]),n):t},n.thresholds=function(a){return arguments.length?(r=typeof a=="function"?a:Zi(Array.isArray(a)?s1.call(a):a),n):r},n}var h1=T(()=>{c1();kd();d1();Ed();zd();qd();zl();Wd()});function zr(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}var $d=T(()=>{});function wa(e,t){let r,n=-1,a=-1;if(t===void 0)for(let o of e)++a,o!=null&&(r<o||r===void 0&&o>=o)&&(r=o,n=a);else for(let o of e)(o=t(o,++a,e))!=null&&(r<o||r===void 0&&o>=o)&&(r=o,n=a);return n}var Rl=T(()=>{});function ir(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}var Ll=T(()=>{});function _a(e,t){let r,n=-1,a=-1;if(t===void 0)for(let o of e)++a,o!=null&&(r>o||r===void 0&&o>=o)&&(r=o,n=a);else for(let o of e)(o=t(o,++a,e))!=null&&(r>o||r===void 0&&o>=o)&&(r=o,n=a);return n}var Ol=T(()=>{});function Sa(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?sn:Ki(a);n>r;){if(n-r>600){let f=n-r+1,c=t-r+1,h=Math.log(f),y=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*y*(f-y)/f)*(c-f/2<0?-1:1),M=Math.max(r,Math.floor(t-c*y/f+x)),A=Math.min(n,Math.floor(t+(f-c)*y/f+x));Sa(e,t,M,A,a)}let o=e[t],i=r,u=n;for(ru(e,r,t),a(e[n],o)>0&&ru(e,r,n);i<u;){for(ru(e,i,u),++i,--u;a(e[i],o)<0;)++i;for(;a(e[u],o)>0;)--u}a(e[r],o)===0?ru(e,r,u):(++u,ru(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function ru(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}var Gd=T(()=>{Io()});function nu(e,t=Fe){let r,n=!1;if(t.length===1){let a;for(let o of e){let i=t(o);(n?Fe(i,a)>0:Fe(i,i)===0)&&(r=o,a=i,n=!0)}}else for(let a of e)(n?t(a,r)>0:t(a,a)===0)&&(r=a,n=!0);return r}var Ud=T(()=>{_r()});function Pn(e,t,r){if(e=Float64Array.from(Sd(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return ir(e);if(t>=1)return zr(e);var n,a=(n-1)*t,o=Math.floor(a),i=zr(Sa(e,o).subarray(0,o+1)),u=ir(e.subarray(o+1));return i+(u-i)*(a-o)}}function p1(e,t,r=$i){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),u=+r(e[o+1],o+1,e);return i+(u-i)*(a-o)}}function Bl(e,t,r){if(e=Float64Array.from(Sd(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return _a(e);if(t>=1)return wa(e);var n,a=Math.floor((n-1)*t),o=(u,f)=>sn(e[u],e[f]),i=Sa(Uint32Array.from(e,(u,f)=>f),a,0,n-1,o);return nu(i.subarray(0,a+1),u=>e[u])}}var Fl=T(()=>{$d();Rl();Ll();Ol();Gd();Md();Io();Ud()});function Xd(e,t,r){return Math.ceil((r-t)/(2*(Pn(e,.75)-Pn(e,.25))*Math.pow(un(e),-1/3)))}var g1=T(()=>{Gi();Fl()});function jd(e,t,r){return Math.ceil((r-t)*Math.cbrt(un(e))/(3.49*Xi(e)))}var v1=T(()=>{Gi();Dd()});function Qd(e,t){let r=0,n=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(++r,n+=a);else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&(o=+o)>=o&&(++r,n+=o)}if(r)return n/r}var x1=T(()=>{});function Kd(e,t){return Pn(e,.5,t)}function b1(e,t){return Bl(e,.5,t)}var y1=T(()=>{Fl()});function*rT(e){for(let t of e)yield*t}function Zd(e){return Array.from(rT(e))}var w1=T(()=>{});function Jd(e,t){let r=new or;if(t===void 0)for(let o of e)o!=null&&o>=o&&r.set(o,(r.get(o)||0)+1);else{let o=-1;for(let i of e)(i=t(i,++o,e))!=null&&i>=i&&r.set(i,(r.get(i)||0)+1)}let n,a=0;for(let[o,i]of r)i>a&&(a=i,n=o);return n}var _1=T(()=>{ln()});function em(e,t=nT){let r=[],n,a=!1;for(let o of e)a&&r.push(t(n,o)),n=o,a=!0;return r}function nT(e,t){return[e,t]}var S1=T(()=>{});function tm(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}var M1=T(()=>{});function rm(e,t=Fe){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let r=Array.from(e),n=new Float64Array(r.length);t.length!==2&&(r=r.map(t),t=Fe);let a=(u,f)=>t(r[u],r[f]),o,i;return Uint32Array.from(r,(u,f)=>f).sort(t===Fe?(u,f)=>sn(r[u],r[f]):Ki(a)).forEach((u,f)=>{let c=a(u,o===void 0?u:o);c>=0?((o===void 0||c>0)&&(o=u,i=f),n[u]=i):n[u]=NaN}),n}var A1=T(()=>{_r();Io()});function nm(e,t=Fe){let r,n=!1;if(t.length===1){let a;for(let o of e){let i=t(o);(n?Fe(i,a)<0:Fe(i,i)===0)&&(r=o,a=i,n=!0)}}else for(let a of e)(n?t(a,r)<0:t(a,a)===0)&&(r=a,n=!0);return r}var k1=T(()=>{_r()});function au(e,t=Fe){if(t.length===1)return _a(e,t);let r,n=-1,a=-1;for(let o of e)++a,(n<0?t(o,o)===0:t(o,r)<0)&&(r=o,n=a);return n}var am=T(()=>{_r();Ol()});function om(e,t=Fe){if(t.length===1)return wa(e,t);let r,n=-1,a=-1;for(let o of e)++a,(n<0?t(o,o)===0:t(o,r)>0)&&(r=o,n=a);return n}var C1=T(()=>{_r();Rl()});function im(e,t){let r=au(e,t);return r<0?void 0:r}var T1=T(()=>{am()});function um(e){return function(r,n=0,a=r.length){let o=a-(n=+n);for(;o;){let i=e()*o--|0,u=r[o+n];r[o+n]=r[i+n],r[i+n]=u}return r}}var V1,N1=T(()=>{V1=um(Math.random)});function lm(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let a of e)(a=+t(a,++n,e))&&(r+=a)}return r}var D1=T(()=>{});function ou(e){if(!(o=e.length))return[];for(var t=-1,r=ir(e,aT),n=new Array(r);++t<r;)for(var a=-1,o,i=n[t]=new Array(o);++a<o;)i[a]=e[a][t];return n}function aT(e){return e.length}var fm=T(()=>{Ll()});function sm(){return ou(arguments)}var E1=T(()=>{fm()});function cm(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(let n of e)if(!t(n,++r,e))return!1;return!0}var I1=T(()=>{});function dm(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(let n of e)if(t(n,++r,e))return!0;return!1}var z1=T(()=>{});function mm(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=[],n=-1;for(let a of e)t(a,++n,e)&&r.push(a);return r}var P1=T(()=>{});function hm(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(r,n)=>t(r,n,e))}var R1=T(()=>{});function pm(e,t,r){if(typeof t!="function")throw new TypeError("reducer is not a function");let n=e[Symbol.iterator](),a,o,i=-1;if(arguments.length<3){if({done:a,value:r}=n.next(),a)return;++i}for(;{done:a,value:o}=n.next(),!a;)r=t(r,o,++i,e);return r}var L1=T(()=>{});function gm(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}var O1=T(()=>{});function vm(e,...t){e=new Ot(e);for(let r of t)for(let n of r)e.delete(n);return e}var B1=T(()=>{ln()});function xm(e,t){let r=t[Symbol.iterator](),n=new Ot;for(let a of e){if(n.has(a))return!1;let o,i;for(;({value:o,done:i}=r.next())&&!i;){if(Object.is(a,o))return!1;n.add(o)}}return!0}var F1=T(()=>{ln()});function bm(e,...t){e=new Ot(e),t=t.map(oT);e:for(let r of e)for(let n of t)if(!n.has(r)){e.delete(r);continue e}return e}function oT(e){return e instanceof Ot?e:new Ot(e)}var H1=T(()=>{ln()});function iu(e,t){let r=e[Symbol.iterator](),n=new Set;for(let a of t){let o=Y1(a);if(n.has(o))continue;let i,u;for(;{value:i,done:u}=r.next();){if(u)return!1;let f=Y1(i);if(n.add(f),Object.is(o,f))break}}return!0}function Y1(e){return e!==null&&typeof e=="object"?e.valueOf():e}var ym=T(()=>{});function wm(e,t){return iu(t,e)}var q1=T(()=>{ym()});function _m(...e){let t=new Ot;for(let r of e)for(let n of r)t.add(n);return t}var W1=T(()=>{ln()});var Sm={};At(Sm,{Adder:()=>No,InternMap:()=>or,InternSet:()=>Ot,ascending:()=>Fe,bin:()=>Pl,bisect:()=>El,bisectCenter:()=>Yx,bisectLeft:()=>Hx,bisectRight:()=>Ad,bisector:()=>Co,blur:()=>qx,blur2:()=>Wx,blurImage:()=>$x,count:()=>un,cross:()=>Td,cumsum:()=>Vd,descending:()=>Wi,deviation:()=>Xi,difference:()=>vm,disjoint:()=>xm,every:()=>cm,extent:()=>ya,fcumsum:()=>Kx,filter:()=>mm,flatGroup:()=>n1,flatRollup:()=>a1,fsum:()=>Qx,greatest:()=>nu,greatestIndex:()=>om,group:()=>ji,groupSort:()=>Bd,groups:()=>Pd,histogram:()=>Pl,index:()=>o1,indexes:()=>i1,intersection:()=>bm,least:()=>nm,leastIndex:()=>au,map:()=>hm,max:()=>zr,maxIndex:()=>wa,mean:()=>Qd,median:()=>Kd,medianIndex:()=>b1,merge:()=>Zd,min:()=>ir,minIndex:()=>_a,mode:()=>Jd,nice:()=>eu,pairs:()=>em,permute:()=>Qi,quantile:()=>Pn,quantileIndex:()=>Bl,quantileSorted:()=>p1,quickselect:()=>Sa,range:()=>tm,rank:()=>rm,reduce:()=>pm,reverse:()=>gm,rollup:()=>Il,rollups:()=>Rd,scan:()=>im,shuffle:()=>V1,shuffler:()=>um,some:()=>dm,sort:()=>Eo,subset:()=>wm,sum:()=>lm,superset:()=>iu,thresholdFreedmanDiaconis:()=>Xd,thresholdScott:()=>jd,thresholdSturges:()=>tu,tickIncrement:()=>zn,tickStep:()=>m1,ticks:()=>Ji,transpose:()=>ou,union:()=>_m,variance:()=>Ui,zip:()=>sm});var Mm=T(()=>{kd();_r();_d();Ux();Gi();Xx();jx();wd();Dd();Ed();Zx();Ld();l1();h1();g1();v1();Wd();$d();Rl();x1();y1();w1();Ll();Ol();_1();qd();S1();Od();Fl();Gd();M1();A1();k1();am();Ud();C1();T1();N1();D1();zl();fm();Nd();E1();I1();z1();P1();R1();L1();O1();Io();B1();F1();H1();q1();ym();W1();ln()});function Gt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var uu=T(()=>{});function Hl(e){let t=e,r=e,n=e;e.length!==2&&(t=(u,f)=>e(u)-f,r=Gt,n=(u,f)=>Gt(e(u),f));function a(u,f,c=0,h=u.length){if(c<h){if(r(f,f)!==0)return h;do{let y=c+h>>>1;n(u[y],f)<0?c=y+1:h=y}while(c<h)}return c}function o(u,f,c=0,h=u.length){if(c<h){if(r(f,f)!==0)return h;do{let y=c+h>>>1;n(u[y],f)<=0?c=y+1:h=y}while(c<h)}return c}function i(u,f,c=0,h=u.length){let y=a(u,f,c,h-1);return y>c&&t(u[y-1],f)>-t(u[y],f)?y-1:y}return{left:a,center:i,right:o}}var $1=T(()=>{uu()});function lu(e){return e===null?NaN:+e}function*G1(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}var Am=T(()=>{});var U1,X1,iT,uT,Sr,j1=T(()=>{uu();$1();Am();U1=Hl(Gt),X1=U1.right,iT=U1.left,uT=Hl(lu).center,Sr=X1});function Q1(e=Gt){if(e===Gt)return km;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{let n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function km(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var K1=T(()=>{uu()});function Ma(e,t,r){var n,a=-1,o,i,u;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(o=e,e=t,t=o),(u=Yl(e,t,r))===0||!isFinite(u))return[];if(u>0){let f=Math.round(e/u),c=Math.round(t/u);for(f*u<e&&++f,c*u>t&&--c,i=new Array(o=c-f+1);++a<o;)i[a]=(f+a)*u}else{u=-u;let f=Math.round(e*u),c=Math.round(t*u);for(f/u<e&&++f,c/u>t&&--c,i=new Array(o=c-f+1);++a<o;)i[a]=(f+a)/u}return n&&i.reverse(),i}function Yl(e,t,r){var n=(t-e)/Math.max(0,r),a=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,a);return a>=0?(o>=Cm?10:o>=Tm?5:o>=Vm?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(o>=Cm?10:o>=Tm?5:o>=Vm?2:1)}function Nm(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/a;return o>=Cm?a*=10:o>=Tm?a*=5:o>=Vm&&(a*=2),t<e?-a:a}var Cm,Tm,Vm,Z1=T(()=>{Cm=Math.sqrt(50),Tm=Math.sqrt(10),Vm=Math.sqrt(2)});function ql(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}var J1=T(()=>{});function Wl(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}var eb=T(()=>{});function $l(e,t,r=0,n=e.length-1,a){for(a=a===void 0?km:Q1(a);n>r;){if(n-r>600){let f=n-r+1,c=t-r+1,h=Math.log(f),y=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*y*(f-y)/f)*(c-f/2<0?-1:1),M=Math.max(r,Math.floor(t-c*y/f+x)),A=Math.min(n,Math.floor(t+(f-c)*y/f+x));$l(e,t,M,A,a)}let o=e[t],i=r,u=n;for(fu(e,r,t),a(e[n],o)>0&&fu(e,r,n);i<u;){for(fu(e,i,u),++i,--u;a(e[i],o)<0;)++i;for(;a(e[u],o)>0;)--u}a(e[r],o)===0?fu(e,r,u):(++u,fu(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function fu(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}var tb=T(()=>{K1()});function Gl(e,t,r){if(e=Float64Array.from(G1(e,r)),!!(n=e.length)){if((t=+t)<=0||n<2)return Wl(e);if(t>=1)return ql(e);var n,a=(n-1)*t,o=Math.floor(a),i=ql($l(e,o).subarray(0,o+1)),u=Wl(e.subarray(o+1));return i+(u-i)*(a-o)}}function Dm(e,t,r=lu){if(!!(n=e.length)){if((t=+t)<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),u=+r(e[o+1],o+1,e);return i+(u-i)*(a-o)}}var rb=T(()=>{J1();eb();tb();Am()});function Ul(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}var nb=T(()=>{});var Mr=T(()=>{j1();uu();rb();nb();Z1();ln()});function Ze(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ur(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}var kt=T(()=>{});function lr(){var e=new or,t=[],r=[],n=Xl;function a(o){let i=e.get(o);if(i===void 0){if(n!==Xl)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new or;for(let i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return lr(t,r).unknown(n)},Ze.apply(a,arguments),a}var Xl,Em=T(()=>{Mr();kt();Xl=Symbol("implicit")});function Ar(){var e=lr().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,u=!1,f=0,c=0,h=.5;delete e.unknown;function y(){var x=t().length,M=a<n,A=M?a:n,N=M?n:a;o=(N-A)/Math.max(1,x-f+c*2),u&&(o=Math.floor(o)),A+=(N-A-o*(x-f))*h,i=o*(1-f),u&&(A=Math.round(A),i=Math.round(i));var k=Ul(x).map(function(D){return A+o*D});return r(M?k.reverse():k)}return e.domain=function(x){return arguments.length?(t(x),y()):t()},e.range=function(x){return arguments.length?([n,a]=x,n=+n,a=+a,y()):[n,a]},e.rangeRound=function(x){return[n,a]=x,n=+n,a=+a,u=!0,y()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(x){return arguments.length?(u=!!x,y()):u},e.padding=function(x){return arguments.length?(f=Math.min(1,c=+x),y()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),y()):f},e.paddingOuter=function(x){return arguments.length?(c=+x,y()):c},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),y()):h},e.copy=function(){return Ar(t(),[n,a]).round(u).paddingInner(f).paddingOuter(c).align(h)},Ze.apply(y(),arguments)}function ab(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ab(t())},e}function ob(){return ab(Ar.apply(null,arguments).paddingInner(1))}var ib=T(()=>{Mr();kt();Em()});function zo(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function su(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}var Im=T(()=>{});function ka(){}function lb(){return this.rgb().formatHex()}function pT(){return hb(this).formatHsl()}function fb(){return this.rgb().formatRgb()}function Tt(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=lT.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?sb(t):r===3?new Ct(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?jl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?jl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=fT.exec(e))?new Ct(t[1],t[2],t[3],1):(t=sT.exec(e))?new Ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cT.exec(e))?jl(t[1],t[2],t[3],t[4]):(t=dT.exec(e))?jl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mT.exec(e))?mb(t[1],t[2]/100,t[3]/100,1):(t=hT.exec(e))?mb(t[1],t[2]/100,t[3]/100,t[4]):ub.hasOwnProperty(e)?sb(ub[e]):e==="transparent"?new Ct(NaN,NaN,NaN,0):null}function sb(e){return new Ct(e>>16&255,e>>8&255,e&255,1)}function jl(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ct(e,t,r,n)}function Rm(e){return e instanceof ka||(e=Tt(e)),e?(e=e.rgb(),new Ct(e.r,e.g,e.b,e.opacity)):new Ct}function Ln(e,t,r,n){return arguments.length===1?Rm(e):new Ct(e,t,r,n??1)}function Ct(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function cb(){return"#"+zm(this.r)+zm(this.g)+zm(this.b)}function db(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function zm(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function mb(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Pr(e,t,r,n)}function hb(e){if(e instanceof Pr)return new Pr(e.h,e.s,e.l,e.opacity);if(e instanceof ka||(e=Tt(e)),!e)return new Pr;if(e instanceof Pr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,u=o-a,f=(o+a)/2;return u?(t===o?i=(r-n)/u+(r<n)*6:r===o?i=(n-t)/u+2:i=(t-r)/u+4,u/=f<.5?o+a:2-o-a,i*=60):u=f>0&&f<1?0:i,new Pr(i,u,f,e.opacity)}function pb(e,t,r,n){return arguments.length===1?hb(e):new Pr(e,t,r,n??1)}function Pr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function Pm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var Rn,Aa,Po,cu,Rr,lT,fT,sT,cT,dT,mT,hT,ub,Lm=T(()=>{Im();Rn=.7,Aa=1/Rn,Po="\\s*([+-]?\\d+)\\s*",cu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lT=/^#([0-9a-f]{3,8})$/,fT=new RegExp("^rgb\\("+[Po,Po,Po]+"\\)$"),sT=new RegExp("^rgb\\("+[Rr,Rr,Rr]+"\\)$"),cT=new RegExp("^rgba\\("+[Po,Po,Po,cu]+"\\)$"),dT=new RegExp("^rgba\\("+[Rr,Rr,Rr,cu]+"\\)$"),mT=new RegExp("^hsl\\("+[cu,Rr,Rr]+"\\)$"),hT=new RegExp("^hsla\\("+[cu,Rr,Rr,cu]+"\\)$"),ub={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zo(ka,Tt,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:lb,formatHex:lb,formatHsl:pT,formatRgb:fb,toString:fb});zo(Ct,Ln,su(ka,{brighter:function(e){return e=e==null?Aa:Math.pow(Aa,e),new Ct(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Rn:Math.pow(Rn,e),new Ct(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cb,formatHex:cb,formatRgb:db,toString:db}));zo(Pr,pb,su(ka,{brighter:function(e){return e=e==null?Aa:Math.pow(Aa,e),new Pr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Rn:Math.pow(Rn,e),new Pr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ct(Pm(e>=240?e-240:e+120,a,n),Pm(e,a,n),Pm(e<120?e+240:e-120,a,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}))});var gb,vb,xb=T(()=>{gb=Math.PI/180,vb=180/Math.PI});function gT(e){if(e instanceof Ca)return new Ca(e.h,e.s,e.l,e.opacity);e instanceof Ct||(e=Rm(e));var t=e.r/255,r=e.g/255,n=e.b/255,a=(wb*n+bb*t-yb*r)/(wb+bb-yb),o=n-a,i=(du*(r-a)-Bm*o)/Ql,u=Math.sqrt(i*i+o*o)/(du*a*(1-a)),f=u?Math.atan2(i,o)*vb-120:NaN;return new Ca(f<0?f+360:f,u,a,e.opacity)}function Bt(e,t,r,n){return arguments.length===1?gT(e):new Ca(e,t,r,n??1)}function Ca(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}var _b,Om,Bm,Ql,du,bb,yb,wb,Sb=T(()=>{Im();Lm();xb();_b=-.14861,Om=1.78277,Bm=-.29227,Ql=-.90649,du=1.97294,bb=du*Ql,yb=du*Om,wb=Om*Bm-Ql*_b;zo(Ca,Bt,su(ka,{brighter:function(e){return e=e==null?Aa:Math.pow(Aa,e),new Ca(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Rn:Math.pow(Rn,e),new Ca(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*gb,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),a=Math.sin(e);return new Ct(255*(t+r*(_b*n+Om*a)),255*(t+r*(Bm*n+Ql*a)),255*(t+r*(du*n)),this.opacity)}}))});var cn=T(()=>{Lm();Sb()});function Fm(e,t,r,n,a){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*r+(1+3*e+3*o-3*i)*n+i*a)/6}function Mb(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],o=e[n+1],i=n>0?e[n-1]:2*a-o,u=n<t-1?e[n+2]:2*o-a;return Fm((r-n/t)*t,i,a,o,u)}}var Hm=T(()=>{});function Ab(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],o=e[n%t],i=e[(n+1)%t],u=e[(n+2)%t];return Fm((r-n/t)*t,a,o,i,u)}}var kb=T(()=>{Hm()});var Ro,Ym=T(()=>{Ro=e=>()=>e});function Cb(e,t){return function(r){return e+r*t}}function vT(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Tb(e,t){var r=t-e;return r?Cb(e,r>180||r<-180?r-360*Math.round(r/360):r):Ro(isNaN(e)?t:e)}function Vb(e){return(e=+e)==1?dn:function(t,r){return r-t?vT(t,r,e):Ro(isNaN(t)?r:t)}}function dn(e,t){var r=t-e;return r?Cb(e,r):Ro(isNaN(e)?t:e)}var qm=T(()=>{Ym()});function Nb(e){return function(t){var r=t.length,n=new Array(r),a=new Array(r),o=new Array(r),i,u;for(i=0;i<r;++i)u=Ln(t[i]),n[i]=u.r||0,a[i]=u.g||0,o[i]=u.b||0;return n=e(n),a=e(a),o=e(o),u.opacity=1,function(f){return u.r=n(f),u.g=a(f),u.b=o(f),u+""}}}var Ta,Wm,xT,$m=T(()=>{cn();Hm();kb();qm();Ta=function e(t){var r=Vb(t);function n(a,o){var i=r((a=Ln(a)).r,(o=Ln(o)).r),u=r(a.g,o.g),f=r(a.b,o.b),c=dn(a.opacity,o.opacity);return function(h){return a.r=i(h),a.g=u(h),a.b=f(h),a.opacity=c(h),a+""}}return n.gamma=e,n}(1);Wm=Nb(Mb),xT=Nb(Ab)});function Db(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function Eb(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var Ib=T(()=>{});function zb(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=tt(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(u){for(i=0;i<n;++i)o[i]=a[i](u);return o}}var Pb=T(()=>{mu()});function Rb(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}var Lb=T(()=>{});function wt(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var hu=T(()=>{});function Ob(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=tt(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var Bb=T(()=>{mu()});function bT(e){return function(){return e}}function yT(e){return function(t){return e(t)+""}}function pu(e,t){var r=Um.lastIndex=Gm.lastIndex=0,n,a,o,i=-1,u=[],f=[];for(e=e+"",t=t+"";(n=Um.exec(e))&&(a=Gm.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),u[i]?u[i]+=o:u[++i]=o),(n=n[0])===(a=a[0])?u[i]?u[i]+=a:u[++i]=a:(u[++i]=null,f.push({i,x:wt(n,a)})),r=Gm.lastIndex;return r<t.length&&(o=t.slice(r),u[i]?u[i]+=o:u[++i]=o),u.length<2?f[0]?yT(f[0].x):bT(t):(t=f.length,function(c){for(var h=0,y;h<t;++h)u[(y=f[h]).i]=y.x(c);return u.join("")})}var Um,Gm,Xm=T(()=>{hu();Um=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gm=new RegExp(Um.source,"g")});function tt(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ro(t):(r==="number"?wt:r==="string"?(n=Tt(t))?(t=n,Ta):pu:t instanceof Tt?Ta:t instanceof Date?Rb:Eb(t)?Db:Array.isArray(t)?zb:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ob:wt)(e,t)}var mu=T(()=>{cn();$m();Pb();Lb();hu();Bb();Xm();Ym();Ib()});function Va(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Fb=T(()=>{});function jm(e,t,r,n,a,o){var i,u,f;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(f=e*r+t*n)&&(r-=e*f,n-=t*f),(u=Math.sqrt(r*r+n*n))&&(r/=u,n/=u,f/=u),e*n<t*r&&(e=-e,t=-t,f=-f,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*Hb,skewX:Math.atan(f)*Hb,scaleX:i,scaleY:u}}var Hb,Kl,Yb=T(()=>{Hb=180/Math.PI,Kl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function qb(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Kl:jm(t.a,t.b,t.c,t.d,t.e,t.f)}function Wb(e){return e==null?Kl:(Zl||(Zl=document.createElementNS("http://www.w3.org/2000/svg","g")),Zl.setAttribute("transform",e),(e=Zl.transform.baseVal.consolidate())?(e=e.matrix,jm(e.a,e.b,e.c,e.d,e.e,e.f)):Kl)}var Zl,$b=T(()=>{Yb()});function Gb(e,t,r,n){function a(c){return c.length?c.pop()+" ":""}function o(c,h,y,x,M,A){if(c!==y||h!==x){var N=M.push("translate(",null,t,null,r);A.push({i:N-4,x:wt(c,y)},{i:N-2,x:wt(h,x)})}else(y||x)&&M.push("translate("+y+t+x+r)}function i(c,h,y,x){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),x.push({i:y.push(a(y)+"rotate(",null,n)-2,x:wt(c,h)})):h&&y.push(a(y)+"rotate("+h+n)}function u(c,h,y,x){c!==h?x.push({i:y.push(a(y)+"skewX(",null,n)-2,x:wt(c,h)}):h&&y.push(a(y)+"skewX("+h+n)}function f(c,h,y,x,M,A){if(c!==y||h!==x){var N=M.push(a(M)+"scale(",null,",",null,")");A.push({i:N-4,x:wt(c,y)},{i:N-2,x:wt(h,x)})}else(y!==1||x!==1)&&M.push(a(M)+"scale("+y+","+x+")")}return function(c,h){var y=[],x=[];return c=e(c),h=e(h),o(c.translateX,c.translateY,h.translateX,h.translateY,y,x),i(c.rotate,h.rotate,y,x),u(c.skewX,h.skewX,y,x),f(c.scaleX,c.scaleY,h.scaleX,h.scaleY,y,x),c=h=null,function(M){for(var A=-1,N=x.length,k;++A<N;)y[(k=x[A]).i]=k.x(M);return y.join("")}}}var Qm,Km,Ub=T(()=>{hu();$b();Qm=Gb(qb,"px, ","px)","deg)"),Km=Gb(Wb,", ",")",")")});function Xb(e){return((e=Math.exp(e))+1/e)/2}function _T(e){return((e=Math.exp(e))-1/e)/2}function ST(e){return((e=Math.exp(2*e))-1)/(e+1)}var wT,Zm,jb=T(()=>{wT=1e-12;Zm=function e(t,r,n){function a(o,i){var u=o[0],f=o[1],c=o[2],h=i[0],y=i[1],x=i[2],M=h-u,A=y-f,N=M*M+A*A,k,D;if(N<wT)D=Math.log(x/c)/t,k=function($){return[u+$*M,f+$*A,c*Math.exp(t*$*D)]};else{var O=Math.sqrt(N),B=(x*x-c*c+n*N)/(2*c*r*O),R=(x*x-c*c-n*N)/(2*x*r*O),I=Math.log(Math.sqrt(B*B+1)-B),L=Math.log(Math.sqrt(R*R+1)-R);D=(L-I)/t,k=function($){var G=$*D,le=Xb(I),ne=c/(r*O)*(le*ST(t*G+I)-_T(I));return[u+ne*M,f+ne*A,c*le/Xb(t*G+I)]}}return k.duration=D*1e3*t/Math.SQRT2,k}return a.rho=function(o){var i=Math.max(.001,+o),u=i*i,f=u*u;return e(i,u,f)},a}(Math.SQRT2,2,4)});function Qb(e){return function t(r){r=+r;function n(a,o){var i=e((a=Bt(a)).h,(o=Bt(o)).h),u=dn(a.s,o.s),f=dn(a.l,o.l),c=dn(a.opacity,o.opacity);return function(h){return a.h=i(h),a.s=u(h),a.l=f(Math.pow(h,r)),a.opacity=c(h),a+""}}return n.gamma=t,n}(1)}var MT,Lo,Kb=T(()=>{cn();qm();MT=Qb(Tb),Lo=Qb(dn)});function Jl(e,t){t===void 0&&(t=e,e=tt);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var u=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[u](i-u)}}var Zb=T(()=>{mu()});var Zt=T(()=>{mu();hu();Fb();Xm();Ub();jb();$m();Kb();Zb()});function Jm(e){return function(){return e}}var Jb=T(()=>{});function On(e){return+e}var ef=T(()=>{});function ut(e){return e}function eh(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Jm(isNaN(t)?NaN:.5)}function AT(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function kT(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=eh(a,n),o=r(i,o)):(n=eh(n,a),o=r(o,i)),function(u){return o(n(u))}}function CT(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=eh(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(u){var f=Sr(e,u,1,n)-1;return o[f](a[f](u))}}function Lr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Na(){var e=ey,t=ey,r=tt,n,a,o,i=ut,u,f,c;function h(){var x=Math.min(e.length,t.length);return i!==ut&&(i=AT(e[0],e[x-1])),u=x>2?CT:kT,f=c=null,y}function y(x){return x==null||isNaN(x=+x)?o:(f||(f=u(e.map(n),t,r)))(n(i(x)))}return y.invert=function(x){return i(a((c||(c=u(t,e.map(n),wt)))(x)))},y.domain=function(x){return arguments.length?(e=Array.from(x,On),h()):e.slice()},y.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},y.rangeRound=function(x){return t=Array.from(x),r=Va,h()},y.clamp=function(x){return arguments.length?(i=x?!0:ut,h()):i!==ut},y.interpolate=function(x){return arguments.length?(r=x,h()):r},y.unknown=function(x){return arguments.length?(o=x,y):o},function(x,M){return n=x,a=M,h()}}function Da(){return Na()(ut,ut)}var ey,Or=T(()=>{Mr();Zt();Jb();ef();ey=[0,1]});function ty(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ea(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var gu=T(()=>{});function Br(e){return e=Ea(Math.abs(e)),e?e[1]:NaN}var vu=T(()=>{gu()});function ry(e,t){return function(r,n){for(var a=r.length,o=[],i=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),o.push(r.substring(a-=u,a+u)),!((f+=u+1)>n));)u=e[i=(i+1)%e.length];return o.reverse().join(t)}}var ny=T(()=>{});function ay(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var oy=T(()=>{});function Fr(e){if(!(t=TT.exec(e)))throw new Error("invalid format: "+e);var t;return new tf({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function tf(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}var TT,th=T(()=>{TT=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Fr.prototype=tf.prototype;tf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function iy(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var uy=T(()=>{});function ly(e,t){var r=Ea(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(rh=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Ea(e,Math.max(0,t+o-1))[0]}var rh,nh=T(()=>{gu()});function ah(e,t){var r=Ea(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var fy=T(()=>{gu()});var oh,sy=T(()=>{gu();nh();fy();oh={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ty,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ah(e*100,t),r:ah,s:ly,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)}});function ih(e){return e}var cy=T(()=>{});function hy(e){var t=e.grouping===void 0||e.thousands===void 0?ih:ry(dy.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?ih:ay(dy.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"\u2212":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function c(y){y=Fr(y);var x=y.fill,M=y.align,A=y.sign,N=y.symbol,k=y.zero,D=y.width,O=y.comma,B=y.precision,R=y.trim,I=y.type;I==="n"?(O=!0,I="g"):oh[I]||(B===void 0&&(B=12),R=!0,I="g"),(k||x==="0"&&M==="=")&&(k=!0,x="0",M="=");var L=N==="$"?r:N==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",$=N==="$"?n:/[%p]/.test(I)?i:"",G=oh[I],le=/[defgprs%]/.test(I);B=B===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function ne(U){var ae=L,J=$,H,ee,j;if(I==="c")J=G(U)+J,U="";else{U=+U;var X=U<0||1/U<0;if(U=isNaN(U)?f:G(Math.abs(U),B),R&&(U=iy(U)),X&&+U==0&&A!=="+"&&(X=!1),ae=(X?A==="("?A:u:A==="-"||A==="("?"":A)+ae,J=(I==="s"?my[8+rh/3]:"")+J+(X&&A==="("?")":""),le){for(H=-1,ee=U.length;++H<ee;)if(j=U.charCodeAt(H),48>j||j>57){J=(j===46?a+U.slice(H+1):U.slice(H))+J,U=U.slice(0,H);break}}}O&&!k&&(U=t(U,1/0));var K=ae.length+U.length+J.length,Z=K<D?new Array(D-K+1).join(x):"";switch(O&&k&&(U=t(Z+U,Z.length?D-J.length:1/0),Z=""),M){case"<":U=ae+U+J+Z;break;case"=":U=ae+Z+U+J;break;case"^":U=Z.slice(0,K=Z.length>>1)+ae+U+J+Z.slice(K);break;default:U=Z+ae+U+J;break}return o(U)}return ne.toString=function(){return y+""},ne}function h(y,x){var M=c((y=Fr(y),y.type="f",y)),A=Math.max(-8,Math.min(8,Math.floor(Br(x)/3)))*3,N=Math.pow(10,-A),k=my[8+A/3];return function(D){return M(N*D)+k}}return{format:c,formatPrefix:h}}var dy,my,py=T(()=>{vu();ny();oy();th();uy();sy();nh();cy();dy=Array.prototype.map,my=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"]});function uh(e){return rf=hy(e),Hr=rf.format,nf=rf.formatPrefix,rf}var rf,Hr,nf,gy=T(()=>{py();uh({thousands:",",grouping:[3],currency:["$",""]})});function lh(e){return Math.max(0,-Br(Math.abs(e)))}var vy=T(()=>{vu()});function fh(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Br(t)/3)))*3-Br(Math.abs(e)))}var xy=T(()=>{vu()});function sh(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Br(t)-Br(e))+1}var by=T(()=>{vu()});var af=T(()=>{gy();th();vy();xy();by()});function xu(e,t,r,n){var a=Nm(e,t,r),o;switch(n=Fr(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=fh(a,i))&&(n.precision=o),nf(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=sh(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=lh(a))&&(n.precision=o-(n.type==="%")*2);break}}return Hr(n)}var ch=T(()=>{Mr();af()});function Ft(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ma(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return xu(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],u=n[o],f,c,h=10;for(u<i&&(c=i,i=u,u=c,c=a,a=o,o=c);h-- >0;){if(c=Yl(i,u,r),c===f)return n[a]=i,n[o]=u,t(n);if(c>0)i=Math.floor(i/c)*c,u=Math.ceil(u/c)*c;else if(c<0)i=Math.ceil(i*c)/c,u=Math.floor(u*c)/c;else break;f=c}return e},e}function Yr(){var e=Da();return e.copy=function(){return Lr(e,Yr())},Ze.apply(e,arguments),Ft(e)}var mn=T(()=>{Mr();Or();kt();ch()});function of(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,On),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return of(e).unknown(t)},e=arguments.length?Array.from(e,On):[0,1],Ft(r)}var yy=T(()=>{mn();ef()});function bu(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}var dh=T(()=>{});function wy(e){return Math.log(e)}function _y(e){return Math.exp(e)}function VT(e){return-Math.log(-e)}function NT(e){return-Math.exp(-e)}function DT(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ET(e){return e===10?DT:e===Math.E?Math.exp:t=>Math.pow(e,t)}function IT(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Sy(e){return(t,r)=>-e(-t,r)}function yu(e){let t=e(wy,_y),r=t.domain,n=10,a,o;function i(){return a=IT(n),o=ET(n),r()[0]<0?(a=Sy(a),o=Sy(o),e(VT,NT)):e(wy,_y),t}return t.base=function(u){return arguments.length?(n=+u,i()):n},t.domain=function(u){return arguments.length?(r(u),i()):r()},t.ticks=u=>{let f=r(),c=f[0],h=f[f.length-1],y=h<c;y&&([c,h]=[h,c]);let x=a(c),M=a(h),A,N,k=u==null?10:+u,D=[];if(!(n%1)&&M-x<k){if(x=Math.floor(x),M=Math.ceil(M),c>0){for(;x<=M;++x)for(A=1;A<n;++A)if(N=x<0?A/o(-x):A*o(x),!(N<c)){if(N>h)break;D.push(N)}}else for(;x<=M;++x)for(A=n-1;A>=1;--A)if(N=x>0?A/o(-x):A*o(x),!(N<c)){if(N>h)break;D.push(N)}D.length*2<k&&(D=Ma(c,h,k))}else D=Ma(x,M,Math.min(M-x,k)).map(o);return y?D.reverse():D},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Fr(f)).precision==null&&(f.trim=!0),f=Hr(f)),u===1/0)return f;let c=Math.max(1,n*u/t.ticks().length);return h=>{let y=h/o(Math.round(a(h)));return y*n<n-.5&&(y*=n),y<=c?f(h):""}},t.nice=()=>r(bu(r(),{floor:u=>o(Math.floor(a(u))),ceil:u=>o(Math.ceil(a(u)))})),t}function uf(){let e=yu(Na()).domain([1,10]);return e.copy=()=>Lr(e,uf()).base(e.base()),Ze.apply(e,arguments),e}var lf=T(()=>{Mr();af();dh();Or();kt()});function My(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ay(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function wu(e){var t=1,r=e(My(t),Ay(t));return r.constant=function(n){return arguments.length?e(My(t=+n),Ay(t)):t},Ft(r)}function ff(){var e=wu(Na());return e.copy=function(){return Lr(e,ff()).constant(e.constant())},Ze.apply(e,arguments)}var sf=T(()=>{mn();Or();kt()});function ky(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function zT(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function PT(e){return e<0?-e*e:e*e}function _u(e){var t=e(ut,ut),r=1;function n(){return r===1?e(ut,ut):r===.5?e(zT,PT):e(ky(r),ky(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ft(t)}function Su(){var e=_u(Na());return e.copy=function(){return Lr(e,Su()).exponent(e.exponent())},Ze.apply(e,arguments),e}function Cy(){return Su.apply(null,arguments).exponent(.5)}var cf=T(()=>{mn();Or();kt()});function Ty(e){return Math.sign(e)*e*e}function RT(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function df(){var e=Da(),t=[0,1],r=!1,n;function a(o){var i=RT(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(Ty(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,On)).map(Ty)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return df(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ze.apply(a,arguments),Ft(a)}var Vy=T(()=>{Or();kt();mn();ef()});function mf(){var e=[],t=[],r=[],n;function a(){var i=0,u=Math.max(1,t.length);for(r=new Array(u-1);++i<u;)r[i-1]=Dm(e,i/u);return o}function o(i){return i==null||isNaN(i=+i)?n:t[Sr(r,i)]}return o.invertExtent=function(i){var u=t.indexOf(i);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let u of i)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Gt),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return mf().domain(e).range(t).unknown(n)},Ze.apply(o,arguments)}var Ny=T(()=>{Mr();kt()});function hf(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(f){return f!=null&&f<=f?a[Sr(n,f,0,r)]:o}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return i}return i.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},i.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,u()):a.slice()},i.invertExtent=function(f){var c=a.indexOf(f);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(f){return arguments.length&&(o=f),i},i.thresholds=function(){return n.slice()},i.copy=function(){return hf().domain([e,t]).range(a).unknown(o)},Ze.apply(Ft(i),arguments)}var Dy=T(()=>{Mr();mn();kt()});function pf(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[Sr(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return pf().domain(e).range(t).unknown(r)},Ze.apply(a,arguments)}var Ey=T(()=>{Mr();kt()});function Ve(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=function(o){return e(o=new Date(+o)),o},a.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},a.round=function(o){var i=a(o),u=a.ceil(o);return o-i<u-o?i:u},a.offset=function(o,i){return t(o=new Date(+o),i==null?1:Math.floor(i)),o},a.range=function(o,i,u){var f=[],c;if(o=a.ceil(o),u=u==null?1:Math.floor(u),!(o<i)||!(u>0))return f;do f.push(c=new Date(+o)),t(o,u),e(o);while(c<o&&o<i);return f},a.filter=function(o){return Ve(function(i){if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},function(i,u){if(i>=i)if(u<0)for(;++u<=0;)for(;t(i,-1),!o(i););else for(;--u>=0;)for(;t(i,1),!o(i););})},r&&(a.count=function(o,i){return mh.setTime(+o),hh.setTime(+i),e(mh),e(hh),Math.floor(r(mh,hh))},a.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?function(i){return n(i)%o===0}:function(i){return a.count(0,i)%o===0}):a}),a}var mh,hh,Vt=T(()=>{mh=new Date,hh=new Date});var gf,Mu,ph,gh=T(()=>{Vt();gf=Ve(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});gf.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ve(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):gf};Mu=gf,ph=gf.range});var Iy,fr,vh,xh=T(()=>{Vt();Iy=Ve(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*1e3)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),fr=Iy,vh=Iy.range});var zy,Oo,Py,bh=T(()=>{Vt();zy=Ve(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()}),Oo=zy,Py=zy.range});var Ry,Bo,Ly,yh=T(()=>{Vt();Ry=Ve(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),Bo=Ry,Ly=Ry.range});var Oy,hn,By,_h=T(()=>{Vt();Oy=Ve(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),hn=Oy,By=Oy.range});function Pa(e){return Ve(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5})}var Wr,Ra,Sh,Mh,pn,Ah,kh,Ch,Hy,Yy,qy,Wy,$y,Gy,Th=T(()=>{Vt();Wr=Pa(0),Ra=Pa(1),Sh=Pa(2),Mh=Pa(3),pn=Pa(4),Ah=Pa(5),kh=Pa(6),Ch=Wr.range,Hy=Ra.range,Yy=Sh.range,qy=Mh.range,Wy=pn.range,$y=Ah.range,Gy=kh.range});var Uy,Fo,Xy,Vh=T(()=>{Vt();Uy=Ve(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()}),Fo=Uy,Xy=Uy.range});var Nh,sr,jy,Dh=T(()=>{Vt();Nh=Ve(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Nh.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Ve(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};sr=Nh,jy=Nh.range});var Qy,Ho,Ky,Eh=T(()=>{Vt();Qy=Ve(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()}),Ho=Qy,Ky=Qy.range});var Zy,Yo,Jy,Ih=T(()=>{Vt();Zy=Ve(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),Yo=Zy,Jy=Zy.range});var e2,gn,t2,zh=T(()=>{Vt();e2=Ve(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),gn=e2,t2=e2.range});function La(e){return Ve(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/6048e5})}var $r,Oa,Ph,Rh,vn,Lh,Oh,Bh,r2,n2,a2,o2,i2,u2,Fh=T(()=>{Vt();$r=La(0),Oa=La(1),Ph=La(2),Rh=La(3),vn=La(4),Lh=La(5),Oh=La(6),Bh=$r.range,r2=Oa.range,n2=Ph.range,a2=Rh.range,o2=vn.range,i2=Lh.range,u2=Oh.range});var l2,qo,f2,Hh=T(()=>{Vt();l2=Ve(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()}),qo=l2,f2=l2.range});var Yh,cr,s2,qh=T(()=>{Vt();Yh=Ve(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Yh.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Ve(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};cr=Yh,s2=Yh.range});function vf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var c2=T(()=>{});function xf(e){let t=e,r=e,n=e;e.length!==2&&(t=(u,f)=>e(u)-f,r=vf,n=(u,f)=>vf(e(u),f));function a(u,f,c=0,h=u.length){if(c<h){if(r(f,f)!==0)return h;do{let y=c+h>>>1;n(u[y],f)<0?c=y+1:h=y}while(c<h)}return c}function o(u,f,c=0,h=u.length){if(c<h){if(r(f,f)!==0)return h;do{let y=c+h>>>1;n(u[y],f)<=0?c=y+1:h=y}while(c<h)}return c}function i(u,f,c=0,h=u.length){let y=a(u,f,c,h-1);return y>c&&t(u[y-1],f)>-t(u[y],f)?y-1:y}return{left:a,center:i,right:o}}var d2=T(()=>{c2()});function bf(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/a;return o>=LT?a*=10:o>=OT?a*=5:o>=BT&&(a*=2),t<e?-a:a}var LT,OT,BT,m2=T(()=>{LT=Math.sqrt(50),OT=Math.sqrt(10),BT=Math.sqrt(2)});var h2=T(()=>{d2();m2()});function g2(e,t,r,n,a,o){let i=[[fr,1,1e3],[fr,5,5*1e3],[fr,15,15*1e3],[fr,30,30*1e3],[o,1,6e4],[o,5,5*6e4],[o,15,15*6e4],[o,30,30*6e4],[a,1,36e5],[a,3,3*36e5],[a,6,6*36e5],[a,12,12*36e5],[n,1,864e5],[n,2,2*864e5],[r,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function u(c,h,y){let x=h<c;x&&([c,h]=[h,c]);let M=y&&typeof y.range=="function"?y:f(c,h,y),A=M?M.range(c,+h+1):[];return x?A.reverse():A}function f(c,h,y){let x=Math.abs(h-c)/y,M=xf(([,,k])=>k).right(i,x);if(M===i.length)return e.every(bf(c/31536e6,h/31536e6,y));if(M===0)return Mu.every(Math.max(bf(c,h,y),1));let[A,N]=i[x/i[M-1][2]<i[M][2]/x?M-1:M];return A.every(N)}return[u,f]}var yf,wf,_f,Sf,v2=T(()=>{h2();gh();xh();bh();yh();_h();Th();Vh();Dh();Eh();Ih();zh();Fh();Hh();qh();[yf,wf]=g2(cr,qo,$r,gn,Yo,Ho),[_f,Sf]=g2(sr,Fo,Wr,hn,Bo,Oo)});var x2={};At(x2,{timeDay:()=>hn,timeDays:()=>By,timeFriday:()=>Ah,timeFridays:()=>$y,timeHour:()=>Bo,timeHours:()=>Ly,timeInterval:()=>Ve,timeMillisecond:()=>Mu,timeMilliseconds:()=>ph,timeMinute:()=>Oo,timeMinutes:()=>Py,timeMonday:()=>Ra,timeMondays:()=>Hy,timeMonth:()=>Fo,timeMonths:()=>Xy,timeSaturday:()=>kh,timeSaturdays:()=>Gy,timeSecond:()=>fr,timeSeconds:()=>vh,timeSunday:()=>Wr,timeSundays:()=>Ch,timeThursday:()=>pn,timeThursdays:()=>Wy,timeTickInterval:()=>Sf,timeTicks:()=>_f,timeTuesday:()=>Sh,timeTuesdays:()=>Yy,timeWednesday:()=>Mh,timeWednesdays:()=>qy,timeWeek:()=>Wr,timeWeeks:()=>Ch,timeYear:()=>sr,timeYears:()=>jy,utcDay:()=>gn,utcDays:()=>t2,utcFriday:()=>Lh,utcFridays:()=>i2,utcHour:()=>Yo,utcHours:()=>Jy,utcMillisecond:()=>Mu,utcMilliseconds:()=>ph,utcMinute:()=>Ho,utcMinutes:()=>Ky,utcMonday:()=>Oa,utcMondays:()=>r2,utcMonth:()=>qo,utcMonths:()=>f2,utcSaturday:()=>Oh,utcSaturdays:()=>u2,utcSecond:()=>fr,utcSeconds:()=>vh,utcSunday:()=>$r,utcSundays:()=>Bh,utcThursday:()=>vn,utcThursdays:()=>o2,utcTickInterval:()=>wf,utcTicks:()=>yf,utcTuesday:()=>Ph,utcTuesdays:()=>n2,utcWednesday:()=>Rh,utcWednesdays:()=>a2,utcWeek:()=>$r,utcWeeks:()=>Bh,utcYear:()=>cr,utcYears:()=>s2});var Wo=T(()=>{Vt();gh();xh();bh();yh();_h();Th();Vh();Dh();Eh();Ih();zh();Fh();Hh();qh();v2()});function Wh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $h(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Au(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Gh(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,u=e.months,f=e.shortMonths,c=ku(a),h=Cu(a),y=ku(o),x=Cu(o),M=ku(i),A=Cu(i),N=ku(u),k=Cu(u),D=ku(f),O=Cu(f),B={a:X,A:K,b:Z,B:te,c:null,d:M2,e:M2,f:fV,g:bV,G:wV,H:iV,I:uV,j:lV,L:V2,m:sV,M:cV,p:fe,q:de,Q:C2,s:T2,S:dV,u:mV,U:hV,V:pV,w:gV,W:vV,x:null,X:null,y:xV,Y:yV,Z:_V,"%":k2},R={a:re,A:me,b:Me,B:Oe,c:null,d:A2,e:A2,f:kV,g:RV,G:OV,H:SV,I:MV,j:AV,L:D2,m:CV,M:TV,p:Ne,q:Ue,Q:C2,s:T2,S:VV,u:NV,U:DV,V:EV,w:IV,W:zV,x:null,X:null,y:PV,Y:LV,Z:BV,"%":k2},I={a:ne,A:U,b:ae,B:J,c:H,d:_2,e:_2,f:rV,g:w2,G:y2,H:S2,I:S2,j:ZT,L:tV,m:KT,M:JT,p:le,q:QT,Q:aV,s:oV,S:eV,u:$T,U:GT,V:UT,w:WT,W:XT,x:ee,X:j,y:w2,Y:y2,Z:jT,"%":nV};B.x=L(r,B),B.X=L(n,B),B.c=L(t,B),R.x=L(r,R),R.X=L(n,R),R.c=L(t,R);function L(se,_e){return function(be){var ie=[],Xe=-1,Be=0,vt=se.length,nt,xe,Qe;for(be instanceof Date||(be=new Date(+be));++Xe<vt;)se.charCodeAt(Xe)===37&&(ie.push(se.slice(Be,Xe)),(xe=b2[nt=se.charAt(++Xe)])!=null?nt=se.charAt(++Xe):xe=nt==="e"?" ":"0",(Qe=_e[nt])&&(nt=Qe(be,xe)),ie.push(nt),Be=Xe+1);return ie.push(se.slice(Be,Xe)),ie.join("")}}function $(se,_e){return function(be){var ie=Au(1900,void 0,1),Xe=G(ie,se,be+="",0),Be,vt;if(Xe!=be.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(_e&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(Be=$h(Au(ie.y,0,1)),vt=Be.getUTCDay(),Be=vt>4||vt===0?Oa.ceil(Be):Oa(Be),Be=gn.offset(Be,(ie.V-1)*7),ie.y=Be.getUTCFullYear(),ie.m=Be.getUTCMonth(),ie.d=Be.getUTCDate()+(ie.w+6)%7):(Be=Wh(Au(ie.y,0,1)),vt=Be.getDay(),Be=vt>4||vt===0?Ra.ceil(Be):Ra(Be),Be=hn.offset(Be,(ie.V-1)*7),ie.y=Be.getFullYear(),ie.m=Be.getMonth(),ie.d=Be.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),vt="Z"in ie?$h(Au(ie.y,0,1)).getUTCDay():Wh(Au(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(vt+5)%7:ie.w+ie.U*7-(vt+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,$h(ie)):Wh(ie)}}function G(se,_e,be,ie){for(var Xe=0,Be=_e.length,vt=be.length,nt,xe;Xe<Be;){if(ie>=vt)return-1;if(nt=_e.charCodeAt(Xe++),nt===37){if(nt=_e.charAt(Xe++),xe=I[nt in b2?_e.charAt(Xe++):nt],!xe||(ie=xe(se,be,ie))<0)return-1}else if(nt!=be.charCodeAt(ie++))return-1}return ie}function le(se,_e,be){var ie=c.exec(_e.slice(be));return ie?(se.p=h.get(ie[0].toLowerCase()),be+ie[0].length):-1}function ne(se,_e,be){var ie=M.exec(_e.slice(be));return ie?(se.w=A.get(ie[0].toLowerCase()),be+ie[0].length):-1}function U(se,_e,be){var ie=y.exec(_e.slice(be));return ie?(se.w=x.get(ie[0].toLowerCase()),be+ie[0].length):-1}function ae(se,_e,be){var ie=D.exec(_e.slice(be));return ie?(se.m=O.get(ie[0].toLowerCase()),be+ie[0].length):-1}function J(se,_e,be){var ie=N.exec(_e.slice(be));return ie?(se.m=k.get(ie[0].toLowerCase()),be+ie[0].length):-1}function H(se,_e,be){return G(se,t,_e,be)}function ee(se,_e,be){return G(se,r,_e,be)}function j(se,_e,be){return G(se,n,_e,be)}function X(se){return i[se.getDay()]}function K(se){return o[se.getDay()]}function Z(se){return f[se.getMonth()]}function te(se){return u[se.getMonth()]}function fe(se){return a[+(se.getHours()>=12)]}function de(se){return 1+~~(se.getMonth()/3)}function re(se){return i[se.getUTCDay()]}function me(se){return o[se.getUTCDay()]}function Me(se){return f[se.getUTCMonth()]}function Oe(se){return u[se.getUTCMonth()]}function Ne(se){return a[+(se.getUTCHours()>=12)]}function Ue(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var _e=L(se+="",B);return _e.toString=function(){return se},_e},parse:function(se){var _e=$(se+="",!1);return _e.toString=function(){return se},_e},utcFormat:function(se){var _e=L(se+="",R);return _e.toString=function(){return se},_e},utcParse:function(se){var _e=$(se+="",!0);return _e.toString=function(){return se},_e}}}function He(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function qT(e){return e.replace(YT,"\\$&")}function ku(e){return new RegExp("^(?:"+e.map(qT).join("|")+")","i")}function Cu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function WT(e,t,r){var n=ct.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function $T(e,t,r){var n=ct.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function GT(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function UT(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function XT(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function y2(e,t,r){var n=ct.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function w2(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function jT(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function QT(e,t,r){var n=ct.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function KT(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function _2(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ZT(e,t,r){var n=ct.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function S2(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function JT(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function eV(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function tV(e,t,r){var n=ct.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function rV(e,t,r){var n=ct.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nV(e,t,r){var n=HT.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function aV(e,t,r){var n=ct.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function oV(e,t,r){var n=ct.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function M2(e,t){return He(e.getDate(),t,2)}function iV(e,t){return He(e.getHours(),t,2)}function uV(e,t){return He(e.getHours()%12||12,t,2)}function lV(e,t){return He(1+hn.count(sr(e),e),t,3)}function V2(e,t){return He(e.getMilliseconds(),t,3)}function fV(e,t){return V2(e,t)+"000"}function sV(e,t){return He(e.getMonth()+1,t,2)}function cV(e,t){return He(e.getMinutes(),t,2)}function dV(e,t){return He(e.getSeconds(),t,2)}function mV(e){var t=e.getDay();return t===0?7:t}function hV(e,t){return He(Wr.count(sr(e)-1,e),t,2)}function N2(e){var t=e.getDay();return t>=4||t===0?pn(e):pn.ceil(e)}function pV(e,t){return e=N2(e),He(pn.count(sr(e),e)+(sr(e).getDay()===4),t,2)}function gV(e){return e.getDay()}function vV(e,t){return He(Ra.count(sr(e)-1,e),t,2)}function xV(e,t){return He(e.getFullYear()%100,t,2)}function bV(e,t){return e=N2(e),He(e.getFullYear()%100,t,2)}function yV(e,t){return He(e.getFullYear()%1e4,t,4)}function wV(e,t){var r=e.getDay();return e=r>=4||r===0?pn(e):pn.ceil(e),He(e.getFullYear()%1e4,t,4)}function _V(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+He(t/60|0,"0",2)+He(t%60,"0",2)}function A2(e,t){return He(e.getUTCDate(),t,2)}function SV(e,t){return He(e.getUTCHours(),t,2)}function MV(e,t){return He(e.getUTCHours()%12||12,t,2)}function AV(e,t){return He(1+gn.count(cr(e),e),t,3)}function D2(e,t){return He(e.getUTCMilliseconds(),t,3)}function kV(e,t){return D2(e,t)+"000"}function CV(e,t){return He(e.getUTCMonth()+1,t,2)}function TV(e,t){return He(e.getUTCMinutes(),t,2)}function VV(e,t){return He(e.getUTCSeconds(),t,2)}function NV(e){var t=e.getUTCDay();return t===0?7:t}function DV(e,t){return He($r.count(cr(e)-1,e),t,2)}function E2(e){var t=e.getUTCDay();return t>=4||t===0?vn(e):vn.ceil(e)}function EV(e,t){return e=E2(e),He(vn.count(cr(e),e)+(cr(e).getUTCDay()===4),t,2)}function IV(e){return e.getUTCDay()}function zV(e,t){return He(Oa.count(cr(e)-1,e),t,2)}function PV(e,t){return He(e.getUTCFullYear()%100,t,2)}function RV(e,t){return e=E2(e),He(e.getUTCFullYear()%100,t,2)}function LV(e,t){return He(e.getUTCFullYear()%1e4,t,4)}function OV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?vn(e):vn.ceil(e),He(e.getUTCFullYear()%1e4,t,4)}function BV(){return"+0000"}function k2(){return"%"}function C2(e){return+e}function T2(e){return Math.floor(+e/1e3)}var b2,ct,HT,YT,I2=T(()=>{Wo();b2={"-":"",_:" ",0:"0"},ct=/^\s*\d+/,HT=/^%/,YT=/[\\^$*+?|[\]().{}]/g});function Uh(e){return $o=Gh(e),Mf=$o.format,z2=$o.parse,Af=$o.utcFormat,P2=$o.utcParse,$o}var $o,Mf,z2,Af,P2,R2=T(()=>{I2();Uh({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})});var kf=T(()=>{R2()});function FV(e){return new Date(e)}function HV(e){return e instanceof Date?+e:+new Date(+e)}function Cf(e,t,r,n,a,o,i,u,f,c){var h=Da(),y=h.invert,x=h.domain,M=c(".%L"),A=c(":%S"),N=c("%I:%M"),k=c("%I %p"),D=c("%a %d"),O=c("%b %d"),B=c("%B"),R=c("%Y");function I(L){return(f(L)<L?M:u(L)<L?A:i(L)<L?N:o(L)<L?k:n(L)<L?a(L)<L?D:O:r(L)<L?B:R)(L)}return h.invert=function(L){return new Date(y(L))},h.domain=function(L){return arguments.length?x(Array.from(L,HV)):x().map(FV)},h.ticks=function(L){var $=x();return e($[0],$[$.length-1],L??10)},h.tickFormat=function(L,$){return $==null?I:c($)},h.nice=function(L){var $=x();return(!L||typeof L.range!="function")&&(L=t($[0],$[$.length-1],L??10)),L?x(bu($,L)):h},h.copy=function(){return Lr(h,Cf(e,t,r,n,a,o,i,u,f,c))},h}function Tu(){return Ze.apply(Cf(_f,Sf,sr,Fo,Wr,hn,Bo,Oo,fr,Mf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Xh=T(()=>{Wo();kf();Or();kt();dh()});function jh(){return Ze.apply(Cf(yf,wf,cr,qo,$r,gn,Yo,Ho,fr,Af).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}var L2=T(()=>{Wo();kf();Xh();kt()});function Tf(){var e=0,t=1,r,n,a,o,i=ut,u=!1,f;function c(y){return y==null||isNaN(y=+y)?f:i(a===0?.5:(y=(o(y)-r)*a,u?Math.max(0,Math.min(1,y)):y))}c.domain=function(y){return arguments.length?([e,t]=y,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(y){return arguments.length?(u=!!y,c):u},c.interpolator=function(y){return arguments.length?(i=y,c):i};function h(y){return function(x){var M,A;return arguments.length?([M,A]=x,i=y(M,A),c):[i(0),i(1)]}}return c.range=h(tt),c.rangeRound=h(Va),c.unknown=function(y){return arguments.length?(f=y,c):f},function(y){return o=y,r=y(e),n=y(t),a=r===n?0:1/(n-r),c}}function xn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Go(){var e=Ft(Tf()(ut));return e.copy=function(){return xn(e,Go())},ur.apply(e,arguments)}function Qh(){var e=yu(Tf()).domain([1,10]);return e.copy=function(){return xn(e,Qh()).base(e.base())},ur.apply(e,arguments)}function Kh(){var e=wu(Tf());return e.copy=function(){return xn(e,Kh()).constant(e.constant())},ur.apply(e,arguments)}function Vf(){var e=_u(Tf());return e.copy=function(){return xn(e,Vf()).exponent(e.exponent())},ur.apply(e,arguments)}function O2(){return Vf.apply(null,arguments).exponent(.5)}var Zh=T(()=>{Zt();Or();kt();mn();lf();sf();cf()});function Nf(){var e=[],t=ut;function r(n){if(n!=null&&!isNaN(n=+n))return t((Sr(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Gt),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>Gl(e,o/n))},r.copy=function(){return Nf(t).domain(e)},ur.apply(r,arguments)}var B2=T(()=>{Mr();Or();kt()});function Df(){var e=0,t=.5,r=1,n=1,a,o,i,u,f,c=ut,h,y=!1,x;function M(N){return isNaN(N=+N)?x:(N=.5+((N=+h(N))-o)*(n*N<n*o?u:f),c(y?Math.max(0,Math.min(1,N)):N))}M.domain=function(N){return arguments.length?([e,t,r]=N,a=h(e=+e),o=h(t=+t),i=h(r=+r),u=a===o?0:.5/(o-a),f=o===i?0:.5/(i-o),n=o<a?-1:1,M):[e,t,r]},M.clamp=function(N){return arguments.length?(y=!!N,M):y},M.interpolator=function(N){return arguments.length?(c=N,M):c};function A(N){return function(k){var D,O,B;return arguments.length?([D,O,B]=k,c=Jl(N,[D,O,B]),M):[c(0),c(.5),c(1)]}}return M.range=A(tt),M.rangeRound=A(Va),M.unknown=function(N){return arguments.length?(x=N,M):x},function(N){return h=N,a=N(e),o=N(t),i=N(r),u=a===o?0:.5/(o-a),f=o===i?0:.5/(i-o),n=o<a?-1:1,M}}function Ef(){var e=Ft(Df()(ut));return e.copy=function(){return xn(e,Ef())},ur.apply(e,arguments)}function Jh(){var e=yu(Df()).domain([.1,1,10]);return e.copy=function(){return xn(e,Jh()).base(e.base())},ur.apply(e,arguments)}function ep(){var e=wu(Df());return e.copy=function(){return xn(e,ep()).constant(e.constant())},ur.apply(e,arguments)}function If(){var e=_u(Df());return e.copy=function(){return xn(e,If()).exponent(e.exponent())},ur.apply(e,arguments)}function F2(){return If.apply(null,arguments).exponent(.5)}var H2=T(()=>{Zt();Or();kt();mn();lf();Zh();sf();cf()});var Y2={};At(Y2,{scaleBand:()=>Ar,scaleDiverging:()=>Ef,scaleDivergingLog:()=>Jh,scaleDivergingPow:()=>If,scaleDivergingSqrt:()=>F2,scaleDivergingSymlog:()=>ep,scaleIdentity:()=>of,scaleImplicit:()=>Xl,scaleLinear:()=>Yr,scaleLog:()=>uf,scaleOrdinal:()=>lr,scalePoint:()=>ob,scalePow:()=>Su,scaleQuantile:()=>mf,scaleQuantize:()=>hf,scaleRadial:()=>df,scaleSequential:()=>Go,scaleSequentialLog:()=>Qh,scaleSequentialPow:()=>Vf,scaleSequentialQuantile:()=>Nf,scaleSequentialSqrt:()=>O2,scaleSequentialSymlog:()=>Kh,scaleSqrt:()=>Cy,scaleSymlog:()=>ff,scaleThreshold:()=>pf,scaleTime:()=>Tu,scaleUtc:()=>jh,tickFormat:()=>xu});var tp=T(()=>{ib();yy();mn();lf();sf();Em();cf();Vy();Ny();Dy();Ey();Xh();L2();Zh();B2();H2();ch()});var ze,dt=T(()=>{ze=Math.random});var q2,W2=T(()=>{dt();q2=function e(t){function r(n,a){return n=n==null?0:+n,a=a==null?1:+a,arguments.length===1?(a=n,n=0):a-=n,function(){return t()*a+n}}return r.source=e,r}(ze)});var $2,G2=T(()=>{dt();$2=function e(t){function r(n,a){return arguments.length<2&&(a=n,n=0),n=Math.floor(n),a=Math.floor(a)-n,function(){return Math.floor(t()*a+n)}}return r.source=e,r}(ze)});var Uo,zf=T(()=>{dt();Uo=function e(t){function r(n,a){var o,i;return n=n==null?0:+n,a=a==null?1:+a,function(){var u;if(o!=null)u=o,o=null;else do o=t()*2-1,u=t()*2-1,i=o*o+u*u;while(!i||i>1);return n+a*u*Math.sqrt(-2*Math.log(i)/i)}}return r.source=e,r}(ze)});var U2,X2=T(()=>{dt();zf();U2=function e(t){var r=Uo.source(t);function n(){var a=r.apply(this,arguments);return function(){return Math.exp(a())}}return n.source=e,n}(ze)});var Pf,rp=T(()=>{dt();Pf=function e(t){function r(n){return(n=+n)<=0?()=>0:function(){for(var a=0,o=n;o>1;--o)a+=t();return a+o*t()}}return r.source=e,r}(ze)});var j2,Q2=T(()=>{dt();rp();j2=function e(t){var r=Pf.source(t);function n(a){if((a=+a)==0)return t;var o=r(a);return function(){return o()/a}}return n.source=e,n}(ze)});var K2,Z2=T(()=>{dt();K2=function e(t){function r(n){return function(){return-Math.log1p(-t())/n}}return r.source=e,r}(ze)});var J2,ew=T(()=>{dt();J2=function e(t){function r(n){if((n=+n)<0)throw new RangeError("invalid alpha");return n=1/-n,function(){return Math.pow(1-t(),n)}}return r.source=e,r}(ze)});var tw,rw=T(()=>{dt();tw=function e(t){function r(n){if((n=+n)<0||n>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+n)}}return r.source=e,r}(ze)});var Rf,np=T(()=>{dt();Rf=function e(t){function r(n){if((n=+n)<0||n>1)throw new RangeError("invalid p");return n===0?()=>1/0:n===1?()=>1:(n=Math.log1p(-n),function(){return 1+Math.floor(Math.log1p(-t())/n)})}return r.source=e,r}(ze)});var Xo,Lf=T(()=>{dt();zf();Xo=function e(t){var r=Uo.source(t)();function n(a,o){if((a=+a)<0)throw new RangeError("invalid k");if(a===0)return()=>0;if(o=o==null?1:+o,a===1)return()=>-Math.log1p(-t())*o;var i=(a<1?a+1:a)-1/3,u=1/(3*Math.sqrt(i)),f=a<1?()=>Math.pow(t(),1/a):()=>1;return function(){do{do var c=r(),h=1+u*c;while(h<=0);h*=h*h;var y=1-t()}while(y>=1-.0331*c*c*c*c&&Math.log(y)>=.5*c*c+i*(1-h+Math.log(h)));return i*h*f()*o}}return n.source=e,n}(ze)});var Of,ap=T(()=>{dt();Lf();Of=function e(t){var r=Xo.source(t);function n(a,o){var i=r(a),u=r(o);return function(){var f=i();return f===0?0:f/(f+u())}}return n.source=e,n}(ze)});var Bf,op=T(()=>{dt();ap();np();Bf=function e(t){var r=Rf.source(t),n=Of.source(t);function a(o,i){return o=+o,(i=+i)>=1?()=>o:i<=0?()=>0:function(){for(var u=0,f=o,c=i;f*c>16&&f*(1-c)>16;){var h=Math.floor((f+1)*c),y=n(h,f-h+1)();y<=c?(u+=h,f-=h,c=(c-y)/(1-y)):(f=h-1,c/=y)}for(var x=c<.5,M=x?c:1-c,A=r(M),N=A(),k=0;N<=f;++k)N+=A();return u+(x?k:f-k)}}return a.source=e,a}(ze)});var nw,aw=T(()=>{dt();nw=function e(t){function r(n,a,o){var i;return(n=+n)==0?i=u=>-Math.log(u):(n=1/n,i=u=>Math.pow(u,n)),a=a==null?0:+a,o=o==null?1:+o,function(){return a+o*i(-Math.log1p(-t()))}}return r.source=e,r}(ze)});var ow,iw=T(()=>{dt();ow=function e(t){function r(n,a){return n=n==null?0:+n,a=a==null?1:+a,function(){return n+a*Math.tan(Math.PI*t())}}return r.source=e,r}(ze)});var uw,lw=T(()=>{dt();uw=function e(t){function r(n,a){return n=n==null?0:+n,a=a==null?1:+a,function(){var o=t();return n+a*Math.log(o/(1-o))}}return r.source=e,r}(ze)});var fw,sw=T(()=>{dt();op();Lf();fw=function e(t){var r=Xo.source(t),n=Bf.source(t);function a(o){return function(){for(var i=0,u=o;u>16;){var f=Math.floor(.875*u),c=r(f)();if(c>u)return i+n(f-1,u/c)();i+=f,u-=c}for(var h=-Math.log1p(-t()),y=0;h<=u;++y)h-=Math.log1p(-t());return i+y}}return a.source=e,a}(ze)});function ip(e=Math.random()){let t=(0<=e&&e<1?e/cw:Math.abs(e))|0;return()=>(t=1664525*t+1013904223|0,cw*(t>>>0))}var cw,dw=T(()=>{cw=23283064365386963e-26});var mw={};At(mw,{randomBates:()=>j2,randomBernoulli:()=>tw,randomBeta:()=>Of,randomBinomial:()=>Bf,randomCauchy:()=>ow,randomExponential:()=>K2,randomGamma:()=>Xo,randomGeometric:()=>Rf,randomInt:()=>$2,randomIrwinHall:()=>Pf,randomLcg:()=>ip,randomLogNormal:()=>U2,randomLogistic:()=>uw,randomNormal:()=>Uo,randomPareto:()=>J2,randomPoisson:()=>fw,randomUniform:()=>q2,randomWeibull:()=>nw});var up=T(()=>{W2();G2();zf();X2();Q2();rp();Z2();ew();rw();np();op();Lf();ap();aw();iw();lw();sw();dw()});function YV(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function hw(e,t){return fetch(e,t).then(YV)}var pw=T(()=>{});function qV(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function gw(e,t){return fetch(e,t).then(qV)}var vw=T(()=>{});function yw(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function WV(e,t){var r=yw(e);return function(n,a){return t(r(n),a,e)}}function bw(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var a in n)a in t||r.push(t[a]=a)}),r}function Ut(e,t){var r=e+"",n=r.length;return n<t?new Array(t-n+1).join(0)+r:r}function $V(e){return e<0?"-"+Ut(-e,6):e>9999?"+"+Ut(e,6):Ut(e,4)}function GV(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),n=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":$V(e.getUTCFullYear(),4)+"-"+Ut(e.getUTCMonth()+1,2)+"-"+Ut(e.getUTCDate(),2)+(a?"T"+Ut(t,2)+":"+Ut(r,2)+":"+Ut(n,2)+"."+Ut(a,3)+"Z":n?"T"+Ut(t,2)+":"+Ut(r,2)+":"+Ut(n,2)+"Z":r||t?"T"+Ut(t,2)+":"+Ut(r,2)+"Z":"")}function Ba(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function n(y,x){var M,A,N=a(y,function(k,D){if(M)return M(k,D-1);A=k,M=x?WV(k,x):yw(k)});return N.columns=A||[],N}function a(y,x){var M=[],A=y.length,N=0,k=0,D,O=A<=0,B=!1;y.charCodeAt(A-1)===Vu&&--A,y.charCodeAt(A-1)===sp&&--A;function R(){if(O)return lp;if(B)return B=!1,xw;var L,$=N,G;if(y.charCodeAt($)===fp){for(;N++<A&&y.charCodeAt(N)!==fp||y.charCodeAt(++N)===fp;);return(L=N)>=A?O=!0:(G=y.charCodeAt(N++))===Vu?B=!0:G===sp&&(B=!0,y.charCodeAt(N)===Vu&&++N),y.slice($+1,L-1).replace(/""/g,'"')}for(;N<A;){if((G=y.charCodeAt(L=N++))===Vu)B=!0;else if(G===sp)B=!0,y.charCodeAt(N)===Vu&&++N;else if(G!==r)continue;return y.slice($,L)}return O=!0,y.slice($,A)}for(;(D=R())!==lp;){for(var I=[];D!==xw&&D!==lp;)I.push(D),D=R();x&&(I=x(I,k++))==null||M.push(I)}return M}function o(y,x){return y.map(function(M){return x.map(function(A){return h(M[A])}).join(e)})}function i(y,x){return x==null&&(x=bw(y)),[x.map(h).join(e)].concat(o(y,x)).join(`
`)}function u(y,x){return x==null&&(x=bw(y)),o(y,x).join(`
`)}function f(y){return y.map(c).join(`
`)}function c(y){return y.map(h).join(e)}function h(y){return y==null?"":y instanceof Date?GV(y):t.test(y+="")?'"'+y.replace(/"/g,'""')+'"':y}return{parse:n,parseRows:a,format:i,formatBody:u,formatRows:f,formatRow:c,formatValue:h}}var xw,lp,fp,Vu,sp,Ff=T(()=>{xw={},lp={},fp=34,Vu=10,sp=13});var Fa,cp,UV,XV,jV,QV,KV,ZV,ww=T(()=>{Ff();Fa=Ba(","),cp=Fa.parse,UV=Fa.parseRows,XV=Fa.format,jV=Fa.formatBody,QV=Fa.formatRows,KV=Fa.formatRow,ZV=Fa.formatValue});var Ha,dp,JV,eN,tN,rN,nN,aN,_w=T(()=>{Ff();Ha=Ba("	"),dp=Ha.parse,JV=Ha.parseRows,eN=Ha.format,tN=Ha.formatBody,rN=Ha.formatRows,nN=Ha.formatRow,aN=Ha.formatValue});var mp=T(()=>{Ff();ww();_w()});function oN(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Ya(e,t){return fetch(e,t).then(oN)}var Hf=T(()=>{});function Sw(e){return function(t,r,n){return arguments.length===2&&typeof r=="function"&&(n=r,r=void 0),Ya(t,r).then(function(a){return e(a,n)})}}function hp(e,t,r,n){arguments.length===3&&typeof r=="function"&&(n=r,r=void 0);var a=Ba(e);return Ya(t,r).then(function(o){return a.parse(o,n)})}var Mw,Aw,kw=T(()=>{mp();Hf();Mw=Sw(cp),Aw=Sw(dp)});function Cw(e,t){return new Promise(function(r,n){var a=new Image;for(var o in t)a[o]=t[o];a.onerror=n,a.onload=function(){r(a)},a.src=e})}var Tw=T(()=>{});function iN(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function Vw(e,t){return fetch(e,t).then(iN)}var Nw=T(()=>{});function pp(e){return(t,r)=>Ya(t,r).then(n=>new DOMParser().parseFromString(n,e))}var Dw,Ew,Iw,zw=T(()=>{Hf();Dw=pp("application/xml"),Ew=pp("text/html"),Iw=pp("image/svg+xml")});var Pw={};At(Pw,{blob:()=>hw,buffer:()=>gw,csv:()=>Mw,dsv:()=>hp,html:()=>Ew,image:()=>Cw,json:()=>Vw,svg:()=>Iw,text:()=>Ya,tsv:()=>Aw,xml:()=>Dw});var gp=T(()=>{pw();vw();kw();Tw();Nw();Hf();zw()});function bp(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Rw(){return new bp}var vp,xp,qa,uN,dr,Lw=T(()=>{vp=Math.PI,xp=2*vp,qa=1e-6,uN=xp-qa;bp.prototype=Rw.prototype={constructor:bp,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,a,o){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+a)+","+(this._y1=+o)},arcTo:function(e,t,r,n,a){e=+e,t=+t,r=+r,n=+n,a=+a;var o=this._x1,i=this._y1,u=r-e,f=n-t,c=o-e,h=i-t,y=c*c+h*h;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(y>qa)if(!(Math.abs(h*u-f*c)>qa)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var x=r-o,M=n-i,A=u*u+f*f,N=x*x+M*M,k=Math.sqrt(A),D=Math.sqrt(y),O=a*Math.tan((vp-Math.acos((A+y-N)/(2*k*D)))/2),B=O/D,R=O/k;Math.abs(B-1)>qa&&(this._+="L"+(e+B*c)+","+(t+B*h)),this._+="A"+a+","+a+",0,0,"+ +(h*x>c*M)+","+(this._x1=e+R*u)+","+(this._y1=t+R*f)}},arc:function(e,t,r,n,a,o){e=+e,t=+t,r=+r,o=!!o;var i=r*Math.cos(n),u=r*Math.sin(n),f=e+i,c=t+u,h=1^o,y=o?n-a:a-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+f+","+c:(Math.abs(this._x1-f)>qa||Math.abs(this._y1-c)>qa)&&(this._+="L"+f+","+c),r&&(y<0&&(y=y%xp+xp),y>uN?this._+="A"+r+","+r+",0,1,"+h+","+(e-i)+","+(t-u)+"A"+r+","+r+",0,1,"+h+","+(this._x1=f)+","+(this._y1=c):y>qa&&(this._+="A"+r+","+r+",0,"+ +(y>=vp)+","+h+","+(this._x1=e+r*Math.cos(a))+","+(this._y1=t+r*Math.sin(a))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};dr=Rw});var Ow={};At(Ow,{path:()=>dr});var Bn=T(()=>{Lw()});var Yf,Nu,qf=T(()=>{Yf="http://www.w3.org/1999/xhtml",Nu={svg:"http://www.w3.org/2000/svg",xhtml:Yf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function Gr(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Nu.hasOwnProperty(t)?{space:Nu[t],local:e}:e}var Wf=T(()=>{qf()});function lN(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Yf&&t.documentElement.namespaceURI===Yf?t.createElement(e):t.createElementNS(r,e)}}function fN(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Fn(e){var t=Gr(e);return(t.local?fN:lN)(t)}var Du=T(()=>{Wf();qf()});function sN(){}function Hn(e){return e==null?sN:function(){return this.querySelector(e)}}var $f=T(()=>{});function Bw(e){typeof e!="function"&&(e=Hn(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,u=n[a]=new Array(i),f,c,h=0;h<i;++h)(f=o[h])&&(c=e.call(f,f.__data__,h,o))&&("__data__"in f&&(c.__data__=f.__data__),u[h]=c);return new je(n,this._parents)}var Fw=T(()=>{mr();$f()});function Eu(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}var yp=T(()=>{});function cN(){return[]}function jo(e){return e==null?cN:function(){return this.querySelectorAll(e)}}var wp=T(()=>{});function dN(e){return function(){return Eu(e.apply(this,arguments))}}function Hw(e){typeof e=="function"?e=dN(e):e=jo(e);for(var t=this._groups,r=t.length,n=[],a=[],o=0;o<r;++o)for(var i=t[o],u=i.length,f,c=0;c<u;++c)(f=i[c])&&(n.push(e.call(f,f.__data__,c,i)),a.push(f));return new je(n,a)}var Yw=T(()=>{mr();yp();wp()});function Qo(e){return function(){return this.matches(e)}}function Gf(e){return function(t){return t.matches(e)}}var Iu=T(()=>{});function hN(e){return function(){return mN.call(this.children,e)}}function pN(){return this.firstElementChild}function qw(e){return this.select(e==null?pN:hN(typeof e=="function"?e:Gf(e)))}var mN,Ww=T(()=>{Iu();mN=Array.prototype.find});function vN(){return Array.from(this.children)}function xN(e){return function(){return gN.call(this.children,e)}}function $w(e){return this.selectAll(e==null?vN:xN(typeof e=="function"?e:Gf(e)))}var gN,Gw=T(()=>{Iu();gN=Array.prototype.filter});function Uw(e){typeof e!="function"&&(e=Qo(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,u=n[a]=[],f,c=0;c<i;++c)(f=o[c])&&e.call(f,f.__data__,c,o)&&u.push(f);return new je(n,this._parents)}var Xw=T(()=>{mr();Iu()});function Uf(e){return new Array(e.length)}var _p=T(()=>{});function jw(){return new je(this._enter||this._groups.map(Uf),this._parents)}function zu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var Sp=T(()=>{_p();mr();zu.prototype={constructor:zu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}});function Qw(e){return function(){return e}}var Kw=T(()=>{});function bN(e,t,r,n,a,o){for(var i=0,u,f=t.length,c=o.length;i<c;++i)(u=t[i])?(u.__data__=o[i],n[i]=u):r[i]=new zu(e,o[i]);for(;i<f;++i)(u=t[i])&&(a[i]=u)}function yN(e,t,r,n,a,o,i){var u,f,c=new Map,h=t.length,y=o.length,x=new Array(h),M;for(u=0;u<h;++u)(f=t[u])&&(x[u]=M=i.call(f,f.__data__,u,t)+"",c.has(M)?a[u]=f:c.set(M,f));for(u=0;u<y;++u)M=i.call(e,o[u],u,o)+"",(f=c.get(M))?(n[u]=f,f.__data__=o[u],c.delete(M)):r[u]=new zu(e,o[u]);for(u=0;u<h;++u)(f=t[u])&&c.get(x[u])===f&&(a[u]=f)}function wN(e){return e.__data__}function Zw(e,t){if(!arguments.length)return Array.from(this,wN);var r=t?yN:bN,n=this._parents,a=this._groups;typeof e!="function"&&(e=Qw(e));for(var o=a.length,i=new Array(o),u=new Array(o),f=new Array(o),c=0;c<o;++c){var h=n[c],y=a[c],x=y.length,M=_N(e.call(h,h&&h.__data__,c,n)),A=M.length,N=u[c]=new Array(A),k=i[c]=new Array(A),D=f[c]=new Array(x);r(h,y,N,k,D,M,t);for(var O=0,B=0,R,I;O<A;++O)if(R=N[O]){for(O>=B&&(B=O+1);!(I=k[B])&&++B<A;);R._next=I||null}}return i=new je(i,n),i._enter=u,i._exit=f,i}function _N(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var Jw=T(()=>{mr();Sp();Kw()});function e_(){return new je(this._exit||this._groups.map(Uf),this._parents)}var t_=T(()=>{_p();mr()});function r_(e,t,r){var n=this.enter(),a=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?o.remove():r(o),n&&a?n.merge(a).order():a}var n_=T(()=>{});function a_(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,o=n.length,i=Math.min(a,o),u=new Array(a),f=0;f<i;++f)for(var c=r[f],h=n[f],y=c.length,x=u[f]=new Array(y),M,A=0;A<y;++A)(M=c[A]||h[A])&&(x[A]=M);for(;f<a;++f)u[f]=r[f];return new je(u,this._parents)}var o_=T(()=>{mr()});function i_(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,o=n[a],i;--a>=0;)(i=n[a])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}var u_=T(()=>{});function l_(e){e||(e=SN);function t(y,x){return y&&x?e(y.__data__,x.__data__):!y-!x}for(var r=this._groups,n=r.length,a=new Array(n),o=0;o<n;++o){for(var i=r[o],u=i.length,f=a[o]=new Array(u),c,h=0;h<u;++h)(c=i[h])&&(f[h]=c);f.sort(t)}return new je(a,this._parents).order()}function SN(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var f_=T(()=>{mr()});function s_(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var c_=T(()=>{});function d_(){return Array.from(this)}var m_=T(()=>{});function h_(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,o=n.length;a<o;++a){var i=n[a];if(i)return i}return null}var p_=T(()=>{});function g_(){let e=0;for(let t of this)++e;return e}var v_=T(()=>{});function x_(){return!this.node()}var b_=T(()=>{});function y_(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],o=0,i=a.length,u;o<i;++o)(u=a[o])&&e.call(u,u.__data__,o,a);return this}var w_=T(()=>{});function MN(e){return function(){this.removeAttribute(e)}}function AN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kN(e,t){return function(){this.setAttribute(e,t)}}function CN(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function TN(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function VN(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function __(e,t){var r=Gr(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?AN:MN:typeof t=="function"?r.local?VN:TN:r.local?CN:kN)(r,t))}var S_=T(()=>{Wf()});function Ko(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var Xf=T(()=>{});function NN(e){return function(){this.style.removeProperty(e)}}function DN(e,t,r){return function(){this.style.setProperty(e,t,r)}}function EN(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function M_(e,t,r){return arguments.length>1?this.each((t==null?NN:typeof t=="function"?EN:DN)(e,t,r??"")):bn(this.node(),e)}function bn(e,t){return e.style.getPropertyValue(t)||Ko(e).getComputedStyle(e,null).getPropertyValue(t)}var Mp=T(()=>{Xf()});function IN(e){return function(){delete this[e]}}function zN(e,t){return function(){this[e]=t}}function PN(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function A_(e,t){return arguments.length>1?this.each((t==null?IN:typeof t=="function"?PN:zN)(e,t)):this.node()[e]}var k_=T(()=>{});function C_(e){return e.trim().split(/^|\s+/)}function Ap(e){return e.classList||new T_(e)}function T_(e){this._node=e,this._names=C_(e.getAttribute("class")||"")}function V_(e,t){for(var r=Ap(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function N_(e,t){for(var r=Ap(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function RN(e){return function(){V_(this,e)}}function LN(e){return function(){N_(this,e)}}function ON(e,t){return function(){(t.apply(this,arguments)?V_:N_)(this,e)}}function D_(e,t){var r=C_(e+"");if(arguments.length<2){for(var n=Ap(this.node()),a=-1,o=r.length;++a<o;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?ON:t?RN:LN)(r,t))}var E_=T(()=>{T_.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}});function BN(){this.textContent=""}function FN(e){return function(){this.textContent=e}}function HN(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function I_(e){return arguments.length?this.each(e==null?BN:(typeof e=="function"?HN:FN)(e)):this.node().textContent}var z_=T(()=>{});function YN(){this.innerHTML=""}function qN(e){return function(){this.innerHTML=e}}function WN(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function P_(e){return arguments.length?this.each(e==null?YN:(typeof e=="function"?WN:qN)(e)):this.node().innerHTML}var R_=T(()=>{});function $N(){this.nextSibling&&this.parentNode.appendChild(this)}function L_(){return this.each($N)}var O_=T(()=>{});function GN(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function B_(){return this.each(GN)}var F_=T(()=>{});function H_(e){var t=typeof e=="function"?e:Fn(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var Y_=T(()=>{Du()});function UN(){return null}function q_(e,t){var r=typeof e=="function"?e:Fn(e),n=t==null?UN:typeof t=="function"?t:Hn(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}var W_=T(()=>{Du();$f()});function XN(){var e=this.parentNode;e&&e.removeChild(this)}function $_(){return this.each(XN)}var G_=T(()=>{});function jN(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function QN(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function U_(e){return this.select(e?QN:jN)}var X_=T(()=>{});function j_(e){return arguments.length?this.property("__data__",e):this.node().__data__}var Q_=T(()=>{});function KN(e){return function(t){e.call(this,t,this.__data__)}}function ZN(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function JN(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,a=t.length,o;r<a;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function eD(e,t,r){return function(){var n=this.__on,a,o=KN(t);if(n){for(var i=0,u=n.length;i<u;++i)if((a=n[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=r),a.value=t;return}}this.addEventListener(e.type,o,r),a={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(a):this.__on=[a]}}function K_(e,t,r){var n=ZN(e+""),a,o=n.length,i;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,c=u.length,h;f<c;++f)for(a=0,h=u[f];a<o;++a)if((i=n[a]).type===h.type&&i.name===h.name)return h.value}return}for(u=t?eD:JN,a=0;a<o;++a)this.each(u(n[a],t,r));return this}var Z_=T(()=>{});function J_(e,t,r){var n=Ko(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function tD(e,t){return function(){return J_(this,e,t)}}function rD(e,t){return function(){return J_(this,e,t.apply(this,arguments))}}function e3(e,t){return this.each((typeof t=="function"?rD:tD)(e,t))}var t3=T(()=>{Xf()});function*r3(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,o=n.length,i;a<o;++a)(i=n[a])&&(yield i)}var n3=T(()=>{});function je(e,t){this._groups=e,this._parents=t}function a3(){return new je([[document.documentElement]],Pu)}function nD(){return this}var Pu,Ur,mr=T(()=>{Fw();Yw();Ww();Gw();Xw();Jw();Sp();t_();n_();o_();u_();f_();c_();m_();p_();v_();b_();w_();S_();Mp();k_();E_();z_();R_();O_();F_();Y_();W_();G_();X_();Q_();Z_();t3();n3();Pu=[null];je.prototype=a3.prototype={constructor:je,select:Bw,selectAll:Hw,selectChild:qw,selectChildren:$w,filter:Uw,data:Zw,enter:jw,exit:e_,join:r_,merge:a_,selection:nD,order:i_,sort:l_,call:s_,nodes:d_,node:h_,size:g_,empty:x_,each:y_,attr:__,style:M_,property:A_,classed:D_,text:I_,html:P_,raise:L_,lower:B_,append:H_,insert:q_,remove:$_,clone:U_,datum:j_,on:K_,dispatch:e3,[Symbol.iterator]:r3};Ur=a3});function ue(e){return typeof e=="string"?new je([[document.querySelector(e)]],[document.documentElement]):new je([[e]],Pu)}var kp=T(()=>{mr()});function o3(e){return ue(Fn(e).call(document.documentElement))}var i3=T(()=>{Du();kp()});function jf(){return new Cp}function Cp(){this._="@"+(++aD).toString(36)}var aD,u3=T(()=>{aD=0;Cp.prototype=jf.prototype={constructor:Cp,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}});function Qf(e){let t;for(;t=e.sourceEvent;)e=t;return e}var Tp=T(()=>{});function mt(e,t){if(e=Qf(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}var Vp=T(()=>{Tp()});function l3(e,t){return e.target&&(e=Qf(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,r=>mt(r,t))}var f3=T(()=>{Vp();Tp()});function Kf(e){return typeof e=="string"?new je([document.querySelectorAll(e)],[document.documentElement]):new je([Eu(e)],Pu)}var s3=T(()=>{yp();mr()});var c3={};At(c3,{create:()=>o3,creator:()=>Fn,local:()=>jf,matcher:()=>Qo,namespace:()=>Gr,namespaces:()=>Nu,pointer:()=>mt,pointers:()=>l3,select:()=>ue,selectAll:()=>Kf,selection:()=>Ur,selector:()=>Hn,selectorAll:()=>jo,style:()=>bn,window:()=>Ko});var Nt=T(()=>{i3();Du();u3();Iu();Wf();qf();Vp();f3();kp();s3();mr();$f();wp();Mp();Xf()});function we(e){return function(){return e}}var Yn=T(()=>{});function h3(e){return e>1?0:e<-1?Cr:Math.acos(e)}function Dp(e){return e>=1?Ru:e<=-1?-Ru:Math.asin(e)}var Np,_t,qn,m3,Zf,kr,Wa,ht,Cr,Ru,hr,Zo=T(()=>{Np=Math.abs,_t=Math.atan2,qn=Math.cos,m3=Math.max,Zf=Math.min,kr=Math.sin,Wa=Math.sqrt,ht=1e-12,Cr=Math.PI,Ru=Cr/2,hr=2*Cr});function oD(e){return e.innerRadius}function iD(e){return e.outerRadius}function uD(e){return e.startAngle}function lD(e){return e.endAngle}function fD(e){return e&&e.padAngle}function sD(e,t,r,n,a,o,i,u){var f=r-e,c=n-t,h=i-a,y=u-o,x=y*f-h*c;if(!(x*x<ht))return x=(h*(t-o)-y*(e-a))/x,[e+x*f,t+x*c]}function Jf(e,t,r,n,a,o,i){var u=e-r,f=t-n,c=(i?o:-o)/Wa(u*u+f*f),h=c*f,y=-c*u,x=e+h,M=t+y,A=r+h,N=n+y,k=(x+A)/2,D=(M+N)/2,O=A-x,B=N-M,R=O*O+B*B,I=a-o,L=x*N-A*M,$=(B<0?-1:1)*Wa(m3(0,I*I*R-L*L)),G=(L*B-O*$)/R,le=(-L*O-B*$)/R,ne=(L*B+O*$)/R,U=(-L*O+B*$)/R,ae=G-k,J=le-D,H=ne-k,ee=U-D;return ae*ae+J*J>H*H+ee*ee&&(G=ne,le=U),{cx:G,cy:le,x01:-h,y01:-y,x11:G*(a/I-1),y11:le*(a/I-1)}}function es(){var e=oD,t=iD,r=we(0),n=null,a=uD,o=lD,i=fD,u=null;function f(){var c,h,y=+e.apply(this,arguments),x=+t.apply(this,arguments),M=a.apply(this,arguments)-Ru,A=o.apply(this,arguments)-Ru,N=Np(A-M),k=A>M;if(u||(u=c=dr()),x<y&&(h=x,x=y,y=h),!(x>ht))u.moveTo(0,0);else if(N>hr-ht)u.moveTo(x*qn(M),x*kr(M)),u.arc(0,0,x,M,A,!k),y>ht&&(u.moveTo(y*qn(A),y*kr(A)),u.arc(0,0,y,A,M,k));else{var D=M,O=A,B=M,R=A,I=N,L=N,$=i.apply(this,arguments)/2,G=$>ht&&(n?+n.apply(this,arguments):Wa(y*y+x*x)),le=Zf(Np(x-y)/2,+r.apply(this,arguments)),ne=le,U=le,ae,J;if(G>ht){var H=Dp(G/y*kr($)),ee=Dp(G/x*kr($));(I-=H*2)>ht?(H*=k?1:-1,B+=H,R-=H):(I=0,B=R=(M+A)/2),(L-=ee*2)>ht?(ee*=k?1:-1,D+=ee,O-=ee):(L=0,D=O=(M+A)/2)}var j=x*qn(D),X=x*kr(D),K=y*qn(R),Z=y*kr(R);if(le>ht){var te=x*qn(O),fe=x*kr(O),de=y*qn(B),re=y*kr(B),me;if(N<Cr&&(me=sD(j,X,de,re,te,fe,K,Z))){var Me=j-me[0],Oe=X-me[1],Ne=te-me[0],Ue=fe-me[1],se=1/kr(h3((Me*Ne+Oe*Ue)/(Wa(Me*Me+Oe*Oe)*Wa(Ne*Ne+Ue*Ue)))/2),_e=Wa(me[0]*me[0]+me[1]*me[1]);ne=Zf(le,(y-_e)/(se-1)),U=Zf(le,(x-_e)/(se+1))}}L>ht?U>ht?(ae=Jf(de,re,j,X,x,U,k),J=Jf(te,fe,K,Z,x,U,k),u.moveTo(ae.cx+ae.x01,ae.cy+ae.y01),U<le?u.arc(ae.cx,ae.cy,U,_t(ae.y01,ae.x01),_t(J.y01,J.x01),!k):(u.arc(ae.cx,ae.cy,U,_t(ae.y01,ae.x01),_t(ae.y11,ae.x11),!k),u.arc(0,0,x,_t(ae.cy+ae.y11,ae.cx+ae.x11),_t(J.cy+J.y11,J.cx+J.x11),!k),u.arc(J.cx,J.cy,U,_t(J.y11,J.x11),_t(J.y01,J.x01),!k))):(u.moveTo(j,X),u.arc(0,0,x,D,O,!k)):u.moveTo(j,X),!(y>ht)||!(I>ht)?u.lineTo(K,Z):ne>ht?(ae=Jf(K,Z,te,fe,y,-ne,k),J=Jf(j,X,de,re,y,-ne,k),u.lineTo(ae.cx+ae.x01,ae.cy+ae.y01),ne<le?u.arc(ae.cx,ae.cy,ne,_t(ae.y01,ae.x01),_t(J.y01,J.x01),!k):(u.arc(ae.cx,ae.cy,ne,_t(ae.y01,ae.x01),_t(ae.y11,ae.x11),!k),u.arc(0,0,y,_t(ae.cy+ae.y11,ae.cx+ae.x11),_t(J.cy+J.y11,J.cx+J.x11),k),u.arc(J.cx,J.cy,ne,_t(J.y11,J.x11),_t(J.y01,J.x01),!k))):u.arc(0,0,y,R,B,k)}if(u.closePath(),c)return u=null,c+""||null}return f.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,h=(+a.apply(this,arguments)+ +o.apply(this,arguments))/2-Cr/2;return[qn(h)*c,kr(h)*c]},f.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:we(+c),f):e},f.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:we(+c),f):t},f.cornerRadius=function(c){return arguments.length?(r=typeof c=="function"?c:we(+c),f):r},f.padRadius=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:we(+c),f):n},f.startAngle=function(c){return arguments.length?(a=typeof c=="function"?c:we(+c),f):a},f.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:we(+c),f):o},f.padAngle=function(c){return arguments.length?(i=typeof c=="function"?c:we(+c),f):i},f.context=function(c){return arguments.length?(u=c??null,f):u},f}var p3=T(()=>{Bn();Yn();Zo()});function Wn(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var g3,Jo=T(()=>{g3=Array.prototype.slice});function v3(e){this._context=e}function $n(e){return new v3(e)}var Lu=T(()=>{v3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}}});function ei(e){return e[0]}function ti(e){return e[1]}var ts=T(()=>{});function Gn(e,t){var r=we(!0),n=null,a=$n,o=null;e=typeof e=="function"?e:e===void 0?ei:we(e),t=typeof t=="function"?t:t===void 0?ti:we(t);function i(u){var f,c=(u=Wn(u)).length,h,y=!1,x;for(n==null&&(o=a(x=dr())),f=0;f<=c;++f)!(f<c&&r(h=u[f],f,u))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+e(h,f,u),+t(h,f,u));if(x)return o=null,x+""||null}return i.x=function(u){return arguments.length?(e=typeof u=="function"?u:we(+u),i):e},i.y=function(u){return arguments.length?(t=typeof u=="function"?u:we(+u),i):t},i.defined=function(u){return arguments.length?(r=typeof u=="function"?u:we(!!u),i):r},i.curve=function(u){return arguments.length?(a=u,n!=null&&(o=a(n)),i):a},i.context=function(u){return arguments.length?(u==null?n=o=null:o=a(n=u),i):n},i}var rs=T(()=>{Bn();Jo();Yn();Lu();ts()});function ns(e,t,r){var n=null,a=we(!0),o=null,i=$n,u=null;e=typeof e=="function"?e:e===void 0?ei:we(+e),t=typeof t=="function"?t:t===void 0?we(0):we(+t),r=typeof r=="function"?r:r===void 0?ti:we(+r);function f(h){var y,x,M,A=(h=Wn(h)).length,N,k=!1,D,O=new Array(A),B=new Array(A);for(o==null&&(u=i(D=dr())),y=0;y<=A;++y){if(!(y<A&&a(N=h[y],y,h))===k)if(k=!k)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),M=y-1;M>=x;--M)u.point(O[M],B[M]);u.lineEnd(),u.areaEnd()}k&&(O[y]=+e(N,y,h),B[y]=+t(N,y,h),u.point(n?+n(N,y,h):O[y],r?+r(N,y,h):B[y]))}if(D)return u=null,D+""||null}function c(){return Gn().defined(a).curve(i).context(o)}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:we(+h),n=null,f):e},f.x0=function(h){return arguments.length?(e=typeof h=="function"?h:we(+h),f):e},f.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:we(+h),f):n},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:we(+h),r=null,f):t},f.y0=function(h){return arguments.length?(t=typeof h=="function"?h:we(+h),f):t},f.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:we(+h),f):r},f.lineX0=f.lineY0=function(){return c().x(e).y(t)},f.lineY1=function(){return c().x(e).y(r)},f.lineX1=function(){return c().x(n).y(t)},f.defined=function(h){return arguments.length?(a=typeof h=="function"?h:we(!!h),f):a},f.curve=function(h){return arguments.length?(i=h,o!=null&&(u=i(o)),f):i},f.context=function(h){return arguments.length?(h==null?o=u=null:u=i(o=h),f):o},f}var Ep=T(()=>{Bn();Jo();Yn();Lu();rs();ts()});function x3(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}var b3=T(()=>{});function y3(e){return e}var w3=T(()=>{});function _3(){var e=y3,t=x3,r=null,n=we(0),a=we(hr),o=we(0);function i(u){var f,c=(u=Wn(u)).length,h,y,x=0,M=new Array(c),A=new Array(c),N=+n.apply(this,arguments),k=Math.min(hr,Math.max(-hr,a.apply(this,arguments)-N)),D,O=Math.min(Math.abs(k)/c,o.apply(this,arguments)),B=O*(k<0?-1:1),R;for(f=0;f<c;++f)(R=A[M[f]=f]=+e(u[f],f,u))>0&&(x+=R);for(t!=null?M.sort(function(I,L){return t(A[I],A[L])}):r!=null&&M.sort(function(I,L){return r(u[I],u[L])}),f=0,y=x?(k-c*B)/x:0;f<c;++f,N=D)h=M[f],R=A[h],D=N+(R>0?R*y:0)+B,A[h]={data:u[h],index:f,value:R,startAngle:N,endAngle:D,padAngle:O};return A}return i.value=function(u){return arguments.length?(e=typeof u=="function"?u:we(+u),i):e},i.sortValues=function(u){return arguments.length?(t=u,r=null,i):t},i.sort=function(u){return arguments.length?(r=u,t=null,i):r},i.startAngle=function(u){return arguments.length?(n=typeof u=="function"?u:we(+u),i):n},i.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:we(+u),i):a},i.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:we(+u),i):o},i}var S3=T(()=>{Jo();Yn();b3();w3();Zo()});function M3(e){this._curve=e}function ri(e){function t(r){return new M3(e(r))}return t._curve=e,t}var as,Ip=T(()=>{Lu();as=ri($n);M3.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}}});function ni(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(r){return arguments.length?t(ri(r)):t()._curve},e}function zp(){return ni(Gn().curve(as))}var Pp=T(()=>{Ip();rs()});function Rp(){var e=ns().curve(as),t=e.curve,r=e.lineX0,n=e.lineX1,a=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return ni(r())},delete e.lineX0,e.lineEndAngle=function(){return ni(n())},delete e.lineX1,e.lineInnerRadius=function(){return ni(a())},delete e.lineY0,e.lineOuterRadius=function(){return ni(o())},delete e.lineY1,e.curve=function(i){return arguments.length?t(ri(i)):t()._curve},e}var A3=T(()=>{Ip();Ep();Pp()});function $a(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}var Lp=T(()=>{});function cD(e){return e.source}function dD(e){return e.target}function Op(e){var t=cD,r=dD,n=ei,a=ti,o=null;function i(){var u,f=g3.call(arguments),c=t.apply(this,f),h=r.apply(this,f);if(o||(o=u=dr()),e(o,+n.apply(this,(f[0]=c,f)),+a.apply(this,f),+n.apply(this,(f[0]=h,f)),+a.apply(this,f)),u)return o=null,u+""||null}return i.source=function(u){return arguments.length?(t=u,i):t},i.target=function(u){return arguments.length?(r=u,i):r},i.x=function(u){return arguments.length?(n=typeof u=="function"?u:we(+u),i):n},i.y=function(u){return arguments.length?(a=typeof u=="function"?u:we(+u),i):a},i.context=function(u){return arguments.length?(o=u??null,i):o},i}function mD(e,t,r,n,a){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,a,n,a)}function hD(e,t,r,n,a){e.moveTo(t,r),e.bezierCurveTo(t,r=(r+a)/2,n,r,n,a)}function pD(e,t,r,n,a){var o=$a(t,r),i=$a(t,r=(r+a)/2),u=$a(n,r),f=$a(n,a);e.moveTo(o[0],o[1]),e.bezierCurveTo(i[0],i[1],u[0],u[1],f[0],f[1])}function k3(){return Op(mD)}function C3(){return Op(hD)}function T3(){var e=Op(pD);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var V3=T(()=>{Bn();Jo();Yn();ts();Lp()});var Un,Bp=T(()=>{Zo();Un={draw:function(e,t){var r=Math.sqrt(t/Cr);e.moveTo(r,0),e.arc(0,0,r,0,hr)}}});var Ga,Fp=T(()=>{Ga={draw:function(e,t){var r=Math.sqrt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}}});var N3,gD,Ua,Hp=T(()=>{N3=Math.sqrt(.3333333333333333),gD=N3*2,Ua={draw:function(e,t){var r=Math.sqrt(t/gD),n=r*N3;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}}});var vD,D3,xD,bD,Xa,Yp=T(()=>{Zo();vD=.8908130915292852,D3=Math.sin(Cr/10)/Math.sin(7*Cr/10),xD=Math.sin(hr/10)*D3,bD=-Math.cos(hr/10)*D3,Xa={draw:function(e,t){var r=Math.sqrt(t*vD),n=xD*r,a=bD*r;e.moveTo(0,-r),e.lineTo(n,a);for(var o=1;o<5;++o){var i=hr*o/5,u=Math.cos(i),f=Math.sin(i);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*a,f*n+u*a)}e.closePath()}}});var ja,qp=T(()=>{ja={draw:function(e,t){var r=Math.sqrt(t),n=-r/2;e.rect(n,n,r,r)}}});var Wp,Qa,$p=T(()=>{Wp=Math.sqrt(3),Qa={draw:function(e,t){var r=-Math.sqrt(t/(Wp*3));e.moveTo(0,r*2),e.lineTo(-Wp*r,-r),e.lineTo(Wp*r,-r),e.closePath()}}});var pr,gr,Gp,yD,Ka,Up=T(()=>{pr=-.5,gr=Math.sqrt(3)/2,Gp=1/Math.sqrt(12),yD=(Gp/2+1)*3,Ka={draw:function(e,t){var r=Math.sqrt(t/yD),n=r/2,a=r*Gp,o=n,i=r*Gp+r,u=-o,f=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(u,f),e.lineTo(pr*n-gr*a,gr*n+pr*a),e.lineTo(pr*o-gr*i,gr*o+pr*i),e.lineTo(pr*u-gr*f,gr*u+pr*f),e.lineTo(pr*n+gr*a,pr*a-gr*n),e.lineTo(pr*o+gr*i,pr*i-gr*o),e.lineTo(pr*u+gr*f,pr*f-gr*u),e.closePath()}}});function ai(e,t){var r=null;e=typeof e=="function"?e:we(e||Un),t=typeof t=="function"?t:we(t===void 0?64:+t);function n(){var a;if(r||(r=a=dr()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return n.type=function(a){return arguments.length?(e=typeof a=="function"?a:we(a),n):e},n.size=function(a){return arguments.length?(t=typeof a=="function"?a:we(+a),n):t},n.context=function(a){return arguments.length?(r=a??null,n):r},n}var E3,I3=T(()=>{Bn();Bp();Fp();Hp();Yp();qp();$p();Up();Yn();E3=[Un,Ga,Ua,ja,Xa,Qa,Ka]});function vr(){}var Ou=T(()=>{});function oi(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Bu(e){this._context=e}function z3(e){return new Bu(e)}var Fu=T(()=>{Bu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:oi(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:oi(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function P3(e){this._context=e}function R3(e){return new P3(e)}var L3=T(()=>{Ou();Fu();P3.prototype={areaStart:vr,areaEnd:vr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:oi(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function O3(e){this._context=e}function B3(e){return new O3(e)}var F3=T(()=>{Fu();O3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:oi(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function H3(e){return new os(e,!0)}function Y3(e){return new os(e,!1)}var os,q3=T(()=>{os=class{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}});function W3(e,t){this._basis=new Bu(e),this._beta=t}var $3,G3=T(()=>{Fu();W3.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],a=t[0],o=e[r]-n,i=t[r]-a,u=-1,f;++u<=r;)f=u/r,this._basis.point(this._beta*e[u]+(1-this._beta)*(n+f*o),this._beta*t[u]+(1-this._beta)*(a+f*i));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};$3=function e(t){function r(n){return t===1?new Bu(n):new W3(n,t)}return r.beta=function(n){return e(+n)},r}(.85)});function ii(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function is(e,t){this._context=e,this._k=(1-t)/6}var U3,Hu=T(()=>{is.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ii(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ii(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};U3=function e(t){function r(n){return new is(n,t)}return r.tension=function(n){return e(+n)},r}(0)});function us(e,t){this._context=e,this._k=(1-t)/6}var X3,Xp=T(()=>{Ou();Hu();us.prototype={areaStart:vr,areaEnd:vr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ii(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};X3=function e(t){function r(n){return new us(n,t)}return r.tension=function(n){return e(+n)},r}(0)});function ls(e,t){this._context=e,this._k=(1-t)/6}var j3,jp=T(()=>{Hu();ls.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ii(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};j3=function e(t){function r(n){return new ls(n,t)}return r.tension=function(n){return e(+n)},r}(0)});function Yu(e,t,r){var n=e._x1,a=e._y1,o=e._x2,i=e._y2;if(e._l01_a>ht){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,f=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/f,a=(a*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/f}if(e._l23_a>ht){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/h,i=(i*c+e._y1*e._l23_2a-r*e._l12_2a)/h}e._context.bezierCurveTo(n,a,o,i,e._x2,e._y2)}function Q3(e,t){this._context=e,this._alpha=t}var K3,fs=T(()=>{Zo();Hu();Q3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Yu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};K3=function e(t){function r(n){return t?new Q3(n,t):new is(n,0)}return r.alpha=function(n){return e(+n)},r}(.5)});function Z3(e,t){this._context=e,this._alpha=t}var J3,e8=T(()=>{Xp();Ou();fs();Z3.prototype={areaStart:vr,areaEnd:vr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Yu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};J3=function e(t){function r(n){return t?new Z3(n,t):new us(n,0)}return r.alpha=function(n){return e(+n)},r}(.5)});function t8(e,t){this._context=e,this._alpha=t}var r8,n8=T(()=>{jp();fs();t8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};r8=function e(t){function r(n){return t?new t8(n,t):new ls(n,0)}return r.alpha=function(n){return e(+n)},r}(.5)});function a8(e){this._context=e}function o8(e){return new a8(e)}var i8=T(()=>{Ou();a8.prototype={areaStart:vr,areaEnd:vr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}});function u8(e){return e<0?-1:1}function l8(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),u=(o*a+i*n)/(n+a);return(u8(o)+u8(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(u))||0}function f8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Qp(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,u=(o-n)/3;e._context.bezierCurveTo(n+u,a+u*t,o-u,i-u*r,o,i)}function ss(e){this._context=e}function s8(e){this._context=new c8(e)}function c8(e){this._context=e}function d8(e){return new ss(e)}function m8(e){return new s8(e)}var h8=T(()=>{ss.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qp(this,this._t0,f8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Qp(this,f8(this,r=l8(this,e,t)),r);break;default:Qp(this,this._t0,r=l8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};(s8.prototype=Object.create(ss.prototype)).point=function(e,t){ss.prototype.point.call(this,t,e)};c8.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}}});function g8(e){this._context=e}function p8(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function v8(e){return new g8(e)}var x8=T(()=>{g8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=p8(e),a=p8(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}});function cs(e,t){this._context=e,this._t=t}function b8(e){return new cs(e,.5)}function y8(e){return new cs(e,0)}function w8(e){return new cs(e,1)}var _8=T(()=>{cs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}}});function Tr(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,u=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}var ui=T(()=>{});function Vr(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}var li=T(()=>{});function wD(e,t){return e[t]}function _D(e){let t=[];return t.key=e,t}function S8(){var e=we([]),t=Vr,r=Tr,n=wD;function a(o){var i=Array.from(e.apply(this,arguments),_D),u,f=i.length,c=-1,h;for(let y of o)for(u=0,++c;u<f;++u)(i[u][c]=[0,+n(y,i[u].key,c,o)]).data=y;for(u=0,h=Wn(t(i));u<f;++u)i[h[u]].index=u;return r(i,h),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:we(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:we(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?Vr:typeof o=="function"?o:we(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??Tr,a):r},a}var M8=T(()=>{Jo();Yn();ui();li()});function A8(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Tr(e,t)}}var k8=T(()=>{ui()});function C8(e,t){if((f=e.length)>0)for(var r,n=0,a,o,i,u,f,c=e[t[0]].length;n<c;++n)for(i=u=0,r=0;r<f;++r)(o=(a=e[t[r]][n])[1]-a[0])>0?(a[0]=i,a[1]=i+=o):o<0?(a[1]=u,a[0]=u+=o):(a[0]=0,a[1]=o)}var T8=T(()=>{});function V8(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,u=0;i<a;++i)u+=e[i][r][1]||0;n[r][1]+=n[r][0]=-u/2}Tr(e,t)}}var N8=T(()=>{ui()});function D8(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var u=0,f=0,c=0;u<i;++u){for(var h=e[t[u]],y=h[n][1]||0,x=h[n-1][1]||0,M=(y-x)/2,A=0;A<u;++A){var N=e[t[A]],k=N[n][1]||0,D=N[n-1][1]||0;M+=k-D}f+=y,c+=M*y}a[n-1][1]+=a[n-1][0]=r,f&&(r-=c/f)}a[n-1][1]+=a[n-1][0]=r,Tr(e,t)}}var E8=T(()=>{ui()});function ds(e){var t=e.map(SD);return Vr(e).sort(function(r,n){return t[r]-t[n]})}function SD(e){for(var t=-1,r=0,n=e.length,a,o=-1/0;++t<n;)(a=+e[t][1])>o&&(o=a,r=t);return r}var Kp=T(()=>{li()});function ms(e){var t=e.map(Zp);return Vr(e).sort(function(r,n){return t[r]-t[n]})}function Zp(e){for(var t=0,r=-1,n=e.length,a;++r<n;)(a=+e[r][1])&&(t+=a);return t}var hs=T(()=>{li()});function I8(e){return ms(e).reverse()}var z8=T(()=>{hs()});function P8(e){var t=e.length,r,n,a=e.map(Zp),o=ds(e),i=0,u=0,f=[],c=[];for(r=0;r<t;++r)n=o[r],i<u?(i+=a[n],f.push(n)):(u+=a[n],c.push(n));return c.reverse().concat(f)}var R8=T(()=>{Kp();hs()});function L8(e){return Vr(e).reverse()}var O8=T(()=>{li()});var B8={};At(B8,{arc:()=>es,area:()=>ns,areaRadial:()=>Rp,curveBasis:()=>z3,curveBasisClosed:()=>R3,curveBasisOpen:()=>B3,curveBumpX:()=>H3,curveBumpY:()=>Y3,curveBundle:()=>$3,curveCardinal:()=>U3,curveCardinalClosed:()=>X3,curveCardinalOpen:()=>j3,curveCatmullRom:()=>K3,curveCatmullRomClosed:()=>J3,curveCatmullRomOpen:()=>r8,curveLinear:()=>$n,curveLinearClosed:()=>o8,curveMonotoneX:()=>d8,curveMonotoneY:()=>m8,curveNatural:()=>v8,curveStep:()=>b8,curveStepAfter:()=>w8,curveStepBefore:()=>y8,line:()=>Gn,lineRadial:()=>zp,linkHorizontal:()=>k3,linkRadial:()=>T3,linkVertical:()=>C3,pie:()=>_3,pointRadial:()=>$a,radialArea:()=>Rp,radialLine:()=>zp,stack:()=>S8,stackOffsetDiverging:()=>C8,stackOffsetExpand:()=>A8,stackOffsetNone:()=>Tr,stackOffsetSilhouette:()=>V8,stackOffsetWiggle:()=>D8,stackOrderAppearance:()=>ds,stackOrderAscending:()=>ms,stackOrderDescending:()=>I8,stackOrderInsideOut:()=>P8,stackOrderNone:()=>Vr,stackOrderReverse:()=>L8,symbol:()=>ai,symbolCircle:()=>Un,symbolCross:()=>Ga,symbolDiamond:()=>Ua,symbolSquare:()=>ja,symbolStar:()=>Xa,symbolTriangle:()=>Qa,symbolWye:()=>Ka,symbols:()=>E3});var Jp=T(()=>{p3();Ep();rs();S3();A3();Pp();Lp();V3();I3();Bp();Fp();Hp();qp();Yp();$p();Up();L3();F3();Fu();q3();G3();Xp();jp();Hu();e8();n8();fs();i8();Lu();h8();x8();_8();M8();k8();T8();ui();N8();E8();Kp();hs();z8();R8();li();O8()});function ce(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}var ke=T(()=>{});var F8,H8=T(()=>{ke();F8=ce("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")});var Y8,q8=T(()=>{ke();Y8=ce("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")});var W8,$8=T(()=>{ke();W8=ce("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")});var G8,U8=T(()=>{ke();G8=ce("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")});var X8,j8=T(()=>{ke();X8=ce("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")});var Q8,K8=T(()=>{ke();Q8=ce("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")});var Z8,J8=T(()=>{ke();Z8=ce("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")});var e5,t5=T(()=>{ke();e5=ce("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")});var r5,n5=T(()=>{ke();r5=ce("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")});var a5,o5=T(()=>{ke();a5=ce("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")});var ve,qe=T(()=>{Zt();ve=e=>Wm(e[e.length-1])});var eg,i5,u5=T(()=>{ke();qe();eg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ce),i5=ve(eg)});var tg,l5,f5=T(()=>{ke();qe();tg=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ce),l5=ve(tg)});var rg,s5,c5=T(()=>{ke();qe();rg=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ce),s5=ve(rg)});var ng,d5,m5=T(()=>{ke();qe();ng=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ce),d5=ve(ng)});var ag,h5,p5=T(()=>{ke();qe();ag=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ce),h5=ve(ag)});var og,g5,v5=T(()=>{ke();qe();og=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ce),g5=ve(og)});var ig,x5,b5=T(()=>{ke();qe();ig=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ce),x5=ve(ig)});var ug,y5,w5=T(()=>{ke();qe();ug=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ce),y5=ve(ug)});var lg,_5,S5=T(()=>{ke();qe();lg=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ce),_5=ve(lg)});var fg,M5,A5=T(()=>{ke();qe();fg=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ce),M5=ve(fg)});var sg,k5,C5=T(()=>{ke();qe();sg=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ce),k5=ve(sg)});var cg,T5,V5=T(()=>{ke();qe();cg=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ce),T5=ve(cg)});var dg,N5,D5=T(()=>{ke();qe();dg=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ce),N5=ve(dg)});var mg,E5,I5=T(()=>{ke();qe();mg=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ce),E5=ve(mg)});var hg,z5,P5=T(()=>{ke();qe();hg=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ce),z5=ve(hg)});var pg,R5,L5=T(()=>{ke();qe();pg=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ce),R5=ve(pg)});var gg,O5,B5=T(()=>{ke();qe();gg=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ce),O5=ve(gg)});var vg,F5,H5=T(()=>{ke();qe();vg=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ce),F5=ve(vg)});var xg,Y5,q5=T(()=>{ke();qe();xg=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ce),Y5=ve(xg)});var bg,W5,$5=T(()=>{ke();qe();bg=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ce),W5=ve(bg)});var yg,G5,U5=T(()=>{ke();qe();yg=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ce),G5=ve(yg)});var wg,X5,j5=T(()=>{ke();qe();wg=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ce),X5=ve(wg)});var _g,Q5,K5=T(()=>{ke();qe();_g=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ce),Q5=ve(_g)});var Sg,Z5,J5=T(()=>{ke();qe();Sg=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ce),Z5=ve(Sg)});var Mg,e6,t6=T(()=>{ke();qe();Mg=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ce),e6=ve(Mg)});var Ag,r6,n6=T(()=>{ke();qe();Ag=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ce),r6=ve(Ag)});var kg,a6,o6=T(()=>{ke();qe();kg=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ce),a6=ve(kg)});function i6(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}var u6=T(()=>{});var l6,f6=T(()=>{cn();Zt();l6=Lo(Bt(300,.5,0),Bt(-240,.5,1))});function d6(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return ps.h=360*e-100,ps.s=1.5-1.5*t,ps.l=.8-.9*t,ps+""}var s6,c6,ps,m6=T(()=>{cn();Zt();s6=Lo(Bt(-100,.75,.35),Bt(80,1.5,.8)),c6=Lo(Bt(260,.75,.35),Bt(80,1.5,.8)),ps=Bt()});function h6(e){var t;return e=(.5-e)*Math.PI,gs.r=255*(t=Math.sin(e))*t,gs.g=255*(t=Math.sin(e+MD))*t,gs.b=255*(t=Math.sin(e+AD))*t,gs+""}var gs,MD,AD,p6=T(()=>{cn();gs=Ln(),MD=Math.PI/3,AD=Math.PI*2/3});function g6(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}var v6=T(()=>{});function vs(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}var x6,b6,y6,w6,_6=T(()=>{ke();x6=vs(ce("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),b6=vs(ce("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),y6=vs(ce("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),w6=vs(ce("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))});var S6={};At(S6,{interpolateBlues:()=>X5,interpolateBrBG:()=>i5,interpolateBuGn:()=>M5,interpolateBuPu:()=>k5,interpolateCividis:()=>i6,interpolateCool:()=>c6,interpolateCubehelixDefault:()=>l6,interpolateGnBu:()=>T5,interpolateGreens:()=>Q5,interpolateGreys:()=>Z5,interpolateInferno:()=>y6,interpolateMagma:()=>b6,interpolateOrRd:()=>N5,interpolateOranges:()=>a6,interpolatePRGn:()=>l5,interpolatePiYG:()=>s5,interpolatePlasma:()=>w6,interpolatePuBu:()=>z5,interpolatePuBuGn:()=>E5,interpolatePuOr:()=>d5,interpolatePuRd:()=>R5,interpolatePurples:()=>e6,interpolateRainbow:()=>d6,interpolateRdBu:()=>h5,interpolateRdGy:()=>g5,interpolateRdPu:()=>O5,interpolateRdYlBu:()=>x5,interpolateRdYlGn:()=>y5,interpolateReds:()=>r6,interpolateSinebow:()=>h6,interpolateSpectral:()=>_5,interpolateTurbo:()=>g6,interpolateViridis:()=>x6,interpolateWarm:()=>s6,interpolateYlGn:()=>Y5,interpolateYlGnBu:()=>F5,interpolateYlOrBr:()=>W5,interpolateYlOrRd:()=>G5,schemeAccent:()=>Y8,schemeBlues:()=>wg,schemeBrBG:()=>eg,schemeBuGn:()=>fg,schemeBuPu:()=>sg,schemeCategory10:()=>F8,schemeDark2:()=>W8,schemeGnBu:()=>cg,schemeGreens:()=>_g,schemeGreys:()=>Sg,schemeOrRd:()=>dg,schemeOranges:()=>kg,schemePRGn:()=>tg,schemePaired:()=>G8,schemePastel1:()=>X8,schemePastel2:()=>Q8,schemePiYG:()=>rg,schemePuBu:()=>hg,schemePuBuGn:()=>mg,schemePuOr:()=>ng,schemePuRd:()=>pg,schemePurples:()=>Mg,schemeRdBu:()=>ag,schemeRdGy:()=>og,schemeRdPu:()=>gg,schemeRdYlBu:()=>ig,schemeRdYlGn:()=>ug,schemeReds:()=>Ag,schemeSet1:()=>Z8,schemeSet2:()=>e5,schemeSet3:()=>r5,schemeSpectral:()=>lg,schemeTableau10:()=>a5,schemeYlGn:()=>xg,schemeYlGnBu:()=>vg,schemeYlOrBr:()=>bg,schemeYlOrRd:()=>yg});var Cg=T(()=>{H8();q8();$8();U8();j8();K8();J8();t5();n5();o5();u5();f5();c5();m5();p5();v5();b5();w5();S5();A5();C5();V5();D5();I5();P5();L5();B5();H5();q5();$5();U5();j5();K5();J5();t6();n6();o6();u6();f6();m6();p6();v6();_6()});function A6(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new xs(r)}function xs(e){this._=e}function CD(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function TD(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function M6(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=kD,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var kD,Xr,k6=T(()=>{kD={value:()=>{}};xs.prototype=A6.prototype={constructor:xs,on:function(e,t){var r=this._,n=CD(e+"",r),a,o=-1,i=n.length;if(arguments.length<2){for(;++o<i;)if((a=(e=n[o]).type)&&(a=TD(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(a=(e=n[o]).type)r[a]=M6(r[a],e.name,t);else if(t==null)for(a in r)r[a]=M6(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new xs(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,o;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,a=o.length;n<a;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,o=n.length;a<o;++a)n[a].value.apply(t,r)}};Xr=A6});var C6={};At(C6,{dispatch:()=>Xr});var Za=T(()=>{k6()});function bs(e){e.stopImmediatePropagation()}function Xn(e){e.preventDefault(),e.stopImmediatePropagation()}var T6,Ja,Tg=T(()=>{T6={passive:!1},Ja={capture:!0,passive:!1}});function eo(e){var t=e.document.documentElement,r=ue(e).on("dragstart.drag",Xn,Ja);"onselectstart"in t?r.on("selectstart.drag",Xn,Ja):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function to(e,t){var r=e.document.documentElement,n=ue(e).on("dragstart.drag",null);t&&(n.on("click.drag",Xn,Ja),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var Vg=T(()=>{Nt();Tg()});var qu,V6=T(()=>{qu=e=>()=>e});function Wu(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:o,x:i,y:u,dx:f,dy:c,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:h}})}var N6=T(()=>{Wu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e}});function VD(e){return!e.ctrlKey&&!e.button}function ND(){return this.parentNode}function DD(e,t){return t??{x:e.x,y:e.y}}function ED(){return navigator.maxTouchPoints||"ontouchstart"in this}function fi(){var e=VD,t=ND,r=DD,n=ED,a={},o=Xr("start","drag","end"),i=0,u,f,c,h,y=0;function x(R){R.on("mousedown.drag",M).filter(n).on("touchstart.drag",k).on("touchmove.drag",D,T6).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function M(R,I){if(!(h||!e.call(this,R,I))){var L=B(this,t.call(this,R,I),R,I,"mouse");!L||(ue(R.view).on("mousemove.drag",A,Ja).on("mouseup.drag",N,Ja),eo(R.view),bs(R),c=!1,u=R.clientX,f=R.clientY,L("start",R))}}function A(R){if(Xn(R),!c){var I=R.clientX-u,L=R.clientY-f;c=I*I+L*L>y}a.mouse("drag",R)}function N(R){ue(R.view).on("mousemove.drag mouseup.drag",null),to(R.view,c),Xn(R),a.mouse("end",R)}function k(R,I){if(!!e.call(this,R,I)){var L=R.changedTouches,$=t.call(this,R,I),G=L.length,le,ne;for(le=0;le<G;++le)(ne=B(this,$,R,I,L[le].identifier,L[le]))&&(bs(R),ne("start",R,L[le]))}}function D(R){var I=R.changedTouches,L=I.length,$,G;for($=0;$<L;++$)(G=a[I[$].identifier])&&(Xn(R),G("drag",R,I[$]))}function O(R){var I=R.changedTouches,L=I.length,$,G;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),$=0;$<L;++$)(G=a[I[$].identifier])&&(bs(R),G("end",R,I[$]))}function B(R,I,L,$,G,le){var ne=o.copy(),U=mt(le||L,I),ae,J,H;if((H=r.call(R,new Wu("beforestart",{sourceEvent:L,target:x,identifier:G,active:i,x:U[0],y:U[1],dx:0,dy:0,dispatch:ne}),$))!=null)return ae=H.x-U[0]||0,J=H.y-U[1]||0,function ee(j,X,K){var Z=U,te;switch(j){case"start":a[G]=ee,te=i++;break;case"end":delete a[G],--i;case"drag":U=mt(K||X,I),te=i;break}ne.call(j,R,new Wu(j,{sourceEvent:X,subject:H,target:x,identifier:G,active:te,x:U[0]+ae,y:U[1]+J,dx:U[0]-Z[0],dy:U[1]-Z[1],dispatch:ne}),$)}}return x.filter=function(R){return arguments.length?(e=typeof R=="function"?R:qu(!!R),x):e},x.container=function(R){return arguments.length?(t=typeof R=="function"?R:qu(R),x):t},x.subject=function(R){return arguments.length?(r=typeof R=="function"?R:qu(R),x):r},x.touchable=function(R){return arguments.length?(n=typeof R=="function"?R:qu(!!R),x):n},x.on=function(){var R=o.on.apply(o,arguments);return R===o?x:R},x.clickDistance=function(R){return arguments.length?(y=(R=+R)*R,x):Math.sqrt(y)},x}var D6=T(()=>{Za();Nt();Vg();Tg();V6();N6()});var ys=T(()=>{D6();Vg()});function Qu(){return ro||(z6(ID),ro=Xu.now()+Ss)}function ID(){ro=0}function ju(){this._call=this._time=this._next=null}function Ms(e,t,r){var n=new ju;return n.restart(e,t,r),n}function P6(){Qu(),++si;for(var e=ws,t;e;)(t=ro-e._time)>=0&&e._call.call(void 0,t),e=e._next;--si}function E6(){ro=(_s=Xu.now())+Ss,si=Gu=0;try{P6()}finally{si=0,PD(),ro=0}}function zD(){var e=Xu.now(),t=e-_s;t>I6&&(Ss-=t,_s=e)}function PD(){for(var e,t=ws,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:ws=r);Uu=e,Ng(n)}function Ng(e){if(!si){Gu&&(Gu=clearTimeout(Gu));var t=e-ro;t>24?(e<1/0&&(Gu=setTimeout(E6,e-Xu.now()-Ss)),$u&&($u=clearInterval($u))):($u||(_s=Xu.now(),$u=setInterval(zD,I6)),si=1,z6(E6))}}var si,Gu,$u,I6,ws,Uu,_s,ro,Ss,Xu,z6,Dg=T(()=>{si=0,Gu=0,$u=0,I6=1e3,_s=0,ro=0,Ss=0,Xu=typeof performance=="object"&&performance.now?performance:Date,z6=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};ju.prototype=Ms.prototype={constructor:ju,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Qu():+r)+(t==null?0:+t),!this._next&&Uu!==this&&(Uu?Uu._next=this:ws=this,Uu=this),this._call=e,this._time=r,Ng()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ng())}}});function As(e,t,r){var n=new ju;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var R6=T(()=>{Dg()});var ks=T(()=>{Dg();R6()});function jn(e,t,r,n,a,o){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;OD(e,r,{name:t,index:n,group:a,on:RD,tween:LD,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:B6})}function Zu(e,t){var r=lt(e,t);if(r.state>B6)throw new Error("too late; already scheduled");return r}function St(e,t){var r=lt(e,t);if(r.state>Cs)throw new Error("too late; already running");return r}function lt(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function OD(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=Ms(o,0,r.time);function o(c){r.state=L6,r.timer.restart(i,r.delay,r.time),r.delay<=c&&i(c-r.delay)}function i(c){var h,y,x,M;if(r.state!==L6)return f();for(h in n)if(M=n[h],M.name===r.name){if(M.state===Cs)return As(i);M.state===O6?(M.state=Ku,M.timer.stop(),M.on.call("interrupt",e,e.__data__,M.index,M.group),delete n[h]):+h<t&&(M.state=Ku,M.timer.stop(),M.on.call("cancel",e,e.__data__,M.index,M.group),delete n[h])}if(As(function(){r.state===Cs&&(r.state=O6,r.timer.restart(u,r.delay,r.time),u(c))}),r.state=Ts,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Ts){for(r.state=Cs,a=new Array(x=r.tween.length),h=0,y=-1;h<x;++h)(M=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(a[++y]=M);a.length=y+1}}function u(c){for(var h=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(f),r.state=Vs,1),y=-1,x=a.length;++y<x;)a[y].call(e,h);r.state===Vs&&(r.on.call("end",e,e.__data__,r.index,r.group),f())}function f(){r.state=Ku,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}var RD,LD,B6,L6,Ts,Cs,O6,Vs,Ku,Xt=T(()=>{Za();ks();RD=Xr("start","end","cancel","interrupt"),LD=[],B6=0,L6=1,Ts=2,Cs=3,O6=4,Vs=5,Ku=6});function jr(e,t){var r=e.__transition,n,a,o=!0,i;if(!!r){t=t==null?null:t+"";for(i in r){if((n=r[i]).name!==t){o=!1;continue}a=n.state>Ts&&n.state<Vs,n.state=Ku,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]}o&&delete e.__transition}}var Eg=T(()=>{Xt()});function F6(e){return this.each(function(){jr(this,e)})}var H6=T(()=>{Eg()});function BD(e,t){var r,n;return function(){var a=St(this,e),o=a.tween;if(o!==r){n=r=o;for(var i=0,u=n.length;i<u;++i)if(n[i].name===t){n=n.slice(),n.splice(i,1);break}}a.tween=n}}function FD(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var o=St(this,e),i=o.tween;if(i!==n){a=(n=i).slice();for(var u={name:t,value:r},f=0,c=a.length;f<c;++f)if(a[f].name===t){a[f]=u;break}f===c&&a.push(u)}o.tween=a}}function Y6(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=lt(this.node(),r).tween,a=0,o=n.length,i;a<o;++a)if((i=n[a]).name===e)return i.value;return null}return this.each((t==null?BD:FD)(r,e,t))}function ci(e,t,r){var n=e._id;return e.each(function(){var a=St(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return lt(a,n).value[t]}}var Ju=T(()=>{Xt()});function Ns(e,t){var r;return(typeof t=="number"?wt:t instanceof Tt?Ta:(r=Tt(t))?(t=r,Ta):pu)(e,t)}var Ig=T(()=>{cn();Zt()});function HD(e){return function(){this.removeAttribute(e)}}function YD(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qD(e,t,r){var n,a=r+"",o;return function(){var i=this.getAttribute(e);return i===a?null:i===n?o:o=t(n=i,r)}}function WD(e,t,r){var n,a=r+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===n?o:o=t(n=i,r)}}function $D(e,t,r){var n,a,o;return function(){var i,u=r(this),f;return u==null?void this.removeAttribute(e):(i=this.getAttribute(e),f=u+"",i===f?null:i===n&&f===a?o:(a=f,o=t(n=i,u)))}}function GD(e,t,r){var n,a,o;return function(){var i,u=r(this),f;return u==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),f=u+"",i===f?null:i===n&&f===a?o:(a=f,o=t(n=i,u)))}}function q6(e,t){var r=Gr(e),n=r==="transform"?Km:Ns;return this.attrTween(e,typeof t=="function"?(r.local?GD:$D)(r,n,ci(this,"attr."+e,t)):t==null?(r.local?YD:HD)(r):(r.local?WD:qD)(r,n,t))}var W6=T(()=>{Zt();Nt();Ju();Ig()});function UD(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function XD(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function jD(e,t){var r,n;function a(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&XD(e,o)),r}return a._value=t,a}function QD(e,t){var r,n;function a(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&UD(e,o)),r}return a._value=t,a}function $6(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Gr(e);return this.tween(r,(n.local?jD:QD)(n,t))}var G6=T(()=>{Nt()});function KD(e,t){return function(){Zu(this,e).delay=+t.apply(this,arguments)}}function ZD(e,t){return t=+t,function(){Zu(this,e).delay=t}}function U6(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?KD:ZD)(t,e)):lt(this.node(),t).delay}var X6=T(()=>{Xt()});function JD(e,t){return function(){St(this,e).duration=+t.apply(this,arguments)}}function eE(e,t){return t=+t,function(){St(this,e).duration=t}}function j6(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?JD:eE)(t,e)):lt(this.node(),t).duration}var Q6=T(()=>{Xt()});function tE(e,t){if(typeof t!="function")throw new Error;return function(){St(this,e).ease=t}}function K6(e){var t=this._id;return arguments.length?this.each(tE(t,e)):lt(this.node(),t).ease}var Z6=T(()=>{Xt()});function rE(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;St(this,e).ease=r}}function J6(e){if(typeof e!="function")throw new Error;return this.each(rE(this._id,e))}var e4=T(()=>{Xt()});function t4(e){typeof e!="function"&&(e=Qo(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,u=n[a]=[],f,c=0;c<i;++c)(f=o[c])&&e.call(f,f.__data__,c,o)&&u.push(f);return new Ht(n,this._parents,this._name,this._id)}var r4=T(()=>{Nt();no()});function n4(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,o=Math.min(n,a),i=new Array(n),u=0;u<o;++u)for(var f=t[u],c=r[u],h=f.length,y=i[u]=new Array(h),x,M=0;M<h;++M)(x=f[M]||c[M])&&(y[M]=x);for(;u<n;++u)i[u]=t[u];return new Ht(i,this._parents,this._name,this._id)}var a4=T(()=>{no()});function nE(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function aE(e,t,r){var n,a,o=nE(t)?Zu:St;return function(){var i=o(this,e),u=i.on;u!==n&&(a=(n=u).copy()).on(t,r),i.on=a}}function o4(e,t){var r=this._id;return arguments.length<2?lt(this.node(),r).on.on(e):this.each(aE(r,e,t))}var i4=T(()=>{Xt()});function oE(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function u4(){return this.on("end.remove",oE(this._id))}var l4=T(()=>{});function f4(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Hn(e));for(var n=this._groups,a=n.length,o=new Array(a),i=0;i<a;++i)for(var u=n[i],f=u.length,c=o[i]=new Array(f),h,y,x=0;x<f;++x)(h=u[x])&&(y=e.call(h,h.__data__,x,u))&&("__data__"in h&&(y.__data__=h.__data__),c[x]=y,jn(c[x],t,r,x,c,lt(h,r)));return new Ht(o,this._parents,t,r)}var s4=T(()=>{Nt();no();Xt()});function c4(e){var t=this._name,r=this._id;typeof e!="function"&&(e=jo(e));for(var n=this._groups,a=n.length,o=[],i=[],u=0;u<a;++u)for(var f=n[u],c=f.length,h,y=0;y<c;++y)if(h=f[y]){for(var x=e.call(h,h.__data__,y,f),M,A=lt(h,r),N=0,k=x.length;N<k;++N)(M=x[N])&&jn(M,t,r,N,x,A);o.push(x),i.push(h)}return new Ht(o,i,t,r)}var d4=T(()=>{Nt();no();Xt()});function m4(){return new iE(this._groups,this._parents)}var iE,h4=T(()=>{Nt();iE=Ur.prototype.constructor});function uE(e,t){var r,n,a;return function(){var o=bn(this,e),i=(this.style.removeProperty(e),bn(this,e));return o===i?null:o===r&&i===n?a:a=t(r=o,n=i)}}function p4(e){return function(){this.style.removeProperty(e)}}function lE(e,t,r){var n,a=r+"",o;return function(){var i=bn(this,e);return i===a?null:i===n?o:o=t(n=i,r)}}function fE(e,t,r){var n,a,o;return function(){var i=bn(this,e),u=r(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(e),bn(this,e))),i===f?null:i===n&&f===a?o:(a=f,o=t(n=i,u))}}function sE(e,t){var r,n,a,o="style."+t,i="end."+o,u;return function(){var f=St(this,e),c=f.on,h=f.value[o]==null?u||(u=p4(t)):void 0;(c!==r||a!==h)&&(n=(r=c).copy()).on(i,a=h),f.on=n}}function g4(e,t,r){var n=(e+="")=="transform"?Qm:Ns;return t==null?this.styleTween(e,uE(e,n)).on("end.style."+e,p4(e)):typeof t=="function"?this.styleTween(e,fE(e,n,ci(this,"style."+e,t))).each(sE(this._id,e)):this.styleTween(e,lE(e,n,t),r).on("end.style."+e,null)}var v4=T(()=>{Zt();Nt();Xt();Ju();Ig()});function cE(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function dE(e,t,r){var n,a;function o(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&cE(e,i,r)),n}return o._value=t,o}function x4(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,dE(e,t,r??""))}var b4=T(()=>{});function mE(e){return function(){this.textContent=e}}function hE(e){return function(){var t=e(this);this.textContent=t??""}}function y4(e){return this.tween("text",typeof e=="function"?hE(ci(this,"text",e)):mE(e==null?"":e+""))}var w4=T(()=>{Ju()});function pE(e){return function(t){this.textContent=e.call(this,t)}}function gE(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&pE(a)),t}return n._value=e,n}function _4(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,gE(e))}var S4=T(()=>{});function M4(){for(var e=this._name,t=this._id,r=Ds(),n=this._groups,a=n.length,o=0;o<a;++o)for(var i=n[o],u=i.length,f,c=0;c<u;++c)if(f=i[c]){var h=lt(f,t);jn(f,e,r,c,i,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Ht(n,this._parents,e,r)}var A4=T(()=>{no();Xt()});function k4(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(o,i){var u={value:i},f={value:function(){--a===0&&o()}};r.each(function(){var c=St(this,n),h=c.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(f)),c.on=t}),a===0&&o()})}var C4=T(()=>{Xt()});function Ht(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function T4(e){return Ur().transition(e)}function Ds(){return++vE}var vE,yn,no=T(()=>{Nt();W6();G6();X6();Q6();Z6();e4();r4();a4();i4();l4();s4();d4();h4();v4();b4();w4();S4();A4();Ju();C4();vE=0;yn=Ur.prototype;Ht.prototype=T4.prototype={constructor:Ht,select:f4,selectAll:c4,selectChild:yn.selectChild,selectChildren:yn.selectChildren,filter:t4,merge:n4,selection:m4,transition:M4,call:yn.call,nodes:yn.nodes,node:yn.node,size:yn.size,empty:yn.empty,each:yn.each,on:o4,attr:q6,attrTween:$6,style:g4,styleTween:x4,text:y4,textTween:_4,remove:u4,tween:Y6,delay:U6,duration:j6,ease:K6,easeVarying:J6,end:k4,[Symbol.iterator]:yn[Symbol.iterator]}});function Es(e){return--e*e*e+1}function Is(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var V4=T(()=>{});var zg=T(()=>{V4()});function bE(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function N4(e){var t,r;e instanceof Ht?(t=e._id,e=e._name):(t=Ds(),(r=xE).time=Qu(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,o=0;o<a;++o)for(var i=n[o],u=i.length,f,c=0;c<u;++c)(f=i[c])&&jn(f,e,t,c,i,r||bE(f,t));return new Ht(n,this._parents,e,t)}var xE,D4=T(()=>{no();Xt();zg();ks();xE={time:null,delay:0,duration:250,ease:Is}});var E4=T(()=>{Nt();H6();D4();Ur.prototype.interrupt=F6;Ur.prototype.transition=N4});var zs=T(()=>{E4();Eg()});var Ps,I4=T(()=>{Ps=e=>()=>e});function Pg(e,{sourceEvent:t,target:r,selection:n,mode:a,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:o}})}var z4=T(()=>{});function P4(e){e.stopImmediatePropagation()}function Rs(e){e.preventDefault(),e.stopImmediatePropagation()}var R4=T(()=>{});function B4(e){return[+e[0],+e[1]]}function Og(e){return[B4(e[0]),B4(e[1])]}function el(e){return{type:e}}function SE(e){return!e.ctrlKey&&!e.button}function ME(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function AE(){return navigator.maxTouchPoints||"ontouchstart"in this}function Lg(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function kE(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Y4(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function q4(){return Bg(Ls)}function W4(){return Bg(Os)}function $4(){return Bg(yE)}function Bg(e){var t=ME,r=SE,n=AE,a=!0,o=Xr("start","brush","end"),i=6,u;function f(k){var D=k.property("__brush",N).selectAll(".overlay").data([el("overlay")]);D.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",wn.overlay).merge(D).each(function(){var B=Lg(this).extent;ue(this).attr("x",B[0][0]).attr("y",B[0][1]).attr("width",B[1][0]-B[0][0]).attr("height",B[1][1]-B[0][1])}),k.selectAll(".selection").data([el("selection")]).enter().append("rect").attr("class","selection").attr("cursor",wn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var O=k.selectAll(".handle").data(e.handles,function(B){return B.type});O.exit().remove(),O.enter().append("rect").attr("class",function(B){return"handle handle--"+B.type}).attr("cursor",function(B){return wn[B.type]}),k.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",x).filter(n).on("touchstart.brush",x).on("touchmove.brush",M).on("touchend.brush touchcancel.brush",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}f.move=function(k,D,O){k.tween?k.on("start.brush",function(B){h(this,arguments).beforestart().start(B)}).on("interrupt.brush end.brush",function(B){h(this,arguments).end(B)}).tween("brush",function(){var B=this,R=B.__brush,I=h(B,arguments),L=R.selection,$=e.input(typeof D=="function"?D.apply(this,arguments):D,R.extent),G=tt(L,$);function le(ne){R.selection=ne===1&&$===null?null:G(ne),c.call(B),I.brush()}return L!==null&&$!==null?le:le(1)}):k.each(function(){var B=this,R=arguments,I=B.__brush,L=e.input(typeof D=="function"?D.apply(B,R):D,I.extent),$=h(B,R).beforestart();jr(B),I.selection=L===null?null:L,c.call(B),$.start(O).brush(O).end(O)})},f.clear=function(k,D){f.move(k,null,D)};function c(){var k=ue(this),D=Lg(this).selection;D?(k.selectAll(".selection").style("display",null).attr("x",D[0][0]).attr("y",D[0][1]).attr("width",D[1][0]-D[0][0]).attr("height",D[1][1]-D[0][1]),k.selectAll(".handle").style("display",null).attr("x",function(O){return O.type[O.type.length-1]==="e"?D[1][0]-i/2:D[0][0]-i/2}).attr("y",function(O){return O.type[0]==="s"?D[1][1]-i/2:D[0][1]-i/2}).attr("width",function(O){return O.type==="n"||O.type==="s"?D[1][0]-D[0][0]+i:i}).attr("height",function(O){return O.type==="e"||O.type==="w"?D[1][1]-D[0][1]+i:i})):k.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function h(k,D,O){var B=k.__brush.emitter;return B&&(!O||!B.clean)?B:new y(k,D,O)}function y(k,D,O){this.that=k,this.args=D,this.state=k.__brush,this.active=0,this.clean=O}y.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(k,D){return this.starting?(this.starting=!1,this.emit("start",k,D)):this.emit("brush",k),this},brush:function(k,D){return this.emit("brush",k,D),this},end:function(k,D){return--this.active===0&&(delete this.state.emitter,this.emit("end",k,D)),this},emit:function(k,D,O){var B=ue(this.that).datum();o.call(k,this.that,new Pg(k,{sourceEvent:D,target:f,selection:e.output(this.state.selection),mode:O,dispatch:o}),B)}};function x(k){if(u&&!k.touches||!r.apply(this,arguments))return;var D=this,O=k.target.__data__.type,B=(a&&k.metaKey?O="overlay":O)==="selection"?L4:a&&k.altKey?mi:di,R=e===Os?null:wE[O],I=e===Ls?null:_E[O],L=Lg(D),$=L.extent,G=L.selection,le=$[0][0],ne,U,ae=$[0][1],J,H,ee=$[1][0],j,X,K=$[1][1],Z,te,fe=0,de=0,re,me=R&&I&&a&&k.shiftKey,Me,Oe,Ne=Array.from(k.touches||[k],xe=>{let Qe=xe.identifier;return xe=mt(xe,D),xe.point0=xe.slice(),xe.identifier=Qe,xe});jr(D);var Ue=h(D,arguments,!0).beforestart();if(O==="overlay"){G&&(re=!0);let xe=[Ne[0],Ne[1]||Ne[0]];L.selection=G=[[ne=e===Os?le:Et(xe[0][0],xe[1][0]),J=e===Ls?ae:Et(xe[0][1],xe[1][1])],[j=e===Os?ee:Dt(xe[0][0],xe[1][0]),Z=e===Ls?K:Dt(xe[0][1],xe[1][1])]],Ne.length>1&&Xe(k)}else ne=G[0][0],J=G[0][1],j=G[1][0],Z=G[1][1];U=ne,H=J,X=j,te=Z;var se=ue(D).attr("pointer-events","none"),_e=se.selectAll(".overlay").attr("cursor",wn[O]);if(k.touches)Ue.moved=ie,Ue.ended=Be;else{var be=ue(k.view).on("mousemove.brush",ie,!0).on("mouseup.brush",Be,!0);a&&be.on("keydown.brush",vt,!0).on("keyup.brush",nt,!0),eo(k.view)}c.call(D),Ue.start(k,B.name);function ie(xe){for(let Qe of xe.changedTouches||[xe])for(let Cn of Ne)Cn.identifier===Qe.identifier&&(Cn.cur=mt(Qe,D));if(me&&!Me&&!Oe&&Ne.length===1){let Qe=Ne[0];O4(Qe.cur[0]-Qe[0])>O4(Qe.cur[1]-Qe[1])?Oe=!0:Me=!0}for(let Qe of Ne)Qe.cur&&(Qe[0]=Qe.cur[0],Qe[1]=Qe.cur[1]);re=!0,Rs(xe),Xe(xe)}function Xe(xe){let Qe=Ne[0],Cn=Qe.point0;var Lt;switch(fe=Qe[0]-Cn[0],de=Qe[1]-Cn[1],B){case Rg:case L4:{R&&(fe=Dt(le-ne,Et(ee-j,fe)),U=ne+fe,X=j+fe),I&&(de=Dt(ae-J,Et(K-Z,de)),H=J+de,te=Z+de);break}case di:{Ne[1]?(R&&(U=Dt(le,Et(ee,Ne[0][0])),X=Dt(le,Et(ee,Ne[1][0])),R=1),I&&(H=Dt(ae,Et(K,Ne[0][1])),te=Dt(ae,Et(K,Ne[1][1])),I=1)):(R<0?(fe=Dt(le-ne,Et(ee-ne,fe)),U=ne+fe,X=j):R>0&&(fe=Dt(le-j,Et(ee-j,fe)),U=ne,X=j+fe),I<0?(de=Dt(ae-J,Et(K-J,de)),H=J+de,te=Z):I>0&&(de=Dt(ae-Z,Et(K-Z,de)),H=J,te=Z+de));break}case mi:{R&&(U=Dt(le,Et(ee,ne-fe*R)),X=Dt(le,Et(ee,j+fe*R))),I&&(H=Dt(ae,Et(K,J-de*I)),te=Dt(ae,Et(K,Z+de*I)));break}}X<U&&(R*=-1,Lt=ne,ne=j,j=Lt,Lt=U,U=X,X=Lt,O in F4&&_e.attr("cursor",wn[O=F4[O]])),te<H&&(I*=-1,Lt=J,J=Z,Z=Lt,Lt=H,H=te,te=Lt,O in H4&&_e.attr("cursor",wn[O=H4[O]])),L.selection&&(G=L.selection),Me&&(U=G[0][0],X=G[1][0]),Oe&&(H=G[0][1],te=G[1][1]),(G[0][0]!==U||G[0][1]!==H||G[1][0]!==X||G[1][1]!==te)&&(L.selection=[[U,H],[X,te]],c.call(D),Ue.brush(xe,B.name))}function Be(xe){if(P4(xe),xe.touches){if(xe.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500)}else to(xe.view,re),be.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);se.attr("pointer-events","all"),_e.attr("cursor",wn.overlay),L.selection&&(G=L.selection),kE(G)&&(L.selection=null,c.call(D)),Ue.end(xe,B.name)}function vt(xe){switch(xe.keyCode){case 16:{me=R&&I;break}case 18:{B===di&&(R&&(j=X-fe*R,ne=U+fe*R),I&&(Z=te-de*I,J=H+de*I),B=mi,Xe(xe));break}case 32:{(B===di||B===mi)&&(R<0?j=X-fe:R>0&&(ne=U-fe),I<0?Z=te-de:I>0&&(J=H-de),B=Rg,_e.attr("cursor",wn.selection),Xe(xe));break}default:return}Rs(xe)}function nt(xe){switch(xe.keyCode){case 16:{me&&(Me=Oe=me=!1,Xe(xe));break}case 18:{B===mi&&(R<0?j=X:R>0&&(ne=U),I<0?Z=te:I>0&&(J=H),B=di,Xe(xe));break}case 32:{B===Rg&&(xe.altKey?(R&&(j=X-fe*R,ne=U+fe*R),I&&(Z=te-de*I,J=H+de*I),B=mi):(R<0?j=X:R>0&&(ne=U),I<0?Z=te:I>0&&(J=H),B=di),_e.attr("cursor",wn[O]),Xe(xe));break}default:return}Rs(xe)}}function M(k){h(this,arguments).moved(k)}function A(k){h(this,arguments).ended(k)}function N(){var k=this.__brush||{selection:null};return k.extent=Og(t.apply(this,arguments)),k.dim=e,k}return f.extent=function(k){return arguments.length?(t=typeof k=="function"?k:Ps(Og(k)),f):t},f.filter=function(k){return arguments.length?(r=typeof k=="function"?k:Ps(!!k),f):r},f.touchable=function(k){return arguments.length?(n=typeof k=="function"?k:Ps(!!k),f):n},f.handleSize=function(k){return arguments.length?(i=+k,f):i},f.keyModifiers=function(k){return arguments.length?(a=!!k,f):a},f.on=function(){var k=o.on.apply(o,arguments);return k===o?f:k},f}var L4,Rg,di,mi,O4,Dt,Et,Ls,Os,yE,wn,F4,H4,wE,_E,G4=T(()=>{Za();ys();Zt();Nt();zs();I4();z4();R4();L4={name:"drag"},Rg={name:"space"},di={name:"handle"},mi={name:"center"},{abs:O4,max:Dt,min:Et}=Math;Ls={name:"x",handles:["w","e"].map(el),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Os={name:"y",handles:["n","s"].map(el),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},yE={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(el),input:function(e){return e==null?null:Og(e)},output:function(e){return e}},wn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},F4={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},H4={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},wE={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},_E={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1}});var U4={};At(U4,{brush:()=>$4,brushSelection:()=>Y4,brushX:()=>q4,brushY:()=>W4});var Fg=T(()=>{G4()});var tl,X4=T(()=>{tl=e=>()=>e});function Hg(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}var j4=T(()=>{});function xr(e,t,r){this.k=e,this.x=t,this.y=r}function Bs(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Qr;return e.__zoom}var Qr,Yg=T(()=>{xr.prototype={constructor:xr,scale:function(e){return e===1?this:new xr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new xr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Qr=new xr(1,0,0);Bs.prototype=xr.prototype});function Fs(e){e.stopImmediatePropagation()}function hi(e){e.preventDefault(),e.stopImmediatePropagation()}var Q4=T(()=>{});function CE(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function TE(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function K4(){return this.__zoom||Qr}function VE(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function NE(){return navigator.maxTouchPoints||"ontouchstart"in this}function DE(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],o=e.invertY(t[0][1])-r[0][1],i=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function Hs(){var e=CE,t=TE,r=DE,n=VE,a=NE,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],u=250,f=Zm,c=Xr("start","zoom","end"),h,y,x,M=500,A=150,N=0,k=10;function D(H){H.property("__zoom",K4).on("wheel.zoom",G,{passive:!1}).on("mousedown.zoom",le).on("dblclick.zoom",ne).filter(a).on("touchstart.zoom",U).on("touchmove.zoom",ae).on("touchend.zoom touchcancel.zoom",J).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}D.transform=function(H,ee,j,X){var K=H.selection?H.selection():H;K.property("__zoom",K4),H!==K?I(H,ee,j,X):K.interrupt().each(function(){L(this,arguments).event(X).start().zoom(null,typeof ee=="function"?ee.apply(this,arguments):ee).end()})},D.scaleBy=function(H,ee,j,X){D.scaleTo(H,function(){var K=this.__zoom.k,Z=typeof ee=="function"?ee.apply(this,arguments):ee;return K*Z},j,X)},D.scaleTo=function(H,ee,j,X){D.transform(H,function(){var K=t.apply(this,arguments),Z=this.__zoom,te=j==null?R(K):typeof j=="function"?j.apply(this,arguments):j,fe=Z.invert(te),de=typeof ee=="function"?ee.apply(this,arguments):ee;return r(B(O(Z,de),te,fe),K,i)},j,X)},D.translateBy=function(H,ee,j,X){D.transform(H,function(){return r(this.__zoom.translate(typeof ee=="function"?ee.apply(this,arguments):ee,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),i)},null,X)},D.translateTo=function(H,ee,j,X,K){D.transform(H,function(){var Z=t.apply(this,arguments),te=this.__zoom,fe=X==null?R(Z):typeof X=="function"?X.apply(this,arguments):X;return r(Qr.translate(fe[0],fe[1]).scale(te.k).translate(typeof ee=="function"?-ee.apply(this,arguments):-ee,typeof j=="function"?-j.apply(this,arguments):-j),Z,i)},X,K)};function O(H,ee){return ee=Math.max(o[0],Math.min(o[1],ee)),ee===H.k?H:new xr(ee,H.x,H.y)}function B(H,ee,j){var X=ee[0]-j[0]*H.k,K=ee[1]-j[1]*H.k;return X===H.x&&K===H.y?H:new xr(H.k,X,K)}function R(H){return[(+H[0][0]+ +H[1][0])/2,(+H[0][1]+ +H[1][1])/2]}function I(H,ee,j,X){H.on("start.zoom",function(){L(this,arguments).event(X).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(X).end()}).tween("zoom",function(){var K=this,Z=arguments,te=L(K,Z).event(X),fe=t.apply(K,Z),de=j==null?R(fe):typeof j=="function"?j.apply(K,Z):j,re=Math.max(fe[1][0]-fe[0][0],fe[1][1]-fe[0][1]),me=K.__zoom,Me=typeof ee=="function"?ee.apply(K,Z):ee,Oe=f(me.invert(de).concat(re/me.k),Me.invert(de).concat(re/Me.k));return function(Ne){if(Ne===1)Ne=Me;else{var Ue=Oe(Ne),se=re/Ue[2];Ne=new xr(se,de[0]-Ue[0]*se,de[1]-Ue[1]*se)}te.zoom(null,Ne)}})}function L(H,ee,j){return!j&&H.__zooming||new $(H,ee)}function $(H,ee){this.that=H,this.args=ee,this.active=0,this.sourceEvent=null,this.extent=t.apply(H,ee),this.taps=0}$.prototype={event:function(H){return H&&(this.sourceEvent=H),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(H,ee){return this.mouse&&H!=="mouse"&&(this.mouse[1]=ee.invert(this.mouse[0])),this.touch0&&H!=="touch"&&(this.touch0[1]=ee.invert(this.touch0[0])),this.touch1&&H!=="touch"&&(this.touch1[1]=ee.invert(this.touch1[0])),this.that.__zoom=ee,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(H){var ee=ue(this.that).datum();c.call(H,this.that,new Hg(H,{sourceEvent:this.sourceEvent,target:D,type:H,transform:this.that.__zoom,dispatch:c}),ee)}};function G(H,...ee){if(!e.apply(this,arguments))return;var j=L(this,ee).event(H),X=this.__zoom,K=Math.max(o[0],Math.min(o[1],X.k*Math.pow(2,n.apply(this,arguments)))),Z=mt(H);if(j.wheel)(j.mouse[0][0]!==Z[0]||j.mouse[0][1]!==Z[1])&&(j.mouse[1]=X.invert(j.mouse[0]=Z)),clearTimeout(j.wheel);else{if(X.k===K)return;j.mouse=[Z,X.invert(Z)],jr(this),j.start()}hi(H),j.wheel=setTimeout(te,A),j.zoom("mouse",r(B(O(X,K),j.mouse[0],j.mouse[1]),j.extent,i));function te(){j.wheel=null,j.end()}}function le(H,...ee){if(x||!e.apply(this,arguments))return;var j=H.currentTarget,X=L(this,ee,!0).event(H),K=ue(H.view).on("mousemove.zoom",de,!0).on("mouseup.zoom",re,!0),Z=mt(H,j),te=H.clientX,fe=H.clientY;eo(H.view),Fs(H),X.mouse=[Z,this.__zoom.invert(Z)],jr(this),X.start();function de(me){if(hi(me),!X.moved){var Me=me.clientX-te,Oe=me.clientY-fe;X.moved=Me*Me+Oe*Oe>N}X.event(me).zoom("mouse",r(B(X.that.__zoom,X.mouse[0]=mt(me,j),X.mouse[1]),X.extent,i))}function re(me){K.on("mousemove.zoom mouseup.zoom",null),to(me.view,X.moved),hi(me),X.event(me).end()}}function ne(H,...ee){if(!!e.apply(this,arguments)){var j=this.__zoom,X=mt(H.changedTouches?H.changedTouches[0]:H,this),K=j.invert(X),Z=j.k*(H.shiftKey?.5:2),te=r(B(O(j,Z),X,K),t.apply(this,ee),i);hi(H),u>0?ue(this).transition().duration(u).call(I,te,X,H):ue(this).call(D.transform,te,X,H)}}function U(H,...ee){if(!!e.apply(this,arguments)){var j=H.touches,X=j.length,K=L(this,ee,H.changedTouches.length===X).event(H),Z,te,fe,de;for(Fs(H),te=0;te<X;++te)fe=j[te],de=mt(fe,this),de=[de,this.__zoom.invert(de),fe.identifier],K.touch0?!K.touch1&&K.touch0[2]!==de[2]&&(K.touch1=de,K.taps=0):(K.touch0=de,Z=!0,K.taps=1+!!h);h&&(h=clearTimeout(h)),Z&&(K.taps<2&&(y=de[0],h=setTimeout(function(){h=null},M)),jr(this),K.start())}}function ae(H,...ee){if(!!this.__zooming){var j=L(this,ee).event(H),X=H.changedTouches,K=X.length,Z,te,fe,de;for(hi(H),Z=0;Z<K;++Z)te=X[Z],fe=mt(te,this),j.touch0&&j.touch0[2]===te.identifier?j.touch0[0]=fe:j.touch1&&j.touch1[2]===te.identifier&&(j.touch1[0]=fe);if(te=j.that.__zoom,j.touch1){var re=j.touch0[0],me=j.touch0[1],Me=j.touch1[0],Oe=j.touch1[1],Ne=(Ne=Me[0]-re[0])*Ne+(Ne=Me[1]-re[1])*Ne,Ue=(Ue=Oe[0]-me[0])*Ue+(Ue=Oe[1]-me[1])*Ue;te=O(te,Math.sqrt(Ne/Ue)),fe=[(re[0]+Me[0])/2,(re[1]+Me[1])/2],de=[(me[0]+Oe[0])/2,(me[1]+Oe[1])/2]}else if(j.touch0)fe=j.touch0[0],de=j.touch0[1];else return;j.zoom("touch",r(B(te,fe,de),j.extent,i))}}function J(H,...ee){if(!!this.__zooming){var j=L(this,ee).event(H),X=H.changedTouches,K=X.length,Z,te;for(Fs(H),x&&clearTimeout(x),x=setTimeout(function(){x=null},M),Z=0;Z<K;++Z)te=X[Z],j.touch0&&j.touch0[2]===te.identifier?delete j.touch0:j.touch1&&j.touch1[2]===te.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(te=mt(te,this),Math.hypot(y[0]-te[0],y[1]-te[1])<k)){var fe=ue(this).on("dblclick.zoom");fe&&fe.apply(this,arguments)}}}return D.wheelDelta=function(H){return arguments.length?(n=typeof H=="function"?H:tl(+H),D):n},D.filter=function(H){return arguments.length?(e=typeof H=="function"?H:tl(!!H),D):e},D.touchable=function(H){return arguments.length?(a=typeof H=="function"?H:tl(!!H),D):a},D.extent=function(H){return arguments.length?(t=typeof H=="function"?H:tl([[+H[0][0],+H[0][1]],[+H[1][0],+H[1][1]]]),D):t},D.scaleExtent=function(H){return arguments.length?(o[0]=+H[0],o[1]=+H[1],D):[o[0],o[1]]},D.translateExtent=function(H){return arguments.length?(i[0][0]=+H[0][0],i[1][0]=+H[1][0],i[0][1]=+H[0][1],i[1][1]=+H[1][1],D):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},D.constrain=function(H){return arguments.length?(r=H,D):r},D.duration=function(H){return arguments.length?(u=+H,D):u},D.interpolate=function(H){return arguments.length?(f=H,D):f},D.on=function(){var H=c.on.apply(c,arguments);return H===c?D:H},D.clickDistance=function(H){return arguments.length?(N=(H=+H)*H,D):Math.sqrt(N)},D.tapDistance=function(H){return arguments.length?(k=+H,D):k},D}var Z4=T(()=>{Za();ys();Zt();Nt();zs();X4();j4();Yg();Q4()});var J4={};At(J4,{ZoomTransform:()=>xr,zoom:()=>Hs,zoomIdentity:()=>Qr,zoomTransform:()=>Bs});var qg=T(()=>{Z4();Yg()});var Pe=Ox((Ys,eS)=>{(function(e,t){typeof Ys=="object"&&typeof eS<"u"?t(Ys,(Mm(),ar(Sm)),(tp(),ar(Y2)),(Wo(),ar(x2)),(up(),ar(mw)),(gp(),ar(Pw)),(Bn(),ar(Ow)),(Nt(),ar(c3)),(Jp(),ar(B8)),(Cg(),ar(S6)),(Za(),ar(C6)),(Fg(),ar(U4)),(qg(),ar(J4))):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-scale","d3-time","d3-random","d3-fetch","d3-path","d3-selection","d3-shape","d3-scale-chromatic","d3-dispatch","d3-brush","d3-zoom"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.fc={},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3))})(Ys,function(e,t,r,n,a,o,i,u,f,c,h,y,x){"use strict";var M=function(l,s,d){var p=s[d];if(typeof p!="function")throw new Error("Attempt to rebind ".concat(d," which isn't a function on the source object"));return function(){for(var b=arguments.length,w=new Array(b),m=0;m<b;m++)w[m]=arguments[m];var g=p.apply(s,w);return g===s?l:g}},A=function(l,s){for(var d=arguments.length,p=new Array(d>2?d-2:0),b=2;b<d;b++)p[b-2]=arguments[b];for(var w=0,m=p;w<m.length;w++){var g=m[w];l[g]=M(l,s,g)}return l},N=function(s){return function(d){return s.reduce(function(p,b){return p&&b(p)},d)}},k=function(l,s){for(var d=arguments.length,p=new Array(d>2?d-2:0),b=2;b<d;b++)p[b-2]=arguments[b];for(var w=N(p),m=0,g=Object.keys(s);m<g.length;m++){var v=g[m],_=w(v);_&&(l[_]=M(l,s,v))}return l},D=function(l){return l.map(function(s){return typeof s=="string"?new RegExp("^".concat(s,"$")):s})},O=function(){for(var l=arguments.length,s=new Array(l),d=0;d<l;d++)s[d]=arguments[d];return s=D(s),function(p){return s.every(function(b){return!b.test(p)})&&p}},B=function(){for(var l=arguments.length,s=new Array(l),d=0;d<l;d++)s[d]=arguments[d];return s=D(s),function(p){return s.some(function(b){return b.test(p)})&&p}},R=function(l){return function(s){return l[s]}},I=function(s){return s[0].toUpperCase()+s.slice(1)},L=function(l){return function(s){return l+I(s)}};function $(l){return l}function G(l){}function le(l){return typeof l=="function"?l:function(){return l}}function ne(l){return typeof l=="number"&&isNaN(l)?void 0:l}function U(){var l=function(){return 10},s=G,d=$,p=function(m){return m!=null},b=function(m){var g=l.apply(this,arguments),v=m.slice(0,g).map(d);return m.map(function(_,S){return S>=g&&(v.shift(),v.push(d(_,S))),S<g-1||v.some(function(C){return!p(C)})?s(void 0,S):s(v,S)})};return b.period=function(){return arguments.length?(l=le(arguments.length<=0?void 0:arguments[0]),b):l},b.accumulator=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],b):s},b.defined=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],b):p},b.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},b}function ae(){var l=2,s=U().accumulator(function(p){var b=p&&t.deviation(p),w=p&&t.mean(p);return{average:w,upper:ne(w+l*b),lower:ne(w-l*b)}}),d=function(b){return s(b)};return d.multiplier=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],d):l},A(d,s,"period","value"),d}function J(){var l=$,s=function(){return 9},d=function(w){var m=[];return function(g){var v;return m.length<w&&(g!=null?m.push(g):m=[]),m.length>=w&&(v=t.mean(m)),v}},p=function(w){var m=s.apply(this,arguments),g=2/(m+1),v=d(m),_;return w.map(function(S,C){var V=l(S,C);return _===void 0?_=v(V):_=V*g+(1-g)*_,ne(_)})};return p.period=function(){return arguments.length?(s=le(arguments.length<=0?void 0:arguments[0]),p):s},p.value=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},p}function H(){var l=$,s=J().period(12),d=J().period(26),p=J().period(9),b=function(m){s.value(l),d.value(l);var g=t.zip(s(m),d(m)).map(function(_){return _[0]!==void 0&&_[1]!==void 0?_[0]-_[1]:void 0}),v=p(g);return t.zip(g,v).map(function(_){return{macd:_[0],signal:_[1],divergence:_[0]!==void 0&&_[1]!==void 0?_[0]-_[1]:void 0}})};return b.value=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],b):l},k(b,s,R({period:"fastPeriod"})),k(b,d,R({period:"slowPeriod"})),k(b,p,R({period:"signalPeriod"})),b}function ee(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ee=function(s){return typeof s}:ee=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},ee(l)}function j(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}function X(l,s){for(var d=0;d<s.length;d++){var p=s[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function K(l,s,d){return s&&X(l.prototype,s),d&&X(l,d),l}function Z(l,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(s&&s.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),s&&fe(l,s)}function te(l){return te=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},te(l)}function fe(l,s){return fe=Object.setPrototypeOf||function(p,b){return p.__proto__=b,p},fe(l,s)}function de(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function re(l,s,d){return de()?re=Reflect.construct:re=function(b,w,m){var g=[null];g.push.apply(g,w);var v=Function.bind.apply(b,g),_=new v;return m&&fe(_,m.prototype),_},re.apply(null,arguments)}function me(l){return Function.toString.call(l).indexOf("[native code]")!==-1}function Me(l){var s=typeof Map=="function"?new Map:void 0;return Me=function(p){if(p===null||!me(p))return p;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(typeof s<"u"){if(s.has(p))return s.get(p);s.set(p,b)}function b(){return re(p,arguments,te(this).constructor)}return b.prototype=Object.create(p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),fe(b,p)},Me(l)}function Oe(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Ne(l,s){return s&&(typeof s=="object"||typeof s=="function")?s:Oe(l)}function Ue(l){var s=de();return function(){var p=te(l),b;if(s){var w=te(this).constructor;b=Reflect.construct(p,arguments,w)}else b=p.apply(this,arguments);return Ne(this,b)}}function se(l,s){return Xe(l)||vt(l,s)||nt(l,s)||Cn()}function _e(l){return Xe(l)||Be(l)||nt(l)||Cn()}function be(l){return ie(l)||Be(l)||nt(l)||Qe()}function ie(l){if(Array.isArray(l))return xe(l)}function Xe(l){if(Array.isArray(l))return l}function Be(l){if(typeof Symbol<"u"&&Symbol.iterator in Object(l))return Array.from(l)}function vt(l,s){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(l)))){var d=[],p=!0,b=!1,w=void 0;try{for(var m=l[Symbol.iterator](),g;!(p=(g=m.next()).done)&&(d.push(g.value),!(s&&d.length===s));p=!0);}catch(v){b=!0,w=v}finally{try{!p&&m.return!=null&&m.return()}finally{if(b)throw w}}return d}}function nt(l,s){if(!!l){if(typeof l=="string")return xe(l,s);var d=Object.prototype.toString.call(l).slice(8,-1);if(d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set")return Array.from(l);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return xe(l,s)}}function xe(l,s){(s==null||s>l.length)&&(s=l.length);for(var d=0,p=new Array(s);d<s;d++)p[d]=l[d];return p}function Qe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lt(l,s){var d;if(typeof Symbol>"u"||l[Symbol.iterator]==null){if(Array.isArray(l)||(d=nt(l))||s&&l&&typeof l.length=="number"){d&&(l=d);var p=0,b=function(){};return{s:b,n:function(){return p>=l.length?{done:!0}:{done:!1,value:l[p++]}},e:function(v){throw v},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=!0,m=!1,g;return{s:function(){d=l[Symbol.iterator]()},n:function(){var v=d.next();return w=v.done,v},e:function(v){m=!0,g=v},f:function(){try{!w&&d.return!=null&&d.return()}finally{if(m)throw g}}}}function CA(){var l=U().period(14),s=function(v,_){return _+(v[v.length-1]-_)/v.length},d=function(v){var _=se(v,2),S=_[0],C=_[1];return S<C?0:S-C},p=function(v){var _=se(v,2),S=_[0],C=_[1];return S>C?0:C-S},b=function(v,_){return _!==void 0?s(v,_):t.mean(v)},w=function(){var v,_,S;return function(C){if(!C){v!==void 0&&(v=NaN);return}if(v===void 0){v=C[0];return}var V=t.pairs([v].concat(be(C)));_=b(V.map(d),_),S=b(V.map(p),S);var E=isNaN(v)?NaN:S/_;return ne(100-100/(1+E))}},m=function(v){var _=w();return l.accumulator(_),l(v)};return A(m,l,"period","value"),m}function ev(){var l=U().accumulator(function(d){return d&&t.mean(d)}),s=function(p){return l(p)};return A(s,l,"period","value"),s}function TA(){var l=function(g,v){return g.close},s=function(g,v){return g.high},d=function(g,v){return g.low},p=U().period(5).defined(function(m){return l(m)!=null&&s(m)!=null&&d(m)!=null}).accumulator(function(m){var g=m&&t.max(m,s),v=m&&t.min(m,d),_=m&&100*(l(m[m.length-1])-v)/(g-v);return ne(_)}),b=ev().period(3),w=function(g){var v=p(g),_=b(v);return v.map(function(S,C){return{k:S,d:_[C]}})};return w.closeValue=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],w):l},w.highValue=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],w):s},w.lowValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},k(w,p,R({period:"kPeriod"})),k(w,b,R({period:"dPeriod"})),w}function VA(){var l=function(m,g){return m.volume},s=function(m,g){return m.close},d=J().period(13),p=U().period(2).defined(function(w){return s(w)!=null&&l(w)!=null}).accumulator(function(w){return w&&ne((s(w[1])-s(w[0]))*l(w[1]))}),b=function(m){var g=p(m);return d(g)};return b.volumeValue=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],b):l},b.closeValue=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],b):s},A(b,d,"period"),b}function NA(){var l=.1,s=$,d=function(b){return b.map(function(w){var m=ne(s(w)*(1-l)),g=ne(s(w)*(1+l));return{lower:m,upper:g}})};return d.factor=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],d):l},d.value=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],d):s},d}function DA(){var l=function(m,g){return m.close},s=function(m,g){return m.high},d=function(m,g){return m.low},p=J().period(13),b=function(m){return p.value(l),t.zip(m,p(m)).map(function(g){var v=ne(s(g[0])-g[1]),_=ne(d(g[0])-g[1]);return{bullPower:v,bearPower:_}})};return b.closeValue=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],b):l},b.highValue=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],b):s},b.lowValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},A(b,p,"period"),b}function tv(){var l={};return l.distance=function(s,d){return d-s},l.offset=function(s,d){return s instanceof Date?new Date(s.getTime()+d):s+d},l.clampUp=function(s){return s},l.clampDown=function(s){return s},l.copy=function(){return l},l}function EA(l,s){var d=l.map(s.clampUp);return d.length!==new Set(d.map(function(p){return p?.valueOf()})).size&&console.warn("There are multiple ticks that fall within a discontinuity, which has led to them being rendered on top of each other. Consider using scale.ticks to explicitly specify the ticks for the scale."),d}function rv(l){var s=this;arguments.length||(l=r.scaleIdentity());var d=tv(),p=function(w){var m=l.domain(),g=l.range(),v=d.distance(m[0],m[1]),_=d.distance(m[0],w),S=_/v,C=S*(g[1]-g[0])+g[0];return C};return p.invert=function(b){var w=l.domain(),m=l.range(),g=(b-m[0])/(m[1]-m[0]),v=d.distance(w[0],w[1]),_=g*v;return d.offset(w[0],_)},p.domain=function(){if(!arguments.length)return l.domain();var b=arguments.length<=0?void 0:arguments[0],w=d.clampUp(b[0]),m=d.clampDown(b[1]);return l.domain([w,m]),p},p.nice=function(){l.nice();var b=l.domain(),w=d.clampUp(b[0]),m=d.clampDown(b[1]);return l.domain([w,m]),p},p.ticks=function(){for(var b=arguments.length,w=new Array(b),m=0;m<b;m++)w[m]=arguments[m];var g=l.ticks.apply(s,w);return EA(g,d)},p.copy=function(){return rv(l.copy()).discontinuityProvider(d.copy())},p.discontinuityProvider=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},k(p,l,B("range","rangeRound","interpolate","clamp","tickFormat")),p}var nv=function(s,d,p,b){var w={sunday:0,monday:1,saturday:6},m=24*3600*1e3,g=m*5,v=m*7,_={},S=function(V){return s(V)===0||s(V)===6};return _.clampDown=function(C){if(C&&S(C)){var V=d.ceil(C);return s(V)===w.sunday?d.offset(V,-1):s(V)===w.monday?d.offset(V,-2):V}else return C},_.clampUp=function(C){if(C&&S(C)){var V=d.floor(C);return s(V)===w.saturday?d.offset(V,2):s(V)===w.sunday?d.offset(V,1):V}else return C},_.distance=function(C,V){C=_.clampUp(C),V=_.clampDown(V);var E=p.ceil(C);if(V<E)return V.getTime()-C.getTime();var P=E.getTime()-C.getTime(),z=p.ceil(V),F=z.getTime()-V.getTime(),Y=Math.round((z.getTime()-E.getTime())/v);return Y*g+P-F},_.offset=function(C,V){var E=S(C)?_.clampUp(C):C;if(V===0)return E;var P=V<0,z=V>0,F=V,Y=P?b.floor(E):p.ceil(E);if(F-=Y.getTime()-E.getTime(),P&&F>0||z&&F<0)return new Date(E.getTime()+V);E=P?Y:d.offset(Y,2);var q=Math.floor(F/g);return E=d.offset(E,q*7),F-=q*g,E=new Date(E.getTime()+F),E},_.copy=function(){return _},_},IA=function(){return nv(function(l){return l.getDay()},n.timeDay,n.timeSaturday,n.timeMonday)},zA=function(){return nv(function(l){return l.getUTCDay()},n.utcDay,n.utcSaturday,n.utcMonday)},PA=function(){for(var s=arguments.length,d=new Array(s),p=0;p<s;p++)d[p]=arguments[p];var b=function(_,S){return _>S[0]&&_<S[1]},w=function(_,S){return _[0]>=S[0]&&_[1]<=S[1]},m={};m.distance=function(v,_){v=m.clampUp(v),_=m.clampDown(_);var S=d.filter(function(V){return w(V,[v,_])}),C=S.map(function(V){return V[1]-V[0]});return _-v-C.reduce(function(V,E){return V+E},0)};var g=function(_,S){return _ instanceof Date?new Date(_.getTime()+S):_+S};return m.offset=function(v,_){if(_>0){var S=function(){for(var V=m.clampUp(v),E=_;E>0;){var P=d.filter(function(Y){return Y[0]>V}).sort(function(Y,q){return Y[0]-q[0]});if(P.length){var z=P[0],F=z[0]-V;F>E?(V=g(V,E),E=0):(V=z[1],E-=F)}else V=g(V,E),E=0}return{v:V}}();if(ee(S)==="object")return S.v}else{var C=function(){for(var V=m.clampDown(v),E=_;E<0;){var P=d.filter(function(Y){return Y[1]<V}).sort(function(Y,q){return q[0]-Y[0]});if(P.length){var z=P[0],F=z[1]-V;F<E?(V=g(V,E),E=0):(V=z[0],E-=F)}else V=g(V,E),E=0}return{v:V}}();if(ee(C)==="object")return C.v}},m.clampUp=function(v){return d.reduce(function(_,S){return b(_,S)?S[1]:_},v)},m.clampDown=function(v){return d.reduce(function(_,S){return b(_,S)?S[0]:_},v)},m.copy=function(){return m},m},Sl=24*3600*1e3,tr="00:00:00.000",RA="SOD",LA="EOD";function av(l){if(arguments.length!==1||typeof l!="string")throw"Expected single argument of type string";var s=function(m,g){return Number.isInteger(m)?m>=0&&m<=g:!1},d=[0,0,0,0],p=l.split(":");if(p.length<2||p.length>3)throw"Expected an argument wiht 2 or 3 colon delimited parts.";if(d[0]=s(parseInt(p[0],10),23)?parseInt(p[0],10):function(){throw"'Hours' component must be an int between 0 and 23, but was '".concat(p[0],"'")}(),d[1]=s(parseInt(p[1],10),59)?parseInt(p[1],10):function(){throw"'Minutes' component must be an int between 0 and 59, but was '".concat(p[1],"'")}(),p.length===3){var b=p[2].split(".").map(function(w){return parseInt(w,10)});d[2]=s(b[0],59)?b[0]:function(){throw"'Seconds' component must be an int between 0 and 59, but was '".concat(b[0],"'")}(),b.length===2&&(d[3]=s(b[1],999)?b[1]:function(){throw"'Miliseconds' component must be an int between 0 and 999, but was '".concat(b[1],"'")}())}return"".concat(d[0].toString(10).padStart(2,"0"),":").concat(d[1].toString(10).padStart(2,"0"),":").concat(d[2].toString(10).padStart(2,"0"),".").concat(d[3].toString(10).padStart(3,"0"))}function OA(l,s){if(arguments.length!=2||!Array.isArray(l)||l.length!==2||typeof l[0]!="string"||typeof l[1]!="string")throw"Expected argument is a single string[] of length 2.";l[0]===RA&&(l[0]=tr),l[1]===LA&&(l[1]=tr);var d=av(l[0]),p=av(l[1]);if(p!==tr&&d>p)throw"Time range start time '".concat(d,"' must be before end time '").concat(p,"' or both must equal ").concat(tr);var b=s.setTime(new Date(p===tr?Sl:0),p)-s.setTime(new Date(0),d),w={startTime:d,endTime:p,lenghtInMs:b};return w.isInRange=function(m){var g=s.getTimeString(m);return w.startTime<=g&&(w.endTime===tr||w.endTime>g)},w}var ga=function(s,d){var p=s.map(function(g){return OA(g,d)}).sort(function(g,v){return g.startTime<v.startTime?-1:g.startTime>v.startTime?1:0}),b=Sl-p.reduce(function(g,v){return g+v.lenghtInMs},0),w=function(v,_){if(v.getTime()===_.getTime())return 0;if(d.dayInterval(v).getTime()!==d.dayInterval(_).getTime()&&d.getStartOfNextDay(v).getTime()!==_.getTime())throw"tradingDay.totalTradingMillisecondsBetween arguments must be on the same day or intervalEnd must be the start of the next day instead: intervalStart: '".concat(v,"'; intervalEnd: '").concat(_,"'");var S=0,C=p.filter(function(Y){return Y.endTime===tr||d.setTime(v,Y.endTime)>=v}),V=Lt(C),E;try{for(V.s();!(E=V.n()).done;){var P=E.value,z=d.setTime(v,P.startTime),F=P.endTime===tr?d.getStartOfNextDay(v):d.setTime(v,P.endTime);if(v<z&&_<z)return S+d.msInterval.count(v,_);if(v<z&&(S+=d.msInterval.count(v,z)),_<F)return S;v=F}}catch(Y){V.e(Y)}finally{V.f()}return S+d.msInterval.count(v,_)},m=function(v,_){if(_===0)return[v,_];var S=d.msInterval.offset(v,_),C=_>0?p.filter(function(Q){return d.setTime(v,Q.startTime)>=v}):p.filter(function(Q){return d.setTime(v,Q.startTime)<v}).reverse();if(C.length===0)return[d.msInterval.offset(v,_),0];if(_>0){var V=Lt(C),E;try{for(V.s();!(E=V.n()).done;){var P=E.value,z=d.setTime(v,P.startTime);z<=S&&(_-=d.msInterval.count(v,z),v=P.endTime===tr?d.getStartOfNextDay(v):d.setTime(v,P.endTime),S=d.msInterval.offset(v,_))}}catch(Q){V.e(Q)}finally{V.f()}_-=d.msInterval.count(v,S)}else{var F=Lt(C),Y;try{for(F.s();!(Y=F.n()).done;){var q=Y.value,W=q.endTime===tr?d.getStartOfNextDay(v):d.setTime(v,q.endTime);S<W&&(_+=d.msInterval.count(W,v)+1,v=d.msInterval.offset(d.setTime(v,q.startTime),-1),S=d.msInterval.offset(v,_))}}catch(Q){F.e(Q)}finally{F.f()}_+=d.msInterval.count(S,v)}if(_!==0)throw"tradingDay.offset was called with an offset that spans more than a day";return[S,_]};return{totalTradingTimeInMiliseconds:b,nonTradingTimeRanges:p,totalTradingMillisecondsBetween:w,offset:m}},ov=function(s,d,p,b,w){var m={};return m.getTimeComponentArrayFromString=function(g){return[g.slice(0,2),g.slice(3,5),g.slice(6,8),g.slice(9,12)]},m.getTimeString=function(g){var v=p(g).map(function(P){return P.toString(10).padStart(2,"0")}),_=se(v,4),S=_[0],C=_[1],V=_[2],E=_[3];return"".concat(S,":").concat(C,":").concat(V,".").concat(E.padStart(3,"0"))},m.setTime=function(g,v){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,S=m.getTimeComponentArrayFromString(v),C=se(S,4),V=C[0],E=C[1],P=C[2],z=C[3];return w.offset(s(g,V,E,P,z),_)},m.getStartOfNextDay=function(g){return b.offset(b.floor(g),1)},m.getEndOfPreviousDay=function(g){return w.offset(b.floor(g),-1)},m.dayInterval=b,m.msInterval=w,m.getDay=d,m},BA=ov(function(l,s,d,p,b){return new Date(l.getFullYear(),l.getMonth(),l.getDate(),s,d,p,b)},function(l){return l.getDay()},function(l){return[l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()]},n.timeDay,n.timeMillisecond),iv=function(s,d){var p=function(v){return s[v]===void 0?[]:s[v]},b=[ga(p("Sunday"),d),ga(p("Monday"),d),ga(p("Tuesday"),d),ga(p("Wednesday"),d),ga(p("Thursday"),d),ga(p("Friday"),d),ga(p("Saturday"),d)],w=b.reduce(function(g,v){return g+v.totalTradingTimeInMiliseconds},0);if(w===0)throw"Trading pattern must yield at least 1 ms of trading time";var m={tradingDays:b,totalTradingWeekMilliseconds:w};return m.clampUp=function(g){var v=b[d.getDay(g)],_=Lt(v.nonTradingTimeRanges),S;try{for(_.s();!(S=_.n()).done;){var C=S.value;if(C.isInRange(g))return C.endTime===tr?m.clampUp(d.getStartOfNextDay(g)):d.setTime(g,C.endTime)}}catch(V){_.e(V)}finally{_.f()}return g},m.clampDown=function(g){var v=b[d.getDay(g)],_=Lt(v.nonTradingTimeRanges),S;try{for(_.s();!(S=_.n()).done;){var C=S.value;if(C.isInRange(g))return C.startTime===tr?m.clampDown(d.getEndOfPreviousDay(g)):d.setTime(g,C.startTime,-1)}}catch(V){_.e(V)}finally{_.f()}return g},m.distance=function(g,v){if(g.getTime()===v.getTime())return 0;var _=g<=v?[g,v,1]:[v,g,-1],S=se(_,3),C=S[0],V=S[1],E=S[2];if(d.dayInterval(C).getTime()===d.dayInterval(V).getTime())return m.tradingDays[d.getDay(C)].totalTradingMillisecondsBetween(C,V);var P=m.tradingDays[d.getDay(C)].totalTradingMillisecondsBetween(C,d.dayInterval.offset(d.dayInterval(C),1))+m.tradingDays[d.getDay(V)].totalTradingMillisecondsBetween(d.dayInterval(V),V);return d.dayInterval.count(C,V)===1?P:(C=d.dayInterval.offset(d.dayInterval(C),1),V=d.dayInterval(V),E*d.dayInterval.range(C,V).reduce(function(z,F,Y,q){var W=Y<q.length-1?q[Y+1]:d.dayInterval.offset(F,1),Q=W-F!==Sl,oe=m.tradingDays[d.getDay(F)];return z+=Q?oe.totalTradingMillisecondsBetween(F,W):oe.totalTradingTimeInMiliseconds},P))},m.offset=function(g,v){g=v>=0?m.clampUp(g):m.clampDown(g);var _=function(Q){return d.dayInterval.offset(Q)-d.dayInterval(Q)!==Sl},S=function(Q,oe,pe){if(pe<0){var ge=d.dayInterval(oe),he=Q.totalTradingMillisecondsBetween(ge,oe);return Math.abs(pe)<=he?Q.offset(oe,pe):[m.clampDown(d.msInterval.offset(ge,-1)),pe+he+1]}else{var Ce=d.getStartOfNextDay(oe),xt=Q.totalTradingMillisecondsBetween(oe,Ce);return pe<xt?Q.offset(oe,pe):[m.clampUp(Ce),pe-xt]}};if(v===0)return g;var C=v<0?function(W,Q,oe){return[m.clampDown(d.dayInterval.offset(W,-1)),Q+oe]}:function(W,Q,oe){return[m.clampUp(d.dayInterval.offset(W)),Q-oe]},V=m.tradingDays[d.getDay(g)],E=S(V,g,v),P=se(E,2);for(g=P[0],v=P[1];v!==0;)if(V=m.tradingDays[d.getDay(g)],_(g)){var z=S(V,g,v),F=se(z,2);g=F[0],v=F[1]}else{var Y=Math.abs(v)>=V.totalTradingTimeInMiliseconds?C(g,v,V.totalTradingTimeInMiliseconds):S(V,g,v),q=se(Y,2);g=q[0],v=q[1]}return g},m.copy=function(){return m},m},FA=function(l){return iv(l,BA)},HA=ov(function(l,s,d,p,b){return new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),s,d,p,b))},function(l){return l.getUTCDay()},function(l){return[l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()]},n.utcDay,n.utcMillisecond),YA=function(l){return iv(l,HA)};function uv(){var l=[function(m){return m}],s=[0,0],d="percent",p=null,b=[],w=function(g){var v=new Array(g.length),_=Lt(l),S;try{for(_.s();!(S=_.n()).done;)for(var C=S.value,V=0;V<g.length;V++){var E=C(g[V],V);Array.isArray(E)?v.push.apply(v,be(E)):v.push(E)}}catch(Y){_.e(Y)}finally{_.f()}var P=[t.min(v),t.max(v)];if(P[0]=P[0]==null?t.min(b):t.min([P[0]].concat(be(b))),P[1]=P[1]==null?t.max(b):t.max([P[1]].concat(be(b))),p!=null){var z=Math.max(Math.abs(P[1]-p),Math.abs(P[0]-p));P[0]=p-z,P[1]=p+z}switch(d){case"domain":{P[0]-=s[0],P[1]+=s[1];break}case"percent":{var F=P[1]-P[0];P[0]-=s[0]*F,P[1]+=s[1]*F;break}default:throw new Error("Unknown padUnit: ".concat(d))}return P};return w.accessors=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],w):l},w.pad=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],w):s},w.padUnit=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},w.include=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],w):b},w.symmetricalAbout=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w}function lv(){var l=[],s=[0,0],d="percent",p=null,b=[],w=uv(),m=function(_){return _!=null?_.valueOf():null},g=function(_){var S=l.map(function(C){return function(){var V=C.apply(void 0,arguments);return Array.isArray(V)?V.map(m):m(V)}});return w.accessors(S).pad(s).padUnit(d).symmetricalAbout(p!=null?p.valueOf():null).include(b.map(function(C){return C.valueOf()})),w(_).map(function(C){return new Date(C)})};return g.accessors=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.pad=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],g):s},g.padUnit=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],g):d},g.include=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],g):b},g.symmetricalAbout=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],g):p},g}function fv(){var l=1,s=20,d=.1,p=.1,b=a.randomNormal(),w=function(){for(var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,v=l/s,_=[],S=0;S<s+1;S++){_.push(g);var C=b()*Math.sqrt(v)*p+(d-p*p/2)*v;g=g*Math.exp(C)}return _};return w.period=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],w):l},w.steps=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],w):s},w.mu=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},w.sigma=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.random=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],w):b},w}function qA(l){return typeof l=="function"?l:function(){return l}}function WA(){var l=new Date,s=100,d=n.timeDay,p=1,b=n.timeYear,w=1,m=null,g=function(){var z=a.randomNormal(1,.1);return Math.ceil(z()*1e3)},v=fv(),_=function(z){var F=b.offset(z,w)-z;return(d.offset(z,p)-z)/F},S=function(z,F){var Y=_(z),q=v.period(Y)(F),W={date:z,open:q[0],high:Math.max.apply(Math,q),low:Math.min.apply(Math,q),close:q[v.steps()]};return W.volume=g(W),W},C=function(z){var F,Y,q;do F=z?d.offset(z.date,p):new Date(l.getTime()),Y=z?z.close:s,z=S(F,Y),q=m&&!m(z);while(q);return z},V=function(){var z,F={};return F.next=function(){var Y=C(z);return z=Y,Y},F.take=function(Y){return F.until(function(q,W){return!Y||Y<0||W===Y})},F.until=function(Y){for(var q=[],W=0,Q=C(z),oe=Y&&!Y(Q,W);oe;)q.push(Q),z=Q,Q=C(z),W+=1,oe=Y&&!Y(Q,W);return q},F},E=function(z){return V().take(z)};if(E.stream=V,typeof Symbol!="function"||ee(Symbol.iterator)!=="symbol")throw new Error("d3fc-random-data depends on Symbol. Make sure that you load a polyfill in older browsers. See README.");return E[Symbol.iterator]=function(){var P=V();return{next:function(){return{value:P.next(),done:!1}}}},E.startDate=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],E):l},E.startPrice=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],E):s},E.interval=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],E):d},E.intervalStep=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],E):p},E.unitInterval=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],E):b},E.unitIntervalStep=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],E):w},E.filter=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],E):m},E.volume=function(){return arguments.length?(g=qA(arguments.length<=0?void 0:arguments[0]),E):g},k(E,v),E}function $A(l){var s=l.date.getDay();return!(s===0||s===6)}function GA(){var l="BTC-USD",s=null,d=null,p=null,b=function(){var m=[];s!=null&&m.push("start="+s.toISOString()),d!=null&&m.push("end="+d.toISOString()),p!=null&&m.push("granularity="+p);var g="https://api.gdax.com/products/"+l+"/candles?"+m.join("&");return o.json(g).then(function(v){return v.map(function(_){return{date:new Date(_[0]*1e3),open:_[3],high:_[2],low:_[1],close:_[4],volume:_[5]}})})};return b.product=function(w){return arguments.length?(l=w,b):l},b.start=function(w){return arguments.length?(s=w,b):s},b.end=function(w){return arguments.length?(d=w,b):d},b.granularity=function(w){return arguments.length?(p=w,b):p},b}function Ml(){var l=10,s=function(p){return l<=1?p.map(function(b){return[b]}):t.range(0,Math.ceil(p.length/l)).map(function(b){return p.slice(b*l,(b+1)*l)})};return s.bucketSize=function(d){return arguments.length?(l=d,s):l},s}function UA(){var l=Ml(),s=function(m){return m},d=function(m){return m},p=function(m){if(l.bucketSize()>=m.length)return m;var g=b(m),v=l(g),_=l(m.slice(1,m.length-1)),S=_.map(function(C,V){var E=v[V],P=t.max(E),z=E.indexOf(P);return C[z]});return[].concat([m[0]],S,[m[m.length-1]])};function b(w){var m=w.map(function(v){return[s(v),d(v)]}),g=t.range(1,m.length-1).map(function(v){var _=m[v-1],S=m[v],C=m[v+1];return .5*Math.abs((_[0]-C[0])*(S[1]-_[1])-(_[0]-S[0])*(C[1]-_[1]))});return g}return A(p,l,"bucketSize"),p.x=function(w){return arguments.length?(s=w,p):s},p.y=function(w){return arguments.length?(d=w,p):d},p}function XA(){var l=function(w){return w},s=function(w){return w},d=Ml(),p=function(w){if(d.bucketSize()>=w.length)return w;var m=d(w.slice(1,w.length-1)),g=w[0],v=w[w.length-1],_=[].concat([g],m,[v]),S=l(g),C=s(g),V=m.map(function(E,P){var z=t.mean(_[P+1],l),F=t.mean(_[P+1],s),Y=E.map(function(oe){return[l(oe),s(oe)]}),q=Y.map(function(oe){return .5*Math.abs((S-z)*(oe[1]-C)-(S-oe[0])*(F-C))}),W=q.indexOf(t.max(q)),Q=Y[W];return S=Q[0],C=Q[1],E[W]});return[].concat([w[0]],V,[w[w.length-1]])};return A(p,d,"bucketSize"),p.x=function(b){return arguments.length?(l=b,p):l},p.y=function(b){return arguments.length?(s=b,p):s},p}function jA(){var l=Ml(),s=function(b){return b},d=function(b){if(l.bucketSize()>b.length)return b;var w=t.extent(b,s),m=l(b.slice(1,b.length-1)),g=m.map(function(v,_){var S={},C,V,E=!0,P=v.map(s),z=P.filter(function(F){return F===w[0]||F===w[1]}).map(function(F){return P.indexOf(F)})[0];return z!==void 0?v[z]:(P.forEach(function(F,Y){S[F]===void 0&&(S[F]=0),S[F]++,S[F]>S[C]||C===void 0?(C=F,V=Y,E=!0):S[F]===S[C]&&(E=!1)}),E?v[V]:v[Math.floor(v.length/2)])});return[].concat([b[0]],g,[b[b.length-1]])};return A(d,l,"bucketSize"),d.value=function(p){return arguments.length?(s=p,d):s},d}var De=function(l){return typeof l=="function"?l:function(){return l}},Uc=function(){var l=null,s=function(S){return S.date},d=function(S){return S.open},p=function(S){return S.high},b=function(S){return S.low},w=function(S){return S.close},m="vertical",g=De(3),v=function(S){var C=l||i.path();return S.forEach(function(V,E){var P=s(V,E),z=d(V,E),F=p(V,E),Y=b(V,E),q=w(V,E),W=g(V,E)/2;m==="vertical"?(C.moveTo(P,Y),C.lineTo(P,F),C.moveTo(P,z),C.lineTo(P-W,z),C.moveTo(P,q),C.lineTo(P+W,q)):(C.moveTo(Y,P),C.lineTo(F,P),C.moveTo(z,P),C.lineTo(z,P+W),C.moveTo(q,P),C.lineTo(q,P-W))}),l?null:C.toString()};return v.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],v):l},v.x=function(){return arguments.length?(s=De(arguments.length<=0?void 0:arguments[0]),v):s},v.open=function(){return arguments.length?(d=De(arguments.length<=0?void 0:arguments[0]),v):d},v.high=function(){return arguments.length?(p=De(arguments.length<=0?void 0:arguments[0]),v):p},v.low=function(){return arguments.length?(b=De(arguments.length<=0?void 0:arguments[0]),v):b},v.close=function(){return arguments.length?(w=De(arguments.length<=0?void 0:arguments[0]),v):w},v.width=function(){return arguments.length?(g=De(arguments.length<=0?void 0:arguments[0]),v):g},v.orient=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],v):m},v},Ao=function(){var l=null,s=function(_){return _.x},d=function(_){return _.y},p="center",b="center",w=function(_){return _.height},m=De(3),g=function(_,S){var C=l||i.path();return _.forEach(function(V,E){var P=s.call(this,V,S||E),z=d.call(this,V,S||E),F=w.call(this,V,S||E),Y=m.call(this,V,S||E),q;switch(p){case"left":q=Y;break;case"right":q=0;break;case"center":q=Y/2;break;default:throw new Error("Invalid horizontal alignment "+p)}var W;switch(b){case"bottom":W=-F;break;case"top":W=0;break;case"center":W=F/2;break;default:throw new Error("Invalid vertical alignment "+b)}C.rect(P-q,z-W,Y,F)},this),l?null:C.toString()};return g.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.x=function(){return arguments.length?(s=De(arguments.length<=0?void 0:arguments[0]),g):s},g.y=function(){return arguments.length?(d=De(arguments.length<=0?void 0:arguments[0]),g):d},g.width=function(){return arguments.length?(m=De(arguments.length<=0?void 0:arguments[0]),g):m},g.horizontalAlign=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],g):p},g.height=function(){return arguments.length?(w=De(arguments.length<=0?void 0:arguments[0]),g):w},g.verticalAlign=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],g):b},g},Xc=function(){var l=null,s=function(_){return _.date},d=function(_){return _.open},p=function(_){return _.high},b=function(_){return _.low},w=function(_){return _.close},m=De(3),g=function(_){var S=l||i.path();return _.forEach(function(C,V){var E=s(C,V),P=d(C,V),z=p(C,V),F=b(C,V),Y=w(C,V),q=m(C,V),W=q/2;S.rect(E-W,P,q,Y-P),S.moveTo(E,Math.min(Y,P)),S.lineTo(E,z),S.moveTo(E,Math.max(Y,P)),S.lineTo(E,F)}),l?null:S.toString()};return g.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.x=function(){return arguments.length?(s=De(arguments.length<=0?void 0:arguments[0]),g):s},g.open=function(){return arguments.length?(d=De(arguments.length<=0?void 0:arguments[0]),g):d},g.high=function(){return arguments.length?(p=De(arguments.length<=0?void 0:arguments[0]),g):p},g.low=function(){return arguments.length?(b=De(arguments.length<=0?void 0:arguments[0]),g):b},g.close=function(){return arguments.length?(w=De(arguments.length<=0?void 0:arguments[0]),g):w},g.width=function(){return arguments.length?(m=De(arguments.length<=0?void 0:arguments[0]),g):m},g},jc=function(){var l=null,s=function(V){return V.value},d=function(V){return V.median},p=function(V){return V.upperQuartile},b=function(V){return V.lowerQuartile},w=function(V){return V.high},m=function(V){return V.low},g="vertical",v=De(5),_=De(.5),S=function(V){var E=l||i.path();return V.forEach(function(P,z){var F=s(P,z),Y=v(P,z),q=Y/2,W=Y*_(P,z),Q=W/2,oe=w(P,z),pe=p(P,z),ge=d(P,z),he=b(P,z),Ce=m(P,z),xt=he-pe;g==="vertical"?(E.moveTo(F-Q,oe),E.lineTo(F+Q,oe),E.moveTo(F,oe),E.lineTo(F,pe),E.rect(F-q,pe,Y,xt),E.moveTo(F-q,ge),E.lineTo(F+q,ge),E.moveTo(F,he),E.lineTo(F,Ce),E.moveTo(F-Q,Ce),E.lineTo(F+Q,Ce)):(E.moveTo(Ce,F-Q),E.lineTo(Ce,F+Q),E.moveTo(Ce,F),E.lineTo(he,F),E.rect(he,F-q,-xt,Y),E.moveTo(ge,F-q),E.lineTo(ge,F+q),E.moveTo(pe,F),E.lineTo(oe,F),E.moveTo(oe,F-Q),E.lineTo(oe,F+Q))}),l?null:E.toString()};return S.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],S):l},S.value=function(){return arguments.length?(s=De(arguments.length<=0?void 0:arguments[0]),S):s},S.median=function(){return arguments.length?(d=De(arguments.length<=0?void 0:arguments[0]),S):d},S.upperQuartile=function(){return arguments.length?(p=De(arguments.length<=0?void 0:arguments[0]),S):p},S.lowerQuartile=function(){return arguments.length?(b=De(arguments.length<=0?void 0:arguments[0]),S):b},S.high=function(){return arguments.length?(w=De(arguments.length<=0?void 0:arguments[0]),S):w},S.low=function(){return arguments.length?(m=De(arguments.length<=0?void 0:arguments[0]),S):m},S.width=function(){return arguments.length?(v=De(arguments.length<=0?void 0:arguments[0]),S):v},S.orient=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],S):g},S.cap=function(){return arguments.length?(_=De(arguments.length<=0?void 0:arguments[0]),S):_},S},Qc=function(){var l=null,s=function(v){return v.x},d=function(v){return v.high},p=function(v){return v.low},b="vertical",w=De(5),m=function(v){var _=l||i.path();return v.forEach(function(S,C){var V=s(S,C),E=w(S,C),P=E/2,z=d(S,C),F=p(S,C);b==="vertical"?(_.moveTo(V-P,z),_.lineTo(V+P,z),_.moveTo(V,z),_.lineTo(V,F),_.moveTo(V-P,F),_.lineTo(V+P,F)):(_.moveTo(F,V-P),_.lineTo(F,V+P),_.moveTo(F,V),_.lineTo(z,V),_.moveTo(z,V-P),_.lineTo(z,V+P))}),l?null:_.toString()};return m.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],m):l},m.value=function(){return arguments.length?(s=De(arguments.length<=0?void 0:arguments[0]),m):s},m.high=function(){return arguments.length?(d=De(arguments.length<=0?void 0:arguments[0]),m):d},m.low=function(){return arguments.length?(p=De(arguments.length<=0?void 0:arguments[0]),m):p},m.width=function(){return arguments.length?(w=De(arguments.length<=0?void 0:arguments[0]),m):w},m.orient=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],m):b},m},Kc=function(l){return typeof l=="function"?l:function(){return l}},Zc=1e-6,at=function(s){return s.selection()!==s},Re=function(l,s){l=l||"g";var d=function(m,g){return g},p=null,b=function(m,g){g=g||function(z){return z};var v=m.selection(),_=at(m)?m:null,S=v.selectChildren(s==null?l:"".concat(l,".").concat(s)),C=S.data(g,d),V=C.enter().append(l).attr("class",s),E=C.exit();C=C.merge(V);var P=_||p;return P&&(C=C.transition(P).style("opacity",1),V.style("opacity",Zc),E=E.transition(P).style("opacity",Zc)),E.remove(),C.enter=function(){return V},C.exit=function(){return E},C};return b.element=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],b):l},b.className=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],b):s},b.key=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},b.transition=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],b):p},b},QA=function(l){var s=function(){},d=function(){return[0,0]},p=function(C,V){return[C.x,C.y]},b=l||function(S){return S},w=function(){},m=r.scaleIdentity(),g=r.scaleIdentity(),v=Re("g","label"),_=function(C){C.each(function(V,E,P){var z=v(u.select(P[E]),V).call(w),F=z.nodes(),Y=F.map(function(W,Q){var oe=u.select(W).datum(),pe=p(oe,Q,F),ge=[m(pe[0]),g(pe[1])],he=d(oe,Q,F);return{hidden:!1,x:ge[0],y:ge[1],width:he[0],height:he[1]}}),q=b(Y);z.attr("style",function(W,Q){return"display:"+(q[Q].hidden?"none":"inherit")}).attr("transform",function(W,Q){return"translate("+q[Q].x+", "+q[Q].y+")"}).attr("layout-width",function(W,Q){return q[Q].width}).attr("layout-height",function(W,Q){return q[Q].height}).attr("anchor-x",function(W,Q,oe){return Y[Q].x-q[Q].x}).attr("anchor-y",function(W,Q,oe){return Y[Q].y-q[Q].y}),z.call(w),s(z,V,E)})};return k(_,v,B("key")),k(_,b),_.size=function(){return arguments.length?(d=Kc(arguments.length<=0?void 0:arguments[0]),_):d},_.position=function(){return arguments.length?(p=Kc(arguments.length<=0?void 0:arguments[0]),_):p},_.component=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],_):w},_.decorate=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],_):s},_.xScale=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],_):m},_.yScale=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],_):g},_},KA=function(l){var s=2,d=function(v){return v},p=Re("text"),b=Re("rect"),w=Re("circle"),m=function(v){v.each(function(_,S,C){var V=C[S],E=u.select(V),P=Number(V.getAttribute("layout-width")),z=Number(V.getAttribute("layout-height")),F=b(E,[_]);F.attr("width",P).attr("height",z);var Y=Number(V.getAttribute("anchor-x")),q=Number(V.getAttribute("anchor-y")),W=w(E,[_]);W.attr("r",2).attr("cx",Y).attr("cy",q);var Q=p(E,[_]);Q.enter().attr("dy","0.9em").attr("transform","translate(".concat(s,", ").concat(s,")")),Q.text(d)})};return m.padding=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.value=function(){return arguments.length?(d=Kc(arguments.length<=0?void 0:arguments[0]),m):d},m},ZA=function(s,d){return!(s.x>=d.x+d.width||s.x+s.width<=d.x||s.y>=d.y+d.height||s.y+s.height<=d.y)},Jc=function(l,s){if(ZA(l,s)){var d=Math.max(l.x,s.x),p=Math.min(l.x+l.width,s.x+s.width),b=Math.max(l.y,s.y),w=Math.min(l.y+l.height,s.y+s.height);return(p-d)*(w-b)}else return 0},ed=function(s,d){return t.sum(s.map(function(p,b){return d===b?0:Jc(s[d],p)}))},Tn=function(s,d,p,b,w){return{x:s,y:d,width:p,height:b,location:w}},sv=function(l){var s=l.x,d=l.y,p=l.width,b=l.height;return[Tn(s,d,p,b,"bottom-right"),Tn(s-p,d,p,b,"bottom-left"),Tn(s-p,d-b,p,b,"top-left"),Tn(s,d-b,p,b,"top-right"),Tn(s,d-b/2,p,b,"middle-right"),Tn(s-p/2,d,p,b,"bottom-center"),Tn(s-p,d-b/2,p,b,"middle-left"),Tn(s-p/2,d-b,p,b,"top-center")]},cv=function(s,d,p){return[].concat(be(s.slice(0,d)),[p],be(s.slice(d+1)))},JA=function(s,d){return s<d},dv=function l(){var s=null,d=JA,p=function(){return 0},b,w=function(v,_){return s-p(b[_],_,b)+p(v,_,cv(b,_,v))},m=function g(v,_){s||(s=t.sum(b.map(function(C,V){return p(C,V,b)})));var S=w(v,_);return d(S,s)?l().locationScore(p).winningScore(d).score(S).rectangles(cv(b,_,v)):g};return m.rectangles=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],m):b},m.score=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.winningScore=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},m.locationScore=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m},ek=function(){var l,s=function(w){return l?w.width*w.height-Jc(w,l):0},d=function(w,m,g){return ed(g,m)+s(w)},p=function(w){var m=dv().locationScore(d).rectangles(w);return w.forEach(function(g,v){sv(g).forEach(function(_,S){m=m(_,v)})}),m.rectangles()};return p.bounds=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},p},tk=function(s){return s[mv(s)]},mv=function(s){return Math.floor(Math.random()*s.length)},rk=function(){var l=1e3,s=1,d,p=function(v){switch(v.location){case"bottom-right":return 0;case"middle-right":case"bottom-center":return v.width*v.height/8}return v.width*v.height/4},b=function(v){return d?v.width*v.height-Jc(v,d):0},w=function(v,_,S){return ed(S,_)+b(v)+p(v)},m=function(v){for(var _=l,S=function(z,F){return Math.exp((F-z)/_)>Math.random()},C=dv().locationScore(w).winningScore(S).rectangles(v);_>0;){var V=mv(v),E=tk(sv(v[V]));C=C(E,V),_-=s}return C.rectangles()};return m.temperature=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],m):l},m.cooling=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.bounds=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},m},nk=function(s,d){return s[t.scan(s,d)]},ak=function(l){l=l||function(d){return d};var s=function(p){p=l(p);for(var b=function(){var g=p.filter(function(S){return!S.hidden}),v=g.map(function(S,C){return[S,ed(g,C)]}),_=nk(v,function(S,C){return C[1]-S[1]});if(_[1]>0)_[0].hidden=!0;else return"break"};;){var w=b();if(w==="break")break}return p};return k(s,l),s},ok=function(){var l=[0,0],s=function(p){return p.map(function(b,w){var m=b.x,g=b.y;return m+b.width>l[0]&&(m-=b.width),g+b.height>l[1]&&(g-=b.height),{height:b.height,width:b.width,x:m,y:g}})};return s.bounds=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],s):l},s},$e=function(l){return typeof l=="function"?l:function(){return l}};function Ri(){var l=arguments;return function(s,d){for(var p=0,b=l.length;p<b;p++)if(l[p](s,d)==null)return!1;return!0}}var Li=function(l,s){switch(l){case"left":return s/2;case"right":return-s/2;default:return 0}},va=function(l){var s=Object.assign({},l),d=function(){};return Object.keys(s).forEach(function(p){d[p]=function(){return arguments.length?(s[p]=arguments.length<=0?void 0:arguments[0],d):s[p]}}),d},rr=function(){var l=function(){return 0},s=function(v){return v.x},d=function(v){return v.y},p="center",b=function(){return 5},w="vertical",m=va({decorate:function(){},defined:function(v,_){return Ri(l,s,d)(v,_)},xScale:r.scaleIdentity(),yScale:r.scaleIdentity()});return m.values=function(g,v){var _=b(g,v),S=Li(p,_),C=m.xScale(),V=m.yScale();if(w==="vertical"){var E=V(d(g,v),v),P=V(l(g,v),v),z=C(s(g,v),v)+S;return{d:g,x:z,y:E,y0:P,width:_,height:E-P,origin:[z,E],baseOrigin:[z,P],transposedX:z,transposedY:E}}else{var F=C(d(g,v),v),Y=C(l(g,v),v),q=V(s(g,v),v)+S;return{d:g,x:q,y:F,y0:Y,width:_,height:F-Y,origin:[F,q],baseOrigin:[Y,q],transposedX:F,transposedY:q}}},m.xValues=function(){return w==="vertical"?[s]:[l,d]},m.yValues=function(){return w!=="vertical"?[s]:[l,d]},m.baseValue=function(){return arguments.length?(l=$e(arguments.length<=0?void 0:arguments[0]),m):l},m.crossValue=function(){return arguments.length?(s=$e(arguments.length<=0?void 0:arguments[0]),m):s},m.mainValue=function(){return arguments.length?(d=$e(arguments.length<=0?void 0:arguments[0]),m):d},m.bandwidth=function(){return arguments.length?(b=$e(arguments.length<=0?void 0:arguments[0]),m):b},m.align=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.orient=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],m):w},m},ik="#c60",uk="#6c0",lk="#000",fk="#ddd",sk="#999",et={red:ik,green:uk,black:lk,gray:fk,darkGray:sk},td=function(){var l=rr(),s=f.line().x(function(b,w){return l.values(b,w).transposedX}).y(function(b,w){return l.values(b,w).transposedY}),d=Re("path","line"),p=function(w){at(w)&&d.transition(w),s.defined(l.defined()),w.each(function(m,g,v){var _=d(u.select(v[g]),[m]);_.enter().attr("fill","none").attr("stroke",et.black),_.attr("d",s),l.decorate()(_,m,g)})};return k(p,l,O("baseValue","bandwidth","align")),A(p,d,"key"),A(p,s,"curve"),p},rd=function(){var l=rr(),s=f.line().x(function(p,b){return l.values(p,b).transposedX}).y(function(p,b){return l.values(p,b).transposedY}),d=function(b){var w=s.context();w.beginPath(),w.strokeStyle=et.black,w.fillStyle="transparent",l.decorate()(w,b),s.defined(l.defined())(b),w.fill(),w.stroke(),w.closePath()};return k(d,l,O("baseValue","bandwidth","align")),A(d,s,"curve","context"),d},it=function(){var l=[0,1],s=[-1,1],d=function(){};return d.domain=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],d):l},d.range=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],d):s},d},hv=function(){var l={},s={},d=null,p=function(w,m){var g=w.context();Object.keys(l).forEach(function(v){var _=l[v];if(typeof _!="function")throw new Error("Expected an attribute for ".concat(v,", found ").concat(_));var S=g.getAttribLocation(m,v);_.location(S)(w)}),Object.keys(s).forEach(function(v){var _=s[v];if(typeof _!="function")throw new Error("Expected a uniform for ".concat(v,", found ").concat(_));var S=g.getUniformLocation(m,v);_.location(S)(w)}),d!==null&&d(w)};return p.flush=function(){Object.values(l).forEach(function(b){return b.clear()}),Object.values(s).forEach(function(b){return b.clear()}),d!==null&&d.clear()},p.attribute=function(){for(var b=arguments.length,w=new Array(b),m=0;m<b;m++)w[m]=arguments[m];return w.length===1?l[w[0]]:(l[w[0]]=w[1],p)},p.uniform=function(){for(var b=arguments.length,w=new Array(b),m=0;m<b;m++)w[m]=arguments[m];return w.length===1?s[w[0]]:(s[w[0]]=w[1],p)},p.elementIndices=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p},Qt=function(l){var s=-1,d=l,p=!0,b=function(m){if(!!p){var g=m.context();if(Array.isArray(d))switch(d.length){case 1:g.uniform1fv(s,d);break;case 2:g.uniform2fv(s,d);break;case 3:g.uniform3fv(s,d);break;case 4:g.uniform4fv(s,d);break;default:throw new Error("Uniform supports up to 4 elements. ".concat(d.length," provided."))}else g.uniform1f(s,d);p=!1}};return b.clear=function(){p=!0},b.location=function(){return arguments.length?(s!==(arguments.length<=0?void 0:arguments[0])&&(s=arguments.length<=0?void 0:arguments[0],p=!0),b):s},b.data=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p=!0,b):d},b},an={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},on=function(){var l=null,s=null,d=null,p=null,b=null,w=null,m=an.TRIANGLES,g=0,v=hv(),_=!1,S=null,C=!0,V=1,E=function Y(q){if(l!=null){var W=d(),Q=p();if(P(s,W,Q)&&(s=z(W,Q),b=W,w=Q,C=!1),l.useProgram(s),v.uniform("uScreen",Qt([l.canvas.width/V,l.canvas.height/V])),v(Y,s),g===0)v.elementIndices()==null?l.drawArrays(m,0,q):l.drawElements(m,q,l.UNSIGNED_SHORT,0);else if(v.elementIndices()==null)S.drawArraysInstancedANGLE(m,0,g,q);else{var oe=v.elementIndices().data().length;if(g!==oe)throw new Error("Expected elementIndices length ".concat(oe)+" to match subInstanceCount ".concat(g,"."));S.drawElementsInstancedANGLE(m,g,l.UNSIGNED_SHORT,0,q)}}};return E.extInstancedArrays=function(){return S},E.context=function(){for(var Y=arguments.length,q=new Array(Y),W=0;W<Y;W++)q[W]=arguments[W];return q.length?((q[0]==null||q[0]!==l)&&(v.flush(),C=!0),q[0]!=null&&q[0]!==l&&(S=q[0].getExtension("ANGLE_instanced_arrays")),l=q[0],E):l},E.buffers=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],E):v},E.vertexShader=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],E):d},E.fragmentShader=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],E):p},E.mode=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],E):m},E.subInstanceCount=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],E):g},E.debug=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],E):_},E.pixelRatio=function(){return arguments.length?(V=arguments.length<=0?void 0:arguments[0],E):V},E;function P(Y,q,W){return!Y||C?!0:q!==b||W!==w}function z(Y,q){var W=F(Y,l.VERTEX_SHADER),Q=F(q,l.FRAGMENT_SHADER),oe=l.createProgram();if(l.attachShader(oe,W),l.attachShader(oe,Q),l.linkProgram(oe),_&&!l.getProgramParameter(oe,l.LINK_STATUS)){var pe=l.getProgramInfoLog(oe);throw l.deleteProgram(oe),new Error("Failed to link program : ".concat(pe,`
            Vertex Shader : `).concat(Y,`
            Fragment Shader : `).concat(q))}return oe}function F(Y,q){var W=l.createShader(q);if(l.shaderSource(W,Y),l.compileShader(W),_&&!l.getShaderParameter(W,l.COMPILE_STATUS)){var Q=l.getShaderInfoLog(W);throw l.deleteShader(W),new Error("Failed to compile shader : ".concat(Q,`
            Shader : `).concat(Y))}return W}},Ye=function(l){var s=[],d=[],p=function(){return l(s.join(`
`),d.join(`
`))};function b(g,v){g.push(v)}function w(g,v,_){var S=g.indexOf(_);g.splice(S>=0?S:g.length,0,v)}function m(g,v){var _=g.indexOf(v);_===-1&&g.push(v)}return p.appendHeader=function(g){return b(s,g),p},p.insertHeader=function(g,v){return w(s,g,v),p},p.appendHeaderIfNotExists=function(g){return m(s,g),p},p.appendBody=function(g){return b(d,g),p},p.insertBody=function(g,v){return w(d,g,v),p},p.appendBodyIfNotExists=function(g){return m(d,g),p},p},qt=function(s,d){return`
precision mediump float;
float inf = 1.0 / 0.0;
`.concat(s,`
void main() {
    `).concat(d,`
}`)},Wt=function(s,d){return`
precision mediump float;
`.concat(s,`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
    `).concat(d,`
}`)},pv={header:`attribute vec4 aFillColor;
             varying vec4 vFillColor;`,body:"vFillColor = aFillColor;"},gv={header:`attribute vec4 aStrokeColor;
             varying vec4 vStrokeColor;`,body:"vStrokeColor = aStrokeColor;"},vv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 2.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},xv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 4.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},bv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 3.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},yv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt(aSize);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},wv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt(aSize);
        gl_PointSize = 2.0 * (vSize + uStrokeWidth + 1.0);
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},_v={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt((16.0 * aSize) / (3.0 * sqrt(3.0)));
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Sv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vStrokeWidthRatio;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 3.0 * sqrt(aSize / 5.0);
        vStrokeWidthRatio = uStrokeWidth / (vSize + uStrokeWidth + 1.0);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Mv={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aOpenValue;
        attribute float aCloseValue;
        attribute float aLowValue;
        attribute vec3 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vColorIndicator;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vColorIndicator = sign(aCloseValue - aOpenValue);

        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;
        float isNotPositiveY = 1.0 - isPositiveY;
        float isExtremeY = abs(aCorner.y) - 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;
        float yValue =
         (isPositiveY * isExtremeY * aLowValue) +
         (isPositiveY * isNotExtremeY * aCloseValue) +
         (isNotPositiveY * isNotExtremeY * aOpenValue) +
         (isNotPositiveY * isExtremeY * aHighValue);

        float lineWidthXDirection = (isNotExtremeY * aCorner.x) + (isExtremeY * aCorner.z);
        float lineWidthYDirection = isNotExtremeY * sign(aCloseValue - aOpenValue) * aCorner.y;

        float bandwidthModifier = aBandwidth * aCorner.x / 2.0;

        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;
        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},Av={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aOpenValue;
        attribute float aCloseValue;
        attribute float aLowValue;
        attribute vec3 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vColorIndicator;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vColorIndicator = sign(aCloseValue - aOpenValue);

        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;
        float isNotPositiveY = 1.0 - isPositiveY;
        float isExtremeY = abs(aCorner.y) - 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;
        float yValue =
            (isPositiveY * isExtremeY * aLowValue) +
            (isPositiveY * isNotExtremeY * aCloseValue) +
            (isNotPositiveY * isNotExtremeY * aOpenValue) +
            (isNotPositiveY * isExtremeY * aHighValue);

        float lineWidthXDirection = isExtremeY * aCorner.z;
        float lineWidthYDirection = isNotExtremeY * aCorner.z;

        float bandwidthModifier = isNotExtremeY * aCorner.x * aBandwidth / 2.0;

        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;
        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},kv={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aMainValue;
        attribute float aBaseValue;
        attribute vec2 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;`,body:`
        vDefined = aDefined;
        float isBaseline = (1.0 - aCorner.y) / 2.0;
        float yValue = (isBaseline * aBaseValue) + ((1.0 - isBaseline) * aMainValue);

        float xModifier = aCorner.x * (aBandwidth) / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},Cv={header:`
        attribute vec3 aCorner;
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aLowValue;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;`,body:`
        vDefined = aDefined;
        float isLow = (aCorner.y + 1.0) / 2.0;
        float yValue = isLow * aLowValue + (1.0 - isLow) * aHighValue;

        float isEdgeCorner = abs(aCorner.x);
        float lineWidthXDirection = (1.0 - isEdgeCorner) * aCorner.z;
        float lineWidthYDirection = isEdgeCorner * aCorner.z;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);

        float xModifier = (uStrokeWidth * lineWidthXDirection) + (aBandwidth * aCorner.x / 2.0);
        float yModifier = (uStrokeWidth * lineWidthYDirection);`},Tv={header:`
        attribute vec3 aCorner;
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aCrossNextValue;
        attribute float aMainNextValue;
        attribute float aBaseValue;
        attribute float aBaseNextValue;
        attribute float aDefined;
        attribute float aDefinedNext;

        varying float vDefined;

        float when_lt(float a, float b) {
            return max(sign(b - a), 0.0);
        }

        float and(float a, float b) {
            return a * b;
        }`,body:`
        vDefined = aDefined * aDefinedNext;
        gl_Position = vec4(0, 0, 0, 1);

        float hasIntercepted = when_lt((aMainNextValue - aBaseNextValue) * (aMainValue - aBaseValue), 0.0);
        float useIntercept = and(aCorner.z, hasIntercepted);

        float yGradient = (aMainNextValue - aMainValue) / (aCrossNextValue - aCrossValue);
        float yConstant = aMainNextValue - (yGradient * aCrossNextValue);

        float y0Gradient = (aBaseNextValue - aBaseValue) / (aCrossNextValue - aCrossValue);
        float y0Constant = aBaseNextValue - (y0Gradient * aCrossNextValue);

        float denominator = (yGradient - y0Gradient) + step(abs(yGradient - y0Gradient), 0.0);
        float interceptXValue = (y0Constant - yConstant) / denominator;
        float interceptYValue = (yGradient * interceptXValue) + yConstant;

        gl_Position = vec4(interceptXValue * useIntercept, interceptYValue * useIntercept, 0, 1);

        gl_Position.x += (1.0 - useIntercept) * ((aCorner.x * aCrossNextValue) + ((1.0 - aCorner.x) * aCrossValue));
        gl_Position.y += (1.0 - useIntercept) * (1.0 - aCorner.y) * ((aCorner.x * aMainNextValue) + ((1.0 - aCorner.x) * aMainValue));
        gl_Position.y += (1.0 - useIntercept) * aCorner.y * ((aCorner.x * aBaseNextValue) + ((1.0 - aCorner.x) * aBaseValue));`},Vv={header:`
        attribute vec4 aCorner;
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aCapWidth;
        attribute float aHighValue;
        attribute float aUpperQuartileValue;
        attribute float aMedianValue;
        attribute float aLowerQuartileValue;
        attribute float aLowValue;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;
    `,body:`
        vDefined = aDefined;
        float isExtremeY = sign(abs(aCorner.y) - 2.0) + 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;

        float isNonZeroY = abs(sign(aCorner.y));
        float isZeroY = 1.0 - isNonZeroY;

        float isQuartileY = isNotExtremeY * isNonZeroY;

        float isPositiveY = (sign(aCorner.y + 0.5) + 1.0) / 2.0;
        float isNegativeY = 1.0 - isPositiveY;

        float yValue =
          (isExtremeY * isNegativeY) * aHighValue +
          (isQuartileY * isNegativeY) * aUpperQuartileValue +
          isZeroY * aMedianValue +
          (isQuartileY * isPositiveY) * aLowerQuartileValue +
          (isExtremeY * isPositiveY) * aLowValue;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);

        float isHorizontal = aCorner.w;
        float isVertical = 1.0 - isHorizontal;

        float xDisplacement = aCorner.x * (isExtremeY * aCapWidth + isNotExtremeY * aBandwidth) / 2.0;

        float xModifier = (isVertical * uStrokeWidth * aCorner.z / 2.0) + xDisplacement;
        float yModifier = isHorizontal * uStrokeWidth * aCorner.z / 2.0;`},Nv={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float distance = length(2.0 * gl_PointCoord - 1.0);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},Dv={header:`
        varying float vSize;
        varying float vDefined;

        // anterior, exterior angles
        float an = 0.628319;
        vec2 acs = vec2(0.809017, 0.587786); // (cos, sin)
        float en = 0.952000;
        vec2 ecs = vec2(0.580055, 0.814577);
    `,body:`
        float canFill = 1.0;

        vec2 p = 2.0 * gl_PointCoord - 1.0;
        p.y *= -1.0;

        // sector
        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;
        p = length(p) * vec2(cos(bn), abs(sin(bn)));

        p -= acs;
        p += ecs * clamp(-dot(p, ecs), 0.0, acs.y / ecs.y);
        float d = length(p) * sign(p.x);

        float distance = 1.0 + d;
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},Ev={header:`
        varying float vSize;
        varying float vDefined;
    `,body:`
        float canFill = 1.0;

        vec2 p = 2.0 * gl_PointCoord - 1.0;
        p.y *= -1.0;

        // sector
        float an = 3.141593 / 3.0;
        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;
        p = length(p) * vec2(cos(bn), abs(sin(bn)));

        // box
        vec2 d = abs(p) - vec2(0.9, 0.35);
        float sdf = length(max(d, 0.0)) + min(max(d.x, d.y), 0.0);

        float distance = 1.0 + sdf;
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},Iv={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        if (vDefined < 0.5) {
            discard;
        }
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float distance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);`},zv={header:`
        varying float vSize;
        varying float vDefined;
        float a = 0.6;
        float b = 1.0;
    `,body:`
        if (vDefined < 0.5) {
            discard;
        }

        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;

        float x = abs(pointCoordTransform.x);
        float y = abs(pointCoordTransform.y);

        float X = (a * b * x) / (a * y + b * x);
        float Y = (a * b * y) / (a * y + b * x);

        float distance = length(vec2(x, y)) / length(vec2(X, Y));

        if (distance > 1.0) {
            discard;
        }
    `},Pv={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float topEdgesDistance = abs(pointCoordTransform.x) - ((pointCoordTransform.y - 0.6) / sqrt(3.0));
        float bottomEdgeDistance = pointCoordTransform.y + 0.5;
        float distance = max(topEdgesDistance, bottomEdgeDistance);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
        }`},Rv={header:`
        varying float vSize;
        varying float vStrokeWidthRatio;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float innerCornerDistance = min(abs(pointCoordTransform.x), abs(pointCoordTransform.y)) + 0.66 - vStrokeWidthRatio;
        float outerEdgeDistance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));
        float distance = max(innerCornerDistance, outerEdgeDistance);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
        }`},Lv={header:`
        varying float vColorIndicator;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float canStroke = 0.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.4, 0.8, 0, 1);
        if (vColorIndicator < 0.0) {
            gl_FragColor = vec4(0.8, 0.4, 0, 1);
        }`},Ov={header:`
        varying float vColorIndicator;
        varying float vDefined;`,body:`
        float canFill = 0.0;
        float canStroke = 1.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.4, 0.8, 0, 1);
        if (vColorIndicator < 0.0) {
            gl_FragColor = vec4(0.8, 0.4, 0, 1);
        }`},Bv={header:`
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float canStroke = 0.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.86, 0.86, 0.86, 1);`},Fv={header:`
        varying float vDefined;
    `,body:`
        float canFill = 0.0;
        float canStroke = 1.0;

        if (vDefined < 0.5) {
            discard;
        }`},Hv={header:"varying float vDefined;",body:`
        float canFill = 0.0;
        float canStroke = 1.0;
        if (vDefined < 0.5) {
            discard;
        }`},Yv={header:"varying float vDefined;",body:`
        float canFill = 1.0;
        float canStroke = 0.0;

        gl_FragColor = vec4(0.60, 0.60, 0.60, 1.0);

        if (vDefined < 0.5) {
            discard;
        }`},qv={header:"varying vec4 vFillColor;",body:"gl_FragColor = (canFill * vFillColor) + ((1.0 - canFill) * gl_FragColor);"},Wv={header:"varying vec4 vStrokeColor;",body:"gl_FragColor = (canStroke * vStrokeColor) + ((1.0 - canStroke) * gl_FragColor);"},ck=function(){var l=Ye(qt),s=Ye(Wt);return l.appendHeader(Tv.header).appendBody(Tv.body),s.appendHeader(Bv.header).appendBody(Bv.body),{vertex:function(){return l},fragment:function(){return s}}},Ee={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,FLOAT:5126};function nd(l){switch(l){case Ee.BYTE:case Ee.UNSIGNED_BYTE:return 1;case Ee.SHORT:case Ee.UNSIGNED_SHORT:return 2;case Ee.FLOAT:return 4;default:throw new Error("Unknown type ".concat(l))}}function $v(l){switch(l){case Ee.BYTE:return Int8Array;case Ee.UNSIGNED_BYTE:return Uint8Array;case Ee.SHORT:return Int16Array;case Ee.UNSIGNED_SHORT:return Uint16Array;case Ee.FLOAT:return Float32Array;default:throw new Error("Unknown type ".concat(l))}}var Al=function(){var l=-1,s=null,d=1,p=Ee.FLOAT,b=!1,w=0,m=0,g=null,v=function(S){var C=S.context();s==null&&(s=C.createBuffer()),C.bindBuffer(C.ARRAY_BUFFER,s),C.vertexAttribPointer(l,d,p,b,w,m),C.enableVertexAttribArray(l);var V=S.extInstancedArrays();V.vertexAttribDivisorANGLE(l,g??(S.subInstanceCount()>0?1:0))};return v.location=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],v):l},v.buffer=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],v):s},v.size=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],v):d},v.type=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],v):p},v.normalized=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],v):b},v.stride=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],v):w},v.offset=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],v):m},v.divisor=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],v):g},v},dk=function(){var l=Ee.FLOAT,s=new Float32Array(0),d=function(b){var w=$v(l);return s.length>b?s=new w(s.buffer,0,b):s.length!==b&&(s=new w(b)),s};return d.type=function(){if(!arguments.length)return l;if(l!==(arguments.length<=0?void 0:arguments[0])){l=arguments.length<=0?void 0:arguments[0];var p=$v(l);s=new p(0)}return d},d},Gv=function(){var l=!0,s=1,d=Ee.FLOAT,p=dk(),b=function(v,_){return v},w=null,m=function(){var v=w.length,_=p.type(d)(v*s);if(s>1)for(var S=0;S<v;S++){var C=b(w[S],S);if(C.length!==s)throw new Error("Expected components array of size ".concat(s,", recieved array with length ").concat(C.length,"."));for(var V=0;V<s;V++)_[S*s+V]=C[V]}else for(var E=0;E<v;E++){var P=b(w[E],E);if(Array.isArray(P))throw new Error("Expected a single component value, recieved array with length ".concat(P.length,"."));_[E]=P}return l=!1,_};return m.dirty=function(){return l},m.clear=function(){l=!0},m.size=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],l=!0,m):s},m.type=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],l=!0,m):d},m.arrayViewFactory=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],l=!0,m):p},m.value=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],l=!0,m):b},m.data=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],l=!0,m):w},m},Ae=function(){var l=Al(),s=Gv(),d=function p(b){if(l.size(p.size()).type(p.type()),l(b),!!s.dirty()){var w=s(),m=b.context();m.bindBuffer(m.ARRAY_BUFFER,l.buffer()),m.bufferData(m.ARRAY_BUFFER,w,m.DYNAMIC_DRAW)}};return d.clear=function(){l.buffer(null),s.clear()},A(d,l,"normalized","location","divisor"),A(d,s,"data","value","size","type"),d},ye=function(l,s,d,p){for(var b=arguments.length,w=new Array(b>4?b-4:0),m=4;m<b;m++)w[m-4]=arguments[m];l[s]=function(){for(var g=arguments.length,v=new Array(g),_=0;_<g;_++)v[_]=arguments[_];var S=d[p].apply(d,w.concat(v));return S===d?l:S}},Uv=function(){var l=on().mode(an.TRIANGLES).subInstanceCount(6),s=it(),d=it(),p=function(){},b=Ae().divisor(0).size(3).type(Ee.UNSIGNED_BYTE).data([[0,0,0],[0,1,0],[1,1,1],[0,0,1],[1,0,0],[1,1,0]]);l.buffers().attribute("aCorner",b);var w=function(g){var v=ck();l.vertexShader(v.vertex()).fragmentShader(v.fragment()),s(l,"gl_Position",0),d(l,"gl_Position",1),p(l),l(g-1)};return w.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.xScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],w):s},w.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},A(w,l,"context","pixelRatio"),ye(w,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),ye(w,"crossNextValueAttribute",l.buffers(),"attribute","aCrossNextValue"),ye(w,"mainValueAttribute",l.buffers(),"attribute","aMainValue"),ye(w,"mainNextValueAttribute",l.buffers(),"attribute","aMainNextValue"),ye(w,"baseValueAttribute",l.buffers(),"attribute","aBaseValue"),ye(w,"baseNextValueAttribute",l.buffers(),"attribute","aBaseNextValue"),ye(w,"definedAttribute",l.buffers(),"attribute","aDefined"),ye(w,"definedNextAttribute",l.buffers(),"attribute","aDefinedNext"),w},Xv=function(){var l=Ye(qt),s=Ye(Wt);return l.appendHeader(vv.header).appendBody(vv.body),s.appendHeader(Nv.header).appendBody(Nv.body),{vertex:function(){return l},fragment:function(){return s}}},jv=function(){var l=on().mode(an.POINTS),s=it(),d=it(),p=Xv(),b=function(){},w=function(g){l.vertexShader(p.vertex()).fragmentShader(p.fragment()),s(l,"gl_Position",0),d(l,"gl_Position",1),b(l),l(g)};return w.type=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],w):b},w.xScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],w):s},w.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},A(w,l,"context","pixelRatio"),ye(w,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),ye(w,"mainValueAttribute",l.buffers(),"attribute","aMainValue"),ye(w,"sizeAttribute",l.buffers(),"attribute","aSize"),ye(w,"definedAttribute",l.buffers(),"attribute","aDefined"),w},Oi=function(){var l=1,s=function(p){p.buffers().uniform("uStrokeWidth",Qt(l))};return s.lineWidth=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],s):l},s},xa=function(l){var s=null,d=l,p=!0,b=function(m){var g=m.context();s==null&&(s=g.createBuffer()),g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,s),p&&(g.bufferData(g.ELEMENT_ARRAY_BUFFER,new Uint16Array(d),g.STATIC_DRAW),p=!1)};return b.clear=function(){s=null,p=!0},b.data=function(){return arguments.length?(p=!0,d=arguments.length<=0?void 0:arguments[0],b):d},b},Qv=function(){var l=on().mode(an.TRIANGLES).subInstanceCount(6),s=it(),d=it(),p=function(){},b=Oi(),w=Ae().divisor(0).size(4).type(Ee.BYTE).data([[-1,1,1,0],[1,1,0,1],[1,-1,0,1],[-1,-1,1,0]]);l.buffers().elementIndices(xa([0,1,2,2,3,0])).attribute("aCorner",w);var m=function(v){var _=Ye(qt),S=Ye(Wt);l.vertexShader(_).fragmentShader(S),_.appendHeader(`
            attribute vec4 aCorner;
            attribute float aCrossValue;
            attribute float aCrossNextValue;
            attribute float aMainValue;
            attribute float aMainNextValue;
            attribute float aDefined;
            attribute float aDefinedNext;

            uniform float uStrokeWidth;
            uniform vec2 uScreen;

            varying float vLength;
            varying vec2 vPosition;
        `),_.appendBody(`
            vec4 value = vec4(aCrossValue, aMainValue, 0.0, 1.0);
            vec4 nextValue = vec4(aCrossNextValue, aMainNextValue, 0.0, 1.0);
        `),s(l,"value",0),s(l,"nextValue",0),d(l,"value",1),d(l,"nextValue",1),_.appendBody(`
            vec2 position = aCorner[2] * value.xy + aCorner[3] * nextValue.xy;

            vec2 direction = normalize((nextValue.xy - value.xy) * uScreen);
            vec2 normal = vec2(direction.y, -direction.x);
            vec2 padding = ((uStrokeWidth / 2.0) / (uScreen / 2.0));
            
            padding *= aDefined * aDefinedNext;
            position += (aCorner[0] * direction + aCorner[1] * normal) * padding;

            gl_Position = vec4(position.x, position.y, 0.0, 1.0);

            vLength = length((nextValue.xy - value.xy) * (uScreen / 2.0));
            vPosition = aCorner.xy * (uStrokeWidth / 2.0);
            vPosition.x += aCorner[3] * vLength;
        `),S.appendHeader(`
            uniform float uStrokeWidth;
            varying float vLength;
            varying vec2 vPosition;

            float canFill = 0.0;
            float canStroke = 1.0;
        `),S.appendBody(`
            vec2 position = vPosition;
            position.x -= clamp(position.x, 0.0, vLength);
            float sdf = length(position) - uStrokeWidth / 2.0;
            if (sdf > 0.5) {
                discard;
            }
        `),b(l),p(l),l(v-1)};return m.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.xScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},A(m,l,"context","pixelRatio"),A(m,b,"lineWidth"),ye(m,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),ye(m,"crossNextValueAttribute",l.buffers(),"attribute","aCrossNextValue"),ye(m,"mainValueAttribute",l.buffers(),"attribute","aMainValue"),ye(m,"mainNextValueAttribute",l.buffers(),"attribute","aMainNextValue"),ye(m,"definedAttribute",l.buffers(),"attribute","aDefined"),ye(m,"definedNextAttribute",l.buffers(),"attribute","aDefinedNext"),m},mk=function(){var l=Ye(qt),s=Ye(Wt);return l.appendHeader(Av.header).appendBody(Av.body),s.appendHeader(Ov.header).appendBody(Ov.body),{vertex:function(){return l},fragment:function(){return s}}},Kv=function(){var l=on().mode(an.TRIANGLES).subInstanceCount(18),s=it(),d=it(),p=Oi(),b=function(){},w=Ae().divisor(0).size(3).type(Ee.BYTE).data([[0,-2,-1],[0,-2,1],[0,2,1],[0,2,-1],[-1,-1,-1],[-1,-1,1],[0,-1,1],[0,-1,-1],[1,1,1],[0,1,1],[0,1,-1],[1,1,-1]]);l.buffers().elementIndices(xa([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,10,11,8])).attribute("aCorner",w);var m=function(v){var _=mk();l.vertexShader(_.vertex()).fragmentShader(_.fragment()),s(l,"gl_Position",0),d(l,"gl_Position",1),p(l),l.vertexShader().appendBody(`
          gl_Position.x += xModifier / uScreen.x * 2.0;
          gl_Position.y += yModifier / uScreen.y * 2.0;
        `),b(l),l(v)};return m.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],m):b},m.xScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},A(m,l,"context","pixelRatio"),A(m,p,"lineWidth"),ye(m,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),ye(m,"openValueAttribute",l.buffers(),"attribute","aOpenValue"),ye(m,"highValueAttribute",l.buffers(),"attribute","aHighValue"),ye(m,"lowValueAttribute",l.buffers(),"attribute","aLowValue"),ye(m,"closeValueAttribute",l.buffers(),"attribute","aCloseValue"),ye(m,"bandwidthAttribute",l.buffers(),"attribute","aBandwidth"),ye(m,"definedAttribute",l.buffers(),"attribute","aDefined"),m},hk=function(){var l=Ye(qt),s=Ye(Wt);return l.appendHeader(kv.header).appendBody(kv.body),s.appendHeader(Yv.header).appendBody(Yv.body),{vertex:function(){return l},fragment:function(){return s}}},Zv=function(){var l=on().mode(an.TRIANGLES).subInstanceCount(6),s=it(),d=it(),p=function(){},b=Ae().divisor(0).size(2).type(Ee.BYTE).data([[-1,-1],[1,1],[-1,1],[1,-1]]);l.buffers().elementIndices(xa([0,1,2,0,1,3])).attribute("aCorner",b);var w=function(g){var v=hk();l.vertexShader(v.vertex()).fragmentShader(v.fragment()),s(l,"gl_Position",0),d(l,"gl_Position",1),l.vertexShader().appendBody(`
            gl_Position.x += xModifier / uScreen.x * 2.0;
        `),p(l),l(g)};return w.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.xScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],w):s},w.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},A(w,l,"context","pixelRatio"),ye(w,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),ye(w,"mainValueAttribute",l.buffers(),"attribute","aMainValue"),ye(w,"baseValueAttribute",l.buffers(),"attribute","aBaseValue"),ye(w,"bandwidthAttribute",l.buffers(),"attribute","aBandwidth"),ye(w,"definedAttribute",l.buffers(),"attribute","aDefined"),w},pk=function(){var l=Ye(qt),s=Ye(Wt);return l.appendHeader(Cv.header).appendBody(Cv.body),s.appendHeader(Hv.header).appendBody(Hv.body),{vertex:function(){return l},fragment:function(){return s}}},Jv=function(){var l=on().mode(an.TRIANGLES).subInstanceCount(18),s=it(),d=it(),p=function(){},b=Oi(),w=Ae().divisor(0).size(3).type(Ee.BYTE).data([[0,1,1],[0,1,-1],[0,-1,-1],[0,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1],[-1,-1,1],[-1,1,-1],[-1,1,1],[1,1,1],[1,1,-1]]);l.buffers().elementIndices(xa([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,8,11,10])).attribute("aCorner",w);var m=function(v){var _=pk();l.vertexShader(_.vertex()).fragmentShader(_.fragment()),s(l,"gl_Position",0),d(l,"gl_Position",1),b(l),l.vertexShader().appendBody(`
                gl_Position.x += xModifier / uScreen.x * 2.0;
                gl_Position.y += yModifier / uScreen.y * 2.0;
            `),p(l),l(v)};return m.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.xScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},A(m,l,"context","pixelRatio"),A(m,b,"lineWidth"),ye(m,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),ye(m,"highValueAttribute",l.buffers(),"attribute","aHighValue"),ye(m,"lowValueAttribute",l.buffers(),"attribute","aLowValue"),ye(m,"bandwidthAttribute",l.buffers(),"attribute","aBandwidth"),ye(m,"definedAttribute",l.buffers(),"attribute","aDefined"),m},gk=function(){var l=Ye(qt),s=Ye(Wt);return l.appendHeader(Mv.header).appendBody(Mv.body),s.appendHeader(Lv.header).appendBody(Lv.body),{vertex:function(){return l},fragment:function(){return s}}},ex=function(){var l=on().mode(an.TRIANGLES).subInstanceCount(12),s=it(),d=it(),p=Oi(),b=function(){},w=Ae().divisor(0).size(3).type(Ee.BYTE).data([[0,2,1],[0,2,-1],[0,-2,-1],[0,-2,1],[1,-1,0],[-1,-1,0],[-1,1,0],[1,1,0]]);l.buffers().elementIndices(xa([0,1,2,0,3,2,4,5,6,4,7,6])).attribute("aCorner",w);var m=function(v){var _=gk();l.vertexShader(_.vertex()).fragmentShader(_.fragment()),s(l,"gl_Position",0),d(l,"gl_Position",1),p(l),l.vertexShader().appendBody(`
          gl_Position.x += xModifier / uScreen.x * 2.0;
          gl_Position.y += yModifier / uScreen.y * 2.0;
        `),b(l),l(v)};return m.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],m):b},m.xScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},A(m,l,"context","pixelRatio"),A(m,p,"lineWidth"),ye(m,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),ye(m,"openValueAttribute",l.buffers(),"attribute","aOpenValue"),ye(m,"highValueAttribute",l.buffers(),"attribute","aHighValue"),ye(m,"lowValueAttribute",l.buffers(),"attribute","aLowValue"),ye(m,"closeValueAttribute",l.buffers(),"attribute","aCloseValue"),ye(m,"bandwidthAttribute",l.buffers(),"attribute","aBandwidth"),ye(m,"definedAttribute",l.buffers(),"attribute","aDefined"),m},vk=function(){var l=Ye(qt),s=Ye(Wt);return l.appendHeader(Vv.header).appendBody(Vv.body),s.appendHeader(Fv.header).appendBody(Fv.body),{vertex:function(){return l},fragment:function(){return s}}},tx=function(){var l=on().mode(an.TRIANGLES).subInstanceCount(54),s=it(),d=it(),p=function(){},b=Oi(),w=Ae().divisor(0).size(4).type(Ee.BYTE).data([[-1,-2,-1,1],[1,-2,-1,1],[1,-2,1,1],[-1,-2,1,1],[0,-2,-1,0],[0,-2,1,0],[0,-1,1,0],[0,-1,-1,0],[-1,-1,-1,1],[1,-1,-1,1],[1,-1,1,1],[-1,-1,1,1],[-1,0,-1,1],[1,0,-1,1],[1,0,1,1],[-1,0,1,1],[-1,1,-1,1],[1,1,-1,1],[1,1,1,1],[-1,1,1,1],[-1,-1,-1,0],[-1,-1,1,0],[-1,1,1,0],[-1,1,-1,0],[1,-1,-1,0],[1,-1,1,0],[1,1,1,0],[1,1,-1,0],[0,2,-1,0],[0,2,1,0],[0,1,1,0],[0,1,-1,0],[-1,2,-1,1],[1,2,-1,1],[1,2,1,1],[-1,2,1,1]]);l.buffers().elementIndices(xa([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23,24,25,26,24,26,27,28,29,30,28,30,31,32,33,34,32,34,35])).attribute("aCorner",w);var m=function(v){var _=vk();l.vertexShader(_.vertex()).fragmentShader(_.fragment()),s(l,"gl_Position",0),d(l,"gl_Position",1),b(l),l.vertexShader().appendBody(`
            gl_Position.x += xModifier / uScreen.x * 2.0;
            gl_Position.y += yModifier / uScreen.y * 2.0;
        `),p(l),l(v)};return m.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.xScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},A(m,l,"context","pixelRatio"),A(m,b,"lineWidth"),ye(m,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),ye(m,"highValueAttribute",l.buffers(),"attribute","aHighValue"),ye(m,"upperQuartileValueAttribute",l.buffers(),"attribute","aUpperQuartileValue"),ye(m,"medianValueAttribute",l.buffers(),"attribute","aMedianValue"),ye(m,"lowerQuartileValueAttribute",l.buffers(),"attribute","aLowerQuartileValue"),ye(m,"lowValueAttribute",l.buffers(),"attribute","aLowValue"),ye(m,"bandwidthAttribute",l.buffers(),"attribute","aBandwidth"),ye(m,"capAttribute",l.buffers(),"attribute","aCapWidth"),ye(m,"definedAttribute",l.buffers(),"attribute","aDefined"),m},Vn=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(l>0||s<0)throw new Error("Offset values (".concat(l," & ").concat(s,") must straddle 0 "));var d=Al(),p=Gv(),b=function w(m){var g=w.size()*nd(w.type()),v=Math.abs(l)*g;if(d.offset(v).size(w.size()).type(w.type()),d(m),!!p.dirty()){var _=p(),S=s*g,C=v+_.length*nd(w.type())+S,V=m.context();V.bindBuffer(V.ARRAY_BUFFER,d.buffer()),V.bufferData(V.ARRAY_BUFFER,C,V.DYNAMIC_DRAW),V.bufferSubData(V.ARRAY_BUFFER,v,_)}};return b.offset=function(w){if(l>w||w>s)throw new Error("Requested offset ".concat(w," exceeds bounds (").concat(l," & ").concat(s,") "));var m=function(v){d.offset((w-l)*b.size()*nd(b.type())),d(v)};return A(m,b,"clear","location"),m},b.clear=function(){d.buffer(null),p.clear()},A(b,d,"normalized","location","divisor"),A(b,p,"data","value","size","type"),b},kl=function(){var l=it(),s=function(b){return"linear".concat(b)},d=function(b,w,m){b.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(s(m),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(s(m),"Scale;")).appendBody("".concat(w," = ").concat(w," + ").concat(s(m),"Offset;")).appendBody("".concat(w," = ").concat(w," * ").concat(s(m),"Scale;"));var g=l.domain()[1]-l.domain()[0],v=l.range()[1]-l.range()[0],_=l.range()[0]*(g/v)-l.domain()[0],S=v/g,C=[0,0,0,0],V=[1,1,1,1];C[m]=_,V[m]=S,b.buffers().uniform("".concat(s(m),"Offset"),Qt(C)).uniform("".concat(s(m),"Scale"),Qt(V))};return k(d,l),d},rx=function(){var l=it(),s=10;function d(w,m){return Math.log10(w)/Math.log10(m)}var p=function(m){return"log".concat(m)},b=function(m,g,v){var _="".concat(p(v),"Offset + (").concat(p(v),"Scale * clamp(log(").concat(g,") / log(").concat(p(v),"Base), -inf, inf))");m.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(p(v),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(v),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(v),"Include;")).appendHeaderIfNotExists("uniform float ".concat(p(v),"Base;")).appendBody("".concat(g," = (").concat(p(v),"Include * (").concat(_,")) + ((1.0 - ").concat(p(v),"Include) * ").concat(g,");"));var S=d(l.domain()[1],s)-d(l.domain()[0],s),C=l.range()[1]-l.range()[0],V=C/S,E=l.range()[0]-V*d(l.domain()[0],s),P=[0,0,0,0],z=[0,0,0,0],F=[0,0,0,0];P[v]=E,z[v]=V,F[v]=1,m.buffers().uniform("".concat(p(v),"Offset"),Qt(P)).uniform("".concat(p(v),"Scale"),Qt(z)).uniform("".concat(p(v),"Include"),Qt(F)).uniform("".concat(p(v),"Base"),Qt(s))};return b.base=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],b):s},k(b,l),b},nx=function(){var l=it(),s=1;function d(w,m){return Math.sign(w)*Math.pow(Math.abs(w),m)}var p=function(m){return"pow".concat(m)},b=function(m,g,v){var _="".concat(p(v),"Offset + (").concat(p(v),"Scale * sign(").concat(g,") * pow(abs(").concat(g,"), vec4(").concat(p(v),"Exp)))");m.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(p(v),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(v),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(v),"Include;")).appendHeaderIfNotExists("uniform float ".concat(p(v),"Exp;")).appendBody("".concat(g," = (").concat(p(v),"Include * (").concat(_,")) + ((1.0 - ").concat(p(v),"Include) * ").concat(g,");"));var S=d(l.domain()[1],s)-d(l.domain()[0],s),C=l.range()[1]-l.range()[0],V=C/S,E=l.range()[0]-V*d(l.domain()[0],s),P=[0,0,0,0],z=[0,0,0,0],F=[0,0,0,0];P[v]=E,z[v]=V,F[v]=1,m.buffers().uniform("".concat(p(v),"Offset"),Qt(P)).uniform("".concat(p(v),"Scale"),Qt(z)).uniform("".concat(p(v),"Include"),Qt(F)).uniform("".concat(p(v),"Exp"),Qt(s))};return b.exponent=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],b):s},k(b,l),b},xk=r.scaleLinear().copy.toString(),bk=r.scaleLog().copy.toString(),yk=r.scalePow().copy.toString(),wk=r.scaleTime().copy.toString(),ad=r.scaleIdentity(),_k=Date.now(),ax=function(s){return s-_k},Nn=function(l){switch(l.copy.toString()){case xk:return{scale:ad,webglScale:kl().domain(l.domain())};case wk:return{scale:ax,webglScale:kl().domain(l.domain().map(ax))};case bk:return{scale:ad,webglScale:rx().domain(l.domain()).base(l.base())};case yk:return{scale:ad,webglScale:nx().domain(l.domain()).exponent(l.exponent())};default:return{scale:l.copy(),webglScale:kl().domain(l.range())}}},Sk=function(){var l=Ye(qt),s=Ye(Wt);return l.appendHeader(yv.header).appendBody(yv.body),s.appendHeader(Iv.header).appendBody(Iv.body),{vertex:function(){return l},fragment:function(){return s}}},Mk=function(){var l=Ye(qt),s=Ye(Wt);return l.appendHeader(_v.header).appendBody(_v.body),s.appendHeader(Pv.header).appendBody(Pv.body),{vertex:function(){return l},fragment:function(){return s}}},Ak=function(){var l=Ye(qt),s=Ye(Wt);return l.appendHeader(Sv.header).appendBody(Sv.body),s.appendHeader(Rv.header).appendBody(Rv.body),{vertex:function(){return l},fragment:function(){return s}}},kk=function(){var l=Ye(qt),s=Ye(Wt);return l.appendHeader(wv.header).appendBody(wv.body),s.appendHeader(zv.header).appendBody(zv.body),{vertex:function(){return l},fragment:function(){return s}}},Ck=function(){var l=Ye(qt),s=Ye(Wt);return l.appendHeader(xv.header).appendBody(xv.body),s.appendHeader(Dv.header).appendBody(Dv.body),{vertex:function(){return l},fragment:function(){return s}}},Tk=function(){var l=Ye(qt),s=Ye(Wt);return l.appendHeader(bv.header).appendBody(bv.body),s.appendHeader(Ev.header).appendBody(Ev.body),{vertex:function(){return l},fragment:function(){return s}}},ox=function(l){switch(l){case f.symbolCircle:return Xv();case f.symbolSquare:return Sk();case f.symbolTriangle:return Mk();case f.symbolCross:return Ak();case f.symbolDiamond:return kk();case f.symbolStar:return Ck();case f.symbolWye:return Tk();default:throw new Error("Unrecognised symbol: ".concat(l))}},ix=function(l){var s=Al().divisor(1),d=l,p=!0,b=function(m){if(s(m),!!p){if(!Array.isArray(d))throw new Error("Expected an array, received: ".concat(d));if(d.length!==s.size())throw new Error("Expected array of length: ".concat(s.size(),", recieved array of length: ").concat(d.length));var g=m.context();g["vertexAttrib".concat(d.length,"fv")](s.location(),d),g.disableVertexAttribArray(s.location()),p=!1}};return b.clear=function(){p=!0},b.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p=!0,b):d},A(b,s,"normalized","size","location"),b},Vk=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,1],s=Ae().size(4),d=l,p=!0,b=function(m){if(m.vertexShader().appendHeaderIfNotExists(pv.header).appendBodyIfNotExists(pv.body),m.fragmentShader().appendHeaderIfNotExists(qv.header).appendBodyIfNotExists(qv.body),Array.isArray(d))m.buffers().attribute("aFillColor",ix(d).size(4));else if(typeof d=="function"){if(!p)return;s.value(d),m.buffers().attribute("aFillColor",s)}else throw new Error("Expected value to be an array or function, received ".concat(d));p=!1};return b.value=function(){return arguments.length?(d!==(arguments.length<=0?void 0:arguments[0])&&(d=arguments.length<=0?void 0:arguments[0],p=!0),b):d},A(b,s,"data"),b},Nk=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,1],s=Ae().size(4),d=l,p=!0,b=function(m){if(m.vertexShader().appendHeaderIfNotExists(gv.header).appendBodyIfNotExists(gv.body),m.fragmentShader().appendHeaderIfNotExists(Wv.header).appendBodyIfNotExists(Wv.body),Array.isArray(d))m.buffers().attribute("aStrokeColor",ix(d).size(4));else if(typeof d=="function"){if(!p)return;s.value(d),m.buffers().attribute("aStrokeColor",s)}else throw new Error("Expected value to be an array or function, received ".concat(d));p=!1};return b.value=function(){return arguments.length?(d!==(arguments.length<=0?void 0:arguments[0])&&(d=arguments.length<=0?void 0:arguments[0],p=!0),b):d},A(b,s,"data"),b},ux=function(){var l=rr(),s=Vn(0,1),d=s.offset(1),p=Vn(0,1),b=p.offset(1),w=Vn(0,1).type(Ee.UNSIGNED_BYTE),m=w.offset(1),g=Qv().crossValueAttribute(s).crossNextValueAttribute(d).mainValueAttribute(p).mainNextValueAttribute(b).definedAttribute(w).definedNextAttribute(m),v=function(z,F){return!1},_=Nn,S=[],C=null,V=null,E=function(z){var F=_(l.xScale()),Y=_(l.yScale()),q=!v(S,z);q&&(S=z,w.value(function(W,Q){return l.defined()(W,Q)}).data(z)),(q||F.scale!==C)&&(C=F.scale,l.orient()==="vertical"?s.value(function(W,Q){return F.scale(l.crossValue()(W,Q))}).data(z):s.value(function(W,Q){return F.scale(l.mainValue()(W,Q))}).data(z)),(q||Y.scale!==V)&&(V=Y.scale,l.orient()==="vertical"?p.value(function(W,Q){return Y.scale(l.mainValue()(W,Q))}).data(z):p.value(function(W,Q){return Y.scale(l.crossValue()(W,Q))}).data(z)),g.xScale(F.webglScale).yScale(Y.webglScale).decorate(function(W){return l.decorate()(W,z,0)}),g(z.length)};return E.equals=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],E):v},E.scaleMapper=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],E):_},k(E,l,O("baseValue","bandwidth","align")),A(E,g,"context","lineWidth","pixelRatio"),E},lx=function(){var l=f.symbol(),s=rr(),d=Re("g","point"),p=function(m){return"translate("+m[0]+", "+m[1]+")"},b=function(m){at(m)&&d.transition(m),m.each(function(g,v,_){var S=g.filter(s.defined()),C=d(u.select(_[v]),S);C.enter().attr("transform",function(V,E){return p(s.values(V,E).origin)}).attr("fill",et.gray).attr("stroke",et.black).append("path"),C.attr("transform",function(V,E){return p(s.values(V,E).origin)}).select("path").attr("d",l),s.decorate()(C,g,v)})};return k(b,s,O("baseValue","bandwidth","align")),A(b,d,"key"),A(b,l,"type","size"),b},fx=function(){var l=f.symbol(),s=rr(),d=function(b){var w=b.filter(s.defined()),m=l.context();w.forEach(function(g,v){m.save();var _=s.values(g,v);m.translate(_.origin[0],_.origin[1]),m.beginPath(),m.strokeStyle=et.black,m.fillStyle=et.gray,s.decorate()(m,g,v),l(g,v),m.fill(),m.stroke(),m.closePath(),m.restore()})};return k(d,s,O("baseValue","bandwidth","align")),A(d,l,"size","type","context"),d},Dk=function(){var l=rr(),s=$e(64),d=f.symbolCircle,p=Ae(),b=Ae(),w=Ae().type(Ee.UNSIGNED_SHORT),m=Ae().type(Ee.UNSIGNED_BYTE),g=jv().crossValueAttribute(p).mainValueAttribute(b).sizeAttribute(w).definedAttribute(m),v=function(z,F){return!1},_=Nn,S=[],C=null,V=null,E=function(z){var F=_(l.xScale()),Y=_(l.yScale()),q=!v(S,z);q&&(S=z,w.value(function(W,Q){return s(W,Q)}).data(z),m.value(function(W,Q){return l.defined()(W,Q)}).data(z)),(q||F.scale!==C)&&(C=F.scale,l.orient()==="vertical"?p.value(function(W,Q){return F.scale(l.crossValue()(W,Q))}).data(z):p.value(function(W,Q){return F.scale(l.mainValue()(W,Q))}).data(z)),(q||Y.scale!==V)&&(V=Y.scale,l.orient()==="vertical"?b.value(function(W,Q){return Y.scale(l.mainValue()(W,Q))}).data(z):b.value(function(W,Q){return Y.scale(l.crossValue()(W,Q))}).data(z)),g.xScale(F.webglScale).yScale(Y.webglScale).type(ox(d)).decorate(function(W){return l.decorate()(W,z,0)}),g(z.length)};return E.size=function(){return arguments.length?(s=$e(arguments.length<=0?void 0:arguments[0]),E):s},E.type=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],E):d},E.equals=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],E):v},E.scaleMapper=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],E):_},k(E,l,O("baseValue","bandwidth","align")),A(E,g,"context","pixelRatio"),E},Ek=function(){var l=Ao().x(0).y(0),s=rr(),d=Re("g","bar"),p=function(v){return s.orient()==="vertical"?v.height:v.width},b=function(v){return s.orient()==="vertical"?v.width:v.height},w=function(v){return"translate("+v[0]+", "+v[1]+")"},m=function(v){at(v)&&d.transition(v),v.each(function(_,S,C){var V=s.orient();if(V!=="vertical"&&V!=="horizontal")throw new Error("The bar series does not support an orientation of "+V);var E=_.filter(s.defined()),P=E.map(s.values);l.width(0).height(0),s.orient()==="vertical"?(l.verticalAlign("top"),l.horizontalAlign("center")):(l.horizontalAlign("right"),l.verticalAlign("center"));var z=d(u.select(C[S]),E);z.enter().attr("transform",function(F,Y){return w(P[Y].baseOrigin)}).attr("class","bar "+s.orient()).attr("fill",et.darkGray).append("path").attr("d",function(F,Y){return b(l)(P[Y].width),l([F])}),z.attr("transform",function(F,Y){return w(P[Y].origin)}).select("path").attr("d",function(F,Y){return b(l)(P[Y].width),p(l)(-P[Y].height),l([F])}),s.decorate()(z,E,S)})};return k(m,s),A(m,d,"key"),m},Ik=function(){var l=rr(),s=Ao().x(0).y(0),d=function(m){return l.orient()==="vertical"?m.height:m.width},p=function(m){return l.orient()==="vertical"?m.width:m.height},b=function(m){var g=s.context(),v=m.filter(l.defined()),_=v.map(l.values);l.orient()==="vertical"?(s.verticalAlign("top"),s.horizontalAlign("center")):(s.horizontalAlign("right"),s.verticalAlign("center")),_.forEach(function(S,C){g.save(),g.beginPath(),g.translate(S.origin[0],S.origin[1]),g.fillStyle=et.darkGray,g.strokeStyle="transparent",l.decorate()(g,S.d,C),d(s)(-S.height),p(s)(S.width),s([S]),g.fill(),g.stroke(),g.closePath(),g.restore()})};return k(b,l),A(b,s,"context"),b},zk=function(){var l=rr(),s=Ae(),d=Ae(),p=Ae(),b=Ae().type(Ee.UNSIGNED_SHORT),w=Ae().type(Ee.UNSIGNED_BYTE),m=Zv().crossValueAttribute(s).mainValueAttribute(d).baseValueAttribute(p).bandwidthAttribute(b).definedAttribute(w),g=function(P,z){return!1},v=Nn,_=[],S=null,C=null,V=function(P){if(l.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(l.orient()));var z=v(l.xScale()),F=v(l.yScale()),Y=!g(_,P);Y&&(_=P,b.value(function(q,W){return l.bandwidth()(q,W)}).data(P),w.value(function(q,W){return l.defined()(q,W)}).data(P)),(Y||z.scale!==S)&&(S=z.scale,s.value(function(q,W){return z.scale(l.crossValue()(q,W))}).data(P)),(Y||F.scale!==C)&&(C=F.scale,p.value(function(q,W){return F.scale(l.baseValue()(q,W))}).data(P),d.value(function(q,W){return F.scale(l.mainValue()(q,W))}).data(P)),m.xScale(z.webglScale).yScale(F.webglScale).decorate(function(q){return l.decorate()(q,P,0)}),m(P.length)};return V.equals=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],V):g},V.scaleMapper=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],V):v},k(V,l,O("align")),A(V,m,"context","pixelRatio"),V},od=function(){var l=function(v){return v.high},s=function(v){return v.low},d=function(v){return v.cross},p="vertical",b="center",w=function(){return 5},m=va({decorate:function(){},defined:function(v,_){return Ri(s,l,d)(v,_)},xScale:r.scaleIdentity(),yScale:r.scaleIdentity()});return m.values=function(g,v){var _=w(g,v),S=Li(b,_),C=m.xScale(),V=m.yScale();if(p==="vertical"){var E=V(l(g,v));return{origin:[C(d(g,v))+S,E],high:0,low:V(s(g,v))-E,width:_}}else{var P=C(s(g,v));return{origin:[P,V(d(g,v))+S],high:C(l(g,v))-P,low:0,width:_}}},m.xValues=function(){return p==="vertical"?[d]:[l,s]},m.yValues=function(){return p!=="vertical"?[d]:[l,s]},m.orient=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.lowValue=function(){return arguments.length?(s=$e(arguments.length<=0?void 0:arguments[0]),m):s},m.highValue=function(){return arguments.length?(l=$e(arguments.length<=0?void 0:arguments[0]),m):l},m.crossValue=function(){return arguments.length?(d=$e(arguments.length<=0?void 0:arguments[0]),m):d},m.bandwidth=function(){return arguments.length?(w=$e(arguments.length<=0?void 0:arguments[0]),m):w},m.align=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],m):b},m},Pk=function(){var l=od(),s=Re("g","error-bar"),d=Qc().value(0),p=function(g){return function(v){return at(g)?v.transition(g):v}},b=function(g){return"translate("+g.origin[0]+", "+g.origin[1]+")"},w=function(g){at(g)&&s.transition(g);var v=p(g);g.each(function(_,S,C){var V=_.filter(l.defined()),E=V.map(l.values),P=s(u.select(C[S]),V);P.enter().attr("stroke",et.black).attr("fill",et.gray).attr("transform",function(z,F){return b(l.values(z,F))+" scale(1e-6, 1)"}).append("path"),d.orient(l.orient()),P.each(function(z,F,Y){var q=E[F];d.high(q.high).low(q.low).width(q.width),v(u.select(Y[F])).attr("transform",b(q)+" scale(1)").select("path").attr("d",d([z]))}),l.decorate()(P,_,S)})};return k(w,l),A(w,s,"key"),w},Rk=function(){var l=od(),s=Qc().value(0),d=function(b){var w=b.filter(l.defined()),m=s.context();s.orient(l.orient()),w.forEach(function(g,v){m.save();var _=l.values(g,v);m.translate(_.origin[0],_.origin[1]),m.beginPath(),m.strokeStyle=et.black,m.fillStyle=et.gray,l.decorate()(m,g,v),s.high(_.high).width(_.width).low(_.low)([g]),m.fill(),m.stroke(),m.closePath(),m.restore()})};return k(d,l),A(d,s,"context"),d},Lk=function(){var l=od(),s=Ae(),d=Ae(),p=Ae(),b=Ae().type(Ee.UNSIGNED_SHORT),w=Ae().type(Ee.UNSIGNED_BYTE),m=Jv().crossValueAttribute(s).highValueAttribute(d).lowValueAttribute(p).bandwidthAttribute(b).definedAttribute(w),g=function(P,z){return!1},v=Nn,_=[],S=null,C=null,V=function(P){if(l.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(l.orient()));var z=v(l.xScale()),F=v(l.yScale()),Y=!g(_,P);Y&&(_=P,b.value(function(q,W){return l.bandwidth()(q,W)}).data(P),w.value(function(q,W){return l.defined()(q,W)}).data(P)),(Y||z.scale!==S)&&(S=z.scale,s.value(function(q,W){return z.scale(l.crossValue()(q,W))}).data(P)),(Y||F.scale!==C)&&(C=F.scale,d.value(function(q,W){return F.scale(l.highValue()(q,W))}).data(P),p.value(function(q,W){return F.scale(l.lowValue()(q,W))}).data(P)),m.xScale(z.webglScale).yScale(F.webglScale).decorate(function(q){return l.decorate()(q,P,0)}),m(P.length)};return V.equals=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],V):g},V.scaleMapper=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],V):v},k(V,l,O("align")),A(V,m,"context","lineWidth","pixelRatio"),V},Ok=function(){var l=rr(),s=f.area(),d=Re("path","area"),p=function(w){at(w)&&d.transition(w),s.defined(l.defined()),w.each(function(m,g,v){var _=m.map(l.values);s.x(function(V,E){return _[E].transposedX}).y(function(V,E){return _[E].transposedY});var S=l.orient()==="vertical"?"y":"x";s[S+"0"](function(V,E){return _[E].y0}),s[S+"1"](function(V,E){return _[E].y});var C=d(u.select(v[g]),[m]);C.enter().attr("fill",et.gray),C.attr("d",s),l.decorate()(C,m,g)})};return k(p,l,O("bandwidth","align")),A(p,d,"key"),A(p,s,"curve"),p},Bk=function(){var l=rr(),s=f.area(),d=function(b){var w=s.context();s.defined(l.defined());var m=b.map(l.values);s.x(function(v,_){return m[_].transposedX}).y(function(v,_){return m[_].transposedY});var g=l.orient()==="vertical"?"y":"x";s[g+"0"](function(v,_){return m[_].y0}),s[g+"1"](function(v,_){return m[_].y}),w.beginPath(),w.fillStyle=et.gray,w.strokeStyle="transparent",l.decorate()(w,b),s(b),w.fill(),w.stroke(),w.closePath()};return k(d,l,O("bandwidth","align")),A(d,s,"curve","context"),d},Fk=function(){var l=rr(),s=Vn(0,1),d=s.offset(1),p=Vn(0,1),b=p.offset(1),w=Vn(0,1),m=w.offset(1),g=Vn(0,1).type(Ee.UNSIGNED_BYTE),v=g.offset(1),_=Uv().crossValueAttribute(s).crossNextValueAttribute(d).mainValueAttribute(p).mainNextValueAttribute(b).baseValueAttribute(w).baseNextValueAttribute(m).definedAttribute(g).definedNextAttribute(v),S=function(Y,q){return!1},C=Nn,V=[],E=null,P=null,z=function(Y){if(l.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(l.orient()));var q=C(l.xScale()),W=C(l.yScale()),Q=!S(V,Y);Q&&(V=Y,g.value(function(oe,pe){return l.defined()(oe,pe)}).data(Y)),(Q||q.scale!==E)&&(E=q.scale,s.value(function(oe,pe){return q.scale(l.crossValue()(oe,pe))}).data(Y)),(Q||W.scale!==P)&&(P=W.scale,w.value(function(oe,pe){return W.scale(l.baseValue()(oe,pe))}).data(Y),p.value(function(oe,pe){return W.scale(l.mainValue()(oe,pe))}).data(Y)),_.xScale(q.webglScale).yScale(W.webglScale).decorate(function(oe){return l.decorate()(oe,Y,0)}),_(Y.length)};return z.equals=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],z):S},z.scaleMapper=function(){return arguments.length?(C=arguments.length<=0?void 0:arguments[0],z):C},k(z,l,O("bandwidth","align")),A(z,_,"context","pixelRatio"),z},id=function(){var l,s=function(S){return S.date},d=function(S){return S.open},p=function(S){return S.high},b=function(S){return S.low},w=function(S){return S.close},m=function(){return 5},g="center",v=function(S,C){return l.xScale()(s(S,C))};return l=va({decorate:function(){},defined:function(S,C){return Ri(s,d,b,p,w)(S,C)},xScale:r.scaleIdentity(),yScale:r.scaleIdentity()}),l.values=function(_,S){var C=w(_,S),V=d(_,S),E=m(_,S),P=Li(g,E),z="";return C>V?z="up":C<V&&(z="down"),{cross:v(_,S)+P,open:l.yScale()(V),high:l.yScale()(p(_,S)),low:l.yScale()(b(_,S)),close:l.yScale()(C),width:E,direction:z}},l.xValues=function(){return[s]},l.yValues=function(){return[d,p,b,w]},l.crossValue=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],l):s},l.openValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],l):d},l.highValue=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],l):p},l.lowValue=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],l):b},l.yValue=l.closeValue=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],l):w},l.bandwidth=function(){return arguments.length?(m=$e(arguments.length<=0?void 0:arguments[0]),l):m},l.align=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],l):g},l},sx=function(l,s){var d=id(),p=Re("g",s),b=function(v){return"translate("+v.cross+", "+v.high+")"},w=function(v){return function(_){return at(v)?_.transition(v):_}},m=function(v){at(v)&&p.transition(v);var _=w(v);v.each(function(S,C,V){var E=S.filter(d.defined()),P=p(u.select(V[C]),E);P.enter().attr("transform",function(z,F){return b(d.values(z,F))+" scale(1e-6, 1)"}).append("path"),P.each(function(z,F,Y){var q=d.values(z,F),W=q.direction==="up"?et.green:et.red,Q=_(u.select(Y[F])).attr("class",s+" "+q.direction).attr("stroke",W).attr("fill",W).attr("transform",function(){return b(q)+" scale(1)"});l.x(0).width(q.width).open(function(){return q.open-q.high}).high(0).low(function(){return q.low-q.high}).close(function(){return q.close-q.high}),Q.select("path").attr("d",l([z]))}),d.decorate()(P,S,C)})};return A(m,p,"key"),k(m,d),m},Hk=function(){return sx(Xc(),"candlestick")},cx=function(l){var s=id(),d=function(b){var w=b.filter(s.defined()),m=l.context();w.forEach(function(g,v){m.save();var _=s.values(g,v);m.translate(_.cross,_.high),m.beginPath(),l.x(0).open(function(){return _.open-_.high}).width(_.width).high(0).low(function(){return _.low-_.high}).close(function(){return _.close-_.high})([g]);var S=_.direction==="up"?et.green:et.red;m.strokeStyle=S,m.fillStyle=S,s.decorate()(m,g,v),m.fill(),m.stroke(),m.closePath(),m.restore()})};return A(d,l,"context"),k(d,s),d},Yk=function(){return cx(Xc())},dx=function(l){var s=id(),d=Ae(),p=Ae(),b=Ae(),w=Ae(),m=Ae(),g=Ae().type(Ee.UNSIGNED_SHORT),v=Ae().type(Ee.UNSIGNED_BYTE);l.crossValueAttribute(d).openValueAttribute(p).highValueAttribute(b).lowValueAttribute(w).closeValueAttribute(m).bandwidthAttribute(g).definedAttribute(v);var _=function(F,Y){return!1},S=Nn,C=[],V=null,E=null,P=function(F){var Y=S(s.xScale()),q=S(s.yScale()),W=!_(C,F);W&&(C=F,g.value(function(Q,oe){return s.bandwidth()(Q,oe)}).data(F),v.value(function(Q,oe){return s.defined()(Q,oe)}).data(F)),(W||Y.scale!==V)&&(V=Y.scale,d.value(function(Q,oe){return Y.scale(s.crossValue()(Q,oe))}).data(F)),(W||q.scale!==E)&&(E=q.scale,p.value(function(Q,oe){return q.scale(s.openValue()(Q,oe))}).data(F),b.value(function(Q,oe){return q.scale(s.highValue()(Q,oe))}).data(F),w.value(function(Q,oe){return q.scale(s.lowValue()(Q,oe))}).data(F),m.value(function(Q,oe){return q.scale(s.closeValue()(Q,oe))}).data(F)),l.xScale(Y.webglScale).yScale(q.webglScale).decorate(function(Q){return s.decorate()(Q,F,0)}),l(F.length)};return P.equals=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],P):_},P.scaleMapper=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],P):S},k(P,s,O("align")),A(P,l,"context","lineWidth","pixelRatio"),P},qk=function(){return dx(ex())},ud=function(){var l=function(C){return C.upperQuartile},s=function(C){return C.lowerQuartile},d=function(C){return C.high},p=function(C){return C.low},b=function(C){return C.value},w=function(C){return C.median},m="vertical",g="center",v=function(){return 5},_=va({decorate:function(){},defined:function(C,V){return Ri(p,d,s,l,b,w)(C,V)},xScale:r.scaleIdentity(),yScale:r.scaleIdentity()});return _.values=function(S,C){var V=v(S,C),E=Li(g,V),P=_.xScale(),z=_.yScale();if(m==="vertical"){var F=z(d(S,C));return{origin:[P(b(S,C))+E,F],high:0,upperQuartile:z(l(S,C))-F,median:z(w(S,C))-F,lowerQuartile:z(s(S,C))-F,low:z(p(S,C))-F,width:V}}else{var Y=P(p(S,C));return{origin:[Y,z(b(S,C))+E],high:P(d(S,C))-Y,upperQuartile:P(l(S,C))-Y,median:P(w(S,C))-Y,lowerQuartile:P(s(S,C))-Y,low:0,width:V}}},_.xValues=function(){return m==="vertical"?[b]:[l,s,d,p,w]},_.yValues=function(){return m!=="vertical"?[b]:[l,s,d,p,w]},_.orient=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],_):m},_.lowerQuartileValue=function(){return arguments.length?(s=$e(arguments.length<=0?void 0:arguments[0]),_):s},_.upperQuartileValue=function(){return arguments.length?(l=$e(arguments.length<=0?void 0:arguments[0]),_):l},_.lowValue=function(){return arguments.length?(p=$e(arguments.length<=0?void 0:arguments[0]),_):p},_.highValue=function(){return arguments.length?(d=$e(arguments.length<=0?void 0:arguments[0]),_):d},_.crossValue=function(){return arguments.length?(b=$e(arguments.length<=0?void 0:arguments[0]),_):b},_.medianValue=function(){return arguments.length?(w=$e(arguments.length<=0?void 0:arguments[0]),_):w},_.bandwidth=function(){return arguments.length?(v=$e(arguments.length<=0?void 0:arguments[0]),_):v},_.align=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],_):g},_},Wk=function(){var l=ud(),s=Re("g","box-plot"),d=jc().value(0),p=function(g){return function(v){return at(g)?v.transition(g):v}},b=function(g){return"translate("+g.origin[0]+", "+g.origin[1]+")"},w=function(g){at(g)&&s.transition(g);var v=p(g);g.each(function(_,S,C){var V=_.filter(l.defined()),E=s(u.select(C[S]),V);E.enter().attr("stroke",et.black).attr("fill",et.gray).attr("transform",function(P,z){return b(l.values(P,z))+" scale(1e-6, 1)"}).append("path"),d.orient(l.orient()),E.each(function(P,z,F){var Y=l.values(P,z);d.median(Y.median).upperQuartile(Y.upperQuartile).lowerQuartile(Y.lowerQuartile).width(Y.width).high(Y.high).low(Y.low),v(u.select(F[z])).attr("transform",b(Y)).select("path").attr("d",d([P]))}),l.decorate()(E,_,S)})};return k(w,l),A(w,s,"key"),A(w,d,"cap"),w},$k=function(){var l=ud(),s=jc().value(0),d=function(b){var w=b.filter(l.defined()),m=s.context();s.orient(l.orient()),w.forEach(function(g,v){m.save();var _=l.values(g,v);m.translate(_.origin[0],_.origin[1]),m.beginPath(),m.fillStyle=et.gray,m.strokeStyle=et.black,l.decorate()(m,g,v),s.median(_.median).upperQuartile(_.upperQuartile).lowerQuartile(_.lowerQuartile).high(_.high).width(_.width).low(_.low)([g]),m.fill(),m.stroke(),m.closePath(),m.restore()})};return k(d,l),A(d,s,"cap","context"),d},Gk=function(){var l=ud(),s=Ae(),d=Ae(),p=Ae(),b=Ae(),w=Ae(),m=Ae(),g=Ae().type(Ee.UNSIGNED_SHORT),v=Ae().type(Ee.UNSIGNED_SHORT),_=Ae().type(Ee.UNSIGNED_BYTE),S=tx().crossValueAttribute(s).highValueAttribute(d).upperQuartileValueAttribute(p).medianValueAttribute(b).lowerQuartileValueAttribute(w).lowValueAttribute(m).bandwidthAttribute(g).capAttribute(v).definedAttribute(_),C=function(W,Q){return!1},V=Nn,E=[],P=null,z=null,F=$e(20),Y=function(W){if(l.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(l.orient()));var Q=V(l.xScale()),oe=V(l.yScale()),pe=!C(E,W);pe&&(E=W,g.value(function(ge,he){return l.bandwidth()(ge,he)}).data(W),v.value(function(ge,he){return F(ge,he)}).data(W),_.value(function(ge,he){return l.defined()(ge,he)}).data(W)),(pe||Q.scale!==P)&&(P=Q.scale,s.value(function(ge,he){return Q.scale(l.crossValue()(ge,he))}).data(W)),(pe||oe.scale!==z)&&(z=oe.scale,d.value(function(ge,he){return oe.scale(l.highValue()(ge,he))}).data(W),p.value(function(ge,he){return oe.scale(l.upperQuartileValue()(ge,he))}).data(W),b.value(function(ge,he){return oe.scale(l.medianValue()(ge,he))}).data(W),w.value(function(ge,he){return oe.scale(l.lowerQuartileValue()(ge,he))}).data(W),m.value(function(ge,he){return oe.scale(l.lowValue()(ge,he))}).data(W)),S.xScale(Q.webglScale).yScale(oe.webglScale).decorate(function(ge){return l.decorate()(ge,W,0)}),S(W.length)};return Y.cap=function(){return arguments.length?(F=$e(arguments.length<=0?void 0:arguments[0]),Y):F},Y.equals=function(){return arguments.length?(C=arguments.length<=0?void 0:arguments[0],Y):C},Y.scaleMapper=function(){return arguments.length?(V=arguments.length<=0?void 0:arguments[0],Y):V},k(Y,l,O("align")),A(Y,S,"context","lineWidth","pixelRatio"),Y},Uk=function(){return sx(Uc(),"ohlc")},Xk=function(){return cx(Uc())},jk=function(){return dx(Kv())},ld=function(){var l=[],s=function(w){return w},d=function(w,m){return m},p=va({decorate:function(){},xScale:r.scaleIdentity(),yScale:r.scaleIdentity()});return p.xValues=function(){return l.map(function(b){return b.xValues()}).reduce(function(b,w){return b.concat(w)})},p.yValues=function(){return l.map(function(b){return b.yValues()}).reduce(function(b,w){return b.concat(w)})},p.mapping=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],p):s},p.key=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p.series=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},p},fd=function(){var l=ld(),s=Re("g"),d=Re("g","multi"),p=function(w){at(w)&&(d.transition(w),s.transition(w));var m=l.mapping(),g=l.series(),v=l.xScale(),_=l.yScale();w.each(function(S,C,V){var E=d(u.select(V[C]),g);E.each(function(P,z,F){P.xScale(v).yScale(_);var Y=m(S,z,g),q=s(u.select(F[z]),[Y]);q.call(P)}),E.selection().order(),l.decorate()(E,S,C)})};return k(p,l),A(p,d,"key"),p},sd=function(){var l=null,s=ld(),d=function(b){var w=s.mapping(),m=s.series(),g=s.xScale(),v=s.yScale();m.forEach(function(_,S){var C=w(b,S,m);_.context(l).xScale(g).yScale(v);var V;_.decorate?(V=_.decorate(),_.decorate(function(E,P,z){s.decorate()(E,b,S),V(E,P,z)})):s.decorate()(l,b,S),_(C),V&&_.decorate(V)})};return d.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],d):l},k(d,s),d},mx=function(){var l=null,s=1,d=ld(),p=function(w){var m=d.mapping(),g=d.series(),v=d.xScale(),_=d.yScale();g.forEach(function(S,C){var V=m(w,C,g);S.context(l).pixelRatio(s).xScale(v).yScale(_);var E;S.decorate?(E=S.decorate(),S.decorate(function(P,z,F){d.decorate()(P,w,C),E(P,z,F)})):d.decorate()(l,w,C),S(V),E&&S.decorate(E)})};return p.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},p.pixelRatio=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],p):s},k(p,d),p},hx=function(l){var s=function(){return 50},d="center",p=r.scaleBand(),b=va({decorate:function(){},xScale:r.scaleLinear(),yScale:r.scaleLinear()});return b.offsetScaleForDatum=function(w,m,g){var v=s(m,g),_=Li(d,v),S=v/2;return p.domain(t.range(0,w.length)).range([-S+_,S+_])},b.bandwidth=function(){return arguments.length?(s=$e(arguments.length<=0?void 0:arguments[0]),b):s},b.align=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},k(b,p,R({paddingInner:"paddingOuter"})),b},Qk=function(l){var s=hx(),d=Re("g","grouped"),p=function(w){at(w)&&d.transition(w),w.each(function(m,g,v){var _=d(u.select(v[g]),m);_.enter().append("g"),_.select("g").each(function(S,C,V){var E=u.select(V[C]),P=l.orient()!=="horizontal",z=function(Y,q){var W=s.offsetScaleForDatum(m,Y,q),Q=P?s.xScale():s.yScale();return Q(Y)+W(C)+W.bandwidth()/2};P?(l.xScale(z),l.yScale(s.yScale())):(l.yScale(z),l.xScale(s.xScale())),l.bandwidth&&l.bandwidth(function(F,Y){return s.offsetScaleForDatum(m,F,Y).bandwidth()}),l.decorate(function(F,Y){return s.decorate()(F,Y,C)}),E.call(l)})})};return k(p,l,O("decorate","xScale","yScale")),k(p,s,O("offsetScaleForDatum")),p};function Kk(l){var s=hx(),d=function(b){b.forEach(function(w,m){var g=l.orient()!=="horizontal",v=function(S,C){var V=s.offsetScaleForDatum(b,S,C),E=g?s.xScale():s.yScale();return E(S)+V(m)+V.bandwidth()/2};g?(l.xScale(v),l.yScale(s.yScale())):(l.yScale(v),l.xScale(s.xScale())),l.bandwidth&&l.bandwidth(function(_,S){return s.offsetScaleForDatum(b,_,S).bandwidth()}),l.decorate(function(_,S){return s.decorate()(_,S,m)}),l(w)})};return k(d,l,O("decorate","xScale","yScale")),k(d,s,O("offsetScaleForDatum")),d}var Zk=function(){var l="vertical",s=td(),d=fd(),p=function(w){return w.each(function(m,g,v){l==="vertical"?d.series(m[0].map(function(_){return s})).mapping(function(_,S){return _.map(function(C){return C[S]})}):d.series(m.map(function(_){return s})).mapping(function(_,S){return _[S]}),u.select(v[g]).call(d)})};return p.series=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],p):s},p.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},k(p,d,O("series","mapping")),p},Jk=function(){var l="vertical",s=rd(),d=sd(),p=function(w){l==="vertical"?d.series(w[0].map(function(m){return s})).mapping(function(m,g){return m.map(function(v){return v[g]})}):d.series(w.map(function(m){return s})).mapping(function(m,g){return m[g]}),d(w)};return p.series=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],p):s},p.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},k(p,d,O("series","mapping")),p},eC=function(){var l="vertical",s=function(){return ux()},d=mx(),p=[],b=function(m){if(l==="vertical"){var g=p;p=m[0].map(function(_,S){return S<g.length?g[S]:s()}),d.series(p).mapping(function(_,S){return _.map(function(C){return C[S]})})}else{var v=p;p=m.map(function(_,S){return S<v.length?v[S]:s()}),d.series(p).mapping(function(_,S){return _[S]})}d(m)};return b.series=function(){for(var w=arguments.length,m=new Array(w),g=0;g<w;g++)m[g]=arguments[g];return m.length?(typeof m[0].xScale=="function"&&typeof m[0].yScale=="function"?s=function(){return m[0]}:s=m[0],p=[],b):s},b.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p=[],b):l},k(b,d,O("series","mapping")),b},tC=function(s){return s.sort(t.ascending).filter(function(d,p,b){return b.indexOf(d,p+1)===-1})},rC=function(l){var s=.75,d=function(m){if(m.length<=1)return 10;m=tC(m);var g=t.pairs(m).map(function(_){return Math.abs(_[0]-_[1])}),v=t.min(g);return s*v},p=function(m,g,v){if(m.bandwidth)return m.bandwidth();var _,S=Array.isArray(g)?(_=[]).concat.apply(_,be(g)):g,C=S.filter(l.defined()).map(v()).map(m),V=d(C);return V},b=function(m){var g=function(_){if(l.xBandwidth&&l.yBandwidth)l.xBandwidth(p(l.xScale(),_,l.xValue)),l.yBandwidth(p(l.yScale(),_,l.yValue));else{var S=l.orient&&l.orient()==="horizontal"?l.yScale():l.xScale();l.bandwidth(p(S,_,l.crossValue))}};m instanceof u.selection?m.each(function(v,_,S){g(v),l(u.select(S[_]))}):(g(m),l(m))};return k(b,l),b.widthFraction=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],b):s},b},px=function(){var l=function(v){return v.x},s=function(v){return v.y},d=function(v){return v.color},p=function(){return 5},b=function(){return 5},w=c.interpolateViridis,m=va({decorate:function(){},defined:function(v,_){return Ri(l,s,d)(v,_)},xScale:r.scaleIdentity(),yScale:r.scaleIdentity()});return m.pathGenerator=Ao().x(0).y(0),m.colorScale=function(g){var v=g.map(d);return r.scaleLinear().domain([t.min(v),t.max(v)])},m.values=function(g,v){return{x:m.xScale()(l(g,v)),y:m.yScale()(s(g,v)),colorValue:d(g,v),width:b(g,v),height:p(g,v)}},m.xValues=function(){return[l]},m.yValues=function(){return[s]},m.xValue=function(){return arguments.length?(l=$e(arguments.length<=0?void 0:arguments[0]),m):l},m.yValue=function(){return arguments.length?(s=$e(arguments.length<=0?void 0:arguments[0]),m):s},m.colorValue=function(){return arguments.length?(d=$e(arguments.length<=0?void 0:arguments[0]),m):d},m.colorInterpolate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],m):w},m.xBandwidth=function(){return arguments.length?(b=$e(arguments.length<=0?void 0:arguments[0]),m):b},m.yBandwidth=function(){return arguments.length?(p=$e(arguments.length<=0?void 0:arguments[0]),m):p},k(m,m.pathGenerator,R({horizontalAlign:"xAlign",verticalAlign:"yAlign"})),m},nC=function(){var l=px(),s=Re("g","box"),d=function(w){return"translate("+w.x+", "+w.y+")"},p=function(w){w.each(function(m,g,v){var _=m.filter(l.defined()),S=l.colorValue(),C=l.colorInterpolate(),V=l.colorScale(_),E=s(u.select(v[g]),_);E.enter().append("path").attr("stroke","transparent"),E.attr("transform",function(P,z){return d(l.values(P,z))}).select("path").attr("d",function(P,z){return l.pathGenerator.width(l.values(P,z).width).height(l.values(P,z).height)([P])}).attr("fill",function(P,z){return C(V(S(P,z)))}),l.decorate()(E,m,g)})};return k(p,l),p},aC=function(){var l=px(),s=function(p){var b=p.filter(l.defined()),w=l.colorInterpolate(),m=l.colorScale(b),g=l.pathGenerator.context();b.forEach(function(v,_){g.save(),g.beginPath();var S=l.values(v,_);g.translate(S.x,S.y),g.fillStyle=w(m(S.colorValue)),g.strokeStyle="transparent",l.decorate()(g,v,_),l.pathGenerator.height(S.height).width(S.width)([v]),g.fill(),g.stroke(),g.closePath(),g.restore()})};return A(s,l.pathGenerator,"context"),k(s,l),s},Dn=function(l){return typeof l=="function"?l:function(){return l}},oC=function(){var l=r.scaleIdentity(),s=r.scaleIdentity(),d="horizontal",p=function(S){return S.from},b=function(S){return S.to},w=function(){},m=Re("g","annotation-band"),g=Ao().horizontalAlign("center").verticalAlign("center").x(0).y(0),v=function(S){if(at(S)&&m.transition(S),d!=="horizontal"&&d!=="vertical")throw new Error("Invalid orientation");var C=d==="horizontal",V=C?function(Q,oe){return"translate(".concat(Q,", ").concat(oe,")")}:function(Q,oe){return"translate(".concat(oe,", ").concat(Q,")")},E=C?l:s,P=C?s:l,z=E.range(),F=z[1]-z[0],Y=C?"height":"width",q=C?"width":"height",W=function(){return V((z[1]+z[0])/2,(P(b.apply(void 0,arguments))+P(p.apply(void 0,arguments)))/2)};g[q](F),g[Y](function(){return P(b.apply(void 0,arguments))-P(p.apply(void 0,arguments))}),S.each(function(Q,oe,pe){var ge=m(u.select(pe[oe]),Q);ge.enter().attr("transform",W).append("path").classed("band",!0),ge.attr("class","annotation-band ".concat(d)).attr("transform",W).select("path").attr("d",function(he,Ce){return g([he],Ce)}),w(ge,Q,oe)})};return v.xScale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],v):l},v.yScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],v):s},v.orient=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],v):d},v.decorate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],v):w},v.fromValue=function(){return arguments.length?(p=Dn(arguments.length<=0?void 0:arguments[0]),v):p},v.toValue=function(){return arguments.length?(b=Dn(arguments.length<=0?void 0:arguments[0]),v):b},v},iC=function(){var l=r.scaleIdentity(),s=r.scaleIdentity(),d="horizontal",p=function(_){return _.from},b=function(_){return _.to},w=function(){},m=Ao().horizontalAlign("right").verticalAlign("top"),g=function(_){if(d!=="horizontal"&&d!=="vertical")throw new Error("Invalid orientation");var S=m.context(),C=d==="horizontal",V=C?l:s,E=C?s:l,P=V.range(),z=P[1]-P[0],F=C?"x":"y",Y=C?"y":"x",q=C?"height":"width",W=C?"width":"height";_.forEach(function(Q,oe){S.save(),S.beginPath(),S.strokeStyle="transparent",m[Y](E(p(Q))),m[F](P[0]),m[W](z),m[q](E(b(Q))-E(p(Q))),w(S,Q,oe),m.context(S)([Q],oe),S.fill(),S.stroke(),S.closePath(),S.restore()})};return g.xScale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.yScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],g):s},g.orient=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],g):d},g.decorate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],g):w},g.fromValue=function(){return arguments.length?(p=Dn(arguments.length<=0?void 0:arguments[0]),g):p},g.toValue=function(){return arguments.length?(b=Dn(arguments.length<=0?void 0:arguments[0]),g):b},A(g,m,"context"),g},cd=function(){var l=r.scaleIdentity(),s=r.scaleIdentity(),d=function(_){return _},p=d,b=function(){},w="horizontal",m=Re("g","annotation-line"),g=function(_){if(at(_)&&m.transition(_),w!=="horizontal"&&w!=="vertical")throw new Error("Invalid orientation");var S=w==="horizontal",C=S?function(he,Ce){return"translate(".concat(he,", ").concat(Ce,")")}:function(he,Ce){return"translate(".concat(Ce,", ").concat(he,")")},V=S?"x2":"y2",E=S?l:s,P=S?s:l,z=S?"left-handle":"bottom-handle",F=S?"right-handle":"top-handle",Y=S?"9":"0",q=S?"0":"9",W=S?"0.32em":"0.71em",Q=S?"start":"middle",oe=E.range(),pe=function(){return C(oe[0],P(d.apply(void 0,arguments)))},ge=oe[1]-oe[0];_.each(function(he,Ce,xt){var Kt=m(u.select(xt[Ce]),he),Dr=Kt.enter().attr("transform",pe).style("stroke","#bbb");Dr.append("line").attr(V,ge),Dr.append("g").classed(z,!0).style("stroke","none"),Dr.append("g").classed(F,!0).style("stroke","none").attr("transform",C(ge,0)).append("text").attr("text-anchor",Q).attr("x",Y).attr("y",q).attr("dy",W),Kt.attr("class","annotation-line ".concat(w)),Kt.attr("transform",pe),Kt.select("line").attr(V,ge),Kt.select("g."+F).attr("transform",C(ge,0)),Kt.select("text").text(p),b(Kt,he,Ce)})};return g.xScale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.yScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],g):s},g.value=function(){return arguments.length?(d=Dn(arguments.length<=0?void 0:arguments[0]),g):d},g.label=function(){return arguments.length?(p=Dn(arguments.length<=0?void 0:arguments[0]),g):p},g.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],g):b},g.orient=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],g):w},g};function uC(){var l=function(z){return z.x},s=function(z){return z.y},d=r.scaleIdentity(),p=r.scaleIdentity(),b=function(){},w=Re("g","annotation-crosshair"),m=lx(),g=cd(),v=cd().orient("vertical"),_=r.scaleIdentity(),S=r.scaleIdentity(),C=fd().series([g,v,m]).xScale(_).yScale(S).mapping(function(P){return[P]}),V=function(z){at(z)&&w.transition(z),z.each(function(F,Y,q){var W=w(u.select(q[Y]),F);W.enter().style("pointer-events","none"),_.range(d.range()),S.range(p.range()),m.crossValue(l).mainValue(s),g.value(s),v.value(l),W.call(C),b(W,F,Y)})};V.x=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],V):l},V.y=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],V):s},V.xScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],V):d},V.yScale=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],V):p},V.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],V):b};var E=B("label");return k(V,g,E,L("y")),k(V,v,E,L("x")),V}var dd=function(){var l=r.scaleIdentity(),s=r.scaleIdentity(),d=function(_){return _},p=d,b=function(){},w="horizontal",m=f.line(),g=function(_){if(w!=="horizontal"&&w!=="vertical")throw new Error("Invalid orientation");var S=w==="horizontal",C=m.context(),V=S?l:s,E=S?s:l,P=V.domain(),z=S?9:0,F=S?0:9,Y=S?"left":"center",q=S?"middle":"hanging";_.forEach(function(W,Q){C.save(),C.beginPath(),C.strokeStyle="#bbb",C.fillStyle="#000",C.textAlign=Y,C.textBaseline=q,b(C,W,Q),m.context(C)(P.map(function(ge){var he=[V(ge),E(d(W))];return S?he:he.reverse()}));var oe=S?V(P[1]):E(d(W)),pe=S?E(d(W)):V(P[1]);C.fillText(p(W),oe+z,pe+F),C.fill(),C.stroke(),C.closePath(),C.restore()})};return g.xScale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.yScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],g):s},g.value=function(){return arguments.length?(d=Dn(arguments.length<=0?void 0:arguments[0]),g):d},g.label=function(){return arguments.length?(p=Dn(arguments.length<=0?void 0:arguments[0]),g):p},g.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],g):b},g.orient=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],g):w},A(g,m,"context"),g},lC=function(){var l=function(E){return E.x},s=function(E){return E.y},d=r.scaleIdentity(),p=r.scaleIdentity(),b=fx(),w=dd(),m=dd().orient("vertical"),g=r.scaleIdentity(),v=r.scaleIdentity(),_=sd().series([w,m,b]).xScale(g).yScale(v).mapping(function(V){return[V]}),S=function(E){E.forEach(function(P){g.range(d.range()),v.range(p.range()),b.crossValue(l).mainValue(s),w.value(s),m.value(l),_(P)})};S.x=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],S):l},S.y=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],S):s},S.xScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],S):d},S.yScale=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],S):p};var C=B("label","decorate");return k(S,w,C,L("y")),k(S,m,C,L("x")),A(S,b,"decorate"),A(S,_,"context"),S},Cl=function(){var l=r.scaleIdentity(),s=[10],d=null,p=function(){var w;return d??(l.ticks?(w=l).ticks.apply(w,be(s)):l.domain())};return p.scale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},p.ticks=function(){for(var b=arguments.length,w=new Array(b),m=0;m<b;m++)w[m]=arguments[m];return s=w,p},p.tickArguments=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],p):s},p.tickValues=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p},gx=function(s){return s},fC=function(){var l=function(){},s=function(){},d=Cl(),p=Cl(),b=Re("line","gridline-y").key(gx),w=Re("line","gridline-x").key(gx),m=function(v){at(v)&&(b.transition(v),w.transition(v)),v.each(function(_,S,C){var V=C[S],E=u.select(C[S]),P=d.scale(),z=p.scale(),F=V.__x_scale__||P;V.__x_scale__=P.copy();var Y=d(),q=b(E,Y);q.enter().attr("x1",F).attr("x2",F).attr("y1",z.range()[0]).attr("y2",z.range()[1]).attr("stroke","#bbb"),q.attr("x1",P).attr("x2",P).attr("y1",z.range()[0]).attr("y2",z.range()[1]),q.exit().attr("x1",P).attr("x2",P),l(q,Y,S);var W=V.__y_scale__||z;V.__y_scale__=z.copy();var Q=p(),oe=w(E,Q);oe.enter().attr("y1",W).attr("y2",W).attr("x1",P.range()[0]).attr("x2",P.range()[1]).attr("stroke","#bbb"),oe.attr("y1",z).attr("y2",z).attr("x1",P.range()[0]).attr("x2",P.range()[1]),oe.exit().attr("y1",z).attr("y2",z),s(oe,Q,S)})};return m.yDecorate=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.xDecorate=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],m):l},k(m,b,R({key:"xKey"})),k(m,w,R({key:"yKey"})),k(m,d,L("x")),k(m,p,L("y")),m},sC=function(){var l=function(){},s=function(){},d=Cl(),p=Cl(),b=f.line(),w=function(){var g=b.context(),v=d.scale(),_=p.scale();d().forEach(function(S,C){g.save(),g.beginPath(),g.strokeStyle="#bbb",g.fillStyle="transparent",l(g,S,C),b.context(g)(_.domain().map(function(V){return[v(S),_(V)]})),g.fill(),g.stroke(),g.closePath(),g.restore()}),p().forEach(function(S,C){g.save(),g.beginPath(),g.strokeStyle="#bbb",g.fillStyle="transparent",s(g,S,C),b.context(g)(v.domain().map(function(V){return[v(V),_(S)]})),g.fill(),g.stroke(),g.closePath(),g.restore()})};return w.yDecorate=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],w):s},w.xDecorate=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],w):l},k(w,d,L("x")),k(w,p,L("y")),A(w,b,"context"),w},cC=function(s){return s},vx=function(s,d,p,b){return s[d]?s[d].apply(s,p):b},xx=function(s){var d;return(d=s.tickValues())!==null&&d!==void 0?d:vx(s.scale(),"ticks",s.tickArguments(),s.scale().domain())},bx=function(s){var d;return(d=s.tickFormat())!==null&&d!==void 0?d:vx(s.scale(),"tickFormat",s.tickArguments(),cC)},dC=function(s){return s},yx=function(s,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=[10],w=null,m=function(){},g=null,v=6,_=6,S=3,C=f.line(),V=Re("g","tick").key(dC),E=Re("path","domain"),P=function(){return{offset:[0,_+S]}},z=function(){return{path:[[0,0],[0,_]]}},F=p.labelOffset||P,Y=p.tickPath||z,q=function(he,Ce){var xt=0;return he.bandwidth&&(xt=he.bandwidth()/2,he.round()&&(xt=Math.round(xt))),function(Kt){return Ce(he(Kt)+xt,0)}},W=function(he,Ce){return oe()?"translate(".concat(Ce,", ").concat(he,")"):"translate(".concat(he,", ").concat(Ce,")")},Q=function(he){return oe()?he.map(function(Ce){return[Ce[1],Ce[0]]}):he},oe=function(){return s==="left"||s==="right"},pe=function ge(he){at(he)&&(V.transition(he),E.transition(he)),he.each(function(Ce,xt,Kt){var Dr=Kt[xt],Yi=u.select(Dr);Dr.__scale__||Yi.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",s==="right"?"start":s==="left"?"end":"middle");var yd=Dr.__scale__||d;Dr.__scale__=d.copy();var ba=xx(ge),Te=bx(ge),ko=s==="bottom"||s==="right"?1:-1,Mt=function(Le){var Ke=se(Le,2),yt=Ke[0],nr=Ke[1];return[yt,ko*nr]},Er=d.range(),En=Q([[Er[0],ko*v],[Er[0],0],[Er[1],0],[Er[1],ko*v]]),st=E(Yi,[Ce]);st.enter().attr("stroke","#000"),st.attr("d",C(En));var Ir=V(Yi,ba),qi=ba.map(function(Se,Le){return F(Se,Le,ba)}),bt=ba.map(function(Se,Le){return Y(Se,Le,ba)});Ir.enter().attr("transform",q(yd,W)).append("path").attr("stroke","#000"),Ir.enter().append("text").attr("transform",function(Se,Le){return W.apply(void 0,be(Mt(qi[Le].offset)))}).attr("fill","#000"),Ir.exit().attr("transform",q(d,W)),Ir.select("path").attr("visibility",function(Se,Le){return bt[Le].hidden&&"hidden"}).attr("d",function(Se,Le){return C(Q(bt[Le].path.map(Mt)))}),Ir.select("text").attr("visibility",function(Se,Le){return qi[Le].hidden&&"hidden"}).attr("transform",function(Se,Le){return W.apply(void 0,be(Mt(qi[Le].offset)))}).attr("dy",function(){var Se="0em";return oe()?Se="0.32em":s==="bottom"&&(Se="0.71em"),Se}).text(Te),Ir.attr("transform",q(d,W)),m(Ir,Ce,xt)})};return pe.tickFormat=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],pe):g},pe.tickSize=function(){return arguments.length?(_=v=Number(arguments.length<=0?void 0:arguments[0]),pe):_},pe.tickSizeInner=function(){return arguments.length?(_=Number(arguments.length<=0?void 0:arguments[0]),pe):_},pe.tickSizeOuter=function(){return arguments.length?(v=Number(arguments.length<=0?void 0:arguments[0]),pe):v},pe.tickPadding=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],pe):S},pe.decorate=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],pe):m},pe.scale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],pe):d},pe.ticks=function(){for(var ge=arguments.length,he=new Array(ge),Ce=0;Ce<ge;Ce++)he[Ce]=arguments[Ce];return b=[].concat(he),pe},pe.tickArguments=function(){return arguments.length?(b=(arguments.length<=0?void 0:arguments[0])==null?[]:be(arguments.length<=0?void 0:arguments[0]),pe):b!==null?b.slice():null},pe.tickValues=function(){return arguments.length?(w=(arguments.length<=0?void 0:arguments[0])==null?[]:be(arguments.length<=0?void 0:arguments[0]),pe):w!==null?w.slice():null},pe.orient=function(){return s},pe},Tl=function(s,d){var p=!1,b=function(v,_,S){var C=0,V=w.tickSizeInner()+w.tickPadding(),E=!1;if(p){var P=d(v),z=_<S.length-1?d(S[_+1]):d.range()[1];C=(z-P)/2,V=w.tickPadding(),E=_===S.length-1&&P===z}return{offset:[C,V],hidden:E}},w=yx(s,d,{labelOffset:b}),m=function(v){return w(v)};return m.tickCenterLabel=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},k(m,w),m},wx=function(s){return Tl("top",s)},_x=function(s){return Tl("bottom",s)},Sx=function(s){return Tl("left",s)},Mx=function(s){return Tl("right",s)},Vl=function(s,d){var p=null,b=function(S,C,V){if(d.step)return d.step();var E=d(S);return C<V.length-1?d(V[C+1])/E:(d.range()[1]-E)*2},w=function(S,C,V){var E=0;return p?E=p(S,C):E=b(S,C,V)/2,{path:[[E,0],[E,g.tickSizeInner()]],hidden:C===V.length-1}},m=function(){return{offset:[0,g.tickPadding()]}},g=yx(s,d,{labelOffset:m,tickPath:w}),v=function(S){g(S)};return v.tickOffset=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],v):p},k(v,g),v},mC=function(s){return Vl("top",s)},hC=function(s){return Vl("bottom",s)},pC=function(s){return Vl("left",s)},gC=function(s){return Vl("right",s)},Ax=function(l){var s=function(p){var b=xx(l),w=bx(l),m=b.map(w),g=p.append("text"),v=m.map(function(C){return g.text(C).node().getBBox()}),_=Math.max.apply(Math,be(v.map(function(C){return C.height}))),S=Math.max.apply(Math,be(v.map(function(C){return C.width})));return g.remove(),{maxHeight:_,maxWidth:S,labelCount:m.length}};return s},vC=function(l){var s="auto",d=function(){},p=function(){return l.orient()==="left"||l.orient()==="right"},b=function(){return l.orient()==="top"||l.orient()==="left"?-1:1},w=function(){switch(l.orient()){case"top":case"right":return"start";default:return"end"}},m=function(S){var C=Ax(l)(S),V=C.maxHeight,E=C.maxWidth,P=C.labelCount,z=P*E,F;if(s==="auto"){var Y=l.scale().range()[1];F=Y<z?90*Math.min(1,(z/Y-.8)/2):0}else F=s;return{rotate:p()?Math.floor(b()*(90-F)):Math.floor(-F),maxHeight:V,maxWidth:E,anchor:F?w():"middle"}},g=function(S){var C=m(S),V=C.rotate,E=C.maxHeight,P=C.anchor,z=S.select("text"),F=z.attr("transform"),Y=b()*Math.floor(E/2),q=p()?"translate(".concat(Y,", 0)"):"translate(0, ".concat(Y,")");z.style("text-anchor",P).attr("transform","".concat(F," ").concat(q," rotate(").concat(V," 0 0)"))},v=function(S){l(S)};return l.decorate(function(_){g(_),d(_)}),v.decorate=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],v):d},v.labelRotate=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],v):s},k(v,l,O("decorate")),v},xC=function(l){var s="auto",d=function(){},p=function(){return l.orient()==="left"||l.orient()==="right"},b=function(){return l.orient()==="top"||l.orient()==="left"?-1:1},w=function(v){var _=Ax(l)(v),S=_.maxHeight,C=_.maxWidth,V=_.labelCount,E=l.scale().range()[1],P=s==="auto"?Math.floor((p()?S:C)*V/E)+1:s,z=v.select("text"),F=z.attr("transform"),Y=function(W){return p()?"translate(".concat(W%P*C*b(),", 0)"):"translate(0, ".concat(W%P*S*b(),")")};z.attr("transform",function(q,W){return"".concat(F," ").concat(Y(W))})},m=function(v){return l(v)};return l.decorate(function(g){w(g),d(g)}),m.decorate=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},m.labelOffsetDepth=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},k(m,l,O("decorate")),m},md="__d3fc-elements__",Bi=function(s){return s[md]||{}},kx=function(s,d){return void(s[md]=d)},bC=function(s){return delete s[md]},yC=function(s){return s.tagName==="D3FC-GROUP"?[s].concat(be(s.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg"))):[s]},wC=function(s){var d=Bi(s),p=d.width,b=d.height,w=s.useDevicePixelRatio&&window.devicePixelRatio!=null?window.devicePixelRatio:1,m=s.clientWidth*w,g=s.clientHeight*w,v=m!==p||g!==b,_=s.children[0];kx(s,{pixelRatio:w,width:m,height:g,resized:v,child:_})};if(typeof CustomEvent!="function")throw new Error("d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.");var _C=function(s){var d=Bi(s),p=new CustomEvent("measure",{detail:d});s.dispatchEvent(p)},SC=function(s){var d=Bi(s),p=new CustomEvent("draw",{detail:d});s.dispatchEvent(p)},MC=function(l){var s=l.map(yC).reduce(function(d,p){return d.concat(p)});s.forEach(wC),s.forEach(_C),s.forEach(SC)},Cx=function(s){return Bi(s.ownerDocument).queue||[]},AC=function(s,d){var p=Bi(s.ownerDocument),b=p.requestId;b==null&&(b=requestAnimationFrame(function(){var w=Cx(s);MC(w),kC(s)})),kx(s.ownerDocument,{queue:d,requestId:b})},kC=function(s){return bC(s.ownerDocument)},Tx=function(s,d){var p=s;do if(p.parentNode===d)return!0;while(p=p.parentNode);return!1},hd=function(l){var s=Cx(l),d=s.indexOf(l)>-1;if(!d){var p=s.some(function(w){return Tx(l,w)});if(!p){var b=s.filter(function(w){return!Tx(w,l)});b.push(l),AC(l,b)}}};if(typeof HTMLElement!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var CC=function(s){s.__measureListener__==null&&(s.__measureListener__=function(d){return s.setMeasurements(d.detail)},s.addEventListener("measure",s.__measureListener__))},TC=function(s){s.__measureListener__!=null&&(s.removeEventListener("measure",s.__measureListener__),s.__measureListener__=null)},Vx=function(l,s){return function(d){Z(b,d);var p=Ue(b);function b(){return j(this,b),p.apply(this,arguments)}return K(b,[{key:"attributeChangedCallback",value:function(m){switch(m){case"use-device-pixel-ratio":this.requestRedraw();break}}},{key:"connectedCallback",value:function(){this.childNodes.length===0&&this.appendChild(l()),CC(this)}},{key:"disconnectedCallback",value:function(){TC(this)}},{key:"setMeasurements",value:function(m){var g=m.width,v=m.height,_=_e(this.childNodes),S=_[0],C=_.slice(1);if(C.length>0)throw new Error("A d3fc-svg/canvas element must only contain a single svg/canvas element.");s(this,S,{width:g,height:v})}},{key:"requestRedraw",value:function(){hd(this)}},{key:"useDevicePixelRatio",get:function(){return this.hasAttribute("use-device-pixel-ratio")&&this.getAttribute("use-device-pixel-ratio")!=="false"},set:function(m){m&&!this.useDevicePixelRatio?this.setAttribute("use-device-pixel-ratio",""):!m&&this.useDevicePixelRatio&&this.removeAttribute("use-device-pixel-ratio"),this.requestRedraw()}}],[{key:"observedAttributes",get:function(){return["use-device-pixel-ratio"]}}]),b}(Me(HTMLElement))},VC=function(l){Z(d,l);var s=Ue(d);function d(){return j(this,d),s.apply(this,arguments)}return K(d,[{key:"setWebglViewport",get:function(){return this.hasAttribute("set-webgl-viewport")&&this.getAttribute("set-webgl-viewport")!=="false"},set:function(b){b&&!this.setWebglViewport?this.setAttribute("set-webgl-viewport",""):!b&&this.setWebglViewport&&this.removeAttribute("set-webgl-viewport"),this.requestRedraw()}}]),d}(Vx(function(){return document.createElement("canvas")},function(l,s,d){var p=d.width,b=d.height;if(s.setAttribute("width",p),s.setAttribute("height",b),l.setWebglViewport){var w=s.getContext("webgl");w.viewport(0,0,p,b)}})),pd=function(s){s.autoResize?NC(s):Nx(s)},NC=function(s){s.__autoResizeListener__==null&&(s.__autoResizeListener__=function(){return hd(s)},addEventListener("resize",s.__autoResizeListener__))},Nx=function(s){s.__autoResizeListener__!=null&&(removeEventListener("resize",s.__autoResizeListener__),s.__autoResizeListener__=null)},DC=function(l){Z(d,l);var s=Ue(d);function d(){return j(this,d),s.apply(this,arguments)}return K(d,[{key:"connectedCallback",value:function(){pd(this)}},{key:"disconnectedCallback",value:function(){Nx(this)}},{key:"requestRedraw",value:function(){hd(this)}},{key:"attributeChangedCallback",value:function(b){switch(b){case"auto-resize":pd(this);break}}},{key:"autoResize",get:function(){return this.hasAttribute("auto-resize")&&this.getAttribute("auto-resize")!=="false"},set:function(b){b&&!this.autoResize?this.setAttribute("auto-resize",""):!b&&this.autoResize&&this.removeAttribute("auto-resize"),pd(this)}}],[{key:"observedAttributes",get:function(){return["auto-resize"]}}]),d}(Me(HTMLElement)),EC=Vx(function(){return document.createElementNS("http://www.w3.org/2000/svg","svg")},function(l,s,d){var p=d.width,b=d.height;s.setAttribute("viewBox","0 0 ".concat(p," ").concat(b))}),Dx="d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}",Fi=document.createElement("style");if(Fi.setAttribute("type","text/css"),document.querySelector("head").appendChild(Fi),Fi.styleSheet?Fi.styleSheet.cssText+=Dx:Fi.textContent+=Dx,(typeof customElements>"u"?"undefined":ee(customElements))!=="object"||typeof customElements.define!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var gd=[],vd=function(s,d){customElements.get(s)?gd.push(s):customElements.define(s,d)};vd("d3fc-canvas",VC),vd("d3fc-group",DC),vd("d3fc-svg",EC),gd.length>0&&console.warn('The d3fc components "'.concat(gd.join(", "),'" is/are already registered on window. Be aware that this can create compatibility issues if different versions are used.'));var IC=function(){var l=h.dispatch("point");function s(b){var w=u.pointer(b);l.call("point",this,[{x:w[0],y:w[1]}])}function d(){l.call("point",this,[])}var p=function(w){w.on("mouseenter.pointer",s).on("mousemove.pointer",s).on("mouseleave.pointer",d)};return A(p,l,"on"),p},zC=function(){var l="",s="vertical",d=function(g,v){return Number(g[v])},p=function(g){return Object.keys(g[0]).filter(function(v){return v!==l}).map(function(v){var _=g.filter(function(S){return S[v]}).map(function(S){var C=[S[l],d(S,v)];return C.data=S,C});return _.key=v,_})},b=function(g){return g.map(function(v){var _=Object.keys(v).filter(function(S){return S!==l}).map(function(S){var C=[S,d(v,S)];return C.data=v,C});return _.key=v[l],_})},w=function(g){return s==="vertical"?p(g):b(g)};return w.key=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],w):l},w.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},w.orient=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],w):s},w},Ex=function(){for(var l={},s=function(_){for(var S=0,C=Object.keys(l);S<C.length;S++){var V=C[S];_[V].apply(null,l[V])}return _},d=arguments.length,p=new Array(d),b=0;b<d;b++)p[b]=arguments[b];for(var w=function(){var _=g[m];s[_]=function(){for(var S=arguments.length,C=new Array(S),V=0;V<S;V++)C[V]=arguments[V];return C.length?(l[_]=C,s):l[_]}},m=0,g=p;m<g.length;m++)w();return s},Ix=`d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}
d3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:1;-ms-grid-row:1;}
d3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}
d3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}
d3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}
d3fc-group.cartesian-chart>.y-label{display:flex;transform:rotate(-90deg);width:1em;white-space:nowrap;justify-content:center;}`,Hi=document.createElement("style");Hi.setAttribute("type","text/css"),document.querySelector("head").appendChild(Hi),Hi.styleSheet?Hi.styleSheet.cssText+=Ix:Hi.textContent+=Ix;var $t=function(s){return typeof s=="function"?s:function(){return s}},zx=function(){var l=PC.apply(void 0,arguments),s=l.xScale,d=l.yScale,p=l.xAxis,b=l.yAxis,w=$t(""),m=$t(""),g=$t(""),v=$t(null),_=$t(null),S=$t("right"),C=$t("bottom"),V=null,E=null,P=null,z=!1,F=!0,Y=Ex("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),q=function(){},W=Ex("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),Q=function(){},oe=function(){},pe=Re("d3fc-group","cartesian-chart"),ge=Re("d3fc-canvas","webgl-plot-area"),he=Re("d3fc-canvas","canvas-plot-area"),Ce=Re("d3fc-svg","svg-plot-area"),xt=Re("d3fc-svg","x-axis").key(function(Mt){return Mt}),Kt=Re("d3fc-svg","y-axis").key(function(Mt){return Mt}),Dr=Re("div","chart-label"),Yi=Re("div","x-label").key(function(Mt){return Mt}),yd=Re("div","y-label").key(function(Mt){return Mt}),ba=function(Er){return function(En){return at(Er)?En.transition(Er):En}},Te=function(Er){var En=ba(Er);Er.each(function(st,Ir,qi){var bt=pe(u.select(qi[Ir]),[st]);bt.enter().attr("auto-resize",""),Dr(bt,[C(st)]).attr("class",function(Se){return Se==="top"?"chart-label bottom-label":"chart-label top-label"}).style("margin-bottom",function(Se){return Se==="top"?0:"1em"}).style("margin-top",function(Se){return Se==="top"?"1em":0}).text(w(st)),Yi(bt,[C(st)]).attr("class",function(Se){return"x-label ".concat(Se,"-label")}).text(m(st)),yd(bt,[S(st)]).attr("class",function(Se){return"y-label ".concat(Se,"-label")}).text(g(st)),ge(bt,V?[st]:[]).attr("set-webgl-viewport","").classed("plot-area",!0).attr("use-device-pixel-ratio",F).on("draw",function(Se,Le){var Ke=Se.detail,yt=Ke.child,nr=Ke.pixelRatio;V.context(z?null:yt.getContext("webgl")).pixelRatio(nr).xScale(s).yScale(d),V(Le)}),bt.select(".webgl-plot-area>canvas").on("webglcontextlost",function(Se){console.warn("WebGLRenderingContext lost"),Se.preventDefault(),z=!0,bt.node().requestRedraw()}).on("webglcontextrestored",function(){console.info("WebGLRenderingContext restored"),z=!1,bt.node().requestRedraw()}),he(bt,E?[st]:[]).classed("plot-area",!0).attr("use-device-pixel-ratio",F).on("draw",function(Se,Le){var Ke=Se.detail,yt=Ke.child,nr=Ke.pixelRatio,In=yt.getContext("2d");In.save(),F&&In.scale(nr,nr),E.context(In).xScale(s).yScale(d),E(Le),In.restore()}),Ce(bt,P?[st]:[]).classed("plot-area",!0).on("draw",function(Se,Le){var Ke=Se.detail.child;P.xScale(s).yScale(d),En(u.select(Ke).datum(Le)).call(P)}),xt(bt,[C(st)]).attr("class",function(Se){return"x-axis ".concat(Se,"-axis")}).style("height",v(st)).on("measure",function(Se,Le){var Ke=Se.detail,yt=Ke.width,nr=Ke.height,In=Ke.child;Le==="top"&&u.select(In).attr("viewBox","0 ".concat(-nr," ").concat(yt," ").concat(nr)),s.range([0,yt])}).on("draw",function(Se,Le){var Ke=Se.detail.child,yt=Le==="top"?p.top(s):p.bottom(s);yt.decorate(q),En(u.select(Ke).datum(Le)).call(Y(yt))}),Kt(bt,[S(st)]).attr("class",function(Se){return"y-axis ".concat(Se,"-axis")}).style("width",_(st)).on("measure",function(Se,Le){var Ke=Se.detail,yt=Ke.width,nr=Ke.height,In=Ke.child;Le==="left"&&u.select(In).attr("viewBox","".concat(-yt," 0 ").concat(yt," ").concat(nr)),d.range([nr,0])}).on("draw",function(Se,Le){var Ke=Se.detail.child,yt=Le==="left"?b.left(d):b.right(d);yt.decorate(Q),En(u.select(Ke).datum(Le)).call(W(yt))}),bt.each(function(Se,Le,Ke){return Ke[Le].requestRedraw()}),oe(bt,st,Ir)})},ko=O(/range\w*/,/tickFormat/);return k(Te,s,ko,L("x")),k(Te,d,ko,L("y")),k(Te,Y,L("x")),k(Te,W,L("y")),Te.xOrient=function(){return arguments.length?(C=$t(arguments.length<=0?void 0:arguments[0]),Te):C},Te.yOrient=function(){return arguments.length?(S=$t(arguments.length<=0?void 0:arguments[0]),Te):S},Te.xDecorate=function(){return arguments.length?(q=arguments.length<=0?void 0:arguments[0],Te):q},Te.yDecorate=function(){return arguments.length?(Q=arguments.length<=0?void 0:arguments[0],Te):Q},Te.chartLabel=function(){return arguments.length?(w=$t(arguments.length<=0?void 0:arguments[0]),Te):w},Te.xLabel=function(){return arguments.length?(m=$t(arguments.length<=0?void 0:arguments[0]),Te):m},Te.yLabel=function(){return arguments.length?(g=$t(arguments.length<=0?void 0:arguments[0]),Te):g},Te.xAxisHeight=function(){return arguments.length?(v=$t(arguments.length<=0?void 0:arguments[0]),Te):v},Te.yAxisWidth=function(){return arguments.length?(_=$t(arguments.length<=0?void 0:arguments[0]),Te):_},Te.webglPlotArea=function(){return arguments.length?(V=arguments.length<=0?void 0:arguments[0],Te):V},Te.canvasPlotArea=function(){return arguments.length?(E=arguments.length<=0?void 0:arguments[0],Te):E},Te.svgPlotArea=function(){return arguments.length?(P=arguments.length<=0?void 0:arguments[0],Te):P},Te.decorate=function(){return arguments.length?(oe=arguments.length<=0?void 0:arguments[0],Te):oe},Te.useDevicePixelRatio=function(){return arguments.length?(F=arguments.length<=0?void 0:arguments[0],Te):F},Te},PC=function(){for(var s={xScale:r.scaleIdentity(),yScale:r.scaleIdentity(),xAxis:{bottom:_x,top:wx},yAxis:{right:Mx,left:Sx}},d=arguments.length,p=new Array(d),b=0;b<d;b++)p[b]=arguments[b];return p.length===1&&!p[0].domain&&!p[0].range?Object.assign(s,p[0]):Object.assign(s,{xScale:p[0]||s.xScale,yScale:p[1]||s.yScale})},Px=function(s){return typeof s=="function"?s:function(){return s}},Rx=function(l,s){return function(){var d=Px(""),p=s,b=function(){},w=zx.apply(void 0,arguments),m=function(v){l(w,p),w.decorate(function(_,S,C){_.enter().select(".x-label").style("height","1em").style("line-height","1em");var V=w.yOrient()(S);_.enter().append("div").attr("class","y-label-container").style("grid-column",V==="left"?1:5).style("-ms-grid-column",V==="left"?1:5).style("grid-row",3).style("-ms-grid-row",3).style("width","1em").style("display","flex").style("align-items","center").style("justify-content","center").style("white-space","nowrap").append("div").attr("class","y-label").style("transform","rotate(-90deg)"),_.select(".y-label-container>.y-label").text(d),b(_,S,C)}),v.call(w)};return k(m,w,B(/^x/,/^y/,"chartLabel")),m.yLabel=function(){return arguments.length?(d=Px(arguments.length<=0?void 0:arguments[0]),m):d},m.plotArea=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],m):b},m}},RC=Rx(function(l,s){return l.svgPlotArea(s)},td),LC=Rx(function(l,s){return l.canvasPlotArea(s)},rd),OC=function(s){switch(s){case"x":return y.brushX();case"y":return y.brushY();case"xy":return y.brush()}},xd=function(s){return[s[1],s[0]]},bd=function(s){var d=OC(s),p=h.dispatch("brush","start","end"),b=r.scaleIdentity(),w=r.scaleIdentity(),m=Re("g","brush"),g=function(z,F,Y){switch(s){case"x":return z.map(F);case"y":return z.map(Y);case"xy":return[[F(z[0][0]),Y(z[0][1])],[F(z[1][0]),Y(z[1][1])]]}},v=function(z){return g(z,r.scaleLinear().domain(b.range()).invert,r.scaleLinear().domain(xd(w.range())).invert)},_=function(z){return g(z,r.scaleLinear().domain(b.range()),r.scaleLinear().domain(xd(w.range())))},S=function(z){var F=r.scaleLinear().domain(b.domain());if(s==="x")return z.map(F.invert);if(s==="xy")return[F.invert(z[0][0]),F.invert(z[1][0])]},C=function(z){var F=r.scaleLinear().domain(xd(w.domain()));if(s==="y")return[z[1],z[0]].map(F.invert);if(s==="xy")return[F.invert(z[1][1]),F.invert(z[0][1])]},V=function(z){if(!(z.sourceEvent&&z.sourceEvent.type==="draw"))if(z.selection){var F=_(z.selection);p.call(z.type,{},{selection:F,xDomain:S(F),yDomain:C(F)})}else p.call(z.type,{},{})},E=function(z){z.each(function(F,Y,q){d.extent([[b.range()[0],w.range()[1]],[b.range()[1],w.range()[0]]]),d.on("end",function(Q){return V(Q)}).on("brush",function(Q){return V(Q)}).on("start",function(Q){return V(Q)});var W=m(u.select(q[Y]),[F]);W.call(d).call(d.move,F?v(F):null)})};return E.xScale=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],E):b},E.yScale=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],E):w},A(E,p,"on"),A(E,d,"filter","handleSize"),E},BC=function(){return bd("x")},FC=function(){return bd("y")},HC=function(){return bd("xy")},Lx=function(s,d){if(s==null&&d==null)return!0;var p=s.domain(),b=d.domain();return p.length===b.length&&p.every(function(w,m){var g;return w?.valueOf()===((g=b[m])===null||g===void 0?void 0:g.valueOf())})},YC=function(s,d){return x.zoomIdentity.scale(s.k/d.k).translate(s.x-d.x,s.y-d.y)},Nl=Symbol("d3fc-domain-zoom"),qC=function(){var l=h.dispatch("zoom"),s=x.zoom().on("zoom",function(p){var b=p.transform,w=this,m=b,g=w[Nl],v=g.originalXScale,_=g.previousXScale,S=g.xScale,C=g.originalYScale,V=g.previousYScale,E=g.yScale,P=g.previousTransform;(!Lx(_,S)||!Lx(V,E))&&(v=S?.copy(),C=E?.copy(),m=YC(b,P)),S!=null&&(_=m.rescaleX(v.range(S.range())),S.domain(_.domain())),E!=null&&(V=m.rescaleY(C.range(E.range())),E.domain(V.domain())),P=m,w[Nl]={originalXScale:v,previousXScale:_,xScale:S,originalYScale:C,previousYScale:V,yScale:E,previousTransform:P},m!==b&&s.transform(u.select(w),m),l.call("zoom")}),d=function(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;w==null&&m==null&&console.warn("Without an xScale and/or yScale specified, this component won't do anything. Perhaps you forgot to specify them e.g. selection.call(zoom, x, y)?"),b.each(function(g,v,_){var S=_[v][Nl];S!=null&&S.xScale===w&&S.yScale===m&&console.warn("This component should only be called on a selection once. Perhaps you're missing an .enter()?");var C=w?.copy(),V=m?.copy();_[v][Nl]={originalXScale:C,previousXScale:C,xScale:w,originalYScale:V,previousYScale:V,yScale:m,previousTransform:x.zoomIdentity}}).call(s)};return A(d,l,"on"),A(d,s,"extent","filter","wheelDelta","touchable","clickDistance","tapDistance","duration","interpolate"),d};e.annotationCanvasBand=iC,e.annotationCanvasCrosshair=lC,e.annotationCanvasGridline=sC,e.annotationCanvasLine=dd,e.annotationSvgBand=oC,e.annotationSvgCrosshair=uC,e.annotationSvgGridline=fC,e.annotationSvgLine=cd,e.autoBandwidth=rC,e.axisBottom=_x,e.axisLabelOffset=xC,e.axisLabelRotate=vC,e.axisLeft=Sx,e.axisOrdinalBottom=hC,e.axisOrdinalLeft=pC,e.axisOrdinalRight=gC,e.axisOrdinalTop=mC,e.axisRight=Mx,e.axisTop=wx,e.brush=HC,e.brushX=BC,e.brushY=FC,e.bucket=Ml,e.chartCanvasCartesian=LC,e.chartCartesian=zx,e.chartSvgCartesian=RC,e.dataJoin=Re,e.discontinuityIdentity=tv,e.discontinuityRange=PA,e.discontinuitySkipUtcWeekends=zA,e.discontinuitySkipUtcWeeklyPattern=YA,e.discontinuitySkipWeekends=IA,e.discontinuitySkipWeeklyPattern=FA,e.effectivelyZero=Zc,e.exclude=O,e.extentDate=lv,e.extentLinear=uv,e.extentTime=lv,e.feedGdax=GA,e.group=zC,e.include=B,e.includeMap=R,e.indicatorBollingerBands=ae,e.indicatorElderRay=DA,e.indicatorEnvelope=NA,e.indicatorExponentialMovingAverage=J,e.indicatorForceIndex=VA,e.indicatorMacd=H,e.indicatorMovingAverage=ev,e.indicatorRelativeStrengthIndex=CA,e.indicatorStochasticOscillator=TA,e.isTransition=at,e.largestTriangleOneBucket=UA,e.largestTriangleThreeBucket=XA,e.layoutAnnealing=rk,e.layoutBoundingBox=ok,e.layoutGreedy=ek,e.layoutLabel=QA,e.layoutRemoveOverlaps=ak,e.layoutTextLabel=KA,e.modeMedian=jA,e.pointer=IC,e.prefix=L,e.randomFinancial=WA,e.randomGeometricBrownianMotion=fv,e.randomSkipWeekends=$A,e.rebind=A,e.rebindAll=k,e.scaleDiscontinuous=rv,e.seriesCanvasArea=Bk,e.seriesCanvasBar=Ik,e.seriesCanvasBoxPlot=$k,e.seriesCanvasCandlestick=Yk,e.seriesCanvasErrorBar=Rk,e.seriesCanvasGrouped=Kk,e.seriesCanvasHeatmap=aC,e.seriesCanvasLine=rd,e.seriesCanvasMulti=sd,e.seriesCanvasOhlc=Xk,e.seriesCanvasPoint=fx,e.seriesCanvasRepeat=Jk,e.seriesSvgArea=Ok,e.seriesSvgBar=Ek,e.seriesSvgBoxPlot=Wk,e.seriesSvgCandlestick=Hk,e.seriesSvgErrorBar=Pk,e.seriesSvgGrouped=Qk,e.seriesSvgHeatmap=nC,e.seriesSvgLine=td,e.seriesSvgMulti=fd,e.seriesSvgOhlc=Uk,e.seriesSvgPoint=lx,e.seriesSvgRepeat=Zk,e.seriesWebglArea=Fk,e.seriesWebglBar=zk,e.seriesWebglBoxPlot=Gk,e.seriesWebglCandlestick=qk,e.seriesWebglErrorBar=Lk,e.seriesWebglLine=ux,e.seriesWebglMulti=mx,e.seriesWebglOhlc=jk,e.seriesWebglPoint=Dk,e.seriesWebglRepeat=eC,e.shapeBar=Ao,e.shapeBoxPlot=jc,e.shapeCandlestick=Xc,e.shapeErrorBar=Qc,e.shapeOhlc=Uc,e.webglAdjacentAttribute=Vn,e.webglAttribute=Ae,e.webglBaseAttribute=Al,e.webglBufferBuilder=hv,e.webglElementIndices=xa,e.webglFillColor=Vk,e.webglProgramBuilder=on,e.webglScaleLinear=kl,e.webglScaleLog=rx,e.webglScaleMapper=Nn,e.webglScalePow=nx,e.webglSeriesArea=Uv,e.webglSeriesBar=Zv,e.webglSeriesBoxPlot=tx,e.webglSeriesCandlestick=ex,e.webglSeriesErrorBar=Jv,e.webglSeriesLine=Qv,e.webglSeriesOhlc=Kv,e.webglSeriesPoint=jv,e.webglShaderBuilder=Ye,e.webglStrokeColor=Nk,e.webglSymbolMapper=ox,e.webglTypes=Ee,e.webglUniform=Qt,e.zoom=qC,Object.defineProperty(e,"__esModule",{value:!0})})});var wA=Ox(Z0=>{var Mo=Mo||{};Mo.stringify=function(){var e={"visit_linear-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-linear-gradient":function(t){return e.visit_gradient(t)},"visit_radial-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-radial-gradient":function(t){return e.visit_gradient(t)},visit_gradient:function(t){var r=e.visit(t.orientation);return r&&(r+=", "),t.type+"("+r+e.visit(t.colorStops)+")"},visit_shape:function(t){var r=t.value,n=e.visit(t.at),a=e.visit(t.style);return a&&(r+=" "+a),n&&(r+=" at "+n),r},"visit_default-radial":function(t){var r="",n=e.visit(t.at);return n&&(r+=n),r},"visit_extent-keyword":function(t){var r=t.value,n=e.visit(t.at);return n&&(r+=" at "+n),r},"visit_position-keyword":function(t){return t.value},visit_position:function(t){return e.visit(t.value.x)+" "+e.visit(t.value.y)},"visit_%":function(t){return t.value+"%"},visit_em:function(t){return t.value+"em"},visit_px:function(t){return t.value+"px"},visit_literal:function(t){return e.visit_color(t.value,t)},visit_hex:function(t){return e.visit_color("#"+t.value,t)},visit_rgb:function(t){return e.visit_color("rgb("+t.value.join(", ")+")",t)},visit_rgba:function(t){return e.visit_color("rgba("+t.value.join(", ")+")",t)},visit_color:function(t,r){var n=t,a=e.visit(r.length);return a&&(n+=" "+a),n},visit_angular:function(t){return t.value+"deg"},visit_directional:function(t){return"to "+t.value},visit_array:function(t){var r="",n=t.length;return t.forEach(function(a,o){r+=e.visit(a),o<n-1&&(r+=", ")}),r},visit:function(t){if(!t)return"";var r="";if(t instanceof Array)return e.visit_array(t,r);if(t.type){var n=e["visit_"+t.type];if(n)return n(t);throw Error("Missing visitor visit_"+t.type)}else throw Error("Invalid node.")}};return function(t){return e.visit(t)}}();var Mo=Mo||{};Mo.parse=function(){var e={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function r(X){var K=new Error(t+": "+X);throw K.source=t,K}function n(){var X=a();return t.length>0&&r("Invalid input not EOF"),X}function a(){return B(o)}function o(){return i("linear-gradient",e.linearGradient,f)||i("repeating-linear-gradient",e.repeatingLinearGradient,f)||i("radial-gradient",e.radialGradient,y)||i("repeating-radial-gradient",e.repeatingRadialGradient,y)}function i(X,K,Z){return u(K,function(te){var fe=Z();return fe&&(ee(e.comma)||r("Missing comma before color stops")),{type:X,orientation:fe,colorStops:B(R)}})}function u(X,K){var Z=ee(X);if(Z){ee(e.startCall)||r("Missing (");var te=K(Z);return ee(e.endCall)||r("Missing )"),te}}function f(){return c()||h()}function c(){return H("directional",e.sideOrCorner,1)}function h(){return H("angular",e.angleValue,1)}function y(){var X,K=x(),Z;return K&&(X=[],X.push(K),Z=t,ee(e.comma)&&(K=x(),K?X.push(K):t=Z)),X}function x(){var X=M()||A();if(X)X.at=k();else{var K=N();if(K){X=K;var Z=k();Z&&(X.at=Z)}else{var te=D();te&&(X={type:"default-radial",at:te})}}return X}function M(){var X=H("shape",/^(circle)/i,0);return X&&(X.style=J()||N()),X}function A(){var X=H("shape",/^(ellipse)/i,0);return X&&(X.style=U()||N()),X}function N(){return H("extent-keyword",e.extentKeywords,1)}function k(){if(H("position",/^at/,0)){var X=D();return X||r("Missing positioning value"),X}}function D(){var X=O();if(X.x||X.y)return{type:"position",value:X}}function O(){return{x:U(),y:U()}}function B(X){var K=X(),Z=[];if(K)for(Z.push(K);ee(e.comma);)K=X(),K?Z.push(K):r("One extra comma");return Z}function R(){var X=I();return X||r("Expected color definition"),X.length=U(),X}function I(){return $()||le()||G()||L()}function L(){return H("literal",e.literalColor,0)}function $(){return H("hex",e.hexColor,1)}function G(){return u(e.rgbColor,function(){return{type:"rgb",value:B(ne)}})}function le(){return u(e.rgbaColor,function(){return{type:"rgba",value:B(ne)}})}function ne(){return ee(e.number)[1]}function U(){return H("%",e.percentageValue,1)||ae()||J()}function ae(){return H("position-keyword",e.positionKeywords,1)}function J(){return H("px",e.pixelValue,1)||H("em",e.emValue,1)}function H(X,K,Z){var te=ee(K);if(te)return{type:X,value:te[Z]}}function ee(X){var K,Z;return Z=/^[\n\r\t\s]+/.exec(t),Z&&j(Z[0].length),K=X.exec(t),K&&j(K[0].length),K}function j(X){t=t.substr(X)}return function(X){return t=X.toString(),n()}}();Z0.parse=Mo.parse;Z0.stringify=Mo.stringify});Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null});var K9=Ie(Pe());var ea=Ie(Pe());var We={none:"none",ordinal:"ordinal",time:"time",linear:"linear"},pi=e=>{let t="crossValues",r=null,n=null,a=()=>{let o=i=>{let u=r?e[t].filter(f=>r==f.name):e[t];return t=="crossValues"&&u.length>1?!1:u.some(f=>i.includes(f.type))};return e[t].length===0?We.none:n!=We.time&&o(["datetime","date"])?We.time:n!=We.linear&&o(["integer","float"])||n==We.ordinal?We.linear:We.ordinal};return a.settingName=(...o)=>o.length?(t=o[0],a):t,a.settingValue=(...o)=>o.length?(r=o[0],a):r,a.excludeType=(...o)=>o.length?(n=o[0],a):n,a};var Xg={};At(Xg,{domain:()=>qE,labelFunction:()=>Ug,scale:()=>YE});function qs(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}Fg();cn();Za();ys();mp();zg();gp();af();function EE(e){var t=0,r=e.children,n=r&&r.length;if(!n)t=1;else for(;--n>=0;)t+=r[n].value;e.value=t}function tS(){return this.eachAfter(EE)}function rS(e,t){let r=-1;for(let n of this)e.call(t,n,++r,this);return this}function nS(e,t){for(var r=this,n=[r],a,o,i=-1;r=n.pop();)if(e.call(t,r,++i,this),a=r.children)for(o=a.length-1;o>=0;--o)n.push(a[o]);return this}function aS(e,t){for(var r=this,n=[r],a=[],o,i,u,f=-1;r=n.pop();)if(a.push(r),o=r.children)for(i=0,u=o.length;i<u;++i)n.push(o[i]);for(;r=a.pop();)e.call(t,r,++f,this);return this}function oS(e,t){let r=-1;for(let n of this)if(e.call(t,n,++r,this))return n}function iS(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,n=t.children,a=n&&n.length;--a>=0;)r+=n[a].value;t.value=r})}function uS(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function lS(e){for(var t=this,r=IE(t,e),n=[t];t!==r;)t=t.parent,n.push(t);for(var a=n.length;e!==r;)n.splice(a,0,e),e=e.parent;return n}function IE(e,t){if(e===t)return e;var r=e.ancestors(),n=t.ancestors(),a=null;for(e=r.pop(),t=n.pop();e===t;)a=e,e=r.pop(),t=n.pop();return a}function fS(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function sS(){return Array.from(this)}function cS(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function dS(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t}function*mS(){var e=this,t,r=[e],n,a,o;do for(t=r.reverse(),r=[];e=t.pop();)if(yield e,n=e.children)for(a=0,o=n.length;a<o;++a)r.push(n[a]);while(r.length)}function Qn(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=RE)):t===void 0&&(t=PE);for(var r=new rl(e),n,a=[r],o,i,u,f;n=a.pop();)if((i=t(n.data))&&(f=(i=Array.from(i)).length))for(n.children=i,u=f-1;u>=0;--u)a.push(o=i[u]=new rl(i[u])),o.parent=n,o.depth=n.depth+1;return r.eachBefore(OE)}function zE(){return Qn(this).eachBefore(LE)}function PE(e){return e.children}function RE(e){return Array.isArray(e)?e[1]:null}function LE(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function OE(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function rl(e){this.data=e,this.depth=this.height=0,this.parent=null}rl.prototype=Qn.prototype={constructor:rl,count:tS,each:rS,eachAfter:aS,eachBefore:nS,find:oS,sum:iS,sort:uS,path:lS,ancestors:fS,descendants:sS,leaves:cS,links:dS,copy:zE,[Symbol.iterator]:mS};function hS(e){if(typeof e!="function")throw new Error;return e}function gi(){return 0}function vi(e){return function(){return e}}function Ws(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function $s(e,t,r,n,a){for(var o=e.children,i,u=-1,f=o.length,c=e.value&&(n-t)/e.value;++u<f;)i=o[u],i.y0=r,i.y1=a,i.x0=t,i.x1=t+=i.value*c}function Wg(){var e=1,t=1,r=0,n=!1;function a(i){var u=i.height+1;return i.x0=i.y0=r,i.x1=e,i.y1=t/u,i.eachBefore(o(t,u)),n&&i.eachBefore(Ws),i}function o(i,u){return function(f){f.children&&$s(f,f.x0,i*(f.depth+1)/u,f.x1,i*(f.depth+2)/u);var c=f.x0,h=f.y0,y=f.x1-r,x=f.y1-r;y<c&&(c=y=(c+y)/2),x<h&&(h=x=(h+x)/2),f.x0=c,f.y0=h,f.x1=y,f.y1=x}}return a.round=function(i){return arguments.length?(n=!!i,a):n},a.size=function(i){return arguments.length?(e=+i[0],t=+i[1],a):[e,t]},a.padding=function(i){return arguments.length?(r=+i,a):r},a}function pS(e,t,r,n,a){for(var o=e.children,i,u=-1,f=o.length,c=e.value&&(a-r)/e.value;++u<f;)i=o[u],i.x0=t,i.x1=n,i.y0=r,i.y1=r+=i.value*c}var BE=(1+Math.sqrt(5))/2;function FE(e,t,r,n,a,o){for(var i=[],u=t.children,f,c,h=0,y=0,x=u.length,M,A,N=t.value,k,D,O,B,R,I,L;h<x;){M=a-r,A=o-n;do k=u[y++].value;while(!k&&y<x);for(D=O=k,I=Math.max(A/M,M/A)/(N*e),L=k*k*I,R=Math.max(O/L,L/D);y<x;++y){if(k+=c=u[y].value,c<D&&(D=c),c>O&&(O=c),L=k*k*I,B=Math.max(O/L,L/D),B>R){k-=c;break}R=B}i.push(f={value:k,dice:M<A,children:u.slice(h,y)}),f.dice?$s(f,r,n,a,N?n+=A*k/N:o):pS(f,r,n,N?r+=M*k/N:a,o),N-=k,h=y}return i}var gS=function e(t){function r(n,a,o,i,u){FE(t,n,a,o,i,u)}return r.ratio=function(n){return e((n=+n)>1?n:1)},r}(BE);function $g(){var e=gS,t=!1,r=1,n=1,a=[0],o=gi,i=gi,u=gi,f=gi,c=gi;function h(x){return x.x0=x.y0=0,x.x1=r,x.y1=n,x.eachBefore(y),a=[0],t&&x.eachBefore(Ws),x}function y(x){var M=a[x.depth],A=x.x0+M,N=x.y0+M,k=x.x1-M,D=x.y1-M;k<A&&(A=k=(A+k)/2),D<N&&(N=D=(N+D)/2),x.x0=A,x.y0=N,x.x1=k,x.y1=D,x.children&&(M=a[x.depth+1]=o(x)/2,A+=c(x)-M,N+=i(x)-M,k-=u(x)-M,D-=f(x)-M,k<A&&(A=k=(A+k)/2),D<N&&(N=D=(N+D)/2),e(x,A,N,k,D))}return h.round=function(x){return arguments.length?(t=!!x,h):t},h.size=function(x){return arguments.length?(r=+x[0],n=+x[1],h):[r,n]},h.tile=function(x){return arguments.length?(e=hS(x),h):e},h.padding=function(x){return arguments.length?h.paddingInner(x).paddingOuter(x):h.paddingInner()},h.paddingInner=function(x){return arguments.length?(o=typeof x=="function"?x:vi(+x),h):o},h.paddingOuter=function(x){return arguments.length?h.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x):h.paddingTop()},h.paddingTop=function(x){return arguments.length?(i=typeof x=="function"?x:vi(+x),h):i},h.paddingRight=function(x){return arguments.length?(u=typeof x=="function"?x:vi(+x),h):u},h.paddingBottom=function(x){return arguments.length?(f=typeof x=="function"?x:vi(+x),h):f},h.paddingLeft=function(x){return arguments.length?(c=typeof x=="function"?x:vi(+x),h):c},h}function Gg(e,t,r,n,a){var o=e.children,i,u=o.length,f,c=new Array(u+1);for(c[0]=f=i=0;i<u;++i)c[i+1]=f+=o[i].value;h(0,u,e.value,t,r,n,a);function h(y,x,M,A,N,k,D){if(y>=x-1){var O=o[y];O.x0=A,O.y0=N,O.x1=k,O.y1=D;return}for(var B=c[y],R=M/2+B,I=y+1,L=x-1;I<L;){var $=I+L>>>1;c[$]<R?I=$+1:L=$}R-c[I-1]<c[I]-R&&y+1<I&&--I;var G=c[I]-B,le=M-G;if(k-A>D-N){var ne=M?(A*le+k*G)/M:k;h(y,I,G,A,N,ne,D),h(I,x,le,ne,N,k,D)}else{var U=M?(N*le+D*G)/M:D;h(y,I,G,A,N,k,U),h(I,x,le,A,U,k,D)}}}Zt();Bn();up();tp();Cg();Nt();Jp();Wo();kf();ks();zs();qg();var vS=e=>{let t=r=>(n,a)=>n===void 0?a:a===void 0?n:r(n,a);return e.reduce((r,n)=>[t(Math.min)(r[0],n[0]),t(Math.max)(r[1],n[1])],[void 0,void 0])},Kn=e=>Array.isArray(e)?e.flat(1/0):[e];var xS=Ie(Pe()),HE=1,Gs=e=>{let t=r=>e(r);return(0,xS.rebindAll)(t,e),t.bandwidth=(...r)=>r.length?(e.bandwidth(...r),t):Math.max(e.bandwidth(),HE),t};var bS=Ie(Pe()),yS=e=>{let t=r=>e(r);return(0,bS.rebindAll)(t,e),t.ticks=function(){return[]},t};var YE=()=>yS(Gs(Ar())),qE=()=>{let e=["crossValue"],t="horizontal",r=a=>{let o=Kn(a);return n([...new Set(o.map(i=>i[e[0]]))])},n=a=>t=="vertical"?a.reverse():a;return r.valueName=(...a)=>a.length?(e=[a[0]],r):e[0],r.valueNames=(...a)=>a.length?(e=a[0],r):e,r.orient=(...a)=>a.length?(t=a[0],r):t,r},Ug=e=>t=>t[e].join("|");var Zg={};At(Zg,{component:()=>UE,domain:()=>Qg,labelFunction:()=>Kg,scale:()=>$E,tickFormatFunction:()=>GE});var Kr=Ie(Pe());Mm();var Us=()=>{let e=[0,0],t="percent",r=n=>{switch(t){case"domain":{n[0]-=e[0],n[1]+=e[1];break}case"percent":{let a=n[1]-n[0];n[0]-=e[0]*a,n[1]+=e[1]*a;break}default:throw new Error("Unknown padUnit: "+t)}return n};return r.pad=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r.padUnit=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r};var wS=function(){let e=[function(o){return o}],t=null,r=[],n=Us(),a=function(i){let u=new Array(i.length),f=!0,c=!1,h,y=e[Symbol.iterator]();try{for(let M;!(f=(M=y.next()).done);f=!0){let A=M.value;for(let N=0;N<i.length;N++){let k=A(i[N],N);Array.isArray(k)?u.push.apply(u,jg(k)):u.push(k)}}}catch(M){c=!0,h=M}finally{try{!f&&y.return&&y.return()}finally{if(c)throw h}}let x=[ir(u),zr(u)];if(x[0]=x[0]==null?ir(r):ir([x[0]].concat(jg(r))),x[1]=x[1]==null?zr(r):zr([x[1]].concat(jg(r))),t!=null){let M=Math.max(Math.abs(x[1]-t),Math.abs(x[0]-t));x[0]=t-M,x[1]=t+M}return n(x)};return a.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.pad=function(){return arguments.length?(n.pad(arguments.length<=0?void 0:arguments[0]),a):n.pad},a.padUnit=function(){return arguments.length?(n.padUnit(arguments.length<=0?void 0:arguments[0]),a):n.padUnit},a.include=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.symmetricalAbout=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.paddingStrategy=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a},jg=function(e){if(Array.isArray(e)){let t=Array(e.length);for(let r=0;r<e.length;r++)t[r]=e[r];return t}else return Array.from(e)};var WE=1e7,Xs=e=>Math.abs(e)>=WE?Hr(".3s")(e):Number.isInteger(e)?Hr(",.0f")(e):Hr(",.2f")(e);function xi(e){return e.getRootNode().host}function Zn(e){return e.closest("#container.chart")}var $E=()=>Yr(),Qg=()=>{let e=wS().pad([0,.1]).padUnit("percent"),t=["crossValue"],r=o=>(e.accessors(t.map(i=>u=>parseFloat(u[i]))),a(Kn(o)));Kr.rebindAll(r,e);let n=o=>{let i=t.map(u=>o.map(f=>f[u]).sort((f,c)=>f-c).filter((f,c,h)=>c===0||f!==h[c-1]).reduce((f,c,h,y)=>h===0||f<=c-y[h-1]?f:Math.abs(c-y[h-1])));return Math.min(...i)},a=o=>{if(e.padUnit()=="domain"){let i=n(o);return e.pad([i/2,i/2])(o)}else return e(o)};return r.valueName=(...o)=>o.length?(t=[o[0]],r):t[0],r.valueNames=(...o)=>o.length?(t=o[0],r):t,r},Kg=e=>t=>t[e][0],GE=Xs,UE=e=>{let t=null,r="horizontal",n=null,a=(c,h)=>{try{return Zn(c.node()).querySelector(".cartesian-chart").querySelector(`.${h}-axis`)}catch{return null}},o=c=>{let h=ue(c).select("text").node();h.style.fontSize="80%"},i=(c,h)=>{let y=c.getBoundingClientRect();h.each((x,M,A)=>{let N=ue(A[M]).node().getBoundingClientRect();(r=="vertical"&&y.width<N.width||r=="horizontal"&&y.height<N.height)&&o(A[M])})},u=(c,h,y)=>{let x=a(c,h);x&&i(x,c)},f=()=>({bottom:Kr.axisBottom,left:Kr.axisLeft,top:Kr.axisTop,right:Kr.axisRight,decorate:u});return f.domain=(...c)=>c.length?(t=c[0],f):t,f.orient=(...c)=>c.length?(r=c[0],f):r,f.settingName=(...c)=>c.length?(n=c[0],f):n,f};var e0={};At(e0,{domain:()=>jE,labelFunction:()=>Jg,scale:()=>XE});var bi=Ie(Pe());var XE=()=>Tu(),jE=()=>{let e=bi.extentTime(),t=["crossValue"],r=o=>(e.accessors(t.map(i=>u=>new Date(u[i]))),a(Kn(o)));bi.rebindAll(r,e,bi.exclude("include","paddingStrategy"));let n=o=>{let i=t.map(u=>o.map(f=>new Date(f[u]).getTime()).sort((f,c)=>f-c).filter((f,c,h)=>c===0||f!==h[c-1]).reduce((f,c,h,y)=>h===0||Math.abs(f)<=Math.abs(c-y[h-1])?Math.abs(f):Math.abs(c-y[h-1])));return Math.min(...i)},a=o=>{let i=Math.abs(n(o));return e.padUnit("domain").pad([i/2,i/2])(o)};return r.valueName=(...o)=>o.length?(t=[o[0]],r):t[0],r.valueNames=(...o)=>o.length?(t=o[0],r):t,r},Jg=e=>t=>new Date(t[e][0]);var r0={};At(r0,{component:()=>ZE,domain:()=>KE,labelFunction:()=>t0,scale:()=>QE});var Jn=Ie(Pe());var It=Ie(Pe());var _S=(...e)=>{let t={},r=n=>{for(let a of Object.keys(t))n[a](t[a]);return n};for(let n of e)r[n]=(...a)=>a.length?(t[n]=a[0],r):t[n];return r};var js=(e,t,r)=>{let n=6,a=6,o=_S("tickFormat","ticks","tickArguments","tickValues","tickPadding"),i=()=>{},u=null,f=(0,It.dataJoin)("g","group"),c=(0,It.dataJoin)("path","domain"),h=(N,k)=>x()?`translate(${k}, ${N})`:`translate(${N}, ${k})`,y=N=>x()?N.map(k=>[k[1],k[0]]):N,x=()=>e==="left"||e==="right",M=N=>{if(!u){o(t(r).decorate(i))(N);return}N.each((k,D,O)=>{let B=O[D],R=ue(B),I=e==="bottom"||e==="right"?1:-1,L=r.range(),$=y([[L[0],I*n],[L[0],0],[L[1],0],[L[1],I*n]]);c(R,[k]).attr("d",Gn()($)).attr("stroke","#000").attr("fill","none");let le=f(R,u),ne=ae=>Array.isArray(a)?a[ae]:a,U=ae=>{let J=0;for(let H=0;H<ae;H++)J+=ne(H);return J};le.attr("transform",(ae,J)=>h(0,I*U(J))).each((ae,J,H)=>{let ee=ue(H[J]),j=A(r,ae);o(t(j)).decorate((K,Z)=>i(K,Z,J)).tickSizeInner(ne(J)).tickOffset(K=>j.step(K)/2)(ee),ee.select("path.domain").attr("visibility","hidden")}),le.exit().attr("transform",(ae,J)=>h(0,I*U(J)))})},A=(N,k)=>{function D(O){let B=O.domain;return B.reduce((R,I)=>R+N(I),0)/B.length}return D.ticks=()=>k,D.tickFormat=()=>O=>O.text,D.copy=()=>A(N,k),D.step=O=>O.domain.length*N.step(),(0,It.rebindAll)(D,N,(0,It.exclude)("ticks","step","copy")),D};return M.tickSize=(...N)=>N.length?(a=n=Number(N[0]),M):a,M.tickSizeInner=(...N)=>N.length?(a=Array.isArray(N[0])?N[0]:Number(N[0]),M):a,M.tickSizeOuter=(...N)=>N.length?(n=Number(N[0]),M):n,M.decorate=(...N)=>N.length?(i=N[0],M):i,M.groups=(...N)=>N.length?(u=N[0],M):u,(0,It.rebindAll)(M,o),M},SS=e=>js("top",It.axisOrdinalTop,e),MS=e=>js("bottom",It.axisOrdinalBottom,e),AS=e=>js("left",It.axisOrdinalLeft,e),kS=e=>js("right",It.axisOrdinalRight,e);var QE=()=>Gs(Ar()).padding(.5),KE=()=>{let e=["crossValue"],t="horizontal",r=a=>{let o=Kn(a);return n([...Array.from(new Set(o.map(i=>i[e[0]])))])},n=a=>t=="vertical"?a.reverse():a;return r.valueName=(...a)=>a.length?(e=[a[0]],r):e[0],r.valueNames=(...a)=>a.length?(e=a[0],r):e,r.orient=(...a)=>a.length?(t=a[0],r):t,r},t0=e=>t=>t[e].join("|"),ZE=e=>{let t="horizontal",r="crossValues",n=null,a=()=>{let x=e[r].length>1,M=i(n),A=M.map(u),N=x?A.map(R=>R.size):A[0].size,k=A.reduce((R,I)=>R+I.size,0),D=R=>I=>{let L=R(I);return x&&L.groups(M).tickSizeInner(N).tickSizeOuter(k),t!=="horizontal"&&L.tickPadding(10),L},O=(R,I,L)=>{let $=A[L].rotation;t==="horizontal"&&y(R,$),f(R,$)},B=o(x);return{bottom:D(B.bottom),left:D(B.left),right:D(B.right),top:D(B.top),size:`${k+10}px`,decorate:O}},o=x=>x?{bottom:MS,left:AS,top:SS,right:kS}:{bottom:Jn.axisOrdinalBottom,left:Jn.axisOrdinalLeft,top:Jn.axisOrdinalTop,right:Jn.axisOrdinalRight},i=x=>{let M=[];return x.forEach(A=>{(A&&A.split?A.split("|"):[A]).forEach((k,D)=>{for(;M.length<=D;)M.push([]);let O=M[D];O.length>0&&O[O.length-1].text===k?O[O.length-1].domain.push(A):O.push({text:k,domain:[A]})})}),M.reverse()},u=x=>{let M=e.size.width,A=Math.max(...x.map(N=>N.text?N.text.length:0));return t==="horizontal"?x&&x.length*16>M-100?{size:A*5+10,rotation:90}:x&&x.length*(A*6+10)>M-100?{size:A*3+20,rotation:45}:{size:25,rotation:0}:{size:A*5+10,rotation:0}},f=(x,M)=>{let A=I=>{let L=I.indexOf(",")!==-1?",":" ",$=I.substring(I.indexOf("(")+1,I.indexOf(")")).split(L).map(G=>parseInt(G));for(;$.length<2;)$.push(0);return $},D=M?(I,L)=>I.x+I.width+14>L.x+L.width:(I,L)=>I.x<=L.x+L.width&&L.x<=I.x+I.width&&I.y<=L.y+L.height&&L.y<=I.y+I.height,O=(I,L)=>I.x>=L.x&&I.x+I.width<=L.x+L.width&&I.y>=L.y&&I.y+I.height<=L.y+L.height,B=t=="horizontal"?c(x):null,R=[];x.each((I,L,$)=>{let G=ue($[L]),le=A(G.attr("transform")),ne=G.node().getBBox(),U={x:ne.x+le[0],y:ne.y+le[1],width:ne.width,height:ne.height},J=R.some(H=>D(H,U))||B&&!O(U,B);G.attr("visibility",J?"hidden":""),J||R.push(U)})},c=x=>{let M=Zn(x.node());if(M===null)return;let A=M.querySelector(".cartesian-chart"),N=A.querySelector(".x-axis"),k=A.getBoundingClientRect(),D=N.getBoundingClientRect();return{x:k.left-D.left,width:k.width,y:k.top-D.top,height:k.height}},h=x=>x?x<60?`rotate(-${x} 5 5)`:`rotate(-${x} 3 7)`:"translate(0, 8)",y=(x,M)=>{let A=h(M),N=M?"end":"";x.each((k,D,O)=>{ue(O[D]).select("text").attr("transform",A).style("text-anchor",N)})};return a.orient=(...x)=>x.length?(t=x[0],a):t,a.settingName=(...x)=>x.length?(r=x[0],a):r,a.domain=(...x)=>x.length?(n=x[0],a):n,a};var JE={none:Xg,ordinal:r0,time:e0,linear:Zg},Ge=e=>{let t=null,r="horizontal",n="crossValues",a=null,o=["crossValue"],i=null,u=null,f=["include","paddingStrategy","pad"],c={},h=M=>{let A=pi(e).excludeType(t).settingName(n).settingValue(a)(),N=JE[A],k=N.domain().valueNames(o);f.forEach(B=>{c[B]&&k[B]&&k[B](c[B])}),k.orient&&k.orient(r);let D=k(M);i!==null&&(D=i(D)),u&&typeof D[0]=="number"&&(u[0]=D[0]=Math.min(D[0],u[0]),u[1]=D[1]=Math.max(D[1],u[1]));let O=N.component?y(N,D,M):x();return{scale:N.scale(),domain:D,domainFunction:k,labelFunction:N.labelFunction,component:{bottom:O.bottom,left:O.left,top:O.top,right:O.right},size:O.size,decorate:O.decorate,label:e[n].map(B=>B.name).join(", "),tickFormatFunction:N.tickFormatFunction}},y=(M,A,N)=>M.component(e).orient(r).settingName(n).domain(A)(N),x=()=>({bottom:ea.axisBottom,left:ea.axisLeft,top:ea.axisTop,right:ea.axisRight,decorate:()=>{}});return h.memoValue=(...M)=>M.length?(u=M[0],h):u,h.excludeType=(...M)=>M.length?(t=M[0],h):t,h.orient=(...M)=>M.length?(r=M[0],h):r,h.settingName=(...M)=>M.length?(n=M[0],h):n,h.settingValue=(...M)=>M.length?(a=M[0],h):a,h.valueName=(...M)=>M.length?(o=[M[0]],h):o[0],h.valueNames=(...M)=>M.length?(o=M[0],h):o,h.modifyDomain=(...M)=>M.length?(i=M[0],h):i,f.forEach(M=>{h[M]=(...A)=>A.length?(c[M]=A[0],h):c[M]}),h};var ao=Ie(Pe()),br=(e,t)=>CS(e,t,(r,n)=>r.svgPlotArea(n),!1),yi=(e,t)=>CS(e,t,(r,n)=>r.canvasPlotArea(n).svgPlotArea(ao.seriesSvgPoint()),!0),CS=(e,t,r,n)=>{let a=null,o=null,i=ao.chartCartesian({xScale:e.scale,yScale:t.scale,xAxis:e.component,yAxis:t.component}).xDomain(e.domain).xLabel(e.label).xAxisHeight(e.size).xDecorate(e.decorate).xTickFormat(e.tickFormatFunction).yDomain(t.domain).yLabel(t.label).yAxisWidth(t.size).yDecorate(t.decorate).yOrient("left").yTickFormat(t.tickFormatFunction);e.decorate&&i.xDecorate(e.decorate),t.decorate&&i.yDecorate(t.decorate),i.xPaddingInner&&i.xPaddingInner(1),i.xPaddingOuter&&i.xPaddingOuter(.5),i.yPaddingInner&&i.yPaddingInner(1),i.yPaddingOuter&&i.yPaddingOuter(.5),i.axisSplitter=(...f)=>f.length?(a=f[0],i):a,i.altAxis=(...f)=>f.length?(o=f[0],i):o,i.plotArea=function(...f){return f.length==0?n?this.canvasPlotArea():this.svgPlotArea():r(this,...f)};let u=i.decorate();return i.decorate((f,c)=>{let h=f.select("d3fc-svg.plot-area"),y=h.select("svg").node();y.setAttribute("viewBox",`0 0 ${h.node().clientWidth} ${h.node().clientHeight}`),y.setAttribute("preserveAspectRatio","none");for(let x of["x-axis","y-axis"])f.select(`d3fc-svg.${x} svg`).node().setAttribute("preserveAspectRatio","none");if(u(f,c),n){let x=f.select(".svg-plot-area").node(),M=f.select(".canvas-plot-area").node();Kf([x,M]).order()}if(!!a){if(a.haveSplit()){let x=a.altData(),M=ao.dataJoin("d3fc-svg","y2-axis").key(D=>D),A=ao.dataJoin("g","y-series").key(D=>D);f.append("div").attr("class","y-label right-label").style("grid-column",5).style("-ms-grid-column",5).style("grid-row",3).style("-ms-grid-row",3).style("width",o.size||"1em").style("display","flex").style("align-items","center").style("justify-content","center").append("span").attr("class","y-label splitter-label").style("transform","rotate(-90deg)");let N=o.scale.domain(o.domain),k=o.component.right(N);if(k.tickFormat(o.tickFormatFunction),o.decorate&&k.decorate(o.decorate),M(f,["right"]).attr("class",D=>`y-axis ${D}-axis`).on("measure",function(D,O){let{width:B,height:R}=D.detail;O==="left"&&ue(D.currentTarget).select("svg").attr("viewBox",`${-B} 0 ${B} ${R}`).attr("preserveAspectRatio","none"),N.range([R,0])}).on("draw",function(D,O){ue(D.currentTarget).select("svg").call(k)}),n){let D=O=>{let B=i.plotArea();B.context(O.node().getContext("2d")).xScale(e.scale);let R=[t.scale,N];[c,x].forEach((I,L)=>{B.yScale(R[L]),B(I)})};f.select("d3fc-canvas.plot-area").on("draw",function(O,B){D(ue(O.currentTarget).select("canvas"))})}else{let D=function(O){let B=i.plotArea();B.xScale(e.scale);let R=[t.scale,N];A(O,[c,x]).each((I,L,$)=>{B.yScale(R[L]),ue($[L]).datum(I).call(B)})};f.select("d3fc-svg.plot-area").on("draw",function(O,B){D(ue(O.currentTarget).select("svg"))})}}a(f)}}),i};var Sn=Ie(Pe());function ft(e,t,r){let n=e.select(t);return n.size()>0?n:r()}function Zr(e,t,r="right"){if(r==="right"||r==="bottom")return e[r]<t[r];if(r==="left"||r==="top")return e[r]>t[r];throw`Direction being checked for overflow is invalid: ${r}`}function n0(e,t,r,n=0){let a=e==="x"?"width":"height",o=t[e],i=t[e]+t[a],u=r[e],f=r[e]+r[a],c=u+n>o&&u-n<i,h=f+n>o&&f-n<i,y=u+n<o&&f-n>i;return c||h||y}var TS=`<ul id="tooltip-values"></ul>
`;var VS={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short",timeStyle:"medium"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short"},null_value:-1}}};function wi(e){let t={};if(NS().types[e]&&Object.assign(t,NS().types[e]),t.type){let r=wi(t.type);return Object.assign(r,t),r}else return t}function a0(e){return e&&typeof e=="object"&&!Array.isArray(e)}function o0(e,...t){if(!t.length)return e;let r=t.shift();if(a0(e)&&a0(r))for(let n in r)a0(r[n])?(e[n]||Object.assign(e,{[n]:{}}),o0(e[n],r[n])):Object.assign(e,{[n]:r[n]});return o0(e,...t)}function NS(){return globalThis.__PERSPECTIVE_CONFIG__||(globalThis.__PERSPECTIVE_CONFIG__=o0(VS,globalThis.__TEMPLATE_CONFIG__||{})),globalThis.__PERSPECTIVE_CONFIG__}function _n(e,t){switch(e){case"date":case"datetime":return t instanceof Date?t:new Date(parseInt(t)).toLocaleString([],wi(e).format);case"integer":return parseInt(t,10);case"float":return parseFloat(t)}return t}function Qs(e,t){return t.crossValues.length===0?[]:e.crossValue.length===0?[]:((e.crossValue.split?e.crossValue.split("|"):[e.crossValue])||[e.key]).map((n,a)=>({name:t.crossValues[a].name,value:_n(t.crossValues[a].type,n)}))}function Ks(e,t){if(t.splitValues.length===0)return[];let r=[e.mainValue];return e.key?r=e.key.split("|"):e.mainValue?.split&&(r=e.mainValue.split("|")),t.splitValues.map((n,a)=>({name:n.name,value:_n(n.type,r[a])}))}function Zs(e,t){return t.mainValues.length>1?e.mainValues?t.mainValues.map((r,n)=>({name:r.name,value:_n(r.type,e.mainValues[n])})):t.mainValues.map(r=>({name:r.name,value:_n(r.type,e.row[r.name])})):[{name:t.mainValues[0].name,value:_n(t.mainValues[0].type,e.colorValue||e.mainValue-e.baseValue||e.mainValue||e.mainValues)}]}function DS(e,t,r){let n=Qs(t,r).concat(Ks(t,r)).concat(Zs(t,r));tI(e,n)}function tI(e,t){e.select("#tooltip-values").selectAll("li").data(t).join("li").each(function(r){ue(this).text(`${r.name}: `).append("b").text(rI(r.value))})}var rI=e=>e==null?"-":e.toLocaleString(void 0,{style:"decimal",minimumFractionDigits:wi("float").precision,maximumFractionDigits:wi("float").precision});var ES=e=>[e.name,"==",e.value],nl=(e,t,r)=>{let n=Zs(t,r).map(u=>u.name),a=Qs(t,r).map(ES),o=Ks(t,r).map(ES),i=r.filter.concat(a).concat(o);e.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{column_names:n,config:{filter:i},row:t.row}}))},IS=()=>{let e=null,t=r=>{let n=r.node();r.on("click",(a,o)=>nl(n,o,e))};return t.settings=(...r)=>r.length?(e=r[0],t):e,t};var ta=()=>{let e=!1,t=null,r=null,n=!1,a=o=>{let i=o.node();if(!i||!i.isConnected){zS(t);return}let u=ue(Zn(i));t=nI(u);let f=function(h,y){DS(t,y,r);let x=o.nodes(),M=x.indexOf(this);aI(u.node(),x[M],t,n),ue(x[M]).style("opacity","0.7")},c=function(h,y){zS(t);let x=o.nodes(),M=x.indexOf(this);x&&ue(x[M]).style("opacity","1")};e?o.each(function(h){return f.call(this,void 0,h)}):(o.on("mouseover",f).on("mouseout",c),IS().settings(r)(o))};return a.alwaysShow=(...o)=>o.length?(e=o[0],a):e,a.centered=(...o)=>o.length?(n=o[0],a):n,a.settings=(...o)=>o.length?(r=o[0],a):r,a};function nI(e){return ft(e,"div.tooltip",()=>e.append("div").attr("class","tooltip").style("z-index",3).style("opacity",0).html(TS))}function aI(e,t,r,n){let a=e.getBoundingClientRect(),o=t.getBoundingClientRect(),i=o.left+o.width/2-a.left,u=o.top-a.top+e.scrollTop;n&&(u=o.top+o.height/2-a.top+e.scrollTop),r.style("left",`${i}px`).style("top",`${u}px`).style("opacity",.9),n&&([i,u]=oI(r,a)),iI(r,a,i,u,n)}function oI(e,t){let r=e.node().getBoundingClientRect(),n=r.width/2,a=r.left-n-t.left;e.style("left",`${a}px`);let o=r.height/2,i=r.top-o-t.top;return e.style("top",`${i}px`),[a,i]}function iI(e,t,r,n,a=!1){let o=e.node().getBoundingClientRect();if(Zr(t,o)){let i=o.right-t.right;e.style("left",`${r-i}px`)}if(Zr(t,o,"bottom")){let i=o.bottom-t.bottom;e.style("top",`${n-i}px`)}if(!!a){if(Zr(t,o,"left")){let i=o.left-t.left;e.style("left",`${r-i}px`)}if(Zr(t,o,"top")){let i=o.top-t.top;e.style("top",`${n-i}px`)}}}function zS(e){e&&e.style("opacity",0)}function Js(e,t){let r=e.mainValues.length>1?Sn.seriesSvgGrouped(Sn.seriesSvgBar()):Sn.seriesSvgBar();return r=r.decorate(n=>{ta().settings(e)(n),n.style("fill",a=>t(a.key))}),Sn.autoBandwidth(uI(r)).crossValue(n=>n.crossValue).mainValue(n=>n.mainValue?n.mainValue:0).baseValue(n=>n.baseValue)}var uI=e=>{let t=r=>e(r);return Sn.rebindAll(t,e),t.bandwidth=(...r)=>r.length?(e.bandwidth(Math.max(r[0],1)),t):e.bandwidth(),t};function ra(e){return e.split("|").slice(0,-1).join("|")}function ec(e,t){return e.data.map(r=>Object.entries(r).filter(([n,a])=>n.split("|").at(-1)===t&&!!a).map(([n,a])=>a)).flat()}function Jr(e){let t=e.data&&e.data.length>0?e.data[0]:{},r=Object.keys(t).filter(n=>n!=="__ROW_PATH__");return Nr().settings(e).domain(r)()}function PS(e,t){let r=ec(e,t),n=[...new Set(r)].sort();return Nr().settings(e).domain(n)()}function oo(e,t){let r=[...new Set(t)];return Nr().settings(e).domain(r)()}function RS(e){let t=e.data[0]??{},r=Object.keys(t).filter(a=>a!=="__ROW_PATH__").map(a=>ra(a)),n=[...new Set(r)];return Nr().settings(e).domain(n)()}function Nr(){let e=null,t=null,r={},n=o=>io(o,r.colorStyles&&r.colorStyles.opacity),a=()=>{let o=r.colorStyles,i=t||[o.series];if(i||e.length>1){let u=e.length>1?o.scheme:i;return lr(u.map(n)).domain(e)}return null};return a.domain=(...o)=>o.length?(e=o[0],a):e,a.defaultColors=(...o)=>o.length?(t=o[0],a):t,a.mapFunction=(...o)=>o.length?(n=o[0],a):n,a.settings=(...o)=>o.length?(r=o[0],a):r,a}function en(e){return uo(1)(e)}function io(e,t=.5){return uo(t)(e)}function uo(e){return t=>{let r=Tt(t);return r!=null&&(r.opacity=e),r+""}}var LS=Ie(Pe());var lI={none:Ug,ordinal:t0,time:Jg,linear:Kg},yr=e=>{let t=pi(e),r="__ROW_PATH__",n=(a,o)=>lI[t()](r)(a,o);return(0,LS.rebindAll)(n,t),n.valueName=(...a)=>a.length?(r=a[0],n):r,n};function lo(e,t,{stack:r=!1,excludeEmpty:n=!1}={}){let a=t||e.data;return e.splitValues.length>0?fI(e,a,{stack:r,excludeEmpty:n}):[a]}function fI(e,t,{stack:r=!1,excludeEmpty:n=!1}){let a={};return t.forEach(o=>{let i={},u={};Object.keys(o).filter(f=>f!=="__ROW_PATH__").filter(f=>!n||o[f]!=null&&o[f]!=null).forEach(f=>{let c=f.split("|"),h=c[c.length-1],y=o[f]||0,x=`${h}${y>=0?"+ve":"-ve"}`,M=c.slice(0,c.length-1).join("|"),A=u[M]=u[M]||{__ROW_PATH__:o.__ROW_PATH__},N=i[x]||0;A.__KEY__=M,r?(A[h]=N+y,A[`__BASE_VALUE__${h}`]=N,i[x]=A[h]):A[h]=y,A.row=o}),Object.keys(u).forEach(f=>{(a[f]=a[f]||[]).push(u[f])})}),Object.keys(a).map(o=>{let i=a[o];return i.key=o,i})}function OS(e,t){let r={stack:!1},n=lo(e,t,r).map(a=>BS(e,a,r));return e.mainValues.length>1?n.reduce((o,i)=>o.concat(i)):n}function tc(e,t){let r={stack:!0};return lo(e,t,r).map(n=>BS(e,n,r))}function sI(e,t,{stack:r=!1}){let n=yr(e);return a=>{let o=u=>r&&u[`__BASE_VALUE__${a.name}`]||0,i=t.map((u,f)=>({crossValue:n(u,f),mainValue:u[a.name]?u[a.name]:null,baseValue:o(u),key:u.__KEY__?`${u.__KEY__}|${a.name}`:a.name,row:u.row||u}));return i.key=i[0].key,i}}function BS(e,t,{stack:r=!1}){let n=sI(e,t,{stack:r});return e.mainValues.length>1?e.mainValues.map(n):n(e.mainValues[0])}var rc="http://www.w3.org/1999/xhtml",nc={svg:"http://www.w3.org/2000/svg",xhtml:rc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function al(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),nc.hasOwnProperty(t)?{space:nc[t],local:e}:e}function cI(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===rc&&t.documentElement.namespaceURI===rc?t.createElement(e):t.createElementNS(r,e)}}function dI(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ol(e){var t=al(e);return(t.local?dI:cI)(t)}var mI=0;function u0(){return new i0}function i0(){this._="@"+(++mI).toString(36)}i0.prototype=u0.prototype={constructor:i0,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var HS=function(e){return function(){return this.matches(e)}};typeof document<"u"&&(_i=document.documentElement,_i.matches||(FS=_i.webkitMatchesSelector||_i.msMatchesSelector||_i.mozMatchesSelector||_i.oMatchesSelector,HS=function(e){return function(){return FS.call(this,e)}}));var _i,FS,l0=HS;var qS={},il=null;typeof document<"u"&&(YS=document.documentElement,"onmouseenter"in YS||(qS={mouseenter:"mouseover",mouseleave:"mouseout"}));var YS;function hI(e,t,r){return e=WS(e,t,r),function(n){var a=n.relatedTarget;(!a||a!==this&&!(a.compareDocumentPosition(this)&8))&&e.call(this,n)}}function WS(e,t,r){return function(n){var a=il;il=n;try{e.call(this,this.__data__,t,r)}finally{il=a}}}function pI(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function gI(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,a=t.length,o;r<a;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.capture):t[++n]=o;++n?t.length=n:delete this.__on}}}function vI(e,t,r){var n=qS.hasOwnProperty(e.type)?hI:WS;return function(a,o,i){var u=this.__on,f,c=n(t,o,i);if(u){for(var h=0,y=u.length;h<y;++h)if((f=u[h]).type===e.type&&f.name===e.name){this.removeEventListener(f.type,f.listener,f.capture),this.addEventListener(f.type,f.listener=c,f.capture=r),f.value=t;return}}this.addEventListener(e.type,c,r),f={type:e.type,name:e.name,value:t,listener:c,capture:r},u?u.push(f):this.__on=[f]}}function $S(e,t,r){var n=pI(e+""),a,o=n.length,i;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,c=u.length,h;f<c;++f)for(a=0,h=u[f];a<o;++a)if((i=n[a]).type===h.type&&i.name===h.name)return h.value}return}for(u=t?vI:gI,r==null&&(r=!1),a=0;a<o;++a)this.each(u(n[a],t,r));return this}function xI(){}function ul(e){return e==null?xI:function(){return this.querySelector(e)}}function XS(e){typeof e!="function"&&(e=ul(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,u=n[a]=new Array(i),f,c,h=0;h<i;++h)(f=o[h])&&(c=e.call(f,f.__data__,h,o))&&("__data__"in f&&(c.__data__=f.__data__),u[h]=c);return new Je(n,this._parents)}function bI(){return[]}function f0(e){return e==null?bI:function(){return this.querySelectorAll(e)}}function jS(e){typeof e!="function"&&(e=f0(e));for(var t=this._groups,r=t.length,n=[],a=[],o=0;o<r;++o)for(var i=t[o],u=i.length,f,c=0;c<u;++c)(f=i[c])&&(n.push(e.call(f,f.__data__,c,i)),a.push(f));return new Je(n,a)}function QS(e){typeof e!="function"&&(e=l0(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,u=n[a]=[],f,c=0;c<i;++c)(f=o[c])&&e.call(f,f.__data__,c,o)&&u.push(f);return new Je(n,this._parents)}function ac(e){return new Array(e.length)}function KS(){return new Je(this._enter||this._groups.map(ac),this._parents)}function ll(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ll.prototype={constructor:ll,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ZS(e){return function(){return e}}var JS="$";function yI(e,t,r,n,a,o){for(var i=0,u,f=t.length,c=o.length;i<c;++i)(u=t[i])?(u.__data__=o[i],n[i]=u):r[i]=new ll(e,o[i]);for(;i<f;++i)(u=t[i])&&(a[i]=u)}function wI(e,t,r,n,a,o,i){var u,f,c={},h=t.length,y=o.length,x=new Array(h),M;for(u=0;u<h;++u)(f=t[u])&&(x[u]=M=JS+i.call(f,f.__data__,u,t),M in c?a[u]=f:c[M]=f);for(u=0;u<y;++u)M=JS+i.call(e,o[u],u,o),(f=c[M])?(n[u]=f,f.__data__=o[u],c[M]=null):r[u]=new ll(e,o[u]);for(u=0;u<h;++u)(f=t[u])&&c[x[u]]===f&&(a[u]=f)}function e7(e,t){if(!e)return M=new Array(this.size()),c=-1,this.each(function(L){M[++c]=L}),M;var r=t?wI:yI,n=this._parents,a=this._groups;typeof e!="function"&&(e=ZS(e));for(var o=a.length,i=new Array(o),u=new Array(o),f=new Array(o),c=0;c<o;++c){var h=n[c],y=a[c],x=y.length,M=e.call(h,h&&h.__data__,c,n),A=M.length,N=u[c]=new Array(A),k=i[c]=new Array(A),D=f[c]=new Array(x);r(h,y,N,k,D,M,t);for(var O=0,B=0,R,I;O<A;++O)if(R=N[O]){for(O>=B&&(B=O+1);!(I=k[B])&&++B<A;);R._next=I||null}}return i=new Je(i,n),i._enter=u,i._exit=f,i}function t7(){return new Je(this._exit||this._groups.map(ac),this._parents)}function r7(e){for(var t=this._groups,r=e._groups,n=t.length,a=r.length,o=Math.min(n,a),i=new Array(n),u=0;u<o;++u)for(var f=t[u],c=r[u],h=f.length,y=i[u]=new Array(h),x,M=0;M<h;++M)(x=f[M]||c[M])&&(y[M]=x);for(;u<n;++u)i[u]=t[u];return new Je(i,this._parents)}function n7(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,o=n[a],i;--a>=0;)(i=n[a])&&(o&&o!==i.nextSibling&&o.parentNode.insertBefore(i,o),o=i);return this}function a7(e){e||(e=_I);function t(y,x){return y&&x?e(y.__data__,x.__data__):!y-!x}for(var r=this._groups,n=r.length,a=new Array(n),o=0;o<n;++o){for(var i=r[o],u=i.length,f=a[o]=new Array(u),c,h=0;h<u;++h)(c=i[h])&&(f[h]=c);f.sort(t)}return new Je(a,this._parents).order()}function _I(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function o7(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function i7(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function u7(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,o=n.length;a<o;++a){var i=n[a];if(i)return i}return null}function l7(){var e=0;return this.each(function(){++e}),e}function f7(){return!this.node()}function s7(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],o=0,i=a.length,u;o<i;++o)(u=a[o])&&e.call(u,u.__data__,o,a);return this}function SI(e){return function(){this.removeAttribute(e)}}function MI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function AI(e,t){return function(){this.setAttribute(e,t)}}function kI(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function CI(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function TI(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function c7(e,t){var r=al(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?MI:SI:typeof t=="function"?r.local?TI:CI:r.local?kI:AI)(r,t))}function fl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function VI(e){return function(){this.style.removeProperty(e)}}function NI(e,t,r){return function(){this.style.setProperty(e,t,r)}}function DI(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function d7(e,t,r){var n;return arguments.length>1?this.each((t==null?VI:typeof t=="function"?DI:NI)(e,t,r??"")):fl(n=this.node()).getComputedStyle(n,null).getPropertyValue(e)}function EI(e){return function(){delete this[e]}}function II(e,t){return function(){this[e]=t}}function zI(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function m7(e,t){return arguments.length>1?this.each((t==null?EI:typeof t=="function"?zI:II)(e,t)):this.node()[e]}function h7(e){return e.trim().split(/^|\s+/)}function s0(e){return e.classList||new p7(e)}function p7(e){this._node=e,this._names=h7(e.getAttribute("class")||"")}p7.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function g7(e,t){for(var r=s0(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function v7(e,t){for(var r=s0(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function PI(e){return function(){g7(this,e)}}function RI(e){return function(){v7(this,e)}}function LI(e,t){return function(){(t.apply(this,arguments)?g7:v7)(this,e)}}function x7(e,t){var r=h7(e+"");if(arguments.length<2){for(var n=s0(this.node()),a=-1,o=r.length;++a<o;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?LI:t?PI:RI)(r,t))}function OI(){this.textContent=""}function BI(e){return function(){this.textContent=e}}function FI(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function b7(e){return arguments.length?this.each(e==null?OI:(typeof e=="function"?FI:BI)(e)):this.node().textContent}function HI(){this.innerHTML=""}function YI(e){return function(){this.innerHTML=e}}function qI(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function y7(e){return arguments.length?this.each(e==null?HI:(typeof e=="function"?qI:YI)(e)):this.node().innerHTML}function WI(){this.nextSibling&&this.parentNode.appendChild(this)}function w7(){return this.each(WI)}function $I(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _7(){return this.each($I)}function S7(e){var t=typeof e=="function"?e:ol(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function GI(){return null}function M7(e,t){var r=typeof e=="function"?e:ol(e),n=t==null?GI:typeof t=="function"?t:ul(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function UI(){var e=this.parentNode;e&&e.removeChild(this)}function A7(){return this.each(UI)}function k7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function C7(e,t,r){var n=fl(e),a=n.CustomEvent;a?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function XI(e,t){return function(){return C7(this,e,t)}}function jI(e,t){return function(){return C7(this,e,t.apply(this,arguments))}}function T7(e,t){return this.each((typeof t=="function"?jI:XI)(e,t))}var oc=[null];function Je(e,t){this._groups=e,this._parents=t}function QI(){return new Je([[document.documentElement]],oc)}Je.prototype=QI.prototype={constructor:Je,select:XS,selectAll:jS,filter:QS,data:e7,enter:KS,exit:t7,merge:r7,order:n7,sort:a7,call:o7,nodes:i7,node:u7,size:l7,empty:f7,each:s7,attr:c7,style:d7,property:m7,classed:x7,text:b7,html:y7,raise:w7,lower:_7,append:S7,insert:M7,remove:A7,datum:k7,on:$S,dispatch:T7};function c0(e){return typeof e=="string"?new Je([[document.querySelector(e)]],[document.documentElement]):new Je([[e]],oc)}function fo(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function sl(e){return e=fo(Math.abs(e)),e?e[1]:NaN}function V7(e,t){return function(r,n){for(var a=r.length,o=[],i=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),o.push(r.substring(a-=u,a+u)),!((f+=u+1)>n));)u=e[i=(i+1)%e.length];return o.reverse().join(t)}}function N7(e,t){e=e.toPrecision(t);e:for(var r=e.length,n=1,a=-1,o;n<r;++n)switch(e[n]){case".":a=o=n;break;case"0":a===0&&(a=n),o=n;break;case"e":break e;default:a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(o+1):e}var d0;function D7(e,t){var r=fo(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(d0=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+fo(e,Math.max(0,t+o-1))[0]}function m0(e,t){var r=fo(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var ic={"":N7,"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return m0(e*100,t)},r:m0,s:D7,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};var KI=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function so(e){return new E7(e)}function E7(e){if(!(t=KI.exec(e)))throw new Error("invalid format: "+e);var t,r=t[1]||" ",n=t[2]||">",a=t[3]||"-",o=t[4]||"",i=!!t[5],u=t[6]&&+t[6],f=!!t[7],c=t[8]&&+t[8].slice(1),h=t[9]||"";h==="n"?(f=!0,h="g"):ic[h]||(h=""),(i||r==="0"&&n==="=")&&(i=!0,r="0",n="="),this.fill=r,this.align=n,this.sign=a,this.symbol=o,this.zero=i,this.width=u,this.comma=f,this.precision=c,this.type=h}E7.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type};var I7=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ZI(e){return e}function Si(e){var t=e.grouping&&e.thousands?V7(e.grouping,e.thousands):ZI,r=e.currency,n=e.decimal;function a(i){i=so(i);var u=i.fill,f=i.align,c=i.sign,h=i.symbol,y=i.zero,x=i.width,M=i.comma,A=i.precision,N=i.type,k=h==="$"?r[0]:h==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",D=h==="$"?r[1]:/[%p]/.test(N)?"%":"",O=ic[N],B=!N||/[defgprs%]/.test(N);A=A==null?N?6:12:/[gprs]/.test(N)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function R(I){var L=k,$=D,G,le,ne;if(N==="c")$=O(I)+$,I="";else{I=+I;var U=(I<0||1/I<0)&&(I*=-1,!0);if(I=O(I,A),U){for(G=-1,le=I.length,U=!1;++G<le;)if(ne=I.charCodeAt(G),48<ne&&ne<58||N==="x"&&96<ne&&ne<103||N==="X"&&64<ne&&ne<71){U=!0;break}}if(L=(U?c==="("?c:"-":c==="-"||c==="("?"":c)+L,$=$+(N==="s"?I7[8+d0/3]:"")+(U&&c==="("?")":""),B){for(G=-1,le=I.length;++G<le;)if(ne=I.charCodeAt(G),48>ne||ne>57){$=(ne===46?n+I.slice(G+1):I.slice(G))+$,I=I.slice(0,G);break}}}M&&!y&&(I=t(I,1/0));var ae=L.length+I.length+$.length,J=ae<x?new Array(x-ae+1).join(u):"";switch(M&&y&&(I=t(J+I,J.length?x-$.length:1/0),J=""),f){case"<":return L+I+$+J;case"=":return L+J+I+$;case"^":return J.slice(0,ae=J.length>>1)+L+I+$+J.slice(ae)}return J+L+I+$}return R.toString=function(){return i+""},R}function o(i,u){var f=a((i=so(i),i.type="f",i)),c=Math.max(-8,Math.min(8,Math.floor(sl(u)/3)))*3,h=Math.pow(10,-c),y=I7[8+c/3];return function(x){return f(h*x)+y}}return{format:a,formatPrefix:o}}var uc,lc,fc;h0({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function h0(e){return uc=Si(e),lc=uc.format,fc=uc.formatPrefix,uc}var JI={value:function(){}};function P7(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r)throw new Error("illegal type: "+n);r[n]=[]}return new sc(r)}function sc(e){this._=e}function ez(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}sc.prototype=P7.prototype={constructor:sc,on:function(e,t){var r=this._,n=ez(e+"",r),a,o=-1,i=n.length;if(arguments.length<2){for(;++o<i;)if((a=(e=n[o]).type)&&(a=tz(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(a=(e=n[o]).type)r[a]=z7(r[a],e.name,t);else if(t==null)for(a in r)r[a]=z7(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new sc(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,o;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,a=o.length;n<a;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,o=n.length;a<o;++a)n[a].value.apply(t,r)}};function tz(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function z7(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=JI,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var cc=P7;function Mn(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function dc(e){return e.length===1&&(e=rz(e)),{left:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var o=n+a>>>1;e(t[o],r)<0?n=o+1:a=o}return n},right:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var o=n+a>>>1;e(t[o],r)>0?a=o:n=o+1}return n}}}function rz(e){return function(t,r){return Mn(e(t),r)}}var R7=dc(Mn),L7=R7.right,nz=R7.left,co=L7;var O7=Array.prototype,oz=O7.slice,iz=O7.map;var p0=Math.sqrt(50),g0=Math.sqrt(10),v0=Math.sqrt(2);function hc(e,t,r){var n,a=-1,o,i,u;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(o=e,e=t,t=o),(u=B7(e,t,r))===0||!isFinite(u))return[];if(u>0)for(e=Math.ceil(e/u),t=Math.floor(t/u),i=new Array(o=Math.ceil(t-e+1));++a<o;)i[a]=(e+a)*u;else for(e=Math.floor(e*u),t=Math.ceil(t*u),i=new Array(o=Math.ceil(e-t+1));++a<o;)i[a]=(e-a)/u;return n&&i.reverse(),i}function B7(e,t,r){var n=(t-e)/Math.max(0,r),a=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,a);return a>=0?(o>=p0?10:o>=g0?5:o>=v0?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(o>=p0?10:o>=g0?5:o>=v0?2:1)}function na(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/a;return o>=p0?a*=10:o>=g0?a*=5:o>=v0&&(a*=2),t<e?-a:a}var Jt="$";function pc(){}pc.prototype=H7.prototype={constructor:pc,has:function(e){return Jt+e in this},get:function(e){return this[Jt+e]},set:function(e,t){return this[Jt+e]=t,this},remove:function(e){var t=Jt+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===Jt&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===Jt&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===Jt&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===Jt&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===Jt&&++e;return e},empty:function(){for(var e in this)if(e[0]===Jt)return!1;return!0},each:function(e){for(var t in this)t[0]===Jt&&e(this[t],t.slice(1),this)}};function H7(e,t){var r=new pc;if(e instanceof pc)e.each(function(u,f){r.set(f,u)});else if(Array.isArray(e)){var n=-1,a=e.length,o;if(t==null)for(;++n<a;)r.set(n,e[n]);else for(;++n<a;)r.set(t(o=e[n],n,e),o)}else if(e)for(var i in e)r.set(i,e[i]);return r}var cl=H7;function gc(){}var mo=cl.prototype;gc.prototype=dz.prototype={constructor:gc,has:mo.has,add:function(e){return e+="",this[Jt+e]=e,this},remove:mo.remove,clear:mo.clear,values:mo.keys,size:mo.size,empty:mo.empty,each:mo.each};function dz(e,t){var r=new gc;if(e instanceof gc)e.each(function(o){r.add(o)});else if(e){var n=-1,a=e.length;if(t==null)for(;++n<a;)r.add(e[n]);else for(;++n<a;)r.add(t(e[n],n,e))}return r}var Y7=Array.prototype,vc=Y7.map,ho=Y7.slice;function Mi(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function dl(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function go(){}var aa=.7,po=1/aa,Ai="\\s*([+-]?\\d+)\\s*",ml="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",rn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hz=/^#([0-9a-f]{3,8})$/,pz=new RegExp("^rgb\\("+[Ai,Ai,Ai]+"\\)$"),gz=new RegExp("^rgb\\("+[rn,rn,rn]+"\\)$"),vz=new RegExp("^rgba\\("+[Ai,Ai,Ai,ml]+"\\)$"),xz=new RegExp("^rgba\\("+[rn,rn,rn,ml]+"\\)$"),bz=new RegExp("^hsl\\("+[ml,rn,rn]+"\\)$"),yz=new RegExp("^hsla\\("+[ml,rn,rn,ml]+"\\)$"),q7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mi(go,oa,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:W7,formatHex:W7,formatHsl:wz,formatRgb:$7,toString:$7});function W7(){return this.rgb().formatHex()}function wz(){return Q7(this).formatHsl()}function $7(){return this.rgb().formatRgb()}function oa(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=hz.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?G7(t):r===3?new zt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pz.exec(e))?new zt(t[1],t[2],t[3],1):(t=gz.exec(e))?new zt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=vz.exec(e))?xc(t[1],t[2],t[3],t[4]):(t=xz.exec(e))?xc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bz.exec(e))?j7(t[1],t[2]/100,t[3]/100,1):(t=yz.exec(e))?j7(t[1],t[2]/100,t[3]/100,t[4]):q7.hasOwnProperty(e)?G7(q7[e]):e==="transparent"?new zt(NaN,NaN,NaN,0):null}function G7(e){return new zt(e>>16&255,e>>8&255,e&255,1)}function xc(e,t,r,n){return n<=0&&(e=t=r=NaN),new zt(e,t,r,n)}function w0(e){return e instanceof go||(e=oa(e)),e?(e=e.rgb(),new zt(e.r,e.g,e.b,e.opacity)):new zt}function ki(e,t,r,n){return arguments.length===1?w0(e):new zt(e,t,r,n??1)}function zt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Mi(zt,ki,dl(go,{brighter:function(e){return e=e==null?po:Math.pow(po,e),new zt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?aa:Math.pow(aa,e),new zt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:U7,formatHex:U7,formatRgb:X7,toString:X7}));function U7(){return"#"+b0(this.r)+b0(this.g)+b0(this.b)}function X7(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function b0(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function j7(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new tn(e,t,r,n)}function Q7(e){if(e instanceof tn)return new tn(e.h,e.s,e.l,e.opacity);if(e instanceof go||(e=oa(e)),!e)return new tn;if(e instanceof tn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,u=o-a,f=(o+a)/2;return u?(t===o?i=(r-n)/u+(r<n)*6:r===o?i=(n-t)/u+2:i=(t-r)/u+4,u/=f<.5?o+a:2-o-a,i*=60):u=f>0&&f<1?0:i,new tn(i,u,f,e.opacity)}function K7(e,t,r,n){return arguments.length===1?Q7(e):new tn(e,t,r,n??1)}function tn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Mi(tn,K7,dl(go,{brighter:function(e){return e=e==null?po:Math.pow(po,e),new tn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?aa:Math.pow(aa,e),new tn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new zt(y0(e>=240?e-240:e+120,a,n),y0(e,a,n),y0(e<120?e+240:e-120,a,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function y0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var Z7=Math.PI/180,J7=180/Math.PI;var n9=-.14861,_0=1.78277,S0=-.29227,bc=-.90649,hl=1.97294,e9=hl*bc,t9=hl*_0,r9=_0*S0-bc*n9;function _z(e){if(e instanceof vo)return new vo(e.h,e.s,e.l,e.opacity);e instanceof zt||(e=w0(e));var t=e.r/255,r=e.g/255,n=e.b/255,a=(r9*n+e9*t-t9*r)/(r9+e9-t9),o=n-a,i=(hl*(r-a)-S0*o)/bc,u=Math.sqrt(i*i+o*o)/(hl*a*(1-a)),f=u?Math.atan2(i,o)*J7-120:NaN;return new vo(f<0?f+360:f,u,a,e.opacity)}function Yt(e,t,r,n){return arguments.length===1?_z(e):new vo(e,t,r,n??1)}function vo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Mi(vo,Yt,dl(go,{brighter:function(e){return e=e==null?po:Math.pow(po,e),new vo(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?aa:Math.pow(aa,e),new vo(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Z7,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),a=Math.sin(e);return new zt(255*(t+r*(n9*n+_0*a)),255*(t+r*(S0*n+bc*a)),255*(t+r*(hl*n)),this.opacity)}}));function M0(e,t,r,n,a){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*r+(1+3*e+3*o-3*i)*n+i*a)/6}function a9(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],o=e[n+1],i=n>0?e[n-1]:2*a-o,u=n<t-1?e[n+2]:2*o-a;return M0((r-n/t)*t,i,a,o,u)}}function o9(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],o=e[n%t],i=e[(n+1)%t],u=e[(n+2)%t];return M0((r-n/t)*t,a,o,i,u)}}function Ci(e){return function(){return e}}function i9(e,t){return function(r){return e+r*t}}function Sz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function u9(e,t){var r=t-e;return r?i9(e,r>180||r<-180?r-360*Math.round(r/360):r):Ci(isNaN(e)?t:e)}function l9(e){return(e=+e)==1?An:function(t,r){return r-t?Sz(t,r,e):Ci(isNaN(t)?r:t)}}function An(e,t){var r=t-e;return r?i9(e,r):Ci(isNaN(e)?t:e)}var A0=function e(t){var r=l9(t);function n(a,o){var i=r((a=ki(a)).r,(o=ki(o)).r),u=r(a.g,o.g),f=r(a.b,o.b),c=An(a.opacity,o.opacity);return function(h){return a.r=i(h),a.g=u(h),a.b=f(h),a.opacity=c(h),a+""}}return n.gamma=e,n}(1);function f9(e){return function(t){var r=t.length,n=new Array(r),a=new Array(r),o=new Array(r),i,u;for(i=0;i<r;++i)u=ki(t[i]),n[i]=u.r||0,a[i]=u.g||0,o[i]=u.b||0;return n=e(n),a=e(a),o=e(o),u.opacity=1,function(f){return u.r=n(f),u.g=a(f),u.b=o(f),u+""}}}var eme=f9(a9),tme=f9(o9);function s9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function c9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function d9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=xo(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(u){for(i=0;i<n;++i)o[i]=a[i](u);return o}}function m9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ia(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function h9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=xo(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var C0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,k0=new RegExp(C0.source,"g");function Mz(e){return function(){return e}}function Az(e){return function(t){return e(t)+""}}function p9(e,t){var r=C0.lastIndex=k0.lastIndex=0,n,a,o,i=-1,u=[],f=[];for(e=e+"",t=t+"";(n=C0.exec(e))&&(a=k0.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),u[i]?u[i]+=o:u[++i]=o),(n=n[0])===(a=a[0])?u[i]?u[i]+=a:u[++i]=a:(u[++i]=null,f.push({i,x:ia(n,a)})),r=k0.lastIndex;return r<t.length&&(o=t.slice(r),u[i]?u[i]+=o:u[++i]=o),u.length<2?f[0]?Az(f[0].x):Mz(t):(t=f.length,function(c){for(var h=0,y;h<t;++h)u[(y=f[h]).i]=y.x(c);return u.join("")})}function xo(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ci(t):(r==="number"?ia:r==="string"?(n=oa(t))?(t=n,A0):p9:t instanceof oa?A0:t instanceof Date?m9:c9(t)?s9:Array.isArray(t)?d9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?h9:ia)(e,t)}function T0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function g9(e){return function t(r){r=+r;function n(a,o){var i=e((a=Yt(a)).h,(o=Yt(o)).h),u=An(a.s,o.s),f=An(a.l,o.l),c=An(a.opacity,o.opacity);return function(h){return a.h=i(h),a.s=u(h),a.l=f(Math.pow(h,r)),a.opacity=c(h),a+""}}return n.gamma=t,n}(1)}var kz=g9(u9),Ti=g9(An);function yc(e){return function(){return e}}function V0(e){return+e}var v9=[0,1];function wc(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:yc(t)}function Cz(e){return function(t,r){var n=e(t=+t,r=+r);return function(a){return a<=t?0:a>=r?1:n(a)}}}function Tz(e){return function(t,r){var n=e(t=+t,r=+r);return function(a){return a<=0?t:a>=1?r:n(a)}}}function Vz(e,t,r,n){var a=e[0],o=e[1],i=t[0],u=t[1];return o<a?(a=r(o,a),i=n(u,i)):(a=r(a,o),i=n(i,u)),function(f){return i(a(f))}}function Nz(e,t,r,n){var a=Math.min(e.length,t.length)-1,o=new Array(a),i=new Array(a),u=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<a;)o[u]=r(e[u],e[u+1]),i[u]=n(t[u],t[u+1]);return function(f){var c=co(e,f,1,a)-1;return i[c](o[c](f))}}function pl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function Vi(e,t){var r=v9,n=v9,a=xo,o=!1,i,u,f;function c(){return i=Math.min(r.length,n.length)>2?Nz:Vz,u=f=null,h}function h(y){return(u||(u=i(r,n,o?Cz(e):e,a)))(+y)}return h.invert=function(y){return(f||(f=i(n,r,wc,o?Tz(t):t)))(+y)},h.domain=function(y){return arguments.length?(r=vc.call(y,V0),c()):r.slice()},h.range=function(y){return arguments.length?(n=ho.call(y),c()):n.slice()},h.rangeRound=function(y){return n=ho.call(y),a=T0,c()},h.clamp=function(y){return arguments.length?(o=!!y,c()):o},h.interpolate=function(y){return arguments.length?(a=y,c()):a},c()}function x9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bo(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function nn(e){return e=bo(Math.abs(e)),e?e[1]:NaN}function b9(e,t){return function(r,n){for(var a=r.length,o=[],i=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),o.push(r.substring(a-=u,a+u)),!((f+=u+1)>n));)u=e[i=(i+1)%e.length];return o.reverse().join(t)}}function y9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Dz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ua(e){if(!(t=Dz.exec(e)))throw new Error("invalid format: "+e);var t;return new _c({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ua.prototype=_c.prototype;function _c(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_c.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function w9(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var N0;function _9(e,t){var r=bo(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(N0=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+bo(e,Math.max(0,t+o-1))[0]}function D0(e,t){var r=bo(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var E0={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:x9,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return D0(e*100,t)},r:D0,s:_9,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function I0(e){return e}var S9=Array.prototype.map,M9=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function A9(e){var t=e.grouping===void 0||e.thousands===void 0?I0:b9(S9.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?I0:y9(S9.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"-":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function c(y){y=ua(y);var x=y.fill,M=y.align,A=y.sign,N=y.symbol,k=y.zero,D=y.width,O=y.comma,B=y.precision,R=y.trim,I=y.type;I==="n"?(O=!0,I="g"):E0[I]||(B===void 0&&(B=12),R=!0,I="g"),(k||x==="0"&&M==="=")&&(k=!0,x="0",M="=");var L=N==="$"?r:N==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",$=N==="$"?n:/[%p]/.test(I)?i:"",G=E0[I],le=/[defgprs%]/.test(I);B=B===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function ne(U){var ae=L,J=$,H,ee,j;if(I==="c")J=G(U)+J,U="";else{U=+U;var X=U<0||1/U<0;if(U=isNaN(U)?f:G(Math.abs(U),B),R&&(U=w9(U)),X&&+U==0&&A!=="+"&&(X=!1),ae=(X?A==="("?A:u:A==="-"||A==="("?"":A)+ae,J=(I==="s"?M9[8+N0/3]:"")+J+(X&&A==="("?")":""),le){for(H=-1,ee=U.length;++H<ee;)if(j=U.charCodeAt(H),48>j||j>57){J=(j===46?a+U.slice(H+1):U.slice(H))+J,U=U.slice(0,H);break}}}O&&!k&&(U=t(U,1/0));var K=ae.length+U.length+J.length,Z=K<D?new Array(D-K+1).join(x):"";switch(O&&k&&(U=t(Z+U,Z.length?D-J.length:1/0),Z=""),M){case"<":U=ae+U+J+Z;break;case"=":U=ae+Z+U+J;break;case"^":U=Z.slice(0,K=Z.length>>1)+ae+U+J+Z.slice(K);break;default:U=Z+ae+U+J;break}return o(U)}return ne.toString=function(){return y+""},ne}function h(y,x){var M=c((y=ua(y),y.type="f",y)),A=Math.max(-8,Math.min(8,Math.floor(nn(x)/3)))*3,N=Math.pow(10,-A),k=M9[8+A/3];return function(D){return M(N*D)+k}}return{format:c,formatPrefix:h}}var Sc,Mc,Ac;z0({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function z0(e){return Sc=A9(e),Mc=Sc.format,Ac=Sc.formatPrefix,Sc}function P0(e){return Math.max(0,-nn(Math.abs(e)))}function R0(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nn(t)/3)))*3-nn(Math.abs(e)))}function L0(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nn(t)-nn(e))+1}function k9(e,t,r){var n=e[0],a=e[e.length-1],o=na(n,a,t??10),i;switch(r=ua(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(a));return r.precision==null&&!isNaN(i=R0(o,u))&&(r.precision=i),Ac(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=L0(o,Math.max(Math.abs(n),Math.abs(a))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=P0(o))&&(r.precision=i-(r.type==="%")*2);break}}return Mc(r)}function gl(e){var t=e.domain;return e.ticks=function(r){var n=t();return hc(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){return k9(t(),r,n)},e.nice=function(r){var n=t(),a=n.length-1,o=r??10,i=n[0],u=n[a],f=na(i,u,o);return f&&(f=na(Math.floor(i/f)*f,Math.ceil(u/f)*f,o),n[0]=Math.floor(i/f)*f,n[a]=Math.ceil(u/f)*f,t(n)),e},e}function Ni(){var e=Vi(wc,ia);return e.copy=function(){return pl(e,Ni())},gl(e)}var Iz=1e3,zz=Iz*60,Pz=zz*60,O0=Pz*24,ipe=O0*7,upe=O0*30,lpe=O0*365;function er(e){return e.match(/.{6}/g).map(function(t){return"#"+t})}var Rz=er("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var Lz=er("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6");var Oz=er("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9");var Bz=er("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");var Fz=Ti(Yt(300,.5,0),Yt(-240,.5,1));var Hz=Ti(Yt(-100,.75,.35),Yt(80,1.5,.8)),Yz=Ti(Yt(260,.75,.35),Yt(80,1.5,.8)),Cpe=Yt();function kc(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}var qz=kc(er("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Wz=kc(er("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),$z=kc(er("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Gz=kc(er("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function la(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function B0(e){return e.length===1&&(e=Uz(e)),{left:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var o=n+a>>>1;e(t[o],r)<0?n=o+1:a=o}return n},right:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var o=n+a>>>1;e(t[o],r)>0?a=o:n=o+1}return n}}}function Uz(e){return function(t,r){return la(e(t),r)}}var C9=B0(la),Xz=C9.right,jz=C9.left;var T9=Array.prototype,Kz=T9.slice,Zz=T9.map;var Dge=Math.sqrt(50),Ege=Math.sqrt(10),Ige=Math.sqrt(2);function Tc(e,t){var r=-1,n=e.length,a,o;if(t==null){for(;++r<n;)if((o=e[r])!=null&&o>=o){a=o;break}for(;++r<n;)(o=e[r])!=null&&o>a&&(a=o)}else{for(;++r<n;)if((o=t(e[r],r,e))!=null&&o>=o){a=o;break}for(;++r<n;)(o=t(e[r],r,e))!=null&&o>a&&(a=o)}return a}function Vc(e,t){var r=0,n=e.length,a,o=-1;if(t==null)for(;++o<n;)(a=+e[o])&&(r+=a);else for(;++o<n;)(a=+t(e[o],o,e))&&(r+=a);return r}var uP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E9=function(t){return t},N9=function(t){for(var r=[],n=0,a=t.length;n<a;n++)r[n]=t[a-n-1];return r},D9=function(t,r){t.each(function(){for(var n=c0(this),a=n.text().split(/\s+/).reverse(),o,i=[],u=0,f=1.2,c=n.attr("y"),h=parseFloat(n.attr("dy"))||0,y=n.text(null).append("tspan").attr("x",0).attr("dy",h+"em");o=a.pop();)i.push(o),y.text(i.join(" ")),y.node().getComputedTextLength()>r&&i.length>1&&(i.pop(),y.text(i.join(" ")),i=[o],y=n.append("tspan").attr("x",0).attr("dy",f+h+"em").text(o))})},lP=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments[1],n=arguments[2],a=arguments[3],o=arguments[4];if((typeof r>"u"?"undefined":uP(r))==="object"){if(r.length===0)return t;for(var i=r.length;i<t.length;i++)r.push(t[i]);return r}else if(typeof r=="function"){for(var u=[],f=t.length,c=0;c<f;c++)u.push(r({i:c,genLength:f,generatedLabels:t,domain:n,range:a,labelDelimiter:o}));return u}return t},fP=function(t,r,n){var a=[];if(r.length>1)a=r;else for(var o=t.domain(),i=(o[o.length-1]-o[0])/(r-1),u=0;u<r;u++)a.push(o[0]+u*i);var f=a.map(n);return{data:a,labels:f,feature:function(h){return t(h)}}},sP=function(t,r,n){var a=t.range().map(function(o){var i=t.invertExtent(o);return r(i[0])+" "+n+" "+r(i[1])});return{data:t.range(),labels:a,feature:E9}},cP=function(t){return{data:t.domain(),labels:t.domain(),feature:function(n){return t(n)}}},dP=function(t,r,n){t.call("cellover",n,r)},mP=function(t,r,n){t.call("cellout",n,r)},hP=function(t,r,n){t.call("cellclick",n,r)},ot={d3_drawShapes:function(t,r,n,a,o,i){t==="rect"?r.attr("height",n).attr("width",a):t==="circle"?r.attr("r",o):t==="line"?r.attr("x1",0).attr("x2",a).attr("y1",0).attr("y2",0):t==="path"&&r.attr("d",i)},d3_addText:function(t,r,n,a,o){r.append("text").attr("class",a+"label");var i=t.selectAll("g."+a+"cell text."+a+"label").data(n).text(E9);return o&&t.selectAll("g."+a+"cell text."+a+"label").call(D9,o),i},d3_calcType:function(t,r,n,a,o,i){var u=t.invertExtent?sP(t,o,i):t.ticks?fP(t,n,o):cP(t),f=t.range&&t.range()||t.domain();return u.labels=lP(u.labels,a,t.domain(),f,i),r&&(u.labels=N9(u.labels),u.data=N9(u.data)),u},d3_filterCells:function(t,r){var n=t.data.map(function(i,u){return{data:i,label:t.labels[u]}}).filter(r),a=n.map(function(i){return i.data}),o=n.map(function(i){return i.label});return t.data=t.data.filter(function(i){return a.indexOf(i)!==-1}),t.labels=t.labels.filter(function(i){return o.indexOf(i)!==-1}),t},d3_placement:function(t,r,n,a,o,i){r.attr("transform",n),a.attr("transform",o),t==="horizontal"&&a.style("text-anchor",i)},d3_addEvents:function(t,r){t.on("mouseover.legend",function(n){dP(r,n,this)}).on("mouseout.legend",function(n){mP(r,n,this)}).on("click.legend",function(n){hP(r,n,this)})},d3_title:function(t,r,n,a){if(r!==""){var o=t.selectAll("text."+n+"legendTitle");o.data([r]).enter().append("text").attr("class",n+"legendTitle"),t.selectAll("text."+n+"legendTitle").text(r),a&&t.selectAll("text."+n+"legendTitle").call(D9,a);var i=t.select("."+n+"legendCells"),u=t.select("."+n+"legendTitle").nodes().map(function(c){return c.getBBox().height})[0],f=-i.nodes().map(function(c){return c.getBBox().x})[0];i.attr("transform","translate("+f+","+u+")")}},d3_defaultLocale:{format:lc,formatPrefix:fc},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function Nc(){var e=Ni(),t="rect",r=15,n=15,a=10,o=2,i=[5],u=void 0,f=[],c="",h=!1,y="",x=ot.d3_defaultLocale,M=ot.d3_defaultFormatSpecifier,A=10,N="middle",k=ot.d3_defaultDelimiter,D=void 0,O="vertical",B=!1,R=void 0,I=void 0,L=cc("cellover","cellout","cellclick");function $(G){var le=ot.d3_calcType(e,B,i,f,x.format(M),k),ne=G.selectAll("g").data([e]);ne.enter().append("g").attr("class",c+"legendCells"),u&&ot.d3_filterCells(le,u);var U=G.select("."+c+"legendCells").selectAll("."+c+"cell").data(le.data),ae=U.enter().append("g").attr("class",c+"cell");ae.append(t).attr("class",c+"swatch");var J=G.selectAll("g."+c+"cell "+t+"."+c+"swatch").data(le.data);ot.d3_addEvents(ae,L),U.exit().transition().style("opacity",0).remove(),J.exit().transition().style("opacity",0).remove(),J=J.merge(J),ot.d3_drawShapes(t,J,n,r,a,R);var H=ot.d3_addText(G,ae,le.labels,c,D);U=ae.merge(U);var ee=H.nodes().map(function(te){return te.getBBox()}),j=J.nodes().map(function(te){return te.getBBox()});h?J.attr("class",function(te){return c+"swatch "+le.feature(te)}):t=="line"?J.style("stroke",le.feature):J.style("fill",le.feature);var X=void 0,K=void 0,Z=N=="start"?0:N=="middle"?.5:1;O==="vertical"?function(){var te=ee.map(function(fe,de){return Math.max(fe.height,j[de].height)});X=function(de,re){var me=Vc(te.slice(0,re));return"translate(0, "+(me+re*o)+")"},K=function(de,re){return"translate( "+(j[re].width+j[re].x+A)+", "+(j[re].y+j[re].height/2+5)+")"}}():O==="horizontal"&&(X=function(fe,de){return"translate("+de*(j[de].width+o)+",0)"},K=function(fe,de){return"translate("+(j[de].width*Z+j[de].x)+`,
          `+(j[de].height+j[de].y+A+8)+")"}),ot.d3_placement(O,U,X,H,K,N),ot.d3_title(G,y,c,I),U.transition().style("opacity",1)}return $.scale=function(G){return arguments.length?(e=G,$):e},$.cells=function(G){return arguments.length?((G.length>1||G>=2)&&(i=G),$):i},$.cellFilter=function(G){return arguments.length?(u=G,$):u},$.shape=function(G,le){return arguments.length?((G=="rect"||G=="circle"||G=="line"||G=="path"&&typeof le=="string")&&(t=G,R=le),$):t},$.shapeWidth=function(G){return arguments.length?(r=+G,$):r},$.shapeHeight=function(G){return arguments.length?(n=+G,$):n},$.shapeRadius=function(G){return arguments.length?(a=+G,$):a},$.shapePadding=function(G){return arguments.length?(o=+G,$):o},$.labels=function(G){return arguments.length?(f=G,$):f},$.labelAlign=function(G){return arguments.length?((G=="start"||G=="end"||G=="middle")&&(N=G),$):N},$.locale=function(G){return arguments.length?(x=Si(G),$):x},$.labelFormat=function(G){return arguments.length?(M=so(G),$):$.locale().format(M)},$.labelOffset=function(G){return arguments.length?(A=+G,$):A},$.labelDelimiter=function(G){return arguments.length?(k=G,$):k},$.labelWrap=function(G){return arguments.length?(D=G,$):D},$.useClass=function(G){return arguments.length?((G===!0||G===!1)&&(h=G),$):h},$.orient=function(G){return arguments.length?(G=G.toLowerCase(),(G=="horizontal"||G=="vertical")&&(O=G),$):O},$.ascending=function(G){return arguments.length?(B=!!G,$):B},$.classPrefix=function(G){return arguments.length?(c=G,$):c},$.title=function(G){return arguments.length?(y=G,$):y},$.titleWidth=function(G){return arguments.length?(I=G,$):I},$.textWrap=function(G){return arguments.length?(textWrap=G,$):textWrap},$.on=function(){var G=L.on.apply(L,arguments);return G===L?$:G},$}function I9(){var e=Ni(),t="path",r=15,n=15,a=10,o=5,i=[5],u=void 0,f=[],c="",h="",y=ot.d3_defaultLocale,x=ot.d3_defaultFormatSpecifier,M="middle",A=10,N=ot.d3_defaultDelimiter,k=void 0,D="vertical",O=!1,B=void 0,R=cc("cellover","cellout","cellclick");function I(L){var $=ot.d3_calcType(e,O,i,f,y.format(x),N),G=L.selectAll("g").data([e]);u&&ot.d3_filterCells($,u),G.enter().append("g").attr("class",c+"legendCells");var le=L.select("."+c+"legendCells").selectAll("."+c+"cell").data($.data),ne=le.enter().append("g").attr("class",c+"cell");ne.append(t).attr("class",c+"swatch");var U=L.selectAll("g."+c+"cell "+t+"."+c+"swatch");ot.d3_addEvents(ne,R),le.exit().transition().style("opacity",0).remove(),U.exit().transition().style("opacity",0).remove(),U=U.merge(U),ot.d3_drawShapes(t,U,n,r,a,$.feature);var ae=ot.d3_addText(L,ne,$.labels,c,k);le=ne.merge(le);var J=ae.nodes().map(function(te){return te.getBBox()}),H=U.nodes().map(function(te){return te.getBBox()}),ee=Tc(H,function(te){return te.height}),j=Tc(H,function(te){return te.width}),X=void 0,K=void 0,Z=M=="start"?0:M=="middle"?.5:1;D==="vertical"?function(){var te=J.map(function(fe,de){return Math.max(ee,fe.height)});X=function(de,re){var me=Vc(te.slice(0,re));return"translate(0, "+(me+re*o)+" )"},K=function(de,re){return"translate( "+(j+A)+`,
              `+(H[re].y+H[re].height/2+5)+")"}}():D==="horizontal"&&(X=function(fe,de){return"translate( "+de*(j+o)+",0)"},K=function(fe,de){return"translate( "+(H[de].width*Z+H[de].x)+`,
              `+(ee+A)+")"}),ot.d3_placement(D,le,X,ae,K,M),ot.d3_title(L,h,c,B),le.transition().style("opacity",1)}return I.scale=function(L){return arguments.length?(e=L,I):e},I.cells=function(L){return arguments.length?((L.length>1||L>=2)&&(i=L),I):i},I.cellFilter=function(L){return arguments.length?(u=L,I):u},I.shapePadding=function(L){return arguments.length?(o=+L,I):o},I.labels=function(L){return arguments.length?(f=L,I):f},I.labelAlign=function(L){return arguments.length?((L=="start"||L=="end"||L=="middle")&&(M=L),I):M},I.locale=function(L){return arguments.length?(y=Si(L),I):y},I.labelFormat=function(L){return arguments.length?(x=so(L),I):I.locale().format(x)},I.labelOffset=function(L){return arguments.length?(A=+L,I):A},I.labelDelimiter=function(L){return arguments.length?(N=L,I):N},I.labelWrap=function(L){return arguments.length?(k=L,I):k},I.orient=function(L){return arguments.length?(L=L.toLowerCase(),(L=="horizontal"||L=="vertical")&&(D=L),I):D},I.ascending=function(L){return arguments.length?(O=!!L,I):O},I.classPrefix=function(L){return arguments.length?(c=L,I):c},I.title=function(L){return arguments.length?(h=L,I):h},I.titleWidth=function(L){return arguments.length?(B=L,I):B},I.on=function(){var L=R.on.apply(R,arguments);return L===R?I:L},I}var $9=Ie(Pe());var P9=`<span id="up-arrow">&#9650;</span>
<span id="page-text"></span>
<span id="down-arrow">&#9660;</span>
`;function R9(e){let t=e.select("g.legendCells"),r=e.node().getBoundingClientRect();if(!Zr(r,t.node().getBoundingClientRect()))return;let n=e.select(".legend");t.selectAll(".label").text((a,o,i)=>{let u=i[o];if(Zr(r,u.getBoundingClientRect())){let f=gP(u,n,r);return`${a.substring(0,f-3)}...`}else return a})}function gP(e,t,r){let n=e.getBoundingClientRect(),a=t.node().createSVGPoint(),o=3;return a.x=r.right-n.left-o,a.y=0,e.getCharNumAtPosition(a)}var yo=10;function fa(e,t,r){let n=ue(xi(e).getContainer()).node().getBoundingClientRect(),a=e.getBoundingClientRect(),o={top:a.top+r-yo,right:a.right+t+yo,bottom:a.bottom+r+yo,left:a.left+t-yo},i={x:t,y:r};return[{edge:"right",dimension:"x"},{edge:"left",dimension:"x"},{edge:"top",dimension:"y"},{edge:"bottom",dimension:"y"}].forEach(f=>{if(Zr(n,o,f.edge)){let c=o[f.edge]-n[f.edge];i[f.dimension]=i[f.dimension]-c}}),i}var F0="resize.for-dragging";function L9(){let e=!0,t=null,r=n=>{let a=n.node(),o=a.getRootNode().host.closest("perspective-viewer");a.style.cursor="move",t.legend&&(a.style.left=t.legend.left,a.style.top=t.legend.top);let i=fi().on("drag",function(u){let f=fa(this,u.dx,u.dy);this.style.left=`${this.offsetLeft+f.x}px`,this.style.top=`${this.offsetTop+f.y}px`;let c={left:this.style.left,top:this.style.top};t.legend={...t.legend,...c},e=bP(a)?xP(a):vP(a,e)});i.on("end",function(u){ue(window).on(F0,null),o?.dispatchEvent(new Event("perspective-config-update"))}),n.call(i)};return r.settings=(...n)=>n.length?(t=n[0],r):t,r}function vP(e,t){return t!==!1&&ue(window).on(F0,function(){let r=fa(e,0,0);e.style.left=`${e.offsetLeft+r.x}px`,e.style.top=`${e.offsetTop+r.y}px`}),!1}function xP(e){return ue(window).on(F0,null),e.style.left="auto",!0}function bP(e){let t=e.getBoundingClientRect(),r=ue(Zn(e)).node().getBoundingClientRect(),n=5;return t.right+yo+n>=r.right&&t.top-yo-n<=r.top}var O9="horizontal-drag-handle",B9="vertical-drag-handle",yP="corner-drag-handle",H9="dragHandles",F9=0,sa="resize";function Y9(){let e=9,t=3,r=null,n={height:100,width:100},a={height:null,width:null},o=[],i=(h,y)=>o.filter(x=>x.event===h).forEach(x=>x.execute(y)),u=h=>{if(_P(h))return;let y={left:re=>i(sa,{horizontal:ee(re),vertical:!1}),top:re=>i(sa,{horizontal:!1,vertical:X(re)}),right:re=>i(sa,{horizontal:j(re),vertical:!1}),bottom:re=>i(sa,{horizontal:!1,vertical:K(re)}),topleft:re=>i(sa,{horizontal:ee(re),vertical:X(re)}),topright:re=>i(sa,{horizontal:j(re),vertical:X(re)}),bottomright:re=>i(sa,{horizontal:j(re),vertical:K(re)}),bottomleft:re=>i(sa,{horizontal:ee(re),vertical:K(re)})},x=h.node();r.legend&&(x.style.height=r.legend.height,x.style.width=r.legend.width);let M=x.getBoundingClientRect(),A=h.append("svg").attr("id",H9).attr("width",M.width).attr("height",M.height),N=A.append("g"),k=re=>re==="left"||re==="right",D={left:0,top:e,right:M.width-e,bottom:e},O={left:e,top:0,right:e,bottom:M.height-e},B=["left","top","right","bottom"],[R,I,L,$]=B.map(re=>N.append("rect").attr("id",`drag${re}`).attr("class",k(re)?B9:O9).attr("y",O[re]).attr("x",D[re]).attr("height",k(re)?M.height-e*2:e).attr("width",k(re)?e:M.width-e*2).attr("fill",k(re)?"lightgreen":"lightblue").attr("fill-opacity",F9).style("z-index",t).attr("cursor",k(re)?"ew-resize":"ns-resize").call(fi().on("drag",y[re]))),G=re=>`${re[0]}${re[1]}`,le={topleft:"nwse",topright:"nesw",bottomright:"nwse",bottomleft:"nesw"},ne=[["top","left"],["top","right"],["bottom","right"],["bottom","left"]],[U,ae,J,H]=ne.map(re=>N.append("rect").attr("id",`drag${G(re)}`).attr("class",`${yP} ${re[0]} ${re[1]}`).attr("height",e).attr("width",e).attr("fill","red").attr("fill-opacity",F9).style("z-index",t).attr("cursor",`${le[G(re)]}-resize`).call(fi().on("drag",y[G(re)])));de("height","y",$),de("width","x",L),fe(A);function ee(re){let me=c(fa(R.node(),re.x,0).x,A,"width",(Me,Oe)=>Me-Oe);return x.style.left=`${x.offsetLeft+me}px`,x.style.width=`${x.offsetWidth-me}px`,Z(),te(L,me,"width","x")}function j(re){let me=-c(fa(L.node(),re.dx,0).x,A,"width",(Me,Oe)=>Me+Oe);return f(me,"x",L,re)?!1:(x.style.width=`${x.offsetWidth-me}px`,Z(),te(L,me,"width","x"))}function X(re){let me=c(fa(I.node(),0,re.y).y,A,"height",(Me,Oe)=>Me-Oe);return x.style.top=`${x.offsetTop+me}px`,x.style.height=`${x.offsetHeight-me}px`,Z(),te($,me,"height","y")}function K(re){let me=-c(fa($.node(),0,re.dy).y,A,"height",(Me,Oe)=>Me+Oe);return f(me,"y",$,re)?!1:(x.style.height=`${x.offsetHeight-me}px`,Z(),te($,me,"height","y"))}function Z(){let re={top:x.style.top,left:x.style.left,height:x.style.height,width:x.style.width};r.legend={...r.legend,...re}}function te(re,me,Me,Oe){return MP(A,Me,me),SP(re,Oe,me),wP(A,me,Me,Me==="height"?B9:O9),fe(A),me!=0}function fe(re){U.attr("y",0,"x",0),ae.attr("y",0).attr("x",re.attr("width")-e),J.attr("y",re.attr("height")-e).attr("x",re.attr("width")-e),H.attr("y",re.attr("height")-e).attr("x",0)}function de(re,me,Me){!!a[re]&&a[re]<M[re]&&(x.style[re]=`${a[re]}px`,te(Me,M[re]-a[re],re,me))}};u.on=(h,y)=>(o.push({event:h,execute:y}),u),u.zIndex=h=>(t=h,u),u.settings=(...h)=>h.length?(r=h[0],u):r,u.minWidth=h=>(n.width=h,a.width&&(a.width=Math.max(n.width,a.width)),u),u.minHeight=h=>(n.height=h,a.height&&(a.height=Math.max(n.height,a.height)),u),u.handleWidth=h=>(e=h,u),u.maxWidth=h=>(a.width=h,n.width=Math.min(n.width,a.width),u),u.maxHeight=h=>(a.height=h,n.height=Math.min(n.height,a.height),u);function f(h,y,x,M){let A=(k,D,O,B)=>k<0&&B[D]<Number(O.attr(D)),N=(k,D,O,B)=>k>0&&B[D]>Number(O.attr(D));return A(h,y,x,M)||N(h,y,x,M)}function c(h,y,x,M){let A=M(Number(y.attr(x)),h);if(A<n[x]){let N=n[x]-A;return M(h,N)}if(!!a[x]&&A>a[x]){let N=a[x]-A;return M(h,N)}return h}return u}var wP=(e,t,r,n)=>{e.selectAll(`.${n}`).each((o,i,u)=>{let f=u[i];ue(f).attr(r,f.getBoundingClientRect()[r]-t)})},_P=e=>e.select(`#${H9}`).size()>0,SP=(e,t,r)=>e.attr(t,Number(e.attr(t))-r),MP=(e,t,r)=>e.attr(t,e.node().getBoundingClientRect()[t]-r);var q9=16,W9=20,H0=(e,t)=>{let r=e||Nc(),n=[],a=1,o,i=t.legend&&t.legend.pageIndex?t.legend.pageIndex:0,u=()=>{},f=L9().settings(t),c,h=R=>{n=r.scale().domain(),c=Y9().settings(t).maxHeight(n.length*q9+W9).on("resize",()=>y(R)),c(R),f(R),y(R)},y=R=>{k(R),x(R),M(R),R9(R)},x=R=>{let I=O(R);I.style("display",a<=1?"none":"block"),I.select("#page-text").text(`${i+1}/${a}`),I.select("#up-arrow").attr("class",i===0?"disabled":"").on("click",()=>{i>0&&(A(i-1),y(R))}),I.select("#down-arrow").attr("class",i>=a-1?"disabled":"").on("click",()=>{i<a-1&&(A(i+1),y(R))})},M=R=>{a>1&&r.cellFilter(N()),R.select("g.legendCells").remove();let I=B(R);I.call(r);let L=R.select("g.legendCells").node().getBBox();I.attr("height",L.height+W9),u(R)},A=R=>{i=R,t.legend={...t.legend,pageIndex:i}},N=()=>(R,I)=>I>=o*i&&I<o*i+o,k=R=>{let I=R.node().getBoundingClientRect(),L=Math.floor(I.height/q9)-1;o=L<n.length?L-1:L,a=D(L),i=Math.min(i,a-1)},D=R=>Math.ceil(n.length/R),O=R=>ft(R,".legend-controls",()=>R.append("g").attr("class","legend-controls").html(P9)),B=R=>ft(R,".legend",()=>R.append("svg").attr("class","legend"));return h.decorate=(...R)=>R.length?(u=R[0],h):u,(0,$9.rebindAll)(h,r),h};var G9=e=>H0(Nc().shape("circle").shapeRadius(6),e),AP=e=>H0(I9().shapePadding(1).labelOffset(3),e),Pt=()=>Y0(G9),vl=()=>Y0(AP,X9),U9=()=>Y0(G9,X9);function X9(e){if(!e)return null;let t=e.domain(),r=e.range().map(n=>ai().type(n)());return lr().domain(t).range(r)}function Y0(e,t){let r={},n=null,a=null;function o(i){if(n&&n.range().length>1){let u=e(r);u.scale(n).orient("vertical").on("cellclick",function(c){let h=this.__data__;r.hideKeys=r.hideKeys||[],r.hideKeys.includes(h)?r.hideKeys=r.hideKeys.filter(y=>y!==h):r.hideKeys.push(h),xi(this)._draw()}),u.labels(c=>{let h=String(c.domain[c.i]).split("|");return r.mainValues.length<=1&&h.length>1?h.slice(0,h.length-1).join("|"):c.domain[c.i]});let f=ft(i,"div.legend-container",()=>i.append("div"));u.decorate(c=>{let h=x=>r.hideKeys&&r.hideKeys.includes(x),y=c.select("g.legendCells").attr("transform","translate(20,20)").selectAll("g.cell");y.classed("hidden",h),y.append("title").html(x=>x),a&&y.select("circle, path").style("fill",x=>h(x)?null:a(x)).style("stroke",x=>h(x)?null:en(a(x)))}),f.attr("class","legend-container").attr("borderbox-on-hover",!0).style("z-index","2").call(u)}}return o.settings=(...i)=>i.length?(r=i[0],o):r,o.scale=(...i)=>i.length?(n=t?t(i[0]):i[0],o):n,o.color=(...i)=>i.length?(a=i[0],o):a,o}function wr(e,t){let r=t||e.data;return(e.hideKeys?.length??0)>0?r.map(a=>{let o={...a};return e.hideKeys.forEach(i=>{delete o[i]}),o}):r}function Di(e,t){let r=t||e.data,n=e.hideKeys?.length??0,a=e.splitValues.length;return n>0?a===0?r.filter(o=>Object.values(o).reduce((i,u)=>i&&!e.hideKeys.includes(u),!0)):r.map(o=>{let i=Object.entries(o).filter(([u,f])=>!e.hideKeys.includes(ra(u)));return Object.fromEntries(i)}):r}var ca=Ie(Pe()),kP=e=>t=>t.style("stroke-width","1.0").style("stroke",e?e.colorStyles.grid.gridLineColor:"#bbb"),CP=e=>t=>{t.strokeStyle=e?e.colorStyles.grid.gridLineColor:"#bbb",t.lineWidth=1},TP=e=>e.style("display","none"),VP=e=>t=>{t.lineWidth=1,t.strokeStyle=e?e.colorStyles.grid.gridLineColor:"#bbb"},pt=(e,t)=>{let r="both",n=!1,a=null,o=null,i=null,u=ca.seriesSvgMulti(),f=ca.annotationSvgGridline(),c=kP(t),h=TP,y=function(...x){n&&(u=ca.seriesCanvasMulti().context(i),f=ca.annotationCanvasGridline(),c=CP(t),h=VP(t));let M=u.xScale(a).yScale(o),A=r==="vertical"?h:c,N=r==="horizontal"?h:c,k=f.xDecorate(A).yDecorate(N);return M.series([k,e])(...x)};return y.orient=(...x)=>x.length?(r=x[0],y):r,y.canvas=(...x)=>x.length?(n=x[0],y):n,y.xScale=(...x)=>x.length?(a=x[0],y):a,y.yScale=(...x)=>x.length?(o=x[0],y):o,y.context=(...x)=>x.length?(i=x[0],y):i,y};var j9=Ie(Pe()),Rt=()=>{let e=Us(),t=r=>{let n=e.pad(),a=e.padUnit(),o=1;switch(a){case"domain":break;case"percent":{o=r[1]-r[0];break}default:throw new Error("Unknown padUnit: "+a)}let i=r[0]-n[0]*o,u=r[1]+n[1]*o;return r[0]=r[0]>=0&&i<0?0:i,r[1]=r[1]<=0&&u>0?0:u,r};return j9.rebindAll(t,e),t};var Q9=`<button id="zoom-reset">Reset zoom</button>
<button id="one-year">1 Year</button>
<button id="six-months">6 Months</button>
<button id="one-month">1 Month</button>
`;var gt=()=>{let e=null,t=null,r=null,n=null,a=null,o=null,i=!1,u=!1,f=()=>{};function c(M){let A=`d3fc-${u?"canvas":"svg"}.plot-area`;if(r||a){let N=n&&n.domain()[0]instanceof Date,k=Hs().on("zoom",O=>{let{transform:B}=O;t.zoom={k:B.k,x:B.x,y:B.y},h(B),M.call(e);let R=B.k===1&&B.x===0&&B.y===0,I=y(M).style("display",R?"none":"");I.select("#zoom-reset").on("click",()=>M.select(A).call(k.transform,Qr));let L=I.select("#one-year").style("display",N?"":"none"),$=I.select("#six-months").style("display",N?"":"none"),G=I.select("#one-month").style("display",N?"":"none");if(N){let le=ne=>()=>{let U=new Date(r.domain()[0]),ae=new Date(U);ne(U,ae);let J=n.range(),H=(J[1]-J[0])/(n(ae)-n(U)),ee=-n(U)*H,j=0;if(a){let X=a.domain().reduce((K,Z)=>K+Z)/2;j=-o(X)*H+a(X)}M.select(A).call(k.transform,Qr.translate(ee,j).scale(H))};L.on("click",le((ne,U)=>U.setYear(ne.getFullYear()+1))),$.on("click",le((ne,U)=>U.setMonth(ne.getMonth()+6))),G.on("click",le((ne,U)=>U.setMonth(ne.getMonth()+1)))}}),D=e.decorate();e.decorate((O,B)=>{if(D(O,B),!i){i=!0;let R=O.select(A),I=u?window.devicePixelRatio:1;R.on("measure.zoom-range",L=>{if(n&&n.range([0,L.detail.width/I]),o&&o.range([0,L.detail.height/I]),t.zoom){let $=Qr.translate(t.zoom.x,t.zoom.y).scale(t.zoom.k);R.call(k.transform,$)}}).call(k)}})}M.call(e)}c.chart=(...M)=>M.length?(e=M[0],c):e,c.settings=(...M)=>M.length?(t=M[0],c):t,c.xScale=(...M)=>M.length?(r=x(M[0]),n=r?r.copy():null,c):r,c.yScale=(...M)=>{if(!M.length)return a;if(a=x(M[0]),o=a?a.copy():null,o){let A=o.domain();o.domain([A[1],A[0]])}return c},c.canvas=(...M)=>M.length?(u=M[0],c):u,c.onChange=(...M)=>M.length?(f=M[0],c):f;let h=M=>{let A={...M};if(r&&(r.domain(M.rescaleX(n).domain()),A.xDomain=r.domain()),a){let N=M.rescaleY(o).domain();a.domain([N[1],N[0]]),A.yDomain=a.domain()}f(A)},y=M=>ft(M,".zoom-controls",()=>M.append("div").attr("class","zoom-controls").style("display","none").html(Q9)),x=M=>M&&M.nice?M:null;return c};function Z9(e,t){let r=tc(t,wr(t)),n=Jr(t),a=Pt().settings(t).scale(n),o=Js(t,n).orient("horizontal"),i=K9.seriesSvgMulti().mapping((y,x)=>y[x]).series(r.map(()=>o)),u=Ge(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[0]).excludeType(We.ordinal).include([0]).paddingStrategy(Rt())(r),f=Ge(t).excludeType(We.linear).settingName("crossValues").valueName("crossValue").orient("vertical")(r),c=br(u,f).plotArea(pt(i,t).orient("horizontal"));c.yPaddingInner&&(c.yPaddingInner(.5),c.yPaddingOuter(.25),o.align("left")),c.xNice&&c.xNice();let h=gt().chart(c).settings(t).yScale(f.scale);e.datum(r).call(h),e.call(a)}Z9.plugin={name:"X Bar",category:"X Chart",max_cells:1e3,max_columns:50,render_warning:!0,initial:{names:["X Axis"]}};var J9=Z9;var uM=Ie(Pe());var nM=(e,t)=>{if(!eM(e)||!eM(t))return;let r=tM(e),n=tM(t);r>n?t[0]=rM(t,r):e[0]=rM(e,n)},eM=e=>e.length===2&&!isNaN(e[0])&&!isNaN(e[1])&&e[0]!==e[1],tM=e=>(0-e[0])/(e[1]-e[0]),rM=(e,t)=>t*e[1]/(t-1);var aM=Ie(Pe());var oM=e=>{let t=[],r=!1,n,a=i=>{i.text("");let u=aM.dataJoin("span","splitter-label").key(h=>h),f=!r&&t.length===1,c=n&&e.splitValues.length===0;u(i,t).classed("disabled",f).text(h=>h.name).style("color",h=>c?en(n(h.name)):void 0).on("click",(h,y)=>{f||(r?e.splitMainValues=e.splitMainValues.filter(x=>x!=y.name):e.splitMainValues=[y.name].concat(e.splitMainValues||[]),h.target.getRootNode().host.closest("perspective-viewer")?.dispatchEvent(new Event("perspective-config-update")),o(i))})},o=i=>{let u=xi(i.node());u._container.innerHTML="",u._draw()};return a.labels=(...i)=>i.length?(t=i[0],a):t,a.alt=(...i)=>i.length?(r=i[0],a):r,a.color=(...i)=>i.length?(n=i[0],a):n,a};var da=(e,t,r=DP)=>{let n,a,o,i=e.splitMainValues||[],u=h=>{let y=h.split("|");return i.includes(y[y.length-1])},f=e.mainValues.some(h=>u(h.name));a=f?r(t,h=>!u(h)):t,o=f?r(t,u):null;let c=h=>{if(e.mainValues.length===1)return;let y=e.mainValues.map((N,k)=>({index:k,name:N.name})),x=y.filter(N=>!u(N.name)),M=y.filter(N=>u(N.name)),A=()=>oM(e).color(n);h.select(".y-label.left-label").call(A().labels(x)),h.select(".y-label.right-label").call(A().labels(M).alt(!0))};return c.color=(...h)=>h.length?(n=h[0],c):n,c.haveSplit=()=>f,c.data=(...h)=>h.length?(a=h[0],c):a,c.altData=(...h)=>h.length?(o=h[0],c):o,c},DP=(e,t)=>e.map(r=>r.filter(n=>t(n.key))),q0=(e,t)=>e.map(r=>t(r.key)?r:r.map(n=>Object.assign({},n,{mainValue:null}))),iM=(e,t)=>e.map(r=>q0(r,t));function lM(e,t){let r=tc(t,wr(t)),n=Jr(t),a=Pt().settings(t).scale(n),o=Js(t,n).orient("vertical"),i=uM.seriesSvgMulti().mapping((N,k)=>N[k]).series(r.map(()=>o)),u=Ge(t).excludeType(We.linear).settingName("crossValues").valueName("crossValue")(r),f=Ge(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).excludeType(We.ordinal).orient("vertical").include([0]).paddingStrategy(Rt()),c=t.mainValues.length>1?iM:q0,h=da(t,r,c).color(n),y=f(h.data()),x=h.haveSplit()?i:pt(i,t).orient("vertical"),M=br(u,y).axisSplitter(h).plotArea(x);M.xPaddingInner&&(M.xPaddingInner(.5),M.xPaddingOuter(.25),o.align("left")),M.yNice&&M.yNice();let A=gt().chart(M).settings(t).xScale(u.scale);if(h.haveSplit()){let N=f(h.altData());nM(y.domain,N.domain),M.yDomain(y.domain).altAxis(N)}e.datum(h.data()).call(A),e.call(a)}lM.plugin={name:"Y Bar",category:"Y Chart",max_cells:1e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var fM=lM;var dM=Ie(Pe());var sM=Ie(Pe());function Ei(e,t){let r=sM.seriesSvgLine(),n=e.data.length*(e.data?.length>0?Object.keys(e.data[0]).length-(e.crossValues?.length>0?1:0):0),a=Math.max(1,Math.min(3,Math.floor(e.size.width/n/2)));return r=r.decorate(o=>{o.style("stroke",i=>en(t(i[0]&&i[0].key))).style("stroke-width",a)}),r.crossValue(o=>o.crossValue).mainValue(o=>o.mainValue)}function cM(e,t){let r=yr(e);return t.map((n,a)=>Object.keys(n).filter(o=>o!=="__ROW_PATH__").map(o=>({key:o,crossValue:r(n,a),mainValue:n[o],row:n})))}var Dc=function(e){let t=[];for(let r of e)for(let n=0;n<r.length;n++)r[n].mainValue!==null&&(t[n]=t[n]||[],t[n].push(r[n]));return t};var Ec=Ie(Pe());var W0=(e,t,r=Math.min)=>{let n=i=>i.reduce((u,f)=>{let c=a(f,t);return c&&(!u||r(u.value,c.value)===c.value)?c:u},null),a=i=>{if(Array.isArray(i))return n(i,t);let u=t(i);return u!==null?{item:i,value:u}:null},o=n(e,t);return o?o.item:null};var jt=()=>{let e=ta().alwaysShow(!0),t=null,r=null,n=null,a=null,o=!1,i=null,u="crossValue",f="mainValue",c=null,h=1;function y(A){let N=`d3fc-${o?"canvas":"svg"}.plot-area`;if(t||r){let k=null,D=Ec.pointer().on("point",O=>{let B=O.length?M(O[0]):null;k=B?[B.data]:[];let R=B?B.scale:r;x(A,k,R)});A.select(N).on("measure.nearbyTip",()=>x(A,[])).on("click",()=>{k.length&&nl(A.node(),k[0],e.settings())}).call(D)}}let x=(A,N,k=r)=>{let D=A.select("d3fc-svg.plot-area svg").selectAll("circle.nearbyTip").data(N);D.exit().remove(),D.enter().append("circle").attr("class","nearbyTip").merge(D).attr("r",O=>a?h*Math.sqrt(a(O.size)):10).attr("transform",O=>`translate(${t(O[u])},${k(O[f])})`).style("stroke","none").style("fill",O=>n&&O.key&&io(n(O.key))),e(D)},M=A=>{let N=O=>B=>B[f]===void 0||B[f]===null||B[u]===void 0||B[u]===null?null:Math.sqrt(Math.pow(t(B[u])-A.x,2)+Math.pow(O(B[f])-A.y,2)),k=N(r),D=W0(i,k,Math.min);if(c){let O=N(c.yScale),B=W0(c.data,O,Math.min);return k(D)<=O(B)?{data:D,scale:r}:{data:B,scale:c.yScale}}return{data:D,scale:r}};return y.scaleFactor=(...A)=>A.length?(h=A[0],y):h,y.xScale=(...A)=>A.length?(t=A[0],y):t,y.yScale=(...A)=>A.length?(r=A[0],y):r,y.color=(...A)=>A.length?(n=A[0],y):n,y.size=(...A)=>A.length?(a=A[0]?A[0].copy().range([40,4e3]):null,y):a,y.canvas=(...A)=>A.length?(o=A[0],y):o,y.data=(...A)=>A.length?(i=A[0],y):i,y.xValueName=(...A)=>A.length?(u=A[0],y):u,y.yValueName=(...A)=>A.length?(f=A[0],y):f,y.altDataWithScale=(...A)=>A.length?(c=A[0],y):c,Ec.rebindAll(y,e),y};function mM(e,t){let r=cM(t,wr(t)),n=Jr(t),a=Pt().settings(t).scale(n),o=dM.seriesSvgRepeat().series(Ei(t,n)).orient("horizontal"),i=Rt().pad([.1,.1]).padUnit("percent"),u=da(t,Dc(r)).color(n),f=Ge(t).excludeType(We.linear).settingName("crossValues").valueName("crossValue")(r),c=Ge(t).settingName("mainValues").valueName("mainValue").memoValue(u.haveSplit()?null:t.axisMemo[0]).orient("vertical").paddingStrategy(i),h=c(u.data()),y=u.haveSplit()?o:pt(o,t).orient("vertical"),x=br(f,h).axisSplitter(u).plotArea(y);x.yNice&&x.yNice();let M=gt().chart(x).settings(t).xScale(f.scale),A=jt().settings(t).xScale(f.scale).yScale(h.scale).color(n).data(r);if(u.haveSplit()){let k=c(u.altData());x.altAxis(k),A.data(u.data()).altDataWithScale({yScale:k.scale,data:u.altData()})}let N=u.data();e.datum(N).call(M),e.call(A),e.call(a)}mM.plugin={name:"Y Line",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var hM=mM;var yM=Ie(Pe());var pM=Ie(Pe());var $0=Math.sqrt(3),EP={draw:function(e,t){let r=Math.sqrt(t/($0*3));e.moveTo(0,r*2),e.lineTo(-$0*r,-r),e.lineTo($0*r,-r),e.closePath()}},IP=[Un,Ga,Ua,ja,Xa,Qa,Ka],Ic={circle:Un,square:ja,cross:Ga,diamond:Ua,star:Xa,triangle:Qa,wye:Ka,nabla:EP};function xl(e){return e.length>1?lr().domain(e).range(IP):null}var zP=8,PP=1;function gM(e,t,r,n,a,o,i=1){let u=(0,pM.seriesCanvasPoint)().crossValue(f=>f.x).mainValue(f=>f.y);return o&&u.type(f=>o(f.row[t])),r&&u.size(f=>Math.round(i*r(f.size))),u.decorate((f,c)=>{let h=n(c.colorValue),y=e.colorStyles?.opacity;if(a){let{type:x}=e.mainValues.find(A=>A.name===a),M=_n(x,c.row[a]);if(M!==null){f.fillStyle=e.textStyles.color,f.font=e.textStyles.font;let A=0;r&&(A=Math.sqrt(i*r(c.size)/Math.PI)*PP);let N=A+zP;f.fillText(M,N,4)}}f.strokeStyle=en(h),f.fillStyle=io(h,y)}),u}function vM(e,t){let r=[...new Set(ec(e,t))];return xl(r)}function xM(e){let t=e.data&&e.data.length>0?e.data[0]:{},r=[];return Object.keys(t).forEach(n=>{if(n!=="__ROW_PATH__"){let a=ra(n);r.includes(a)||r.push(a)}}),xl(r)}function bM(e,t){let r=e.mainValues.length;return t.map(n=>{let a=Object.keys(n).filter(i=>i!=="__ROW_PATH__"),o=new Array(a.length/r);for(let i=0;i<a.length/r;i++)o[i]={key:ra(a[i*r]),crossValue:n[a[i*r]],mainValue:n[a[i*r+1]],row:n};return o})}function wM(e,t){let r=Dc(bM(t,Di(t))),n=RS(t),a=xM(t),o=null;n.domain().length>=2&&(o=U9().settings(t).scale(a).color(n));let i=yM.seriesSvgRepeat().series(Ei(t,n)).orient("horizontal"),u=Rt().pad([.1,.1]).padUnit("percent"),f=Ge(t).settingName("mainValues").settingValue(t.mainValues[0].name).valueName("crossValue").memoValue(t.axisMemo[0]).paddingStrategy(u),h=Ge(t).settingName("mainValues").settingValue(t.mainValues[1].name).valueName("mainValue").memoValue(t.axisMemo[1]).orient("vertical").paddingStrategy(u)(r),y=f(r),x=pt(i,t).orient("vertical"),M=br(y,h).xLabel(t.mainValues[0].name).yLabel(t.mainValues[1].name).plotArea(x);M.xNice&&M.xNice(),M.yNice&&M.yNice();let A=gt().chart(M).settings(t).xScale(y.scale).yScale(h.scale),N=jt().settings(t).xScale(y.scale).yScale(h.scale).color(n).data(r);e.datum(r).call(A),e.call(N),o&&e.call(o)}wM.plugin={name:"X/Y Line",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Tooltip"]},selectMode:"toggle"};var _M=wM;var bl=Ie(Pe());var SM=Ie(Pe());function MM(e,t){let r=SM.seriesSvgArea();return r=r.decorate(n=>{n.style("fill",a=>t(a[0].key)).style("opacity",.5)}),r.crossValue(n=>n.crossValue).mainValue(n=>n.mainValue).baseValue(n=>n.baseValue)}function AM(e,t){let r=yr(e);return t.map((n,a)=>{let o={};return Object.keys(n).filter(i=>i!=="__ROW_PATH__").map(i=>{let u=i.split("|"),f=u[u.length-1],c=o[f]||0,h=c+n[i];return o[f]=h,{key:i,crossValue:r(n,a),mainValue:h,baseValue:c,row:n}})})}function kM(e,t){let r=AM(t,wr(t)),n=Jr(t),a=Pt().settings(t).scale(n),o=bl.seriesSvgRepeat().series(MM(t,n).orient("vertical")),i=bl.seriesSvgRepeat().series(Ei(t,n)).orient("vertical"),u=bl.seriesSvgMulti().series([o,i]),f=Ge(t).excludeType(We.linear).settingName("crossValues").valueName("crossValue")(r),c=Ge(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).excludeType(We.ordinal).orient("vertical").include([0]).paddingStrategy(Rt()),h=da(t,r).color(n),y=c(h.data()),x=h.haveSplit()?u:pt(u,t).orient("vertical"),M=br(f,y).axisSplitter(h).plotArea(x);M.yNice&&M.yNice();let A=gt().chart(M).settings(t).xScale(f.scale),N=jt().settings(t).xScale(f.scale).yScale(y.scale).color(n).data(r);if(h.haveSplit()){let k=c(h.altData());M.altAxis(k),N.data(h.data()).altDataWithScale({yScale:k.scale,data:h.altData()})}e.datum(h.data()).call(A),e.call(N),e.call(a)}kM.plugin={name:"Y Area",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var CM=kM;var DM=Ie(Pe());var TM=Ie(Pe());function VM(e,t,r,n){let a=TM.seriesSvgPoint().size(100),o=e.colorStyles&&e.colorStyles.opacity;return n&&a.type(n(t)),a.decorate(i=>{i.style("stroke",u=>en(r(u.colorValue||t))).style("fill",u=>io(r(u.colorValue||t),o))}),a.crossValue(i=>i.crossValue).mainValue(i=>i.mainValue)}function NM(e){let t=e.data&&e.data.length>0?e.data[0]:{},r=Object.keys(t).filter(n=>n!=="__ROW_PATH__");return xl(r)}function EM(e,t){let r=OS(t,wr(t)),n=NM(t),a=Jr(t),o=vl().settings(t).scale(n).color(a),i=DM.seriesSvgMulti().mapping((k,D)=>k[D]).series(r.map(k=>VM(t,k.key,a,n))),u=Rt().pad([.05,.05]).padUnit("percent"),f=Ge(t).excludeType(We.linear).settingName("crossValues").valueName("crossValue")(r),c=Ge(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).orient("vertical").paddingStrategy(u),h=da(t,r).color(a),y=c(h.data()),x=h.haveSplit()?i:pt(i,t).orient("vertical"),M=br(f,y).axisSplitter(h).plotArea(x);M.yNice&&M.yNice();let A=gt().chart(M).settings(t).xScale(f.scale),N=jt().settings(t).xScale(f.scale).yScale(y.scale).color(a).data(r);if(h.haveSplit()){let k=c(h.altData());M.altAxis(k),N.data(h.data()).altDataWithScale({yScale:k.scale,data:h.altData()})}e.datum(h.data()).call(A),e.call(N),o&&e.call(o)}EM.plugin={name:"Y Scatter",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var IM=EM;var xbe=Ie(Pe());function zM(e,t){return lo(e,t,{excludeEmpty:!0}).map(r=>RP(e,r))}function RP(e,t){let r=yr(e),n=t.map((a,o)=>({crossValue:r(a,o),mainValues:e.mainValues.map(i=>a[i.name]),x:a[e.mainValues[0].name],y:a[e.mainValues[1].name],colorValue:e.realValues[2]?a[e.realValues[2]]:void 0,size:e.realValues[3]?a[e.realValues[3]]:void 0,key:t.key,row:a}));return n.key=t.key,n}function PM(e,t,r,n){return Yr().domain(RM(t,r,n))}function ma(e,t,r,n){let a=RM(t,r,n),o=e.colorStyles.gradient.full;if(a[0]>=0)o=e.colorStyles.gradient.positive;else if(a[1]<=0)o=e.colorStyles.gradient.negative;else{let u=Math.max(-a[0],a[1]);a=[-u,u]}let i=LP(o);return Go(i).domain(a)}var RM=(e,t,r)=>r||Qg().valueName(t).pad([0,0])(e),LP=e=>{let t=e.slice(1).map((r,n)=>tt(e[n][1],r[1]));return r=>{let n=e.findIndex((u,f)=>f<e.length-1&&r<=e[f+1][0]&&r>u[0]);if(n===-1)return r<=e[0][0]?e[0][1]:e[e.length-1][1];let a=t[n],[o]=e[n],[i]=e[n+1];return a((r-o)/(i-o))}};var ha=Ie(Pe());function pa(){let e=null;function t(r){let n=ft(r,"div.legend-container",()=>r.append("div").attr("class","legend-container legend-color").style("z-index","2")),{width:a,height:o}=n.node().getBoundingClientRect(),i=Ar().domain([0,1]).range([0,a]),u=e.copy().nice().domain(),f=ha.extentLinear().pad([.1,.1]).padUnit("percent")(u),[c,h]=f,y=qs(c,h,(h-c)/o),x=Yr().domain(f).range([o,0]),M=ha.autoBandwidth(ha.seriesSvgBar()).xScale(i).yScale(x).crossValue(0).baseValue((R,I)=>y[Math.max(0,I-1)]).mainValue(R=>R).decorate(R=>{R.selectAll("path").style("fill",I=>e(I))}),A=u[0]<0&&u[1]>0?0:Math.round((u[1]+u[0])/2),N=[...u,A],k=ha.axisRight(x).tickValues(N).tickSizeOuter(0).tickFormat(R=>Xs(R)),D=ft(n,"svg",()=>n.append("svg")).style("width",a).style("height",o),O=ft(D,"g",()=>D.append("g")).datum(y).call(M),B=Math.abs(O.node().getBBox().x);ft(D,"#legend-axis",()=>D.append("g").attr("id","legend-axis")).attr("transform",`translate(${B})`).datum(y).call(k).select(".domain").attr("visibility","hidden")}return t.scale=(...r)=>r.length?(e=r[0],t):e,t}function Ii(){let e="element-prefix-unset",t=null,r=null,n=null,a=null,o=null,i=null,u=!0,f=null,c=h=>{let y=ft(h,"div.outer-container",()=>h.append("div").attr("class","outer-container").style("width",`calc(100% - ${f??0})`).style("height",`calc(100% - ${f??0})`).style("padding-left",f??0)),x=ft(y,"div.inner-container",()=>y.append("div").attr("class","inner-container")),M=y.node().getBoundingClientRect(),A=M.height,N=M.width-(o?70:0),k=300,D=h.datum(),O=Math.max(1,Math.min(D.length,Math.floor(N/k))),B=Math.ceil(D.length/O);i={width:N/Math.max(O,1),height:Math.min(A,Math.max(A/B,N/Math.max(O,1)))},A/B>i.height*.75&&(i.height=A/B),D.length>1?(x.style("grid-template-columns",`repeat(${O}, ${100/O}%)`),x.style("grid-template-rows",`repeat(${B}, ${i.height}px)`)):(x.style("grid-template-columns","repeat(1, 100%)"),x.style("grid-template-rows","repeat(1, 100%)")),n=x.selectAll(`div.${e}-container`).data(D,R=>R.split),n.exit().remove(),r=n.enter().append("div").attr("class",`${e}-container`),a=r.append("div").attr("class","title-container").style("text-align","center").attr("display","inline-block").append("text").attr("class","title").style("text-align","left"),u?t=r.append("svg").append("g").attr("class",e):t=r.append("div").attr("class",e)};return c.padding=(...h)=>h.length?(f=h[0],c):f,c.svg=(...h)=>h.length?(u=h[0],c):u,c.elementsPrefix=(...h)=>h.length?(e=h[0],c):e,c.chartContainer=()=>t,c.chartEnter=()=>r,c.chartDiv=()=>n,c.chartTitle=()=>a,c.containerSize=()=>i,c}var LM=Ie(Pe());function OP([e,t],[r,n]){let a=(n-t)/(r-e),o=n-a*r;return function(i){let u=i.node(),f=Math.min(u.clientWidth,u.clientHeight);return Math.min(n,Math.max(t,a*f+o))}}function zc(){let e=null,t=null,r=null,n=null,a=o=>{let u=!!e.realValues[2],f=e.realValues[4],c=e.realValues[3]?PM(e,t,"size").range([10,1e4]):null,h=e.realValues[5],y=OP([600,.1],[1600,1])(o),x=LM.seriesCanvasMulti().mapping((I,L)=>I[L]).series(t.map(I=>gM(e,f,c,r,h,n,y))),M=()=>Ge(e).settingName("mainValues").paddingStrategy(Rt()).pad([.1,.1]),A=M().settingValue(e.mainValues[0].name).memoValue(e.axisMemo[0]).valueName("x")(t),N=M().orient("vertical").settingValue(e.mainValues[1].name).memoValue(e.axisMemo[1]).valueName("y")(t),[k,D]=e.splitValues.length===0?[e.mainValues[0].name,e.mainValues[1].name]:["",""],O=yi(A,N).xLabel(k).yLabel(D).plotArea(pt(x,e).canvas(!0));O.xNice&&O.xNice(),O.yNice&&O.yNice();let B=gt().chart(O).settings(e).xScale(A.scale).yScale(N.scale).canvas(!0),R=jt().scaleFactor(y).settings(e).canvas(!0).xScale(A.scale).xValueName("x").yValueName("y").yScale(N.scale).color(!u&&r).size(c).data(t);o.datum(t).call(B),o.call(R)};return a.settings=(...o)=>o.length?(e=o[0],a):e,a.data=(...o)=>o.length?(t=o[0],a):t,a.color=(...o)=>o.length?(r=o[0],a):r,a.symbols=(...o)=>o.length?(n=o[0],a):n,a}function BP(e,t){if(!t)return;let r=e.realValues[4],n=e.mainValues.find(u=>u.name===r)?.type,a=t.domain(),o=t.range(),i=o.length;for(let u in a)o[u]=o[u%i];return e.columns?.[r]?.symbols?.forEach(({key:u,value:f})=>{let c=Ic[f]??d3.symbolCircle,h=a.findIndex(y=>{switch(n){case"date":case"datetime":return Date(y)===Date(u);default:return String(y)===String(u)}});o[h]=c}),t.range(o),t}function OM(e,t){let r=t.realValues[2],n=!!r,a=t.mainValues.find(h=>h.name===r)?.type==="string",o=null,i=null,u=t.realValues[4],f=BP(t,vM(t,u)),c=zM(t,Di(t));if(n&&a?u?(t.splitValues.length>0?o=oo(t,c):o=oo(t,c[0]),i=vl().settings(t).scale(f)):(o=PS(t,r),i=Pt().settings(t).scale(o)):n?(o=ma(t,c,"colorValue"),i=pa().scale(o)):(o=Nr().settings(t).domain([""])(),i=vl().settings(t).scale(f)),t.splitValues.length!==0){let h=Ii().svg(!1).elementsPrefix("xy-scatter");h=h.padding("2.5em"),e.append("div").attr("class","multi-xlabel").append("p").text(t.mainValues[0].name),e.append("div").attr("class","multi-ylabel").append("p").text(t.mainValues[1].name).style("transform","rotate(-90deg)").style("text-wrap","nowrap"),e=e.datum(c),e.call(h);let M=h.chartContainer(),A=h.chartEnter(),N=h.chartDiv(),k=h.chartTitle(),D=h.containerSize();k.each((O,B,R)=>ue(R[B]).text(O.key)),A.merge(N).attr("transform",`translate(${D.width/2}, ${D.height/2})`).each(function(O){let B=ue(this);zc().settings(t).data([O]).color(o).symbols(f)(B)})}else zc().settings(t).data(c).color(o).symbols(f)(e);i&&e.call(i)}OM.plugin={name:"X/Y Scatter",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Color","Size","Symbol","Label","Tooltip"]},selectMode:"toggle"};var BM=OM;var Pc=Ie(Pe());function FM(e,t){let r=Pc.seriesCanvasHeatmap();return r.decorate((n,a)=>{n.fillStyle=t(a.colorValue)}),Pc.autoBandwidth(r).xValue(n=>n.crossValue).yValue(n=>n.mainValue).colorValue(n=>n.colorValue).colorInterpolate(t.interpolator()).widthFraction(1)}function HM(e,t){let r=yr(e),n=pi(e).excludeType(We.linear).settingName("splitValues")(),a=[];return t.forEach((o,i)=>{let u=r(o,i);Object.keys(o).filter(f=>f!=="__ROW_PATH__").forEach(f=>{let c=FP(f);a.push({crossValue:u,mainValue:n===We.time?new Date(c):c,colorValue:o[f],row:o})})}),a}function FP(e){let t=e.split("|");return t.pop(),t.join("|")}function YM(e,t){let r=HM(t,wr(t)),n=ma(t,r,"colorValue"),a=FM(t,n),o=pa().scale(n),i=Ge(t).excludeType(We.linear).settingName("crossValues").valueName("crossValue")(r),u=Ge(t).excludeType(We.linear).settingName("splitValues").valueName("mainValue").modifyDomain(y=>!isNaN(y[0])?y.reverse():y).orient("vertical")(r),f=yi(i,u).plotArea(pt(a,t).canvas(!0));f.xPaddingInner&&(f.xPaddingInner(0),f.xPaddingOuter(0),a.xAlign("right")),f.yPaddingInner&&(f.yPaddingInner(0),f.yPaddingOuter(0),a.yAlign("top"));let c=gt().chart(f).settings(t).xScale(i.scale).yScale(u.scale).canvas(!0),h=jt().settings(t).canvas(!0).xScale(i.scale).yScale(u.scale).color(n).data(r);e.datum(r).call(c),e.call(o),e.call(h)}YM.plugin={name:"Heatmap",category:"Hierarchial Chart",max_cells:5e4,max_columns:500,render_warning:!0,initial:{names:["Color"]}};var qM=YM;var GM=Ie(Pe());var Rc=Ie(Pe());function WM(e,t){return lo(e,t,{excludeEmpty:!0}).map(r=>HP(e,r))}function HP(e,t){let r=yr(e),n=o=>t[o<t.length-1?o+1:o][e.realValues[0]],a=t.map((o,i)=>{let u=e.realValues[0]?o[e.realValues[0]]:void 0,f=e.realValues[1]?o[e.realValues[1]]:n(i);return{crossValue:r(o,i),mainValues:e.mainValues.map(c=>o[c.name]),openValue:u,closeValue:f,highValue:e.realValues[2]?o[e.realValues[2]]:Math.max(u,f),lowValue:e.realValues[3]?o[e.realValues[3]]:Math.min(u,f),key:t.key,row:o}});return a.key=t.key,a}var zi=Ie(Pe());var YP=e=>e.closeValue>=e.openValue;function $M(e,t,r){let n=r.domain(),a=Nr().domain(n).settings(e).defaultColors([e.colorStyles["series-2"]]).mapFunction(uo(.5))(),o=Nr().settings(e).domain(n)(),i=t().crossValue(c=>c.crossValue).openValue(c=>c.openValue).highValue(c=>c.highValue).lowValue(c=>c.lowValue).closeValue(c=>c.closeValue).decorate((c,h)=>{let y=YP(h)?r(h.key):a(h.key);c.fillStyle=y,c.strokeStyle=y}),u=zi.seriesCanvasLine().mainValue(c=>c.bollinger.average).crossValue(c=>c.crossValue).decorate((c,h)=>{c.strokeStyle=o(h[0].key)}),f=zi.seriesCanvasArea().mainValue(c=>c.bollinger.upper).baseValue(c=>c.bollinger.lower).crossValue(c=>c.crossValue).decorate((c,h)=>{c.fillStyle=uo(.25)(o(h[0].key))});return zi.seriesCanvasMulti().series([f,i,u])}function qP(e){return function(t,r){let n=WM(r,Di(r)),a=Rc.indicatorBollingerBands().value(D=>D.openValue),o=n.map(D=>{let O=a(D);return D.map((B,R)=>Object.assign({bollinger:O[R]},B))}),i=n.map(D=>D.key).concat(r.hideKeys?r.hideKeys:[]).sort(),u=Nr().domain(i).settings(r).mapFunction(uo(1))(),f=Pt().settings(r).scale(i.length>1?u:null),c=$M(r,e,u),h=Rc.seriesCanvasMulti().mapping((D,O)=>D[O]).series(o.map(()=>c)),y=Rt().pad([.1,.1]).padUnit("percent"),x=Ge(r).settingName("crossValues").valueName("crossValue")(o),M=Ge(r).settingName("mainValues").valueNames(["lowValue","highValue"]).memoValue(r.axisMemo[1]).orient("vertical").paddingStrategy(y)(o),A=yi(x,M).plotArea(pt(h,r).orient("vertical").canvas(!0));A.yNice&&A.yNice();let N=gt().chart(A).settings(r).xScale(x.scale).onChange(D=>{let O=o.map(B=>B.filter(R=>R.crossValue>=D.xDomain[0]&&R.crossValue<=D.xDomain[1]));A.yDomain(M.domainFunction(O))}).canvas(!0),k=jt().settings(r).xScale(x.scale).yScale(M.scale).yValueName("closeValue").color(u).data(o).canvas(!0);t.datum(o).call(N),t.call(k),t.call(f)}}var Lc=qP;var UM=Lc(GM.seriesCanvasOhlc);UM.plugin={name:"OHLC",category:"Y Chart",max_cells:3500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Open","Close","High","Low","Tooltip"]},selectMode:"toggle"};var XM=UM;var jM=Ie(Pe());var QM=Lc(jM.seriesCanvasCandlestick);QM.plugin={name:"Candlestick",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Open","Close","High","Low","Tooltip"]},selectMode:"toggle"};var KM=QM;function ZM(e,t){if(e.realValues.length>1&&e.realValues[1]!==null){let r=e.realValues[1];if(e.mainValues.find(n=>n.name===r)?.type==="string"){let n=t.map(a=>a.data).filter(a=>a.height>0).map(a=>JM(a)).reduce((a,o)=>a.concat(o));return oo(e,n)}else return ma(e,null,null,vS(t.map(n=>n.extents)))}}function JM(e,t=[]){return e.children&&e.children.length>0?e.children.forEach(r=>t.concat(JM(r,t))):e.data.color&&t.push(e.data.color),t}function Oc(e){let t={},r=e.realValues.map(a=>a===null?null:e.mainValues.find(o=>o.name===a));return e.data.forEach((a,o)=>{let i=a.__ROW_PATH__;$P(a).forEach(f=>{let c;t[f]||(t[f]=[]),c=t[f],i.forEach((h,y)=>{let x=c.find(M=>M.name===h);if(x||(x={name:h,children:[]},c.push(x)),e.realValues.length>1&&e.realValues[1]!==null){let M=y===i.length-1,A=Pi(M?a:e.agg_paths[o][y+1]||a,e.mainValues[1],f);A!==void 0&&(x.color=A)}if(e.realValues.length>2&&e.realValues[2]!==null){x.tooltip=[];for(let M=2;M<e.realValues.length;++M)x.tooltip.push(Pi(a,r[M],f))}if(y===i.length-1){if(x.name=i.slice(-1)[0],e.crossValues.length===0)x.size=Pi(a,e.mainValues[0],"");else if(i.length===e.crossValues.length){let M=Pi(a,e.mainValues[0],f);x.size=M>0?M:0}}c=x.children})})}),Object.entries(t).map(a=>{let o={name:"root",children:a[1]},i=Qn(o).sum(f=>f.size),u=Wg().size([2*Math.PI,i.height+1])(i);return u.each(f=>{f.current=f,f.mainValues=e.realValues.length===1||e.realValues[1]===null&&e.realValues[2]===null?f.value:[f.value,f.data.color].concat(f.data.tooltip||[]).filter(c=>c!==void 0),f.crossValue=f.ancestors().slice(0,-1).reverse().map(c=>c.data.name),f.key=a[0],f.label=_n(e.crossValues[f.depth-1<0?0:f.depth-1]?.type||e.mainValues[0].type,f.data.name)}),{split:a[0],data:u,extents:WP(e,a)}})}var Pi=(e,t,r)=>r.length?e[`${r}|${t.name}`]:e[t.name];function WP(e,[t,r]){if(e.realValues.length>1&&e.realValues[1]!==null){let n=Math.min(...e.data.map(o=>Pi(o,e.mainValues[1],t))),a=Math.max(...r.map(o=>o.color));return[n,a]}}function $P(e){let t=[];return Object.keys(e).forEach(r=>{if(r!=="__ROW_PATH__"){let n=r.split("|").slice(0,-1).join("|");t.includes(n)||t.push(n)}}),t}var Bc=e=>es().startAngle(t=>t.x0).endAngle(t=>t.x1).padAngle(t=>Math.min((t.x1-t.x0)/2,.005)).padRadius(e).innerRadius(t=>Math.max(1,(t.y0-1)*e)).outerRadius(t=>Math.max((t.y0-1)*e,(t.y1-1)*e-1)),kn=e=>e.y0>=1&&e.x1>e.x0;var yl=e=>e.y1<=3&&e.y0>=1&&(e.y1-e.y0)*(e.x1-e.x0)>.06;function Fc(e,t){let r=(e.x0+e.x1)/2*180/Math.PI,n=(e.y0-1+(e.y1-1))/2*t;return`rotate(${r-90}) translate(${n},0) rotate(${r<180?0:180})`}function eA(e,t){let r=this.getBBox().width;if(r>t){let n=e.label,a=ue(this);for(;r>t;)n=n.substring(0,n.length-1),a.text(()=>n),r=this.getBBox().width;a.text(()=>`${n.substring(0,n.length-3).replace(/\s+$/,"")}...`)}}var tA=(e,t,r,n,a,o,i,u,f)=>(c,h)=>{f.sunburstLevel[u]=c.data.name,c.parent?(r.datum(c.parent),r.style("cursor","pointer"),n.html(`&#8682; ${c.label}`)):(r.datum(e),r.style("cursor","default"),n.html("")),e.each(x=>x.target={x0:Math.max(0,Math.min(1,(x.x0-c.x0)/(c.x1-c.x0)))*2*Math.PI,x1:Math.max(0,Math.min(1,(x.x1-c.x0)/(c.x1-c.x0)))*2*Math.PI,y0:Math.max(0,x.y0-c.depth),y1:Math.max(0,x.y1-c.depth)});let y=t.transition().duration(h?0:750);a.transition(y).tween("data",x=>{let M=tt(x.current,x.target);return A=>x.current=M(A)}).filter(function(x){return+this.getAttribute("fill-opacity")||kn(x.target)}).attr("fill-opacity",x=>kn(x.target)?1:0).attr("user-select",x=>kn(x.target)?"initial":"none").style("pointer-events",x=>kn(x.target)?"initial":"none").attrTween("d",x=>()=>Bc(i)(x.current)),o.filter(function(x){return+this.getAttribute("fill-opacity")||yl(x.target)}).transition(y).attr("fill-opacity",x=>+yl(x.target)).attrTween("transform",x=>()=>Fc(x.current,i))};function rA(){let e=null,t=null,r=null,n=null,a=null,o=i=>{let u=i.selectAll("g.segment").data(r.descendants().slice(1)),f=u.enter().append("g").attr("class","segment");f.append("path"),f.append("text").attr("class","segment").attr("dy","0.35em");let c=f.merge(u),h=c.select("path").attr("fill-opacity",N=>kn(N.current)?1:0).attr("user-select",N=>kn(N.current)?"initial":"none").style("pointer-events",N=>kn(N.current)?"initial":"none").attr("d",N=>Bc(a)(N.current));n&&h.style("fill",N=>n(N.data.color));let y=c.select("text").attr("fill-opacity",N=>+yl(N.current)).attr("transform",N=>Fc(N.current,a)).text(N=>N.label).each(function(N){eA.call(this,N,a)}),x=i.select("text.parent"),M=i.select("circle").attr("r",a).datum(r),A=tA(r,i,M,x,h,y,a,t,e);if(e.sunburstLevel){let N=r.descendants().find(k=>k.data.name===e.sunburstLevel[t]);N&&A(N,!0)}else e.sunburstLevel={};M.on("click",N=>A(N,!1)),h.filter(N=>N.children).style("cursor","pointer").on("click",N=>A(N,!1))};return o.settings=(...i)=>i.length?(e=i[0],o):e,o.split=(...i)=>i.length?(t=i[0],o):t,o.data=(...i)=>i.length?(r=i[0],o):r,o.color=(...i)=>i.length?(n=i[0],o):n,o.radius=(...i)=>i.length?(a=i[0],o):a,o}function nA(e,t){let r=Oc(t),n=ZM(t,r),a=Ii().elementsPrefix("sunburst");if(e.datum(r).call(a),n){let h=t.realValues[1];if(t.mainValues.find(y=>y.name===h)?.type==="string"){let y=Pt().settings(t).scale(n);e.call(y)}else{let y=pa().scale(n);e.call(y)}}let o=a.chartContainer(),i=a.chartEnter(),u=a.chartDiv(),f=a.chartTitle(),c=a.containerSize();f.each((h,y,x)=>ue(x[y]).text(h.split)),o.append("circle").attr("fill","none").style("pointer-events","all"),o.append("text").attr("class","parent"),i.merge(u).select("svg").select("g.sunburst").attr("transform",`translate(${c.width/2}, ${c.height/2})`).each(function({split:h,data:y}){let x=ue(this),M=this.parentNode,{width:A,height:N}=M.getBoundingClientRect(),k=(Math.min(A,N)-24)/Math.max(2,t.crossValues.length*2);rA().settings(t).split(h).data(y).color(n).radius(k)(x),ta().settings(t)(x.selectAll("g.segment"))})}nA.plugin={name:"Sunburst",category:"Hierarchial Chart",max_cells:7500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var aA=nA;function oA(e,t){if(e.realValues.length<1||e.realValues[1]===null||e.realValues[1]===void 0)return;let r=e.realValues[1],n=t.filter(a=>a.height>0).map(a=>iA(a)).reduce((a,o)=>a.concat(o));if(e.mainValues.find(a=>a.name===r)?.type==="string")return oo(e,n);{let a=Math.min(...n),o=Math.max(...n);return ma(e,null,null,[a,o])}}function iA(e,t=[]){return e.children&&e.children.length>0?e.children.forEach(r=>t.concat(iA(r,t))):e.data.color&&t.push(e.data.color),t}var uA=7,Hc=e=>!!(e.target&&e.target.textAttributes),Yc=(e,t,r)=>{e.selectAll("text").each(function(a,o){let i=jP(a,t,r);this.style=i});let n=_l(e);GP(n),G0(n)},lA=e=>{e.each((t,r,n)=>{ue(n[r]).selectAll("text").attr("dx",t.target.textAttributes.dx).attr("dy",t.target.textAttributes.dy).attr("style",t.target.textAttributes.style)})},G0=e=>{let n=o=>o.getBoundingClientRect(),a=[];e.selectAll("text").filter((o,i,u)=>ue(u[i]).attr("style")===wo.high).each((o,i,u)=>a.push(u[i])),e.selectAll("text").filter((o,i,u)=>ue(u[i]).attr("style")===wo.low).each((o,i,u)=>{let f=u[i];a.filter(c=>n0("x",n(c),n(f))&&n0("y",n(c),n(f),-2)).forEach(()=>ue(f).attr("dy",Number(ue(f).attr("dy"))+14))})},fA=e=>ue(e).style("opacity",wl[ue(e).attr("class")]),sA=e=>ue(e).style("opacity",null),wl={top:1,mid:.7,lower:0},_l=e=>e.filter((t,r,n)=>ue(n[r]).selectAll("text").attr("style")!==wo.zero),qc=e=>e.selectAll("text").each((t,r,n)=>UP(n[r])),GP=e=>e.selectAll("text").each((t,r,n)=>cA(n[r])),cA=e=>{let t=ue(e),r=e.getBoundingClientRect();t.attr("dx",0-r.width/2).attr("dy",0+r.height/4)},UP=e=>{let r=e.parentNode.childNodes[0],n=e.getBBox(),a=r.getBBox();XP(e,a,n)||ue(e).attr("style",ue(e).attr("style"))},XP=(e,t,r)=>{let n=Math.min(t.height/r.height,t.width/r.width);if(n<1){let a=parseInt(ue(e).style("font-size")),o=Math.floor(a*n);return a>uA&&o>uA?(ue(e).style("font-size",`${o}px`),cA(e)):(ue(e).style("font-size",null),ue(e).style("opacity","0")),!0}return!1},jP=(e,t,r)=>{if(!r.filter(n=>n!=="").every(n=>e.crossValue.includes(n)))return wo.zero;switch(e.depth){case t+1:return wo.high;case t+2:return wo.low;default:return wo.zero}},wo={high:"font-size:14px;z-index:5;pointer-events: none;",low:"font-size:8px;opacity:0.7;z-index:4;",zero:"font-size:0px;opacity:0;z-index:4;"};var Wc=(e,t)=>{let r=$g().size([e,t]).paddingInner(n=>1+2*(n.height-1));return r.tile(Gg),r};var QP=(e,t)=>t.every(r=>e.crossValue.includes(r));function U0(e,t,r,n,a,o){KP(e,t,r,n,a),e.mapLevel[n].levelRoot=!0,ZP(e,o.node().getBoundingClientRect().width,o.node().getBoundingClientRect().height,n),mA(r,n)}function dA(e,t){e.each(r=>{r.mapLevel=[],r.mapLevel[0]={x0:r.x0,x1:_o(r)+r.x0,y0:r.y0,y1:So(r)+r.y0,visible:!0,opacity:1}}),t.mapLevel[0].levelRoot=!0,mA(e,0)}var $c=(e,t)=>{e.each((r,n,a)=>{let o=ue(a[n]).selectAll("text");r.mapLevel[t].textAttributes={dx:o.attr("dx"),dy:o.attr("dy"),class:o.attr("class"),"font-size":o.style("font-size")}})};function KP(e,t,r,n,a){let o={x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0},i={width:a.x1-a.x0,height:a.y1-a.y0},u={width:i.width/o.width,height:i.height/o.height};r.each(f=>{let c=(f.x0-o.x)*u.width,h=(f.y0-o.y)*u.height,y=_o(f)*u.width,x=So(f)*u.height,M=QP(f,t)&&f.data.name!==t[n-1];f.mapLevel[n]={x0:c,x1:y+c,y0:h,y1:x+h,visible:M,opacity:M?1:0}}),e.mapLevel[n].levelRoot=!0}function ZP(e,t,r,n){let i=Wc(t,r)(Qn(e.data).sum(f=>f.size)).descendants(),u=e.descendants();i.forEach((f,c)=>{u[c].mapLevel[n].x0=i[c].x0,u[c].mapLevel[n].x1=i[c].x1,u[c].mapLevel[n].y0=i[c].y0,u[c].mapLevel[n].y1=i[c].y1})}function mA(e,t){e.selectAll("text").each((r,n,a)=>{let o=ue(a[n]),i=ue(a[n]).datum(),u=o.attr("class");i.mapLevel[t].textLockedAt={opacity:wl[u]}})}function hA(e,t,r,n,a,o,i,u,f){if(n.treemapLevel>0){let c=i.crossValue;j0(i,e,t,r,n,a,o,i,0,c,u,f,1,!1),n.treemapRoute.slice(1,n.treemapRoute.length).forEach(h=>{let y=t.filter(M=>M.crossValue===h).datum(),x=y.crossValue;U0(y,x,t,y.depth,i,a),j0(y,e,t,r,n,a,o,i,y.depth,x,u,f,1,!1)})}}function Q0(e,t,r,n,a,o,i,u,f,c){if(!e.children)return;a.treemapLevel<e.depth?a.treemapRoute.push(e.crossValue):a.treemapRoute.pop(),a.treemapLevel=e.depth;let h=e.crossValue;(!e.mapLevel[a.treemapLevel]||!e.mapLevel[a.treemapLevel].levelRoot)&&U0(e,h,r,a.treemapLevel,u,o),j0(e,t,r,n,a,o,i,u,a.treemapLevel,h,f,c)}function j0(e,t,r,n,a,o,i,u,f,c,h,y,x=500,M=!0){let A=e.parent,N=i.transition("main transition").duration(x).ease(Es);r.each(D=>D.target=D.mapLevel[f]),Hc(e)||rR(r,h),r.transition(N).tween("data",D=>{let O=tt(D.current,D.target);return B=>D.current=O(B)}).styleTween("opacity",D=>()=>D.current.opacity).attrTween("pointer-events",D=>()=>D.target.visible?"all":"none"),t.transition(N).filter(D=>D.target.visible).styleTween("x",D=>()=>`${D.current.x0}px`).styleTween("y",D=>()=>`${D.current.y0}px`).styleTween("width",D=>()=>`${D.current.x1-D.current.x0}px`).styleTween("height",D=>()=>`${D.current.y1-D.current.y0}px`),n.transition(N).filter(D=>D.target.visible).attrTween("x",D=>()=>D.current.x0+_o(D.current)/2).attrTween("y",D=>()=>D.current.y0+So(D.current)/2).end().catch(()=>X0(r)).then(()=>{Hc(e)||(G0(k),qc(k),JP(n,i,x),M&&$c(r,f),X0(r,h,A))}).catch(D=>{console.error("Exception completing promises after main transition",D),X0(r,h,A)}),Hc(e)?lA(r):(n.each((D,O,B)=>fA(B[O])),Yc(r,f,c));let k=_l(r);A?h.hide(!1).text(e.label).onClick(()=>{Q0(A,t,r,n,a,o,i,u,h,y);let D=o.node().getRootNode().host.parentElement;nl(D,A,y)})():h.hide(!0)()}async function JP(e,t,r=400){let n=t.transition("text fade transition").duration(r).ease(Es);await e.transition(n).filter(a=>a.target.visible).tween("data",(a,o,i)=>{let u=i[o],f=tt(eR(a),tR(u));return c=>a.current.opacity=f(c)}).styleTween("opacity",a=>()=>a.current.opacity).end().catch(a=>console.error("Exception in text fade transition",a)).then(()=>e.each((a,o,i)=>sA(i[o])))}var eR=e=>e.target.textLockedAt.opacity,tR=e=>wl[ue(e).attr("class")],rR=(e,t)=>{t.deactivate(!0),e.each((r,n,a)=>{ue(a[n]).selectAll("rect").style("pointer-events","none")})},X0=(e,t)=>{t&&t.deactivate(!1),e.each((r,n,a)=>{ue(a[n]).selectAll("rect").style("pointer-events",null)})};var pA=`<button id="goto-parent">Goto parent</button>
`;function gA(e){let t=null,r=null,n=!0,a=!1,o=ft(e,".parent-controls",()=>e.append("div").attr("class","parent-controls").style("display",n?"none":"").html(pA)),i=()=>{o.style("display",n?"none":"").select("#goto-parent").style("pointer-events",a?"none":null).html(`\u21EA ${r}`).on("click",()=>t())};return i.deactivate=(...u)=>{if(!u.length)return a;a=u[0];let f=o.select("#goto-parent");return a?f.style("pointer-events","none"):f.style("pointer-events",null),i},i.hide=(...u)=>u.length?(n=u[0],i):n,i.text=(...u)=>u.length?(r=u[0],i):r,i.onClick=(...u)=>u.length?(t=u[0],i):t,i}var Gc={leaf:"leafnode",branch:"branchnode",root:"rootnode"},_o=e=>e.x1-e.x0,So=e=>e.y1-e.y0,aR=(e,t)=>t.depth===e,vA=(e,t)=>t.depth===0?Gc.root:aR(e,t)?Gc.leaf:Gc.branch;function xA(){let e=null,t=null,r=null,n=null,a=null,o=null,i=u=>{o=gA(a),o();let f=r.height;e.treemapLevel||(e.treemapLevel=0),e.treemapRoute||(e.treemapRoute=[]),Wc(a.node().getBoundingClientRect().width,a.node().getBoundingClientRect().height)(r);let h=u.selectAll("g").data(r.descendants()),y=h.enter().append("g");y.append("rect"),y.append("text");let x=y.merge(h).sort((k,D)=>D.depth-k.depth),M=x.select("rect").attr("class",k=>`treerect ${vA(f,k)}`).style("x",k=>k.x0).style("y",k=>k.y0).style("width",k=>_o(k)).style("height",k=>So(k));M.style("fill",k=>vA(f,k)===Gc.leaf?k.data.color?n(k.data.color):t.colorStyles.series:"transparent");let A=x.filter(k=>k.value!==0).select("text").attr("x",k=>k.x0+_o(k)/2).attr("y",k=>k.y0+So(k)/2).text(k=>k.label),N=M.filter(k=>k.crossValue.length===0).datum();dA(x,N),Yc(x,0,[]),qc(_l(x)),$c(x,0),e.treemapRoute.length===0&&e.treemapRoute.push(N.crossValue),M.filter(k=>k.children).on("click",(k,D)=>Q0(D,M,x,A,e,a,u,N,o,t)),hA(M,x,A,e,a,u,N,o,t)};return i.settings=(...u)=>u.length?(e=u[0],t=u[1],i):e,i.data=(...u)=>u.length?(r=u[0],i):r,i.color=(...u)=>u.length?(n=u[0],i):n,i.container=(...u)=>u.length?(a=u[0],i):a,i}function bA(e,t){t.treemaps||(t.treemaps={});let r=Oc(t),n=oA(t,r.map(f=>f.data));n&&this._container.classList.add("has-legend");let a=Ii().elementsPrefix("treemap");if(e.datum(r).call(a),n){let f=t.realValues[1];if(t.mainValues.find(c=>c.name===f)?.type==="string"){let c=Pt().settings(t).scale(n);e.call(c)}else{let c=pa().scale(n);e.call(c)}}let o=a.chartEnter(),i=a.chartDiv();a.chartTitle().each((f,c,h)=>ue(h[c]).text(f.split)),o.merge(i).select("svg").select("g.treemap").each(function({split:f,data:c}){let h=ue(this);t.treemaps[f]||(t.treemaps[f]={}),xA().settings(t.treemaps[f],t).data(c).container(ue(ue(this.parentNode).node().parentNode)).color(n)(h),ta().settings(t).centered(!0)(h.selectAll("g"))})}bA.plugin={type:"Treemap",name:"Treemap",category:"Hierarchial Chart",max_cells:3e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var yA=bA;var oR=[J9,fM,hM,_M,CM,IM,BM,XM,KM,yA,aA,qM],K0=oR;var _A=Ie(wA()),SA=(e,t)=>{if(!t.colorStyles){let r={scheme:[],gradient:{},interpolator:{},grid:{}},n=lR(e);r.series=n("--d3fc-local-series");for(let o=1;;o++){let i=`series-${o}`,u=n(`--d3fc-local-${i}`);if(!u)break;r[i]=u,r.scheme.push(u)}r.opacity=iR(r.series),r.grid.gridLineColor=n`--d3fc-gridline--color`,["full","positive","negative"].forEach(o=>{let i=n(`--d3fc-local-${o}--gradient`);r.gradient[o]=fR(i,r.opacity)}),t.colorStyles=r}if(!t.textStyles){let r=window.getComputedStyle(e),n=r.getPropertyValue("color"),a=`12px ${r.getPropertyValue("font-family")}`;t.textStyles={color:n,font:a}}},iR=e=>Tt(e).opacity,uR=(e,t)=>{let r=Tt(`#${e}`);return r.opacity=t,r+""},lR=e=>{let t=getComputedStyle(e);return r=>t?.getPropertyValue(r)},fR=(e,t)=>{let r=_A.parse(e)[0].colorStops;return r.map((n,a)=>[n.length?n.length.value/100:a/(r.length-1),uR(n.value,t)]).sort((n,a)=>n[0]-a[0])};var MA=':host .chart{--d3fc-local-full--gradient:var(--d3fc-full--gradient,linear-gradient(#4d342f 0%,#e4521b 22.5%,#feeb65 42.5%,#f0f0f0 50%,#dcedc8 57.5%,#42b3d5 67.5%,#1a237e 100%));--d3fc-local-positive--gradient:var(--d3fc-positive--gradient,linear-gradient(#dcedc8 0%,#42b3d5 35%,#1a237e 100%));--d3fc-local-negative--gradient:var(--d3fc-negative--gradient,linear-gradient(#feeb65 100%,#e4521b 70%,#4d342f 0%));--d3fc-local-series:var(--d3fc-series,rgba(31,119,180,0.5));--d3fc-local-series-1:var(--d3fc-series-1,#0366d6);--d3fc-local-series-2:var(--d3fc-series-2,#ff7f0e);--d3fc-local-series-3:var(--d3fc-series-3,#2ca02c);--d3fc-local-series-4:var(--d3fc-series-4,#d62728);--d3fc-local-series-5:var(--d3fc-series-5,#9467bd);--d3fc-local-series-6:var(--d3fc-series-6,#8c564b);--d3fc-local-series-7:var(--d3fc-series-7,#e377c2);--d3fc-local-series-8:var(--d3fc-series-8,#7f7f7f);--d3fc-local-series-9:var(--d3fc-series-9,#bcbd22);--d3fc-local-series-10:var(--d3fc-series-10,#17becf);}:host .chart .series{fill:var(--d3fc-local-series);}:host .chart .series-1{fill:var(--d3fc-local-series-1);}:host .chart .series-2{fill:var(--d3fc-local-series-2);}:host .chart .series-3{fill:var(--d3fc-local-series-3);}:host .chart .series-4{fill:var(--d3fc-local-series-4);}:host .chart .series-5{fill:var(--d3fc-local-series-5);}:host .chart .series-6{fill:var(--d3fc-local-series-6);}:host .chart .series-7{fill:var(--d3fc-local-series-7);}:host .chart .series-8{fill:var(--d3fc-local-series-8);}:host .chart .series-9{fill:var(--d3fc-local-series-9);}:host .chart .series-10{fill:var(--d3fc-local-series-10);}:host{user-select:none;}:host .chart{position:absolute;box-sizing:border-box;left:0;top:0;width:100%;height:100%;padding:12px;overflow:hidden;}:host .chart.heatmap d3fc-group.cartesian-chart,:host .chart.treemap d3fc-group.cartesian-chart{grid-template-columns:minmax(0em,max-content)auto 1fr auto minmax(0em,max-content);grid-template-rows:minmax(0em,max-content)auto 1fr auto minmax(0em,max-content);}:host .chart .chart-label{display:none;}:host .chart.heatmap{padding-right:120px;}:host .chart.xyscatter{padding:0;font-size:14px;}:host .chart.xyscatter .multi-xlabel{position:absolute;bottom:0;height:2.5em;width:100%;display:flex;justify-content:center;align-items:center;background:var(--d3fc-legend--background);}:host .chart.xyscatter .multi-ylabel{position:absolute;top:0;width:2.5em;height:100%;display:flex;justify-content:center;align-items:center;background:var(--d3fc-legend--background);}:host .chart.xyscatter .outer-container{height:100%;}:host .chart.xyscatter .inner-container{display:inline-grid;overflow-y:auto;width:100%;height:100%;padding:0;margin:0;}:host .chart.xyscatter .inner-container div{overflow:hidden;}:host .chart.xyscatter .inner-container text.segment,:host .chart.xyscatter .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.xyscatter .inner-container div.xy-scatter-container{margin:5px 0;}:host .chart.sunburst{padding:0;font-size:14px;}:host .chart.sunburst .outer-container{height:100%;}:host .chart.sunburst .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto;}:host .chart.sunburst .inner-container div{overflow:hidden;}:host .chart.sunburst .inner-container .sunburst-container:not(:only-child) svg{transform:translate(0,-27px);}:host .chart.sunburst .inner-container svg{width:100%;height:100%;}:host .chart.sunburst .inner-container path{fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host .chart.sunburst .inner-container text.segment,:host .chart.sunburst .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.sunburst .inner-container div.title-container{margin-top:5px;}:host .chart.has-legend{padding-right:120px;}:host .chart.treemap .treemap-container{position:relative;}:host .chart.treemap .treemap-container:not(:only-child){width:calc(100% - 12px);height:calc(100% - 12px);}:host .chart.treemap .outer-container{height:100%;}:host .chart.treemap .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto;}:host .chart.treemap .inner-container div{overflow:hidden;}:host .chart.treemap .inner-container svg{width:100%;height:100%;}:host .chart.treemap .inner-container .treerect{stroke:var(--d3fc-treedata-axis--lines,var(--d3fc-axis--lines,white));fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host .chart.treemap .inner-container .treerect:hover{cursor:pointer;stroke:var(--d3fc-treedata--hover-highlight,black);stroke-opacity:1;}:host .chart.treemap .inner-container .rootnode{opacity:0;pointer-events:none;z-index:0;}:host .chart.treemap .inner-container .branchnode{opacity:0;}:host .chart.treemap .inner-container .branchnode:hover{fill-opacity:0.1;opacity:1;fill:var(--d3fc-treedata--hover-highlight,black);}:host .chart.treemap .inner-container .leafnode{fill-opacity:0.8;}:host .chart.treemap .inner-container .leafnode:hover{fill-opacity:0.5;}:host .chart.treemap .inner-container #hidden{opacity:0;pointer-events:none;z-index:0;}:host .chart.treemap .inner-container .top{font-size:14px;z-index:5;pointer-events:none;}:host .chart.treemap .inner-container .mid{font-size:8px;opacity:0.7;z-index:4;}:host .chart.treemap .inner-container .lower{font-size:0px;opacity:0;z-index:4;}:host .chart.treemap .inner-container text{fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.treemap .inner-container text.title{dominant-baseline:hanging;}:host .chart.treemap .inner-container .parent-controls{position:absolute;top:12px;right:auto;left:30px;width:auto;z-index:4;transition:box-shadow 1s;}:host .chart.treemap .inner-container .parent-controls:hover{box-shadow:2px 2px 6px#000;transition:box-shadow 0.2s;}:host .chart .x-label{height:1.2em!important;line-height:1em!important;}:host .chart .x-label,:host .chart .y-label{color:var(--d3fc-label--color,inherit);font-size:14px;}:host .chart d3fc-canvas.plot-area{display:none;}:host .chart.xyscatter d3fc-canvas.plot-area,:host .chart.xyline d3fc-canvas.plot-area,:host .chart.ohlc d3fc-canvas.plot-area,:host .chart.candlestick d3fc-canvas.plot-area,:host .chart.heatmap d3fc-canvas.plot-area{display:block;}:host .chart .y-axis text,:host .chart .x-axis text{fill:var(--d3fc-axis-ticks--color,rgb(80,80,80));font-size:11px;}:host .chart .y-axis path,:host .chart .x-axis path{stroke:var(--d3fc-axis--lines,rgb(180,210,225));}:host .chart .splitter-label{display:inline-block;margin:0 10px;cursor:pointer;}:host .chart .splitter-label::after{margin-left:5px;color:var(--d3fc-axis--lines,rgb(180,210,225));}:host .chart .splitter-label:hover::after{color:var(--d3fc-axis-ticks--color,rgb(80,80,80));}:host .chart .splitter-label.disabled::after{color:rgba(80,80,80,0.3);}:host .chart .splitter-label.disabled{cursor:default;}:host .chart .y-label.left-label .splitter-label::after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:16px;height:12px;-webkit-mask-image:var(--sort-desc-icon--mask-image);mask-image:var(--sort-desc-icon--mask-image);}:host .chart .y-label.right-label .splitter-label::after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:16px;height:12px;-webkit-mask-image:var(--sort-asc-icon--mask-image);mask-image:var(--sort-asc-icon--mask-image);}:host .chart.ybar .y-axis path,:host .chart.yline .y-axis path,:host .chart.xyline .y-axis path,:host .chart.xyline .x-axis path,:host .chart.yarea .y-axis path,:host .chart.yscatter .y-axis path,:host .chart.xyscatter .y-axis path,:host .chart.xyscatter .x-axis path,:host .chart.xbar .x-axis path{visibility:hidden;}:host .chart .y-label{white-space:nowrap;}:host .chart .nearbyTip{fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host #dragHandles{position:absolute;top:0px;right:0px;left:auto;pointer-events:none;}:host #dragHandles rect{pointer-events:all;}:host .label rect{fill:none;}:host .legend-container{position:absolute;top:12px;right:12px;left:auto;width:150px;height:280px;}:host .legend-container.legend-color{width:90px;height:150px;}:host .legend-container[borderbox-on-hover="true"]{transition:box-shadow 1s;}:host .legend-container[borderbox-on-hover="true"]:hover{background-color:var(--d3fc-legend--background,#ffffff);transition:box-shadow 0.2s,background-color 0.2s;}:host .legend-container .legend{font-size:8pt;width:100%;}:host .legend-container .legend .cell{cursor:pointer;}:host .legend-container .legend .cell path{fill:var(--d3fc-series,rgba(31,119,180,0.5));stroke:var(--d3fc-series,rgb(31,119,180));}:host .legend-container .legend .cell.hidden path{fill:rgba(204,204,204,0.5);stroke:rgb(204,204,204);}:host .legend-container .legend .cell.hidden circle{fill:rgb(204,204,204)!important;}:host .legend-container text{fill:var(--d3fc-legend--text,rgb(51,51,51));}:host .legend-container .label:hover{fill:rgb(34,160,206);}:host .legend-container #legend-axis path{stroke:var(--d3fc-legend--text,rgb(51,51,51));}:host .legend-container .legend-controls{margin-left:12px;}:host .legend-container .legend-controls #up-arrow,:host .legend-container .legend-controls #down-arrow{cursor:pointer;color:rgb(31,119,180);}:host .legend-container .legend-controls #up-arrow.disabled,:host .legend-container .legend-controls #down-arrow.disabled{cursor:default;color:rgb(51,51,51);}:host .heatmap .legend-container.legend-color{height:200px;}:host .treemap .legend-container.legend-color{height:200px;}:host .treemap .legend-container:not(.legend-color){width:100px;}:host .zoom-controls{position:absolute;top:10px;left:0;width:100%;text-align:center;}:host .zoom-controls button{-webkit-appearance:none;background:var(--plugin--background,rgb(247,247,247));border:1px solid var(--inactive--color,rgb(204,204,204));color:var(--d3fc-label--color,inherit);font-size:12px;padding:8px;opacity:0.5;cursor:pointer;}:host .zoom-controls button:hover{opacity:1;}:host .parent-controls{position:absolute;top:30px;right:145px;width:100%;text-align:right;}:host .parent-controls button{-webkit-appearance:none;background:rgb(247,247,247);border:1px solid rgb(204,204,204);padding:10px;opacity:0.5;cursor:pointer;}:host .parent-controls button:hover{background:rgb(230,230,230);}:host div.tooltip{position:absolute;text-align:left;font-size:12px;font-weight:300;white-space:nowrap;padding:0.5em;background:var(--d3fc-tooltip--background,#ffffff);color:var(--d3fc-tooltip--color,black);border:1px solid var(--d3fc-tooltip--border-color,#777777);box-shadow:var(--d3fc-tooltip--box-shadow,none);pointer-events:none;}:host div.tooltip ul{margin:0;padding:0;list-style-type:none;}';var AA={initial:{type:"number",count:1},selectMode:"select"},cR=`${MA}${dR()}`,J0=["crossValues","mainValues","realValues","splitValues","filter","data","size","colorStyles","textStyles","agg_paths","treemaps","axisMemo"];function dR(){let e=document.querySelector("head").querySelectorAll("style"),t=[];return e.forEach(r=>{r.innerText.indexOf("d3fc-")!==-1&&t.push(r.innerText)}),t.join("")}function mR(e){customElements.get("perspective-viewer").registerPlugin(e)}function kA(...e){e=new Set(e.length>0?e:K0.map(t=>t.plugin.name)),K0.forEach(t=>{if(e.has(t.plugin.name)){let r=t.plugin.name.toLowerCase().replace(/[ \t\r\n\/]*/g,""),n=`perspective-viewer-d3fc-${r}`;customElements.define(n,class extends HTMLElement{constructor(){super(),this._chart=null,this._settings=null,this.render_warning=!0}connectedCallback(){this._initialized||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>${cR}</style>`,this.shadowRoot.innerHTML+='<div id="container" class="chart"></div>',this._container=this.shadowRoot.querySelector(".chart"),this._initialized=!0)}get name(){return t.plugin.name}get category(){return t.plugin.category}get select_mode(){return t.plugin.selectMode||"select"}get min_config_columns(){return t.plugin.initial?.count||AA.initial.count}get config_column_names(){return t.plugin.initial?.names||AA.initial.names}get max_cells(){return t.plugin.max_cells||4e3}set max_cells(a){t.plugin.max_cells=a}get max_columns(){return t.plugin.max_columns||50}set max_columns(a){t.plugin.max_columns=a}get plugin_attributes(){return{symbol:{symbols:Object.entries(Ic).map(([o,i])=>{let u=document.createElement("div");ue(u).append("svg").attr("viewbox","0, 0, 15, 15").append("path").attr("transform","translate(7.5, 7.5)").attr("d",ai(i)());let f=ue(u).html();return u.remove(),{name:o,html:f}})}}}async render(){var a=document.createElement("canvas"),o=this.shadowRoot.querySelector("#container");a.width=o.offsetWidth,a.height=o.offsetHeight;let i=a.getContext("2d");i.fillStyle=window.getComputedStyle(this).getPropertyValue("--plugin--background")||"white",i.fillRect(0,0,a.width,a.height);let u=window.getComputedStyle(this).getPropertyValue("color"),f=Array.from(this.shadowRoot.querySelectorAll("svg:not(#dragHandles)"));for(let x of f.reverse()){var c=document.createElement("img");c.width=x.parentNode.offsetWidth,c.height=x.parentNode.offsetHeight;let M=x.cloneNode(!0);M.hasAttribute("viewBox")||M.setAttribute("viewBox",`0 0 ${c.width} ${c.height}`),M.setAttribute("xmlns","http://www.w3.org/2000/svg");for(let N of M.querySelectorAll("text"))N.setAttribute("fill",u);var h=new XMLSerializer().serializeToString(M);h=h.replace(/[^\x00-\x7F]/g,"");let A=new Promise((N,k)=>{c.onload=N,c.onerror=k});try{c.src=`data:image/svg+xml;base64,${btoa(h)}`,await A}catch{let k=new Promise((D,O)=>{c.onload=D,c.onerror=O});c.src=`data:image/svg+xml;utf8,${h}`,await k}i.drawImage(c,x.parentNode.offsetLeft,x.parentNode.offsetTop,c.width,c.height)}let y=Array.from(this.shadowRoot.querySelectorAll("canvas"));for(let x of y.reverse())i.drawImage(x,x.parentNode.offsetLeft,x.parentNode.offsetTop,x.width/window.devicePixelRatio,x.height/window.devicePixelRatio);return await new Promise(x=>a.toBlob(M=>x(M)),"image/png")}async draw(a,o,i){if(this.offsetParent===null){this._staged_view=[a,o,i];return}this._staged_view=void 0,this._settings&&(this._settings.axisMemo=[[1/0,-1/0],[1/0,-1/0]]),await this.update(a,o,i,!0)}async update(a,o,i,u=!1){if(this.offsetParent===null)return;let f=this.parentElement,c,h,y=t.plugin.name!=="Sunburst";o&&i?c=a.to_columns_string({end_row:i,end_col:o,leaves_only:y}):o?c=a.to_columns_string({end_col:o,leaves_only:y}):i?c=a.to_columns_string({end_row:i,leaves_only:y}):c=a.to_columns_string({leaves_only:y}),h=await Promise.all([f.save(),f.getTable().then(K=>K.schema(!1)),a.expression_schema(!1),a.schema(!1),c,a.get_config()]);let[x,M,A,N,k,D]=h,O=JSON.parse(k),B=Object.keys(O),R={row(K){let Z={};for(let te of B)Z[te]=O[te][K];return Z}};this.config=x;let I=this.config.columns,L=function(K){let Z=M[K];return Z||(Z=A[K]),Z},{columns:$,group_by:G,split_by:le,filter:ne}=D,U=O[Object.keys(O)[0]]||[],ae=G.length>0?U.reduce((K,Z,te)=>{let fe=R.row(te);if(fe.__ROW_PATH__&&fe.__ROW_PATH__.length==G.length)K.agg_paths.push(K.aggs.slice()),K.rows.push(fe);else{let de=fe.__ROW_PATH__.filter(re=>re!==void 0).length;K.aggs[de]=fe,K.aggs=K.aggs.slice(0,de+1)}return K},{rows:[],aggs:[],agg_paths:[]}):{rows:U.map((K,Z)=>R.row(Z))},J=(K,Z)=>G.length?K:{...K,__ROW_PATH__:[Z]},H=ae.rows.map(J),ee={realValues:I,crossValues:G.map(K=>({name:K,type:L(K)})),mainValues:$.map(K=>({name:K,type:N[K]})),splitValues:le.map(K=>({name:K,type:L(K)})),filter:ne,data:H,agg_paths:ae.agg_paths,...this.config.plugin_config};this._chart=t;let j={set:(K,Z,te)=>(J0.includes(Z)||this._container&&this._container.dispatchEvent(new Event("perspective-plugin-update",{bubbles:!0,composed:!0})),K[Z]=te,!0)},X=[[1/0,-1/0],[1/0,-1/0]];this._settings=new Proxy({axisMemo:X,...this._settings,...ee},j),this._settings.splitMainValues&&this._settings.splitMainValues.length>=$.length&&(this._settings.splitMainValues=[]),SA(this._container,this._settings),u&&(this._container.innerHTML=""),this._draw(),await new Promise(K=>requestAnimationFrame(K))}async clear(){this._container&&(this._container.innerHTML="")}_draw(){if(this.offsetParent!==null){let a=ue(this._container),o=`chart ${r}`;this._settings.size=this._container.getBoundingClientRect(),this._settings.data.length>0?this._chart(a.attr("class",o),this._settings):a.attr("class",`${o} disabled`)}}async resize(a){if(this.offsetParent!==null)if(this._settings?.data!==void 0)this._draw();else{let[o,i,u]=this._staged_view;this._staged_view=void 0,this.draw(o,i,u)}}async restyle(...a){let o=this._settings;o&&(delete o.colorStyles,delete o.textStyles,await this.draw(...a))}async delete(){this._container.innerHTML=""}getContainer(){return this._container}save(){let a={...this._settings};return J0.forEach(o=>{delete a[o]}),a}restore(a){let o={};for(let i of J0)this._settings?.[i]!==void 0&&(o[i]=this._settings?.[i]);this._settings={...o,...a}}}),customElements.whenDefined("perspective-viewer").then(()=>mR(n))}})}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector);kA();
//# sourceMappingURL=perspective-viewer-d3fc.js.map
