var qT=Object.create;var Dl=Object.defineProperty;var GT=Object.getOwnPropertyDescriptor;var $T=Object.getOwnPropertyNames;var UT=Object.getPrototypeOf,XT=Object.prototype.hasOwnProperty;var k=(e,t)=>()=>(e&&(t=e(e=0)),t);var Hx=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),At=(e,t)=>{for(var n in t)Dl(e,n,{get:t[n],enumerable:!0})},Yx=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of $T(t))!XT.call(e,a)&&a!==n&&Dl(e,a,{get:()=>t[a],enumerable:!(r=GT(t,a))||r.enumerable});return e};var ze=(e,t,n)=>(n=e!=null?qT(UT(e)):{},Yx(t||!e||!e.__esModule?Dl(n,"default",{value:e,enumerable:!0}):n,e)),an=e=>Yx(Dl({},"__esModule",{value:!0}),e);function Fe(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var Sn=k(()=>{});function Wi(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var _d=k(()=>{});function To(e){let t,n,r;e.length!==2?(t=Fe,n=(u,f)=>Fe(e(u),f),r=(u,f)=>e(u)-f):(t=e===Fe||e===Wi?e:jT,n=e,r=e);function a(u,f,c=0,h=u.length){if(c<h){if(t(f,f)!==0)return h;do{let v=c+h>>>1;n(u[v],f)<0?c=v+1:h=v}while(c<h)}return c}function o(u,f,c=0,h=u.length){if(c<h){if(t(f,f)!==0)return h;do{let v=c+h>>>1;n(u[v],f)<=0?c=v+1:h=v}while(c<h)}return c}function i(u,f,c=0,h=u.length){let v=a(u,f,c,h-1);return v>c&&r(u[v-1],f)>-r(u[v],f)?v-1:v}return{left:a,center:i,right:o}}function jT(){return 0}var Sd=k(()=>{Sn();_d()});function qi(e){return e===null?NaN:+e}function*Md(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}var Ad=k(()=>{});var Wx,Cd,qx,Gx,Nl,Td=k(()=>{Sn();Sd();Ad();Wx=To(Fe),Cd=Wx.right,qx=Wx.left,Gx=To(qi).center,Nl=Cd});function $x(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;let r=kd(t),a=e.slice();return r(e,a,0,n,1),r(a,e,0,n,1),r(e,a,0,n,1),e}function jx(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:a,width:o,height:i}=t;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((i=Math.floor(i!==void 0?i:a.length/o))>=0))throw new RangeError("invalid height");if(!o||!i||!n&&!r)return t;let u=n&&e(n),f=r&&e(r),c=a.slice();return u&&f?(ko(u,c,a,o,i),ko(u,a,c,o,i),ko(u,c,a,o,i),Vo(f,a,c,o,i),Vo(f,c,a,o,i),Vo(f,a,c,o,i)):u?(ko(u,a,c,o,i),ko(u,c,a,o,i),ko(u,a,c,o,i)):f&&(Vo(f,a,c,o,i),Vo(f,c,a,o,i),Vo(f,a,c,o,i)),t}}function ko(e,t,n,r,a){for(let o=0,i=r*a;o<i;)e(t,n,o,o+=r,1)}function Vo(e,t,n,r,a){for(let o=0,i=r*a;o<r;++o)e(t,n,o,o+i,r)}function QT(e){let t=kd(e);return(n,r,a,o,i)=>{a<<=2,o<<=2,i<<=2,t(n,r,a+0,o+0,i),t(n,r,a+1,o+1,i),t(n,r,a+2,o+2,i),t(n,r,a+3,o+3,i)}}function kd(e){let t=Math.floor(e);if(t===e)return KT(e);let n=e-t,r=2*e+1;return(a,o,i,u,f)=>{if(!((u-=f)>=i))return;let c=t*o[i],h=f*t,v=h+f;for(let b=i,M=i+h;b<M;b+=f)c+=o[Math.min(u,b)];for(let b=i,M=u;b<=M;b+=f)c+=o[Math.min(u,b+h)],a[b]=(c+n*(o[Math.max(i,b-v)]+o[Math.min(u,b+v)]))/r,c-=o[Math.max(i,b-h)]}}function KT(e){let t=2*e+1;return(n,r,a,o,i)=>{if(!((o-=i)>=a))return;let u=e*r[a],f=i*e;for(let c=a,h=a+f;c<h;c+=i)u+=r[Math.min(o,c)];for(let c=a,h=o;c<=h;c+=i)u+=r[Math.min(o,c+f)],n[c]=u/t,u-=r[Math.max(a,c-f)]}}var Ux,Xx,Qx=k(()=>{Ux=jx(kd),Xx=jx(QT)});function lr(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(a=+a)>=a&&++n}return n}var Gi=k(()=>{});function ZT(e){return e.length|0}function JT(e){return!(e>0)}function ek(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function tk(e){return t=>e(...t)}function Vd(...e){let t=typeof e[e.length-1]=="function"&&tk(e.pop());e=e.map(ek);let n=e.map(ZT),r=e.length-1,a=new Array(r+1).fill(0),o=[];if(r<0||n.some(JT))return o;for(;;){o.push(a.map((u,f)=>e[f][u]));let i=r;for(;++a[i]===n[i];){if(i===0)return t?o.map(t):o;a[i--]=0}}}var Kx=k(()=>{});function Dd(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?a=>n+=+a||0:a=>n+=+t(a,r++,e)||0)}var Zx=k(()=>{});function $i(e,t){let n=0,r,a=0,o=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(r=i-a,a+=r/++n,o+=r*(i-a));else{let i=-1;for(let u of e)(u=t(u,++i,e))!=null&&(u=+u)>=u&&(r=u-a,a+=r/++n,o+=r*(u-a))}if(n>1)return o/(n-1)}var Nd=k(()=>{});function Ui(e,t){let n=$i(e,t);return n&&Math.sqrt(n)}var Ed=k(()=>{Nd()});function ya(e,t){let n,r;if(t===void 0)for(let a of e)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}var Pd=k(()=>{});function Jx(e,t){let n=new Do;if(t===void 0)for(let r of e)(r=+r)&&n.add(r);else{let r=-1;for(let a of e)(a=+t(a,++r,e))&&n.add(a)}return+n}function e1(e,t){let n=new Do,r=-1;return Float64Array.from(e,t===void 0?a=>n.add(+a||0):a=>n.add(+t(a,++r,e)||0))}var Do,t1=k(()=>{Do=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let n=this._partials,r=0;for(let a=0;a<this._n&&a<32;a++){let o=n[a],i=t+o,u=Math.abs(t)<Math.abs(o)?t-(i-o):o-(i-t);u&&(n[r++]=u),t=i}return n[r]=t,this._n=r+1,this}valueOf(){let t=this._partials,n=this._n,r,a,o,i=0;if(n>0){for(i=t[--n];n>0&&(r=i,a=t[--n],i=r+a,o=a-(i-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(a=o*2,r=i+a,a==r-i&&(i=r))}return i}}});function Ld({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):n}function n1({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function r1({_intern:e,_key:t},n){let r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function a1(e){return e!==null&&typeof e=="object"?e.valueOf():e}var on,Ot,fr=k(()=>{on=class extends Map{constructor(t,n=a1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let[r,a]of t)this.set(r,a)}get(t){return super.get(Ld(this,t))}has(t){return super.has(Ld(this,t))}set(t,n){return super.set(n1(this,t),n)}delete(t){return super.delete(r1(this,t))}},Ot=class extends Set{constructor(t,n=a1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let r of t)this.add(r)}has(t){return super.has(Ld(this,t))}add(t){return super.add(n1(this,t))}delete(t){return super.delete(r1(this,t))}}});function sr(e){return e}var Id=k(()=>{});function Xi(e,...t){return No(e,sr,sr,t)}function zd(e,...t){return No(e,Array.from,sr,t)}function o1(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap(a=>a.pop().map(([o,i])=>[...a,o,i]));return e}function i1(e,...t){return o1(zd(e,...t),t)}function u1(e,t,...n){return o1(Rd(e,t,...n),n)}function El(e,t,...n){return No(e,sr,t,n)}function Rd(e,t,...n){return No(e,Array.from,t,n)}function l1(e,...t){return No(e,sr,s1,t)}function f1(e,...t){return No(e,Array.from,s1,t)}function s1(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function No(e,t,n,r){return function a(o,i){if(i>=r.length)return n(o);let u=new on,f=r[i++],c=-1;for(let h of o){let v=f(h,++c,o),b=u.get(v);b?b.push(h):u.set(v,[h])}for(let[h,v]of u)u.set(h,a(v,i));return t(u)}(e,0)}var Od=k(()=>{fr();Id()});function ji(e,t){return Array.from(t,n=>e[n])}var Bd=k(()=>{});function Eo(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){let r=Uint32Array.from(e,(a,o)=>o);return t.length>1?(t=t.map(a=>e.map(a)),r.sort((a,o)=>{for(let i of t){let u=cr(i[a],i[o]);if(u)return u}})):(n=e.map(n),r.sort((a,o)=>cr(n[a],n[o]))),ji(e,r)}return e.sort(Qi(n))}function Qi(e=Fe){if(e===Fe)return cr;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{let r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function cr(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var Po=k(()=>{Sn();Bd()});function Fd(e,t,n){return(t.length!==2?Eo(El(e,t,n),([r,a],[o,i])=>Fe(a,i)||Fe(r,o)):Eo(Xi(e,n),([r,a],[o,i])=>t(a,i)||Fe(r,o))).map(([r])=>r)}var c1=k(()=>{Sn();Od();Po()});var d1,m1,Xz,h1=k(()=>{d1=Array.prototype,m1=d1.slice,Xz=d1.map});function Ki(e){return()=>e}var p1=k(()=>{});function Zi(e,t,n){var r,a=-1,o,i,u;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),(u=Ir(e,t,n))===0||!isFinite(u))return[];if(u>0){let f=Math.round(e/u),c=Math.round(t/u);for(f*u<e&&++f,c*u>t&&--c,i=new Array(o=c-f+1);++a<o;)i[a]=(f+a)*u}else{u=-u;let f=Math.round(e*u),c=Math.round(t*u);for(f/u<e&&++f,c/u>t&&--c,i=new Array(o=c-f+1);++a<o;)i[a]=(f+a)/u}return r&&i.reverse(),i}function Ir(e,t,n){var r=(t-e)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,a);return a>=0?(o>=Hd?10:o>=Yd?5:o>=Wd?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(o>=Hd?10:o>=Yd?5:o>=Wd?2:1)}function g1(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/a;return o>=Hd?a*=10:o>=Yd?a*=5:o>=Wd&&(a*=2),t<e?-a:a}var Hd,Yd,Wd,Pl=k(()=>{Hd=Math.sqrt(50),Yd=Math.sqrt(10),Wd=Math.sqrt(2)});function Ji(e,t,n){let r;for(;;){let a=Ir(e,t,n);if(a===r||a===0||!isFinite(a))return[e,t];a>0?(e=Math.floor(e/a)*a,t=Math.ceil(t/a)*a):a<0&&(e=Math.ceil(e*a)/a,t=Math.floor(t*a)/a),r=a}}var qd=k(()=>{Pl()});function eu(e){return Math.ceil(Math.log(lr(e))/Math.LN2)+1}var Gd=k(()=>{Gi()});function Ll(){var e=sr,t=ya,n=eu;function r(a){Array.isArray(a)||(a=Array.from(a));var o,i=a.length,u,f,c=new Array(i);for(o=0;o<i;++o)c[o]=e(a[o],o,a);var h=t(c),v=h[0],b=h[1],M=n(c,v,b);if(!Array.isArray(M)){let B=b,L=+M;if(t===ya&&([v,b]=Ji(v,b,L)),M=Zi(v,b,L),M[0]<=v&&(f=Ir(v,b,L)),M[M.length-1]>=b)if(B>=b&&t===ya){let P=Ir(v,b,L);isFinite(P)&&(P>0?b=(Math.floor(b/P)+1)*P:P<0&&(b=(Math.ceil(b*-P)+1)/-P))}else M.pop()}for(var A=M.length,D=0,C=A;M[D]<=v;)++D;for(;M[C-1]>b;)--C;(D||C<A)&&(M=M.slice(D,C),A=C-D);var N=new Array(A+1),O;for(o=0;o<=A;++o)O=N[o]=[],O.x0=o>0?M[o-1]:v,O.x1=o<A?M[o]:b;if(isFinite(f)){if(f>0)for(o=0;o<i;++o)(u=c[o])!=null&&v<=u&&u<=b&&N[Math.min(A,Math.floor((u-v)/f))].push(a[o]);else if(f<0){for(o=0;o<i;++o)if((u=c[o])!=null&&v<=u&&u<=b){let B=Math.floor((v-u)*f);N[Math.min(A,B+(M[B]<=u))].push(a[o])}}}else for(o=0;o<i;++o)(u=c[o])!=null&&v<=u&&u<=b&&N[Nl(M,u,0,A)].push(a[o]);return N}return r.value=function(a){return arguments.length?(e=typeof a=="function"?a:Ki(a),r):e},r.domain=function(a){return arguments.length?(t=typeof a=="function"?a:Ki([a[0],a[1]]),r):t},r.thresholds=function(a){return arguments.length?(n=typeof a=="function"?a:Ki(Array.isArray(a)?m1.call(a):a),r):n},r}var v1=k(()=>{h1();Td();p1();Pd();Id();qd();Pl();Gd()});function In(e,t){let n;if(t===void 0)for(let r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}var $d=k(()=>{});function wa(e,t){let n,r=-1,a=-1;if(t===void 0)for(let o of e)++a,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=a);else for(let o of e)(o=t(o,++a,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=a);return r}var Il=k(()=>{});function un(e,t){let n;if(t===void 0)for(let r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}var zl=k(()=>{});function _a(e,t){let n,r=-1,a=-1;if(t===void 0)for(let o of e)++a,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=a);else for(let o of e)(o=t(o,++a,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=a);return r}var Rl=k(()=>{});function Sa(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?cr:Qi(a);r>n;){if(r-n>600){let f=r-n+1,c=t-n+1,h=Math.log(f),v=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*v*(f-v)/f)*(c-f/2<0?-1:1),M=Math.max(n,Math.floor(t-c*v/f+b)),A=Math.min(r,Math.floor(t+(f-c)*v/f+b));Sa(e,t,M,A,a)}let o=e[t],i=n,u=r;for(tu(e,n,t),a(e[r],o)>0&&tu(e,n,r);i<u;){for(tu(e,i,u),++i,--u;a(e[i],o)<0;)++i;for(;a(e[u],o)>0;)--u}a(e[n],o)===0?tu(e,n,u):(++u,tu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function tu(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}var Ud=k(()=>{Po()});function nu(e,t=Fe){let n,r=!1;if(t.length===1){let a;for(let o of e){let i=t(o);(r?Fe(i,a)>0:Fe(i,i)===0)&&(n=o,a=i,r=!0)}}else for(let a of e)(r?t(a,n)>0:t(a,a)===0)&&(n=a,r=!0);return n}var Xd=k(()=>{Sn()});function zr(e,t,n){if(e=Float64Array.from(Md(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return un(e);if(t>=1)return In(e);var r,a=(r-1)*t,o=Math.floor(a),i=In(Sa(e,o).subarray(0,o+1)),u=un(e.subarray(o+1));return i+(u-i)*(a-o)}}function x1(e,t,n=qi){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,o=Math.floor(a),i=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return i+(u-i)*(a-o)}}function Ol(e,t,n){if(e=Float64Array.from(Md(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return _a(e);if(t>=1)return wa(e);var r,a=Math.floor((r-1)*t),o=(u,f)=>cr(e[u],e[f]),i=Sa(Uint32Array.from(e,(u,f)=>f),a,0,r-1,o);return nu(i.subarray(0,a+1),u=>e[u])}}var Bl=k(()=>{$d();Il();zl();Rl();Ud();Ad();Po();Xd()});function jd(e,t,n){return Math.ceil((n-t)/(2*(zr(e,.75)-zr(e,.25))*Math.pow(lr(e),-1/3)))}var b1=k(()=>{Gi();Bl()});function Qd(e,t,n){return Math.ceil((n-t)*Math.cbrt(lr(e))/(3.49*Ui(e)))}var y1=k(()=>{Gi();Ed()});function Kd(e,t){let n=0,r=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(++n,r+=a);else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}var w1=k(()=>{});function Zd(e,t){return zr(e,.5,t)}function _1(e,t){return Ol(e,.5,t)}var S1=k(()=>{Bl()});function*nk(e){for(let t of e)yield*t}function Jd(e){return Array.from(nk(e))}var M1=k(()=>{});function em(e,t){let n=new on;if(t===void 0)for(let o of e)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let i of e)(i=t(i,++o,e))!=null&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,a=0;for(let[o,i]of n)i>a&&(a=i,r=o);return r}var A1=k(()=>{fr()});function tm(e,t=rk){let n=[],r,a=!1;for(let o of e)a&&n.push(t(r,o)),r=o,a=!0;return n}function rk(e,t){return[e,t]}var C1=k(()=>{});function nm(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(a);++r<a;)o[r]=e+r*n;return o}var T1=k(()=>{});function rm(e,t=Fe){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(e),r=new Float64Array(n.length);t.length!==2&&(n=n.map(t),t=Fe);let a=(u,f)=>t(n[u],n[f]),o,i;return Uint32Array.from(n,(u,f)=>f).sort(t===Fe?(u,f)=>cr(n[u],n[f]):Qi(a)).forEach((u,f)=>{let c=a(u,o===void 0?u:o);c>=0?((o===void 0||c>0)&&(o=u,i=f),r[u]=i):r[u]=NaN}),r}var k1=k(()=>{Sn();Po()});function am(e,t=Fe){let n,r=!1;if(t.length===1){let a;for(let o of e){let i=t(o);(r?Fe(i,a)<0:Fe(i,i)===0)&&(n=o,a=i,r=!0)}}else for(let a of e)(r?t(a,n)<0:t(a,a)===0)&&(n=a,r=!0);return n}var V1=k(()=>{Sn()});function ru(e,t=Fe){if(t.length===1)return _a(e,t);let n,r=-1,a=-1;for(let o of e)++a,(r<0?t(o,o)===0:t(o,n)<0)&&(n=o,r=a);return r}var om=k(()=>{Sn();Rl()});function im(e,t=Fe){if(t.length===1)return wa(e,t);let n,r=-1,a=-1;for(let o of e)++a,(r<0?t(o,o)===0:t(o,n)>0)&&(n=o,r=a);return r}var D1=k(()=>{Sn();Il()});function um(e,t){let n=ru(e,t);return n<0?void 0:n}var N1=k(()=>{om()});function lm(e){return function(n,r=0,a=n.length){let o=a-(r=+r);for(;o;){let i=e()*o--|0,u=n[o+r];n[o+r]=n[i+r],n[i+r]=u}return n}}var E1,P1=k(()=>{E1=lm(Math.random)});function fm(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let a of e)(a=+t(a,++r,e))&&(n+=a)}return n}var L1=k(()=>{});function au(e){if(!(o=e.length))return[];for(var t=-1,n=un(e,ak),r=new Array(n);++t<n;)for(var a=-1,o,i=r[t]=new Array(o);++a<o;)i[a]=e[a][t];return r}function ak(e){return e.length}var sm=k(()=>{zl()});function cm(){return au(arguments)}var I1=k(()=>{sm()});function dm(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(let r of e)if(!t(r,++n,e))return!1;return!0}var z1=k(()=>{});function mm(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(let r of e)if(t(r,++n,e))return!0;return!1}var R1=k(()=>{});function hm(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=[],r=-1;for(let a of e)t(a,++r,e)&&n.push(a);return n}var O1=k(()=>{});function pm(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(n,r)=>t(n,r,e))}var B1=k(()=>{});function gm(e,t,n){if(typeof t!="function")throw new TypeError("reducer is not a function");let r=e[Symbol.iterator](),a,o,i=-1;if(arguments.length<3){if({done:a,value:n}=r.next(),a)return;++i}for(;{done:a,value:o}=r.next(),!a;)n=t(n,o,++i,e);return n}var F1=k(()=>{});function vm(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}var H1=k(()=>{});function xm(e,...t){e=new Ot(e);for(let n of t)for(let r of n)e.delete(r);return e}var Y1=k(()=>{fr()});function bm(e,t){let n=t[Symbol.iterator](),r=new Ot;for(let a of e){if(r.has(a))return!1;let o,i;for(;({value:o,done:i}=n.next())&&!i;){if(Object.is(a,o))return!1;r.add(o)}}return!0}var W1=k(()=>{fr()});function ym(e,...t){e=new Ot(e),t=t.map(ok);e:for(let n of e)for(let r of t)if(!r.has(n)){e.delete(n);continue e}return e}function ok(e){return e instanceof Ot?e:new Ot(e)}var q1=k(()=>{fr()});function ou(e,t){let n=e[Symbol.iterator](),r=new Set;for(let a of t){let o=G1(a);if(r.has(o))continue;let i,u;for(;{value:i,done:u}=n.next();){if(u)return!1;let f=G1(i);if(r.add(f),Object.is(o,f))break}}return!0}function G1(e){return e!==null&&typeof e=="object"?e.valueOf():e}var wm=k(()=>{});function _m(e,t){return ou(t,e)}var $1=k(()=>{wm()});function Sm(...e){let t=new Ot;for(let n of e)for(let r of n)t.add(r);return t}var U1=k(()=>{fr()});var Mm={};At(Mm,{Adder:()=>Do,InternMap:()=>on,InternSet:()=>Ot,ascending:()=>Fe,bin:()=>Ll,bisect:()=>Nl,bisectCenter:()=>Gx,bisectLeft:()=>qx,bisectRight:()=>Cd,bisector:()=>To,blur:()=>$x,blur2:()=>Ux,blurImage:()=>Xx,count:()=>lr,cross:()=>Vd,cumsum:()=>Dd,descending:()=>Wi,deviation:()=>Ui,difference:()=>xm,disjoint:()=>bm,every:()=>dm,extent:()=>ya,fcumsum:()=>e1,filter:()=>hm,flatGroup:()=>i1,flatRollup:()=>u1,fsum:()=>Jx,greatest:()=>nu,greatestIndex:()=>im,group:()=>Xi,groupSort:()=>Fd,groups:()=>zd,histogram:()=>Ll,index:()=>l1,indexes:()=>f1,intersection:()=>ym,least:()=>am,leastIndex:()=>ru,map:()=>pm,max:()=>In,maxIndex:()=>wa,mean:()=>Kd,median:()=>Zd,medianIndex:()=>_1,merge:()=>Jd,min:()=>un,minIndex:()=>_a,mode:()=>em,nice:()=>Ji,pairs:()=>tm,permute:()=>ji,quantile:()=>zr,quantileIndex:()=>Ol,quantileSorted:()=>x1,quickselect:()=>Sa,range:()=>nm,rank:()=>rm,reduce:()=>gm,reverse:()=>vm,rollup:()=>El,rollups:()=>Rd,scan:()=>um,shuffle:()=>E1,shuffler:()=>lm,some:()=>mm,sort:()=>Eo,subset:()=>_m,sum:()=>fm,superset:()=>ou,thresholdFreedmanDiaconis:()=>jd,thresholdScott:()=>Qd,thresholdSturges:()=>eu,tickIncrement:()=>Ir,tickStep:()=>g1,ticks:()=>Zi,transpose:()=>au,union:()=>Sm,variance:()=>$i,zip:()=>cm});var Am=k(()=>{Td();Sn();Sd();Qx();Gi();Kx();Zx();_d();Ed();Pd();t1();Od();c1();v1();b1();y1();Gd();$d();Il();w1();S1();M1();zl();Rl();A1();qd();C1();Bd();Bl();Ud();T1();k1();V1();om();Xd();D1();N1();P1();L1();Pl();sm();Nd();I1();z1();R1();O1();B1();F1();H1();Po();Y1();W1();q1();$1();wm();U1();fr()});function $t(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var iu=k(()=>{});function Fl(e){let t=e,n=e,r=e;e.length!==2&&(t=(u,f)=>e(u)-f,n=$t,r=(u,f)=>$t(e(u),f));function a(u,f,c=0,h=u.length){if(c<h){if(n(f,f)!==0)return h;do{let v=c+h>>>1;r(u[v],f)<0?c=v+1:h=v}while(c<h)}return c}function o(u,f,c=0,h=u.length){if(c<h){if(n(f,f)!==0)return h;do{let v=c+h>>>1;r(u[v],f)<=0?c=v+1:h=v}while(c<h)}return c}function i(u,f,c=0,h=u.length){let v=a(u,f,c,h-1);return v>c&&t(u[v-1],f)>-t(u[v],f)?v-1:v}return{left:a,center:i,right:o}}var X1=k(()=>{iu()});function uu(e){return e===null?NaN:+e}function*j1(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}var Cm=k(()=>{});var Q1,K1,ik,uk,Mn,Z1=k(()=>{iu();X1();Cm();Q1=Fl($t),K1=Q1.right,ik=Q1.left,uk=Fl(uu).center,Mn=K1});function J1(e=$t){if(e===$t)return Tm;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{let r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Tm(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var eb=k(()=>{iu()});function Ma(e,t,n){var r,a=-1,o,i,u;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),(u=Hl(e,t,n))===0||!isFinite(u))return[];if(u>0){let f=Math.round(e/u),c=Math.round(t/u);for(f*u<e&&++f,c*u>t&&--c,i=new Array(o=c-f+1);++a<o;)i[a]=(f+a)*u}else{u=-u;let f=Math.round(e*u),c=Math.round(t*u);for(f/u<e&&++f,c/u>t&&--c,i=new Array(o=c-f+1);++a<o;)i[a]=(f+a)/u}return r&&i.reverse(),i}function Hl(e,t,n){var r=(t-e)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,a);return a>=0?(o>=km?10:o>=Vm?5:o>=Dm?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(o>=km?10:o>=Vm?5:o>=Dm?2:1)}function Nm(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/a;return o>=km?a*=10:o>=Vm?a*=5:o>=Dm&&(a*=2),t<e?-a:a}var km,Vm,Dm,tb=k(()=>{km=Math.sqrt(50),Vm=Math.sqrt(10),Dm=Math.sqrt(2)});function Yl(e,t){let n;if(t===void 0)for(let r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}var nb=k(()=>{});function Wl(e,t){let n;if(t===void 0)for(let r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}var rb=k(()=>{});function ql(e,t,n=0,r=e.length-1,a){for(a=a===void 0?Tm:J1(a);r>n;){if(r-n>600){let f=r-n+1,c=t-n+1,h=Math.log(f),v=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*v*(f-v)/f)*(c-f/2<0?-1:1),M=Math.max(n,Math.floor(t-c*v/f+b)),A=Math.min(r,Math.floor(t+(f-c)*v/f+b));ql(e,t,M,A,a)}let o=e[t],i=n,u=r;for(lu(e,n,t),a(e[r],o)>0&&lu(e,n,r);i<u;){for(lu(e,i,u),++i,--u;a(e[i],o)<0;)++i;for(;a(e[u],o)>0;)--u}a(e[n],o)===0?lu(e,n,u):(++u,lu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function lu(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}var ab=k(()=>{eb()});function Gl(e,t,n){if(e=Float64Array.from(j1(e,n)),!!(r=e.length)){if((t=+t)<=0||r<2)return Wl(e);if(t>=1)return Yl(e);var r,a=(r-1)*t,o=Math.floor(a),i=Yl(ql(e,o).subarray(0,o+1)),u=Wl(e.subarray(o+1));return i+(u-i)*(a-o)}}function Em(e,t,n=uu){if(!!(r=e.length)){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,o=Math.floor(a),i=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return i+(u-i)*(a-o)}}var ob=k(()=>{nb();rb();ab();Cm()});function $l(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(a);++r<a;)o[r]=e+r*n;return o}var ib=k(()=>{});var An=k(()=>{Z1();iu();ob();ib();tb();fr()});function Ze(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ln(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}var Ct=k(()=>{});function fn(){var e=new on,t=[],n=[],r=Ul;function a(o){let i=e.get(o);if(i===void 0){if(r!==Ul)return r;e.set(o,i=t.push(o)-1)}return n[i%n.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new on;for(let i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(n=Array.from(o),a):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return fn(t,n).unknown(r)},Ze.apply(a,arguments),a}var Ul,Pm=k(()=>{An();Ct();Ul=Symbol("implicit")});function Cn(){var e=fn().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,o,i,u=!1,f=0,c=0,h=.5;delete e.unknown;function v(){var b=t().length,M=a<r,A=M?a:r,D=M?r:a;o=(D-A)/Math.max(1,b-f+c*2),u&&(o=Math.floor(o)),A+=(D-A-o*(b-f))*h,i=o*(1-f),u&&(A=Math.round(A),i=Math.round(i));var C=$l(b).map(function(N){return A+o*N});return n(M?C.reverse():C)}return e.domain=function(b){return arguments.length?(t(b),v()):t()},e.range=function(b){return arguments.length?([r,a]=b,r=+r,a=+a,v()):[r,a]},e.rangeRound=function(b){return[r,a]=b,r=+r,a=+a,u=!0,v()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(b){return arguments.length?(u=!!b,v()):u},e.padding=function(b){return arguments.length?(f=Math.min(1,c=+b),v()):f},e.paddingInner=function(b){return arguments.length?(f=Math.min(1,b),v()):f},e.paddingOuter=function(b){return arguments.length?(c=+b,v()):c},e.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),v()):h},e.copy=function(){return Cn(t(),[r,a]).round(u).paddingInner(f).paddingOuter(c).align(h)},Ze.apply(v(),arguments)}function ub(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ub(t())},e}function lb(){return ub(Cn.apply(null,arguments).paddingInner(1))}var fb=k(()=>{An();Ct();Pm()});function Lo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function fu(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}var Lm=k(()=>{});function Ca(){}function cb(){return this.rgb().formatHex()}function pk(){return vb(this).formatHsl()}function db(){return this.rgb().formatRgb()}function kt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lk.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?mb(t):n===3?new Tt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Xl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Xl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=fk.exec(e))?new Tt(t[1],t[2],t[3],1):(t=sk.exec(e))?new Tt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ck.exec(e))?Xl(t[1],t[2],t[3],t[4]):(t=dk.exec(e))?Xl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mk.exec(e))?gb(t[1],t[2]/100,t[3]/100,1):(t=hk.exec(e))?gb(t[1],t[2]/100,t[3]/100,t[4]):sb.hasOwnProperty(e)?mb(sb[e]):e==="transparent"?new Tt(NaN,NaN,NaN,0):null}function mb(e){return new Tt(e>>16&255,e>>8&255,e&255,1)}function Xl(e,t,n,r){return r<=0&&(e=t=n=NaN),new Tt(e,t,n,r)}function Rm(e){return e instanceof Ca||(e=kt(e)),e?(e=e.rgb(),new Tt(e.r,e.g,e.b,e.opacity)):new Tt}function Or(e,t,n,r){return arguments.length===1?Rm(e):new Tt(e,t,n,r??1)}function Tt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function hb(){return"#"+Im(this.r)+Im(this.g)+Im(this.b)}function pb(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Im(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function gb(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new zn(e,t,n,r)}function vb(e){if(e instanceof zn)return new zn(e.h,e.s,e.l,e.opacity);if(e instanceof Ca||(e=kt(e)),!e)return new zn;if(e instanceof zn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,u=o-a,f=(o+a)/2;return u?(t===o?i=(n-r)/u+(n<r)*6:n===o?i=(r-t)/u+2:i=(t-n)/u+4,u/=f<.5?o+a:2-o-a,i*=60):u=f>0&&f<1?0:i,new zn(i,u,f,e.opacity)}function xb(e,t,n,r){return arguments.length===1?vb(e):new zn(e,t,n,r??1)}function zn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function zm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var Rr,Aa,Io,su,Rn,lk,fk,sk,ck,dk,mk,hk,sb,Om=k(()=>{Lm();Rr=.7,Aa=1/Rr,Io="\\s*([+-]?\\d+)\\s*",su="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lk=/^#([0-9a-f]{3,8})$/,fk=new RegExp("^rgb\\("+[Io,Io,Io]+"\\)$"),sk=new RegExp("^rgb\\("+[Rn,Rn,Rn]+"\\)$"),ck=new RegExp("^rgba\\("+[Io,Io,Io,su]+"\\)$"),dk=new RegExp("^rgba\\("+[Rn,Rn,Rn,su]+"\\)$"),mk=new RegExp("^hsl\\("+[su,Rn,Rn]+"\\)$"),hk=new RegExp("^hsla\\("+[su,Rn,Rn,su]+"\\)$"),sb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lo(Ca,kt,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:cb,formatHex:cb,formatHsl:pk,formatRgb:db,toString:db});Lo(Tt,Or,fu(Ca,{brighter:function(e){return e=e==null?Aa:Math.pow(Aa,e),new Tt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Rr:Math.pow(Rr,e),new Tt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hb,formatHex:hb,formatRgb:pb,toString:pb}));Lo(zn,xb,fu(Ca,{brighter:function(e){return e=e==null?Aa:Math.pow(Aa,e),new zn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Rr:Math.pow(Rr,e),new zn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Tt(zm(e>=240?e-240:e+120,a,r),zm(e,a,r),zm(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}))});var bb,yb,wb=k(()=>{bb=Math.PI/180,yb=180/Math.PI});function gk(e){if(e instanceof Ta)return new Ta(e.h,e.s,e.l,e.opacity);e instanceof Tt||(e=Rm(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(Mb*r+_b*t-Sb*n)/(Mb+_b-Sb),o=r-a,i=(cu*(n-a)-Fm*o)/jl,u=Math.sqrt(i*i+o*o)/(cu*a*(1-a)),f=u?Math.atan2(i,o)*yb-120:NaN;return new Ta(f<0?f+360:f,u,a,e.opacity)}function Bt(e,t,n,r){return arguments.length===1?gk(e):new Ta(e,t,n,r??1)}function Ta(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}var Ab,Bm,Fm,jl,cu,_b,Sb,Mb,Cb=k(()=>{Lm();Om();wb();Ab=-.14861,Bm=1.78277,Fm=-.29227,jl=-.90649,cu=1.97294,_b=cu*jl,Sb=cu*Bm,Mb=Bm*Fm-jl*Ab;Lo(Ta,Bt,fu(Ca,{brighter:function(e){return e=e==null?Aa:Math.pow(Aa,e),new Ta(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Rr:Math.pow(Rr,e),new Ta(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*bb,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new Tt(255*(t+n*(Ab*r+Bm*a)),255*(t+n*(Fm*r+jl*a)),255*(t+n*(cu*r)),this.opacity)}}))});var dr=k(()=>{Om();Cb()});function Hm(e,t,n,r,a){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*n+(1+3*e+3*o-3*i)*r+i*a)/6}function Tb(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],o=e[r+1],i=r>0?e[r-1]:2*a-o,u=r<t-1?e[r+2]:2*o-a;return Hm((n-r/t)*t,i,a,o,u)}}var Ym=k(()=>{});function kb(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],o=e[r%t],i=e[(r+1)%t],u=e[(r+2)%t];return Hm((n-r/t)*t,a,o,i,u)}}var Vb=k(()=>{Ym()});var zo,Wm=k(()=>{zo=e=>()=>e});function Db(e,t){return function(n){return e+n*t}}function vk(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Nb(e,t){var n=t-e;return n?Db(e,n>180||n<-180?n-360*Math.round(n/360):n):zo(isNaN(e)?t:e)}function Eb(e){return(e=+e)==1?mr:function(t,n){return n-t?vk(t,n,e):zo(isNaN(t)?n:t)}}function mr(e,t){var n=t-e;return n?Db(e,n):zo(isNaN(e)?t:e)}var qm=k(()=>{Wm()});function Pb(e){return function(t){var n=t.length,r=new Array(n),a=new Array(n),o=new Array(n),i,u;for(i=0;i<n;++i)u=Or(t[i]),r[i]=u.r||0,a[i]=u.g||0,o[i]=u.b||0;return r=e(r),a=e(a),o=e(o),u.opacity=1,function(f){return u.r=r(f),u.g=a(f),u.b=o(f),u+""}}}var ka,Gm,xk,$m=k(()=>{dr();Ym();Vb();qm();ka=function e(t){var n=Eb(t);function r(a,o){var i=n((a=Or(a)).r,(o=Or(o)).r),u=n(a.g,o.g),f=n(a.b,o.b),c=mr(a.opacity,o.opacity);return function(h){return a.r=i(h),a.g=u(h),a.b=f(h),a.opacity=c(h),a+""}}return r.gamma=e,r}(1);Gm=Pb(Tb),xk=Pb(kb)});function Lb(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(o){for(a=0;a<n;++a)r[a]=e[a]*(1-o)+t[a]*o;return r}}function Ib(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var zb=k(()=>{});function Rb(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),o=new Array(n),i;for(i=0;i<r;++i)a[i]=nt(e[i],t[i]);for(;i<n;++i)o[i]=t[i];return function(u){for(i=0;i<r;++i)o[i]=a[i](u);return o}}var Ob=k(()=>{du()});function Bb(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}var Fb=k(()=>{});function wt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var mu=k(()=>{});function Hb(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=nt(e[a],t[a]):r[a]=t[a];return function(o){for(a in n)r[a]=n[a](o);return r}}var Yb=k(()=>{du()});function bk(e){return function(){return e}}function yk(e){return function(t){return e(t)+""}}function hu(e,t){var n=Xm.lastIndex=Um.lastIndex=0,r,a,o,i=-1,u=[],f=[];for(e=e+"",t=t+"";(r=Xm.exec(e))&&(a=Um.exec(t));)(o=a.index)>n&&(o=t.slice(n,o),u[i]?u[i]+=o:u[++i]=o),(r=r[0])===(a=a[0])?u[i]?u[i]+=a:u[++i]=a:(u[++i]=null,f.push({i,x:wt(r,a)})),n=Um.lastIndex;return n<t.length&&(o=t.slice(n),u[i]?u[i]+=o:u[++i]=o),u.length<2?f[0]?yk(f[0].x):bk(t):(t=f.length,function(c){for(var h=0,v;h<t;++h)u[(v=f[h]).i]=v.x(c);return u.join("")})}var Xm,Um,jm=k(()=>{mu();Xm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Um=new RegExp(Xm.source,"g")});function nt(e,t){var n=typeof t,r;return t==null||n==="boolean"?zo(t):(n==="number"?wt:n==="string"?(r=kt(t))?(t=r,ka):hu:t instanceof kt?ka:t instanceof Date?Bb:Ib(t)?Lb:Array.isArray(t)?Rb:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Hb:wt)(e,t)}var du=k(()=>{dr();$m();Ob();Fb();mu();Yb();jm();Wm();zb()});function Va(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Wb=k(()=>{});function Qm(e,t,n,r,a,o){var i,u,f;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(f=e*n+t*r)&&(n-=e*f,r-=t*f),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,f/=u),e*r<t*n&&(e=-e,t=-t,f=-f,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*qb,skewX:Math.atan(f)*qb,scaleX:i,scaleY:u}}var qb,Ql,Gb=k(()=>{qb=180/Math.PI,Ql={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function $b(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ql:Qm(t.a,t.b,t.c,t.d,t.e,t.f)}function Ub(e){return e==null?Ql:(Kl||(Kl=document.createElementNS("http://www.w3.org/2000/svg","g")),Kl.setAttribute("transform",e),(e=Kl.transform.baseVal.consolidate())?(e=e.matrix,Qm(e.a,e.b,e.c,e.d,e.e,e.f)):Ql)}var Kl,Xb=k(()=>{Gb()});function jb(e,t,n,r){function a(c){return c.length?c.pop()+" ":""}function o(c,h,v,b,M,A){if(c!==v||h!==b){var D=M.push("translate(",null,t,null,n);A.push({i:D-4,x:wt(c,v)},{i:D-2,x:wt(h,b)})}else(v||b)&&M.push("translate("+v+t+b+n)}function i(c,h,v,b){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),b.push({i:v.push(a(v)+"rotate(",null,r)-2,x:wt(c,h)})):h&&v.push(a(v)+"rotate("+h+r)}function u(c,h,v,b){c!==h?b.push({i:v.push(a(v)+"skewX(",null,r)-2,x:wt(c,h)}):h&&v.push(a(v)+"skewX("+h+r)}function f(c,h,v,b,M,A){if(c!==v||h!==b){var D=M.push(a(M)+"scale(",null,",",null,")");A.push({i:D-4,x:wt(c,v)},{i:D-2,x:wt(h,b)})}else(v!==1||b!==1)&&M.push(a(M)+"scale("+v+","+b+")")}return function(c,h){var v=[],b=[];return c=e(c),h=e(h),o(c.translateX,c.translateY,h.translateX,h.translateY,v,b),i(c.rotate,h.rotate,v,b),u(c.skewX,h.skewX,v,b),f(c.scaleX,c.scaleY,h.scaleX,h.scaleY,v,b),c=h=null,function(M){for(var A=-1,D=b.length,C;++A<D;)v[(C=b[A]).i]=C.x(M);return v.join("")}}}var Km,Zm,Qb=k(()=>{mu();Xb();Km=jb($b,"px, ","px)","deg)"),Zm=jb(Ub,", ",")",")")});function Kb(e){return((e=Math.exp(e))+1/e)/2}function _k(e){return((e=Math.exp(e))-1/e)/2}function Sk(e){return((e=Math.exp(2*e))-1)/(e+1)}var wk,Jm,Zb=k(()=>{wk=1e-12;Jm=function e(t,n,r){function a(o,i){var u=o[0],f=o[1],c=o[2],h=i[0],v=i[1],b=i[2],M=h-u,A=v-f,D=M*M+A*A,C,N;if(D<wk)N=Math.log(b/c)/t,C=function(G){return[u+G*M,f+G*A,c*Math.exp(t*G*N)]};else{var O=Math.sqrt(D),B=(b*b-c*c+r*D)/(2*c*n*O),L=(b*b-c*c-r*D)/(2*b*n*O),P=Math.log(Math.sqrt(B*B+1)-B),R=Math.log(Math.sqrt(L*L+1)-L);N=(R-P)/t,C=function(G){var $=G*N,ue=Kb(P),re=c/(n*O)*(ue*Sk(t*$+P)-_k(P));return[u+re*M,f+re*A,c*ue/Kb(t*$+P)]}}return C.duration=N*1e3*t/Math.SQRT2,C}return a.rho=function(o){var i=Math.max(.001,+o),u=i*i,f=u*u;return e(i,u,f)},a}(Math.SQRT2,2,4)});function Jb(e){return function t(n){n=+n;function r(a,o){var i=e((a=Bt(a)).h,(o=Bt(o)).h),u=mr(a.s,o.s),f=mr(a.l,o.l),c=mr(a.opacity,o.opacity);return function(h){return a.h=i(h),a.s=u(h),a.l=f(Math.pow(h,n)),a.opacity=c(h),a+""}}return r.gamma=t,r}(1)}var Mk,Ro,ey=k(()=>{dr();qm();Mk=Jb(Nb),Ro=Jb(mr)});function Zl(e,t){t===void 0&&(t=e,e=nt);for(var n=0,r=t.length-1,a=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(a,a=t[++n]);return function(i){var u=Math.max(0,Math.min(r-1,Math.floor(i*=r)));return o[u](i-u)}}var ty=k(()=>{du()});var Zt=k(()=>{du();mu();Wb();jm();Qb();Zb();$m();ey();ty()});function eh(e){return function(){return e}}var ny=k(()=>{});function Br(e){return+e}var Jl=k(()=>{});function ut(e){return e}function th(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:eh(isNaN(t)?NaN:.5)}function Ak(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Ck(e,t,n){var r=e[0],a=e[1],o=t[0],i=t[1];return a<r?(r=th(a,r),o=n(i,o)):(r=th(r,a),o=n(o,i)),function(u){return o(r(u))}}function Tk(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),o=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)a[i]=th(e[i],e[i+1]),o[i]=n(t[i],t[i+1]);return function(u){var f=Mn(e,u,1,r)-1;return o[f](a[f](u))}}function On(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Da(){var e=ry,t=ry,n=nt,r,a,o,i=ut,u,f,c;function h(){var b=Math.min(e.length,t.length);return i!==ut&&(i=Ak(e[0],e[b-1])),u=b>2?Tk:Ck,f=c=null,v}function v(b){return b==null||isNaN(b=+b)?o:(f||(f=u(e.map(r),t,n)))(r(i(b)))}return v.invert=function(b){return i(a((c||(c=u(t,e.map(r),wt)))(b)))},v.domain=function(b){return arguments.length?(e=Array.from(b,Br),h()):e.slice()},v.range=function(b){return arguments.length?(t=Array.from(b),h()):t.slice()},v.rangeRound=function(b){return t=Array.from(b),n=Va,h()},v.clamp=function(b){return arguments.length?(i=b?!0:ut,h()):i!==ut},v.interpolate=function(b){return arguments.length?(n=b,h()):n},v.unknown=function(b){return arguments.length?(o=b,v):o},function(b,M){return r=b,a=M,h()}}function Na(){return Da()(ut,ut)}var ry,Bn=k(()=>{An();Zt();ny();Jl();ry=[0,1]});function ay(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ea(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}var pu=k(()=>{});function Fn(e){return e=Ea(Math.abs(e)),e?e[1]:NaN}var gu=k(()=>{pu()});function oy(e,t){return function(n,r){for(var a=n.length,o=[],i=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(a-=u,a+u)),!((f+=u+1)>r));)u=e[i=(i+1)%e.length];return o.reverse().join(t)}}var iy=k(()=>{});function uy(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ly=k(()=>{});function Hn(e){if(!(t=kk.exec(e)))throw new Error("invalid format: "+e);var t;return new ef({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ef(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}var kk,nh=k(()=>{kk=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Hn.prototype=ef.prototype;ef.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function fy(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var sy=k(()=>{});function cy(e,t){var n=Ea(e,t);if(!n)return e+"";var r=n[0],a=n[1],o=a-(rh=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ea(e,Math.max(0,t+o-1))[0]}var rh,ah=k(()=>{pu()});function oh(e,t){var n=Ea(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}var dy=k(()=>{pu()});var ih,my=k(()=>{pu();ah();dy();ih={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ay,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>oh(e*100,t),r:oh,s:cy,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)}});function uh(e){return e}var hy=k(()=>{});function vy(e){var t=e.grouping===void 0||e.thousands===void 0?uh:oy(py.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?uh:uy(py.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"\u2212":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function c(v){v=Hn(v);var b=v.fill,M=v.align,A=v.sign,D=v.symbol,C=v.zero,N=v.width,O=v.comma,B=v.precision,L=v.trim,P=v.type;P==="n"?(O=!0,P="g"):ih[P]||(B===void 0&&(B=12),L=!0,P="g"),(C||b==="0"&&M==="=")&&(C=!0,b="0",M="=");var R=D==="$"?n:D==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",G=D==="$"?r:/[%p]/.test(P)?i:"",$=ih[P],ue=/[defgprs%]/.test(P);B=B===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function re(U){var oe=R,Z=G,H,te,j;if(P==="c")Z=$(U)+Z,U="";else{U=+U;var X=U<0||1/U<0;if(U=isNaN(U)?f:$(Math.abs(U),B),L&&(U=fy(U)),X&&+U==0&&A!=="+"&&(X=!1),oe=(X?A==="("?A:u:A==="-"||A==="("?"":A)+oe,Z=(P==="s"?gy[8+rh/3]:"")+Z+(X&&A==="("?")":""),ue){for(H=-1,te=U.length;++H<te;)if(j=U.charCodeAt(H),48>j||j>57){Z=(j===46?a+U.slice(H+1):U.slice(H))+Z,U=U.slice(0,H);break}}}O&&!C&&(U=t(U,1/0));var ee=oe.length+U.length+Z.length,J=ee<N?new Array(N-ee+1).join(b):"";switch(O&&C&&(U=t(J+U,J.length?N-Z.length:1/0),J=""),M){case"<":U=oe+U+Z+J;break;case"=":U=oe+J+U+Z;break;case"^":U=J.slice(0,ee=J.length>>1)+oe+U+Z+J.slice(ee);break;default:U=J+oe+U+Z;break}return o(U)}return re.toString=function(){return v+""},re}function h(v,b){var M=c((v=Hn(v),v.type="f",v)),A=Math.max(-8,Math.min(8,Math.floor(Fn(b)/3)))*3,D=Math.pow(10,-A),C=gy[8+A/3];return function(N){return M(D*N)+C}}return{format:c,formatPrefix:h}}var py,gy,xy=k(()=>{gu();iy();ly();nh();sy();my();ah();hy();py=Array.prototype.map,gy=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"]});function lh(e){return tf=vy(e),Yn=tf.format,nf=tf.formatPrefix,tf}var tf,Yn,nf,by=k(()=>{xy();lh({thousands:",",grouping:[3],currency:["$",""]})});function fh(e){return Math.max(0,-Fn(Math.abs(e)))}var yy=k(()=>{gu()});function sh(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fn(t)/3)))*3-Fn(Math.abs(e)))}var wy=k(()=>{gu()});function ch(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fn(t)-Fn(e))+1}var _y=k(()=>{gu()});var rf=k(()=>{by();nh();yy();wy();_y()});function vu(e,t,n,r){var a=Nm(e,t,n),o;switch(r=Hn(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=sh(a,i))&&(r.precision=o),nf(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ch(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=fh(a))&&(r.precision=o-(r.type==="%")*2);break}}return Yn(r)}var dh=k(()=>{An();rf()});function Ft(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ma(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return vu(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,o=r.length-1,i=r[a],u=r[o],f,c,h=10;for(u<i&&(c=i,i=u,u=c,c=a,a=o,o=c);h-- >0;){if(c=Hl(i,u,n),c===f)return r[a]=i,r[o]=u,t(r);if(c>0)i=Math.floor(i/c)*c,u=Math.ceil(u/c)*c;else if(c<0)i=Math.ceil(i*c)/c,u=Math.floor(u*c)/c;else break;f=c}return e},e}function Wn(){var e=Na();return e.copy=function(){return On(e,Wn())},Ze.apply(e,arguments),Ft(e)}var hr=k(()=>{An();Bn();Ct();dh()});function af(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Br),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return af(e).unknown(t)},e=arguments.length?Array.from(e,Br):[0,1],Ft(n)}var Sy=k(()=>{hr();Jl()});function xu(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],o=e[r],i;return o<a&&(i=n,n=r,r=i,i=a,a=o,o=i),e[n]=t.floor(a),e[r]=t.ceil(o),e}var mh=k(()=>{});function My(e){return Math.log(e)}function Ay(e){return Math.exp(e)}function Vk(e){return-Math.log(-e)}function Dk(e){return-Math.exp(-e)}function Nk(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ek(e){return e===10?Nk:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Pk(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Cy(e){return(t,n)=>-e(-t,n)}function bu(e){let t=e(My,Ay),n=t.domain,r=10,a,o;function i(){return a=Pk(r),o=Ek(r),n()[0]<0?(a=Cy(a),o=Cy(o),e(Vk,Dk)):e(My,Ay),t}return t.base=function(u){return arguments.length?(r=+u,i()):r},t.domain=function(u){return arguments.length?(n(u),i()):n()},t.ticks=u=>{let f=n(),c=f[0],h=f[f.length-1],v=h<c;v&&([c,h]=[h,c]);let b=a(c),M=a(h),A,D,C=u==null?10:+u,N=[];if(!(r%1)&&M-b<C){if(b=Math.floor(b),M=Math.ceil(M),c>0){for(;b<=M;++b)for(A=1;A<r;++A)if(D=b<0?A/o(-b):A*o(b),!(D<c)){if(D>h)break;N.push(D)}}else for(;b<=M;++b)for(A=r-1;A>=1;--A)if(D=b>0?A/o(-b):A*o(b),!(D<c)){if(D>h)break;N.push(D)}N.length*2<C&&(N=Ma(c,h,C))}else N=Ma(b,M,Math.min(M-b,C)).map(o);return v?N.reverse():N},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Hn(f)).precision==null&&(f.trim=!0),f=Yn(f)),u===1/0)return f;let c=Math.max(1,r*u/t.ticks().length);return h=>{let v=h/o(Math.round(a(h)));return v*r<r-.5&&(v*=r),v<=c?f(h):""}},t.nice=()=>n(xu(n(),{floor:u=>o(Math.floor(a(u))),ceil:u=>o(Math.ceil(a(u)))})),t}function of(){let e=bu(Da()).domain([1,10]);return e.copy=()=>On(e,of()).base(e.base()),Ze.apply(e,arguments),e}var uf=k(()=>{An();rf();mh();Bn();Ct()});function Ty(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ky(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yu(e){var t=1,n=e(Ty(t),ky(t));return n.constant=function(r){return arguments.length?e(Ty(t=+r),ky(t)):t},Ft(n)}function lf(){var e=yu(Da());return e.copy=function(){return On(e,lf()).constant(e.constant())},Ze.apply(e,arguments)}var ff=k(()=>{hr();Bn();Ct()});function Vy(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Lk(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ik(e){return e<0?-e*e:e*e}function wu(e){var t=e(ut,ut),n=1;function r(){return n===1?e(ut,ut):n===.5?e(Lk,Ik):e(Vy(n),Vy(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Ft(t)}function _u(){var e=wu(Da());return e.copy=function(){return On(e,_u()).exponent(e.exponent())},Ze.apply(e,arguments),e}function Dy(){return _u.apply(null,arguments).exponent(.5)}var sf=k(()=>{hr();Bn();Ct()});function Ny(e){return Math.sign(e)*e*e}function zk(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function cf(){var e=Na(),t=[0,1],n=!1,r;function a(o){var i=zk(e(o));return isNaN(i)?r:n?Math.round(i):i}return a.invert=function(o){return e.invert(Ny(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Br)).map(Ny)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(n=!!o,a):n},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return cf(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ze.apply(a,arguments),Ft(a)}var Ey=k(()=>{Bn();Ct();hr();Jl()});function df(){var e=[],t=[],n=[],r;function a(){var i=0,u=Math.max(1,t.length);for(n=new Array(u-1);++i<u;)n[i-1]=Em(e,i/u);return o}function o(i){return i==null||isNaN(i=+i)?r:t[Mn(n,i)]}return o.invertExtent=function(i){var u=t.indexOf(i);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let u of i)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort($t),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return df().domain(e).range(t).unknown(r)},Ze.apply(o,arguments)}var Py=k(()=>{An();Ct()});function mf(){var e=0,t=1,n=1,r=[.5],a=[0,1],o;function i(f){return f!=null&&f<=f?a[Mn(r,f,0,n)]:o}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return i}return i.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},i.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,u()):a.slice()},i.invertExtent=function(f){var c=a.indexOf(f);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},i.unknown=function(f){return arguments.length&&(o=f),i},i.thresholds=function(){return r.slice()},i.copy=function(){return mf().domain([e,t]).range(a).unknown(o)},Ze.apply(Ft(i),arguments)}var Ly=k(()=>{An();hr();Ct()});function hf(){var e=[.5],t=[0,1],n,r=1;function a(o){return o!=null&&o<=o?t[Mn(e,o,0,r)]:n}return a.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return hf().domain(e).range(t).unknown(n)},Ze.apply(a,arguments)}var Iy=k(()=>{An();Ct()});function Ve(e,t,n,r){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=function(o){return e(o=new Date(+o)),o},a.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},a.round=function(o){var i=a(o),u=a.ceil(o);return o-i<u-o?i:u},a.offset=function(o,i){return t(o=new Date(+o),i==null?1:Math.floor(i)),o},a.range=function(o,i,u){var f=[],c;if(o=a.ceil(o),u=u==null?1:Math.floor(u),!(o<i)||!(u>0))return f;do f.push(c=new Date(+o)),t(o,u),e(o);while(c<o&&o<i);return f},a.filter=function(o){return Ve(function(i){if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},function(i,u){if(i>=i)if(u<0)for(;++u<=0;)for(;t(i,-1),!o(i););else for(;--u>=0;)for(;t(i,1),!o(i););})},n&&(a.count=function(o,i){return hh.setTime(+o),ph.setTime(+i),e(hh),e(ph),Math.floor(n(hh,ph))},a.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(r?function(i){return r(i)%o===0}:function(i){return a.count(0,i)%o===0}):a}),a}var hh,ph,Vt=k(()=>{hh=new Date,ph=new Date});var pf,Su,gh,vh=k(()=>{Vt();pf=Ve(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});pf.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ve(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):pf};Su=pf,gh=pf.range});var zy,sn,xh,bh=k(()=>{Vt();zy=Ve(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*1e3)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),sn=zy,xh=zy.range});var Ry,Oo,Oy,yh=k(()=>{Vt();Ry=Ve(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()}),Oo=Ry,Oy=Ry.range});var By,Bo,Fy,wh=k(()=>{Vt();By=Ve(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),Bo=By,Fy=By.range});var Hy,pr,Yy,Sh=k(()=>{Vt();Hy=Ve(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),pr=Hy,Yy=Hy.range});function Ia(e){return Ve(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5})}var Gn,za,Mh,Ah,gr,Ch,Th,kh,qy,Gy,$y,Uy,Xy,jy,Vh=k(()=>{Vt();Gn=Ia(0),za=Ia(1),Mh=Ia(2),Ah=Ia(3),gr=Ia(4),Ch=Ia(5),Th=Ia(6),kh=Gn.range,qy=za.range,Gy=Mh.range,$y=Ah.range,Uy=gr.range,Xy=Ch.range,jy=Th.range});var Qy,Fo,Ky,Dh=k(()=>{Vt();Qy=Ve(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()}),Fo=Qy,Ky=Qy.range});var Nh,cn,Zy,Eh=k(()=>{Vt();Nh=Ve(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Nh.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Ve(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};cn=Nh,Zy=Nh.range});var Jy,Ho,ew,Ph=k(()=>{Vt();Jy=Ve(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()}),Ho=Jy,ew=Jy.range});var tw,Yo,nw,Lh=k(()=>{Vt();tw=Ve(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),Yo=tw,nw=tw.range});var rw,vr,aw,Ih=k(()=>{Vt();rw=Ve(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),vr=rw,aw=rw.range});function Ra(e){return Ve(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/6048e5})}var $n,Oa,zh,Rh,xr,Oh,Bh,Fh,ow,iw,uw,lw,fw,sw,Hh=k(()=>{Vt();$n=Ra(0),Oa=Ra(1),zh=Ra(2),Rh=Ra(3),xr=Ra(4),Oh=Ra(5),Bh=Ra(6),Fh=$n.range,ow=Oa.range,iw=zh.range,uw=Rh.range,lw=xr.range,fw=Oh.range,sw=Bh.range});var cw,Wo,dw,Yh=k(()=>{Vt();cw=Ve(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()}),Wo=cw,dw=cw.range});var Wh,dn,mw,qh=k(()=>{Vt();Wh=Ve(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Wh.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Ve(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};dn=Wh,mw=Wh.range});function gf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var hw=k(()=>{});function vf(e){let t=e,n=e,r=e;e.length!==2&&(t=(u,f)=>e(u)-f,n=gf,r=(u,f)=>gf(e(u),f));function a(u,f,c=0,h=u.length){if(c<h){if(n(f,f)!==0)return h;do{let v=c+h>>>1;r(u[v],f)<0?c=v+1:h=v}while(c<h)}return c}function o(u,f,c=0,h=u.length){if(c<h){if(n(f,f)!==0)return h;do{let v=c+h>>>1;r(u[v],f)<=0?c=v+1:h=v}while(c<h)}return c}function i(u,f,c=0,h=u.length){let v=a(u,f,c,h-1);return v>c&&t(u[v-1],f)>-t(u[v],f)?v-1:v}return{left:a,center:i,right:o}}var pw=k(()=>{hw()});function xf(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/a;return o>=Rk?a*=10:o>=Ok?a*=5:o>=Bk&&(a*=2),t<e?-a:a}var Rk,Ok,Bk,gw=k(()=>{Rk=Math.sqrt(50),Ok=Math.sqrt(10),Bk=Math.sqrt(2)});var vw=k(()=>{pw();gw()});function bw(e,t,n,r,a,o){let i=[[sn,1,1e3],[sn,5,5*1e3],[sn,15,15*1e3],[sn,30,30*1e3],[o,1,6e4],[o,5,5*6e4],[o,15,15*6e4],[o,30,30*6e4],[a,1,36e5],[a,3,3*36e5],[a,6,6*36e5],[a,12,12*36e5],[r,1,864e5],[r,2,2*864e5],[n,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function u(c,h,v){let b=h<c;b&&([c,h]=[h,c]);let M=v&&typeof v.range=="function"?v:f(c,h,v),A=M?M.range(c,+h+1):[];return b?A.reverse():A}function f(c,h,v){let b=Math.abs(h-c)/v,M=vf(([,,C])=>C).right(i,b);if(M===i.length)return e.every(xf(c/31536e6,h/31536e6,v));if(M===0)return Su.every(Math.max(xf(c,h,v),1));let[A,D]=i[b/i[M-1][2]<i[M][2]/b?M-1:M];return A.every(D)}return[u,f]}var bf,yf,wf,_f,yw=k(()=>{vw();vh();bh();yh();wh();Sh();Vh();Dh();Eh();Ph();Lh();Ih();Hh();Yh();qh();[bf,yf]=bw(dn,Wo,$n,vr,Yo,Ho),[wf,_f]=bw(cn,Fo,Gn,pr,Bo,Oo)});var ww={};At(ww,{timeDay:()=>pr,timeDays:()=>Yy,timeFriday:()=>Ch,timeFridays:()=>Xy,timeHour:()=>Bo,timeHours:()=>Fy,timeInterval:()=>Ve,timeMillisecond:()=>Su,timeMilliseconds:()=>gh,timeMinute:()=>Oo,timeMinutes:()=>Oy,timeMonday:()=>za,timeMondays:()=>qy,timeMonth:()=>Fo,timeMonths:()=>Ky,timeSaturday:()=>Th,timeSaturdays:()=>jy,timeSecond:()=>sn,timeSeconds:()=>xh,timeSunday:()=>Gn,timeSundays:()=>kh,timeThursday:()=>gr,timeThursdays:()=>Uy,timeTickInterval:()=>_f,timeTicks:()=>wf,timeTuesday:()=>Mh,timeTuesdays:()=>Gy,timeWednesday:()=>Ah,timeWednesdays:()=>$y,timeWeek:()=>Gn,timeWeeks:()=>kh,timeYear:()=>cn,timeYears:()=>Zy,utcDay:()=>vr,utcDays:()=>aw,utcFriday:()=>Oh,utcFridays:()=>fw,utcHour:()=>Yo,utcHours:()=>nw,utcMillisecond:()=>Su,utcMilliseconds:()=>gh,utcMinute:()=>Ho,utcMinutes:()=>ew,utcMonday:()=>Oa,utcMondays:()=>ow,utcMonth:()=>Wo,utcMonths:()=>dw,utcSaturday:()=>Bh,utcSaturdays:()=>sw,utcSecond:()=>sn,utcSeconds:()=>xh,utcSunday:()=>$n,utcSundays:()=>Fh,utcThursday:()=>xr,utcThursdays:()=>lw,utcTickInterval:()=>yf,utcTicks:()=>bf,utcTuesday:()=>zh,utcTuesdays:()=>iw,utcWednesday:()=>Rh,utcWednesdays:()=>uw,utcWeek:()=>$n,utcWeeks:()=>Fh,utcYear:()=>dn,utcYears:()=>mw});var qo=k(()=>{Vt();vh();bh();yh();wh();Sh();Vh();Dh();Eh();Ph();Lh();Ih();Hh();Yh();qh();yw()});function Gh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $h(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Mu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Uh(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,o=e.days,i=e.shortDays,u=e.months,f=e.shortMonths,c=Au(a),h=Cu(a),v=Au(o),b=Cu(o),M=Au(i),A=Cu(i),D=Au(u),C=Cu(u),N=Au(f),O=Cu(f),B={a:X,A:ee,b:J,B:K,c:null,d:Tw,e:Tw,f:fV,g:bV,G:wV,H:iV,I:uV,j:lV,L:Ew,m:sV,M:cV,p:le,q:ce,Q:Dw,s:Nw,S:dV,u:mV,U:hV,V:pV,w:gV,W:vV,x:null,X:null,y:xV,Y:yV,Z:_V,"%":Vw},L={a:ne,A:me,b:Me,B:Oe,c:null,d:kw,e:kw,f:CV,g:zV,G:OV,H:SV,I:MV,j:AV,L:Lw,m:TV,M:kV,p:De,q:Ue,Q:Dw,s:Nw,S:VV,u:DV,U:NV,V:EV,w:PV,W:LV,x:null,X:null,y:IV,Y:RV,Z:BV,"%":Vw},P={a:re,A:U,b:oe,B:Z,c:H,d:Aw,e:Aw,f:nV,g:Mw,G:Sw,H:Cw,I:Cw,j:Zk,L:tV,m:Kk,M:Jk,p:ue,q:Qk,Q:aV,s:oV,S:eV,u:Gk,U:$k,V:Uk,w:qk,W:Xk,x:te,X:j,y:Mw,Y:Sw,Z:jk,"%":rV};B.x=R(n,B),B.X=R(r,B),B.c=R(t,B),L.x=R(n,L),L.X=R(r,L),L.c=R(t,L);function R(se,_e){return function(be){var ie=[],Xe=-1,Be=0,vt=se.length,rt,xe,Qe;for(be instanceof Date||(be=new Date(+be));++Xe<vt;)se.charCodeAt(Xe)===37&&(ie.push(se.slice(Be,Xe)),(xe=_w[rt=se.charAt(++Xe)])!=null?rt=se.charAt(++Xe):xe=rt==="e"?" ":"0",(Qe=_e[rt])&&(rt=Qe(be,xe)),ie.push(rt),Be=Xe+1);return ie.push(se.slice(Be,Xe)),ie.join("")}}function G(se,_e){return function(be){var ie=Mu(1900,void 0,1),Xe=$(ie,se,be+="",0),Be,vt;if(Xe!=be.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(_e&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(Be=$h(Mu(ie.y,0,1)),vt=Be.getUTCDay(),Be=vt>4||vt===0?Oa.ceil(Be):Oa(Be),Be=vr.offset(Be,(ie.V-1)*7),ie.y=Be.getUTCFullYear(),ie.m=Be.getUTCMonth(),ie.d=Be.getUTCDate()+(ie.w+6)%7):(Be=Gh(Mu(ie.y,0,1)),vt=Be.getDay(),Be=vt>4||vt===0?za.ceil(Be):za(Be),Be=pr.offset(Be,(ie.V-1)*7),ie.y=Be.getFullYear(),ie.m=Be.getMonth(),ie.d=Be.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),vt="Z"in ie?$h(Mu(ie.y,0,1)).getUTCDay():Gh(Mu(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(vt+5)%7:ie.w+ie.U*7-(vt+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,$h(ie)):Gh(ie)}}function $(se,_e,be,ie){for(var Xe=0,Be=_e.length,vt=be.length,rt,xe;Xe<Be;){if(ie>=vt)return-1;if(rt=_e.charCodeAt(Xe++),rt===37){if(rt=_e.charAt(Xe++),xe=P[rt in _w?_e.charAt(Xe++):rt],!xe||(ie=xe(se,be,ie))<0)return-1}else if(rt!=be.charCodeAt(ie++))return-1}return ie}function ue(se,_e,be){var ie=c.exec(_e.slice(be));return ie?(se.p=h.get(ie[0].toLowerCase()),be+ie[0].length):-1}function re(se,_e,be){var ie=M.exec(_e.slice(be));return ie?(se.w=A.get(ie[0].toLowerCase()),be+ie[0].length):-1}function U(se,_e,be){var ie=v.exec(_e.slice(be));return ie?(se.w=b.get(ie[0].toLowerCase()),be+ie[0].length):-1}function oe(se,_e,be){var ie=N.exec(_e.slice(be));return ie?(se.m=O.get(ie[0].toLowerCase()),be+ie[0].length):-1}function Z(se,_e,be){var ie=D.exec(_e.slice(be));return ie?(se.m=C.get(ie[0].toLowerCase()),be+ie[0].length):-1}function H(se,_e,be){return $(se,t,_e,be)}function te(se,_e,be){return $(se,n,_e,be)}function j(se,_e,be){return $(se,r,_e,be)}function X(se){return i[se.getDay()]}function ee(se){return o[se.getDay()]}function J(se){return f[se.getMonth()]}function K(se){return u[se.getMonth()]}function le(se){return a[+(se.getHours()>=12)]}function ce(se){return 1+~~(se.getMonth()/3)}function ne(se){return i[se.getUTCDay()]}function me(se){return o[se.getUTCDay()]}function Me(se){return f[se.getUTCMonth()]}function Oe(se){return u[se.getUTCMonth()]}function De(se){return a[+(se.getUTCHours()>=12)]}function Ue(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var _e=R(se+="",B);return _e.toString=function(){return se},_e},parse:function(se){var _e=G(se+="",!1);return _e.toString=function(){return se},_e},utcFormat:function(se){var _e=R(se+="",L);return _e.toString=function(){return se},_e},utcParse:function(se){var _e=G(se+="",!0);return _e.toString=function(){return se},_e}}}function He(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(t)+a:a)}function Wk(e){return e.replace(Yk,"\\$&")}function Au(e){return new RegExp("^(?:"+e.map(Wk).join("|")+")","i")}function Cu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function qk(e,t,n){var r=ct.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Gk(e,t,n){var r=ct.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function $k(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Uk(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Xk(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Sw(e,t,n){var r=ct.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Mw(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function jk(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Qk(e,t,n){var r=ct.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Kk(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Aw(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Zk(e,t,n){var r=ct.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Cw(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Jk(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function eV(e,t,n){var r=ct.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function tV(e,t,n){var r=ct.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function nV(e,t,n){var r=ct.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function rV(e,t,n){var r=Hk.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function aV(e,t,n){var r=ct.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function oV(e,t,n){var r=ct.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Tw(e,t){return He(e.getDate(),t,2)}function iV(e,t){return He(e.getHours(),t,2)}function uV(e,t){return He(e.getHours()%12||12,t,2)}function lV(e,t){return He(1+pr.count(cn(e),e),t,3)}function Ew(e,t){return He(e.getMilliseconds(),t,3)}function fV(e,t){return Ew(e,t)+"000"}function sV(e,t){return He(e.getMonth()+1,t,2)}function cV(e,t){return He(e.getMinutes(),t,2)}function dV(e,t){return He(e.getSeconds(),t,2)}function mV(e){var t=e.getDay();return t===0?7:t}function hV(e,t){return He(Gn.count(cn(e)-1,e),t,2)}function Pw(e){var t=e.getDay();return t>=4||t===0?gr(e):gr.ceil(e)}function pV(e,t){return e=Pw(e),He(gr.count(cn(e),e)+(cn(e).getDay()===4),t,2)}function gV(e){return e.getDay()}function vV(e,t){return He(za.count(cn(e)-1,e),t,2)}function xV(e,t){return He(e.getFullYear()%100,t,2)}function bV(e,t){return e=Pw(e),He(e.getFullYear()%100,t,2)}function yV(e,t){return He(e.getFullYear()%1e4,t,4)}function wV(e,t){var n=e.getDay();return e=n>=4||n===0?gr(e):gr.ceil(e),He(e.getFullYear()%1e4,t,4)}function _V(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+He(t/60|0,"0",2)+He(t%60,"0",2)}function kw(e,t){return He(e.getUTCDate(),t,2)}function SV(e,t){return He(e.getUTCHours(),t,2)}function MV(e,t){return He(e.getUTCHours()%12||12,t,2)}function AV(e,t){return He(1+vr.count(dn(e),e),t,3)}function Lw(e,t){return He(e.getUTCMilliseconds(),t,3)}function CV(e,t){return Lw(e,t)+"000"}function TV(e,t){return He(e.getUTCMonth()+1,t,2)}function kV(e,t){return He(e.getUTCMinutes(),t,2)}function VV(e,t){return He(e.getUTCSeconds(),t,2)}function DV(e){var t=e.getUTCDay();return t===0?7:t}function NV(e,t){return He($n.count(dn(e)-1,e),t,2)}function Iw(e){var t=e.getUTCDay();return t>=4||t===0?xr(e):xr.ceil(e)}function EV(e,t){return e=Iw(e),He(xr.count(dn(e),e)+(dn(e).getUTCDay()===4),t,2)}function PV(e){return e.getUTCDay()}function LV(e,t){return He(Oa.count(dn(e)-1,e),t,2)}function IV(e,t){return He(e.getUTCFullYear()%100,t,2)}function zV(e,t){return e=Iw(e),He(e.getUTCFullYear()%100,t,2)}function RV(e,t){return He(e.getUTCFullYear()%1e4,t,4)}function OV(e,t){var n=e.getUTCDay();return e=n>=4||n===0?xr(e):xr.ceil(e),He(e.getUTCFullYear()%1e4,t,4)}function BV(){return"+0000"}function Vw(){return"%"}function Dw(e){return+e}function Nw(e){return Math.floor(+e/1e3)}var _w,ct,Hk,Yk,zw=k(()=>{qo();_w={"-":"",_:" ",0:"0"},ct=/^\s*\d+/,Hk=/^%/,Yk=/[\\^$*+?|[\]().{}]/g});function Xh(e){return Go=Uh(e),Sf=Go.format,Rw=Go.parse,Mf=Go.utcFormat,Ow=Go.utcParse,Go}var Go,Sf,Rw,Mf,Ow,Bw=k(()=>{zw();Xh({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})});var Af=k(()=>{Bw()});function FV(e){return new Date(e)}function HV(e){return e instanceof Date?+e:+new Date(+e)}function Cf(e,t,n,r,a,o,i,u,f,c){var h=Na(),v=h.invert,b=h.domain,M=c(".%L"),A=c(":%S"),D=c("%I:%M"),C=c("%I %p"),N=c("%a %d"),O=c("%b %d"),B=c("%B"),L=c("%Y");function P(R){return(f(R)<R?M:u(R)<R?A:i(R)<R?D:o(R)<R?C:r(R)<R?a(R)<R?N:O:n(R)<R?B:L)(R)}return h.invert=function(R){return new Date(v(R))},h.domain=function(R){return arguments.length?b(Array.from(R,HV)):b().map(FV)},h.ticks=function(R){var G=b();return e(G[0],G[G.length-1],R??10)},h.tickFormat=function(R,G){return G==null?P:c(G)},h.nice=function(R){var G=b();return(!R||typeof R.range!="function")&&(R=t(G[0],G[G.length-1],R??10)),R?b(xu(G,R)):h},h.copy=function(){return On(h,Cf(e,t,n,r,a,o,i,u,f,c))},h}function Tu(){return Ze.apply(Cf(wf,_f,cn,Fo,Gn,pr,Bo,Oo,sn,Sf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var jh=k(()=>{qo();Af();Bn();Ct();mh()});function Qh(){return Ze.apply(Cf(bf,yf,dn,Wo,$n,vr,Yo,Ho,sn,Mf).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}var Fw=k(()=>{qo();Af();jh();Ct()});function Tf(){var e=0,t=1,n,r,a,o,i=ut,u=!1,f;function c(v){return v==null||isNaN(v=+v)?f:i(a===0?.5:(v=(o(v)-n)*a,u?Math.max(0,Math.min(1,v)):v))}c.domain=function(v){return arguments.length?([e,t]=v,n=o(e=+e),r=o(t=+t),a=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(v){return arguments.length?(u=!!v,c):u},c.interpolator=function(v){return arguments.length?(i=v,c):i};function h(v){return function(b){var M,A;return arguments.length?([M,A]=b,i=v(M,A),c):[i(0),i(1)]}}return c.range=h(nt),c.rangeRound=h(Va),c.unknown=function(v){return arguments.length?(f=v,c):f},function(v){return o=v,n=v(e),r=v(t),a=n===r?0:1/(r-n),c}}function br(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $o(){var e=Ft(Tf()(ut));return e.copy=function(){return br(e,$o())},ln.apply(e,arguments)}function Kh(){var e=bu(Tf()).domain([1,10]);return e.copy=function(){return br(e,Kh()).base(e.base())},ln.apply(e,arguments)}function Zh(){var e=yu(Tf());return e.copy=function(){return br(e,Zh()).constant(e.constant())},ln.apply(e,arguments)}function kf(){var e=wu(Tf());return e.copy=function(){return br(e,kf()).exponent(e.exponent())},ln.apply(e,arguments)}function Hw(){return kf.apply(null,arguments).exponent(.5)}var Jh=k(()=>{Zt();Bn();Ct();hr();uf();ff();sf()});function Vf(){var e=[],t=ut;function n(r){if(r!=null&&!isNaN(r=+r))return t((Mn(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort($t),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,o)=>Gl(e,o/r))},n.copy=function(){return Vf(t).domain(e)},ln.apply(n,arguments)}var Yw=k(()=>{An();Bn();Ct()});function Df(){var e=0,t=.5,n=1,r=1,a,o,i,u,f,c=ut,h,v=!1,b;function M(D){return isNaN(D=+D)?b:(D=.5+((D=+h(D))-o)*(r*D<r*o?u:f),c(v?Math.max(0,Math.min(1,D)):D))}M.domain=function(D){return arguments.length?([e,t,n]=D,a=h(e=+e),o=h(t=+t),i=h(n=+n),u=a===o?0:.5/(o-a),f=o===i?0:.5/(i-o),r=o<a?-1:1,M):[e,t,n]},M.clamp=function(D){return arguments.length?(v=!!D,M):v},M.interpolator=function(D){return arguments.length?(c=D,M):c};function A(D){return function(C){var N,O,B;return arguments.length?([N,O,B]=C,c=Zl(D,[N,O,B]),M):[c(0),c(.5),c(1)]}}return M.range=A(nt),M.rangeRound=A(Va),M.unknown=function(D){return arguments.length?(b=D,M):b},function(D){return h=D,a=D(e),o=D(t),i=D(n),u=a===o?0:.5/(o-a),f=o===i?0:.5/(i-o),r=o<a?-1:1,M}}function Nf(){var e=Ft(Df()(ut));return e.copy=function(){return br(e,Nf())},ln.apply(e,arguments)}function ep(){var e=bu(Df()).domain([.1,1,10]);return e.copy=function(){return br(e,ep()).base(e.base())},ln.apply(e,arguments)}function tp(){var e=yu(Df());return e.copy=function(){return br(e,tp()).constant(e.constant())},ln.apply(e,arguments)}function Ef(){var e=wu(Df());return e.copy=function(){return br(e,Ef()).exponent(e.exponent())},ln.apply(e,arguments)}function Ww(){return Ef.apply(null,arguments).exponent(.5)}var qw=k(()=>{Zt();Bn();Ct();hr();uf();Jh();ff();sf()});var Gw={};At(Gw,{scaleBand:()=>Cn,scaleDiverging:()=>Nf,scaleDivergingLog:()=>ep,scaleDivergingPow:()=>Ef,scaleDivergingSqrt:()=>Ww,scaleDivergingSymlog:()=>tp,scaleIdentity:()=>af,scaleImplicit:()=>Ul,scaleLinear:()=>Wn,scaleLog:()=>of,scaleOrdinal:()=>fn,scalePoint:()=>lb,scalePow:()=>_u,scaleQuantile:()=>df,scaleQuantize:()=>mf,scaleRadial:()=>cf,scaleSequential:()=>$o,scaleSequentialLog:()=>Kh,scaleSequentialPow:()=>kf,scaleSequentialQuantile:()=>Vf,scaleSequentialSqrt:()=>Hw,scaleSequentialSymlog:()=>Zh,scaleSqrt:()=>Dy,scaleSymlog:()=>lf,scaleThreshold:()=>hf,scaleTime:()=>Tu,scaleUtc:()=>Qh,tickFormat:()=>vu});var np=k(()=>{fb();Sy();hr();uf();ff();Pm();sf();Ey();Py();Ly();Iy();jh();Fw();Jh();Yw();qw();dh()});var Pe,dt=k(()=>{Pe=Math.random});var $w,Uw=k(()=>{dt();$w=function e(t){function n(r,a){return r=r==null?0:+r,a=a==null?1:+a,arguments.length===1?(a=r,r=0):a-=r,function(){return t()*a+r}}return n.source=e,n}(Pe)});var Xw,jw=k(()=>{dt();Xw=function e(t){function n(r,a){return arguments.length<2&&(a=r,r=0),r=Math.floor(r),a=Math.floor(a)-r,function(){return Math.floor(t()*a+r)}}return n.source=e,n}(Pe)});var Uo,Pf=k(()=>{dt();Uo=function e(t){function n(r,a){var o,i;return r=r==null?0:+r,a=a==null?1:+a,function(){var u;if(o!=null)u=o,o=null;else do o=t()*2-1,u=t()*2-1,i=o*o+u*u;while(!i||i>1);return r+a*u*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(Pe)});var Qw,Kw=k(()=>{dt();Pf();Qw=function e(t){var n=Uo.source(t);function r(){var a=n.apply(this,arguments);return function(){return Math.exp(a())}}return r.source=e,r}(Pe)});var Lf,rp=k(()=>{dt();Lf=function e(t){function n(r){return(r=+r)<=0?()=>0:function(){for(var a=0,o=r;o>1;--o)a+=t();return a+o*t()}}return n.source=e,n}(Pe)});var Zw,Jw=k(()=>{dt();rp();Zw=function e(t){var n=Lf.source(t);function r(a){if((a=+a)==0)return t;var o=n(a);return function(){return o()/a}}return r.source=e,r}(Pe)});var e2,t2=k(()=>{dt();e2=function e(t){function n(r){return function(){return-Math.log1p(-t())/r}}return n.source=e,n}(Pe)});var n2,r2=k(()=>{dt();n2=function e(t){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-t(),r)}}return n.source=e,n}(Pe)});var a2,o2=k(()=>{dt();a2=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+r)}}return n.source=e,n}(Pe)});var If,ap=k(()=>{dt();If=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-t())/r)})}return n.source=e,n}(Pe)});var Xo,zf=k(()=>{dt();Pf();Xo=function e(t){var n=Uo.source(t)();function r(a,o){if((a=+a)<0)throw new RangeError("invalid k");if(a===0)return()=>0;if(o=o==null?1:+o,a===1)return()=>-Math.log1p(-t())*o;var i=(a<1?a+1:a)-1/3,u=1/(3*Math.sqrt(i)),f=a<1?()=>Math.pow(t(),1/a):()=>1;return function(){do{do var c=n(),h=1+u*c;while(h<=0);h*=h*h;var v=1-t()}while(v>=1-.0331*c*c*c*c&&Math.log(v)>=.5*c*c+i*(1-h+Math.log(h)));return i*h*f()*o}}return r.source=e,r}(Pe)});var Rf,op=k(()=>{dt();zf();Rf=function e(t){var n=Xo.source(t);function r(a,o){var i=n(a),u=n(o);return function(){var f=i();return f===0?0:f/(f+u())}}return r.source=e,r}(Pe)});var Of,ip=k(()=>{dt();op();ap();Of=function e(t){var n=If.source(t),r=Rf.source(t);function a(o,i){return o=+o,(i=+i)>=1?()=>o:i<=0?()=>0:function(){for(var u=0,f=o,c=i;f*c>16&&f*(1-c)>16;){var h=Math.floor((f+1)*c),v=r(h,f-h+1)();v<=c?(u+=h,f-=h,c=(c-v)/(1-v)):(f=h-1,c/=v)}for(var b=c<.5,M=b?c:1-c,A=n(M),D=A(),C=0;D<=f;++C)D+=A();return u+(b?C:f-C)}}return a.source=e,a}(Pe)});var i2,u2=k(()=>{dt();i2=function e(t){function n(r,a,o){var i;return(r=+r)==0?i=u=>-Math.log(u):(r=1/r,i=u=>Math.pow(u,r)),a=a==null?0:+a,o=o==null?1:+o,function(){return a+o*i(-Math.log1p(-t()))}}return n.source=e,n}(Pe)});var l2,f2=k(()=>{dt();l2=function e(t){function n(r,a){return r=r==null?0:+r,a=a==null?1:+a,function(){return r+a*Math.tan(Math.PI*t())}}return n.source=e,n}(Pe)});var s2,c2=k(()=>{dt();s2=function e(t){function n(r,a){return r=r==null?0:+r,a=a==null?1:+a,function(){var o=t();return r+a*Math.log(o/(1-o))}}return n.source=e,n}(Pe)});var d2,m2=k(()=>{dt();ip();zf();d2=function e(t){var n=Xo.source(t),r=Of.source(t);function a(o){return function(){for(var i=0,u=o;u>16;){var f=Math.floor(.875*u),c=n(f)();if(c>u)return i+r(f-1,u/c)();i+=f,u-=c}for(var h=-Math.log1p(-t()),v=0;h<=u;++v)h-=Math.log1p(-t());return i+v}}return a.source=e,a}(Pe)});function up(e=Math.random()){let t=(0<=e&&e<1?e/h2:Math.abs(e))|0;return()=>(t=1664525*t+1013904223|0,h2*(t>>>0))}var h2,p2=k(()=>{h2=23283064365386963e-26});var g2={};At(g2,{randomBates:()=>Zw,randomBernoulli:()=>a2,randomBeta:()=>Rf,randomBinomial:()=>Of,randomCauchy:()=>l2,randomExponential:()=>e2,randomGamma:()=>Xo,randomGeometric:()=>If,randomInt:()=>Xw,randomIrwinHall:()=>Lf,randomLcg:()=>up,randomLogNormal:()=>Qw,randomLogistic:()=>s2,randomNormal:()=>Uo,randomPareto:()=>n2,randomPoisson:()=>d2,randomUniform:()=>$w,randomWeibull:()=>i2});var lp=k(()=>{Uw();jw();Pf();Kw();Jw();rp();t2();r2();o2();ap();ip();zf();op();u2();f2();c2();m2();p2()});function YV(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function v2(e,t){return fetch(e,t).then(YV)}var x2=k(()=>{});function WV(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function b2(e,t){return fetch(e,t).then(WV)}var y2=k(()=>{});function S2(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function qV(e,t){var n=S2(e);return function(r,a){return t(n(r),a,e)}}function _2(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var a in r)a in t||n.push(t[a]=a)}),n}function Ut(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function GV(e){return e<0?"-"+Ut(-e,6):e>9999?"+"+Ut(e,6):Ut(e,4)}function $V(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":GV(e.getUTCFullYear(),4)+"-"+Ut(e.getUTCMonth()+1,2)+"-"+Ut(e.getUTCDate(),2)+(a?"T"+Ut(t,2)+":"+Ut(n,2)+":"+Ut(r,2)+"."+Ut(a,3)+"Z":r?"T"+Ut(t,2)+":"+Ut(n,2)+":"+Ut(r,2)+"Z":n||t?"T"+Ut(t,2)+":"+Ut(n,2)+"Z":"")}function Ba(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(v,b){var M,A,D=a(v,function(C,N){if(M)return M(C,N-1);A=C,M=b?qV(C,b):S2(C)});return D.columns=A||[],D}function a(v,b){var M=[],A=v.length,D=0,C=0,N,O=A<=0,B=!1;v.charCodeAt(A-1)===ku&&--A,v.charCodeAt(A-1)===cp&&--A;function L(){if(O)return fp;if(B)return B=!1,w2;var R,G=D,$;if(v.charCodeAt(G)===sp){for(;D++<A&&v.charCodeAt(D)!==sp||v.charCodeAt(++D)===sp;);return(R=D)>=A?O=!0:($=v.charCodeAt(D++))===ku?B=!0:$===cp&&(B=!0,v.charCodeAt(D)===ku&&++D),v.slice(G+1,R-1).replace(/""/g,'"')}for(;D<A;){if(($=v.charCodeAt(R=D++))===ku)B=!0;else if($===cp)B=!0,v.charCodeAt(D)===ku&&++D;else if($!==n)continue;return v.slice(G,R)}return O=!0,v.slice(G,A)}for(;(N=L())!==fp;){for(var P=[];N!==w2&&N!==fp;)P.push(N),N=L();b&&(P=b(P,C++))==null||M.push(P)}return M}function o(v,b){return v.map(function(M){return b.map(function(A){return h(M[A])}).join(e)})}function i(v,b){return b==null&&(b=_2(v)),[b.map(h).join(e)].concat(o(v,b)).join(`
`)}function u(v,b){return b==null&&(b=_2(v)),o(v,b).join(`
`)}function f(v){return v.map(c).join(`
`)}function c(v){return v.map(h).join(e)}function h(v){return v==null?"":v instanceof Date?$V(v):t.test(v+="")?'"'+v.replace(/"/g,'""')+'"':v}return{parse:r,parseRows:a,format:i,formatBody:u,formatRows:f,formatRow:c,formatValue:h}}var w2,fp,sp,ku,cp,Bf=k(()=>{w2={},fp={},sp=34,ku=10,cp=13});var Fa,dp,UV,XV,jV,QV,KV,ZV,M2=k(()=>{Bf();Fa=Ba(","),dp=Fa.parse,UV=Fa.parseRows,XV=Fa.format,jV=Fa.formatBody,QV=Fa.formatRows,KV=Fa.formatRow,ZV=Fa.formatValue});var Ha,mp,JV,eD,tD,nD,rD,aD,A2=k(()=>{Bf();Ha=Ba("	"),mp=Ha.parse,JV=Ha.parseRows,eD=Ha.format,tD=Ha.formatBody,nD=Ha.formatRows,rD=Ha.formatRow,aD=Ha.formatValue});var hp=k(()=>{Bf();M2();A2()});function oD(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Ya(e,t){return fetch(e,t).then(oD)}var Ff=k(()=>{});function C2(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Ya(t,n).then(function(a){return e(a,r)})}}function pp(e,t,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var a=Ba(e);return Ya(t,n).then(function(o){return a.parse(o,r)})}var T2,k2,V2=k(()=>{hp();Ff();T2=C2(dp),k2=C2(mp)});function D2(e,t){return new Promise(function(n,r){var a=new Image;for(var o in t)a[o]=t[o];a.onerror=r,a.onload=function(){n(a)},a.src=e})}var N2=k(()=>{});function iD(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function E2(e,t){return fetch(e,t).then(iD)}var P2=k(()=>{});function gp(e){return(t,n)=>Ya(t,n).then(r=>new DOMParser().parseFromString(r,e))}var L2,I2,z2,R2=k(()=>{Ff();L2=gp("application/xml"),I2=gp("text/html"),z2=gp("image/svg+xml")});var O2={};At(O2,{blob:()=>v2,buffer:()=>b2,csv:()=>T2,dsv:()=>pp,html:()=>I2,image:()=>D2,json:()=>E2,svg:()=>z2,text:()=>Ya,tsv:()=>k2,xml:()=>L2});var vp=k(()=>{x2();y2();V2();N2();P2();Ff();R2()});function yp(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function B2(){return new yp}var xp,bp,Wa,uD,mn,F2=k(()=>{xp=Math.PI,bp=2*xp,Wa=1e-6,uD=bp-Wa;yp.prototype=B2.prototype={constructor:yp,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,a,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+o)},arcTo:function(e,t,n,r,a){e=+e,t=+t,n=+n,r=+r,a=+a;var o=this._x1,i=this._y1,u=n-e,f=r-t,c=o-e,h=i-t,v=c*c+h*h;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(v>Wa)if(!(Math.abs(h*u-f*c)>Wa)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var b=n-o,M=r-i,A=u*u+f*f,D=b*b+M*M,C=Math.sqrt(A),N=Math.sqrt(v),O=a*Math.tan((xp-Math.acos((A+v-D)/(2*C*N)))/2),B=O/N,L=O/C;Math.abs(B-1)>Wa&&(this._+="L"+(e+B*c)+","+(t+B*h)),this._+="A"+a+","+a+",0,0,"+ +(h*b>c*M)+","+(this._x1=e+L*u)+","+(this._y1=t+L*f)}},arc:function(e,t,n,r,a,o){e=+e,t=+t,n=+n,o=!!o;var i=n*Math.cos(r),u=n*Math.sin(r),f=e+i,c=t+u,h=1^o,v=o?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+f+","+c:(Math.abs(this._x1-f)>Wa||Math.abs(this._y1-c)>Wa)&&(this._+="L"+f+","+c),n&&(v<0&&(v=v%bp+bp),v>uD?this._+="A"+n+","+n+",0,1,"+h+","+(e-i)+","+(t-u)+"A"+n+","+n+",0,1,"+h+","+(this._x1=f)+","+(this._y1=c):v>Wa&&(this._+="A"+n+","+n+",0,"+ +(v>=xp)+","+h+","+(this._x1=e+n*Math.cos(a))+","+(this._y1=t+n*Math.sin(a))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};mn=B2});var H2={};At(H2,{path:()=>mn});var Fr=k(()=>{F2()});var Hf,Vu,Yf=k(()=>{Hf="http://www.w3.org/1999/xhtml",Vu={svg:"http://www.w3.org/2000/svg",xhtml:Hf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function Un(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Vu.hasOwnProperty(t)?{space:Vu[t],local:e}:e}var Wf=k(()=>{Yf()});function lD(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Hf&&t.documentElement.namespaceURI===Hf?t.createElement(e):t.createElementNS(n,e)}}function fD(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Hr(e){var t=Un(e);return(t.local?fD:lD)(t)}var Du=k(()=>{Wf();Yf()});function sD(){}function Yr(e){return e==null?sD:function(){return this.querySelector(e)}}var qf=k(()=>{});function Y2(e){typeof e!="function"&&(e=Yr(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],i=o.length,u=r[a]=new Array(i),f,c,h=0;h<i;++h)(f=o[h])&&(c=e.call(f,f.__data__,h,o))&&("__data__"in f&&(c.__data__=f.__data__),u[h]=c);return new je(r,this._parents)}var W2=k(()=>{hn();qf()});function Nu(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}var wp=k(()=>{});function cD(){return[]}function jo(e){return e==null?cD:function(){return this.querySelectorAll(e)}}var _p=k(()=>{});function dD(e){return function(){return Nu(e.apply(this,arguments))}}function q2(e){typeof e=="function"?e=dD(e):e=jo(e);for(var t=this._groups,n=t.length,r=[],a=[],o=0;o<n;++o)for(var i=t[o],u=i.length,f,c=0;c<u;++c)(f=i[c])&&(r.push(e.call(f,f.__data__,c,i)),a.push(f));return new je(r,a)}var G2=k(()=>{hn();wp();_p()});function Qo(e){return function(){return this.matches(e)}}function Gf(e){return function(t){return t.matches(e)}}var Eu=k(()=>{});function hD(e){return function(){return mD.call(this.children,e)}}function pD(){return this.firstElementChild}function $2(e){return this.select(e==null?pD:hD(typeof e=="function"?e:Gf(e)))}var mD,U2=k(()=>{Eu();mD=Array.prototype.find});function vD(){return Array.from(this.children)}function xD(e){return function(){return gD.call(this.children,e)}}function X2(e){return this.selectAll(e==null?vD:xD(typeof e=="function"?e:Gf(e)))}var gD,j2=k(()=>{Eu();gD=Array.prototype.filter});function Q2(e){typeof e!="function"&&(e=Qo(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],i=o.length,u=r[a]=[],f,c=0;c<i;++c)(f=o[c])&&e.call(f,f.__data__,c,o)&&u.push(f);return new je(r,this._parents)}var K2=k(()=>{hn();Eu()});function $f(e){return new Array(e.length)}var Sp=k(()=>{});function Z2(){return new je(this._enter||this._groups.map($f),this._parents)}function Pu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var Mp=k(()=>{Sp();hn();Pu.prototype={constructor:Pu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}});function J2(e){return function(){return e}}var e_=k(()=>{});function bD(e,t,n,r,a,o){for(var i=0,u,f=t.length,c=o.length;i<c;++i)(u=t[i])?(u.__data__=o[i],r[i]=u):n[i]=new Pu(e,o[i]);for(;i<f;++i)(u=t[i])&&(a[i]=u)}function yD(e,t,n,r,a,o,i){var u,f,c=new Map,h=t.length,v=o.length,b=new Array(h),M;for(u=0;u<h;++u)(f=t[u])&&(b[u]=M=i.call(f,f.__data__,u,t)+"",c.has(M)?a[u]=f:c.set(M,f));for(u=0;u<v;++u)M=i.call(e,o[u],u,o)+"",(f=c.get(M))?(r[u]=f,f.__data__=o[u],c.delete(M)):n[u]=new Pu(e,o[u]);for(u=0;u<h;++u)(f=t[u])&&c.get(b[u])===f&&(a[u]=f)}function wD(e){return e.__data__}function t_(e,t){if(!arguments.length)return Array.from(this,wD);var n=t?yD:bD,r=this._parents,a=this._groups;typeof e!="function"&&(e=J2(e));for(var o=a.length,i=new Array(o),u=new Array(o),f=new Array(o),c=0;c<o;++c){var h=r[c],v=a[c],b=v.length,M=_D(e.call(h,h&&h.__data__,c,r)),A=M.length,D=u[c]=new Array(A),C=i[c]=new Array(A),N=f[c]=new Array(b);n(h,v,D,C,N,M,t);for(var O=0,B=0,L,P;O<A;++O)if(L=D[O]){for(O>=B&&(B=O+1);!(P=C[B])&&++B<A;);L._next=P||null}}return i=new je(i,r),i._enter=u,i._exit=f,i}function _D(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var n_=k(()=>{hn();Mp();e_()});function r_(){return new je(this._exit||this._groups.map($f),this._parents)}var a_=k(()=>{Sp();hn()});function o_(e,t,n){var r=this.enter(),a=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?o.remove():n(o),r&&a?r.merge(a).order():a}var i_=k(()=>{});function u_(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,o=r.length,i=Math.min(a,o),u=new Array(a),f=0;f<i;++f)for(var c=n[f],h=r[f],v=c.length,b=u[f]=new Array(v),M,A=0;A<v;++A)(M=c[A]||h[A])&&(b[A]=M);for(;f<a;++f)u[f]=n[f];return new je(u,this._parents)}var l_=k(()=>{hn()});function f_(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,o=r[a],i;--a>=0;)(i=r[a])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}var s_=k(()=>{});function c_(e){e||(e=SD);function t(v,b){return v&&b?e(v.__data__,b.__data__):!v-!b}for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o){for(var i=n[o],u=i.length,f=a[o]=new Array(u),c,h=0;h<u;++h)(c=i[h])&&(f[h]=c);f.sort(t)}return new je(a,this._parents).order()}function SD(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var d_=k(()=>{hn()});function m_(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var h_=k(()=>{});function p_(){return Array.from(this)}var g_=k(()=>{});function v_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var i=r[a];if(i)return i}return null}var x_=k(()=>{});function b_(){let e=0;for(let t of this)++e;return e}var y_=k(()=>{});function w_(){return!this.node()}var __=k(()=>{});function S_(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],o=0,i=a.length,u;o<i;++o)(u=a[o])&&e.call(u,u.__data__,o,a);return this}var M_=k(()=>{});function MD(e){return function(){this.removeAttribute(e)}}function AD(e){return function(){this.removeAttributeNS(e.space,e.local)}}function CD(e,t){return function(){this.setAttribute(e,t)}}function TD(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function kD(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function VD(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function A_(e,t){var n=Un(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?AD:MD:typeof t=="function"?n.local?VD:kD:n.local?TD:CD)(n,t))}var C_=k(()=>{Wf()});function Ko(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var Uf=k(()=>{});function DD(e){return function(){this.style.removeProperty(e)}}function ND(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ED(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function T_(e,t,n){return arguments.length>1?this.each((t==null?DD:typeof t=="function"?ED:ND)(e,t,n??"")):yr(this.node(),e)}function yr(e,t){return e.style.getPropertyValue(t)||Ko(e).getComputedStyle(e,null).getPropertyValue(t)}var Ap=k(()=>{Uf()});function PD(e){return function(){delete this[e]}}function LD(e,t){return function(){this[e]=t}}function ID(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function k_(e,t){return arguments.length>1?this.each((t==null?PD:typeof t=="function"?ID:LD)(e,t)):this.node()[e]}var V_=k(()=>{});function D_(e){return e.trim().split(/^|\s+/)}function Cp(e){return e.classList||new N_(e)}function N_(e){this._node=e,this._names=D_(e.getAttribute("class")||"")}function E_(e,t){for(var n=Cp(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function P_(e,t){for(var n=Cp(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function zD(e){return function(){E_(this,e)}}function RD(e){return function(){P_(this,e)}}function OD(e,t){return function(){(t.apply(this,arguments)?E_:P_)(this,e)}}function L_(e,t){var n=D_(e+"");if(arguments.length<2){for(var r=Cp(this.node()),a=-1,o=n.length;++a<o;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?OD:t?zD:RD)(n,t))}var I_=k(()=>{N_.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}});function BD(){this.textContent=""}function FD(e){return function(){this.textContent=e}}function HD(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function z_(e){return arguments.length?this.each(e==null?BD:(typeof e=="function"?HD:FD)(e)):this.node().textContent}var R_=k(()=>{});function YD(){this.innerHTML=""}function WD(e){return function(){this.innerHTML=e}}function qD(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function O_(e){return arguments.length?this.each(e==null?YD:(typeof e=="function"?qD:WD)(e)):this.node().innerHTML}var B_=k(()=>{});function GD(){this.nextSibling&&this.parentNode.appendChild(this)}function F_(){return this.each(GD)}var H_=k(()=>{});function $D(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Y_(){return this.each($D)}var W_=k(()=>{});function q_(e){var t=typeof e=="function"?e:Hr(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var G_=k(()=>{Du()});function UD(){return null}function $_(e,t){var n=typeof e=="function"?e:Hr(e),r=t==null?UD:typeof t=="function"?t:Yr(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}var U_=k(()=>{Du();qf()});function XD(){var e=this.parentNode;e&&e.removeChild(this)}function X_(){return this.each(XD)}var j_=k(()=>{});function jD(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function QD(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Q_(e){return this.select(e?QD:jD)}var K_=k(()=>{});function Z_(e){return arguments.length?this.property("__data__",e):this.node().__data__}var J_=k(()=>{});function KD(e){return function(t){e.call(this,t,this.__data__)}}function ZD(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function JD(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,a=t.length,o;n<a;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function eN(e,t,n){return function(){var r=this.__on,a,o=KD(t);if(r){for(var i=0,u=r.length;i<u;++i)if((a=r[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=n),a.value=t;return}}this.addEventListener(e.type,o,n),a={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(a):this.__on=[a]}}function eS(e,t,n){var r=ZD(e+""),a,o=r.length,i;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,c=u.length,h;f<c;++f)for(a=0,h=u[f];a<o;++a)if((i=r[a]).type===h.type&&i.name===h.name)return h.value}return}for(u=t?eN:JD,a=0;a<o;++a)this.each(u(r[a],t,n));return this}var tS=k(()=>{});function nS(e,t,n){var r=Ko(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function tN(e,t){return function(){return nS(this,e,t)}}function nN(e,t){return function(){return nS(this,e,t.apply(this,arguments))}}function rS(e,t){return this.each((typeof t=="function"?nN:tN)(e,t))}var aS=k(()=>{Uf()});function*oS(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length,i;a<o;++a)(i=r[a])&&(yield i)}var iS=k(()=>{});function je(e,t){this._groups=e,this._parents=t}function uS(){return new je([[document.documentElement]],Lu)}function rN(){return this}var Lu,Xn,hn=k(()=>{W2();G2();U2();j2();K2();n_();Mp();a_();i_();l_();s_();d_();h_();g_();x_();y_();__();M_();C_();Ap();V_();I_();R_();B_();H_();W_();G_();U_();j_();K_();J_();tS();aS();iS();Lu=[null];je.prototype=uS.prototype={constructor:je,select:Y2,selectAll:q2,selectChild:$2,selectChildren:X2,filter:Q2,data:t_,enter:Z2,exit:r_,join:o_,merge:u_,selection:rN,order:f_,sort:c_,call:m_,nodes:p_,node:v_,size:b_,empty:w_,each:S_,attr:A_,style:T_,property:k_,classed:L_,text:z_,html:O_,raise:F_,lower:Y_,append:q_,insert:$_,remove:X_,clone:Q_,datum:Z_,on:eS,dispatch:rS,[Symbol.iterator]:oS};Xn=uS});function fe(e){return typeof e=="string"?new je([[document.querySelector(e)]],[document.documentElement]):new je([[e]],Lu)}var Tp=k(()=>{hn()});function lS(e){return fe(Hr(e).call(document.documentElement))}var fS=k(()=>{Du();Tp()});function Xf(){return new kp}function kp(){this._="@"+(++aN).toString(36)}var aN,sS=k(()=>{aN=0;kp.prototype=Xf.prototype={constructor:kp,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}});function jf(e){let t;for(;t=e.sourceEvent;)e=t;return e}var Vp=k(()=>{});function mt(e,t){if(e=jf(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}var Dp=k(()=>{Vp()});function cS(e,t){return e.target&&(e=jf(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,n=>mt(n,t))}var dS=k(()=>{Dp();Vp()});function Qf(e){return typeof e=="string"?new je([document.querySelectorAll(e)],[document.documentElement]):new je([Nu(e)],Lu)}var mS=k(()=>{wp();hn()});var hS={};At(hS,{create:()=>lS,creator:()=>Hr,local:()=>Xf,matcher:()=>Qo,namespace:()=>Un,namespaces:()=>Vu,pointer:()=>mt,pointers:()=>cS,select:()=>fe,selectAll:()=>Qf,selection:()=>Xn,selector:()=>Yr,selectorAll:()=>jo,style:()=>yr,window:()=>Ko});var Dt=k(()=>{fS();Du();sS();Eu();Wf();Yf();Dp();dS();Tp();mS();hn();qf();_p();Ap();Uf()});function we(e){return function(){return e}}var Wr=k(()=>{});function gS(e){return e>1?0:e<-1?kn:Math.acos(e)}function Ep(e){return e>=1?Iu:e<=-1?-Iu:Math.asin(e)}var Np,_t,qr,pS,Kf,Tn,qa,ht,kn,Iu,pn,Zo=k(()=>{Np=Math.abs,_t=Math.atan2,qr=Math.cos,pS=Math.max,Kf=Math.min,Tn=Math.sin,qa=Math.sqrt,ht=1e-12,kn=Math.PI,Iu=kn/2,pn=2*kn});function oN(e){return e.innerRadius}function iN(e){return e.outerRadius}function uN(e){return e.startAngle}function lN(e){return e.endAngle}function fN(e){return e&&e.padAngle}function sN(e,t,n,r,a,o,i,u){var f=n-e,c=r-t,h=i-a,v=u-o,b=v*f-h*c;if(!(b*b<ht))return b=(h*(t-o)-v*(e-a))/b,[e+b*f,t+b*c]}function Zf(e,t,n,r,a,o,i){var u=e-n,f=t-r,c=(i?o:-o)/qa(u*u+f*f),h=c*f,v=-c*u,b=e+h,M=t+v,A=n+h,D=r+v,C=(b+A)/2,N=(M+D)/2,O=A-b,B=D-M,L=O*O+B*B,P=a-o,R=b*D-A*M,G=(B<0?-1:1)*qa(pS(0,P*P*L-R*R)),$=(R*B-O*G)/L,ue=(-R*O-B*G)/L,re=(R*B+O*G)/L,U=(-R*O+B*G)/L,oe=$-C,Z=ue-N,H=re-C,te=U-N;return oe*oe+Z*Z>H*H+te*te&&($=re,ue=U),{cx:$,cy:ue,x01:-h,y01:-v,x11:$*(a/P-1),y11:ue*(a/P-1)}}function Jf(){var e=oN,t=iN,n=we(0),r=null,a=uN,o=lN,i=fN,u=null;function f(){var c,h,v=+e.apply(this,arguments),b=+t.apply(this,arguments),M=a.apply(this,arguments)-Iu,A=o.apply(this,arguments)-Iu,D=Np(A-M),C=A>M;if(u||(u=c=mn()),b<v&&(h=b,b=v,v=h),!(b>ht))u.moveTo(0,0);else if(D>pn-ht)u.moveTo(b*qr(M),b*Tn(M)),u.arc(0,0,b,M,A,!C),v>ht&&(u.moveTo(v*qr(A),v*Tn(A)),u.arc(0,0,v,A,M,C));else{var N=M,O=A,B=M,L=A,P=D,R=D,G=i.apply(this,arguments)/2,$=G>ht&&(r?+r.apply(this,arguments):qa(v*v+b*b)),ue=Kf(Np(b-v)/2,+n.apply(this,arguments)),re=ue,U=ue,oe,Z;if($>ht){var H=Ep($/v*Tn(G)),te=Ep($/b*Tn(G));(P-=H*2)>ht?(H*=C?1:-1,B+=H,L-=H):(P=0,B=L=(M+A)/2),(R-=te*2)>ht?(te*=C?1:-1,N+=te,O-=te):(R=0,N=O=(M+A)/2)}var j=b*qr(N),X=b*Tn(N),ee=v*qr(L),J=v*Tn(L);if(ue>ht){var K=b*qr(O),le=b*Tn(O),ce=v*qr(B),ne=v*Tn(B),me;if(D<kn&&(me=sN(j,X,ce,ne,K,le,ee,J))){var Me=j-me[0],Oe=X-me[1],De=K-me[0],Ue=le-me[1],se=1/Tn(gS((Me*De+Oe*Ue)/(qa(Me*Me+Oe*Oe)*qa(De*De+Ue*Ue)))/2),_e=qa(me[0]*me[0]+me[1]*me[1]);re=Kf(ue,(v-_e)/(se-1)),U=Kf(ue,(b-_e)/(se+1))}}R>ht?U>ht?(oe=Zf(ce,ne,j,X,b,U,C),Z=Zf(K,le,ee,J,b,U,C),u.moveTo(oe.cx+oe.x01,oe.cy+oe.y01),U<ue?u.arc(oe.cx,oe.cy,U,_t(oe.y01,oe.x01),_t(Z.y01,Z.x01),!C):(u.arc(oe.cx,oe.cy,U,_t(oe.y01,oe.x01),_t(oe.y11,oe.x11),!C),u.arc(0,0,b,_t(oe.cy+oe.y11,oe.cx+oe.x11),_t(Z.cy+Z.y11,Z.cx+Z.x11),!C),u.arc(Z.cx,Z.cy,U,_t(Z.y11,Z.x11),_t(Z.y01,Z.x01),!C))):(u.moveTo(j,X),u.arc(0,0,b,N,O,!C)):u.moveTo(j,X),!(v>ht)||!(P>ht)?u.lineTo(ee,J):re>ht?(oe=Zf(ee,J,K,le,v,-re,C),Z=Zf(j,X,ce,ne,v,-re,C),u.lineTo(oe.cx+oe.x01,oe.cy+oe.y01),re<ue?u.arc(oe.cx,oe.cy,re,_t(oe.y01,oe.x01),_t(Z.y01,Z.x01),!C):(u.arc(oe.cx,oe.cy,re,_t(oe.y01,oe.x01),_t(oe.y11,oe.x11),!C),u.arc(0,0,v,_t(oe.cy+oe.y11,oe.cx+oe.x11),_t(Z.cy+Z.y11,Z.cx+Z.x11),C),u.arc(Z.cx,Z.cy,re,_t(Z.y11,Z.x11),_t(Z.y01,Z.x01),!C))):u.arc(0,0,v,L,B,C)}if(u.closePath(),c)return u=null,c+""||null}return f.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,h=(+a.apply(this,arguments)+ +o.apply(this,arguments))/2-kn/2;return[qr(h)*c,Tn(h)*c]},f.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:we(+c),f):e},f.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:we(+c),f):t},f.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:we(+c),f):n},f.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:we(+c),f):r},f.startAngle=function(c){return arguments.length?(a=typeof c=="function"?c:we(+c),f):a},f.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:we(+c),f):o},f.padAngle=function(c){return arguments.length?(i=typeof c=="function"?c:we(+c),f):i},f.context=function(c){return arguments.length?(u=c??null,f):u},f}var vS=k(()=>{Fr();Wr();Zo()});function Gr(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var xS,Jo=k(()=>{xS=Array.prototype.slice});function bS(e){this._context=e}function $r(e){return new bS(e)}var zu=k(()=>{bS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}}});function ei(e){return e[0]}function ti(e){return e[1]}var es=k(()=>{});function Ur(e,t){var n=we(!0),r=null,a=$r,o=null;e=typeof e=="function"?e:e===void 0?ei:we(e),t=typeof t=="function"?t:t===void 0?ti:we(t);function i(u){var f,c=(u=Gr(u)).length,h,v=!1,b;for(r==null&&(o=a(b=mn())),f=0;f<=c;++f)!(f<c&&n(h=u[f],f,u))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(h,f,u),+t(h,f,u));if(b)return o=null,b+""||null}return i.x=function(u){return arguments.length?(e=typeof u=="function"?u:we(+u),i):e},i.y=function(u){return arguments.length?(t=typeof u=="function"?u:we(+u),i):t},i.defined=function(u){return arguments.length?(n=typeof u=="function"?u:we(!!u),i):n},i.curve=function(u){return arguments.length?(a=u,r!=null&&(o=a(r)),i):a},i.context=function(u){return arguments.length?(u==null?r=o=null:o=a(r=u),i):r},i}var ts=k(()=>{Fr();Jo();Wr();zu();es()});function ns(e,t,n){var r=null,a=we(!0),o=null,i=$r,u=null;e=typeof e=="function"?e:e===void 0?ei:we(+e),t=typeof t=="function"?t:t===void 0?we(0):we(+t),n=typeof n=="function"?n:n===void 0?ti:we(+n);function f(h){var v,b,M,A=(h=Gr(h)).length,D,C=!1,N,O=new Array(A),B=new Array(A);for(o==null&&(u=i(N=mn())),v=0;v<=A;++v){if(!(v<A&&a(D=h[v],v,h))===C)if(C=!C)b=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),M=v-1;M>=b;--M)u.point(O[M],B[M]);u.lineEnd(),u.areaEnd()}C&&(O[v]=+e(D,v,h),B[v]=+t(D,v,h),u.point(r?+r(D,v,h):O[v],n?+n(D,v,h):B[v]))}if(N)return u=null,N+""||null}function c(){return Ur().defined(a).curve(i).context(o)}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:we(+h),r=null,f):e},f.x0=function(h){return arguments.length?(e=typeof h=="function"?h:we(+h),f):e},f.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:we(+h),f):r},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:we(+h),n=null,f):t},f.y0=function(h){return arguments.length?(t=typeof h=="function"?h:we(+h),f):t},f.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:we(+h),f):n},f.lineX0=f.lineY0=function(){return c().x(e).y(t)},f.lineY1=function(){return c().x(e).y(n)},f.lineX1=function(){return c().x(r).y(t)},f.defined=function(h){return arguments.length?(a=typeof h=="function"?h:we(!!h),f):a},f.curve=function(h){return arguments.length?(i=h,o!=null&&(u=i(o)),f):i},f.context=function(h){return arguments.length?(h==null?o=u=null:u=i(o=h),f):o},f}var Pp=k(()=>{Fr();Jo();Wr();zu();ts();es()});function yS(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}var wS=k(()=>{});function _S(e){return e}var SS=k(()=>{});function MS(){var e=_S,t=yS,n=null,r=we(0),a=we(pn),o=we(0);function i(u){var f,c=(u=Gr(u)).length,h,v,b=0,M=new Array(c),A=new Array(c),D=+r.apply(this,arguments),C=Math.min(pn,Math.max(-pn,a.apply(this,arguments)-D)),N,O=Math.min(Math.abs(C)/c,o.apply(this,arguments)),B=O*(C<0?-1:1),L;for(f=0;f<c;++f)(L=A[M[f]=f]=+e(u[f],f,u))>0&&(b+=L);for(t!=null?M.sort(function(P,R){return t(A[P],A[R])}):n!=null&&M.sort(function(P,R){return n(u[P],u[R])}),f=0,v=b?(C-c*B)/b:0;f<c;++f,D=N)h=M[f],L=A[h],N=D+(L>0?L*v:0)+B,A[h]={data:u[h],index:f,value:L,startAngle:D,endAngle:N,padAngle:O};return A}return i.value=function(u){return arguments.length?(e=typeof u=="function"?u:we(+u),i):e},i.sortValues=function(u){return arguments.length?(t=u,n=null,i):t},i.sort=function(u){return arguments.length?(n=u,t=null,i):n},i.startAngle=function(u){return arguments.length?(r=typeof u=="function"?u:we(+u),i):r},i.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:we(+u),i):a},i.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:we(+u),i):o},i}var AS=k(()=>{Jo();Wr();wS();SS();Zo()});function CS(e){this._curve=e}function ni(e){function t(n){return new CS(e(n))}return t._curve=e,t}var rs,Lp=k(()=>{zu();rs=ni($r);CS.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}}});function ri(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(ni(n)):t()._curve},e}function Ip(){return ri(Ur().curve(rs))}var zp=k(()=>{Lp();ts()});function Rp(){var e=ns().curve(rs),t=e.curve,n=e.lineX0,r=e.lineX1,a=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return ri(n())},delete e.lineX0,e.lineEndAngle=function(){return ri(r())},delete e.lineX1,e.lineInnerRadius=function(){return ri(a())},delete e.lineY0,e.lineOuterRadius=function(){return ri(o())},delete e.lineY1,e.curve=function(i){return arguments.length?t(ni(i)):t()._curve},e}var TS=k(()=>{Lp();Pp();zp()});function Ga(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}var Op=k(()=>{});function cN(e){return e.source}function dN(e){return e.target}function Bp(e){var t=cN,n=dN,r=ei,a=ti,o=null;function i(){var u,f=xS.call(arguments),c=t.apply(this,f),h=n.apply(this,f);if(o||(o=u=mn()),e(o,+r.apply(this,(f[0]=c,f)),+a.apply(this,f),+r.apply(this,(f[0]=h,f)),+a.apply(this,f)),u)return o=null,u+""||null}return i.source=function(u){return arguments.length?(t=u,i):t},i.target=function(u){return arguments.length?(n=u,i):n},i.x=function(u){return arguments.length?(r=typeof u=="function"?u:we(+u),i):r},i.y=function(u){return arguments.length?(a=typeof u=="function"?u:we(+u),i):a},i.context=function(u){return arguments.length?(o=u??null,i):o},i}function mN(e,t,n,r,a){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,a,r,a)}function hN(e,t,n,r,a){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+a)/2,r,n,r,a)}function pN(e,t,n,r,a){var o=Ga(t,n),i=Ga(t,n=(n+a)/2),u=Ga(r,n),f=Ga(r,a);e.moveTo(o[0],o[1]),e.bezierCurveTo(i[0],i[1],u[0],u[1],f[0],f[1])}function kS(){return Bp(mN)}function VS(){return Bp(hN)}function DS(){var e=Bp(pN);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var NS=k(()=>{Fr();Jo();Wr();es();Op()});var jn,Fp=k(()=>{Zo();jn={draw:function(e,t){var n=Math.sqrt(t/kn);e.moveTo(n,0),e.arc(0,0,n,0,pn)}}});var $a,Hp=k(()=>{$a={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}}});var ES,gN,Ua,Yp=k(()=>{ES=Math.sqrt(.3333333333333333),gN=ES*2,Ua={draw:function(e,t){var n=Math.sqrt(t/gN),r=n*ES;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}}});var vN,PS,xN,bN,Xa,Wp=k(()=>{Zo();vN=.8908130915292852,PS=Math.sin(kn/10)/Math.sin(7*kn/10),xN=Math.sin(pn/10)*PS,bN=-Math.cos(pn/10)*PS,Xa={draw:function(e,t){var n=Math.sqrt(t*vN),r=xN*n,a=bN*n;e.moveTo(0,-n),e.lineTo(r,a);for(var o=1;o<5;++o){var i=pn*o/5,u=Math.cos(i),f=Math.sin(i);e.lineTo(f*n,-u*n),e.lineTo(u*r-f*a,f*r+u*a)}e.closePath()}}});var ja,qp=k(()=>{ja={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}}});var Gp,Qa,$p=k(()=>{Gp=Math.sqrt(3),Qa={draw:function(e,t){var n=-Math.sqrt(t/(Gp*3));e.moveTo(0,n*2),e.lineTo(-Gp*n,-n),e.lineTo(Gp*n,-n),e.closePath()}}});var gn,vn,Up,yN,Ka,Xp=k(()=>{gn=-.5,vn=Math.sqrt(3)/2,Up=1/Math.sqrt(12),yN=(Up/2+1)*3,Ka={draw:function(e,t){var n=Math.sqrt(t/yN),r=n/2,a=n*Up,o=r,i=n*Up+n,u=-o,f=i;e.moveTo(r,a),e.lineTo(o,i),e.lineTo(u,f),e.lineTo(gn*r-vn*a,vn*r+gn*a),e.lineTo(gn*o-vn*i,vn*o+gn*i),e.lineTo(gn*u-vn*f,vn*u+gn*f),e.lineTo(gn*r+vn*a,gn*a-vn*r),e.lineTo(gn*o+vn*i,gn*i-vn*o),e.lineTo(gn*u+vn*f,gn*f-vn*u),e.closePath()}}});function as(e,t){var n=null;e=typeof e=="function"?e:we(e||jn),t=typeof t=="function"?t:we(t===void 0?64:+t);function r(){var a;if(n||(n=a=mn()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return r.type=function(a){return arguments.length?(e=typeof a=="function"?a:we(a),r):e},r.size=function(a){return arguments.length?(t=typeof a=="function"?a:we(+a),r):t},r.context=function(a){return arguments.length?(n=a??null,r):n},r}var LS,IS=k(()=>{Fr();Fp();Hp();Yp();Wp();qp();$p();Xp();Wr();LS=[jn,$a,Ua,ja,Xa,Qa,Ka]});function xn(){}var Ru=k(()=>{});function ai(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Ou(e){this._context=e}function zS(e){return new Ou(e)}var Bu=k(()=>{Ou.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ai(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ai(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function RS(e){this._context=e}function OS(e){return new RS(e)}var BS=k(()=>{Ru();Bu();RS.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ai(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function FS(e){this._context=e}function HS(e){return new FS(e)}var YS=k(()=>{Bu();FS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ai(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function WS(e){return new os(e,!0)}function qS(e){return new os(e,!1)}var os,GS=k(()=>{os=class{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}});function $S(e,t){this._basis=new Ou(e),this._beta=t}var US,XS=k(()=>{Bu();$S.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],a=t[0],o=e[n]-r,i=t[n]-a,u=-1,f;++u<=n;)f=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(r+f*o),this._beta*t[u]+(1-this._beta)*(a+f*i));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};US=function e(t){function n(r){return t===1?new Ou(r):new $S(r,t)}return n.beta=function(r){return e(+r)},n}(.85)});function oi(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function is(e,t){this._context=e,this._k=(1-t)/6}var jS,Fu=k(()=>{is.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:oi(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:oi(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};jS=function e(t){function n(r){return new is(r,t)}return n.tension=function(r){return e(+r)},n}(0)});function us(e,t){this._context=e,this._k=(1-t)/6}var QS,jp=k(()=>{Ru();Fu();us.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:oi(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};QS=function e(t){function n(r){return new us(r,t)}return n.tension=function(r){return e(+r)},n}(0)});function ls(e,t){this._context=e,this._k=(1-t)/6}var KS,Qp=k(()=>{Fu();ls.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:oi(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};KS=function e(t){function n(r){return new ls(r,t)}return n.tension=function(r){return e(+r)},n}(0)});function Hu(e,t,n){var r=e._x1,a=e._y1,o=e._x2,i=e._y2;if(e._l01_a>ht){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,f=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/f,a=(a*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/f}if(e._l23_a>ht){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/h,i=(i*c+e._y1*e._l23_2a-n*e._l12_2a)/h}e._context.bezierCurveTo(r,a,o,i,e._x2,e._y2)}function ZS(e,t){this._context=e,this._alpha=t}var JS,fs=k(()=>{Zo();Fu();ZS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Hu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};JS=function e(t){function n(r){return t?new ZS(r,t):new is(r,0)}return n.alpha=function(r){return e(+r)},n}(.5)});function e3(e,t){this._context=e,this._alpha=t}var t3,n3=k(()=>{jp();Ru();fs();e3.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Hu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};t3=function e(t){function n(r){return t?new e3(r,t):new us(r,0)}return n.alpha=function(r){return e(+r)},n}(.5)});function r3(e,t){this._context=e,this._alpha=t}var a3,o3=k(()=>{Qp();fs();r3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Hu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};a3=function e(t){function n(r){return t?new r3(r,t):new ls(r,0)}return n.alpha=function(r){return e(+r)},n}(.5)});function i3(e){this._context=e}function u3(e){return new i3(e)}var l3=k(()=>{Ru();i3.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}});function f3(e){return e<0?-1:1}function s3(e,t,n){var r=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(r||a<0&&-0),i=(n-e._y1)/(a||r<0&&-0),u=(o*a+i*r)/(r+a);return(f3(o)+f3(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(u))||0}function c3(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Kp(e,t,n){var r=e._x0,a=e._y0,o=e._x1,i=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,a+u*t,o-u,i-u*n,o,i)}function ss(e){this._context=e}function d3(e){this._context=new m3(e)}function m3(e){this._context=e}function h3(e){return new ss(e)}function p3(e){return new d3(e)}var g3=k(()=>{ss.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kp(this,this._t0,c3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Kp(this,c3(this,n=s3(this,e,t)),n);break;default:Kp(this,this._t0,n=s3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};(d3.prototype=Object.create(ss.prototype)).point=function(e,t){ss.prototype.point.call(this,t,e)};m3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,o){this._context.bezierCurveTo(t,e,r,n,o,a)}}});function x3(e){this._context=e}function v3(e){var t,n=e.length-1,r,a=new Array(n),o=new Array(n),i=new Array(n);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,o[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/o[t-1],o[t]-=r,i[t]-=r*i[t-1];for(a[n-1]=i[n-1]/o[n-1],t=n-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function b3(e){return new x3(e)}var y3=k(()=>{x3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=v3(e),a=v3(t),o=0,i=1;i<n;++o,++i)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}});function cs(e,t){this._context=e,this._t=t}function w3(e){return new cs(e,.5)}function _3(e){return new cs(e,0)}function S3(e){return new cs(e,1)}var M3=k(()=>{cs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}}});function Vn(e,t){if((i=e.length)>1)for(var n=1,r,a,o=e[t[0]],i,u=o.length;n<i;++n)for(a=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}var ii=k(()=>{});function Dn(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}var ui=k(()=>{});function wN(e,t){return e[t]}function _N(e){let t=[];return t.key=e,t}function A3(){var e=we([]),t=Dn,n=Vn,r=wN;function a(o){var i=Array.from(e.apply(this,arguments),_N),u,f=i.length,c=-1,h;for(let v of o)for(u=0,++c;u<f;++u)(i[u][c]=[0,+r(v,i[u].key,c,o)]).data=v;for(u=0,h=Gr(t(i));u<f;++u)i[h[u]].index=u;return n(i,h),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:we(Array.from(o)),a):e},a.value=function(o){return arguments.length?(r=typeof o=="function"?o:we(+o),a):r},a.order=function(o){return arguments.length?(t=o==null?Dn:typeof o=="function"?o:we(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(n=o??Vn,a):n},a}var C3=k(()=>{Jo();Wr();ii();ui()});function T3(e,t){if((r=e.length)>0){for(var n,r,a=0,o=e[0].length,i;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}Vn(e,t)}}var k3=k(()=>{ii()});function V3(e,t){if((f=e.length)>0)for(var n,r=0,a,o,i,u,f,c=e[t[0]].length;r<c;++r)for(i=u=0,n=0;n<f;++n)(o=(a=e[t[n]][r])[1]-a[0])>0?(a[0]=i,a[1]=i+=o):o<0?(a[1]=u,a[0]=u+=o):(a[0]=0,a[1]=o)}var D3=k(()=>{});function N3(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,o=r.length;n<o;++n){for(var i=0,u=0;i<a;++i)u+=e[i][n][1]||0;r[n][1]+=r[n][0]=-u/2}Vn(e,t)}}var E3=k(()=>{ii()});function P3(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,o,i;r<o;++r){for(var u=0,f=0,c=0;u<i;++u){for(var h=e[t[u]],v=h[r][1]||0,b=h[r-1][1]||0,M=(v-b)/2,A=0;A<u;++A){var D=e[t[A]],C=D[r][1]||0,N=D[r-1][1]||0;M+=C-N}f+=v,c+=M*v}a[r-1][1]+=a[r-1][0]=n,f&&(n-=c/f)}a[r-1][1]+=a[r-1][0]=n,Vn(e,t)}}var L3=k(()=>{ii()});function ds(e){var t=e.map(SN);return Dn(e).sort(function(n,r){return t[n]-t[r]})}function SN(e){for(var t=-1,n=0,r=e.length,a,o=-1/0;++t<r;)(a=+e[t][1])>o&&(o=a,n=t);return n}var Zp=k(()=>{ui()});function ms(e){var t=e.map(Jp);return Dn(e).sort(function(n,r){return t[n]-t[r]})}function Jp(e){for(var t=0,n=-1,r=e.length,a;++n<r;)(a=+e[n][1])&&(t+=a);return t}var hs=k(()=>{ui()});function I3(e){return ms(e).reverse()}var z3=k(()=>{hs()});function R3(e){var t=e.length,n,r,a=e.map(Jp),o=ds(e),i=0,u=0,f=[],c=[];for(n=0;n<t;++n)r=o[n],i<u?(i+=a[r],f.push(r)):(u+=a[r],c.push(r));return c.reverse().concat(f)}var O3=k(()=>{Zp();hs()});function B3(e){return Dn(e).reverse()}var F3=k(()=>{ui()});var H3={};At(H3,{arc:()=>Jf,area:()=>ns,areaRadial:()=>Rp,curveBasis:()=>zS,curveBasisClosed:()=>OS,curveBasisOpen:()=>HS,curveBumpX:()=>WS,curveBumpY:()=>qS,curveBundle:()=>US,curveCardinal:()=>jS,curveCardinalClosed:()=>QS,curveCardinalOpen:()=>KS,curveCatmullRom:()=>JS,curveCatmullRomClosed:()=>t3,curveCatmullRomOpen:()=>a3,curveLinear:()=>$r,curveLinearClosed:()=>u3,curveMonotoneX:()=>h3,curveMonotoneY:()=>p3,curveNatural:()=>b3,curveStep:()=>w3,curveStepAfter:()=>S3,curveStepBefore:()=>_3,line:()=>Ur,lineRadial:()=>Ip,linkHorizontal:()=>kS,linkRadial:()=>DS,linkVertical:()=>VS,pie:()=>MS,pointRadial:()=>Ga,radialArea:()=>Rp,radialLine:()=>Ip,stack:()=>A3,stackOffsetDiverging:()=>V3,stackOffsetExpand:()=>T3,stackOffsetNone:()=>Vn,stackOffsetSilhouette:()=>N3,stackOffsetWiggle:()=>P3,stackOrderAppearance:()=>ds,stackOrderAscending:()=>ms,stackOrderDescending:()=>I3,stackOrderInsideOut:()=>R3,stackOrderNone:()=>Dn,stackOrderReverse:()=>B3,symbol:()=>as,symbolCircle:()=>jn,symbolCross:()=>$a,symbolDiamond:()=>Ua,symbolSquare:()=>ja,symbolStar:()=>Xa,symbolTriangle:()=>Qa,symbolWye:()=>Ka,symbols:()=>LS});var eg=k(()=>{vS();Pp();ts();AS();TS();zp();Op();NS();IS();Fp();Hp();Yp();qp();Wp();$p();Xp();BS();YS();Bu();GS();XS();jp();Qp();Fu();n3();o3();fs();l3();zu();g3();y3();M3();C3();k3();D3();ii();E3();L3();Zp();hs();z3();O3();ui();F3()});function de(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}var Ce=k(()=>{});var Y3,W3=k(()=>{Ce();Y3=de("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")});var q3,G3=k(()=>{Ce();q3=de("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")});var $3,U3=k(()=>{Ce();$3=de("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")});var X3,j3=k(()=>{Ce();X3=de("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")});var Q3,K3=k(()=>{Ce();Q3=de("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")});var Z3,J3=k(()=>{Ce();Z3=de("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")});var e8,t8=k(()=>{Ce();e8=de("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")});var n8,r8=k(()=>{Ce();n8=de("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")});var a8,o8=k(()=>{Ce();a8=de("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")});var i8,u8=k(()=>{Ce();i8=de("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")});var ve,We=k(()=>{Zt();ve=e=>Gm(e[e.length-1])});var tg,l8,f8=k(()=>{Ce();We();tg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(de),l8=ve(tg)});var ng,s8,c8=k(()=>{Ce();We();ng=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(de),s8=ve(ng)});var rg,d8,m8=k(()=>{Ce();We();rg=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(de),d8=ve(rg)});var ag,h8,p8=k(()=>{Ce();We();ag=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(de),h8=ve(ag)});var og,g8,v8=k(()=>{Ce();We();og=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(de),g8=ve(og)});var ig,x8,b8=k(()=>{Ce();We();ig=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(de),x8=ve(ig)});var ug,y8,w8=k(()=>{Ce();We();ug=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(de),y8=ve(ug)});var lg,_8,S8=k(()=>{Ce();We();lg=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(de),_8=ve(lg)});var fg,M8,A8=k(()=>{Ce();We();fg=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(de),M8=ve(fg)});var sg,C8,T8=k(()=>{Ce();We();sg=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(de),C8=ve(sg)});var cg,k8,V8=k(()=>{Ce();We();cg=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(de),k8=ve(cg)});var dg,D8,N8=k(()=>{Ce();We();dg=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(de),D8=ve(dg)});var mg,E8,P8=k(()=>{Ce();We();mg=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(de),E8=ve(mg)});var hg,L8,I8=k(()=>{Ce();We();hg=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(de),L8=ve(hg)});var pg,z8,R8=k(()=>{Ce();We();pg=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(de),z8=ve(pg)});var gg,O8,B8=k(()=>{Ce();We();gg=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(de),O8=ve(gg)});var vg,F8,H8=k(()=>{Ce();We();vg=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(de),F8=ve(vg)});var xg,Y8,W8=k(()=>{Ce();We();xg=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(de),Y8=ve(xg)});var bg,q8,G8=k(()=>{Ce();We();bg=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(de),q8=ve(bg)});var yg,$8,U8=k(()=>{Ce();We();yg=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(de),$8=ve(yg)});var wg,X8,j8=k(()=>{Ce();We();wg=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(de),X8=ve(wg)});var _g,Q8,K8=k(()=>{Ce();We();_g=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(de),Q8=ve(_g)});var Sg,Z8,J8=k(()=>{Ce();We();Sg=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(de),Z8=ve(Sg)});var Mg,e5,t5=k(()=>{Ce();We();Mg=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(de),e5=ve(Mg)});var Ag,n5,r5=k(()=>{Ce();We();Ag=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(de),n5=ve(Ag)});var Cg,a5,o5=k(()=>{Ce();We();Cg=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(de),a5=ve(Cg)});var Tg,i5,u5=k(()=>{Ce();We();Tg=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(de),i5=ve(Tg)});function l5(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}var f5=k(()=>{});var s5,c5=k(()=>{dr();Zt();s5=Ro(Bt(300,.5,0),Bt(-240,.5,1))});function h5(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return ps.h=360*e-100,ps.s=1.5-1.5*t,ps.l=.8-.9*t,ps+""}var d5,m5,ps,p5=k(()=>{dr();Zt();d5=Ro(Bt(-100,.75,.35),Bt(80,1.5,.8)),m5=Ro(Bt(260,.75,.35),Bt(80,1.5,.8)),ps=Bt()});function g5(e){var t;return e=(.5-e)*Math.PI,gs.r=255*(t=Math.sin(e))*t,gs.g=255*(t=Math.sin(e+MN))*t,gs.b=255*(t=Math.sin(e+AN))*t,gs+""}var gs,MN,AN,v5=k(()=>{dr();gs=Or(),MN=Math.PI/3,AN=Math.PI*2/3});function x5(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}var b5=k(()=>{});function vs(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var y5,w5,_5,S5,M5=k(()=>{Ce();y5=vs(de("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),w5=vs(de("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),_5=vs(de("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),S5=vs(de("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))});var A5={};At(A5,{interpolateBlues:()=>Q8,interpolateBrBG:()=>l8,interpolateBuGn:()=>C8,interpolateBuPu:()=>k8,interpolateCividis:()=>l5,interpolateCool:()=>m5,interpolateCubehelixDefault:()=>s5,interpolateGnBu:()=>D8,interpolateGreens:()=>Z8,interpolateGreys:()=>e5,interpolateInferno:()=>_5,interpolateMagma:()=>w5,interpolateOrRd:()=>E8,interpolateOranges:()=>i5,interpolatePRGn:()=>s8,interpolatePiYG:()=>d8,interpolatePlasma:()=>S5,interpolatePuBu:()=>z8,interpolatePuBuGn:()=>L8,interpolatePuOr:()=>h8,interpolatePuRd:()=>O8,interpolatePurples:()=>n5,interpolateRainbow:()=>h5,interpolateRdBu:()=>g8,interpolateRdGy:()=>x8,interpolateRdPu:()=>F8,interpolateRdYlBu:()=>y8,interpolateRdYlGn:()=>_8,interpolateReds:()=>a5,interpolateSinebow:()=>g5,interpolateSpectral:()=>M8,interpolateTurbo:()=>x5,interpolateViridis:()=>y5,interpolateWarm:()=>d5,interpolateYlGn:()=>q8,interpolateYlGnBu:()=>Y8,interpolateYlOrBr:()=>$8,interpolateYlOrRd:()=>X8,schemeAccent:()=>q3,schemeBlues:()=>_g,schemeBrBG:()=>tg,schemeBuGn:()=>sg,schemeBuPu:()=>cg,schemeCategory10:()=>Y3,schemeDark2:()=>$3,schemeGnBu:()=>dg,schemeGreens:()=>Sg,schemeGreys:()=>Mg,schemeOrRd:()=>mg,schemeOranges:()=>Tg,schemePRGn:()=>ng,schemePaired:()=>X3,schemePastel1:()=>Q3,schemePastel2:()=>Z3,schemePiYG:()=>rg,schemePuBu:()=>pg,schemePuBuGn:()=>hg,schemePuOr:()=>ag,schemePuRd:()=>gg,schemePurples:()=>Ag,schemeRdBu:()=>og,schemeRdGy:()=>ig,schemeRdPu:()=>vg,schemeRdYlBu:()=>ug,schemeRdYlGn:()=>lg,schemeReds:()=>Cg,schemeSet1:()=>e8,schemeSet2:()=>n8,schemeSet3:()=>a8,schemeSpectral:()=>fg,schemeTableau10:()=>i8,schemeYlGn:()=>bg,schemeYlGnBu:()=>xg,schemeYlOrBr:()=>yg,schemeYlOrRd:()=>wg});var kg=k(()=>{W3();G3();U3();j3();K3();J3();t8();r8();o8();u8();f8();c8();m8();p8();v8();b8();w8();S8();A8();T8();V8();N8();P8();I8();R8();B8();H8();W8();G8();U8();j8();K8();J8();t5();r5();o5();u5();f5();c5();p5();v5();b5();M5()});function T5(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new xs(n)}function xs(e){this._=e}function TN(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}function kN(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function C5(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=CN,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var CN,Qn,k5=k(()=>{CN={value:()=>{}};xs.prototype=T5.prototype={constructor:xs,on:function(e,t){var n=this._,r=TN(e+"",n),a,o=-1,i=r.length;if(arguments.length<2){for(;++o<i;)if((a=(e=r[o]).type)&&(a=kN(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(a=(e=r[o]).type)n[a]=C5(n[a],e.name,t);else if(t==null)for(a in n)n[a]=C5(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new xs(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,o;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};Qn=T5});var V5={};At(V5,{dispatch:()=>Qn});var Za=k(()=>{k5()});function bs(e){e.stopImmediatePropagation()}function Xr(e){e.preventDefault(),e.stopImmediatePropagation()}var D5,Ja,Vg=k(()=>{D5={passive:!1},Ja={capture:!0,passive:!1}});function eo(e){var t=e.document.documentElement,n=fe(e).on("dragstart.drag",Xr,Ja);"onselectstart"in t?n.on("selectstart.drag",Xr,Ja):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function to(e,t){var n=e.document.documentElement,r=fe(e).on("dragstart.drag",null);t&&(r.on("click.drag",Xr,Ja),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Dg=k(()=>{Dt();Vg()});var Yu,N5=k(()=>{Yu=e=>()=>e});function Wu(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:o,x:i,y:u,dx:f,dy:c,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:h}})}var E5=k(()=>{Wu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e}});function VN(e){return!e.ctrlKey&&!e.button}function DN(){return this.parentNode}function NN(e,t){return t??{x:e.x,y:e.y}}function EN(){return navigator.maxTouchPoints||"ontouchstart"in this}function li(){var e=VN,t=DN,n=NN,r=EN,a={},o=Qn("start","drag","end"),i=0,u,f,c,h,v=0;function b(L){L.on("mousedown.drag",M).filter(r).on("touchstart.drag",C).on("touchmove.drag",N,D5).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function M(L,P){if(!(h||!e.call(this,L,P))){var R=B(this,t.call(this,L,P),L,P,"mouse");!R||(fe(L.view).on("mousemove.drag",A,Ja).on("mouseup.drag",D,Ja),eo(L.view),bs(L),c=!1,u=L.clientX,f=L.clientY,R("start",L))}}function A(L){if(Xr(L),!c){var P=L.clientX-u,R=L.clientY-f;c=P*P+R*R>v}a.mouse("drag",L)}function D(L){fe(L.view).on("mousemove.drag mouseup.drag",null),to(L.view,c),Xr(L),a.mouse("end",L)}function C(L,P){if(!!e.call(this,L,P)){var R=L.changedTouches,G=t.call(this,L,P),$=R.length,ue,re;for(ue=0;ue<$;++ue)(re=B(this,G,L,P,R[ue].identifier,R[ue]))&&(bs(L),re("start",L,R[ue]))}}function N(L){var P=L.changedTouches,R=P.length,G,$;for(G=0;G<R;++G)($=a[P[G].identifier])&&(Xr(L),$("drag",L,P[G]))}function O(L){var P=L.changedTouches,R=P.length,G,$;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),G=0;G<R;++G)($=a[P[G].identifier])&&(bs(L),$("end",L,P[G]))}function B(L,P,R,G,$,ue){var re=o.copy(),U=mt(ue||R,P),oe,Z,H;if((H=n.call(L,new Wu("beforestart",{sourceEvent:R,target:b,identifier:$,active:i,x:U[0],y:U[1],dx:0,dy:0,dispatch:re}),G))!=null)return oe=H.x-U[0]||0,Z=H.y-U[1]||0,function te(j,X,ee){var J=U,K;switch(j){case"start":a[$]=te,K=i++;break;case"end":delete a[$],--i;case"drag":U=mt(ee||X,P),K=i;break}re.call(j,L,new Wu(j,{sourceEvent:X,subject:H,target:b,identifier:$,active:K,x:U[0]+oe,y:U[1]+Z,dx:U[0]-J[0],dy:U[1]-J[1],dispatch:re}),G)}}return b.filter=function(L){return arguments.length?(e=typeof L=="function"?L:Yu(!!L),b):e},b.container=function(L){return arguments.length?(t=typeof L=="function"?L:Yu(L),b):t},b.subject=function(L){return arguments.length?(n=typeof L=="function"?L:Yu(L),b):n},b.touchable=function(L){return arguments.length?(r=typeof L=="function"?L:Yu(!!L),b):r},b.on=function(){var L=o.on.apply(o,arguments);return L===o?b:L},b.clickDistance=function(L){return arguments.length?(v=(L=+L)*L,b):Math.sqrt(v)},b}var P5=k(()=>{Za();Dt();Dg();Vg();N5();E5()});var ys=k(()=>{P5();Dg()});function ju(){return no||(z5(PN),no=Uu.now()+Ss)}function PN(){no=0}function Xu(){this._call=this._time=this._next=null}function Ms(e,t,n){var r=new Xu;return r.restart(e,t,n),r}function R5(){ju(),++fi;for(var e=ws,t;e;)(t=no-e._time)>=0&&e._call.call(void 0,t),e=e._next;--fi}function L5(){no=(_s=Uu.now())+Ss,fi=Gu=0;try{R5()}finally{fi=0,IN(),no=0}}function LN(){var e=Uu.now(),t=e-_s;t>I5&&(Ss-=t,_s=e)}function IN(){for(var e,t=ws,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ws=n);$u=e,Ng(r)}function Ng(e){if(!fi){Gu&&(Gu=clearTimeout(Gu));var t=e-no;t>24?(e<1/0&&(Gu=setTimeout(L5,e-Uu.now()-Ss)),qu&&(qu=clearInterval(qu))):(qu||(_s=Uu.now(),qu=setInterval(LN,I5)),fi=1,z5(L5))}}var fi,Gu,qu,I5,ws,$u,_s,no,Ss,Uu,z5,Eg=k(()=>{fi=0,Gu=0,qu=0,I5=1e3,_s=0,no=0,Ss=0,Uu=typeof performance=="object"&&performance.now?performance:Date,z5=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};Xu.prototype=Ms.prototype={constructor:Xu,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ju():+n)+(t==null?0:+t),!this._next&&$u!==this&&($u?$u._next=this:ws=this,$u=this),this._call=e,this._time=n,Ng()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ng())}}});function As(e,t,n){var r=new Xu;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var O5=k(()=>{Eg()});var Cs=k(()=>{Eg();O5()});function jr(e,t,n,r,a,o){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;ON(e,n,{name:t,index:r,group:a,on:zN,tween:RN,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:H5})}function Ku(e,t){var n=lt(e,t);if(n.state>H5)throw new Error("too late; already scheduled");return n}function St(e,t){var n=lt(e,t);if(n.state>Ts)throw new Error("too late; already running");return n}function lt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ON(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=Ms(o,0,n.time);function o(c){n.state=B5,n.timer.restart(i,n.delay,n.time),n.delay<=c&&i(c-n.delay)}function i(c){var h,v,b,M;if(n.state!==B5)return f();for(h in r)if(M=r[h],M.name===n.name){if(M.state===Ts)return As(i);M.state===F5?(M.state=Qu,M.timer.stop(),M.on.call("interrupt",e,e.__data__,M.index,M.group),delete r[h]):+h<t&&(M.state=Qu,M.timer.stop(),M.on.call("cancel",e,e.__data__,M.index,M.group),delete r[h])}if(As(function(){n.state===Ts&&(n.state=F5,n.timer.restart(u,n.delay,n.time),u(c))}),n.state=ks,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ks){for(n.state=Ts,a=new Array(b=n.tween.length),h=0,v=-1;h<b;++h)(M=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(a[++v]=M);a.length=v+1}}function u(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(f),n.state=Vs,1),v=-1,b=a.length;++v<b;)a[v].call(e,h);n.state===Vs&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){n.state=Qu,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}var zN,RN,H5,B5,ks,Ts,F5,Vs,Qu,Xt=k(()=>{Za();Cs();zN=Qn("start","end","cancel","interrupt"),RN=[],H5=0,B5=1,ks=2,Ts=3,F5=4,Vs=5,Qu=6});function Kn(e,t){var n=e.__transition,r,a,o=!0,i;if(!!n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){o=!1;continue}a=r.state>ks&&r.state<Vs,r.state=Qu,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}o&&delete e.__transition}}var Pg=k(()=>{Xt()});function Y5(e){return this.each(function(){Kn(this,e)})}var W5=k(()=>{Pg()});function BN(e,t){var n,r;return function(){var a=St(this,e),o=a.tween;if(o!==n){r=n=o;for(var i=0,u=r.length;i<u;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}a.tween=r}}function FN(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var o=St(this,e),i=o.tween;if(i!==r){a=(r=i).slice();for(var u={name:t,value:n},f=0,c=a.length;f<c;++f)if(a[f].name===t){a[f]=u;break}f===c&&a.push(u)}o.tween=a}}function q5(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=lt(this.node(),n).tween,a=0,o=r.length,i;a<o;++a)if((i=r[a]).name===e)return i.value;return null}return this.each((t==null?BN:FN)(n,e,t))}function si(e,t,n){var r=e._id;return e.each(function(){var a=St(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return lt(a,r).value[t]}}var Zu=k(()=>{Xt()});function Ds(e,t){var n;return(typeof t=="number"?wt:t instanceof kt?ka:(n=kt(t))?(t=n,ka):hu)(e,t)}var Lg=k(()=>{dr();Zt()});function HN(e){return function(){this.removeAttribute(e)}}function YN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function WN(e,t,n){var r,a=n+"",o;return function(){var i=this.getAttribute(e);return i===a?null:i===r?o:o=t(r=i,n)}}function qN(e,t,n){var r,a=n+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===r?o:o=t(r=i,n)}}function GN(e,t,n){var r,a,o;return function(){var i,u=n(this),f;return u==null?void this.removeAttribute(e):(i=this.getAttribute(e),f=u+"",i===f?null:i===r&&f===a?o:(a=f,o=t(r=i,u)))}}function $N(e,t,n){var r,a,o;return function(){var i,u=n(this),f;return u==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),f=u+"",i===f?null:i===r&&f===a?o:(a=f,o=t(r=i,u)))}}function G5(e,t){var n=Un(e),r=n==="transform"?Zm:Ds;return this.attrTween(e,typeof t=="function"?(n.local?$N:GN)(n,r,si(this,"attr."+e,t)):t==null?(n.local?YN:HN)(n):(n.local?qN:WN)(n,r,t))}var $5=k(()=>{Zt();Dt();Zu();Lg()});function UN(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function XN(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function jN(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&XN(e,o)),n}return a._value=t,a}function QN(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&UN(e,o)),n}return a._value=t,a}function U5(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Un(e);return this.tween(n,(r.local?jN:QN)(r,t))}var X5=k(()=>{Dt()});function KN(e,t){return function(){Ku(this,e).delay=+t.apply(this,arguments)}}function ZN(e,t){return t=+t,function(){Ku(this,e).delay=t}}function j5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?KN:ZN)(t,e)):lt(this.node(),t).delay}var Q5=k(()=>{Xt()});function JN(e,t){return function(){St(this,e).duration=+t.apply(this,arguments)}}function eE(e,t){return t=+t,function(){St(this,e).duration=t}}function K5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?JN:eE)(t,e)):lt(this.node(),t).duration}var Z5=k(()=>{Xt()});function tE(e,t){if(typeof t!="function")throw new Error;return function(){St(this,e).ease=t}}function J5(e){var t=this._id;return arguments.length?this.each(tE(t,e)):lt(this.node(),t).ease}var e6=k(()=>{Xt()});function nE(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;St(this,e).ease=n}}function t6(e){if(typeof e!="function")throw new Error;return this.each(nE(this._id,e))}var n6=k(()=>{Xt()});function r6(e){typeof e!="function"&&(e=Qo(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],i=o.length,u=r[a]=[],f,c=0;c<i;++c)(f=o[c])&&e.call(f,f.__data__,c,o)&&u.push(f);return new Ht(r,this._parents,this._name,this._id)}var a6=k(()=>{Dt();ro()});function o6(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),i=new Array(r),u=0;u<o;++u)for(var f=t[u],c=n[u],h=f.length,v=i[u]=new Array(h),b,M=0;M<h;++M)(b=f[M]||c[M])&&(v[M]=b);for(;u<r;++u)i[u]=t[u];return new Ht(i,this._parents,this._name,this._id)}var i6=k(()=>{ro()});function rE(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function aE(e,t,n){var r,a,o=rE(t)?Ku:St;return function(){var i=o(this,e),u=i.on;u!==r&&(a=(r=u).copy()).on(t,n),i.on=a}}function u6(e,t){var n=this._id;return arguments.length<2?lt(this.node(),n).on.on(e):this.each(aE(n,e,t))}var l6=k(()=>{Xt()});function oE(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function f6(){return this.on("end.remove",oE(this._id))}var s6=k(()=>{});function c6(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Yr(e));for(var r=this._groups,a=r.length,o=new Array(a),i=0;i<a;++i)for(var u=r[i],f=u.length,c=o[i]=new Array(f),h,v,b=0;b<f;++b)(h=u[b])&&(v=e.call(h,h.__data__,b,u))&&("__data__"in h&&(v.__data__=h.__data__),c[b]=v,jr(c[b],t,n,b,c,lt(h,n)));return new Ht(o,this._parents,t,n)}var d6=k(()=>{Dt();ro();Xt()});function m6(e){var t=this._name,n=this._id;typeof e!="function"&&(e=jo(e));for(var r=this._groups,a=r.length,o=[],i=[],u=0;u<a;++u)for(var f=r[u],c=f.length,h,v=0;v<c;++v)if(h=f[v]){for(var b=e.call(h,h.__data__,v,f),M,A=lt(h,n),D=0,C=b.length;D<C;++D)(M=b[D])&&jr(M,t,n,D,b,A);o.push(b),i.push(h)}return new Ht(o,i,t,n)}var h6=k(()=>{Dt();ro();Xt()});function p6(){return new iE(this._groups,this._parents)}var iE,g6=k(()=>{Dt();iE=Xn.prototype.constructor});function uE(e,t){var n,r,a;return function(){var o=yr(this,e),i=(this.style.removeProperty(e),yr(this,e));return o===i?null:o===n&&i===r?a:a=t(n=o,r=i)}}function v6(e){return function(){this.style.removeProperty(e)}}function lE(e,t,n){var r,a=n+"",o;return function(){var i=yr(this,e);return i===a?null:i===r?o:o=t(r=i,n)}}function fE(e,t,n){var r,a,o;return function(){var i=yr(this,e),u=n(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(e),yr(this,e))),i===f?null:i===r&&f===a?o:(a=f,o=t(r=i,u))}}function sE(e,t){var n,r,a,o="style."+t,i="end."+o,u;return function(){var f=St(this,e),c=f.on,h=f.value[o]==null?u||(u=v6(t)):void 0;(c!==n||a!==h)&&(r=(n=c).copy()).on(i,a=h),f.on=r}}function x6(e,t,n){var r=(e+="")=="transform"?Km:Ds;return t==null?this.styleTween(e,uE(e,r)).on("end.style."+e,v6(e)):typeof t=="function"?this.styleTween(e,fE(e,r,si(this,"style."+e,t))).each(sE(this._id,e)):this.styleTween(e,lE(e,r,t),n).on("end.style."+e,null)}var b6=k(()=>{Zt();Dt();Xt();Zu();Lg()});function cE(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function dE(e,t,n){var r,a;function o(){var i=t.apply(this,arguments);return i!==a&&(r=(a=i)&&cE(e,i,n)),r}return o._value=t,o}function y6(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,dE(e,t,n??""))}var w6=k(()=>{});function mE(e){return function(){this.textContent=e}}function hE(e){return function(){var t=e(this);this.textContent=t??""}}function _6(e){return this.tween("text",typeof e=="function"?hE(si(this,"text",e)):mE(e==null?"":e+""))}var S6=k(()=>{Zu()});function pE(e){return function(t){this.textContent=e.call(this,t)}}function gE(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&pE(a)),t}return r._value=e,r}function M6(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,gE(e))}var A6=k(()=>{});function C6(){for(var e=this._name,t=this._id,n=Ns(),r=this._groups,a=r.length,o=0;o<a;++o)for(var i=r[o],u=i.length,f,c=0;c<u;++c)if(f=i[c]){var h=lt(f,t);jr(f,e,n,c,i,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Ht(r,this._parents,e,n)}var T6=k(()=>{ro();Xt()});function k6(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(o,i){var u={value:i},f={value:function(){--a===0&&o()}};n.each(function(){var c=St(this,r),h=c.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(f)),c.on=t}),a===0&&o()})}var V6=k(()=>{Xt()});function Ht(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function D6(e){return Xn().transition(e)}function Ns(){return++vE}var vE,wr,ro=k(()=>{Dt();$5();X5();Q5();Z5();e6();n6();a6();i6();l6();s6();d6();h6();g6();b6();w6();S6();A6();T6();Zu();V6();vE=0;wr=Xn.prototype;Ht.prototype=D6.prototype={constructor:Ht,select:c6,selectAll:m6,selectChild:wr.selectChild,selectChildren:wr.selectChildren,filter:r6,merge:o6,selection:p6,transition:C6,call:wr.call,nodes:wr.nodes,node:wr.node,size:wr.size,empty:wr.empty,each:wr.each,on:u6,attr:G5,attrTween:U5,style:x6,styleTween:y6,text:_6,textTween:M6,remove:f6,tween:q5,delay:j5,duration:K5,ease:J5,easeVarying:t6,end:k6,[Symbol.iterator]:wr[Symbol.iterator]}});function Es(e){return--e*e*e+1}function Ps(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var N6=k(()=>{});var Ig=k(()=>{N6()});function bE(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function E6(e){var t,n;e instanceof Ht?(t=e._id,e=e._name):(t=Ns(),(n=xE).time=ju(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var i=r[o],u=i.length,f,c=0;c<u;++c)(f=i[c])&&jr(f,e,t,c,i,n||bE(f,t));return new Ht(r,this._parents,e,t)}var xE,P6=k(()=>{ro();Xt();Ig();Cs();xE={time:null,delay:0,duration:250,ease:Ps}});var L6=k(()=>{Dt();W5();P6();Xn.prototype.interrupt=Y5;Xn.prototype.transition=E6});var Ls=k(()=>{L6();Pg()});var Is,I6=k(()=>{Is=e=>()=>e});function zg(e,{sourceEvent:t,target:n,selection:r,mode:a,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:o}})}var z6=k(()=>{});function R6(e){e.stopImmediatePropagation()}function zs(e){e.preventDefault(),e.stopImmediatePropagation()}var O6=k(()=>{});function H6(e){return[+e[0],+e[1]]}function Bg(e){return[H6(e[0]),H6(e[1])]}function Ju(e){return{type:e}}function SE(e){return!e.ctrlKey&&!e.button}function ME(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function AE(){return navigator.maxTouchPoints||"ontouchstart"in this}function Og(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function CE(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function q6(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function G6(){return Fg(Rs)}function $6(){return Fg(Os)}function U6(){return Fg(yE)}function Fg(e){var t=ME,n=SE,r=AE,a=!0,o=Qn("start","brush","end"),i=6,u;function f(C){var N=C.property("__brush",D).selectAll(".overlay").data([Ju("overlay")]);N.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",_r.overlay).merge(N).each(function(){var B=Og(this).extent;fe(this).attr("x",B[0][0]).attr("y",B[0][1]).attr("width",B[1][0]-B[0][0]).attr("height",B[1][1]-B[0][1])}),C.selectAll(".selection").data([Ju("selection")]).enter().append("rect").attr("class","selection").attr("cursor",_r.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var O=C.selectAll(".handle").data(e.handles,function(B){return B.type});O.exit().remove(),O.enter().append("rect").attr("class",function(B){return"handle handle--"+B.type}).attr("cursor",function(B){return _r[B.type]}),C.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",b).filter(r).on("touchstart.brush",b).on("touchmove.brush",M).on("touchend.brush touchcancel.brush",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}f.move=function(C,N,O){C.tween?C.on("start.brush",function(B){h(this,arguments).beforestart().start(B)}).on("interrupt.brush end.brush",function(B){h(this,arguments).end(B)}).tween("brush",function(){var B=this,L=B.__brush,P=h(B,arguments),R=L.selection,G=e.input(typeof N=="function"?N.apply(this,arguments):N,L.extent),$=nt(R,G);function ue(re){L.selection=re===1&&G===null?null:$(re),c.call(B),P.brush()}return R!==null&&G!==null?ue:ue(1)}):C.each(function(){var B=this,L=arguments,P=B.__brush,R=e.input(typeof N=="function"?N.apply(B,L):N,P.extent),G=h(B,L).beforestart();Kn(B),P.selection=R===null?null:R,c.call(B),G.start(O).brush(O).end(O)})},f.clear=function(C,N){f.move(C,null,N)};function c(){var C=fe(this),N=Og(this).selection;N?(C.selectAll(".selection").style("display",null).attr("x",N[0][0]).attr("y",N[0][1]).attr("width",N[1][0]-N[0][0]).attr("height",N[1][1]-N[0][1]),C.selectAll(".handle").style("display",null).attr("x",function(O){return O.type[O.type.length-1]==="e"?N[1][0]-i/2:N[0][0]-i/2}).attr("y",function(O){return O.type[0]==="s"?N[1][1]-i/2:N[0][1]-i/2}).attr("width",function(O){return O.type==="n"||O.type==="s"?N[1][0]-N[0][0]+i:i}).attr("height",function(O){return O.type==="e"||O.type==="w"?N[1][1]-N[0][1]+i:i})):C.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function h(C,N,O){var B=C.__brush.emitter;return B&&(!O||!B.clean)?B:new v(C,N,O)}function v(C,N,O){this.that=C,this.args=N,this.state=C.__brush,this.active=0,this.clean=O}v.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(C,N){return this.starting?(this.starting=!1,this.emit("start",C,N)):this.emit("brush",C),this},brush:function(C,N){return this.emit("brush",C,N),this},end:function(C,N){return--this.active===0&&(delete this.state.emitter,this.emit("end",C,N)),this},emit:function(C,N,O){var B=fe(this.that).datum();o.call(C,this.that,new zg(C,{sourceEvent:N,target:f,selection:e.output(this.state.selection),mode:O,dispatch:o}),B)}};function b(C){if(u&&!C.touches||!n.apply(this,arguments))return;var N=this,O=C.target.__data__.type,B=(a&&C.metaKey?O="overlay":O)==="selection"?B6:a&&C.altKey?di:ci,L=e===Os?null:wE[O],P=e===Rs?null:_E[O],R=Og(N),G=R.extent,$=R.selection,ue=G[0][0],re,U,oe=G[0][1],Z,H,te=G[1][0],j,X,ee=G[1][1],J,K,le=0,ce=0,ne,me=L&&P&&a&&C.shiftKey,Me,Oe,De=Array.from(C.touches||[C],xe=>{let Qe=xe.identifier;return xe=mt(xe,N),xe.point0=xe.slice(),xe.identifier=Qe,xe});Kn(N);var Ue=h(N,arguments,!0).beforestart();if(O==="overlay"){$&&(ne=!0);let xe=[De[0],De[1]||De[0]];R.selection=$=[[re=e===Os?ue:Et(xe[0][0],xe[1][0]),Z=e===Rs?oe:Et(xe[0][1],xe[1][1])],[j=e===Os?te:Nt(xe[0][0],xe[1][0]),J=e===Rs?ee:Nt(xe[0][1],xe[1][1])]],De.length>1&&Xe(C)}else re=$[0][0],Z=$[0][1],j=$[1][0],J=$[1][1];U=re,H=Z,X=j,K=J;var se=fe(N).attr("pointer-events","none"),_e=se.selectAll(".overlay").attr("cursor",_r[O]);if(C.touches)Ue.moved=ie,Ue.ended=Be;else{var be=fe(C.view).on("mousemove.brush",ie,!0).on("mouseup.brush",Be,!0);a&&be.on("keydown.brush",vt,!0).on("keyup.brush",rt,!0),eo(C.view)}c.call(N),Ue.start(C,B.name);function ie(xe){for(let Qe of xe.changedTouches||[xe])for(let kr of De)kr.identifier===Qe.identifier&&(kr.cur=mt(Qe,N));if(me&&!Me&&!Oe&&De.length===1){let Qe=De[0];F6(Qe.cur[0]-Qe[0])>F6(Qe.cur[1]-Qe[1])?Oe=!0:Me=!0}for(let Qe of De)Qe.cur&&(Qe[0]=Qe.cur[0],Qe[1]=Qe.cur[1]);ne=!0,zs(xe),Xe(xe)}function Xe(xe){let Qe=De[0],kr=Qe.point0;var Rt;switch(le=Qe[0]-kr[0],ce=Qe[1]-kr[1],B){case Rg:case B6:{L&&(le=Nt(ue-re,Et(te-j,le)),U=re+le,X=j+le),P&&(ce=Nt(oe-Z,Et(ee-J,ce)),H=Z+ce,K=J+ce);break}case ci:{De[1]?(L&&(U=Nt(ue,Et(te,De[0][0])),X=Nt(ue,Et(te,De[1][0])),L=1),P&&(H=Nt(oe,Et(ee,De[0][1])),K=Nt(oe,Et(ee,De[1][1])),P=1)):(L<0?(le=Nt(ue-re,Et(te-re,le)),U=re+le,X=j):L>0&&(le=Nt(ue-j,Et(te-j,le)),U=re,X=j+le),P<0?(ce=Nt(oe-Z,Et(ee-Z,ce)),H=Z+ce,K=J):P>0&&(ce=Nt(oe-J,Et(ee-J,ce)),H=Z,K=J+ce));break}case di:{L&&(U=Nt(ue,Et(te,re-le*L)),X=Nt(ue,Et(te,j+le*L))),P&&(H=Nt(oe,Et(ee,Z-ce*P)),K=Nt(oe,Et(ee,J+ce*P)));break}}X<U&&(L*=-1,Rt=re,re=j,j=Rt,Rt=U,U=X,X=Rt,O in Y6&&_e.attr("cursor",_r[O=Y6[O]])),K<H&&(P*=-1,Rt=Z,Z=J,J=Rt,Rt=H,H=K,K=Rt,O in W6&&_e.attr("cursor",_r[O=W6[O]])),R.selection&&($=R.selection),Me&&(U=$[0][0],X=$[1][0]),Oe&&(H=$[0][1],K=$[1][1]),($[0][0]!==U||$[0][1]!==H||$[1][0]!==X||$[1][1]!==K)&&(R.selection=[[U,H],[X,K]],c.call(N),Ue.brush(xe,B.name))}function Be(xe){if(R6(xe),xe.touches){if(xe.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500)}else to(xe.view,ne),be.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);se.attr("pointer-events","all"),_e.attr("cursor",_r.overlay),R.selection&&($=R.selection),CE($)&&(R.selection=null,c.call(N)),Ue.end(xe,B.name)}function vt(xe){switch(xe.keyCode){case 16:{me=L&&P;break}case 18:{B===ci&&(L&&(j=X-le*L,re=U+le*L),P&&(J=K-ce*P,Z=H+ce*P),B=di,Xe(xe));break}case 32:{(B===ci||B===di)&&(L<0?j=X-le:L>0&&(re=U-le),P<0?J=K-ce:P>0&&(Z=H-ce),B=Rg,_e.attr("cursor",_r.selection),Xe(xe));break}default:return}zs(xe)}function rt(xe){switch(xe.keyCode){case 16:{me&&(Me=Oe=me=!1,Xe(xe));break}case 18:{B===di&&(L<0?j=X:L>0&&(re=U),P<0?J=K:P>0&&(Z=H),B=ci,Xe(xe));break}case 32:{B===Rg&&(xe.altKey?(L&&(j=X-le*L,re=U+le*L),P&&(J=K-ce*P,Z=H+ce*P),B=di):(L<0?j=X:L>0&&(re=U),P<0?J=K:P>0&&(Z=H),B=ci),_e.attr("cursor",_r[O]),Xe(xe));break}default:return}zs(xe)}}function M(C){h(this,arguments).moved(C)}function A(C){h(this,arguments).ended(C)}function D(){var C=this.__brush||{selection:null};return C.extent=Bg(t.apply(this,arguments)),C.dim=e,C}return f.extent=function(C){return arguments.length?(t=typeof C=="function"?C:Is(Bg(C)),f):t},f.filter=function(C){return arguments.length?(n=typeof C=="function"?C:Is(!!C),f):n},f.touchable=function(C){return arguments.length?(r=typeof C=="function"?C:Is(!!C),f):r},f.handleSize=function(C){return arguments.length?(i=+C,f):i},f.keyModifiers=function(C){return arguments.length?(a=!!C,f):a},f.on=function(){var C=o.on.apply(o,arguments);return C===o?f:C},f}var B6,Rg,ci,di,F6,Nt,Et,Rs,Os,yE,_r,Y6,W6,wE,_E,X6=k(()=>{Za();ys();Zt();Dt();Ls();I6();z6();O6();B6={name:"drag"},Rg={name:"space"},ci={name:"handle"},di={name:"center"},{abs:F6,max:Nt,min:Et}=Math;Rs={name:"x",handles:["w","e"].map(Ju),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Os={name:"y",handles:["n","s"].map(Ju),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},yE={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ju),input:function(e){return e==null?null:Bg(e)},output:function(e){return e}},_r={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Y6={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},W6={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},wE={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},_E={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1}});var j6={};At(j6,{brush:()=>U6,brushSelection:()=>q6,brushX:()=>G6,brushY:()=>$6});var Hg=k(()=>{X6()});var el,Q6=k(()=>{el=e=>()=>e});function Yg(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}var K6=k(()=>{});function bn(e,t,n){this.k=e,this.x=t,this.y=n}function Bs(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Zn;return e.__zoom}var Zn,Wg=k(()=>{bn.prototype={constructor:bn,scale:function(e){return e===1?this:new bn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new bn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Zn=new bn(1,0,0);Bs.prototype=bn.prototype});function Fs(e){e.stopImmediatePropagation()}function mi(e){e.preventDefault(),e.stopImmediatePropagation()}var Z6=k(()=>{});function TE(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function kE(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function J6(){return this.__zoom||Zn}function VE(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function DE(){return navigator.maxTouchPoints||"ontouchstart"in this}function NE(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function Hs(){var e=TE,t=kE,n=NE,r=VE,a=DE,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],u=250,f=Jm,c=Qn("start","zoom","end"),h,v,b,M=500,A=150,D=0,C=10;function N(H){H.property("__zoom",J6).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",ue).on("dblclick.zoom",re).filter(a).on("touchstart.zoom",U).on("touchmove.zoom",oe).on("touchend.zoom touchcancel.zoom",Z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}N.transform=function(H,te,j,X){var ee=H.selection?H.selection():H;ee.property("__zoom",J6),H!==ee?P(H,te,j,X):ee.interrupt().each(function(){R(this,arguments).event(X).start().zoom(null,typeof te=="function"?te.apply(this,arguments):te).end()})},N.scaleBy=function(H,te,j,X){N.scaleTo(H,function(){var ee=this.__zoom.k,J=typeof te=="function"?te.apply(this,arguments):te;return ee*J},j,X)},N.scaleTo=function(H,te,j,X){N.transform(H,function(){var ee=t.apply(this,arguments),J=this.__zoom,K=j==null?L(ee):typeof j=="function"?j.apply(this,arguments):j,le=J.invert(K),ce=typeof te=="function"?te.apply(this,arguments):te;return n(B(O(J,ce),K,le),ee,i)},j,X)},N.translateBy=function(H,te,j,X){N.transform(H,function(){return n(this.__zoom.translate(typeof te=="function"?te.apply(this,arguments):te,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),i)},null,X)},N.translateTo=function(H,te,j,X,ee){N.transform(H,function(){var J=t.apply(this,arguments),K=this.__zoom,le=X==null?L(J):typeof X=="function"?X.apply(this,arguments):X;return n(Zn.translate(le[0],le[1]).scale(K.k).translate(typeof te=="function"?-te.apply(this,arguments):-te,typeof j=="function"?-j.apply(this,arguments):-j),J,i)},X,ee)};function O(H,te){return te=Math.max(o[0],Math.min(o[1],te)),te===H.k?H:new bn(te,H.x,H.y)}function B(H,te,j){var X=te[0]-j[0]*H.k,ee=te[1]-j[1]*H.k;return X===H.x&&ee===H.y?H:new bn(H.k,X,ee)}function L(H){return[(+H[0][0]+ +H[1][0])/2,(+H[0][1]+ +H[1][1])/2]}function P(H,te,j,X){H.on("start.zoom",function(){R(this,arguments).event(X).start()}).on("interrupt.zoom end.zoom",function(){R(this,arguments).event(X).end()}).tween("zoom",function(){var ee=this,J=arguments,K=R(ee,J).event(X),le=t.apply(ee,J),ce=j==null?L(le):typeof j=="function"?j.apply(ee,J):j,ne=Math.max(le[1][0]-le[0][0],le[1][1]-le[0][1]),me=ee.__zoom,Me=typeof te=="function"?te.apply(ee,J):te,Oe=f(me.invert(ce).concat(ne/me.k),Me.invert(ce).concat(ne/Me.k));return function(De){if(De===1)De=Me;else{var Ue=Oe(De),se=ne/Ue[2];De=new bn(se,ce[0]-Ue[0]*se,ce[1]-Ue[1]*se)}K.zoom(null,De)}})}function R(H,te,j){return!j&&H.__zooming||new G(H,te)}function G(H,te){this.that=H,this.args=te,this.active=0,this.sourceEvent=null,this.extent=t.apply(H,te),this.taps=0}G.prototype={event:function(H){return H&&(this.sourceEvent=H),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(H,te){return this.mouse&&H!=="mouse"&&(this.mouse[1]=te.invert(this.mouse[0])),this.touch0&&H!=="touch"&&(this.touch0[1]=te.invert(this.touch0[0])),this.touch1&&H!=="touch"&&(this.touch1[1]=te.invert(this.touch1[0])),this.that.__zoom=te,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(H){var te=fe(this.that).datum();c.call(H,this.that,new Yg(H,{sourceEvent:this.sourceEvent,target:N,type:H,transform:this.that.__zoom,dispatch:c}),te)}};function $(H,...te){if(!e.apply(this,arguments))return;var j=R(this,te).event(H),X=this.__zoom,ee=Math.max(o[0],Math.min(o[1],X.k*Math.pow(2,r.apply(this,arguments)))),J=mt(H);if(j.wheel)(j.mouse[0][0]!==J[0]||j.mouse[0][1]!==J[1])&&(j.mouse[1]=X.invert(j.mouse[0]=J)),clearTimeout(j.wheel);else{if(X.k===ee)return;j.mouse=[J,X.invert(J)],Kn(this),j.start()}mi(H),j.wheel=setTimeout(K,A),j.zoom("mouse",n(B(O(X,ee),j.mouse[0],j.mouse[1]),j.extent,i));function K(){j.wheel=null,j.end()}}function ue(H,...te){if(b||!e.apply(this,arguments))return;var j=H.currentTarget,X=R(this,te,!0).event(H),ee=fe(H.view).on("mousemove.zoom",ce,!0).on("mouseup.zoom",ne,!0),J=mt(H,j),K=H.clientX,le=H.clientY;eo(H.view),Fs(H),X.mouse=[J,this.__zoom.invert(J)],Kn(this),X.start();function ce(me){if(mi(me),!X.moved){var Me=me.clientX-K,Oe=me.clientY-le;X.moved=Me*Me+Oe*Oe>D}X.event(me).zoom("mouse",n(B(X.that.__zoom,X.mouse[0]=mt(me,j),X.mouse[1]),X.extent,i))}function ne(me){ee.on("mousemove.zoom mouseup.zoom",null),to(me.view,X.moved),mi(me),X.event(me).end()}}function re(H,...te){if(!!e.apply(this,arguments)){var j=this.__zoom,X=mt(H.changedTouches?H.changedTouches[0]:H,this),ee=j.invert(X),J=j.k*(H.shiftKey?.5:2),K=n(B(O(j,J),X,ee),t.apply(this,te),i);mi(H),u>0?fe(this).transition().duration(u).call(P,K,X,H):fe(this).call(N.transform,K,X,H)}}function U(H,...te){if(!!e.apply(this,arguments)){var j=H.touches,X=j.length,ee=R(this,te,H.changedTouches.length===X).event(H),J,K,le,ce;for(Fs(H),K=0;K<X;++K)le=j[K],ce=mt(le,this),ce=[ce,this.__zoom.invert(ce),le.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==ce[2]&&(ee.touch1=ce,ee.taps=0):(ee.touch0=ce,J=!0,ee.taps=1+!!h);h&&(h=clearTimeout(h)),J&&(ee.taps<2&&(v=ce[0],h=setTimeout(function(){h=null},M)),Kn(this),ee.start())}}function oe(H,...te){if(!!this.__zooming){var j=R(this,te).event(H),X=H.changedTouches,ee=X.length,J,K,le,ce;for(mi(H),J=0;J<ee;++J)K=X[J],le=mt(K,this),j.touch0&&j.touch0[2]===K.identifier?j.touch0[0]=le:j.touch1&&j.touch1[2]===K.identifier&&(j.touch1[0]=le);if(K=j.that.__zoom,j.touch1){var ne=j.touch0[0],me=j.touch0[1],Me=j.touch1[0],Oe=j.touch1[1],De=(De=Me[0]-ne[0])*De+(De=Me[1]-ne[1])*De,Ue=(Ue=Oe[0]-me[0])*Ue+(Ue=Oe[1]-me[1])*Ue;K=O(K,Math.sqrt(De/Ue)),le=[(ne[0]+Me[0])/2,(ne[1]+Me[1])/2],ce=[(me[0]+Oe[0])/2,(me[1]+Oe[1])/2]}else if(j.touch0)le=j.touch0[0],ce=j.touch0[1];else return;j.zoom("touch",n(B(K,le,ce),j.extent,i))}}function Z(H,...te){if(!!this.__zooming){var j=R(this,te).event(H),X=H.changedTouches,ee=X.length,J,K;for(Fs(H),b&&clearTimeout(b),b=setTimeout(function(){b=null},M),J=0;J<ee;++J)K=X[J],j.touch0&&j.touch0[2]===K.identifier?delete j.touch0:j.touch1&&j.touch1[2]===K.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(K=mt(K,this),Math.hypot(v[0]-K[0],v[1]-K[1])<C)){var le=fe(this).on("dblclick.zoom");le&&le.apply(this,arguments)}}}return N.wheelDelta=function(H){return arguments.length?(r=typeof H=="function"?H:el(+H),N):r},N.filter=function(H){return arguments.length?(e=typeof H=="function"?H:el(!!H),N):e},N.touchable=function(H){return arguments.length?(a=typeof H=="function"?H:el(!!H),N):a},N.extent=function(H){return arguments.length?(t=typeof H=="function"?H:el([[+H[0][0],+H[0][1]],[+H[1][0],+H[1][1]]]),N):t},N.scaleExtent=function(H){return arguments.length?(o[0]=+H[0],o[1]=+H[1],N):[o[0],o[1]]},N.translateExtent=function(H){return arguments.length?(i[0][0]=+H[0][0],i[1][0]=+H[1][0],i[0][1]=+H[0][1],i[1][1]=+H[1][1],N):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},N.constrain=function(H){return arguments.length?(n=H,N):n},N.duration=function(H){return arguments.length?(u=+H,N):u},N.interpolate=function(H){return arguments.length?(f=H,N):f},N.on=function(){var H=c.on.apply(c,arguments);return H===c?N:H},N.clickDistance=function(H){return arguments.length?(D=(H=+H)*H,N):Math.sqrt(D)},N.tapDistance=function(H){return arguments.length?(C=+H,N):C},N}var e4=k(()=>{Za();ys();Zt();Dt();Ls();Q6();K6();Wg();Z6()});var t4={};At(t4,{ZoomTransform:()=>bn,zoom:()=>Hs,zoomIdentity:()=>Zn,zoomTransform:()=>Bs});var qg=k(()=>{e4();Wg()});var Re=Hx((Ys,n4)=>{(function(e,t){typeof Ys=="object"&&typeof n4<"u"?t(Ys,(Am(),an(Mm)),(np(),an(Gw)),(qo(),an(ww)),(lp(),an(g2)),(vp(),an(O2)),(Fr(),an(H2)),(Dt(),an(hS)),(eg(),an(H3)),(kg(),an(A5)),(Za(),an(V5)),(Hg(),an(j6)),(qg(),an(t4))):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-scale","d3-time","d3-random","d3-fetch","d3-path","d3-selection","d3-shape","d3-scale-chromatic","d3-dispatch","d3-brush","d3-zoom"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.fc={},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3))})(Ys,function(e,t,n,r,a,o,i,u,f,c,h,v,b){"use strict";var M=function(l,s,d){var p=s[d];if(typeof p!="function")throw new Error("Attempt to rebind ".concat(d," which isn't a function on the source object"));return function(){for(var y=arguments.length,w=new Array(y),m=0;m<y;m++)w[m]=arguments[m];var g=p.apply(s,w);return g===s?l:g}},A=function(l,s){for(var d=arguments.length,p=new Array(d>2?d-2:0),y=2;y<d;y++)p[y-2]=arguments[y];for(var w=0,m=p;w<m.length;w++){var g=m[w];l[g]=M(l,s,g)}return l},D=function(s){return function(d){return s.reduce(function(p,y){return p&&y(p)},d)}},C=function(l,s){for(var d=arguments.length,p=new Array(d>2?d-2:0),y=2;y<d;y++)p[y-2]=arguments[y];for(var w=D(p),m=0,g=Object.keys(s);m<g.length;m++){var x=g[m],_=w(x);_&&(l[_]=M(l,s,x))}return l},N=function(l){return l.map(function(s){return typeof s=="string"?new RegExp("^".concat(s,"$")):s})},O=function(){for(var l=arguments.length,s=new Array(l),d=0;d<l;d++)s[d]=arguments[d];return s=N(s),function(p){return s.every(function(y){return!y.test(p)})&&p}},B=function(){for(var l=arguments.length,s=new Array(l),d=0;d<l;d++)s[d]=arguments[d];return s=N(s),function(p){return s.some(function(y){return y.test(p)})&&p}},L=function(l){return function(s){return l[s]}},P=function(s){return s[0].toUpperCase()+s.slice(1)},R=function(l){return function(s){return l+P(s)}};function G(l){return l}function $(l){}function ue(l){return typeof l=="function"?l:function(){return l}}function re(l){return typeof l=="number"&&isNaN(l)?void 0:l}function U(){var l=function(){return 10},s=$,d=G,p=function(m){return m!=null},y=function(m){var g=l.apply(this,arguments),x=m.slice(0,g).map(d);return m.map(function(_,S){return S>=g&&(x.shift(),x.push(d(_,S))),S<g-1||x.some(function(T){return!p(T)})?s(void 0,S):s(x,S)})};return y.period=function(){return arguments.length?(l=ue(arguments.length<=0?void 0:arguments[0]),y):l},y.accumulator=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],y):s},y.defined=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],y):p},y.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},y}function oe(){var l=2,s=U().accumulator(function(p){var y=p&&t.deviation(p),w=p&&t.mean(p);return{average:w,upper:re(w+l*y),lower:re(w-l*y)}}),d=function(y){return s(y)};return d.multiplier=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],d):l},A(d,s,"period","value"),d}function Z(){var l=G,s=function(){return 9},d=function(w){var m=[];return function(g){var x;return m.length<w&&(g!=null?m.push(g):m=[]),m.length>=w&&(x=t.mean(m)),x}},p=function(w){var m=s.apply(this,arguments),g=2/(m+1),x=d(m),_;return w.map(function(S,T){var V=l(S,T);return _===void 0?_=x(V):_=V*g+(1-g)*_,re(_)})};return p.period=function(){return arguments.length?(s=ue(arguments.length<=0?void 0:arguments[0]),p):s},p.value=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},p}function H(){var l=G,s=Z().period(12),d=Z().period(26),p=Z().period(9),y=function(m){s.value(l),d.value(l);var g=t.zip(s(m),d(m)).map(function(_){return _[0]!==void 0&&_[1]!==void 0?_[0]-_[1]:void 0}),x=p(g);return t.zip(g,x).map(function(_){return{macd:_[0],signal:_[1],divergence:_[0]!==void 0&&_[1]!==void 0?_[0]-_[1]:void 0}})};return y.value=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],y):l},C(y,s,L({period:"fastPeriod"})),C(y,d,L({period:"slowPeriod"})),C(y,p,L({period:"signalPeriod"})),y}function te(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?te=function(s){return typeof s}:te=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},te(l)}function j(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}function X(l,s){for(var d=0;d<s.length;d++){var p=s[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}function ee(l,s,d){return s&&X(l.prototype,s),d&&X(l,d),l}function J(l,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(s&&s.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),s&&le(l,s)}function K(l){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},K(l)}function le(l,s){return le=Object.setPrototypeOf||function(p,y){return p.__proto__=y,p},le(l,s)}function ce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ne(l,s,d){return ce()?ne=Reflect.construct:ne=function(y,w,m){var g=[null];g.push.apply(g,w);var x=Function.bind.apply(y,g),_=new x;return m&&le(_,m.prototype),_},ne.apply(null,arguments)}function me(l){return Function.toString.call(l).indexOf("[native code]")!==-1}function Me(l){var s=typeof Map=="function"?new Map:void 0;return Me=function(p){if(p===null||!me(p))return p;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(typeof s<"u"){if(s.has(p))return s.get(p);s.set(p,y)}function y(){return ne(p,arguments,K(this).constructor)}return y.prototype=Object.create(p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),le(y,p)},Me(l)}function Oe(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function De(l,s){return s&&(typeof s=="object"||typeof s=="function")?s:Oe(l)}function Ue(l){var s=ce();return function(){var p=K(l),y;if(s){var w=K(this).constructor;y=Reflect.construct(p,arguments,w)}else y=p.apply(this,arguments);return De(this,y)}}function se(l,s){return Xe(l)||vt(l,s)||rt(l,s)||kr()}function _e(l){return Xe(l)||Be(l)||rt(l)||kr()}function be(l){return ie(l)||Be(l)||rt(l)||Qe()}function ie(l){if(Array.isArray(l))return xe(l)}function Xe(l){if(Array.isArray(l))return l}function Be(l){if(typeof Symbol<"u"&&Symbol.iterator in Object(l))return Array.from(l)}function vt(l,s){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(l)))){var d=[],p=!0,y=!1,w=void 0;try{for(var m=l[Symbol.iterator](),g;!(p=(g=m.next()).done)&&(d.push(g.value),!(s&&d.length===s));p=!0);}catch(x){y=!0,w=x}finally{try{!p&&m.return!=null&&m.return()}finally{if(y)throw w}}return d}}function rt(l,s){if(!!l){if(typeof l=="string")return xe(l,s);var d=Object.prototype.toString.call(l).slice(8,-1);if(d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set")return Array.from(l);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return xe(l,s)}}function xe(l,s){(s==null||s>l.length)&&(s=l.length);for(var d=0,p=new Array(s);d<s;d++)p[d]=l[d];return p}function Qe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rt(l,s){var d;if(typeof Symbol>"u"||l[Symbol.iterator]==null){if(Array.isArray(l)||(d=rt(l))||s&&l&&typeof l.length=="number"){d&&(l=d);var p=0,y=function(){};return{s:y,n:function(){return p>=l.length?{done:!0}:{done:!1,value:l[p++]}},e:function(x){throw x},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=!0,m=!1,g;return{s:function(){d=l[Symbol.iterator]()},n:function(){var x=d.next();return w=x.done,x},e:function(x){m=!0,g=x},f:function(){try{!w&&d.return!=null&&d.return()}finally{if(m)throw g}}}}function TA(){var l=U().period(14),s=function(x,_){return _+(x[x.length-1]-_)/x.length},d=function(x){var _=se(x,2),S=_[0],T=_[1];return S<T?0:S-T},p=function(x){var _=se(x,2),S=_[0],T=_[1];return S>T?0:T-S},y=function(x,_){return _!==void 0?s(x,_):t.mean(x)},w=function(){var x,_,S;return function(T){if(!T){x!==void 0&&(x=NaN);return}if(x===void 0){x=T[0];return}var V=t.pairs([x].concat(be(T)));_=y(V.map(d),_),S=y(V.map(p),S);var E=isNaN(x)?NaN:S/_;return re(100-100/(1+E))}},m=function(x){var _=w();return l.accumulator(_),l(x)};return A(m,l,"period","value"),m}function rv(){var l=U().accumulator(function(d){return d&&t.mean(d)}),s=function(p){return l(p)};return A(s,l,"period","value"),s}function kA(){var l=function(g,x){return g.close},s=function(g,x){return g.high},d=function(g,x){return g.low},p=U().period(5).defined(function(m){return l(m)!=null&&s(m)!=null&&d(m)!=null}).accumulator(function(m){var g=m&&t.max(m,s),x=m&&t.min(m,d),_=m&&100*(l(m[m.length-1])-x)/(g-x);return re(_)}),y=rv().period(3),w=function(g){var x=p(g),_=y(x);return x.map(function(S,T){return{k:S,d:_[T]}})};return w.closeValue=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],w):l},w.highValue=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],w):s},w.lowValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},C(w,p,L({period:"kPeriod"})),C(w,y,L({period:"dPeriod"})),w}function VA(){var l=function(m,g){return m.volume},s=function(m,g){return m.close},d=Z().period(13),p=U().period(2).defined(function(w){return s(w)!=null&&l(w)!=null}).accumulator(function(w){return w&&re((s(w[1])-s(w[0]))*l(w[1]))}),y=function(m){var g=p(m);return d(g)};return y.volumeValue=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],y):l},y.closeValue=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],y):s},A(y,d,"period"),y}function DA(){var l=.1,s=G,d=function(y){return y.map(function(w){var m=re(s(w)*(1-l)),g=re(s(w)*(1+l));return{lower:m,upper:g}})};return d.factor=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],d):l},d.value=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],d):s},d}function NA(){var l=function(m,g){return m.close},s=function(m,g){return m.high},d=function(m,g){return m.low},p=Z().period(13),y=function(m){return p.value(l),t.zip(m,p(m)).map(function(g){var x=re(s(g[0])-g[1]),_=re(d(g[0])-g[1]);return{bullPower:x,bearPower:_}})};return y.closeValue=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],y):l},y.highValue=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],y):s},y.lowValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},A(y,p,"period"),y}function av(){var l={};return l.distance=function(s,d){return d-s},l.offset=function(s,d){return s instanceof Date?new Date(s.getTime()+d):s+d},l.clampUp=function(s){return s},l.clampDown=function(s){return s},l.copy=function(){return l},l}function EA(l,s){var d=l.map(s.clampUp);return d.length!==new Set(d.map(function(p){return p?.valueOf()})).size&&console.warn("There are multiple ticks that fall within a discontinuity, which has led to them being rendered on top of each other. Consider using scale.ticks to explicitly specify the ticks for the scale."),d}function ov(l){var s=this;arguments.length||(l=n.scaleIdentity());var d=av(),p=function(w){var m=l.domain(),g=l.range(),x=d.distance(m[0],m[1]),_=d.distance(m[0],w),S=_/x,T=S*(g[1]-g[0])+g[0];return T};return p.invert=function(y){var w=l.domain(),m=l.range(),g=(y-m[0])/(m[1]-m[0]),x=d.distance(w[0],w[1]),_=g*x;return d.offset(w[0],_)},p.domain=function(){if(!arguments.length)return l.domain();var y=arguments.length<=0?void 0:arguments[0],w=d.clampUp(y[0]),m=d.clampDown(y[1]);return l.domain([w,m]),p},p.nice=function(){l.nice();var y=l.domain(),w=d.clampUp(y[0]),m=d.clampDown(y[1]);return l.domain([w,m]),p},p.ticks=function(){for(var y=arguments.length,w=new Array(y),m=0;m<y;m++)w[m]=arguments[m];var g=l.ticks.apply(s,w);return EA(g,d)},p.copy=function(){return ov(l.copy()).discontinuityProvider(d.copy())},p.discontinuityProvider=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},C(p,l,B("range","rangeRound","interpolate","clamp","tickFormat")),p}var iv=function(s,d,p,y){var w={sunday:0,monday:1,saturday:6},m=24*3600*1e3,g=m*5,x=m*7,_={},S=function(V){return s(V)===0||s(V)===6};return _.clampDown=function(T){if(T&&S(T)){var V=d.ceil(T);return s(V)===w.sunday?d.offset(V,-1):s(V)===w.monday?d.offset(V,-2):V}else return T},_.clampUp=function(T){if(T&&S(T)){var V=d.floor(T);return s(V)===w.saturday?d.offset(V,2):s(V)===w.sunday?d.offset(V,1):V}else return T},_.distance=function(T,V){T=_.clampUp(T),V=_.clampDown(V);var E=p.ceil(T);if(V<E)return V.getTime()-T.getTime();var z=E.getTime()-T.getTime(),I=p.ceil(V),F=I.getTime()-V.getTime(),Y=Math.round((I.getTime()-E.getTime())/x);return Y*g+z-F},_.offset=function(T,V){var E=S(T)?_.clampUp(T):T;if(V===0)return E;var z=V<0,I=V>0,F=V,Y=z?y.floor(E):p.ceil(E);if(F-=Y.getTime()-E.getTime(),z&&F>0||I&&F<0)return new Date(E.getTime()+V);E=z?Y:d.offset(Y,2);var W=Math.floor(F/g);return E=d.offset(E,W*7),F-=W*g,E=new Date(E.getTime()+F),E},_.copy=function(){return _},_},PA=function(){return iv(function(l){return l.getDay()},r.timeDay,r.timeSaturday,r.timeMonday)},LA=function(){return iv(function(l){return l.getUTCDay()},r.utcDay,r.utcSaturday,r.utcMonday)},IA=function(){for(var s=arguments.length,d=new Array(s),p=0;p<s;p++)d[p]=arguments[p];var y=function(_,S){return _>S[0]&&_<S[1]},w=function(_,S){return _[0]>=S[0]&&_[1]<=S[1]},m={};m.distance=function(x,_){x=m.clampUp(x),_=m.clampDown(_);var S=d.filter(function(V){return w(V,[x,_])}),T=S.map(function(V){return V[1]-V[0]});return _-x-T.reduce(function(V,E){return V+E},0)};var g=function(_,S){return _ instanceof Date?new Date(_.getTime()+S):_+S};return m.offset=function(x,_){if(_>0){var S=function(){for(var V=m.clampUp(x),E=_;E>0;){var z=d.filter(function(Y){return Y[0]>V}).sort(function(Y,W){return Y[0]-W[0]});if(z.length){var I=z[0],F=I[0]-V;F>E?(V=g(V,E),E=0):(V=I[1],E-=F)}else V=g(V,E),E=0}return{v:V}}();if(te(S)==="object")return S.v}else{var T=function(){for(var V=m.clampDown(x),E=_;E<0;){var z=d.filter(function(Y){return Y[1]<V}).sort(function(Y,W){return W[0]-Y[0]});if(z.length){var I=z[0],F=I[1]-V;F<E?(V=g(V,E),E=0):(V=I[0],E-=F)}else V=g(V,E),E=0}return{v:V}}();if(te(T)==="object")return T.v}},m.clampUp=function(x){return d.reduce(function(_,S){return y(_,S)?S[1]:_},x)},m.clampDown=function(x){return d.reduce(function(_,S){return y(_,S)?S[0]:_},x)},m.copy=function(){return m},m},_l=24*3600*1e3,tn="00:00:00.000",zA="SOD",RA="EOD";function uv(l){if(arguments.length!==1||typeof l!="string")throw"Expected single argument of type string";var s=function(m,g){return Number.isInteger(m)?m>=0&&m<=g:!1},d=[0,0,0,0],p=l.split(":");if(p.length<2||p.length>3)throw"Expected an argument wiht 2 or 3 colon delimited parts.";if(d[0]=s(parseInt(p[0],10),23)?parseInt(p[0],10):function(){throw"'Hours' component must be an int between 0 and 23, but was '".concat(p[0],"'")}(),d[1]=s(parseInt(p[1],10),59)?parseInt(p[1],10):function(){throw"'Minutes' component must be an int between 0 and 59, but was '".concat(p[1],"'")}(),p.length===3){var y=p[2].split(".").map(function(w){return parseInt(w,10)});d[2]=s(y[0],59)?y[0]:function(){throw"'Seconds' component must be an int between 0 and 59, but was '".concat(y[0],"'")}(),y.length===2&&(d[3]=s(y[1],999)?y[1]:function(){throw"'Miliseconds' component must be an int between 0 and 999, but was '".concat(y[1],"'")}())}return"".concat(d[0].toString(10).padStart(2,"0"),":").concat(d[1].toString(10).padStart(2,"0"),":").concat(d[2].toString(10).padStart(2,"0"),".").concat(d[3].toString(10).padStart(3,"0"))}function OA(l,s){if(arguments.length!=2||!Array.isArray(l)||l.length!==2||typeof l[0]!="string"||typeof l[1]!="string")throw"Expected argument is a single string[] of length 2.";l[0]===zA&&(l[0]=tn),l[1]===RA&&(l[1]=tn);var d=uv(l[0]),p=uv(l[1]);if(p!==tn&&d>p)throw"Time range start time '".concat(d,"' must be before end time '").concat(p,"' or both must equal ").concat(tn);var y=s.setTime(new Date(p===tn?_l:0),p)-s.setTime(new Date(0),d),w={startTime:d,endTime:p,lenghtInMs:y};return w.isInRange=function(m){var g=s.getTimeString(m);return w.startTime<=g&&(w.endTime===tn||w.endTime>g)},w}var ga=function(s,d){var p=s.map(function(g){return OA(g,d)}).sort(function(g,x){return g.startTime<x.startTime?-1:g.startTime>x.startTime?1:0}),y=_l-p.reduce(function(g,x){return g+x.lenghtInMs},0),w=function(x,_){if(x.getTime()===_.getTime())return 0;if(d.dayInterval(x).getTime()!==d.dayInterval(_).getTime()&&d.getStartOfNextDay(x).getTime()!==_.getTime())throw"tradingDay.totalTradingMillisecondsBetween arguments must be on the same day or intervalEnd must be the start of the next day instead: intervalStart: '".concat(x,"'; intervalEnd: '").concat(_,"'");var S=0,T=p.filter(function(Y){return Y.endTime===tn||d.setTime(x,Y.endTime)>=x}),V=Rt(T),E;try{for(V.s();!(E=V.n()).done;){var z=E.value,I=d.setTime(x,z.startTime),F=z.endTime===tn?d.getStartOfNextDay(x):d.setTime(x,z.endTime);if(x<I&&_<I)return S+d.msInterval.count(x,_);if(x<I&&(S+=d.msInterval.count(x,I)),_<F)return S;x=F}}catch(Y){V.e(Y)}finally{V.f()}return S+d.msInterval.count(x,_)},m=function(x,_){if(_===0)return[x,_];var S=d.msInterval.offset(x,_),T=_>0?p.filter(function(Q){return d.setTime(x,Q.startTime)>=x}):p.filter(function(Q){return d.setTime(x,Q.startTime)<x}).reverse();if(T.length===0)return[d.msInterval.offset(x,_),0];if(_>0){var V=Rt(T),E;try{for(V.s();!(E=V.n()).done;){var z=E.value,I=d.setTime(x,z.startTime);I<=S&&(_-=d.msInterval.count(x,I),x=z.endTime===tn?d.getStartOfNextDay(x):d.setTime(x,z.endTime),S=d.msInterval.offset(x,_))}}catch(Q){V.e(Q)}finally{V.f()}_-=d.msInterval.count(x,S)}else{var F=Rt(T),Y;try{for(F.s();!(Y=F.n()).done;){var W=Y.value,q=W.endTime===tn?d.getStartOfNextDay(x):d.setTime(x,W.endTime);S<q&&(_+=d.msInterval.count(q,x)+1,x=d.msInterval.offset(d.setTime(x,W.startTime),-1),S=d.msInterval.offset(x,_))}}catch(Q){F.e(Q)}finally{F.f()}_+=d.msInterval.count(S,x)}if(_!==0)throw"tradingDay.offset was called with an offset that spans more than a day";return[S,_]};return{totalTradingTimeInMiliseconds:y,nonTradingTimeRanges:p,totalTradingMillisecondsBetween:w,offset:m}},lv=function(s,d,p,y,w){var m={};return m.getTimeComponentArrayFromString=function(g){return[g.slice(0,2),g.slice(3,5),g.slice(6,8),g.slice(9,12)]},m.getTimeString=function(g){var x=p(g).map(function(z){return z.toString(10).padStart(2,"0")}),_=se(x,4),S=_[0],T=_[1],V=_[2],E=_[3];return"".concat(S,":").concat(T,":").concat(V,".").concat(E.padStart(3,"0"))},m.setTime=function(g,x){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,S=m.getTimeComponentArrayFromString(x),T=se(S,4),V=T[0],E=T[1],z=T[2],I=T[3];return w.offset(s(g,V,E,z,I),_)},m.getStartOfNextDay=function(g){return y.offset(y.floor(g),1)},m.getEndOfPreviousDay=function(g){return w.offset(y.floor(g),-1)},m.dayInterval=y,m.msInterval=w,m.getDay=d,m},BA=lv(function(l,s,d,p,y){return new Date(l.getFullYear(),l.getMonth(),l.getDate(),s,d,p,y)},function(l){return l.getDay()},function(l){return[l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()]},r.timeDay,r.timeMillisecond),fv=function(s,d){var p=function(x){return s[x]===void 0?[]:s[x]},y=[ga(p("Sunday"),d),ga(p("Monday"),d),ga(p("Tuesday"),d),ga(p("Wednesday"),d),ga(p("Thursday"),d),ga(p("Friday"),d),ga(p("Saturday"),d)],w=y.reduce(function(g,x){return g+x.totalTradingTimeInMiliseconds},0);if(w===0)throw"Trading pattern must yield at least 1 ms of trading time";var m={tradingDays:y,totalTradingWeekMilliseconds:w};return m.clampUp=function(g){var x=y[d.getDay(g)],_=Rt(x.nonTradingTimeRanges),S;try{for(_.s();!(S=_.n()).done;){var T=S.value;if(T.isInRange(g))return T.endTime===tn?m.clampUp(d.getStartOfNextDay(g)):d.setTime(g,T.endTime)}}catch(V){_.e(V)}finally{_.f()}return g},m.clampDown=function(g){var x=y[d.getDay(g)],_=Rt(x.nonTradingTimeRanges),S;try{for(_.s();!(S=_.n()).done;){var T=S.value;if(T.isInRange(g))return T.startTime===tn?m.clampDown(d.getEndOfPreviousDay(g)):d.setTime(g,T.startTime,-1)}}catch(V){_.e(V)}finally{_.f()}return g},m.distance=function(g,x){if(g.getTime()===x.getTime())return 0;var _=g<=x?[g,x,1]:[x,g,-1],S=se(_,3),T=S[0],V=S[1],E=S[2];if(d.dayInterval(T).getTime()===d.dayInterval(V).getTime())return m.tradingDays[d.getDay(T)].totalTradingMillisecondsBetween(T,V);var z=m.tradingDays[d.getDay(T)].totalTradingMillisecondsBetween(T,d.dayInterval.offset(d.dayInterval(T),1))+m.tradingDays[d.getDay(V)].totalTradingMillisecondsBetween(d.dayInterval(V),V);return d.dayInterval.count(T,V)===1?z:(T=d.dayInterval.offset(d.dayInterval(T),1),V=d.dayInterval(V),E*d.dayInterval.range(T,V).reduce(function(I,F,Y,W){var q=Y<W.length-1?W[Y+1]:d.dayInterval.offset(F,1),Q=q-F!==_l,ae=m.tradingDays[d.getDay(F)];return I+=Q?ae.totalTradingMillisecondsBetween(F,q):ae.totalTradingTimeInMiliseconds},z))},m.offset=function(g,x){g=x>=0?m.clampUp(g):m.clampDown(g);var _=function(Q){return d.dayInterval.offset(Q)-d.dayInterval(Q)!==_l},S=function(Q,ae,pe){if(pe<0){var ge=d.dayInterval(ae),he=Q.totalTradingMillisecondsBetween(ge,ae);return Math.abs(pe)<=he?Q.offset(ae,pe):[m.clampDown(d.msInterval.offset(ge,-1)),pe+he+1]}else{var Te=d.getStartOfNextDay(ae),xt=Q.totalTradingMillisecondsBetween(ae,Te);return pe<xt?Q.offset(ae,pe):[m.clampUp(Te),pe-xt]}};if(x===0)return g;var T=x<0?function(q,Q,ae){return[m.clampDown(d.dayInterval.offset(q,-1)),Q+ae]}:function(q,Q,ae){return[m.clampUp(d.dayInterval.offset(q)),Q-ae]},V=m.tradingDays[d.getDay(g)],E=S(V,g,x),z=se(E,2);for(g=z[0],x=z[1];x!==0;)if(V=m.tradingDays[d.getDay(g)],_(g)){var I=S(V,g,x),F=se(I,2);g=F[0],x=F[1]}else{var Y=Math.abs(x)>=V.totalTradingTimeInMiliseconds?T(g,x,V.totalTradingTimeInMiliseconds):S(V,g,x),W=se(Y,2);g=W[0],x=W[1]}return g},m.copy=function(){return m},m},FA=function(l){return fv(l,BA)},HA=lv(function(l,s,d,p,y){return new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),s,d,p,y))},function(l){return l.getUTCDay()},function(l){return[l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()]},r.utcDay,r.utcMillisecond),YA=function(l){return fv(l,HA)};function sv(){var l=[function(m){return m}],s=[0,0],d="percent",p=null,y=[],w=function(g){var x=new Array(g.length),_=Rt(l),S;try{for(_.s();!(S=_.n()).done;)for(var T=S.value,V=0;V<g.length;V++){var E=T(g[V],V);Array.isArray(E)?x.push.apply(x,be(E)):x.push(E)}}catch(Y){_.e(Y)}finally{_.f()}var z=[t.min(x),t.max(x)];if(z[0]=z[0]==null?t.min(y):t.min([z[0]].concat(be(y))),z[1]=z[1]==null?t.max(y):t.max([z[1]].concat(be(y))),p!=null){var I=Math.max(Math.abs(z[1]-p),Math.abs(z[0]-p));z[0]=p-I,z[1]=p+I}switch(d){case"domain":{z[0]-=s[0],z[1]+=s[1];break}case"percent":{var F=z[1]-z[0];z[0]-=s[0]*F,z[1]+=s[1]*F;break}default:throw new Error("Unknown padUnit: ".concat(d))}return z};return w.accessors=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],w):l},w.pad=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],w):s},w.padUnit=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},w.include=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],w):y},w.symmetricalAbout=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w}function cv(){var l=[],s=[0,0],d="percent",p=null,y=[],w=sv(),m=function(_){return _!=null?_.valueOf():null},g=function(_){var S=l.map(function(T){return function(){var V=T.apply(void 0,arguments);return Array.isArray(V)?V.map(m):m(V)}});return w.accessors(S).pad(s).padUnit(d).symmetricalAbout(p!=null?p.valueOf():null).include(y.map(function(T){return T.valueOf()})),w(_).map(function(T){return new Date(T)})};return g.accessors=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.pad=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],g):s},g.padUnit=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],g):d},g.include=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],g):y},g.symmetricalAbout=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],g):p},g}function dv(){var l=1,s=20,d=.1,p=.1,y=a.randomNormal(),w=function(){for(var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,x=l/s,_=[],S=0;S<s+1;S++){_.push(g);var T=y()*Math.sqrt(x)*p+(d-p*p/2)*x;g=g*Math.exp(T)}return _};return w.period=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],w):l},w.steps=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],w):s},w.mu=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},w.sigma=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.random=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],w):y},w}function WA(l){return typeof l=="function"?l:function(){return l}}function qA(){var l=new Date,s=100,d=r.timeDay,p=1,y=r.timeYear,w=1,m=null,g=function(){var I=a.randomNormal(1,.1);return Math.ceil(I()*1e3)},x=dv(),_=function(I){var F=y.offset(I,w)-I;return(d.offset(I,p)-I)/F},S=function(I,F){var Y=_(I),W=x.period(Y)(F),q={date:I,open:W[0],high:Math.max.apply(Math,W),low:Math.min.apply(Math,W),close:W[x.steps()]};return q.volume=g(q),q},T=function(I){var F,Y,W;do F=I?d.offset(I.date,p):new Date(l.getTime()),Y=I?I.close:s,I=S(F,Y),W=m&&!m(I);while(W);return I},V=function(){var I,F={};return F.next=function(){var Y=T(I);return I=Y,Y},F.take=function(Y){return F.until(function(W,q){return!Y||Y<0||q===Y})},F.until=function(Y){for(var W=[],q=0,Q=T(I),ae=Y&&!Y(Q,q);ae;)W.push(Q),I=Q,Q=T(I),q+=1,ae=Y&&!Y(Q,q);return W},F},E=function(I){return V().take(I)};if(E.stream=V,typeof Symbol!="function"||te(Symbol.iterator)!=="symbol")throw new Error("d3fc-random-data depends on Symbol. Make sure that you load a polyfill in older browsers. See README.");return E[Symbol.iterator]=function(){var z=V();return{next:function(){return{value:z.next(),done:!1}}}},E.startDate=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],E):l},E.startPrice=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],E):s},E.interval=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],E):d},E.intervalStep=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],E):p},E.unitInterval=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],E):y},E.unitIntervalStep=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],E):w},E.filter=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],E):m},E.volume=function(){return arguments.length?(g=WA(arguments.length<=0?void 0:arguments[0]),E):g},C(E,x),E}function GA(l){var s=l.date.getDay();return!(s===0||s===6)}function $A(){var l="BTC-USD",s=null,d=null,p=null,y=function(){var m=[];s!=null&&m.push("start="+s.toISOString()),d!=null&&m.push("end="+d.toISOString()),p!=null&&m.push("granularity="+p);var g="https://api.gdax.com/products/"+l+"/candles?"+m.join("&");return o.json(g).then(function(x){return x.map(function(_){return{date:new Date(_[0]*1e3),open:_[3],high:_[2],low:_[1],close:_[4],volume:_[5]}})})};return y.product=function(w){return arguments.length?(l=w,y):l},y.start=function(w){return arguments.length?(s=w,y):s},y.end=function(w){return arguments.length?(d=w,y):d},y.granularity=function(w){return arguments.length?(p=w,y):p},y}function Sl(){var l=10,s=function(p){return l<=1?p.map(function(y){return[y]}):t.range(0,Math.ceil(p.length/l)).map(function(y){return p.slice(y*l,(y+1)*l)})};return s.bucketSize=function(d){return arguments.length?(l=d,s):l},s}function UA(){var l=Sl(),s=function(m){return m},d=function(m){return m},p=function(m){if(l.bucketSize()>=m.length)return m;var g=y(m),x=l(g),_=l(m.slice(1,m.length-1)),S=_.map(function(T,V){var E=x[V],z=t.max(E),I=E.indexOf(z);return T[I]});return[].concat([m[0]],S,[m[m.length-1]])};function y(w){var m=w.map(function(x){return[s(x),d(x)]}),g=t.range(1,m.length-1).map(function(x){var _=m[x-1],S=m[x],T=m[x+1];return .5*Math.abs((_[0]-T[0])*(S[1]-_[1])-(_[0]-S[0])*(T[1]-_[1]))});return g}return A(p,l,"bucketSize"),p.x=function(w){return arguments.length?(s=w,p):s},p.y=function(w){return arguments.length?(d=w,p):d},p}function XA(){var l=function(w){return w},s=function(w){return w},d=Sl(),p=function(w){if(d.bucketSize()>=w.length)return w;var m=d(w.slice(1,w.length-1)),g=w[0],x=w[w.length-1],_=[].concat([g],m,[x]),S=l(g),T=s(g),V=m.map(function(E,z){var I=t.mean(_[z+1],l),F=t.mean(_[z+1],s),Y=E.map(function(ae){return[l(ae),s(ae)]}),W=Y.map(function(ae){return .5*Math.abs((S-I)*(ae[1]-T)-(S-ae[0])*(F-T))}),q=W.indexOf(t.max(W)),Q=Y[q];return S=Q[0],T=Q[1],E[q]});return[].concat([w[0]],V,[w[w.length-1]])};return A(p,d,"bucketSize"),p.x=function(y){return arguments.length?(l=y,p):l},p.y=function(y){return arguments.length?(s=y,p):s},p}function jA(){var l=Sl(),s=function(y){return y},d=function(y){if(l.bucketSize()>y.length)return y;var w=t.extent(y,s),m=l(y.slice(1,y.length-1)),g=m.map(function(x,_){var S={},T,V,E=!0,z=x.map(s),I=z.filter(function(F){return F===w[0]||F===w[1]}).map(function(F){return z.indexOf(F)})[0];return I!==void 0?x[I]:(z.forEach(function(F,Y){S[F]===void 0&&(S[F]=0),S[F]++,S[F]>S[T]||T===void 0?(T=F,V=Y,E=!0):S[F]===S[T]&&(E=!1)}),E?x[V]:x[Math.floor(x.length/2)])});return[].concat([y[0]],g,[y[y.length-1]])};return A(d,l,"bucketSize"),d.value=function(p){return arguments.length?(s=p,d):s},d}var Ne=function(l){return typeof l=="function"?l:function(){return l}},Xc=function(){var l=null,s=function(S){return S.date},d=function(S){return S.open},p=function(S){return S.high},y=function(S){return S.low},w=function(S){return S.close},m="vertical",g=Ne(3),x=function(S){var T=l||i.path();return S.forEach(function(V,E){var z=s(V,E),I=d(V,E),F=p(V,E),Y=y(V,E),W=w(V,E),q=g(V,E)/2;m==="vertical"?(T.moveTo(z,Y),T.lineTo(z,F),T.moveTo(z,I),T.lineTo(z-q,I),T.moveTo(z,W),T.lineTo(z+q,W)):(T.moveTo(Y,z),T.lineTo(F,z),T.moveTo(I,z),T.lineTo(I,z+q),T.moveTo(W,z),T.lineTo(W,z-q))}),l?null:T.toString()};return x.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],x):l},x.x=function(){return arguments.length?(s=Ne(arguments.length<=0?void 0:arguments[0]),x):s},x.open=function(){return arguments.length?(d=Ne(arguments.length<=0?void 0:arguments[0]),x):d},x.high=function(){return arguments.length?(p=Ne(arguments.length<=0?void 0:arguments[0]),x):p},x.low=function(){return arguments.length?(y=Ne(arguments.length<=0?void 0:arguments[0]),x):y},x.close=function(){return arguments.length?(w=Ne(arguments.length<=0?void 0:arguments[0]),x):w},x.width=function(){return arguments.length?(g=Ne(arguments.length<=0?void 0:arguments[0]),x):g},x.orient=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],x):m},x},Ao=function(){var l=null,s=function(_){return _.x},d=function(_){return _.y},p="center",y="center",w=function(_){return _.height},m=Ne(3),g=function(_,S){var T=l||i.path();return _.forEach(function(V,E){var z=s.call(this,V,S||E),I=d.call(this,V,S||E),F=w.call(this,V,S||E),Y=m.call(this,V,S||E),W;switch(p){case"left":W=Y;break;case"right":W=0;break;case"center":W=Y/2;break;default:throw new Error("Invalid horizontal alignment "+p)}var q;switch(y){case"bottom":q=-F;break;case"top":q=0;break;case"center":q=F/2;break;default:throw new Error("Invalid vertical alignment "+y)}T.rect(z-W,I-q,Y,F)},this),l?null:T.toString()};return g.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.x=function(){return arguments.length?(s=Ne(arguments.length<=0?void 0:arguments[0]),g):s},g.y=function(){return arguments.length?(d=Ne(arguments.length<=0?void 0:arguments[0]),g):d},g.width=function(){return arguments.length?(m=Ne(arguments.length<=0?void 0:arguments[0]),g):m},g.horizontalAlign=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],g):p},g.height=function(){return arguments.length?(w=Ne(arguments.length<=0?void 0:arguments[0]),g):w},g.verticalAlign=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],g):y},g},jc=function(){var l=null,s=function(_){return _.date},d=function(_){return _.open},p=function(_){return _.high},y=function(_){return _.low},w=function(_){return _.close},m=Ne(3),g=function(_){var S=l||i.path();return _.forEach(function(T,V){var E=s(T,V),z=d(T,V),I=p(T,V),F=y(T,V),Y=w(T,V),W=m(T,V),q=W/2;S.rect(E-q,z,W,Y-z),S.moveTo(E,Math.min(Y,z)),S.lineTo(E,I),S.moveTo(E,Math.max(Y,z)),S.lineTo(E,F)}),l?null:S.toString()};return g.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.x=function(){return arguments.length?(s=Ne(arguments.length<=0?void 0:arguments[0]),g):s},g.open=function(){return arguments.length?(d=Ne(arguments.length<=0?void 0:arguments[0]),g):d},g.high=function(){return arguments.length?(p=Ne(arguments.length<=0?void 0:arguments[0]),g):p},g.low=function(){return arguments.length?(y=Ne(arguments.length<=0?void 0:arguments[0]),g):y},g.close=function(){return arguments.length?(w=Ne(arguments.length<=0?void 0:arguments[0]),g):w},g.width=function(){return arguments.length?(m=Ne(arguments.length<=0?void 0:arguments[0]),g):m},g},Qc=function(){var l=null,s=function(V){return V.value},d=function(V){return V.median},p=function(V){return V.upperQuartile},y=function(V){return V.lowerQuartile},w=function(V){return V.high},m=function(V){return V.low},g="vertical",x=Ne(5),_=Ne(.5),S=function(V){var E=l||i.path();return V.forEach(function(z,I){var F=s(z,I),Y=x(z,I),W=Y/2,q=Y*_(z,I),Q=q/2,ae=w(z,I),pe=p(z,I),ge=d(z,I),he=y(z,I),Te=m(z,I),xt=he-pe;g==="vertical"?(E.moveTo(F-Q,ae),E.lineTo(F+Q,ae),E.moveTo(F,ae),E.lineTo(F,pe),E.rect(F-W,pe,Y,xt),E.moveTo(F-W,ge),E.lineTo(F+W,ge),E.moveTo(F,he),E.lineTo(F,Te),E.moveTo(F-Q,Te),E.lineTo(F+Q,Te)):(E.moveTo(Te,F-Q),E.lineTo(Te,F+Q),E.moveTo(Te,F),E.lineTo(he,F),E.rect(he,F-W,-xt,Y),E.moveTo(ge,F-W),E.lineTo(ge,F+W),E.moveTo(pe,F),E.lineTo(ae,F),E.moveTo(ae,F-Q),E.lineTo(ae,F+Q))}),l?null:E.toString()};return S.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],S):l},S.value=function(){return arguments.length?(s=Ne(arguments.length<=0?void 0:arguments[0]),S):s},S.median=function(){return arguments.length?(d=Ne(arguments.length<=0?void 0:arguments[0]),S):d},S.upperQuartile=function(){return arguments.length?(p=Ne(arguments.length<=0?void 0:arguments[0]),S):p},S.lowerQuartile=function(){return arguments.length?(y=Ne(arguments.length<=0?void 0:arguments[0]),S):y},S.high=function(){return arguments.length?(w=Ne(arguments.length<=0?void 0:arguments[0]),S):w},S.low=function(){return arguments.length?(m=Ne(arguments.length<=0?void 0:arguments[0]),S):m},S.width=function(){return arguments.length?(x=Ne(arguments.length<=0?void 0:arguments[0]),S):x},S.orient=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],S):g},S.cap=function(){return arguments.length?(_=Ne(arguments.length<=0?void 0:arguments[0]),S):_},S},Kc=function(){var l=null,s=function(x){return x.x},d=function(x){return x.high},p=function(x){return x.low},y="vertical",w=Ne(5),m=function(x){var _=l||i.path();return x.forEach(function(S,T){var V=s(S,T),E=w(S,T),z=E/2,I=d(S,T),F=p(S,T);y==="vertical"?(_.moveTo(V-z,I),_.lineTo(V+z,I),_.moveTo(V,I),_.lineTo(V,F),_.moveTo(V-z,F),_.lineTo(V+z,F)):(_.moveTo(F,V-z),_.lineTo(F,V+z),_.moveTo(F,V),_.lineTo(I,V),_.moveTo(I,V-z),_.lineTo(I,V+z))}),l?null:_.toString()};return m.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],m):l},m.value=function(){return arguments.length?(s=Ne(arguments.length<=0?void 0:arguments[0]),m):s},m.high=function(){return arguments.length?(d=Ne(arguments.length<=0?void 0:arguments[0]),m):d},m.low=function(){return arguments.length?(p=Ne(arguments.length<=0?void 0:arguments[0]),m):p},m.width=function(){return arguments.length?(w=Ne(arguments.length<=0?void 0:arguments[0]),m):w},m.orient=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],m):y},m},Zc=function(l){return typeof l=="function"?l:function(){return l}},Jc=1e-6,at=function(s){return s.selection()!==s},Le=function(l,s){l=l||"g";var d=function(m,g){return g},p=null,y=function(m,g){g=g||function(I){return I};var x=m.selection(),_=at(m)?m:null,S=x.selectChildren(s==null?l:"".concat(l,".").concat(s)),T=S.data(g,d),V=T.enter().append(l).attr("class",s),E=T.exit();T=T.merge(V);var z=_||p;return z&&(T=T.transition(z).style("opacity",1),V.style("opacity",Jc),E=E.transition(z).style("opacity",Jc)),E.remove(),T.enter=function(){return V},T.exit=function(){return E},T};return y.element=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],y):l},y.className=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],y):s},y.key=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},y.transition=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],y):p},y},QA=function(l){var s=function(){},d=function(){return[0,0]},p=function(T,V){return[T.x,T.y]},y=l||function(S){return S},w=function(){},m=n.scaleIdentity(),g=n.scaleIdentity(),x=Le("g","label"),_=function(T){T.each(function(V,E,z){var I=x(u.select(z[E]),V).call(w),F=I.nodes(),Y=F.map(function(q,Q){var ae=u.select(q).datum(),pe=p(ae,Q,F),ge=[m(pe[0]),g(pe[1])],he=d(ae,Q,F);return{hidden:!1,x:ge[0],y:ge[1],width:he[0],height:he[1]}}),W=y(Y);I.attr("style",function(q,Q){return"display:"+(W[Q].hidden?"none":"inherit")}).attr("transform",function(q,Q){return"translate("+W[Q].x+", "+W[Q].y+")"}).attr("layout-width",function(q,Q){return W[Q].width}).attr("layout-height",function(q,Q){return W[Q].height}).attr("anchor-x",function(q,Q,ae){return Y[Q].x-W[Q].x}).attr("anchor-y",function(q,Q,ae){return Y[Q].y-W[Q].y}),I.call(w),s(I,V,E)})};return C(_,x,B("key")),C(_,y),_.size=function(){return arguments.length?(d=Zc(arguments.length<=0?void 0:arguments[0]),_):d},_.position=function(){return arguments.length?(p=Zc(arguments.length<=0?void 0:arguments[0]),_):p},_.component=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],_):w},_.decorate=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],_):s},_.xScale=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],_):m},_.yScale=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],_):g},_},KA=function(l){var s=2,d=function(x){return x},p=Le("text"),y=Le("rect"),w=Le("circle"),m=function(x){x.each(function(_,S,T){var V=T[S],E=u.select(V),z=Number(V.getAttribute("layout-width")),I=Number(V.getAttribute("layout-height")),F=y(E,[_]);F.attr("width",z).attr("height",I);var Y=Number(V.getAttribute("anchor-x")),W=Number(V.getAttribute("anchor-y")),q=w(E,[_]);q.attr("r",2).attr("cx",Y).attr("cy",W);var Q=p(E,[_]);Q.enter().attr("dy","0.9em").attr("transform","translate(".concat(s,", ").concat(s,")")),Q.text(d)})};return m.padding=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.value=function(){return arguments.length?(d=Zc(arguments.length<=0?void 0:arguments[0]),m):d},m},ZA=function(s,d){return!(s.x>=d.x+d.width||s.x+s.width<=d.x||s.y>=d.y+d.height||s.y+s.height<=d.y)},ed=function(l,s){if(ZA(l,s)){var d=Math.max(l.x,s.x),p=Math.min(l.x+l.width,s.x+s.width),y=Math.max(l.y,s.y),w=Math.min(l.y+l.height,s.y+s.height);return(p-d)*(w-y)}else return 0},td=function(s,d){return t.sum(s.map(function(p,y){return d===y?0:ed(s[d],p)}))},Vr=function(s,d,p,y,w){return{x:s,y:d,width:p,height:y,location:w}},mv=function(l){var s=l.x,d=l.y,p=l.width,y=l.height;return[Vr(s,d,p,y,"bottom-right"),Vr(s-p,d,p,y,"bottom-left"),Vr(s-p,d-y,p,y,"top-left"),Vr(s,d-y,p,y,"top-right"),Vr(s,d-y/2,p,y,"middle-right"),Vr(s-p/2,d,p,y,"bottom-center"),Vr(s-p,d-y/2,p,y,"middle-left"),Vr(s-p/2,d-y,p,y,"top-center")]},hv=function(s,d,p){return[].concat(be(s.slice(0,d)),[p],be(s.slice(d+1)))},JA=function(s,d){return s<d},pv=function l(){var s=null,d=JA,p=function(){return 0},y,w=function(x,_){return s-p(y[_],_,y)+p(x,_,hv(y,_,x))},m=function g(x,_){s||(s=t.sum(y.map(function(T,V){return p(T,V,y)})));var S=w(x,_);return d(S,s)?l().locationScore(p).winningScore(d).score(S).rectangles(hv(y,_,x)):g};return m.rectangles=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],m):y},m.score=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.winningScore=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},m.locationScore=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m},eC=function(){var l,s=function(w){return l?w.width*w.height-ed(w,l):0},d=function(w,m,g){return td(g,m)+s(w)},p=function(w){var m=pv().locationScore(d).rectangles(w);return w.forEach(function(g,x){mv(g).forEach(function(_,S){m=m(_,x)})}),m.rectangles()};return p.bounds=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},p},tC=function(s){return s[gv(s)]},gv=function(s){return Math.floor(Math.random()*s.length)},nC=function(){var l=1e3,s=1,d,p=function(x){switch(x.location){case"bottom-right":return 0;case"middle-right":case"bottom-center":return x.width*x.height/8}return x.width*x.height/4},y=function(x){return d?x.width*x.height-ed(x,d):0},w=function(x,_,S){return td(S,_)+y(x)+p(x)},m=function(x){for(var _=l,S=function(I,F){return Math.exp((F-I)/_)>Math.random()},T=pv().locationScore(w).winningScore(S).rectangles(x);_>0;){var V=gv(x),E=tC(mv(x[V]));T=T(E,V),_-=s}return T.rectangles()};return m.temperature=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],m):l},m.cooling=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.bounds=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},m},rC=function(s,d){return s[t.scan(s,d)]},aC=function(l){l=l||function(d){return d};var s=function(p){p=l(p);for(var y=function(){var g=p.filter(function(S){return!S.hidden}),x=g.map(function(S,T){return[S,td(g,T)]}),_=rC(x,function(S,T){return T[1]-S[1]});if(_[1]>0)_[0].hidden=!0;else return"break"};;){var w=y();if(w==="break")break}return p};return C(s,l),s},oC=function(){var l=[0,0],s=function(p){return p.map(function(y,w){var m=y.x,g=y.y;return m+y.width>l[0]&&(m-=y.width),g+y.height>l[1]&&(g-=y.height),{height:y.height,width:y.width,x:m,y:g}})};return s.bounds=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],s):l},s},Ge=function(l){return typeof l=="function"?l:function(){return l}};function Ii(){var l=arguments;return function(s,d){for(var p=0,y=l.length;p<y;p++)if(l[p](s,d)==null)return!1;return!0}}var zi=function(l,s){switch(l){case"left":return s/2;case"right":return-s/2;default:return 0}},va=function(l){var s=Object.assign({},l),d=function(){};return Object.keys(s).forEach(function(p){d[p]=function(){return arguments.length?(s[p]=arguments.length<=0?void 0:arguments[0],d):s[p]}}),d},nn=function(){var l=function(){return 0},s=function(x){return x.x},d=function(x){return x.y},p="center",y=function(){return 5},w="vertical",m=va({decorate:function(){},defined:function(x,_){return Ii(l,s,d)(x,_)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return m.values=function(g,x){var _=y(g,x),S=zi(p,_),T=m.xScale(),V=m.yScale();if(w==="vertical"){var E=V(d(g,x),x),z=V(l(g,x),x),I=T(s(g,x),x)+S;return{d:g,x:I,y:E,y0:z,width:_,height:E-z,origin:[I,E],baseOrigin:[I,z],transposedX:I,transposedY:E}}else{var F=T(d(g,x),x),Y=T(l(g,x),x),W=V(s(g,x),x)+S;return{d:g,x:W,y:F,y0:Y,width:_,height:F-Y,origin:[F,W],baseOrigin:[Y,W],transposedX:F,transposedY:W}}},m.xValues=function(){return w==="vertical"?[s]:[l,d]},m.yValues=function(){return w!=="vertical"?[s]:[l,d]},m.baseValue=function(){return arguments.length?(l=Ge(arguments.length<=0?void 0:arguments[0]),m):l},m.crossValue=function(){return arguments.length?(s=Ge(arguments.length<=0?void 0:arguments[0]),m):s},m.mainValue=function(){return arguments.length?(d=Ge(arguments.length<=0?void 0:arguments[0]),m):d},m.bandwidth=function(){return arguments.length?(y=Ge(arguments.length<=0?void 0:arguments[0]),m):y},m.align=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.orient=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],m):w},m},iC="#c60",uC="#6c0",lC="#000",fC="#ddd",sC="#999",tt={red:iC,green:uC,black:lC,gray:fC,darkGray:sC},nd=function(){var l=nn(),s=f.line().x(function(y,w){return l.values(y,w).transposedX}).y(function(y,w){return l.values(y,w).transposedY}),d=Le("path","line"),p=function(w){at(w)&&d.transition(w),s.defined(l.defined()),w.each(function(m,g,x){var _=d(u.select(x[g]),[m]);_.enter().attr("fill","none").attr("stroke",tt.black),_.attr("d",s),l.decorate()(_,m,g)})};return C(p,l,O("baseValue","bandwidth","align")),A(p,d,"key"),A(p,s,"curve"),p},rd=function(){var l=nn(),s=f.line().x(function(p,y){return l.values(p,y).transposedX}).y(function(p,y){return l.values(p,y).transposedY}),d=function(y){var w=s.context();w.beginPath(),w.strokeStyle=tt.black,w.fillStyle="transparent",l.decorate()(w,y),s.defined(l.defined())(y),w.fill(),w.stroke(),w.closePath()};return C(d,l,O("baseValue","bandwidth","align")),A(d,s,"curve","context"),d},it=function(){var l=[0,1],s=[-1,1],d=function(){};return d.domain=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],d):l},d.range=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],d):s},d},vv=function(){var l={},s={},d=null,p=function(w,m){var g=w.context();Object.keys(l).forEach(function(x){var _=l[x];if(typeof _!="function")throw new Error("Expected an attribute for ".concat(x,", found ").concat(_));var S=g.getAttribLocation(m,x);_.location(S)(w)}),Object.keys(s).forEach(function(x){var _=s[x];if(typeof _!="function")throw new Error("Expected a uniform for ".concat(x,", found ").concat(_));var S=g.getUniformLocation(m,x);_.location(S)(w)}),d!==null&&d(w)};return p.flush=function(){Object.values(l).forEach(function(y){return y.clear()}),Object.values(s).forEach(function(y){return y.clear()}),d!==null&&d.clear()},p.attribute=function(){for(var y=arguments.length,w=new Array(y),m=0;m<y;m++)w[m]=arguments[m];return w.length===1?l[w[0]]:(l[w[0]]=w[1],p)},p.uniform=function(){for(var y=arguments.length,w=new Array(y),m=0;m<y;m++)w[m]=arguments[m];return w.length===1?s[w[0]]:(s[w[0]]=w[1],p)},p.elementIndices=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p},Qt=function(l){var s=-1,d=l,p=!0,y=function(m){if(!!p){var g=m.context();if(Array.isArray(d))switch(d.length){case 1:g.uniform1fv(s,d);break;case 2:g.uniform2fv(s,d);break;case 3:g.uniform3fv(s,d);break;case 4:g.uniform4fv(s,d);break;default:throw new Error("Uniform supports up to 4 elements. ".concat(d.length," provided."))}else g.uniform1f(s,d);p=!1}};return y.clear=function(){p=!0},y.location=function(){return arguments.length?(s!==(arguments.length<=0?void 0:arguments[0])&&(s=arguments.length<=0?void 0:arguments[0],p=!0),y):s},y.data=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p=!0,y):d},y},ir={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},ur=function(){var l=null,s=null,d=null,p=null,y=null,w=null,m=ir.TRIANGLES,g=0,x=vv(),_=!1,S=null,T=!0,V=1,E=function Y(W){if(l!=null){var q=d(),Q=p();if(z(s,q,Q)&&(s=I(q,Q),y=q,w=Q,T=!1),l.useProgram(s),x.uniform("uScreen",Qt([l.canvas.width/V,l.canvas.height/V])),x(Y,s),g===0)x.elementIndices()==null?l.drawArrays(m,0,W):l.drawElements(m,W,l.UNSIGNED_SHORT,0);else if(x.elementIndices()==null)S.drawArraysInstancedANGLE(m,0,g,W);else{var ae=x.elementIndices().data().length;if(g!==ae)throw new Error("Expected elementIndices length ".concat(ae)+" to match subInstanceCount ".concat(g,"."));S.drawElementsInstancedANGLE(m,g,l.UNSIGNED_SHORT,0,W)}}};return E.extInstancedArrays=function(){return S},E.context=function(){for(var Y=arguments.length,W=new Array(Y),q=0;q<Y;q++)W[q]=arguments[q];return W.length?((W[0]==null||W[0]!==l)&&(x.flush(),T=!0),W[0]!=null&&W[0]!==l&&(S=W[0].getExtension("ANGLE_instanced_arrays")),l=W[0],E):l},E.buffers=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],E):x},E.vertexShader=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],E):d},E.fragmentShader=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],E):p},E.mode=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],E):m},E.subInstanceCount=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],E):g},E.debug=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],E):_},E.pixelRatio=function(){return arguments.length?(V=arguments.length<=0?void 0:arguments[0],E):V},E;function z(Y,W,q){return!Y||T?!0:W!==y||q!==w}function I(Y,W){var q=F(Y,l.VERTEX_SHADER),Q=F(W,l.FRAGMENT_SHADER),ae=l.createProgram();if(l.attachShader(ae,q),l.attachShader(ae,Q),l.linkProgram(ae),_&&!l.getProgramParameter(ae,l.LINK_STATUS)){var pe=l.getProgramInfoLog(ae);throw l.deleteProgram(ae),new Error("Failed to link program : ".concat(pe,`
            Vertex Shader : `).concat(Y,`
            Fragment Shader : `).concat(W))}return ae}function F(Y,W){var q=l.createShader(W);if(l.shaderSource(q,Y),l.compileShader(q),_&&!l.getShaderParameter(q,l.COMPILE_STATUS)){var Q=l.getShaderInfoLog(q);throw l.deleteShader(q),new Error("Failed to compile shader : ".concat(Q,`
            Shader : `).concat(Y))}return q}},Ye=function(l){var s=[],d=[],p=function(){return l(s.join(`
`),d.join(`
`))};function y(g,x){g.push(x)}function w(g,x,_){var S=g.indexOf(_);g.splice(S>=0?S:g.length,0,x)}function m(g,x){var _=g.indexOf(x);_===-1&&g.push(x)}return p.appendHeader=function(g){return y(s,g),p},p.insertHeader=function(g,x){return w(s,g,x),p},p.appendHeaderIfNotExists=function(g){return m(s,g),p},p.appendBody=function(g){return y(d,g),p},p.insertBody=function(g,x){return w(d,g,x),p},p.appendBodyIfNotExists=function(g){return m(d,g),p},p},Wt=function(s,d){return`
precision mediump float;
float inf = 1.0 / 0.0;
`.concat(s,`
void main() {
    `).concat(d,`
}`)},qt=function(s,d){return`
precision mediump float;
`.concat(s,`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
    `).concat(d,`
}`)},xv={header:`attribute vec4 aFillColor;
             varying vec4 vFillColor;`,body:"vFillColor = aFillColor;"},bv={header:`attribute vec4 aStrokeColor;
             varying vec4 vStrokeColor;`,body:"vStrokeColor = aStrokeColor;"},yv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 2.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},wv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 4.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},_v={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 3.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Sv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt(aSize);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Mv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt(aSize);
        gl_PointSize = 2.0 * (vSize + uStrokeWidth + 1.0);
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Av={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt((16.0 * aSize) / (3.0 * sqrt(3.0)));
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Cv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vStrokeWidthRatio;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 3.0 * sqrt(aSize / 5.0);
        vStrokeWidthRatio = uStrokeWidth / (vSize + uStrokeWidth + 1.0);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Tv={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aOpenValue;
        attribute float aCloseValue;
        attribute float aLowValue;
        attribute vec3 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vColorIndicator;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vColorIndicator = sign(aCloseValue - aOpenValue);

        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;
        float isNotPositiveY = 1.0 - isPositiveY;
        float isExtremeY = abs(aCorner.y) - 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;
        float yValue =
         (isPositiveY * isExtremeY * aLowValue) +
         (isPositiveY * isNotExtremeY * aCloseValue) +
         (isNotPositiveY * isNotExtremeY * aOpenValue) +
         (isNotPositiveY * isExtremeY * aHighValue);

        float lineWidthXDirection = (isNotExtremeY * aCorner.x) + (isExtremeY * aCorner.z);
        float lineWidthYDirection = isNotExtremeY * sign(aCloseValue - aOpenValue) * aCorner.y;

        float bandwidthModifier = aBandwidth * aCorner.x / 2.0;

        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;
        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},kv={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aOpenValue;
        attribute float aCloseValue;
        attribute float aLowValue;
        attribute vec3 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vColorIndicator;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vColorIndicator = sign(aCloseValue - aOpenValue);

        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;
        float isNotPositiveY = 1.0 - isPositiveY;
        float isExtremeY = abs(aCorner.y) - 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;
        float yValue =
            (isPositiveY * isExtremeY * aLowValue) +
            (isPositiveY * isNotExtremeY * aCloseValue) +
            (isNotPositiveY * isNotExtremeY * aOpenValue) +
            (isNotPositiveY * isExtremeY * aHighValue);

        float lineWidthXDirection = isExtremeY * aCorner.z;
        float lineWidthYDirection = isNotExtremeY * aCorner.z;

        float bandwidthModifier = isNotExtremeY * aCorner.x * aBandwidth / 2.0;

        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;
        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},Vv={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aMainValue;
        attribute float aBaseValue;
        attribute vec2 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;`,body:`
        vDefined = aDefined;
        float isBaseline = (1.0 - aCorner.y) / 2.0;
        float yValue = (isBaseline * aBaseValue) + ((1.0 - isBaseline) * aMainValue);

        float xModifier = aCorner.x * (aBandwidth) / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},Dv={header:`
        attribute vec3 aCorner;
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aLowValue;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;`,body:`
        vDefined = aDefined;
        float isLow = (aCorner.y + 1.0) / 2.0;
        float yValue = isLow * aLowValue + (1.0 - isLow) * aHighValue;

        float isEdgeCorner = abs(aCorner.x);
        float lineWidthXDirection = (1.0 - isEdgeCorner) * aCorner.z;
        float lineWidthYDirection = isEdgeCorner * aCorner.z;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);

        float xModifier = (uStrokeWidth * lineWidthXDirection) + (aBandwidth * aCorner.x / 2.0);
        float yModifier = (uStrokeWidth * lineWidthYDirection);`},Nv={header:`
        attribute vec3 aCorner;
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aCrossNextValue;
        attribute float aMainNextValue;
        attribute float aBaseValue;
        attribute float aBaseNextValue;
        attribute float aDefined;
        attribute float aDefinedNext;

        varying float vDefined;

        float when_lt(float a, float b) {
            return max(sign(b - a), 0.0);
        }

        float and(float a, float b) {
            return a * b;
        }`,body:`
        vDefined = aDefined * aDefinedNext;
        gl_Position = vec4(0, 0, 0, 1);

        float hasIntercepted = when_lt((aMainNextValue - aBaseNextValue) * (aMainValue - aBaseValue), 0.0);
        float useIntercept = and(aCorner.z, hasIntercepted);

        float yGradient = (aMainNextValue - aMainValue) / (aCrossNextValue - aCrossValue);
        float yConstant = aMainNextValue - (yGradient * aCrossNextValue);

        float y0Gradient = (aBaseNextValue - aBaseValue) / (aCrossNextValue - aCrossValue);
        float y0Constant = aBaseNextValue - (y0Gradient * aCrossNextValue);

        float denominator = (yGradient - y0Gradient) + step(abs(yGradient - y0Gradient), 0.0);
        float interceptXValue = (y0Constant - yConstant) / denominator;
        float interceptYValue = (yGradient * interceptXValue) + yConstant;

        gl_Position = vec4(interceptXValue * useIntercept, interceptYValue * useIntercept, 0, 1);

        gl_Position.x += (1.0 - useIntercept) * ((aCorner.x * aCrossNextValue) + ((1.0 - aCorner.x) * aCrossValue));
        gl_Position.y += (1.0 - useIntercept) * (1.0 - aCorner.y) * ((aCorner.x * aMainNextValue) + ((1.0 - aCorner.x) * aMainValue));
        gl_Position.y += (1.0 - useIntercept) * aCorner.y * ((aCorner.x * aBaseNextValue) + ((1.0 - aCorner.x) * aBaseValue));`},Ev={header:`
        attribute vec4 aCorner;
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aCapWidth;
        attribute float aHighValue;
        attribute float aUpperQuartileValue;
        attribute float aMedianValue;
        attribute float aLowerQuartileValue;
        attribute float aLowValue;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;
    `,body:`
        vDefined = aDefined;
        float isExtremeY = sign(abs(aCorner.y) - 2.0) + 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;

        float isNonZeroY = abs(sign(aCorner.y));
        float isZeroY = 1.0 - isNonZeroY;

        float isQuartileY = isNotExtremeY * isNonZeroY;

        float isPositiveY = (sign(aCorner.y + 0.5) + 1.0) / 2.0;
        float isNegativeY = 1.0 - isPositiveY;

        float yValue =
          (isExtremeY * isNegativeY) * aHighValue +
          (isQuartileY * isNegativeY) * aUpperQuartileValue +
          isZeroY * aMedianValue +
          (isQuartileY * isPositiveY) * aLowerQuartileValue +
          (isExtremeY * isPositiveY) * aLowValue;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);

        float isHorizontal = aCorner.w;
        float isVertical = 1.0 - isHorizontal;

        float xDisplacement = aCorner.x * (isExtremeY * aCapWidth + isNotExtremeY * aBandwidth) / 2.0;

        float xModifier = (isVertical * uStrokeWidth * aCorner.z / 2.0) + xDisplacement;
        float yModifier = isHorizontal * uStrokeWidth * aCorner.z / 2.0;`},Pv={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float distance = length(2.0 * gl_PointCoord - 1.0);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},Lv={header:`
        varying float vSize;
        varying float vDefined;

        // anterior, exterior angles
        float an = 0.628319;
        vec2 acs = vec2(0.809017, 0.587786); // (cos, sin)
        float en = 0.952000;
        vec2 ecs = vec2(0.580055, 0.814577);
    `,body:`
        float canFill = 1.0;

        vec2 p = 2.0 * gl_PointCoord - 1.0;
        p.y *= -1.0;

        // sector
        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;
        p = length(p) * vec2(cos(bn), abs(sin(bn)));

        p -= acs;
        p += ecs * clamp(-dot(p, ecs), 0.0, acs.y / ecs.y);
        float d = length(p) * sign(p.x);

        float distance = 1.0 + d;
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},Iv={header:`
        varying float vSize;
        varying float vDefined;
    `,body:`
        float canFill = 1.0;

        vec2 p = 2.0 * gl_PointCoord - 1.0;
        p.y *= -1.0;

        // sector
        float an = 3.141593 / 3.0;
        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;
        p = length(p) * vec2(cos(bn), abs(sin(bn)));

        // box
        vec2 d = abs(p) - vec2(0.9, 0.35);
        float sdf = length(max(d, 0.0)) + min(max(d.x, d.y), 0.0);

        float distance = 1.0 + sdf;
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},zv={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        if (vDefined < 0.5) {
            discard;
        }
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float distance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);`},Rv={header:`
        varying float vSize;
        varying float vDefined;
        float a = 0.6;
        float b = 1.0;
    `,body:`
        if (vDefined < 0.5) {
            discard;
        }

        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;

        float x = abs(pointCoordTransform.x);
        float y = abs(pointCoordTransform.y);

        float X = (a * b * x) / (a * y + b * x);
        float Y = (a * b * y) / (a * y + b * x);

        float distance = length(vec2(x, y)) / length(vec2(X, Y));

        if (distance > 1.0) {
            discard;
        }
    `},Ov={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float topEdgesDistance = abs(pointCoordTransform.x) - ((pointCoordTransform.y - 0.6) / sqrt(3.0));
        float bottomEdgeDistance = pointCoordTransform.y + 0.5;
        float distance = max(topEdgesDistance, bottomEdgeDistance);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
        }`},Bv={header:`
        varying float vSize;
        varying float vStrokeWidthRatio;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float innerCornerDistance = min(abs(pointCoordTransform.x), abs(pointCoordTransform.y)) + 0.66 - vStrokeWidthRatio;
        float outerEdgeDistance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));
        float distance = max(innerCornerDistance, outerEdgeDistance);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
        }`},Fv={header:`
        varying float vColorIndicator;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float canStroke = 0.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.4, 0.8, 0, 1);
        if (vColorIndicator < 0.0) {
            gl_FragColor = vec4(0.8, 0.4, 0, 1);
        }`},Hv={header:`
        varying float vColorIndicator;
        varying float vDefined;`,body:`
        float canFill = 0.0;
        float canStroke = 1.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.4, 0.8, 0, 1);
        if (vColorIndicator < 0.0) {
            gl_FragColor = vec4(0.8, 0.4, 0, 1);
        }`},Yv={header:`
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float canStroke = 0.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.86, 0.86, 0.86, 1);`},Wv={header:`
        varying float vDefined;
    `,body:`
        float canFill = 0.0;
        float canStroke = 1.0;

        if (vDefined < 0.5) {
            discard;
        }`},qv={header:"varying float vDefined;",body:`
        float canFill = 0.0;
        float canStroke = 1.0;
        if (vDefined < 0.5) {
            discard;
        }`},Gv={header:"varying float vDefined;",body:`
        float canFill = 1.0;
        float canStroke = 0.0;

        gl_FragColor = vec4(0.60, 0.60, 0.60, 1.0);

        if (vDefined < 0.5) {
            discard;
        }`},$v={header:"varying vec4 vFillColor;",body:"gl_FragColor = (canFill * vFillColor) + ((1.0 - canFill) * gl_FragColor);"},Uv={header:"varying vec4 vStrokeColor;",body:"gl_FragColor = (canStroke * vStrokeColor) + ((1.0 - canStroke) * gl_FragColor);"},cC=function(){var l=Ye(Wt),s=Ye(qt);return l.appendHeader(Nv.header).appendBody(Nv.body),s.appendHeader(Yv.header).appendBody(Yv.body),{vertex:function(){return l},fragment:function(){return s}}},Ee={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,FLOAT:5126};function ad(l){switch(l){case Ee.BYTE:case Ee.UNSIGNED_BYTE:return 1;case Ee.SHORT:case Ee.UNSIGNED_SHORT:return 2;case Ee.FLOAT:return 4;default:throw new Error("Unknown type ".concat(l))}}function Xv(l){switch(l){case Ee.BYTE:return Int8Array;case Ee.UNSIGNED_BYTE:return Uint8Array;case Ee.SHORT:return Int16Array;case Ee.UNSIGNED_SHORT:return Uint16Array;case Ee.FLOAT:return Float32Array;default:throw new Error("Unknown type ".concat(l))}}var Ml=function(){var l=-1,s=null,d=1,p=Ee.FLOAT,y=!1,w=0,m=0,g=null,x=function(S){var T=S.context();s==null&&(s=T.createBuffer()),T.bindBuffer(T.ARRAY_BUFFER,s),T.vertexAttribPointer(l,d,p,y,w,m),T.enableVertexAttribArray(l);var V=S.extInstancedArrays();V.vertexAttribDivisorANGLE(l,g??(S.subInstanceCount()>0?1:0))};return x.location=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],x):l},x.buffer=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],x):s},x.size=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],x):d},x.type=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],x):p},x.normalized=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],x):y},x.stride=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],x):w},x.offset=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],x):m},x.divisor=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],x):g},x},dC=function(){var l=Ee.FLOAT,s=new Float32Array(0),d=function(y){var w=Xv(l);return s.length>y?s=new w(s.buffer,0,y):s.length!==y&&(s=new w(y)),s};return d.type=function(){if(!arguments.length)return l;if(l!==(arguments.length<=0?void 0:arguments[0])){l=arguments.length<=0?void 0:arguments[0];var p=Xv(l);s=new p(0)}return d},d},jv=function(){var l=!0,s=1,d=Ee.FLOAT,p=dC(),y=function(x,_){return x},w=null,m=function(){var x=w.length,_=p.type(d)(x*s);if(s>1)for(var S=0;S<x;S++){var T=y(w[S],S);if(T.length!==s)throw new Error("Expected components array of size ".concat(s,", recieved array with length ").concat(T.length,"."));for(var V=0;V<s;V++)_[S*s+V]=T[V]}else for(var E=0;E<x;E++){var z=y(w[E],E);if(Array.isArray(z))throw new Error("Expected a single component value, recieved array with length ".concat(z.length,"."));_[E]=z}return l=!1,_};return m.dirty=function(){return l},m.clear=function(){l=!0},m.size=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],l=!0,m):s},m.type=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],l=!0,m):d},m.arrayViewFactory=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],l=!0,m):p},m.value=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],l=!0,m):y},m.data=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],l=!0,m):w},m},Ae=function(){var l=Ml(),s=jv(),d=function p(y){if(l.size(p.size()).type(p.type()),l(y),!!s.dirty()){var w=s(),m=y.context();m.bindBuffer(m.ARRAY_BUFFER,l.buffer()),m.bufferData(m.ARRAY_BUFFER,w,m.DYNAMIC_DRAW)}};return d.clear=function(){l.buffer(null),s.clear()},A(d,l,"normalized","location","divisor"),A(d,s,"data","value","size","type"),d},ye=function(l,s,d,p){for(var y=arguments.length,w=new Array(y>4?y-4:0),m=4;m<y;m++)w[m-4]=arguments[m];l[s]=function(){for(var g=arguments.length,x=new Array(g),_=0;_<g;_++)x[_]=arguments[_];var S=d[p].apply(d,w.concat(x));return S===d?l:S}},Qv=function(){var l=ur().mode(ir.TRIANGLES).subInstanceCount(6),s=it(),d=it(),p=function(){},y=Ae().divisor(0).size(3).type(Ee.UNSIGNED_BYTE).data([[0,0,0],[0,1,0],[1,1,1],[0,0,1],[1,0,0],[1,1,0]]);l.buffers().attribute("aCorner",y);var w=function(g){var x=cC();l.vertexShader(x.vertex()).fragmentShader(x.fragment()),s(l,"gl_Position",0),d(l,"gl_Position",1),p(l),l(g-1)};return w.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.xScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],w):s},w.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},A(w,l,"context","pixelRatio"),ye(w,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),ye(w,"crossNextValueAttribute",l.buffers(),"attribute","aCrossNextValue"),ye(w,"mainValueAttribute",l.buffers(),"attribute","aMainValue"),ye(w,"mainNextValueAttribute",l.buffers(),"attribute","aMainNextValue"),ye(w,"baseValueAttribute",l.buffers(),"attribute","aBaseValue"),ye(w,"baseNextValueAttribute",l.buffers(),"attribute","aBaseNextValue"),ye(w,"definedAttribute",l.buffers(),"attribute","aDefined"),ye(w,"definedNextAttribute",l.buffers(),"attribute","aDefinedNext"),w},Kv=function(){var l=Ye(Wt),s=Ye(qt);return l.appendHeader(yv.header).appendBody(yv.body),s.appendHeader(Pv.header).appendBody(Pv.body),{vertex:function(){return l},fragment:function(){return s}}},Zv=function(){var l=ur().mode(ir.POINTS),s=it(),d=it(),p=Kv(),y=function(){},w=function(g){l.vertexShader(p.vertex()).fragmentShader(p.fragment()),s(l,"gl_Position",0),d(l,"gl_Position",1),y(l),l(g)};return w.type=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.decorate=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],w):y},w.xScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],w):s},w.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},A(w,l,"context","pixelRatio"),ye(w,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),ye(w,"mainValueAttribute",l.buffers(),"attribute","aMainValue"),ye(w,"sizeAttribute",l.buffers(),"attribute","aSize"),ye(w,"definedAttribute",l.buffers(),"attribute","aDefined"),w},Ri=function(){var l=1,s=function(p){p.buffers().uniform("uStrokeWidth",Qt(l))};return s.lineWidth=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],s):l},s},xa=function(l){var s=null,d=l,p=!0,y=function(m){var g=m.context();s==null&&(s=g.createBuffer()),g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,s),p&&(g.bufferData(g.ELEMENT_ARRAY_BUFFER,new Uint16Array(d),g.STATIC_DRAW),p=!1)};return y.clear=function(){s=null,p=!0},y.data=function(){return arguments.length?(p=!0,d=arguments.length<=0?void 0:arguments[0],y):d},y},Jv=function(){var l=ur().mode(ir.TRIANGLES).subInstanceCount(6),s=it(),d=it(),p=function(){},y=Ri(),w=Ae().divisor(0).size(4).type(Ee.BYTE).data([[-1,1,1,0],[1,1,0,1],[1,-1,0,1],[-1,-1,1,0]]);l.buffers().elementIndices(xa([0,1,2,2,3,0])).attribute("aCorner",w);var m=function(x){var _=Ye(Wt),S=Ye(qt);l.vertexShader(_).fragmentShader(S),_.appendHeader(`
            attribute vec4 aCorner;
            attribute float aCrossValue;
            attribute float aCrossNextValue;
            attribute float aMainValue;
            attribute float aMainNextValue;
            attribute float aDefined;
            attribute float aDefinedNext;

            uniform float uStrokeWidth;
            uniform vec2 uScreen;

            varying float vLength;
            varying vec2 vPosition;
        `),_.appendBody(`
            vec4 value = vec4(aCrossValue, aMainValue, 0.0, 1.0);
            vec4 nextValue = vec4(aCrossNextValue, aMainNextValue, 0.0, 1.0);
        `),s(l,"value",0),s(l,"nextValue",0),d(l,"value",1),d(l,"nextValue",1),_.appendBody(`
            vec2 position = aCorner[2] * value.xy + aCorner[3] * nextValue.xy;

            vec2 direction = normalize((nextValue.xy - value.xy) * uScreen);
            vec2 normal = vec2(direction.y, -direction.x);
            vec2 padding = ((uStrokeWidth / 2.0) / (uScreen / 2.0));
            
            padding *= aDefined * aDefinedNext;
            position += (aCorner[0] * direction + aCorner[1] * normal) * padding;

            gl_Position = vec4(position.x, position.y, 0.0, 1.0);

            vLength = length((nextValue.xy - value.xy) * (uScreen / 2.0));
            vPosition = aCorner.xy * (uStrokeWidth / 2.0);
            vPosition.x += aCorner[3] * vLength;
        `),S.appendHeader(`
            uniform float uStrokeWidth;
            varying float vLength;
            varying vec2 vPosition;

            float canFill = 0.0;
            float canStroke = 1.0;
        `),S.appendBody(`
            vec2 position = vPosition;
            position.x -= clamp(position.x, 0.0, vLength);
            float sdf = length(position) - uStrokeWidth / 2.0;
            if (sdf > 0.5) {
                discard;
            }
        `),y(l),p(l),l(x-1)};return m.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.xScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},A(m,l,"context","pixelRatio"),A(m,y,"lineWidth"),ye(m,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),ye(m,"crossNextValueAttribute",l.buffers(),"attribute","aCrossNextValue"),ye(m,"mainValueAttribute",l.buffers(),"attribute","aMainValue"),ye(m,"mainNextValueAttribute",l.buffers(),"attribute","aMainNextValue"),ye(m,"definedAttribute",l.buffers(),"attribute","aDefined"),ye(m,"definedNextAttribute",l.buffers(),"attribute","aDefinedNext"),m},mC=function(){var l=Ye(Wt),s=Ye(qt);return l.appendHeader(kv.header).appendBody(kv.body),s.appendHeader(Hv.header).appendBody(Hv.body),{vertex:function(){return l},fragment:function(){return s}}},ex=function(){var l=ur().mode(ir.TRIANGLES).subInstanceCount(18),s=it(),d=it(),p=Ri(),y=function(){},w=Ae().divisor(0).size(3).type(Ee.BYTE).data([[0,-2,-1],[0,-2,1],[0,2,1],[0,2,-1],[-1,-1,-1],[-1,-1,1],[0,-1,1],[0,-1,-1],[1,1,1],[0,1,1],[0,1,-1],[1,1,-1]]);l.buffers().elementIndices(xa([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,10,11,8])).attribute("aCorner",w);var m=function(x){var _=mC();l.vertexShader(_.vertex()).fragmentShader(_.fragment()),s(l,"gl_Position",0),d(l,"gl_Position",1),p(l),l.vertexShader().appendBody(`
          gl_Position.x += xModifier / uScreen.x * 2.0;
          gl_Position.y += yModifier / uScreen.y * 2.0;
        `),y(l),l(x)};return m.decorate=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],m):y},m.xScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},A(m,l,"context","pixelRatio"),A(m,p,"lineWidth"),ye(m,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),ye(m,"openValueAttribute",l.buffers(),"attribute","aOpenValue"),ye(m,"highValueAttribute",l.buffers(),"attribute","aHighValue"),ye(m,"lowValueAttribute",l.buffers(),"attribute","aLowValue"),ye(m,"closeValueAttribute",l.buffers(),"attribute","aCloseValue"),ye(m,"bandwidthAttribute",l.buffers(),"attribute","aBandwidth"),ye(m,"definedAttribute",l.buffers(),"attribute","aDefined"),m},hC=function(){var l=Ye(Wt),s=Ye(qt);return l.appendHeader(Vv.header).appendBody(Vv.body),s.appendHeader(Gv.header).appendBody(Gv.body),{vertex:function(){return l},fragment:function(){return s}}},tx=function(){var l=ur().mode(ir.TRIANGLES).subInstanceCount(6),s=it(),d=it(),p=function(){},y=Ae().divisor(0).size(2).type(Ee.BYTE).data([[-1,-1],[1,1],[-1,1],[1,-1]]);l.buffers().elementIndices(xa([0,1,2,0,1,3])).attribute("aCorner",y);var w=function(g){var x=hC();l.vertexShader(x.vertex()).fragmentShader(x.fragment()),s(l,"gl_Position",0),d(l,"gl_Position",1),l.vertexShader().appendBody(`
            gl_Position.x += xModifier / uScreen.x * 2.0;
        `),p(l),l(g)};return w.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.xScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],w):s},w.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},A(w,l,"context","pixelRatio"),ye(w,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),ye(w,"mainValueAttribute",l.buffers(),"attribute","aMainValue"),ye(w,"baseValueAttribute",l.buffers(),"attribute","aBaseValue"),ye(w,"bandwidthAttribute",l.buffers(),"attribute","aBandwidth"),ye(w,"definedAttribute",l.buffers(),"attribute","aDefined"),w},pC=function(){var l=Ye(Wt),s=Ye(qt);return l.appendHeader(Dv.header).appendBody(Dv.body),s.appendHeader(qv.header).appendBody(qv.body),{vertex:function(){return l},fragment:function(){return s}}},nx=function(){var l=ur().mode(ir.TRIANGLES).subInstanceCount(18),s=it(),d=it(),p=function(){},y=Ri(),w=Ae().divisor(0).size(3).type(Ee.BYTE).data([[0,1,1],[0,1,-1],[0,-1,-1],[0,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1],[-1,-1,1],[-1,1,-1],[-1,1,1],[1,1,1],[1,1,-1]]);l.buffers().elementIndices(xa([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,8,11,10])).attribute("aCorner",w);var m=function(x){var _=pC();l.vertexShader(_.vertex()).fragmentShader(_.fragment()),s(l,"gl_Position",0),d(l,"gl_Position",1),y(l),l.vertexShader().appendBody(`
                gl_Position.x += xModifier / uScreen.x * 2.0;
                gl_Position.y += yModifier / uScreen.y * 2.0;
            `),p(l),l(x)};return m.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.xScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},A(m,l,"context","pixelRatio"),A(m,y,"lineWidth"),ye(m,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),ye(m,"highValueAttribute",l.buffers(),"attribute","aHighValue"),ye(m,"lowValueAttribute",l.buffers(),"attribute","aLowValue"),ye(m,"bandwidthAttribute",l.buffers(),"attribute","aBandwidth"),ye(m,"definedAttribute",l.buffers(),"attribute","aDefined"),m},gC=function(){var l=Ye(Wt),s=Ye(qt);return l.appendHeader(Tv.header).appendBody(Tv.body),s.appendHeader(Fv.header).appendBody(Fv.body),{vertex:function(){return l},fragment:function(){return s}}},rx=function(){var l=ur().mode(ir.TRIANGLES).subInstanceCount(12),s=it(),d=it(),p=Ri(),y=function(){},w=Ae().divisor(0).size(3).type(Ee.BYTE).data([[0,2,1],[0,2,-1],[0,-2,-1],[0,-2,1],[1,-1,0],[-1,-1,0],[-1,1,0],[1,1,0]]);l.buffers().elementIndices(xa([0,1,2,0,3,2,4,5,6,4,7,6])).attribute("aCorner",w);var m=function(x){var _=gC();l.vertexShader(_.vertex()).fragmentShader(_.fragment()),s(l,"gl_Position",0),d(l,"gl_Position",1),p(l),l.vertexShader().appendBody(`
          gl_Position.x += xModifier / uScreen.x * 2.0;
          gl_Position.y += yModifier / uScreen.y * 2.0;
        `),y(l),l(x)};return m.decorate=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],m):y},m.xScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},A(m,l,"context","pixelRatio"),A(m,p,"lineWidth"),ye(m,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),ye(m,"openValueAttribute",l.buffers(),"attribute","aOpenValue"),ye(m,"highValueAttribute",l.buffers(),"attribute","aHighValue"),ye(m,"lowValueAttribute",l.buffers(),"attribute","aLowValue"),ye(m,"closeValueAttribute",l.buffers(),"attribute","aCloseValue"),ye(m,"bandwidthAttribute",l.buffers(),"attribute","aBandwidth"),ye(m,"definedAttribute",l.buffers(),"attribute","aDefined"),m},vC=function(){var l=Ye(Wt),s=Ye(qt);return l.appendHeader(Ev.header).appendBody(Ev.body),s.appendHeader(Wv.header).appendBody(Wv.body),{vertex:function(){return l},fragment:function(){return s}}},ax=function(){var l=ur().mode(ir.TRIANGLES).subInstanceCount(54),s=it(),d=it(),p=function(){},y=Ri(),w=Ae().divisor(0).size(4).type(Ee.BYTE).data([[-1,-2,-1,1],[1,-2,-1,1],[1,-2,1,1],[-1,-2,1,1],[0,-2,-1,0],[0,-2,1,0],[0,-1,1,0],[0,-1,-1,0],[-1,-1,-1,1],[1,-1,-1,1],[1,-1,1,1],[-1,-1,1,1],[-1,0,-1,1],[1,0,-1,1],[1,0,1,1],[-1,0,1,1],[-1,1,-1,1],[1,1,-1,1],[1,1,1,1],[-1,1,1,1],[-1,-1,-1,0],[-1,-1,1,0],[-1,1,1,0],[-1,1,-1,0],[1,-1,-1,0],[1,-1,1,0],[1,1,1,0],[1,1,-1,0],[0,2,-1,0],[0,2,1,0],[0,1,1,0],[0,1,-1,0],[-1,2,-1,1],[1,2,-1,1],[1,2,1,1],[-1,2,1,1]]);l.buffers().elementIndices(xa([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23,24,25,26,24,26,27,28,29,30,28,30,31,32,33,34,32,34,35])).attribute("aCorner",w);var m=function(x){var _=vC();l.vertexShader(_.vertex()).fragmentShader(_.fragment()),s(l,"gl_Position",0),d(l,"gl_Position",1),y(l),l.vertexShader().appendBody(`
            gl_Position.x += xModifier / uScreen.x * 2.0;
            gl_Position.y += yModifier / uScreen.y * 2.0;
        `),p(l),l(x)};return m.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.xScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},A(m,l,"context","pixelRatio"),A(m,y,"lineWidth"),ye(m,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),ye(m,"highValueAttribute",l.buffers(),"attribute","aHighValue"),ye(m,"upperQuartileValueAttribute",l.buffers(),"attribute","aUpperQuartileValue"),ye(m,"medianValueAttribute",l.buffers(),"attribute","aMedianValue"),ye(m,"lowerQuartileValueAttribute",l.buffers(),"attribute","aLowerQuartileValue"),ye(m,"lowValueAttribute",l.buffers(),"attribute","aLowValue"),ye(m,"bandwidthAttribute",l.buffers(),"attribute","aBandwidth"),ye(m,"capAttribute",l.buffers(),"attribute","aCapWidth"),ye(m,"definedAttribute",l.buffers(),"attribute","aDefined"),m},Dr=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(l>0||s<0)throw new Error("Offset values (".concat(l," & ").concat(s,") must straddle 0 "));var d=Ml(),p=jv(),y=function w(m){var g=w.size()*ad(w.type()),x=Math.abs(l)*g;if(d.offset(x).size(w.size()).type(w.type()),d(m),!!p.dirty()){var _=p(),S=s*g,T=x+_.length*ad(w.type())+S,V=m.context();V.bindBuffer(V.ARRAY_BUFFER,d.buffer()),V.bufferData(V.ARRAY_BUFFER,T,V.DYNAMIC_DRAW),V.bufferSubData(V.ARRAY_BUFFER,x,_)}};return y.offset=function(w){if(l>w||w>s)throw new Error("Requested offset ".concat(w," exceeds bounds (").concat(l," & ").concat(s,") "));var m=function(x){d.offset((w-l)*y.size()*ad(y.type())),d(x)};return A(m,y,"clear","location"),m},y.clear=function(){d.buffer(null),p.clear()},A(y,d,"normalized","location","divisor"),A(y,p,"data","value","size","type"),y},Al=function(){var l=it(),s=function(y){return"linear".concat(y)},d=function(y,w,m){y.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(s(m),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(s(m),"Scale;")).appendBody("".concat(w," = ").concat(w," + ").concat(s(m),"Offset;")).appendBody("".concat(w," = ").concat(w," * ").concat(s(m),"Scale;"));var g=l.domain()[1]-l.domain()[0],x=l.range()[1]-l.range()[0],_=l.range()[0]*(g/x)-l.domain()[0],S=x/g,T=[0,0,0,0],V=[1,1,1,1];T[m]=_,V[m]=S,y.buffers().uniform("".concat(s(m),"Offset"),Qt(T)).uniform("".concat(s(m),"Scale"),Qt(V))};return C(d,l),d},ox=function(){var l=it(),s=10;function d(w,m){return Math.log10(w)/Math.log10(m)}var p=function(m){return"log".concat(m)},y=function(m,g,x){var _="".concat(p(x),"Offset + (").concat(p(x),"Scale * clamp(log(").concat(g,") / log(").concat(p(x),"Base), -inf, inf))");m.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(p(x),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(x),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(x),"Include;")).appendHeaderIfNotExists("uniform float ".concat(p(x),"Base;")).appendBody("".concat(g," = (").concat(p(x),"Include * (").concat(_,")) + ((1.0 - ").concat(p(x),"Include) * ").concat(g,");"));var S=d(l.domain()[1],s)-d(l.domain()[0],s),T=l.range()[1]-l.range()[0],V=T/S,E=l.range()[0]-V*d(l.domain()[0],s),z=[0,0,0,0],I=[0,0,0,0],F=[0,0,0,0];z[x]=E,I[x]=V,F[x]=1,m.buffers().uniform("".concat(p(x),"Offset"),Qt(z)).uniform("".concat(p(x),"Scale"),Qt(I)).uniform("".concat(p(x),"Include"),Qt(F)).uniform("".concat(p(x),"Base"),Qt(s))};return y.base=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],y):s},C(y,l),y},ix=function(){var l=it(),s=1;function d(w,m){return Math.sign(w)*Math.pow(Math.abs(w),m)}var p=function(m){return"pow".concat(m)},y=function(m,g,x){var _="".concat(p(x),"Offset + (").concat(p(x),"Scale * sign(").concat(g,") * pow(abs(").concat(g,"), vec4(").concat(p(x),"Exp)))");m.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(p(x),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(x),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(x),"Include;")).appendHeaderIfNotExists("uniform float ".concat(p(x),"Exp;")).appendBody("".concat(g," = (").concat(p(x),"Include * (").concat(_,")) + ((1.0 - ").concat(p(x),"Include) * ").concat(g,");"));var S=d(l.domain()[1],s)-d(l.domain()[0],s),T=l.range()[1]-l.range()[0],V=T/S,E=l.range()[0]-V*d(l.domain()[0],s),z=[0,0,0,0],I=[0,0,0,0],F=[0,0,0,0];z[x]=E,I[x]=V,F[x]=1,m.buffers().uniform("".concat(p(x),"Offset"),Qt(z)).uniform("".concat(p(x),"Scale"),Qt(I)).uniform("".concat(p(x),"Include"),Qt(F)).uniform("".concat(p(x),"Exp"),Qt(s))};return y.exponent=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],y):s},C(y,l),y},xC=n.scaleLinear().copy.toString(),bC=n.scaleLog().copy.toString(),yC=n.scalePow().copy.toString(),wC=n.scaleTime().copy.toString(),od=n.scaleIdentity(),_C=Date.now(),ux=function(s){return s-_C},Nr=function(l){switch(l.copy.toString()){case xC:return{scale:od,webglScale:Al().domain(l.domain())};case wC:return{scale:ux,webglScale:Al().domain(l.domain().map(ux))};case bC:return{scale:od,webglScale:ox().domain(l.domain()).base(l.base())};case yC:return{scale:od,webglScale:ix().domain(l.domain()).exponent(l.exponent())};default:return{scale:l.copy(),webglScale:Al().domain(l.range())}}},SC=function(){var l=Ye(Wt),s=Ye(qt);return l.appendHeader(Sv.header).appendBody(Sv.body),s.appendHeader(zv.header).appendBody(zv.body),{vertex:function(){return l},fragment:function(){return s}}},MC=function(){var l=Ye(Wt),s=Ye(qt);return l.appendHeader(Av.header).appendBody(Av.body),s.appendHeader(Ov.header).appendBody(Ov.body),{vertex:function(){return l},fragment:function(){return s}}},AC=function(){var l=Ye(Wt),s=Ye(qt);return l.appendHeader(Cv.header).appendBody(Cv.body),s.appendHeader(Bv.header).appendBody(Bv.body),{vertex:function(){return l},fragment:function(){return s}}},CC=function(){var l=Ye(Wt),s=Ye(qt);return l.appendHeader(Mv.header).appendBody(Mv.body),s.appendHeader(Rv.header).appendBody(Rv.body),{vertex:function(){return l},fragment:function(){return s}}},TC=function(){var l=Ye(Wt),s=Ye(qt);return l.appendHeader(wv.header).appendBody(wv.body),s.appendHeader(Lv.header).appendBody(Lv.body),{vertex:function(){return l},fragment:function(){return s}}},kC=function(){var l=Ye(Wt),s=Ye(qt);return l.appendHeader(_v.header).appendBody(_v.body),s.appendHeader(Iv.header).appendBody(Iv.body),{vertex:function(){return l},fragment:function(){return s}}},lx=function(l){switch(l){case f.symbolCircle:return Kv();case f.symbolSquare:return SC();case f.symbolTriangle:return MC();case f.symbolCross:return AC();case f.symbolDiamond:return CC();case f.symbolStar:return TC();case f.symbolWye:return kC();default:throw new Error("Unrecognised symbol: ".concat(l))}},fx=function(l){var s=Ml().divisor(1),d=l,p=!0,y=function(m){if(s(m),!!p){if(!Array.isArray(d))throw new Error("Expected an array, received: ".concat(d));if(d.length!==s.size())throw new Error("Expected array of length: ".concat(s.size(),", recieved array of length: ").concat(d.length));var g=m.context();g["vertexAttrib".concat(d.length,"fv")](s.location(),d),g.disableVertexAttribArray(s.location()),p=!1}};return y.clear=function(){p=!0},y.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p=!0,y):d},A(y,s,"normalized","size","location"),y},VC=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,1],s=Ae().size(4),d=l,p=!0,y=function(m){if(m.vertexShader().appendHeaderIfNotExists(xv.header).appendBodyIfNotExists(xv.body),m.fragmentShader().appendHeaderIfNotExists($v.header).appendBodyIfNotExists($v.body),Array.isArray(d))m.buffers().attribute("aFillColor",fx(d).size(4));else if(typeof d=="function"){if(!p)return;s.value(d),m.buffers().attribute("aFillColor",s)}else throw new Error("Expected value to be an array or function, received ".concat(d));p=!1};return y.value=function(){return arguments.length?(d!==(arguments.length<=0?void 0:arguments[0])&&(d=arguments.length<=0?void 0:arguments[0],p=!0),y):d},A(y,s,"data"),y},DC=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,1],s=Ae().size(4),d=l,p=!0,y=function(m){if(m.vertexShader().appendHeaderIfNotExists(bv.header).appendBodyIfNotExists(bv.body),m.fragmentShader().appendHeaderIfNotExists(Uv.header).appendBodyIfNotExists(Uv.body),Array.isArray(d))m.buffers().attribute("aStrokeColor",fx(d).size(4));else if(typeof d=="function"){if(!p)return;s.value(d),m.buffers().attribute("aStrokeColor",s)}else throw new Error("Expected value to be an array or function, received ".concat(d));p=!1};return y.value=function(){return arguments.length?(d!==(arguments.length<=0?void 0:arguments[0])&&(d=arguments.length<=0?void 0:arguments[0],p=!0),y):d},A(y,s,"data"),y},sx=function(){var l=nn(),s=Dr(0,1),d=s.offset(1),p=Dr(0,1),y=p.offset(1),w=Dr(0,1).type(Ee.UNSIGNED_BYTE),m=w.offset(1),g=Jv().crossValueAttribute(s).crossNextValueAttribute(d).mainValueAttribute(p).mainNextValueAttribute(y).definedAttribute(w).definedNextAttribute(m),x=function(I,F){return!1},_=Nr,S=[],T=null,V=null,E=function(I){var F=_(l.xScale()),Y=_(l.yScale()),W=!x(S,I);W&&(S=I,w.value(function(q,Q){return l.defined()(q,Q)}).data(I)),(W||F.scale!==T)&&(T=F.scale,l.orient()==="vertical"?s.value(function(q,Q){return F.scale(l.crossValue()(q,Q))}).data(I):s.value(function(q,Q){return F.scale(l.mainValue()(q,Q))}).data(I)),(W||Y.scale!==V)&&(V=Y.scale,l.orient()==="vertical"?p.value(function(q,Q){return Y.scale(l.mainValue()(q,Q))}).data(I):p.value(function(q,Q){return Y.scale(l.crossValue()(q,Q))}).data(I)),g.xScale(F.webglScale).yScale(Y.webglScale).decorate(function(q){return l.decorate()(q,I,0)}),g(I.length)};return E.equals=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],E):x},E.scaleMapper=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],E):_},C(E,l,O("baseValue","bandwidth","align")),A(E,g,"context","lineWidth","pixelRatio"),E},cx=function(){var l=f.symbol(),s=nn(),d=Le("g","point"),p=function(m){return"translate("+m[0]+", "+m[1]+")"},y=function(m){at(m)&&d.transition(m),m.each(function(g,x,_){var S=g.filter(s.defined()),T=d(u.select(_[x]),S);T.enter().attr("transform",function(V,E){return p(s.values(V,E).origin)}).attr("fill",tt.gray).attr("stroke",tt.black).append("path"),T.attr("transform",function(V,E){return p(s.values(V,E).origin)}).select("path").attr("d",l),s.decorate()(T,g,x)})};return C(y,s,O("baseValue","bandwidth","align")),A(y,d,"key"),A(y,l,"type","size"),y},dx=function(){var l=f.symbol(),s=nn(),d=function(y){var w=y.filter(s.defined()),m=l.context();w.forEach(function(g,x){m.save();var _=s.values(g,x);m.translate(_.origin[0],_.origin[1]),m.beginPath(),m.strokeStyle=tt.black,m.fillStyle=tt.gray,s.decorate()(m,g,x),l(g,x),m.fill(),m.stroke(),m.closePath(),m.restore()})};return C(d,s,O("baseValue","bandwidth","align")),A(d,l,"size","type","context"),d},NC=function(){var l=nn(),s=Ge(64),d=f.symbolCircle,p=Ae(),y=Ae(),w=Ae().type(Ee.UNSIGNED_SHORT),m=Ae().type(Ee.UNSIGNED_BYTE),g=Zv().crossValueAttribute(p).mainValueAttribute(y).sizeAttribute(w).definedAttribute(m),x=function(I,F){return!1},_=Nr,S=[],T=null,V=null,E=function(I){var F=_(l.xScale()),Y=_(l.yScale()),W=!x(S,I);W&&(S=I,w.value(function(q,Q){return s(q,Q)}).data(I),m.value(function(q,Q){return l.defined()(q,Q)}).data(I)),(W||F.scale!==T)&&(T=F.scale,l.orient()==="vertical"?p.value(function(q,Q){return F.scale(l.crossValue()(q,Q))}).data(I):p.value(function(q,Q){return F.scale(l.mainValue()(q,Q))}).data(I)),(W||Y.scale!==V)&&(V=Y.scale,l.orient()==="vertical"?y.value(function(q,Q){return Y.scale(l.mainValue()(q,Q))}).data(I):y.value(function(q,Q){return Y.scale(l.crossValue()(q,Q))}).data(I)),g.xScale(F.webglScale).yScale(Y.webglScale).type(lx(d)).decorate(function(q){return l.decorate()(q,I,0)}),g(I.length)};return E.size=function(){return arguments.length?(s=Ge(arguments.length<=0?void 0:arguments[0]),E):s},E.type=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],E):d},E.equals=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],E):x},E.scaleMapper=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],E):_},C(E,l,O("baseValue","bandwidth","align")),A(E,g,"context","pixelRatio"),E},EC=function(){var l=Ao().x(0).y(0),s=nn(),d=Le("g","bar"),p=function(x){return s.orient()==="vertical"?x.height:x.width},y=function(x){return s.orient()==="vertical"?x.width:x.height},w=function(x){return"translate("+x[0]+", "+x[1]+")"},m=function(x){at(x)&&d.transition(x),x.each(function(_,S,T){var V=s.orient();if(V!=="vertical"&&V!=="horizontal")throw new Error("The bar series does not support an orientation of "+V);var E=_.filter(s.defined()),z=E.map(s.values);l.width(0).height(0),s.orient()==="vertical"?(l.verticalAlign("top"),l.horizontalAlign("center")):(l.horizontalAlign("right"),l.verticalAlign("center"));var I=d(u.select(T[S]),E);I.enter().attr("transform",function(F,Y){return w(z[Y].baseOrigin)}).attr("class","bar "+s.orient()).attr("fill",tt.darkGray).append("path").attr("d",function(F,Y){return y(l)(z[Y].width),l([F])}),I.attr("transform",function(F,Y){return w(z[Y].origin)}).select("path").attr("d",function(F,Y){return y(l)(z[Y].width),p(l)(-z[Y].height),l([F])}),s.decorate()(I,E,S)})};return C(m,s),A(m,d,"key"),m},PC=function(){var l=nn(),s=Ao().x(0).y(0),d=function(m){return l.orient()==="vertical"?m.height:m.width},p=function(m){return l.orient()==="vertical"?m.width:m.height},y=function(m){var g=s.context(),x=m.filter(l.defined()),_=x.map(l.values);l.orient()==="vertical"?(s.verticalAlign("top"),s.horizontalAlign("center")):(s.horizontalAlign("right"),s.verticalAlign("center")),_.forEach(function(S,T){g.save(),g.beginPath(),g.translate(S.origin[0],S.origin[1]),g.fillStyle=tt.darkGray,g.strokeStyle="transparent",l.decorate()(g,S.d,T),d(s)(-S.height),p(s)(S.width),s([S]),g.fill(),g.stroke(),g.closePath(),g.restore()})};return C(y,l),A(y,s,"context"),y},LC=function(){var l=nn(),s=Ae(),d=Ae(),p=Ae(),y=Ae().type(Ee.UNSIGNED_SHORT),w=Ae().type(Ee.UNSIGNED_BYTE),m=tx().crossValueAttribute(s).mainValueAttribute(d).baseValueAttribute(p).bandwidthAttribute(y).definedAttribute(w),g=function(z,I){return!1},x=Nr,_=[],S=null,T=null,V=function(z){if(l.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(l.orient()));var I=x(l.xScale()),F=x(l.yScale()),Y=!g(_,z);Y&&(_=z,y.value(function(W,q){return l.bandwidth()(W,q)}).data(z),w.value(function(W,q){return l.defined()(W,q)}).data(z)),(Y||I.scale!==S)&&(S=I.scale,s.value(function(W,q){return I.scale(l.crossValue()(W,q))}).data(z)),(Y||F.scale!==T)&&(T=F.scale,p.value(function(W,q){return F.scale(l.baseValue()(W,q))}).data(z),d.value(function(W,q){return F.scale(l.mainValue()(W,q))}).data(z)),m.xScale(I.webglScale).yScale(F.webglScale).decorate(function(W){return l.decorate()(W,z,0)}),m(z.length)};return V.equals=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],V):g},V.scaleMapper=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],V):x},C(V,l,O("align")),A(V,m,"context","pixelRatio"),V},id=function(){var l=function(x){return x.high},s=function(x){return x.low},d=function(x){return x.cross},p="vertical",y="center",w=function(){return 5},m=va({decorate:function(){},defined:function(x,_){return Ii(s,l,d)(x,_)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return m.values=function(g,x){var _=w(g,x),S=zi(y,_),T=m.xScale(),V=m.yScale();if(p==="vertical"){var E=V(l(g,x));return{origin:[T(d(g,x))+S,E],high:0,low:V(s(g,x))-E,width:_}}else{var z=T(s(g,x));return{origin:[z,V(d(g,x))+S],high:T(l(g,x))-z,low:0,width:_}}},m.xValues=function(){return p==="vertical"?[d]:[l,s]},m.yValues=function(){return p!=="vertical"?[d]:[l,s]},m.orient=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.lowValue=function(){return arguments.length?(s=Ge(arguments.length<=0?void 0:arguments[0]),m):s},m.highValue=function(){return arguments.length?(l=Ge(arguments.length<=0?void 0:arguments[0]),m):l},m.crossValue=function(){return arguments.length?(d=Ge(arguments.length<=0?void 0:arguments[0]),m):d},m.bandwidth=function(){return arguments.length?(w=Ge(arguments.length<=0?void 0:arguments[0]),m):w},m.align=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],m):y},m},IC=function(){var l=id(),s=Le("g","error-bar"),d=Kc().value(0),p=function(g){return function(x){return at(g)?x.transition(g):x}},y=function(g){return"translate("+g.origin[0]+", "+g.origin[1]+")"},w=function(g){at(g)&&s.transition(g);var x=p(g);g.each(function(_,S,T){var V=_.filter(l.defined()),E=V.map(l.values),z=s(u.select(T[S]),V);z.enter().attr("stroke",tt.black).attr("fill",tt.gray).attr("transform",function(I,F){return y(l.values(I,F))+" scale(1e-6, 1)"}).append("path"),d.orient(l.orient()),z.each(function(I,F,Y){var W=E[F];d.high(W.high).low(W.low).width(W.width),x(u.select(Y[F])).attr("transform",y(W)+" scale(1)").select("path").attr("d",d([I]))}),l.decorate()(z,_,S)})};return C(w,l),A(w,s,"key"),w},zC=function(){var l=id(),s=Kc().value(0),d=function(y){var w=y.filter(l.defined()),m=s.context();s.orient(l.orient()),w.forEach(function(g,x){m.save();var _=l.values(g,x);m.translate(_.origin[0],_.origin[1]),m.beginPath(),m.strokeStyle=tt.black,m.fillStyle=tt.gray,l.decorate()(m,g,x),s.high(_.high).width(_.width).low(_.low)([g]),m.fill(),m.stroke(),m.closePath(),m.restore()})};return C(d,l),A(d,s,"context"),d},RC=function(){var l=id(),s=Ae(),d=Ae(),p=Ae(),y=Ae().type(Ee.UNSIGNED_SHORT),w=Ae().type(Ee.UNSIGNED_BYTE),m=nx().crossValueAttribute(s).highValueAttribute(d).lowValueAttribute(p).bandwidthAttribute(y).definedAttribute(w),g=function(z,I){return!1},x=Nr,_=[],S=null,T=null,V=function(z){if(l.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(l.orient()));var I=x(l.xScale()),F=x(l.yScale()),Y=!g(_,z);Y&&(_=z,y.value(function(W,q){return l.bandwidth()(W,q)}).data(z),w.value(function(W,q){return l.defined()(W,q)}).data(z)),(Y||I.scale!==S)&&(S=I.scale,s.value(function(W,q){return I.scale(l.crossValue()(W,q))}).data(z)),(Y||F.scale!==T)&&(T=F.scale,d.value(function(W,q){return F.scale(l.highValue()(W,q))}).data(z),p.value(function(W,q){return F.scale(l.lowValue()(W,q))}).data(z)),m.xScale(I.webglScale).yScale(F.webglScale).decorate(function(W){return l.decorate()(W,z,0)}),m(z.length)};return V.equals=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],V):g},V.scaleMapper=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],V):x},C(V,l,O("align")),A(V,m,"context","lineWidth","pixelRatio"),V},OC=function(){var l=nn(),s=f.area(),d=Le("path","area"),p=function(w){at(w)&&d.transition(w),s.defined(l.defined()),w.each(function(m,g,x){var _=m.map(l.values);s.x(function(V,E){return _[E].transposedX}).y(function(V,E){return _[E].transposedY});var S=l.orient()==="vertical"?"y":"x";s[S+"0"](function(V,E){return _[E].y0}),s[S+"1"](function(V,E){return _[E].y});var T=d(u.select(x[g]),[m]);T.enter().attr("fill",tt.gray),T.attr("d",s),l.decorate()(T,m,g)})};return C(p,l,O("bandwidth","align")),A(p,d,"key"),A(p,s,"curve"),p},BC=function(){var l=nn(),s=f.area(),d=function(y){var w=s.context();s.defined(l.defined());var m=y.map(l.values);s.x(function(x,_){return m[_].transposedX}).y(function(x,_){return m[_].transposedY});var g=l.orient()==="vertical"?"y":"x";s[g+"0"](function(x,_){return m[_].y0}),s[g+"1"](function(x,_){return m[_].y}),w.beginPath(),w.fillStyle=tt.gray,w.strokeStyle="transparent",l.decorate()(w,y),s(y),w.fill(),w.stroke(),w.closePath()};return C(d,l,O("bandwidth","align")),A(d,s,"curve","context"),d},FC=function(){var l=nn(),s=Dr(0,1),d=s.offset(1),p=Dr(0,1),y=p.offset(1),w=Dr(0,1),m=w.offset(1),g=Dr(0,1).type(Ee.UNSIGNED_BYTE),x=g.offset(1),_=Qv().crossValueAttribute(s).crossNextValueAttribute(d).mainValueAttribute(p).mainNextValueAttribute(y).baseValueAttribute(w).baseNextValueAttribute(m).definedAttribute(g).definedNextAttribute(x),S=function(Y,W){return!1},T=Nr,V=[],E=null,z=null,I=function(Y){if(l.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(l.orient()));var W=T(l.xScale()),q=T(l.yScale()),Q=!S(V,Y);Q&&(V=Y,g.value(function(ae,pe){return l.defined()(ae,pe)}).data(Y)),(Q||W.scale!==E)&&(E=W.scale,s.value(function(ae,pe){return W.scale(l.crossValue()(ae,pe))}).data(Y)),(Q||q.scale!==z)&&(z=q.scale,w.value(function(ae,pe){return q.scale(l.baseValue()(ae,pe))}).data(Y),p.value(function(ae,pe){return q.scale(l.mainValue()(ae,pe))}).data(Y)),_.xScale(W.webglScale).yScale(q.webglScale).decorate(function(ae){return l.decorate()(ae,Y,0)}),_(Y.length)};return I.equals=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],I):S},I.scaleMapper=function(){return arguments.length?(T=arguments.length<=0?void 0:arguments[0],I):T},C(I,l,O("bandwidth","align")),A(I,_,"context","pixelRatio"),I},ud=function(){var l,s=function(S){return S.date},d=function(S){return S.open},p=function(S){return S.high},y=function(S){return S.low},w=function(S){return S.close},m=function(){return 5},g="center",x=function(S,T){return l.xScale()(s(S,T))};return l=va({decorate:function(){},defined:function(S,T){return Ii(s,d,y,p,w)(S,T)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()}),l.values=function(_,S){var T=w(_,S),V=d(_,S),E=m(_,S),z=zi(g,E),I="";return T>V?I="up":T<V&&(I="down"),{cross:x(_,S)+z,open:l.yScale()(V),high:l.yScale()(p(_,S)),low:l.yScale()(y(_,S)),close:l.yScale()(T),width:E,direction:I}},l.xValues=function(){return[s]},l.yValues=function(){return[d,p,y,w]},l.crossValue=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],l):s},l.openValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],l):d},l.highValue=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],l):p},l.lowValue=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],l):y},l.yValue=l.closeValue=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],l):w},l.bandwidth=function(){return arguments.length?(m=Ge(arguments.length<=0?void 0:arguments[0]),l):m},l.align=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],l):g},l},mx=function(l,s){var d=ud(),p=Le("g",s),y=function(x){return"translate("+x.cross+", "+x.high+")"},w=function(x){return function(_){return at(x)?_.transition(x):_}},m=function(x){at(x)&&p.transition(x);var _=w(x);x.each(function(S,T,V){var E=S.filter(d.defined()),z=p(u.select(V[T]),E);z.enter().attr("transform",function(I,F){return y(d.values(I,F))+" scale(1e-6, 1)"}).append("path"),z.each(function(I,F,Y){var W=d.values(I,F),q=W.direction==="up"?tt.green:tt.red,Q=_(u.select(Y[F])).attr("class",s+" "+W.direction).attr("stroke",q).attr("fill",q).attr("transform",function(){return y(W)+" scale(1)"});l.x(0).width(W.width).open(function(){return W.open-W.high}).high(0).low(function(){return W.low-W.high}).close(function(){return W.close-W.high}),Q.select("path").attr("d",l([I]))}),d.decorate()(z,S,T)})};return A(m,p,"key"),C(m,d),m},HC=function(){return mx(jc(),"candlestick")},hx=function(l){var s=ud(),d=function(y){var w=y.filter(s.defined()),m=l.context();w.forEach(function(g,x){m.save();var _=s.values(g,x);m.translate(_.cross,_.high),m.beginPath(),l.x(0).open(function(){return _.open-_.high}).width(_.width).high(0).low(function(){return _.low-_.high}).close(function(){return _.close-_.high})([g]);var S=_.direction==="up"?tt.green:tt.red;m.strokeStyle=S,m.fillStyle=S,s.decorate()(m,g,x),m.fill(),m.stroke(),m.closePath(),m.restore()})};return A(d,l,"context"),C(d,s),d},YC=function(){return hx(jc())},px=function(l){var s=ud(),d=Ae(),p=Ae(),y=Ae(),w=Ae(),m=Ae(),g=Ae().type(Ee.UNSIGNED_SHORT),x=Ae().type(Ee.UNSIGNED_BYTE);l.crossValueAttribute(d).openValueAttribute(p).highValueAttribute(y).lowValueAttribute(w).closeValueAttribute(m).bandwidthAttribute(g).definedAttribute(x);var _=function(F,Y){return!1},S=Nr,T=[],V=null,E=null,z=function(F){var Y=S(s.xScale()),W=S(s.yScale()),q=!_(T,F);q&&(T=F,g.value(function(Q,ae){return s.bandwidth()(Q,ae)}).data(F),x.value(function(Q,ae){return s.defined()(Q,ae)}).data(F)),(q||Y.scale!==V)&&(V=Y.scale,d.value(function(Q,ae){return Y.scale(s.crossValue()(Q,ae))}).data(F)),(q||W.scale!==E)&&(E=W.scale,p.value(function(Q,ae){return W.scale(s.openValue()(Q,ae))}).data(F),y.value(function(Q,ae){return W.scale(s.highValue()(Q,ae))}).data(F),w.value(function(Q,ae){return W.scale(s.lowValue()(Q,ae))}).data(F),m.value(function(Q,ae){return W.scale(s.closeValue()(Q,ae))}).data(F)),l.xScale(Y.webglScale).yScale(W.webglScale).decorate(function(Q){return s.decorate()(Q,F,0)}),l(F.length)};return z.equals=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],z):_},z.scaleMapper=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],z):S},C(z,s,O("align")),A(z,l,"context","lineWidth","pixelRatio"),z},WC=function(){return px(rx())},ld=function(){var l=function(T){return T.upperQuartile},s=function(T){return T.lowerQuartile},d=function(T){return T.high},p=function(T){return T.low},y=function(T){return T.value},w=function(T){return T.median},m="vertical",g="center",x=function(){return 5},_=va({decorate:function(){},defined:function(T,V){return Ii(p,d,s,l,y,w)(T,V)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return _.values=function(S,T){var V=x(S,T),E=zi(g,V),z=_.xScale(),I=_.yScale();if(m==="vertical"){var F=I(d(S,T));return{origin:[z(y(S,T))+E,F],high:0,upperQuartile:I(l(S,T))-F,median:I(w(S,T))-F,lowerQuartile:I(s(S,T))-F,low:I(p(S,T))-F,width:V}}else{var Y=z(p(S,T));return{origin:[Y,I(y(S,T))+E],high:z(d(S,T))-Y,upperQuartile:z(l(S,T))-Y,median:z(w(S,T))-Y,lowerQuartile:z(s(S,T))-Y,low:0,width:V}}},_.xValues=function(){return m==="vertical"?[y]:[l,s,d,p,w]},_.yValues=function(){return m!=="vertical"?[y]:[l,s,d,p,w]},_.orient=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],_):m},_.lowerQuartileValue=function(){return arguments.length?(s=Ge(arguments.length<=0?void 0:arguments[0]),_):s},_.upperQuartileValue=function(){return arguments.length?(l=Ge(arguments.length<=0?void 0:arguments[0]),_):l},_.lowValue=function(){return arguments.length?(p=Ge(arguments.length<=0?void 0:arguments[0]),_):p},_.highValue=function(){return arguments.length?(d=Ge(arguments.length<=0?void 0:arguments[0]),_):d},_.crossValue=function(){return arguments.length?(y=Ge(arguments.length<=0?void 0:arguments[0]),_):y},_.medianValue=function(){return arguments.length?(w=Ge(arguments.length<=0?void 0:arguments[0]),_):w},_.bandwidth=function(){return arguments.length?(x=Ge(arguments.length<=0?void 0:arguments[0]),_):x},_.align=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],_):g},_},qC=function(){var l=ld(),s=Le("g","box-plot"),d=Qc().value(0),p=function(g){return function(x){return at(g)?x.transition(g):x}},y=function(g){return"translate("+g.origin[0]+", "+g.origin[1]+")"},w=function(g){at(g)&&s.transition(g);var x=p(g);g.each(function(_,S,T){var V=_.filter(l.defined()),E=s(u.select(T[S]),V);E.enter().attr("stroke",tt.black).attr("fill",tt.gray).attr("transform",function(z,I){return y(l.values(z,I))+" scale(1e-6, 1)"}).append("path"),d.orient(l.orient()),E.each(function(z,I,F){var Y=l.values(z,I);d.median(Y.median).upperQuartile(Y.upperQuartile).lowerQuartile(Y.lowerQuartile).width(Y.width).high(Y.high).low(Y.low),x(u.select(F[I])).attr("transform",y(Y)).select("path").attr("d",d([z]))}),l.decorate()(E,_,S)})};return C(w,l),A(w,s,"key"),A(w,d,"cap"),w},GC=function(){var l=ld(),s=Qc().value(0),d=function(y){var w=y.filter(l.defined()),m=s.context();s.orient(l.orient()),w.forEach(function(g,x){m.save();var _=l.values(g,x);m.translate(_.origin[0],_.origin[1]),m.beginPath(),m.fillStyle=tt.gray,m.strokeStyle=tt.black,l.decorate()(m,g,x),s.median(_.median).upperQuartile(_.upperQuartile).lowerQuartile(_.lowerQuartile).high(_.high).width(_.width).low(_.low)([g]),m.fill(),m.stroke(),m.closePath(),m.restore()})};return C(d,l),A(d,s,"cap","context"),d},$C=function(){var l=ld(),s=Ae(),d=Ae(),p=Ae(),y=Ae(),w=Ae(),m=Ae(),g=Ae().type(Ee.UNSIGNED_SHORT),x=Ae().type(Ee.UNSIGNED_SHORT),_=Ae().type(Ee.UNSIGNED_BYTE),S=ax().crossValueAttribute(s).highValueAttribute(d).upperQuartileValueAttribute(p).medianValueAttribute(y).lowerQuartileValueAttribute(w).lowValueAttribute(m).bandwidthAttribute(g).capAttribute(x).definedAttribute(_),T=function(q,Q){return!1},V=Nr,E=[],z=null,I=null,F=Ge(20),Y=function(q){if(l.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(l.orient()));var Q=V(l.xScale()),ae=V(l.yScale()),pe=!T(E,q);pe&&(E=q,g.value(function(ge,he){return l.bandwidth()(ge,he)}).data(q),x.value(function(ge,he){return F(ge,he)}).data(q),_.value(function(ge,he){return l.defined()(ge,he)}).data(q)),(pe||Q.scale!==z)&&(z=Q.scale,s.value(function(ge,he){return Q.scale(l.crossValue()(ge,he))}).data(q)),(pe||ae.scale!==I)&&(I=ae.scale,d.value(function(ge,he){return ae.scale(l.highValue()(ge,he))}).data(q),p.value(function(ge,he){return ae.scale(l.upperQuartileValue()(ge,he))}).data(q),y.value(function(ge,he){return ae.scale(l.medianValue()(ge,he))}).data(q),w.value(function(ge,he){return ae.scale(l.lowerQuartileValue()(ge,he))}).data(q),m.value(function(ge,he){return ae.scale(l.lowValue()(ge,he))}).data(q)),S.xScale(Q.webglScale).yScale(ae.webglScale).decorate(function(ge){return l.decorate()(ge,q,0)}),S(q.length)};return Y.cap=function(){return arguments.length?(F=Ge(arguments.length<=0?void 0:arguments[0]),Y):F},Y.equals=function(){return arguments.length?(T=arguments.length<=0?void 0:arguments[0],Y):T},Y.scaleMapper=function(){return arguments.length?(V=arguments.length<=0?void 0:arguments[0],Y):V},C(Y,l,O("align")),A(Y,S,"context","lineWidth","pixelRatio"),Y},UC=function(){return mx(Xc(),"ohlc")},XC=function(){return hx(Xc())},jC=function(){return px(ex())},fd=function(){var l=[],s=function(w){return w},d=function(w,m){return m},p=va({decorate:function(){},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return p.xValues=function(){return l.map(function(y){return y.xValues()}).reduce(function(y,w){return y.concat(w)})},p.yValues=function(){return l.map(function(y){return y.yValues()}).reduce(function(y,w){return y.concat(w)})},p.mapping=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],p):s},p.key=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p.series=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},p},sd=function(){var l=fd(),s=Le("g"),d=Le("g","multi"),p=function(w){at(w)&&(d.transition(w),s.transition(w));var m=l.mapping(),g=l.series(),x=l.xScale(),_=l.yScale();w.each(function(S,T,V){var E=d(u.select(V[T]),g);E.each(function(z,I,F){z.xScale(x).yScale(_);var Y=m(S,I,g),W=s(u.select(F[I]),[Y]);W.call(z)}),E.selection().order(),l.decorate()(E,S,T)})};return C(p,l),A(p,d,"key"),p},cd=function(){var l=null,s=fd(),d=function(y){var w=s.mapping(),m=s.series(),g=s.xScale(),x=s.yScale();m.forEach(function(_,S){var T=w(y,S,m);_.context(l).xScale(g).yScale(x);var V;_.decorate?(V=_.decorate(),_.decorate(function(E,z,I){s.decorate()(E,y,S),V(E,z,I)})):s.decorate()(l,y,S),_(T),V&&_.decorate(V)})};return d.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],d):l},C(d,s),d},gx=function(){var l=null,s=1,d=fd(),p=function(w){var m=d.mapping(),g=d.series(),x=d.xScale(),_=d.yScale();g.forEach(function(S,T){var V=m(w,T,g);S.context(l).pixelRatio(s).xScale(x).yScale(_);var E;S.decorate?(E=S.decorate(),S.decorate(function(z,I,F){d.decorate()(z,w,T),E(z,I,F)})):d.decorate()(l,w,T),S(V),E&&S.decorate(E)})};return p.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},p.pixelRatio=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],p):s},C(p,d),p},vx=function(l){var s=function(){return 50},d="center",p=n.scaleBand(),y=va({decorate:function(){},xScale:n.scaleLinear(),yScale:n.scaleLinear()});return y.offsetScaleForDatum=function(w,m,g){var x=s(m,g),_=zi(d,x),S=x/2;return p.domain(t.range(0,w.length)).range([-S+_,S+_])},y.bandwidth=function(){return arguments.length?(s=Ge(arguments.length<=0?void 0:arguments[0]),y):s},y.align=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},C(y,p,L({paddingInner:"paddingOuter"})),y},QC=function(l){var s=vx(),d=Le("g","grouped"),p=function(w){at(w)&&d.transition(w),w.each(function(m,g,x){var _=d(u.select(x[g]),m);_.enter().append("g"),_.select("g").each(function(S,T,V){var E=u.select(V[T]),z=l.orient()!=="horizontal",I=function(Y,W){var q=s.offsetScaleForDatum(m,Y,W),Q=z?s.xScale():s.yScale();return Q(Y)+q(T)+q.bandwidth()/2};z?(l.xScale(I),l.yScale(s.yScale())):(l.yScale(I),l.xScale(s.xScale())),l.bandwidth&&l.bandwidth(function(F,Y){return s.offsetScaleForDatum(m,F,Y).bandwidth()}),l.decorate(function(F,Y){return s.decorate()(F,Y,T)}),E.call(l)})})};return C(p,l,O("decorate","xScale","yScale")),C(p,s,O("offsetScaleForDatum")),p};function KC(l){var s=vx(),d=function(y){y.forEach(function(w,m){var g=l.orient()!=="horizontal",x=function(S,T){var V=s.offsetScaleForDatum(y,S,T),E=g?s.xScale():s.yScale();return E(S)+V(m)+V.bandwidth()/2};g?(l.xScale(x),l.yScale(s.yScale())):(l.yScale(x),l.xScale(s.xScale())),l.bandwidth&&l.bandwidth(function(_,S){return s.offsetScaleForDatum(y,_,S).bandwidth()}),l.decorate(function(_,S){return s.decorate()(_,S,m)}),l(w)})};return C(d,l,O("decorate","xScale","yScale")),C(d,s,O("offsetScaleForDatum")),d}var ZC=function(){var l="vertical",s=nd(),d=sd(),p=function(w){return w.each(function(m,g,x){l==="vertical"?d.series(m[0].map(function(_){return s})).mapping(function(_,S){return _.map(function(T){return T[S]})}):d.series(m.map(function(_){return s})).mapping(function(_,S){return _[S]}),u.select(x[g]).call(d)})};return p.series=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],p):s},p.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},C(p,d,O("series","mapping")),p},JC=function(){var l="vertical",s=rd(),d=cd(),p=function(w){l==="vertical"?d.series(w[0].map(function(m){return s})).mapping(function(m,g){return m.map(function(x){return x[g]})}):d.series(w.map(function(m){return s})).mapping(function(m,g){return m[g]}),d(w)};return p.series=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],p):s},p.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},C(p,d,O("series","mapping")),p},eT=function(){var l="vertical",s=function(){return sx()},d=gx(),p=[],y=function(m){if(l==="vertical"){var g=p;p=m[0].map(function(_,S){return S<g.length?g[S]:s()}),d.series(p).mapping(function(_,S){return _.map(function(T){return T[S]})})}else{var x=p;p=m.map(function(_,S){return S<x.length?x[S]:s()}),d.series(p).mapping(function(_,S){return _[S]})}d(m)};return y.series=function(){for(var w=arguments.length,m=new Array(w),g=0;g<w;g++)m[g]=arguments[g];return m.length?(typeof m[0].xScale=="function"&&typeof m[0].yScale=="function"?s=function(){return m[0]}:s=m[0],p=[],y):s},y.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p=[],y):l},C(y,d,O("series","mapping")),y},tT=function(s){return s.sort(t.ascending).filter(function(d,p,y){return y.indexOf(d,p+1)===-1})},nT=function(l){var s=.75,d=function(m){if(m.length<=1)return 10;m=tT(m);var g=t.pairs(m).map(function(_){return Math.abs(_[0]-_[1])}),x=t.min(g);return s*x},p=function(m,g,x){if(m.bandwidth)return m.bandwidth();var _,S=Array.isArray(g)?(_=[]).concat.apply(_,be(g)):g,T=S.filter(l.defined()).map(x()).map(m),V=d(T);return V},y=function(m){var g=function(_){if(l.xBandwidth&&l.yBandwidth)l.xBandwidth(p(l.xScale(),_,l.xValue)),l.yBandwidth(p(l.yScale(),_,l.yValue));else{var S=l.orient&&l.orient()==="horizontal"?l.yScale():l.xScale();l.bandwidth(p(S,_,l.crossValue))}};m instanceof u.selection?m.each(function(x,_,S){g(x),l(u.select(S[_]))}):(g(m),l(m))};return C(y,l),y.widthFraction=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],y):s},y},xx=function(){var l=function(x){return x.x},s=function(x){return x.y},d=function(x){return x.color},p=function(){return 5},y=function(){return 5},w=c.interpolateViridis,m=va({decorate:function(){},defined:function(x,_){return Ii(l,s,d)(x,_)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return m.pathGenerator=Ao().x(0).y(0),m.colorScale=function(g){var x=g.map(d);return n.scaleLinear().domain([t.min(x),t.max(x)])},m.values=function(g,x){return{x:m.xScale()(l(g,x)),y:m.yScale()(s(g,x)),colorValue:d(g,x),width:y(g,x),height:p(g,x)}},m.xValues=function(){return[l]},m.yValues=function(){return[s]},m.xValue=function(){return arguments.length?(l=Ge(arguments.length<=0?void 0:arguments[0]),m):l},m.yValue=function(){return arguments.length?(s=Ge(arguments.length<=0?void 0:arguments[0]),m):s},m.colorValue=function(){return arguments.length?(d=Ge(arguments.length<=0?void 0:arguments[0]),m):d},m.colorInterpolate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],m):w},m.xBandwidth=function(){return arguments.length?(y=Ge(arguments.length<=0?void 0:arguments[0]),m):y},m.yBandwidth=function(){return arguments.length?(p=Ge(arguments.length<=0?void 0:arguments[0]),m):p},C(m,m.pathGenerator,L({horizontalAlign:"xAlign",verticalAlign:"yAlign"})),m},rT=function(){var l=xx(),s=Le("g","box"),d=function(w){return"translate("+w.x+", "+w.y+")"},p=function(w){w.each(function(m,g,x){var _=m.filter(l.defined()),S=l.colorValue(),T=l.colorInterpolate(),V=l.colorScale(_),E=s(u.select(x[g]),_);E.enter().append("path").attr("stroke","transparent"),E.attr("transform",function(z,I){return d(l.values(z,I))}).select("path").attr("d",function(z,I){return l.pathGenerator.width(l.values(z,I).width).height(l.values(z,I).height)([z])}).attr("fill",function(z,I){return T(V(S(z,I)))}),l.decorate()(E,m,g)})};return C(p,l),p},aT=function(){var l=xx(),s=function(p){var y=p.filter(l.defined()),w=l.colorInterpolate(),m=l.colorScale(y),g=l.pathGenerator.context();y.forEach(function(x,_){g.save(),g.beginPath();var S=l.values(x,_);g.translate(S.x,S.y),g.fillStyle=w(m(S.colorValue)),g.strokeStyle="transparent",l.decorate()(g,x,_),l.pathGenerator.height(S.height).width(S.width)([x]),g.fill(),g.stroke(),g.closePath(),g.restore()})};return A(s,l.pathGenerator,"context"),C(s,l),s},Er=function(l){return typeof l=="function"?l:function(){return l}},oT=function(){var l=n.scaleIdentity(),s=n.scaleIdentity(),d="horizontal",p=function(S){return S.from},y=function(S){return S.to},w=function(){},m=Le("g","annotation-band"),g=Ao().horizontalAlign("center").verticalAlign("center").x(0).y(0),x=function(S){if(at(S)&&m.transition(S),d!=="horizontal"&&d!=="vertical")throw new Error("Invalid orientation");var T=d==="horizontal",V=T?function(Q,ae){return"translate(".concat(Q,", ").concat(ae,")")}:function(Q,ae){return"translate(".concat(ae,", ").concat(Q,")")},E=T?l:s,z=T?s:l,I=E.range(),F=I[1]-I[0],Y=T?"height":"width",W=T?"width":"height",q=function(){return V((I[1]+I[0])/2,(z(y.apply(void 0,arguments))+z(p.apply(void 0,arguments)))/2)};g[W](F),g[Y](function(){return z(y.apply(void 0,arguments))-z(p.apply(void 0,arguments))}),S.each(function(Q,ae,pe){var ge=m(u.select(pe[ae]),Q);ge.enter().attr("transform",q).append("path").classed("band",!0),ge.attr("class","annotation-band ".concat(d)).attr("transform",q).select("path").attr("d",function(he,Te){return g([he],Te)}),w(ge,Q,ae)})};return x.xScale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],x):l},x.yScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],x):s},x.orient=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],x):d},x.decorate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],x):w},x.fromValue=function(){return arguments.length?(p=Er(arguments.length<=0?void 0:arguments[0]),x):p},x.toValue=function(){return arguments.length?(y=Er(arguments.length<=0?void 0:arguments[0]),x):y},x},iT=function(){var l=n.scaleIdentity(),s=n.scaleIdentity(),d="horizontal",p=function(_){return _.from},y=function(_){return _.to},w=function(){},m=Ao().horizontalAlign("right").verticalAlign("top"),g=function(_){if(d!=="horizontal"&&d!=="vertical")throw new Error("Invalid orientation");var S=m.context(),T=d==="horizontal",V=T?l:s,E=T?s:l,z=V.range(),I=z[1]-z[0],F=T?"x":"y",Y=T?"y":"x",W=T?"height":"width",q=T?"width":"height";_.forEach(function(Q,ae){S.save(),S.beginPath(),S.strokeStyle="transparent",m[Y](E(p(Q))),m[F](z[0]),m[q](I),m[W](E(y(Q))-E(p(Q))),w(S,Q,ae),m.context(S)([Q],ae),S.fill(),S.stroke(),S.closePath(),S.restore()})};return g.xScale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.yScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],g):s},g.orient=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],g):d},g.decorate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],g):w},g.fromValue=function(){return arguments.length?(p=Er(arguments.length<=0?void 0:arguments[0]),g):p},g.toValue=function(){return arguments.length?(y=Er(arguments.length<=0?void 0:arguments[0]),g):y},A(g,m,"context"),g},dd=function(){var l=n.scaleIdentity(),s=n.scaleIdentity(),d=function(_){return _},p=d,y=function(){},w="horizontal",m=Le("g","annotation-line"),g=function(_){if(at(_)&&m.transition(_),w!=="horizontal"&&w!=="vertical")throw new Error("Invalid orientation");var S=w==="horizontal",T=S?function(he,Te){return"translate(".concat(he,", ").concat(Te,")")}:function(he,Te){return"translate(".concat(Te,", ").concat(he,")")},V=S?"x2":"y2",E=S?l:s,z=S?s:l,I=S?"left-handle":"bottom-handle",F=S?"right-handle":"top-handle",Y=S?"9":"0",W=S?"0":"9",q=S?"0.32em":"0.71em",Q=S?"start":"middle",ae=E.range(),pe=function(){return T(ae[0],z(d.apply(void 0,arguments)))},ge=ae[1]-ae[0];_.each(function(he,Te,xt){var Kt=m(u.select(xt[Te]),he),En=Kt.enter().attr("transform",pe).style("stroke","#bbb");En.append("line").attr(V,ge),En.append("g").classed(I,!0).style("stroke","none"),En.append("g").classed(F,!0).style("stroke","none").attr("transform",T(ge,0)).append("text").attr("text-anchor",Q).attr("x",Y).attr("y",W).attr("dy",q),Kt.attr("class","annotation-line ".concat(w)),Kt.attr("transform",pe),Kt.select("line").attr(V,ge),Kt.select("g."+F).attr("transform",T(ge,0)),Kt.select("text").text(p),y(Kt,he,Te)})};return g.xScale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.yScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],g):s},g.value=function(){return arguments.length?(d=Er(arguments.length<=0?void 0:arguments[0]),g):d},g.label=function(){return arguments.length?(p=Er(arguments.length<=0?void 0:arguments[0]),g):p},g.decorate=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],g):y},g.orient=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],g):w},g};function uT(){var l=function(I){return I.x},s=function(I){return I.y},d=n.scaleIdentity(),p=n.scaleIdentity(),y=function(){},w=Le("g","annotation-crosshair"),m=cx(),g=dd(),x=dd().orient("vertical"),_=n.scaleIdentity(),S=n.scaleIdentity(),T=sd().series([g,x,m]).xScale(_).yScale(S).mapping(function(z){return[z]}),V=function(I){at(I)&&w.transition(I),I.each(function(F,Y,W){var q=w(u.select(W[Y]),F);q.enter().style("pointer-events","none"),_.range(d.range()),S.range(p.range()),m.crossValue(l).mainValue(s),g.value(s),x.value(l),q.call(T),y(q,F,Y)})};V.x=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],V):l},V.y=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],V):s},V.xScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],V):d},V.yScale=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],V):p},V.decorate=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],V):y};var E=B("label");return C(V,g,E,R("y")),C(V,x,E,R("x")),V}var md=function(){var l=n.scaleIdentity(),s=n.scaleIdentity(),d=function(_){return _},p=d,y=function(){},w="horizontal",m=f.line(),g=function(_){if(w!=="horizontal"&&w!=="vertical")throw new Error("Invalid orientation");var S=w==="horizontal",T=m.context(),V=S?l:s,E=S?s:l,z=V.domain(),I=S?9:0,F=S?0:9,Y=S?"left":"center",W=S?"middle":"hanging";_.forEach(function(q,Q){T.save(),T.beginPath(),T.strokeStyle="#bbb",T.fillStyle="#000",T.textAlign=Y,T.textBaseline=W,y(T,q,Q),m.context(T)(z.map(function(ge){var he=[V(ge),E(d(q))];return S?he:he.reverse()}));var ae=S?V(z[1]):E(d(q)),pe=S?E(d(q)):V(z[1]);T.fillText(p(q),ae+I,pe+F),T.fill(),T.stroke(),T.closePath(),T.restore()})};return g.xScale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.yScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],g):s},g.value=function(){return arguments.length?(d=Er(arguments.length<=0?void 0:arguments[0]),g):d},g.label=function(){return arguments.length?(p=Er(arguments.length<=0?void 0:arguments[0]),g):p},g.decorate=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],g):y},g.orient=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],g):w},A(g,m,"context"),g},lT=function(){var l=function(E){return E.x},s=function(E){return E.y},d=n.scaleIdentity(),p=n.scaleIdentity(),y=dx(),w=md(),m=md().orient("vertical"),g=n.scaleIdentity(),x=n.scaleIdentity(),_=cd().series([w,m,y]).xScale(g).yScale(x).mapping(function(V){return[V]}),S=function(E){E.forEach(function(z){g.range(d.range()),x.range(p.range()),y.crossValue(l).mainValue(s),w.value(s),m.value(l),_(z)})};S.x=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],S):l},S.y=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],S):s},S.xScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],S):d},S.yScale=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],S):p};var T=B("label","decorate");return C(S,w,T,R("y")),C(S,m,T,R("x")),A(S,y,"decorate"),A(S,_,"context"),S},Cl=function(){var l=n.scaleIdentity(),s=[10],d=null,p=function(){var w;return d??(l.ticks?(w=l).ticks.apply(w,be(s)):l.domain())};return p.scale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},p.ticks=function(){for(var y=arguments.length,w=new Array(y),m=0;m<y;m++)w[m]=arguments[m];return s=w,p},p.tickArguments=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],p):s},p.tickValues=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p},bx=function(s){return s},fT=function(){var l=function(){},s=function(){},d=Cl(),p=Cl(),y=Le("line","gridline-y").key(bx),w=Le("line","gridline-x").key(bx),m=function(x){at(x)&&(y.transition(x),w.transition(x)),x.each(function(_,S,T){var V=T[S],E=u.select(T[S]),z=d.scale(),I=p.scale(),F=V.__x_scale__||z;V.__x_scale__=z.copy();var Y=d(),W=y(E,Y);W.enter().attr("x1",F).attr("x2",F).attr("y1",I.range()[0]).attr("y2",I.range()[1]).attr("stroke","#bbb"),W.attr("x1",z).attr("x2",z).attr("y1",I.range()[0]).attr("y2",I.range()[1]),W.exit().attr("x1",z).attr("x2",z),l(W,Y,S);var q=V.__y_scale__||I;V.__y_scale__=I.copy();var Q=p(),ae=w(E,Q);ae.enter().attr("y1",q).attr("y2",q).attr("x1",z.range()[0]).attr("x2",z.range()[1]).attr("stroke","#bbb"),ae.attr("y1",I).attr("y2",I).attr("x1",z.range()[0]).attr("x2",z.range()[1]),ae.exit().attr("y1",I).attr("y2",I),s(ae,Q,S)})};return m.yDecorate=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.xDecorate=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],m):l},C(m,y,L({key:"xKey"})),C(m,w,L({key:"yKey"})),C(m,d,R("x")),C(m,p,R("y")),m},sT=function(){var l=function(){},s=function(){},d=Cl(),p=Cl(),y=f.line(),w=function(){var g=y.context(),x=d.scale(),_=p.scale();d().forEach(function(S,T){g.save(),g.beginPath(),g.strokeStyle="#bbb",g.fillStyle="transparent",l(g,S,T),y.context(g)(_.domain().map(function(V){return[x(S),_(V)]})),g.fill(),g.stroke(),g.closePath(),g.restore()}),p().forEach(function(S,T){g.save(),g.beginPath(),g.strokeStyle="#bbb",g.fillStyle="transparent",s(g,S,T),y.context(g)(x.domain().map(function(V){return[x(V),_(S)]})),g.fill(),g.stroke(),g.closePath(),g.restore()})};return w.yDecorate=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],w):s},w.xDecorate=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],w):l},C(w,d,R("x")),C(w,p,R("y")),A(w,y,"context"),w},cT=function(s){return s},yx=function(s,d,p,y){return s[d]?s[d].apply(s,p):y},wx=function(s){var d;return(d=s.tickValues())!==null&&d!==void 0?d:yx(s.scale(),"ticks",s.tickArguments(),s.scale().domain())},_x=function(s){var d;return(d=s.tickFormat())!==null&&d!==void 0?d:yx(s.scale(),"tickFormat",s.tickArguments(),cT)},dT=function(s){return s},Sx=function(s,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=[10],w=null,m=function(){},g=null,x=6,_=6,S=3,T=f.line(),V=Le("g","tick").key(dT),E=Le("path","domain"),z=function(){return{offset:[0,_+S]}},I=function(){return{path:[[0,0],[0,_]]}},F=p.labelOffset||z,Y=p.tickPath||I,W=function(he,Te){var xt=0;return he.bandwidth&&(xt=he.bandwidth()/2,he.round()&&(xt=Math.round(xt))),function(Kt){return Te(he(Kt)+xt,0)}},q=function(he,Te){return ae()?"translate(".concat(Te,", ").concat(he,")"):"translate(".concat(he,", ").concat(Te,")")},Q=function(he){return ae()?he.map(function(Te){return[Te[1],Te[0]]}):he},ae=function(){return s==="left"||s==="right"},pe=function ge(he){at(he)&&(V.transition(he),E.transition(he)),he.each(function(Te,xt,Kt){var En=Kt[xt],Hi=u.select(En);En.__scale__||Hi.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",s==="right"?"start":s==="left"?"end":"middle");var wd=En.__scale__||d;En.__scale__=d.copy();var ba=wx(ge),ke=_x(ge),Co=s==="bottom"||s==="right"?1:-1,Mt=function(Ie){var Ke=se(Ie,2),yt=Ke[0],rn=Ke[1];return[yt,Co*rn]},Pn=d.range(),Pr=Q([[Pn[0],Co*x],[Pn[0],0],[Pn[1],0],[Pn[1],Co*x]]),st=E(Hi,[Te]);st.enter().attr("stroke","#000"),st.attr("d",T(Pr));var Ln=V(Hi,ba),Yi=ba.map(function(Se,Ie){return F(Se,Ie,ba)}),bt=ba.map(function(Se,Ie){return Y(Se,Ie,ba)});Ln.enter().attr("transform",W(wd,q)).append("path").attr("stroke","#000"),Ln.enter().append("text").attr("transform",function(Se,Ie){return q.apply(void 0,be(Mt(Yi[Ie].offset)))}).attr("fill","#000"),Ln.exit().attr("transform",W(d,q)),Ln.select("path").attr("visibility",function(Se,Ie){return bt[Ie].hidden&&"hidden"}).attr("d",function(Se,Ie){return T(Q(bt[Ie].path.map(Mt)))}),Ln.select("text").attr("visibility",function(Se,Ie){return Yi[Ie].hidden&&"hidden"}).attr("transform",function(Se,Ie){return q.apply(void 0,be(Mt(Yi[Ie].offset)))}).attr("dy",function(){var Se="0em";return ae()?Se="0.32em":s==="bottom"&&(Se="0.71em"),Se}).text(ke),Ln.attr("transform",W(d,q)),m(Ln,Te,xt)})};return pe.tickFormat=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],pe):g},pe.tickSize=function(){return arguments.length?(_=x=Number(arguments.length<=0?void 0:arguments[0]),pe):_},pe.tickSizeInner=function(){return arguments.length?(_=Number(arguments.length<=0?void 0:arguments[0]),pe):_},pe.tickSizeOuter=function(){return arguments.length?(x=Number(arguments.length<=0?void 0:arguments[0]),pe):x},pe.tickPadding=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],pe):S},pe.decorate=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],pe):m},pe.scale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],pe):d},pe.ticks=function(){for(var ge=arguments.length,he=new Array(ge),Te=0;Te<ge;Te++)he[Te]=arguments[Te];return y=[].concat(he),pe},pe.tickArguments=function(){return arguments.length?(y=(arguments.length<=0?void 0:arguments[0])==null?[]:be(arguments.length<=0?void 0:arguments[0]),pe):y!==null?y.slice():null},pe.tickValues=function(){return arguments.length?(w=(arguments.length<=0?void 0:arguments[0])==null?[]:be(arguments.length<=0?void 0:arguments[0]),pe):w!==null?w.slice():null},pe.orient=function(){return s},pe},Tl=function(s,d){var p=!1,y=function(x,_,S){var T=0,V=w.tickSizeInner()+w.tickPadding(),E=!1;if(p){var z=d(x),I=_<S.length-1?d(S[_+1]):d.range()[1];T=(I-z)/2,V=w.tickPadding(),E=_===S.length-1&&z===I}return{offset:[T,V],hidden:E}},w=Sx(s,d,{labelOffset:y}),m=function(x){return w(x)};return m.tickCenterLabel=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},C(m,w),m},Mx=function(s){return Tl("top",s)},Ax=function(s){return Tl("bottom",s)},Cx=function(s){return Tl("left",s)},Tx=function(s){return Tl("right",s)},kl=function(s,d){var p=null,y=function(S,T,V){if(d.step)return d.step();var E=d(S);return T<V.length-1?d(V[T+1])/E:(d.range()[1]-E)*2},w=function(S,T,V){var E=0;return p?E=p(S,T):E=y(S,T,V)/2,{path:[[E,0],[E,g.tickSizeInner()]],hidden:T===V.length-1}},m=function(){return{offset:[0,g.tickPadding()]}},g=Sx(s,d,{labelOffset:m,tickPath:w}),x=function(S){g(S)};return x.tickOffset=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],x):p},C(x,g),x},mT=function(s){return kl("top",s)},hT=function(s){return kl("bottom",s)},pT=function(s){return kl("left",s)},gT=function(s){return kl("right",s)},kx=function(l){var s=function(p){var y=wx(l),w=_x(l),m=y.map(w),g=p.append("text"),x=m.map(function(T){return g.text(T).node().getBBox()}),_=Math.max.apply(Math,be(x.map(function(T){return T.height}))),S=Math.max.apply(Math,be(x.map(function(T){return T.width})));return g.remove(),{maxHeight:_,maxWidth:S,labelCount:m.length}};return s},vT=function(l){var s="auto",d=function(){},p=function(){return l.orient()==="left"||l.orient()==="right"},y=function(){return l.orient()==="top"||l.orient()==="left"?-1:1},w=function(){switch(l.orient()){case"top":case"right":return"start";default:return"end"}},m=function(S){var T=kx(l)(S),V=T.maxHeight,E=T.maxWidth,z=T.labelCount,I=z*E,F;if(s==="auto"){var Y=l.scale().range()[1];F=Y<I?90*Math.min(1,(I/Y-.8)/2):0}else F=s;return{rotate:p()?Math.floor(y()*(90-F)):Math.floor(-F),maxHeight:V,maxWidth:E,anchor:F?w():"middle"}},g=function(S){var T=m(S),V=T.rotate,E=T.maxHeight,z=T.anchor,I=S.select("text"),F=I.attr("transform"),Y=y()*Math.floor(E/2),W=p()?"translate(".concat(Y,", 0)"):"translate(0, ".concat(Y,")");I.style("text-anchor",z).attr("transform","".concat(F," ").concat(W," rotate(").concat(V," 0 0)"))},x=function(S){l(S)};return l.decorate(function(_){g(_),d(_)}),x.decorate=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],x):d},x.labelRotate=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],x):s},C(x,l,O("decorate")),x},xT=function(l){var s="auto",d=function(){},p=function(){return l.orient()==="left"||l.orient()==="right"},y=function(){return l.orient()==="top"||l.orient()==="left"?-1:1},w=function(x){var _=kx(l)(x),S=_.maxHeight,T=_.maxWidth,V=_.labelCount,E=l.scale().range()[1],z=s==="auto"?Math.floor((p()?S:T)*V/E)+1:s,I=x.select("text"),F=I.attr("transform"),Y=function(q){return p()?"translate(".concat(q%z*T*y(),", 0)"):"translate(0, ".concat(q%z*S*y(),")")};I.attr("transform",function(W,q){return"".concat(F," ").concat(Y(q))})},m=function(x){return l(x)};return l.decorate(function(g){w(g),d(g)}),m.decorate=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},m.labelOffsetDepth=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},C(m,l,O("decorate")),m},hd="__d3fc-elements__",Oi=function(s){return s[hd]||{}},Vx=function(s,d){return void(s[hd]=d)},bT=function(s){return delete s[hd]},yT=function(s){return s.tagName==="D3FC-GROUP"?[s].concat(be(s.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg"))):[s]},wT=function(s){var d=Oi(s),p=d.width,y=d.height,w=s.useDevicePixelRatio&&window.devicePixelRatio!=null?window.devicePixelRatio:1,m=s.clientWidth*w,g=s.clientHeight*w,x=m!==p||g!==y,_=s.children[0];Vx(s,{pixelRatio:w,width:m,height:g,resized:x,child:_})};if(typeof CustomEvent!="function")throw new Error("d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.");var _T=function(s){var d=Oi(s),p=new CustomEvent("measure",{detail:d});s.dispatchEvent(p)},ST=function(s){var d=Oi(s),p=new CustomEvent("draw",{detail:d});s.dispatchEvent(p)},MT=function(l){var s=l.map(yT).reduce(function(d,p){return d.concat(p)});s.forEach(wT),s.forEach(_T),s.forEach(ST)},Dx=function(s){return Oi(s.ownerDocument).queue||[]},AT=function(s,d){var p=Oi(s.ownerDocument),y=p.requestId;y==null&&(y=requestAnimationFrame(function(){var w=Dx(s);MT(w),CT(s)})),Vx(s.ownerDocument,{queue:d,requestId:y})},CT=function(s){return bT(s.ownerDocument)},Nx=function(s,d){var p=s;do if(p.parentNode===d)return!0;while(p=p.parentNode);return!1},pd=function(l){var s=Dx(l),d=s.indexOf(l)>-1;if(!d){var p=s.some(function(w){return Nx(l,w)});if(!p){var y=s.filter(function(w){return!Nx(w,l)});y.push(l),AT(l,y)}}};if(typeof HTMLElement!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var TT=function(s){s.__measureListener__==null&&(s.__measureListener__=function(d){return s.setMeasurements(d.detail)},s.addEventListener("measure",s.__measureListener__))},kT=function(s){s.__measureListener__!=null&&(s.removeEventListener("measure",s.__measureListener__),s.__measureListener__=null)},Ex=function(l,s){return function(d){J(y,d);var p=Ue(y);function y(){return j(this,y),p.apply(this,arguments)}return ee(y,[{key:"attributeChangedCallback",value:function(m){switch(m){case"use-device-pixel-ratio":this.requestRedraw();break}}},{key:"connectedCallback",value:function(){this.childNodes.length===0&&this.appendChild(l()),TT(this)}},{key:"disconnectedCallback",value:function(){kT(this)}},{key:"setMeasurements",value:function(m){var g=m.width,x=m.height,_=_e(this.childNodes),S=_[0],T=_.slice(1);if(T.length>0)throw new Error("A d3fc-svg/canvas element must only contain a single svg/canvas element.");s(this,S,{width:g,height:x})}},{key:"requestRedraw",value:function(){pd(this)}},{key:"useDevicePixelRatio",get:function(){return this.hasAttribute("use-device-pixel-ratio")&&this.getAttribute("use-device-pixel-ratio")!=="false"},set:function(m){m&&!this.useDevicePixelRatio?this.setAttribute("use-device-pixel-ratio",""):!m&&this.useDevicePixelRatio&&this.removeAttribute("use-device-pixel-ratio"),this.requestRedraw()}}],[{key:"observedAttributes",get:function(){return["use-device-pixel-ratio"]}}]),y}(Me(HTMLElement))},VT=function(l){J(d,l);var s=Ue(d);function d(){return j(this,d),s.apply(this,arguments)}return ee(d,[{key:"setWebglViewport",get:function(){return this.hasAttribute("set-webgl-viewport")&&this.getAttribute("set-webgl-viewport")!=="false"},set:function(y){y&&!this.setWebglViewport?this.setAttribute("set-webgl-viewport",""):!y&&this.setWebglViewport&&this.removeAttribute("set-webgl-viewport"),this.requestRedraw()}}]),d}(Ex(function(){return document.createElement("canvas")},function(l,s,d){var p=d.width,y=d.height;if(s.setAttribute("width",p),s.setAttribute("height",y),l.setWebglViewport){var w=s.getContext("webgl");w.viewport(0,0,p,y)}})),gd=function(s){s.autoResize?DT(s):Px(s)},DT=function(s){s.__autoResizeListener__==null&&(s.__autoResizeListener__=function(){return pd(s)},addEventListener("resize",s.__autoResizeListener__))},Px=function(s){s.__autoResizeListener__!=null&&(removeEventListener("resize",s.__autoResizeListener__),s.__autoResizeListener__=null)},NT=function(l){J(d,l);var s=Ue(d);function d(){return j(this,d),s.apply(this,arguments)}return ee(d,[{key:"connectedCallback",value:function(){gd(this)}},{key:"disconnectedCallback",value:function(){Px(this)}},{key:"requestRedraw",value:function(){pd(this)}},{key:"attributeChangedCallback",value:function(y){switch(y){case"auto-resize":gd(this);break}}},{key:"autoResize",get:function(){return this.hasAttribute("auto-resize")&&this.getAttribute("auto-resize")!=="false"},set:function(y){y&&!this.autoResize?this.setAttribute("auto-resize",""):!y&&this.autoResize&&this.removeAttribute("auto-resize"),gd(this)}}],[{key:"observedAttributes",get:function(){return["auto-resize"]}}]),d}(Me(HTMLElement)),ET=Ex(function(){return document.createElementNS("http://www.w3.org/2000/svg","svg")},function(l,s,d){var p=d.width,y=d.height;s.setAttribute("viewBox","0 0 ".concat(p," ").concat(y))}),Lx="d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}",Bi=document.createElement("style");if(Bi.setAttribute("type","text/css"),document.querySelector("head").appendChild(Bi),Bi.styleSheet?Bi.styleSheet.cssText+=Lx:Bi.textContent+=Lx,(typeof customElements>"u"?"undefined":te(customElements))!=="object"||typeof customElements.define!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var vd=[],xd=function(s,d){customElements.get(s)?vd.push(s):customElements.define(s,d)};xd("d3fc-canvas",VT),xd("d3fc-group",NT),xd("d3fc-svg",ET),vd.length>0&&console.warn('The d3fc components "'.concat(vd.join(", "),'" is/are already registered on window. Be aware that this can create compatibility issues if different versions are used.'));var PT=function(){var l=h.dispatch("point");function s(y){var w=u.pointer(y);l.call("point",this,[{x:w[0],y:w[1]}])}function d(){l.call("point",this,[])}var p=function(w){w.on("mouseenter.pointer",s).on("mousemove.pointer",s).on("mouseleave.pointer",d)};return A(p,l,"on"),p},LT=function(){var l="",s="vertical",d=function(g,x){return Number(g[x])},p=function(g){return Object.keys(g[0]).filter(function(x){return x!==l}).map(function(x){var _=g.filter(function(S){return S[x]}).map(function(S){var T=[S[l],d(S,x)];return T.data=S,T});return _.key=x,_})},y=function(g){return g.map(function(x){var _=Object.keys(x).filter(function(S){return S!==l}).map(function(S){var T=[S,d(x,S)];return T.data=x,T});return _.key=x[l],_})},w=function(g){return s==="vertical"?p(g):y(g)};return w.key=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],w):l},w.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},w.orient=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],w):s},w},Ix=function(){for(var l={},s=function(_){for(var S=0,T=Object.keys(l);S<T.length;S++){var V=T[S];_[V].apply(null,l[V])}return _},d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];for(var w=function(){var _=g[m];s[_]=function(){for(var S=arguments.length,T=new Array(S),V=0;V<S;V++)T[V]=arguments[V];return T.length?(l[_]=T,s):l[_]}},m=0,g=p;m<g.length;m++)w();return s},zx=`d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}
d3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:1;-ms-grid-row:1;}
d3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}
d3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}
d3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}
d3fc-group.cartesian-chart>.y-label{display:flex;transform:rotate(-90deg);width:1em;white-space:nowrap;justify-content:center;}`,Fi=document.createElement("style");Fi.setAttribute("type","text/css"),document.querySelector("head").appendChild(Fi),Fi.styleSheet?Fi.styleSheet.cssText+=zx:Fi.textContent+=zx;var Gt=function(s){return typeof s=="function"?s:function(){return s}},Rx=function(){var l=IT.apply(void 0,arguments),s=l.xScale,d=l.yScale,p=l.xAxis,y=l.yAxis,w=Gt(""),m=Gt(""),g=Gt(""),x=Gt(null),_=Gt(null),S=Gt("right"),T=Gt("bottom"),V=null,E=null,z=null,I=!1,F=!0,Y=Ix("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),W=function(){},q=Ix("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),Q=function(){},ae=function(){},pe=Le("d3fc-group","cartesian-chart"),ge=Le("d3fc-canvas","webgl-plot-area"),he=Le("d3fc-canvas","canvas-plot-area"),Te=Le("d3fc-svg","svg-plot-area"),xt=Le("d3fc-svg","x-axis").key(function(Mt){return Mt}),Kt=Le("d3fc-svg","y-axis").key(function(Mt){return Mt}),En=Le("div","chart-label"),Hi=Le("div","x-label").key(function(Mt){return Mt}),wd=Le("div","y-label").key(function(Mt){return Mt}),ba=function(Pn){return function(Pr){return at(Pn)?Pr.transition(Pn):Pr}},ke=function(Pn){var Pr=ba(Pn);Pn.each(function(st,Ln,Yi){var bt=pe(u.select(Yi[Ln]),[st]);bt.enter().attr("auto-resize",""),En(bt,[T(st)]).attr("class",function(Se){return Se==="top"?"chart-label bottom-label":"chart-label top-label"}).style("margin-bottom",function(Se){return Se==="top"?0:"1em"}).style("margin-top",function(Se){return Se==="top"?"1em":0}).text(w(st)),Hi(bt,[T(st)]).attr("class",function(Se){return"x-label ".concat(Se,"-label")}).text(m(st)),wd(bt,[S(st)]).attr("class",function(Se){return"y-label ".concat(Se,"-label")}).text(g(st)),ge(bt,V?[st]:[]).attr("set-webgl-viewport","").classed("plot-area",!0).attr("use-device-pixel-ratio",F).on("draw",function(Se,Ie){var Ke=Se.detail,yt=Ke.child,rn=Ke.pixelRatio;V.context(I?null:yt.getContext("webgl")).pixelRatio(rn).xScale(s).yScale(d),V(Ie)}),bt.select(".webgl-plot-area>canvas").on("webglcontextlost",function(Se){console.warn("WebGLRenderingContext lost"),Se.preventDefault(),I=!0,bt.node().requestRedraw()}).on("webglcontextrestored",function(){console.info("WebGLRenderingContext restored"),I=!1,bt.node().requestRedraw()}),he(bt,E?[st]:[]).classed("plot-area",!0).attr("use-device-pixel-ratio",F).on("draw",function(Se,Ie){var Ke=Se.detail,yt=Ke.child,rn=Ke.pixelRatio,Lr=yt.getContext("2d");Lr.save(),F&&Lr.scale(rn,rn),E.context(Lr).xScale(s).yScale(d),E(Ie),Lr.restore()}),Te(bt,z?[st]:[]).classed("plot-area",!0).on("draw",function(Se,Ie){var Ke=Se.detail.child;z.xScale(s).yScale(d),Pr(u.select(Ke).datum(Ie)).call(z)}),xt(bt,[T(st)]).attr("class",function(Se){return"x-axis ".concat(Se,"-axis")}).style("height",x(st)).on("measure",function(Se,Ie){var Ke=Se.detail,yt=Ke.width,rn=Ke.height,Lr=Ke.child;Ie==="top"&&u.select(Lr).attr("viewBox","0 ".concat(-rn," ").concat(yt," ").concat(rn)),s.range([0,yt])}).on("draw",function(Se,Ie){var Ke=Se.detail.child,yt=Ie==="top"?p.top(s):p.bottom(s);yt.decorate(W),Pr(u.select(Ke).datum(Ie)).call(Y(yt))}),Kt(bt,[S(st)]).attr("class",function(Se){return"y-axis ".concat(Se,"-axis")}).style("width",_(st)).on("measure",function(Se,Ie){var Ke=Se.detail,yt=Ke.width,rn=Ke.height,Lr=Ke.child;Ie==="left"&&u.select(Lr).attr("viewBox","".concat(-yt," 0 ").concat(yt," ").concat(rn)),d.range([rn,0])}).on("draw",function(Se,Ie){var Ke=Se.detail.child,yt=Ie==="left"?y.left(d):y.right(d);yt.decorate(Q),Pr(u.select(Ke).datum(Ie)).call(q(yt))}),bt.each(function(Se,Ie,Ke){return Ke[Ie].requestRedraw()}),ae(bt,st,Ln)})},Co=O(/range\w*/,/tickFormat/);return C(ke,s,Co,R("x")),C(ke,d,Co,R("y")),C(ke,Y,R("x")),C(ke,q,R("y")),ke.xOrient=function(){return arguments.length?(T=Gt(arguments.length<=0?void 0:arguments[0]),ke):T},ke.yOrient=function(){return arguments.length?(S=Gt(arguments.length<=0?void 0:arguments[0]),ke):S},ke.xDecorate=function(){return arguments.length?(W=arguments.length<=0?void 0:arguments[0],ke):W},ke.yDecorate=function(){return arguments.length?(Q=arguments.length<=0?void 0:arguments[0],ke):Q},ke.chartLabel=function(){return arguments.length?(w=Gt(arguments.length<=0?void 0:arguments[0]),ke):w},ke.xLabel=function(){return arguments.length?(m=Gt(arguments.length<=0?void 0:arguments[0]),ke):m},ke.yLabel=function(){return arguments.length?(g=Gt(arguments.length<=0?void 0:arguments[0]),ke):g},ke.xAxisHeight=function(){return arguments.length?(x=Gt(arguments.length<=0?void 0:arguments[0]),ke):x},ke.yAxisWidth=function(){return arguments.length?(_=Gt(arguments.length<=0?void 0:arguments[0]),ke):_},ke.webglPlotArea=function(){return arguments.length?(V=arguments.length<=0?void 0:arguments[0],ke):V},ke.canvasPlotArea=function(){return arguments.length?(E=arguments.length<=0?void 0:arguments[0],ke):E},ke.svgPlotArea=function(){return arguments.length?(z=arguments.length<=0?void 0:arguments[0],ke):z},ke.decorate=function(){return arguments.length?(ae=arguments.length<=0?void 0:arguments[0],ke):ae},ke.useDevicePixelRatio=function(){return arguments.length?(F=arguments.length<=0?void 0:arguments[0],ke):F},ke},IT=function(){for(var s={xScale:n.scaleIdentity(),yScale:n.scaleIdentity(),xAxis:{bottom:Ax,top:Mx},yAxis:{right:Tx,left:Cx}},d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];return p.length===1&&!p[0].domain&&!p[0].range?Object.assign(s,p[0]):Object.assign(s,{xScale:p[0]||s.xScale,yScale:p[1]||s.yScale})},Ox=function(s){return typeof s=="function"?s:function(){return s}},Bx=function(l,s){return function(){var d=Ox(""),p=s,y=function(){},w=Rx.apply(void 0,arguments),m=function(x){l(w,p),w.decorate(function(_,S,T){_.enter().select(".x-label").style("height","1em").style("line-height","1em");var V=w.yOrient()(S);_.enter().append("div").attr("class","y-label-container").style("grid-column",V==="left"?1:5).style("-ms-grid-column",V==="left"?1:5).style("grid-row",3).style("-ms-grid-row",3).style("width","1em").style("display","flex").style("align-items","center").style("justify-content","center").style("white-space","nowrap").append("div").attr("class","y-label").style("transform","rotate(-90deg)"),_.select(".y-label-container>.y-label").text(d),y(_,S,T)}),x.call(w)};return C(m,w,B(/^x/,/^y/,"chartLabel")),m.yLabel=function(){return arguments.length?(d=Ox(arguments.length<=0?void 0:arguments[0]),m):d},m.plotArea=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.decorate=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],m):y},m}},zT=Bx(function(l,s){return l.svgPlotArea(s)},nd),RT=Bx(function(l,s){return l.canvasPlotArea(s)},rd),OT=function(s){switch(s){case"x":return v.brushX();case"y":return v.brushY();case"xy":return v.brush()}},bd=function(s){return[s[1],s[0]]},yd=function(s){var d=OT(s),p=h.dispatch("brush","start","end"),y=n.scaleIdentity(),w=n.scaleIdentity(),m=Le("g","brush"),g=function(I,F,Y){switch(s){case"x":return I.map(F);case"y":return I.map(Y);case"xy":return[[F(I[0][0]),Y(I[0][1])],[F(I[1][0]),Y(I[1][1])]]}},x=function(I){return g(I,n.scaleLinear().domain(y.range()).invert,n.scaleLinear().domain(bd(w.range())).invert)},_=function(I){return g(I,n.scaleLinear().domain(y.range()),n.scaleLinear().domain(bd(w.range())))},S=function(I){var F=n.scaleLinear().domain(y.domain());if(s==="x")return I.map(F.invert);if(s==="xy")return[F.invert(I[0][0]),F.invert(I[1][0])]},T=function(I){var F=n.scaleLinear().domain(bd(w.domain()));if(s==="y")return[I[1],I[0]].map(F.invert);if(s==="xy")return[F.invert(I[1][1]),F.invert(I[0][1])]},V=function(I){if(!(I.sourceEvent&&I.sourceEvent.type==="draw"))if(I.selection){var F=_(I.selection);p.call(I.type,{},{selection:F,xDomain:S(F),yDomain:T(F)})}else p.call(I.type,{},{})},E=function(I){I.each(function(F,Y,W){d.extent([[y.range()[0],w.range()[1]],[y.range()[1],w.range()[0]]]),d.on("end",function(Q){return V(Q)}).on("brush",function(Q){return V(Q)}).on("start",function(Q){return V(Q)});var q=m(u.select(W[Y]),[F]);q.call(d).call(d.move,F?x(F):null)})};return E.xScale=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],E):y},E.yScale=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],E):w},A(E,p,"on"),A(E,d,"filter","handleSize"),E},BT=function(){return yd("x")},FT=function(){return yd("y")},HT=function(){return yd("xy")},Fx=function(s,d){if(s==null&&d==null)return!0;var p=s.domain(),y=d.domain();return p.length===y.length&&p.every(function(w,m){var g;return w?.valueOf()===((g=y[m])===null||g===void 0?void 0:g.valueOf())})},YT=function(s,d){return b.zoomIdentity.scale(s.k/d.k).translate(s.x-d.x,s.y-d.y)},Vl=Symbol("d3fc-domain-zoom"),WT=function(){var l=h.dispatch("zoom"),s=b.zoom().on("zoom",function(p){var y=p.transform,w=this,m=y,g=w[Vl],x=g.originalXScale,_=g.previousXScale,S=g.xScale,T=g.originalYScale,V=g.previousYScale,E=g.yScale,z=g.previousTransform;(!Fx(_,S)||!Fx(V,E))&&(x=S?.copy(),T=E?.copy(),m=YT(y,z)),S!=null&&(_=m.rescaleX(x.range(S.range())),S.domain(_.domain())),E!=null&&(V=m.rescaleY(T.range(E.range())),E.domain(V.domain())),z=m,w[Vl]={originalXScale:x,previousXScale:_,xScale:S,originalYScale:T,previousYScale:V,yScale:E,previousTransform:z},m!==y&&s.transform(u.select(w),m),l.call("zoom")}),d=function(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;w==null&&m==null&&console.warn("Without an xScale and/or yScale specified, this component won't do anything. Perhaps you forgot to specify them e.g. selection.call(zoom, x, y)?"),y.each(function(g,x,_){var S=_[x][Vl];S!=null&&S.xScale===w&&S.yScale===m&&console.warn("This component should only be called on a selection once. Perhaps you're missing an .enter()?");var T=w?.copy(),V=m?.copy();_[x][Vl]={originalXScale:T,previousXScale:T,xScale:w,originalYScale:V,previousYScale:V,yScale:m,previousTransform:b.zoomIdentity}}).call(s)};return A(d,l,"on"),A(d,s,"extent","filter","wheelDelta","touchable","clickDistance","tapDistance","duration","interpolate"),d};e.annotationCanvasBand=iT,e.annotationCanvasCrosshair=lT,e.annotationCanvasGridline=sT,e.annotationCanvasLine=md,e.annotationSvgBand=oT,e.annotationSvgCrosshair=uT,e.annotationSvgGridline=fT,e.annotationSvgLine=dd,e.autoBandwidth=nT,e.axisBottom=Ax,e.axisLabelOffset=xT,e.axisLabelRotate=vT,e.axisLeft=Cx,e.axisOrdinalBottom=hT,e.axisOrdinalLeft=pT,e.axisOrdinalRight=gT,e.axisOrdinalTop=mT,e.axisRight=Tx,e.axisTop=Mx,e.brush=HT,e.brushX=BT,e.brushY=FT,e.bucket=Sl,e.chartCanvasCartesian=RT,e.chartCartesian=Rx,e.chartSvgCartesian=zT,e.dataJoin=Le,e.discontinuityIdentity=av,e.discontinuityRange=IA,e.discontinuitySkipUtcWeekends=LA,e.discontinuitySkipUtcWeeklyPattern=YA,e.discontinuitySkipWeekends=PA,e.discontinuitySkipWeeklyPattern=FA,e.effectivelyZero=Jc,e.exclude=O,e.extentDate=cv,e.extentLinear=sv,e.extentTime=cv,e.feedGdax=$A,e.group=LT,e.include=B,e.includeMap=L,e.indicatorBollingerBands=oe,e.indicatorElderRay=NA,e.indicatorEnvelope=DA,e.indicatorExponentialMovingAverage=Z,e.indicatorForceIndex=VA,e.indicatorMacd=H,e.indicatorMovingAverage=rv,e.indicatorRelativeStrengthIndex=TA,e.indicatorStochasticOscillator=kA,e.isTransition=at,e.largestTriangleOneBucket=UA,e.largestTriangleThreeBucket=XA,e.layoutAnnealing=nC,e.layoutBoundingBox=oC,e.layoutGreedy=eC,e.layoutLabel=QA,e.layoutRemoveOverlaps=aC,e.layoutTextLabel=KA,e.modeMedian=jA,e.pointer=PT,e.prefix=R,e.randomFinancial=qA,e.randomGeometricBrownianMotion=dv,e.randomSkipWeekends=GA,e.rebind=A,e.rebindAll=C,e.scaleDiscontinuous=ov,e.seriesCanvasArea=BC,e.seriesCanvasBar=PC,e.seriesCanvasBoxPlot=GC,e.seriesCanvasCandlestick=YC,e.seriesCanvasErrorBar=zC,e.seriesCanvasGrouped=KC,e.seriesCanvasHeatmap=aT,e.seriesCanvasLine=rd,e.seriesCanvasMulti=cd,e.seriesCanvasOhlc=XC,e.seriesCanvasPoint=dx,e.seriesCanvasRepeat=JC,e.seriesSvgArea=OC,e.seriesSvgBar=EC,e.seriesSvgBoxPlot=qC,e.seriesSvgCandlestick=HC,e.seriesSvgErrorBar=IC,e.seriesSvgGrouped=QC,e.seriesSvgHeatmap=rT,e.seriesSvgLine=nd,e.seriesSvgMulti=sd,e.seriesSvgOhlc=UC,e.seriesSvgPoint=cx,e.seriesSvgRepeat=ZC,e.seriesWebglArea=FC,e.seriesWebglBar=LC,e.seriesWebglBoxPlot=$C,e.seriesWebglCandlestick=WC,e.seriesWebglErrorBar=RC,e.seriesWebglLine=sx,e.seriesWebglMulti=gx,e.seriesWebglOhlc=jC,e.seriesWebglPoint=NC,e.seriesWebglRepeat=eT,e.shapeBar=Ao,e.shapeBoxPlot=Qc,e.shapeCandlestick=jc,e.shapeErrorBar=Kc,e.shapeOhlc=Xc,e.webglAdjacentAttribute=Dr,e.webglAttribute=Ae,e.webglBaseAttribute=Ml,e.webglBufferBuilder=vv,e.webglElementIndices=xa,e.webglFillColor=VC,e.webglProgramBuilder=ur,e.webglScaleLinear=Al,e.webglScaleLog=ox,e.webglScaleMapper=Nr,e.webglScalePow=ix,e.webglSeriesArea=Qv,e.webglSeriesBar=tx,e.webglSeriesBoxPlot=ax,e.webglSeriesCandlestick=rx,e.webglSeriesErrorBar=nx,e.webglSeriesLine=Jv,e.webglSeriesOhlc=ex,e.webglSeriesPoint=Zv,e.webglShaderBuilder=Ye,e.webglStrokeColor=DC,e.webglSymbolMapper=lx,e.webglTypes=Ee,e.webglUniform=Qt,e.zoom=WT,Object.defineProperty(e,"__esModule",{value:!0})})});var _A=Hx(ev=>{var Mo=Mo||{};Mo.stringify=function(){var e={"visit_linear-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-linear-gradient":function(t){return e.visit_gradient(t)},"visit_radial-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-radial-gradient":function(t){return e.visit_gradient(t)},visit_gradient:function(t){var n=e.visit(t.orientation);return n&&(n+=", "),t.type+"("+n+e.visit(t.colorStops)+")"},visit_shape:function(t){var n=t.value,r=e.visit(t.at),a=e.visit(t.style);return a&&(n+=" "+a),r&&(n+=" at "+r),n},"visit_default-radial":function(t){var n="",r=e.visit(t.at);return r&&(n+=r),n},"visit_extent-keyword":function(t){var n=t.value,r=e.visit(t.at);return r&&(n+=" at "+r),n},"visit_position-keyword":function(t){return t.value},visit_position:function(t){return e.visit(t.value.x)+" "+e.visit(t.value.y)},"visit_%":function(t){return t.value+"%"},visit_em:function(t){return t.value+"em"},visit_px:function(t){return t.value+"px"},visit_literal:function(t){return e.visit_color(t.value,t)},visit_hex:function(t){return e.visit_color("#"+t.value,t)},visit_rgb:function(t){return e.visit_color("rgb("+t.value.join(", ")+")",t)},visit_rgba:function(t){return e.visit_color("rgba("+t.value.join(", ")+")",t)},visit_color:function(t,n){var r=t,a=e.visit(n.length);return a&&(r+=" "+a),r},visit_angular:function(t){return t.value+"deg"},visit_directional:function(t){return"to "+t.value},visit_array:function(t){var n="",r=t.length;return t.forEach(function(a,o){n+=e.visit(a),o<r-1&&(n+=", ")}),n},visit:function(t){if(!t)return"";var n="";if(t instanceof Array)return e.visit_array(t,n);if(t.type){var r=e["visit_"+t.type];if(r)return r(t);throw Error("Missing visitor visit_"+t.type)}else throw Error("Invalid node.")}};return function(t){return e.visit(t)}}();var Mo=Mo||{};Mo.parse=function(){var e={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function n(X){var ee=new Error(t+": "+X);throw ee.source=t,ee}function r(){var X=a();return t.length>0&&n("Invalid input not EOF"),X}function a(){return B(o)}function o(){return i("linear-gradient",e.linearGradient,f)||i("repeating-linear-gradient",e.repeatingLinearGradient,f)||i("radial-gradient",e.radialGradient,v)||i("repeating-radial-gradient",e.repeatingRadialGradient,v)}function i(X,ee,J){return u(ee,function(K){var le=J();return le&&(te(e.comma)||n("Missing comma before color stops")),{type:X,orientation:le,colorStops:B(L)}})}function u(X,ee){var J=te(X);if(J){te(e.startCall)||n("Missing (");var K=ee(J);return te(e.endCall)||n("Missing )"),K}}function f(){return c()||h()}function c(){return H("directional",e.sideOrCorner,1)}function h(){return H("angular",e.angleValue,1)}function v(){var X,ee=b(),J;return ee&&(X=[],X.push(ee),J=t,te(e.comma)&&(ee=b(),ee?X.push(ee):t=J)),X}function b(){var X=M()||A();if(X)X.at=C();else{var ee=D();if(ee){X=ee;var J=C();J&&(X.at=J)}else{var K=N();K&&(X={type:"default-radial",at:K})}}return X}function M(){var X=H("shape",/^(circle)/i,0);return X&&(X.style=Z()||D()),X}function A(){var X=H("shape",/^(ellipse)/i,0);return X&&(X.style=U()||D()),X}function D(){return H("extent-keyword",e.extentKeywords,1)}function C(){if(H("position",/^at/,0)){var X=N();return X||n("Missing positioning value"),X}}function N(){var X=O();if(X.x||X.y)return{type:"position",value:X}}function O(){return{x:U(),y:U()}}function B(X){var ee=X(),J=[];if(ee)for(J.push(ee);te(e.comma);)ee=X(),ee?J.push(ee):n("One extra comma");return J}function L(){var X=P();return X||n("Expected color definition"),X.length=U(),X}function P(){return G()||ue()||$()||R()}function R(){return H("literal",e.literalColor,0)}function G(){return H("hex",e.hexColor,1)}function $(){return u(e.rgbColor,function(){return{type:"rgb",value:B(re)}})}function ue(){return u(e.rgbaColor,function(){return{type:"rgba",value:B(re)}})}function re(){return te(e.number)[1]}function U(){return H("%",e.percentageValue,1)||oe()||Z()}function oe(){return H("position-keyword",e.positionKeywords,1)}function Z(){return H("px",e.pixelValue,1)||H("em",e.emValue,1)}function H(X,ee,J){var K=te(ee);if(K)return{type:X,value:K[J]}}function te(X){var ee,J;return J=/^[\n\r\t\s]+/.exec(t),J&&j(J[0].length),ee=X.exec(t),ee&&j(ee[0].length),ee}function j(X){t=t.substr(X)}return function(X){return t=X.toString(),r()}}();ev.parse=Mo.parse;ev.stringify=Mo.stringify});Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null});var J9=ze(Re());var ea=ze(Re());var qe={none:"none",ordinal:"ordinal",time:"time",linear:"linear"},hi=e=>{let t="crossValues",n=null,r=null,a=()=>{let o=i=>{let u=n?e[t].filter(f=>n==f.name):e[t];return t=="crossValues"&&u.length>1?!1:u.some(f=>i.includes(f.type))};return e[t].length===0?qe.none:r!=qe.time&&o(["datetime","date"])?qe.time:r!=qe.linear&&o(["integer","float"])||r==qe.ordinal?qe.linear:qe.ordinal};return a.settingName=(...o)=>o.length?(t=o[0],a):t,a.settingValue=(...o)=>o.length?(n=o[0],a):n,a.excludeType=(...o)=>o.length?(r=o[0],a):r,a};var jg={};At(jg,{domain:()=>WE,labelFunction:()=>Xg,scale:()=>YE});function Ws(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(a);++r<a;)o[r]=e+r*n;return o}Hg();dr();Za();ys();hp();Ig();vp();rf();function EE(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function r4(){return this.eachAfter(EE)}function a4(e,t){let n=-1;for(let r of this)e.call(t,r,++n,this);return this}function o4(e,t){for(var n=this,r=[n],a,o,i=-1;n=r.pop();)if(e.call(t,n,++i,this),a=n.children)for(o=a.length-1;o>=0;--o)r.push(a[o]);return this}function i4(e,t){for(var n=this,r=[n],a=[],o,i,u,f=-1;n=r.pop();)if(a.push(n),o=n.children)for(i=0,u=o.length;i<u;++i)r.push(o[i]);for(;n=a.pop();)e.call(t,n,++f,this);return this}function u4(e,t){let n=-1;for(let r of this)if(e.call(t,r,++n,this))return r}function l4(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,a=r&&r.length;--a>=0;)n+=r[a].value;t.value=n})}function f4(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function s4(e){for(var t=this,n=PE(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var a=r.length;e!==n;)r.splice(a,0,e),e=e.parent;return r}function PE(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),a=null;for(e=n.pop(),t=r.pop();e===t;)a=e,e=n.pop(),t=r.pop();return a}function c4(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function d4(){return Array.from(this)}function m4(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function h4(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*p4(){var e=this,t,n=[e],r,a,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(a=0,o=r.length;a<o;++a)n.push(r[a]);while(n.length)}function Qr(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=zE)):t===void 0&&(t=IE);for(var n=new tl(e),r,a=[n],o,i,u,f;r=a.pop();)if((i=t(r.data))&&(f=(i=Array.from(i)).length))for(r.children=i,u=f-1;u>=0;--u)a.push(o=i[u]=new tl(i[u])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(OE)}function LE(){return Qr(this).eachBefore(RE)}function IE(e){return e.children}function zE(e){return Array.isArray(e)?e[1]:null}function RE(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function OE(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function tl(e){this.data=e,this.depth=this.height=0,this.parent=null}tl.prototype=Qr.prototype={constructor:tl,count:r4,each:a4,eachAfter:i4,eachBefore:o4,find:u4,sum:l4,sort:f4,path:s4,ancestors:c4,descendants:d4,leaves:m4,links:h4,copy:LE,[Symbol.iterator]:p4};function g4(e){if(typeof e!="function")throw new Error;return e}function pi(){return 0}function gi(e){return function(){return e}}function qs(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Gs(e,t,n,r,a){for(var o=e.children,i,u=-1,f=o.length,c=e.value&&(r-t)/e.value;++u<f;)i=o[u],i.y0=n,i.y1=a,i.x0=t,i.x1=t+=i.value*c}function Gg(){var e=1,t=1,n=0,r=!1;function a(i){var u=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/u,i.eachBefore(o(t,u)),r&&i.eachBefore(qs),i}function o(i,u){return function(f){f.children&&Gs(f,f.x0,i*(f.depth+1)/u,f.x1,i*(f.depth+2)/u);var c=f.x0,h=f.y0,v=f.x1-n,b=f.y1-n;v<c&&(c=v=(c+v)/2),b<h&&(h=b=(h+b)/2),f.x0=c,f.y0=h,f.x1=v,f.y1=b}}return a.round=function(i){return arguments.length?(r=!!i,a):r},a.size=function(i){return arguments.length?(e=+i[0],t=+i[1],a):[e,t]},a.padding=function(i){return arguments.length?(n=+i,a):n},a}function v4(e,t,n,r,a){for(var o=e.children,i,u=-1,f=o.length,c=e.value&&(a-n)/e.value;++u<f;)i=o[u],i.x0=t,i.x1=r,i.y0=n,i.y1=n+=i.value*c}var BE=(1+Math.sqrt(5))/2;function FE(e,t,n,r,a,o){for(var i=[],u=t.children,f,c,h=0,v=0,b=u.length,M,A,D=t.value,C,N,O,B,L,P,R;h<b;){M=a-n,A=o-r;do C=u[v++].value;while(!C&&v<b);for(N=O=C,P=Math.max(A/M,M/A)/(D*e),R=C*C*P,L=Math.max(O/R,R/N);v<b;++v){if(C+=c=u[v].value,c<N&&(N=c),c>O&&(O=c),R=C*C*P,B=Math.max(O/R,R/N),B>L){C-=c;break}L=B}i.push(f={value:C,dice:M<A,children:u.slice(h,v)}),f.dice?Gs(f,n,r,a,D?r+=A*C/D:o):v4(f,n,r,D?n+=M*C/D:a,o),D-=C,h=v}return i}var x4=function e(t){function n(r,a,o,i,u){FE(t,r,a,o,i,u)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(BE);function $g(){var e=x4,t=!1,n=1,r=1,a=[0],o=pi,i=pi,u=pi,f=pi,c=pi;function h(b){return b.x0=b.y0=0,b.x1=n,b.y1=r,b.eachBefore(v),a=[0],t&&b.eachBefore(qs),b}function v(b){var M=a[b.depth],A=b.x0+M,D=b.y0+M,C=b.x1-M,N=b.y1-M;C<A&&(A=C=(A+C)/2),N<D&&(D=N=(D+N)/2),b.x0=A,b.y0=D,b.x1=C,b.y1=N,b.children&&(M=a[b.depth+1]=o(b)/2,A+=c(b)-M,D+=i(b)-M,C-=u(b)-M,N-=f(b)-M,C<A&&(A=C=(A+C)/2),N<D&&(D=N=(D+N)/2),e(b,A,D,C,N))}return h.round=function(b){return arguments.length?(t=!!b,h):t},h.size=function(b){return arguments.length?(n=+b[0],r=+b[1],h):[n,r]},h.tile=function(b){return arguments.length?(e=g4(b),h):e},h.padding=function(b){return arguments.length?h.paddingInner(b).paddingOuter(b):h.paddingInner()},h.paddingInner=function(b){return arguments.length?(o=typeof b=="function"?b:gi(+b),h):o},h.paddingOuter=function(b){return arguments.length?h.paddingTop(b).paddingRight(b).paddingBottom(b).paddingLeft(b):h.paddingTop()},h.paddingTop=function(b){return arguments.length?(i=typeof b=="function"?b:gi(+b),h):i},h.paddingRight=function(b){return arguments.length?(u=typeof b=="function"?b:gi(+b),h):u},h.paddingBottom=function(b){return arguments.length?(f=typeof b=="function"?b:gi(+b),h):f},h.paddingLeft=function(b){return arguments.length?(c=typeof b=="function"?b:gi(+b),h):c},h}function Ug(e,t,n,r,a){var o=e.children,i,u=o.length,f,c=new Array(u+1);for(c[0]=f=i=0;i<u;++i)c[i+1]=f+=o[i].value;h(0,u,e.value,t,n,r,a);function h(v,b,M,A,D,C,N){if(v>=b-1){var O=o[v];O.x0=A,O.y0=D,O.x1=C,O.y1=N;return}for(var B=c[v],L=M/2+B,P=v+1,R=b-1;P<R;){var G=P+R>>>1;c[G]<L?P=G+1:R=G}L-c[P-1]<c[P]-L&&v+1<P&&--P;var $=c[P]-B,ue=M-$;if(C-A>N-D){var re=M?(A*ue+C*$)/M:C;h(v,P,$,A,D,re,N),h(P,b,ue,re,D,C,N)}else{var U=M?(D*ue+N*$)/M:N;h(v,P,$,A,D,C,U),h(P,b,ue,A,U,C,N)}}}Zt();Fr();lp();np();kg();Dt();eg();qo();Af();Cs();Ls();qg();var b4=e=>{let t=n=>(r,a)=>r===void 0?a:a===void 0?r:n(r,a);return e.reduce((n,r)=>[t(Math.min)(n[0],r[0]),t(Math.max)(n[1],r[1])],[void 0,void 0])},Kr=e=>Array.isArray(e)?e.flat(1/0):[e];var y4=ze(Re()),HE=1,$s=e=>{let t=n=>e(n);return(0,y4.rebindAll)(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(...n),t):Math.max(e.bandwidth(),HE),t};var w4=ze(Re()),_4=e=>{let t=n=>e(n);return(0,w4.rebindAll)(t,e),t.ticks=function(){return[]},t};var YE=()=>_4($s(Cn())),WE=()=>{let e=["crossValue"],t="horizontal",n=a=>{let o=Kr(a);return r([...new Set(o.map(i=>i[e[0]]))])},r=a=>t=="vertical"?a.reverse():a;return n.valueName=(...a)=>a.length?(e=[a[0]],n):e[0],n.valueNames=(...a)=>a.length?(e=a[0],n):e,n.orient=(...a)=>a.length?(t=a[0],n):t,n},Xg=e=>t=>t[e].join("|");var js={};At(js,{component:()=>$E,domain:()=>Kg,labelFunction:()=>Zg,scale:()=>GE,tickFormatFunction:()=>Jg});var Jn=ze(Re());Am();var Us=()=>{let e=[0,0],t="percent",n=r=>{switch(t){case"domain":{r[0]-=e[0],r[1]+=e[1];break}case"percent":{let a=r[1]-r[0];r[0]-=e[0]*a,r[1]+=e[1]*a;break}default:throw new Error("Unknown padUnit: "+t)}return r};return n.pad=function(...r){return r.length?(e=r[0],n):e},n.padUnit=function(...r){return r.length?(t=r[0],n):t},n};var S4=function(){let e=[function(o){return o}],t=null,n=[],r=Us(),a=function(i){let u=new Array(i.length),f=!0,c=!1,h,v=e[Symbol.iterator]();try{for(let M;!(f=(M=v.next()).done);f=!0){let A=M.value;for(let D=0;D<i.length;D++){let C=A(i[D],D);Array.isArray(C)?u.push.apply(u,Qg(C)):u.push(C)}}}catch(M){c=!0,h=M}finally{try{!f&&v.return&&v.return()}finally{if(c)throw h}}let b=[un(u),In(u)];if(b[0]=b[0]==null?un(n):un([b[0]].concat(Qg(n))),b[1]=b[1]==null?In(n):In([b[1]].concat(Qg(n))),t!=null){let M=Math.max(Math.abs(b[1]-t),Math.abs(b[0]-t));b[0]=t-M,b[1]=t+M}return r(b)};return a.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.pad=function(...o){return o.length?(r.pad(o[0]),a):r.pad},a.padUnit=function(...o){return o.length?(r.padUnit(o[0]),a):r.padUnit},a.include=function(...o){return o.length?(n=o[0],a):n},a.symmetricalAbout=function(...o){return o.length?(t=o[0],a):t},a.paddingStrategy=function(...o){return o.length?(r=o[0],a):r},a},Qg=function(e){if(Array.isArray(e)){let t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n];return t}else return Array.from(e)};var qE=1e7,Xs=(e,t)=>{let n=Math.ceil(Math.abs(Math.log10(t-e)))+1;return r=>Math.abs(r)>=qE?Yn(".3s")(r):Number.isInteger(r)?Yn(",.0f")(r):Yn(`,.${n}f`)(r)};function vi(e){return e.getRootNode().host}function Zr(e){return e.closest("#container.chart")}var GE=()=>Wn(),Kg=()=>{let e=S4().pad([0,.1]).padUnit("percent"),t=["crossValue"],n=o=>(e.accessors(t.map(i=>u=>parseFloat(u[i]))),a(Kr(o)));Jn.rebindAll(n,e);let r=o=>{let i=t.map(u=>o.map(f=>f[u]).sort((f,c)=>f-c).filter((f,c,h)=>c===0||f!==h[c-1]).reduce((f,c,h,v)=>h===0||f<=c-v[h-1]?f:Math.abs(c-v[h-1])));return Math.min(...i)},a=o=>{if(e.padUnit()=="domain"){let i=r(o);return e.pad([i/2,i/2])(o)}else return e(o)};return n.valueName=(...o)=>o.length?(t=[o[0]],n):t[0],n.valueNames=(...o)=>o.length?(t=o[0],n):t,n},Zg=e=>t=>t[e][0],Jg=Xs,$E=e=>{let t=null,n="horizontal",r=null,a=(c,h)=>{try{return Zr(c.node()).querySelector(".cartesian-chart").querySelector(`.${h}-axis`)}catch{return null}},o=c=>{let h=fe(c).select("text").node();h.style.fontSize="80%"},i=(c,h)=>{let v=c.getBoundingClientRect();h.each((b,M,A)=>{let D=fe(A[M]).node().getBoundingClientRect();(n=="vertical"&&v.width<D.width||n=="horizontal"&&v.height<D.height)&&o(A[M])})},u=(c,h,v)=>{let b=a(c,h);b&&i(b,c)},f=()=>({bottom:Jn.axisBottom,left:Jn.axisLeft,top:Jn.axisTop,right:Jn.axisRight,decorate:u});return f.domain=(...c)=>c.length?(t=c[0],f):t,f.orient=(...c)=>c.length?(n=c[0],f):n,f.settingName=(...c)=>c.length?(r=c[0],f):r,f};var t0={};At(t0,{domain:()=>XE,labelFunction:()=>e0,scale:()=>UE});var xi=ze(Re());var UE=()=>Tu(),XE=()=>{let e=xi.extentTime(),t=["crossValue"],n=o=>(e.accessors(t.map(i=>u=>new Date(u[i]))),a(Kr(o)));xi.rebindAll(n,e,xi.exclude("include","paddingStrategy"));let r=o=>{let i=t.map(u=>o.map(f=>new Date(f[u]).getTime()).sort((f,c)=>f-c).filter((f,c,h)=>c===0||f!==h[c-1]).reduce((f,c,h,v)=>h===0||Math.abs(f)<=Math.abs(c-v[h-1])?Math.abs(f):Math.abs(c-v[h-1])));return Math.min(...i)},a=o=>{let i=Math.abs(r(o));return e.padUnit("domain").pad([i/2,i/2])(o)};return n.valueName=(...o)=>o.length?(t=[o[0]],n):t[0],n.valueNames=(...o)=>o.length?(t=o[0],n):t,n},e0=e=>t=>new Date(t[e][0]);var r0={};At(r0,{component:()=>KE,domain:()=>QE,labelFunction:()=>n0,scale:()=>jE});var Jr=ze(Re());var Pt=ze(Re());var M4=(...e)=>{let t={},n=r=>{for(let a of Object.keys(t))r[a](t[a]);return r};for(let r of e)n[r]=(...a)=>a.length?(t[r]=a[0],n):t[r];return n};var Qs=(e,t,n)=>{let r=6,a=6,o=M4("tickFormat","ticks","tickArguments","tickValues","tickPadding"),i=(...D)=>{},u=null,f=(0,Pt.dataJoin)("g","group"),c=(0,Pt.dataJoin)("path","domain"),h=(D,C)=>b()?`translate(${C}, ${D})`:`translate(${D}, ${C})`,v=D=>b()?D.map(C=>[C[1],C[0]]):D,b=()=>e==="left"||e==="right",M=D=>{if(!u){o(t(n).decorate(i))(D);return}D.each((C,N,O)=>{let B=O[N],L=fe(B),P=e==="bottom"||e==="right"?1:-1,R=n.range(),G=v([[R[0],P*r],[R[0],0],[R[1],0],[R[1],P*r]]);c(L,[C]).attr("d",Ur()(G)).attr("stroke","#000").attr("fill","none");let ue=f(L,u),re=oe=>Array.isArray(a)?a[oe]:a,U=oe=>{let Z=0;for(let H=0;H<oe;H++)Z+=re(H);return Z};ue.attr("transform",(oe,Z)=>h(0,P*U(Z))).each((oe,Z,H)=>{let te=fe(H[Z]),j=A(n,oe);o(t(j)).decorate((ee,J)=>i(ee,J,Z)).tickSizeInner(re(Z)).tickOffset(ee=>j.step(ee)/2)(te),te.select("path.domain").attr("visibility","hidden")}),ue.exit().attr("transform",(oe,Z)=>h(0,P*U(Z)))})},A=(D,C)=>{function N(O){let B=O.domain;return B.reduce((L,P)=>L+D(P),0)/B.length}return N.ticks=()=>C,N.tickFormat=()=>O=>O.text,N.copy=()=>A(D,C),N.step=O=>O.domain.length*D.step(),(0,Pt.rebindAll)(N,D,(0,Pt.exclude)("ticks","step","copy")),N};return M.tickSize=(...D)=>D.length?(a=r=Number(D[0]),M):a,M.tickSizeInner=(...D)=>D.length?(a=Array.isArray(D[0])?D[0]:Number(D[0]),M):a,M.tickSizeOuter=(...D)=>D.length?(r=Number(D[0]),M):r,M.decorate=(...D)=>D.length?(i=D[0],M):i,M.groups=(...D)=>D.length?(u=D[0],M):u,(0,Pt.rebindAll)(M,o),M},A4=e=>Qs("top",Pt.axisOrdinalTop,e),C4=e=>Qs("bottom",Pt.axisOrdinalBottom,e),T4=e=>Qs("left",Pt.axisOrdinalLeft,e),k4=e=>Qs("right",Pt.axisOrdinalRight,e);var jE=()=>$s(Cn()).padding(.5),QE=()=>{let e=["crossValue"],t="horizontal",n=a=>{let o=Kr(a);return r([...Array.from(new Set(o.map(i=>i[e[0]])))])},r=a=>t=="vertical"?a.reverse():a;return n.valueName=(...a)=>a.length?(e=[a[0]],n):e[0],n.valueNames=(...a)=>a.length?(e=a[0],n):e,n.orient=(...a)=>a.length?(t=a[0],n):t,n},n0=e=>t=>t[e].join("|"),KE=e=>{let t="horizontal",n="crossValues",r=null,a=()=>{let b=e[n].length>1,M=i(r),A=M.map(u),D=b?A.map(L=>L.size):A[0].size,C=A.reduce((L,P)=>L+P.size,0),N=L=>P=>{let R=L(P);return b&&R.groups(M).tickSizeInner(D).tickSizeOuter(C),t!=="horizontal"&&R.tickPadding(10),R},O=(L,P,R)=>{let G=A[R].rotation;t==="horizontal"&&v(L,G),f(L,G)},B=o(b);return{bottom:N(B.bottom),left:N(B.left),right:N(B.right),top:N(B.top),size:`${C+10}px`,decorate:O}},o=b=>b?{bottom:C4,left:T4,top:A4,right:k4}:{bottom:Jr.axisOrdinalBottom,left:Jr.axisOrdinalLeft,top:Jr.axisOrdinalTop,right:Jr.axisOrdinalRight},i=b=>{let M=[];return b.forEach(A=>{(A&&A.split?A.split("|"):[A]).forEach((C,N)=>{for(;M.length<=N;)M.push([]);let O=M[N];O.length>0&&O[O.length-1].text===C?O[O.length-1].domain.push(A):O.push({text:C,domain:[A]})})}),M.reverse()},u=b=>{let M=e.size.width,A=Math.max(...b.map(D=>D.text?D.text.length:0));return t==="horizontal"?b&&b.length*16>M-100?{size:A*5+10,rotation:90}:b&&b.length*(A*6+10)>M-100?{size:A*3+20,rotation:45}:{size:25,rotation:0}:{size:A*5+10,rotation:0}},f=(b,M)=>{let A=P=>{let R=P.indexOf(",")!==-1?",":" ",G=P.substring(P.indexOf("(")+1,P.indexOf(")")).split(R).map($=>parseInt($));for(;G.length<2;)G.push(0);return G},N=M?(P,R)=>P.x+P.width+14>R.x+R.width:(P,R)=>P.x<=R.x+R.width&&R.x<=P.x+P.width&&P.y<=R.y+R.height&&R.y<=P.y+P.height,O=(P,R)=>P.x>=R.x&&P.x+P.width<=R.x+R.width&&P.y>=R.y&&P.y+P.height<=R.y+R.height,B=t=="horizontal"?c(b):null,L=[];b.each((P,R,G)=>{let $=fe(G[R]),ue=A($.attr("transform")),re=$.node().getBBox(),U={x:re.x+ue[0],y:re.y+ue[1],width:re.width,height:re.height},Z=L.some(H=>N(H,U))||B&&!O(U,B);$.attr("visibility",Z?"hidden":""),Z||L.push(U)})},c=b=>{let M=Zr(b.node());if(M===null)return;let A=M.querySelector(".cartesian-chart"),D=A.querySelector(".x-axis"),C=A.getBoundingClientRect(),N=D.getBoundingClientRect();return{x:C.left-N.left,width:C.width,y:C.top-N.top,height:C.height}},h=b=>b?b<60?`rotate(-${b} 5 5)`:`rotate(-${b} 3 7)`:"translate(0, 8)",v=(b,M)=>{let A=h(M),D=M?"end":"";b.each((C,N,O)=>{fe(O[N]).select("text").attr("transform",A).style("text-anchor",D)})};return a.orient=(...b)=>b.length?(t=b[0],a):t,a.settingName=(...b)=>b.length?(n=b[0],a):n,a.domain=(...b)=>b.length?(r=b[0],a):r,a};var ZE={none:jg,ordinal:r0,time:t0,linear:js},$e=e=>{let t=null,n="horizontal",r="crossValues",a,o=["crossValue"],i=null,u=null,f=["include","paddingStrategy","pad"],c={},h=M=>{let A=hi(e).excludeType(t).settingName(r).settingValue(a)(),D=ZE[A],C=D.domain().valueNames(o);f.forEach(L=>{c[L]&&C[L]&&C[L](c[L])}),C.orient&&C.orient(n);let N=C(M);i!==null&&(N=i(N)),u&&typeof N[0]=="number"&&(u[0]=N[0]=Math.min(N[0],u[0]),u[1]=N[1]=Math.max(N[1],u[1]));let O=D.hasOwnProperty("component")?v(D,N,M):b(),B=D==js?Jg(N[0],N[1]):void 0;return{scale:D.scale(),domain:N,domainFunction:C,labelFunction:D.labelFunction,component:{bottom:O.bottom,left:O.left,top:O.top,right:O.right},size:O.size,decorate:O.decorate,label:e[r].map(L=>L.name).join(", "),tickFormatFunction:B}},v=(M,A,D)=>M.component(e).orient(n).settingName(r).domain(A)(D),b=()=>({bottom:ea.axisBottom,left:ea.axisLeft,top:ea.axisTop,right:ea.axisRight,decorate:()=>{}});return h.memoValue=(...M)=>M.length?(u=M[0],h):u,h.excludeType=(...M)=>M.length?(t=M[0],h):t,h.orient=(...M)=>M.length?(n=M[0],h):n,h.settingName=(...M)=>M.length?(r=M[0],h):r,h.settingValue=(...M)=>M.length?(a=M[0],h):a,h.valueName=(...M)=>M.length?(o=[M[0]],h):o[0],h.valueNames=(...M)=>M.length?(o=M[0],h):o,h.modifyDomain=M=>M?(i=M,h):i,f.forEach(M=>{h[M]=(...A)=>A.length?(c[M]=A[0],h):c[M]}),h};var ao=ze(Re()),yn=(e,t)=>V4(e,t,(n,r)=>n.svgPlotArea(r),!1),bi=(e,t)=>V4(e,t,(n,r)=>n.canvasPlotArea(r).svgPlotArea(ao.seriesSvgPoint()),!0),V4=(e,t,n,r)=>{let a=null,o=null,i=ao.chartCartesian({xScale:e.scale,yScale:t.scale,xAxis:e.component,yAxis:t.component}).xDomain(e.domain).xLabel(e.label).xAxisHeight(e.size).xDecorate(e.decorate).xTickFormat(e.tickFormatFunction).yDomain(t.domain).yLabel(t.label).yAxisWidth(t.size).yDecorate(t.decorate).yOrient("left").yTickFormat(t.tickFormatFunction);e.decorate&&i.xDecorate(e.decorate),t.decorate&&i.yDecorate(t.decorate),i.xPaddingInner&&i.xPaddingInner(1),i.xPaddingOuter&&i.xPaddingOuter(.5),i.yPaddingInner&&i.yPaddingInner(1),i.yPaddingOuter&&i.yPaddingOuter(.5),i.axisSplitter=(...f)=>f.length?(a=f[0],i):a,i.altAxis=(...f)=>f.length?(o=f[0],i):o,i.plotArea=function(...f){return f.length==0?r?this.canvasPlotArea():this.svgPlotArea():n(this,...f)};let u=i.decorate();return i.decorate((f,c)=>{let h=f.select("d3fc-svg.plot-area"),v=h.select("svg").node();v.setAttribute("viewBox",`0 0 ${h.node().clientWidth} ${h.node().clientHeight}`),v.setAttribute("preserveAspectRatio","none");for(let b of["x-axis","y-axis"])f.select(`d3fc-svg.${b} svg`).node().setAttribute("preserveAspectRatio","none");if(u(f,c),r){let b=f.select(".svg-plot-area").node(),M=f.select(".canvas-plot-area").node();Qf([b,M]).order()}if(!!a){if(a.haveSplit()){let b=a.altData(),M=ao.dataJoin("d3fc-svg","y2-axis").key(N=>N),A=ao.dataJoin("g","y-series").key(N=>N);f.append("div").attr("class","y-label right-label").style("grid-column",5).style("-ms-grid-column",5).style("grid-row",3).style("-ms-grid-row",3).style("width",o.size||"1em").style("display","flex").style("align-items","center").style("justify-content","center").append("span").attr("class","y-label splitter-label").style("transform","rotate(-90deg)");let D=o.scale.domain(o.domain),C=o.component.right(D);if(C.tickFormat(o.tickFormatFunction),o.decorate&&C.decorate(o.decorate),M(f,["right"]).attr("class",N=>`y-axis ${N}-axis`).on("measure",function(N,O){let{width:B,height:L}=N.detail;O==="left"&&fe(N.currentTarget).select("svg").attr("viewBox",`${-B} 0 ${B} ${L}`).attr("preserveAspectRatio","none"),D.range([L,0])}).on("draw",function(N,O){fe(N.currentTarget).select("svg").call(C)}),r){let N=O=>{let B=i.plotArea();B.context(O.node().getContext("2d")).xScale(e.scale);let L=[t.scale,D];[c,b].forEach((P,R)=>{B.yScale(L[R]),B(P)})};f.select("d3fc-canvas.plot-area").on("draw",function(O,B){N(fe(O.currentTarget).select("canvas"))})}else{let N=function(O){let B=i.plotArea();B.xScale(e.scale);let L=[t.scale,D];A(O,[c,b]).each((P,R,G)=>{B.yScale(L[R]),fe(G[R]).datum(P).call(B)})};f.select("d3fc-svg.plot-area").on("draw",function(O,B){N(fe(O.currentTarget).select("svg"))})}}a(f)}}),i};var Mr=ze(Re());function ft(e,t,n){let r=e.select(t);return r.size()>0?r:n()}function er(e,t,n="right"){if(n==="right"||n==="bottom")return e[n]<t[n];if(n==="left"||n==="top")return e[n]>t[n];throw`Direction being checked for overflow is invalid: ${n}`}function a0(e,t,n,r=0){let a=e==="x"?"width":"height",o=t[e],i=t[e]+t[a],u=n[e],f=n[e]+n[a],c=u+r>o&&u-r<i,h=f+r>o&&f-r<i,v=u+r<o&&f-r>i;return c||h||v}var D4=`<ul id="tooltip-values"></ul>
`;var N4={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short",timeStyle:"medium"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short"},null_value:-1}}};function yi(e){let t={};if(E4().types[e]&&Object.assign(t,E4().types[e]),t.type){let n=yi(t.type);return Object.assign(n,t),n}else return t}function o0(e){return e&&typeof e=="object"&&!Array.isArray(e)}function i0(e,...t){if(!t.length)return e;let n=t.shift();if(o0(e)&&o0(n))for(let r in n)o0(n[r])?(e[r]||Object.assign(e,{[r]:{}}),i0(e[r],n[r])):Object.assign(e,{[r]:n[r]});return i0(e,...t)}function E4(){return globalThis.__PERSPECTIVE_CONFIG__||(globalThis.__PERSPECTIVE_CONFIG__=i0(N4,globalThis.__TEMPLATE_CONFIG__||{})),globalThis.__PERSPECTIVE_CONFIG__}function Sr(e,t){switch(e){case"date":case"datetime":return t instanceof Date?t:new Date(parseInt(t)).toLocaleString([],yi(e).format);case"integer":return parseInt(t,10);case"float":return parseFloat(t)}return t}function Ks(e,t){return t.crossValues.length===0?[]:e.crossValue.length===0?[]:((e.crossValue.split?e.crossValue.split("|"):Array.isArray(e.crossValue)?e.crossValue:[e.crossValue])||[e.key]).map((r,a)=>({name:t.crossValues[a].name,value:Sr(t.crossValues[a].type,r)}))}function Zs(e,t){if(t.splitValues.length===0)return[];let n=[e.mainValue];return e.key?n=e.key.split("|"):e.mainValue?.split&&(n=e.mainValue.split("|")),t.splitValues.map((r,a)=>({name:r.name,value:Sr(r.type,n[a])}))}function Js(e,t){return t.mainValues.length>1?e.mainValues?t.mainValues.map((n,r)=>({name:n.name,value:Sr(n.type,e.mainValues[r])})):t.mainValues.map(n=>({name:n.name,value:Sr(n.type,e.row[n.name])})):[{name:t.mainValues[0].name,value:Sr(t.mainValues[0].type,e.colorValue||e.mainValue-e.baseValue||e.mainValue||e.mainValues)}]}function P4(e,t,n){let r=Ks(t,n).concat(Zs(t,n)).concat(Js(t,n));eP(e,r)}function eP(e,t){e.select("#tooltip-values").selectAll("li").data(t).join("li").each(function(n){fe(this).text(`${n.name}: `).append("b").text(tP(n.value))})}var tP=e=>e==null?"-":e.toLocaleString(void 0,{style:"decimal",minimumFractionDigits:yi("float").precision,maximumFractionDigits:yi("float").precision});var L4=e=>[e.name,"==",e.value],nl=(e,t,n)=>{let r=Js(t,n).map(u=>u.name),a=Ks(t,n).map(L4),o=Zs(t,n).map(L4),i=n.filter.concat(a).concat(o);e.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{column_names:r,config:{filter:i},row:t.row}}))},I4=()=>{let e=null,t=n=>{let r=n.node();n.on("click",(a,o)=>nl(r,o,e))};return t.settings=(...n)=>n.length?(e=n[0],t):e,t};var ta=()=>{let e=!1,t=null,n=null,r=!1,a=o=>{let i=o.node();if(!i||!i.isConnected){z4(t);return}let u=fe(Zr(i));t=nP(u);let f=function(h,v){P4(t,v,n);let b=o.nodes(),M=b.indexOf(this);rP(u.node(),b[M],t,r),fe(b[M]).style("opacity","0.7")},c=function(h,v){z4(t);let b=o.nodes(),M=b.indexOf(this);b&&fe(b[M]).style("opacity","1")};e?o.each(function(h){return f.call(this,void 0,h)}):(o.on("mouseover",f).on("mouseout",c),I4().settings(n)(o))};return a.alwaysShow=(...o)=>o.length?(e=o[0],a):e,a.centered=(...o)=>o.length?(r=o[0],a):r,a.settings=(...o)=>o.length?(n=o[0],a):n,a};function nP(e){return ft(e,"div.tooltip",()=>e.append("div").attr("class","tooltip").style("z-index",3).style("opacity",0).html(D4))}function rP(e,t,n,r){let a=e.getBoundingClientRect(),o=t.getBoundingClientRect(),i=o.left+o.width/2-a.left,u=o.top-a.top+e.scrollTop;r&&(u=o.top+o.height/2-a.top+e.scrollTop),n.style("left",`${i}px`).style("top",`${u}px`).style("opacity",.9),r&&([i,u]=aP(n,a)),oP(n,a,i,u,r)}function aP(e,t){let n=e.node().getBoundingClientRect(),r=n.width/2,a=n.left-r-t.left;e.style("left",`${a}px`);let o=n.height/2,i=n.top-o-t.top;return e.style("top",`${i}px`),[a,i]}function oP(e,t,n,r,a=!1){let o=e.node().getBoundingClientRect();if(er(t,o)){let i=o.right-t.right;e.style("left",`${n-i}px`)}if(er(t,o,"bottom")){let i=o.bottom-t.bottom;e.style("top",`${r-i}px`)}if(!!a){if(er(t,o,"left")){let i=o.left-t.left;e.style("left",`${n-i}px`)}if(er(t,o,"top")){let i=o.top-t.top;e.style("top",`${r-i}px`)}}}function z4(e){e&&e.style("opacity",0)}function ec(e,t){let n=e.mainValues.length>1?Mr.seriesSvgGrouped(Mr.seriesSvgBar()):Mr.seriesSvgBar();return n=n.decorate(r=>{ta().settings(e)(r),r.style("fill",a=>t(a.key))}),Mr.autoBandwidth(iP(n)).crossValue(r=>r.crossValue).mainValue(r=>r.mainValue?r.mainValue:0).baseValue(r=>r.baseValue)}var iP=e=>{let t=n=>e(n);return Mr.rebindAll(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(Math.max(n[0],1)),t):e.bandwidth(),t};function na(e){return e.split("|").slice(0,-1).join("|")}function tc(e,t){return e.data.map(n=>Object.entries(n).filter(([r,a])=>r.split("|").at(-1)===t&&!!a).map(([r,a])=>a)).flat()}function tr(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=Object.keys(t).filter(r=>r!=="__ROW_PATH__");return Nn().settings(e).domain(n)()}function R4(e,t){let n=tc(e,t),r=[...new Set(n)].sort();return Nn().settings(e).domain(r)()}function oo(e,t){let n=[...new Set(t)];return Nn().settings(e).domain(n)()}function O4(e){let t=e.data[0]??{},n=Object.keys(t).filter(a=>a!=="__ROW_PATH__").map(a=>na(a)),r=[...new Set(n)];return Nn().settings(e).domain(r)()}function Nn(){let e=null,t=null,n={},r=o=>io(o,n.colorStyles&&n.colorStyles.opacity),a=()=>{let o=n.colorStyles,i=t||[o.series];if(i||e.length>1){let u=e.length>1?o.scheme:i;return fn(u.map(r)).domain(e)}return null};return a.domain=(...o)=>o.length===0?e:(e=o[0],a),a.defaultColors=(...o)=>o.length?(t=o[0],a):t,a.mapFunction=(...o)=>o.length?(r=o[0],a):r,a.settings=(...o)=>o.length?(n=o[0],a):n,a}function nr(e){return uo(1)(e)}function io(e,t=.5){return uo(t)(e)}function uo(e){return t=>{let n=kt(t);return n!=null&&(n.opacity=e),n+""}}var B4=ze(Re());var uP={none:Xg,ordinal:n0,time:e0,linear:Zg},wn=e=>{let t=hi(e),n="__ROW_PATH__",r=(a,o)=>uP[t()](n)(a);return(0,B4.rebindAll)(r,t),r.valueName=(...a)=>a.length?(n=a[0],r):n,r};function lo(e,t,{stack:n=!1,excludeEmpty:r=!1}={}){let a=t||e.data;return e.splitValues.length>0?lP(e,a,{stack:n,excludeEmpty:r}):[a]}function lP(e,t,{stack:n=!1,excludeEmpty:r=!1}){let a={};return t.forEach(o=>{let i={},u={};Object.keys(o).filter(f=>f!=="__ROW_PATH__").filter(f=>!r||o[f]!=null&&o[f]!=null).forEach(f=>{let c=f.split("|"),h=c[c.length-1],v=o[f]||0,b=`${h}${v>=0?"+ve":"-ve"}`,M=c.slice(0,c.length-1).join("|"),A=u[M]=u[M]||{__ROW_PATH__:o.__ROW_PATH__},D=i[b]||0;A.__KEY__=M,n?(A[h]=D+v,A[`__BASE_VALUE__${h}`]=D,i[b]=A[h]):A[h]=v,A.row=o}),Object.keys(u).forEach(f=>{(a[f]=a[f]||[]).push(u[f])})}),Object.keys(a).map(o=>{let i=a[o];return i.key=o,i})}function F4(e,t){let n={stack:!1},r=lo(e,t,n).map(a=>H4(e,a,n));return e.mainValues.length>1?r.reduce((o,i)=>o.concat(i)):r}function nc(e,t){let n={stack:!0};return lo(e,t,n).map(r=>H4(e,r,n))}function fP(e,t,{stack:n=!1}){let r=wn(e);return a=>{let o=u=>n&&u[`__BASE_VALUE__${a.name}`]||0,i=t.map((u,f)=>({crossValue:r(u,f),mainValue:u[a.name]?u[a.name]:null,baseValue:o(u),key:u.__KEY__?`${u.__KEY__}|${a.name}`:a.name,row:u.row||u}));return i.key=i[0].key,i}}function H4(e,t,{stack:n=!1}){let r=fP(e,t,{stack:n});return e.mainValues.length>1?e.mainValues.map(r):r(e.mainValues[0])}var rc="http://www.w3.org/1999/xhtml",ac={svg:"http://www.w3.org/2000/svg",xhtml:rc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ac.hasOwnProperty(t)?{space:ac[t],local:e}:e}function sP(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===rc&&t.documentElement.namespaceURI===rc?t.createElement(e):t.createElementNS(n,e)}}function cP(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function al(e){var t=rl(e);return(t.local?cP:sP)(t)}var dP=0;function l0(){return new u0}function u0(){this._="@"+(++dP).toString(36)}u0.prototype=l0.prototype={constructor:u0,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var W4=function(e){return function(){return this.matches(e)}};typeof document<"u"&&(wi=document.documentElement,wi.matches||(Y4=wi.webkitMatchesSelector||wi.msMatchesSelector||wi.mozMatchesSelector||wi.oMatchesSelector,W4=function(e){return function(){return Y4.call(this,e)}}));var wi,Y4,f0=W4;var G4={},ol=null;typeof document<"u"&&(q4=document.documentElement,"onmouseenter"in q4||(G4={mouseenter:"mouseover",mouseleave:"mouseout"}));var q4;function mP(e,t,n){return e=$4(e,t,n),function(r){var a=r.relatedTarget;(!a||a!==this&&!(a.compareDocumentPosition(this)&8))&&e.call(this,r)}}function $4(e,t,n){return function(r){var a=ol;ol=r;try{e.call(this,this.__data__,t,n)}finally{ol=a}}}function hP(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function pP(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,a=t.length,o;n<a;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.capture):t[++r]=o;++r?t.length=r:delete this.__on}}}function gP(e,t,n){var r=G4.hasOwnProperty(e.type)?mP:$4;return function(a,o,i){var u=this.__on,f,c=r(t,o,i);if(u){for(var h=0,v=u.length;h<v;++h)if((f=u[h]).type===e.type&&f.name===e.name){this.removeEventListener(f.type,f.listener,f.capture),this.addEventListener(f.type,f.listener=c,f.capture=n),f.value=t;return}}this.addEventListener(e.type,c,n),f={type:e.type,name:e.name,value:t,listener:c,capture:n},u?u.push(f):this.__on=[f]}}function U4(e,t,n){var r=hP(e+""),a,o=r.length,i;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,c=u.length,h;f<c;++f)for(a=0,h=u[f];a<o;++a)if((i=r[a]).type===h.type&&i.name===h.name)return h.value}return}for(u=t?gP:pP,n==null&&(n=!1),a=0;a<o;++a)this.each(u(r[a],t,n));return this}function vP(){}function il(e){return e==null?vP:function(){return this.querySelector(e)}}function Q4(e){typeof e!="function"&&(e=il(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],i=o.length,u=r[a]=new Array(i),f,c,h=0;h<i;++h)(f=o[h])&&(c=e.call(f,f.__data__,h,o))&&("__data__"in f&&(c.__data__=f.__data__),u[h]=c);return new et(r,this._parents)}function xP(){return[]}function s0(e){return e==null?xP:function(){return this.querySelectorAll(e)}}function K4(e){typeof e!="function"&&(e=s0(e));for(var t=this._groups,n=t.length,r=[],a=[],o=0;o<n;++o)for(var i=t[o],u=i.length,f,c=0;c<u;++c)(f=i[c])&&(r.push(e.call(f,f.__data__,c,i)),a.push(f));return new et(r,a)}function Z4(e){typeof e!="function"&&(e=f0(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],i=o.length,u=r[a]=[],f,c=0;c<i;++c)(f=o[c])&&e.call(f,f.__data__,c,o)&&u.push(f);return new et(r,this._parents)}function oc(e){return new Array(e.length)}function J4(){return new et(this._enter||this._groups.map(oc),this._parents)}function ul(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ul.prototype={constructor:ul,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function e7(e){return function(){return e}}var t7="$";function bP(e,t,n,r,a,o){for(var i=0,u,f=t.length,c=o.length;i<c;++i)(u=t[i])?(u.__data__=o[i],r[i]=u):n[i]=new ul(e,o[i]);for(;i<f;++i)(u=t[i])&&(a[i]=u)}function yP(e,t,n,r,a,o,i){var u,f,c={},h=t.length,v=o.length,b=new Array(h),M;for(u=0;u<h;++u)(f=t[u])&&(b[u]=M=t7+i.call(f,f.__data__,u,t),M in c?a[u]=f:c[M]=f);for(u=0;u<v;++u)M=t7+i.call(e,o[u],u,o),(f=c[M])?(r[u]=f,f.__data__=o[u],c[M]=null):n[u]=new ul(e,o[u]);for(u=0;u<h;++u)(f=t[u])&&c[b[u]]===f&&(a[u]=f)}function n7(e,t){if(!e)return M=new Array(this.size()),c=-1,this.each(function(R){M[++c]=R}),M;var n=t?yP:bP,r=this._parents,a=this._groups;typeof e!="function"&&(e=e7(e));for(var o=a.length,i=new Array(o),u=new Array(o),f=new Array(o),c=0;c<o;++c){var h=r[c],v=a[c],b=v.length,M=e.call(h,h&&h.__data__,c,r),A=M.length,D=u[c]=new Array(A),C=i[c]=new Array(A),N=f[c]=new Array(b);n(h,v,D,C,N,M,t);for(var O=0,B=0,L,P;O<A;++O)if(L=D[O]){for(O>=B&&(B=O+1);!(P=C[B])&&++B<A;);L._next=P||null}}return i=new et(i,r),i._enter=u,i._exit=f,i}function r7(){return new et(this._exit||this._groups.map(oc),this._parents)}function a7(e){for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),i=new Array(r),u=0;u<o;++u)for(var f=t[u],c=n[u],h=f.length,v=i[u]=new Array(h),b,M=0;M<h;++M)(b=f[M]||c[M])&&(v[M]=b);for(;u<r;++u)i[u]=t[u];return new et(i,this._parents)}function o7(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,o=r[a],i;--a>=0;)(i=r[a])&&(o&&o!==i.nextSibling&&o.parentNode.insertBefore(i,o),o=i);return this}function i7(e){e||(e=wP);function t(v,b){return v&&b?e(v.__data__,b.__data__):!v-!b}for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o){for(var i=n[o],u=i.length,f=a[o]=new Array(u),c,h=0;h<u;++h)(c=i[h])&&(f[h]=c);f.sort(t)}return new et(a,this._parents).order()}function wP(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function u7(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function l7(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function f7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var i=r[a];if(i)return i}return null}function s7(){var e=0;return this.each(function(){++e}),e}function c7(){return!this.node()}function d7(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],o=0,i=a.length,u;o<i;++o)(u=a[o])&&e.call(u,u.__data__,o,a);return this}function _P(e){return function(){this.removeAttribute(e)}}function SP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function MP(e,t){return function(){this.setAttribute(e,t)}}function AP(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function CP(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function TP(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function m7(e,t){var n=rl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?SP:_P:typeof t=="function"?n.local?TP:CP:n.local?AP:MP)(n,t))}function ll(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function kP(e){return function(){this.style.removeProperty(e)}}function VP(e,t,n){return function(){this.style.setProperty(e,t,n)}}function DP(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function h7(e,t,n){var r;return arguments.length>1?this.each((t==null?kP:typeof t=="function"?DP:VP)(e,t,n??"")):ll(r=this.node()).getComputedStyle(r,null).getPropertyValue(e)}function NP(e){return function(){delete this[e]}}function EP(e,t){return function(){this[e]=t}}function PP(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function p7(e,t){return arguments.length>1?this.each((t==null?NP:typeof t=="function"?PP:EP)(e,t)):this.node()[e]}function g7(e){return e.trim().split(/^|\s+/)}function c0(e){return e.classList||new v7(e)}function v7(e){this._node=e,this._names=g7(e.getAttribute("class")||"")}v7.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function x7(e,t){for(var n=c0(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function b7(e,t){for(var n=c0(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function LP(e){return function(){x7(this,e)}}function IP(e){return function(){b7(this,e)}}function zP(e,t){return function(){(t.apply(this,arguments)?x7:b7)(this,e)}}function y7(e,t){var n=g7(e+"");if(arguments.length<2){for(var r=c0(this.node()),a=-1,o=n.length;++a<o;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?zP:t?LP:IP)(n,t))}function RP(){this.textContent=""}function OP(e){return function(){this.textContent=e}}function BP(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function w7(e){return arguments.length?this.each(e==null?RP:(typeof e=="function"?BP:OP)(e)):this.node().textContent}function FP(){this.innerHTML=""}function HP(e){return function(){this.innerHTML=e}}function YP(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function _7(e){return arguments.length?this.each(e==null?FP:(typeof e=="function"?YP:HP)(e)):this.node().innerHTML}function WP(){this.nextSibling&&this.parentNode.appendChild(this)}function S7(){return this.each(WP)}function qP(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function M7(){return this.each(qP)}function A7(e){var t=typeof e=="function"?e:al(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function GP(){return null}function C7(e,t){var n=typeof e=="function"?e:al(e),r=t==null?GP:typeof t=="function"?t:il(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function $P(){var e=this.parentNode;e&&e.removeChild(this)}function T7(){return this.each($P)}function k7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function V7(e,t,n){var r=ll(e),a=r.CustomEvent;a?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function UP(e,t){return function(){return V7(this,e,t)}}function XP(e,t){return function(){return V7(this,e,t.apply(this,arguments))}}function D7(e,t){return this.each((typeof t=="function"?XP:UP)(e,t))}var ic=[null];function et(e,t){this._groups=e,this._parents=t}function jP(){return new et([[document.documentElement]],ic)}et.prototype=jP.prototype={constructor:et,select:Q4,selectAll:K4,filter:Z4,data:n7,enter:J4,exit:r7,merge:a7,order:o7,sort:i7,call:u7,nodes:l7,node:f7,size:s7,empty:c7,each:d7,attr:m7,style:h7,property:p7,classed:y7,text:w7,html:_7,raise:S7,lower:M7,append:A7,insert:C7,remove:T7,datum:k7,on:U4,dispatch:D7};function d0(e){return typeof e=="string"?new et([[document.querySelector(e)]],[document.documentElement]):new et([[e]],ic)}function fo(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function fl(e){return e=fo(Math.abs(e)),e?e[1]:NaN}function N7(e,t){return function(n,r){for(var a=n.length,o=[],i=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(a-=u,a+u)),!((f+=u+1)>r));)u=e[i=(i+1)%e.length];return o.reverse().join(t)}}function E7(e,t){e=e.toPrecision(t);e:for(var n=e.length,r=1,a=-1,o;r<n;++r)switch(e[r]){case".":a=o=r;break;case"0":a===0&&(a=r),o=r;break;case"e":break e;default:a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(o+1):e}var m0;function P7(e,t){var n=fo(e,t);if(!n)return e+"";var r=n[0],a=n[1],o=a-(m0=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+fo(e,Math.max(0,t+o-1))[0]}function h0(e,t){var n=fo(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}var uc={"":E7,"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return h0(e*100,t)},r:h0,s:P7,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};var QP=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function so(e){return new L7(e)}function L7(e){if(!(t=QP.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",a=t[3]||"-",o=t[4]||"",i=!!t[5],u=t[6]&&+t[6],f=!!t[7],c=t[8]&&+t[8].slice(1),h=t[9]||"";h==="n"?(f=!0,h="g"):uc[h]||(h=""),(i||n==="0"&&r==="=")&&(i=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=a,this.symbol=o,this.zero=i,this.width=u,this.comma=f,this.precision=c,this.type=h}L7.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type};var I7=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function KP(e){return e}function _i(e){var t=e.grouping&&e.thousands?N7(e.grouping,e.thousands):KP,n=e.currency,r=e.decimal;function a(i){i=so(i);var u=i.fill,f=i.align,c=i.sign,h=i.symbol,v=i.zero,b=i.width,M=i.comma,A=i.precision,D=i.type,C=h==="$"?n[0]:h==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",N=h==="$"?n[1]:/[%p]/.test(D)?"%":"",O=uc[D],B=!D||/[defgprs%]/.test(D);A=A==null?D?6:12:/[gprs]/.test(D)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function L(P){var R=C,G=N,$,ue,re;if(D==="c")G=O(P)+G,P="";else{P=+P;var U=(P<0||1/P<0)&&(P*=-1,!0);if(P=O(P,A),U){for($=-1,ue=P.length,U=!1;++$<ue;)if(re=P.charCodeAt($),48<re&&re<58||D==="x"&&96<re&&re<103||D==="X"&&64<re&&re<71){U=!0;break}}if(R=(U?c==="("?c:"-":c==="-"||c==="("?"":c)+R,G=G+(D==="s"?I7[8+m0/3]:"")+(U&&c==="("?")":""),B){for($=-1,ue=P.length;++$<ue;)if(re=P.charCodeAt($),48>re||re>57){G=(re===46?r+P.slice($+1):P.slice($))+G,P=P.slice(0,$);break}}}M&&!v&&(P=t(P,1/0));var oe=R.length+P.length+G.length,Z=oe<b?new Array(b-oe+1).join(u):"";switch(M&&v&&(P=t(Z+P,Z.length?b-G.length:1/0),Z=""),f){case"<":return R+P+G+Z;case"=":return R+Z+P+G;case"^":return Z.slice(0,oe=Z.length>>1)+R+P+G+Z.slice(oe)}return Z+R+P+G}return L.toString=function(){return i+""},L}function o(i,u){var f=a((i=so(i),i.type="f",i)),c=Math.max(-8,Math.min(8,Math.floor(fl(u)/3)))*3,h=Math.pow(10,-c),v=I7[8+c/3];return function(b){return f(h*b)+v}}return{format:a,formatPrefix:o}}var lc,fc,sc;p0({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function p0(e){return lc=_i(e),fc=lc.format,sc=lc.formatPrefix,lc}var ZP={value:function(){}};function R7(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n)throw new Error("illegal type: "+r);n[r]=[]}return new cc(n)}function cc(e){this._=e}function JP(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}cc.prototype=R7.prototype={constructor:cc,on:function(e,t){var n=this._,r=JP(e+"",n),a,o=-1,i=r.length;if(arguments.length<2){for(;++o<i;)if((a=(e=r[o]).type)&&(a=eL(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(a=(e=r[o]).type)n[a]=z7(n[a],e.name,t);else if(t==null)for(a in n)n[a]=z7(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new cc(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,o;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};function eL(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function z7(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=ZP,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var dc=R7;function Ar(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function mc(e){return e.length===1&&(e=tL(e)),{left:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var o=r+a>>>1;e(t[o],n)<0?r=o+1:a=o}return r},right:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var o=r+a>>>1;e(t[o],n)>0?a=o:r=o+1}return r}}}function tL(e){return function(t,n){return Ar(e(t),n)}}var O7=mc(Ar),B7=O7.right,nL=O7.left,co=B7;var F7=Array.prototype,aL=F7.slice,oL=F7.map;var g0=Math.sqrt(50),v0=Math.sqrt(10),x0=Math.sqrt(2);function pc(e,t,n){var r,a=-1,o,i,u;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),(u=H7(e,t,n))===0||!isFinite(u))return[];if(u>0)for(e=Math.ceil(e/u),t=Math.floor(t/u),i=new Array(o=Math.ceil(t-e+1));++a<o;)i[a]=(e+a)*u;else for(e=Math.floor(e*u),t=Math.ceil(t*u),i=new Array(o=Math.ceil(e-t+1));++a<o;)i[a]=(e-a)/u;return r&&i.reverse(),i}function H7(e,t,n){var r=(t-e)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,a);return a>=0?(o>=g0?10:o>=v0?5:o>=x0?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(o>=g0?10:o>=v0?5:o>=x0?2:1)}function ra(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/a;return o>=g0?a*=10:o>=v0?a*=5:o>=x0&&(a*=2),t<e?-a:a}var Jt="$";function gc(){}gc.prototype=W7.prototype={constructor:gc,has:function(e){return Jt+e in this},get:function(e){return this[Jt+e]},set:function(e,t){return this[Jt+e]=t,this},remove:function(e){var t=Jt+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===Jt&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===Jt&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===Jt&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===Jt&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===Jt&&++e;return e},empty:function(){for(var e in this)if(e[0]===Jt)return!1;return!0},each:function(e){for(var t in this)t[0]===Jt&&e(this[t],t.slice(1),this)}};function W7(e,t){var n=new gc;if(e instanceof gc)e.each(function(u,f){n.set(f,u)});else if(Array.isArray(e)){var r=-1,a=e.length,o;if(t==null)for(;++r<a;)n.set(r,e[r]);else for(;++r<a;)n.set(t(o=e[r],r,e),o)}else if(e)for(var i in e)n.set(i,e[i]);return n}var sl=W7;function vc(){}var mo=sl.prototype;vc.prototype=cL.prototype={constructor:vc,has:mo.has,add:function(e){return e+="",this[Jt+e]=e,this},remove:mo.remove,clear:mo.clear,values:mo.keys,size:mo.size,empty:mo.empty,each:mo.each};function cL(e,t){var n=new vc;if(e instanceof vc)e.each(function(o){n.add(o)});else if(e){var r=-1,a=e.length;if(t==null)for(;++r<a;)n.add(e[r]);else for(;++r<a;)n.add(t(e[r],r,e))}return n}var q7=Array.prototype,xc=q7.map,ho=q7.slice;function Si(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function cl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function go(){}var aa=.7,po=1/aa,Mi="\\s*([+-]?\\d+)\\s*",dl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ar="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mL=/^#([0-9a-f]{3,8})$/,hL=new RegExp("^rgb\\("+[Mi,Mi,Mi]+"\\)$"),pL=new RegExp("^rgb\\("+[ar,ar,ar]+"\\)$"),gL=new RegExp("^rgba\\("+[Mi,Mi,Mi,dl]+"\\)$"),vL=new RegExp("^rgba\\("+[ar,ar,ar,dl]+"\\)$"),xL=new RegExp("^hsl\\("+[dl,ar,ar]+"\\)$"),bL=new RegExp("^hsla\\("+[dl,ar,ar,dl]+"\\)$"),G7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Si(go,oa,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:$7,formatHex:$7,formatHsl:yL,formatRgb:U7,toString:U7});function $7(){return this.rgb().formatHex()}function yL(){return Z7(this).formatHsl()}function U7(){return this.rgb().formatRgb()}function oa(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=mL.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?X7(t):n===3?new Lt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?bc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?bc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hL.exec(e))?new Lt(t[1],t[2],t[3],1):(t=pL.exec(e))?new Lt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gL.exec(e))?bc(t[1],t[2],t[3],t[4]):(t=vL.exec(e))?bc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xL.exec(e))?K7(t[1],t[2]/100,t[3]/100,1):(t=bL.exec(e))?K7(t[1],t[2]/100,t[3]/100,t[4]):G7.hasOwnProperty(e)?X7(G7[e]):e==="transparent"?new Lt(NaN,NaN,NaN,0):null}function X7(e){return new Lt(e>>16&255,e>>8&255,e&255,1)}function bc(e,t,n,r){return r<=0&&(e=t=n=NaN),new Lt(e,t,n,r)}function _0(e){return e instanceof go||(e=oa(e)),e?(e=e.rgb(),new Lt(e.r,e.g,e.b,e.opacity)):new Lt}function Ai(e,t,n,r){return arguments.length===1?_0(e):new Lt(e,t,n,r??1)}function Lt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Si(Lt,Ai,cl(go,{brighter:function(e){return e=e==null?po:Math.pow(po,e),new Lt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?aa:Math.pow(aa,e),new Lt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:j7,formatHex:j7,formatRgb:Q7,toString:Q7}));function j7(){return"#"+y0(this.r)+y0(this.g)+y0(this.b)}function Q7(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function y0(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function K7(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rr(e,t,n,r)}function Z7(e){if(e instanceof rr)return new rr(e.h,e.s,e.l,e.opacity);if(e instanceof go||(e=oa(e)),!e)return new rr;if(e instanceof rr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,u=o-a,f=(o+a)/2;return u?(t===o?i=(n-r)/u+(n<r)*6:n===o?i=(r-t)/u+2:i=(t-n)/u+4,u/=f<.5?o+a:2-o-a,i*=60):u=f>0&&f<1?0:i,new rr(i,u,f,e.opacity)}function J7(e,t,n,r){return arguments.length===1?Z7(e):new rr(e,t,n,r??1)}function rr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Si(rr,J7,cl(go,{brighter:function(e){return e=e==null?po:Math.pow(po,e),new rr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?aa:Math.pow(aa,e),new rr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Lt(w0(e>=240?e-240:e+120,a,r),w0(e,a,r),w0(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function w0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var e9=Math.PI/180,t9=180/Math.PI;var o9=-.14861,S0=1.78277,M0=-.29227,yc=-.90649,ml=1.97294,n9=ml*yc,r9=ml*S0,a9=S0*M0-yc*o9;function wL(e){if(e instanceof vo)return new vo(e.h,e.s,e.l,e.opacity);e instanceof Lt||(e=_0(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(a9*r+n9*t-r9*n)/(a9+n9-r9),o=r-a,i=(ml*(n-a)-M0*o)/yc,u=Math.sqrt(i*i+o*o)/(ml*a*(1-a)),f=u?Math.atan2(i,o)*t9-120:NaN;return new vo(f<0?f+360:f,u,a,e.opacity)}function Yt(e,t,n,r){return arguments.length===1?wL(e):new vo(e,t,n,r??1)}function vo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Si(vo,Yt,cl(go,{brighter:function(e){return e=e==null?po:Math.pow(po,e),new vo(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?aa:Math.pow(aa,e),new vo(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*e9,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new Lt(255*(t+n*(o9*r+S0*a)),255*(t+n*(M0*r+yc*a)),255*(t+n*(ml*r)),this.opacity)}}));function A0(e,t,n,r,a){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*n+(1+3*e+3*o-3*i)*r+i*a)/6}function i9(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],o=e[r+1],i=r>0?e[r-1]:2*a-o,u=r<t-1?e[r+2]:2*o-a;return A0((n-r/t)*t,i,a,o,u)}}function u9(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],o=e[r%t],i=e[(r+1)%t],u=e[(r+2)%t];return A0((n-r/t)*t,a,o,i,u)}}function Ci(e){return function(){return e}}function l9(e,t){return function(n){return e+n*t}}function _L(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function f9(e,t){var n=t-e;return n?l9(e,n>180||n<-180?n-360*Math.round(n/360):n):Ci(isNaN(e)?t:e)}function s9(e){return(e=+e)==1?Cr:function(t,n){return n-t?_L(t,n,e):Ci(isNaN(t)?n:t)}}function Cr(e,t){var n=t-e;return n?l9(e,n):Ci(isNaN(e)?t:e)}var C0=function e(t){var n=s9(t);function r(a,o){var i=n((a=Ai(a)).r,(o=Ai(o)).r),u=n(a.g,o.g),f=n(a.b,o.b),c=Cr(a.opacity,o.opacity);return function(h){return a.r=i(h),a.g=u(h),a.b=f(h),a.opacity=c(h),a+""}}return r.gamma=e,r}(1);function c9(e){return function(t){var n=t.length,r=new Array(n),a=new Array(n),o=new Array(n),i,u;for(i=0;i<n;++i)u=Ai(t[i]),r[i]=u.r||0,a[i]=u.g||0,o[i]=u.b||0;return r=e(r),a=e(a),o=e(o),u.opacity=1,function(f){return u.r=r(f),u.g=a(f),u.b=o(f),u+""}}}var eme=c9(i9),tme=c9(u9);function d9(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(o){for(a=0;a<n;++a)r[a]=e[a]*(1-o)+t[a]*o;return r}}function m9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function h9(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),o=new Array(n),i;for(i=0;i<r;++i)a[i]=xo(e[i],t[i]);for(;i<n;++i)o[i]=t[i];return function(u){for(i=0;i<r;++i)o[i]=a[i](u);return o}}function p9(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ia(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function g9(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=xo(e[a],t[a]):r[a]=t[a];return function(o){for(a in n)r[a]=n[a](o);return r}}var k0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,T0=new RegExp(k0.source,"g");function SL(e){return function(){return e}}function ML(e){return function(t){return e(t)+""}}function v9(e,t){var n=k0.lastIndex=T0.lastIndex=0,r,a,o,i=-1,u=[],f=[];for(e=e+"",t=t+"";(r=k0.exec(e))&&(a=T0.exec(t));)(o=a.index)>n&&(o=t.slice(n,o),u[i]?u[i]+=o:u[++i]=o),(r=r[0])===(a=a[0])?u[i]?u[i]+=a:u[++i]=a:(u[++i]=null,f.push({i,x:ia(r,a)})),n=T0.lastIndex;return n<t.length&&(o=t.slice(n),u[i]?u[i]+=o:u[++i]=o),u.length<2?f[0]?ML(f[0].x):SL(t):(t=f.length,function(c){for(var h=0,v;h<t;++h)u[(v=f[h]).i]=v.x(c);return u.join("")})}function xo(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ci(t):(n==="number"?ia:n==="string"?(r=oa(t))?(t=r,C0):v9:t instanceof oa?C0:t instanceof Date?p9:m9(t)?d9:Array.isArray(t)?h9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?g9:ia)(e,t)}function V0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function x9(e){return function t(n){n=+n;function r(a,o){var i=e((a=Yt(a)).h,(o=Yt(o)).h),u=Cr(a.s,o.s),f=Cr(a.l,o.l),c=Cr(a.opacity,o.opacity);return function(h){return a.h=i(h),a.s=u(h),a.l=f(Math.pow(h,n)),a.opacity=c(h),a+""}}return r.gamma=t,r}(1)}var AL=x9(f9),Ti=x9(Cr);function wc(e){return function(){return e}}function D0(e){return+e}var b9=[0,1];function _c(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:wc(t)}function CL(e){return function(t,n){var r=e(t=+t,n=+n);return function(a){return a<=t?0:a>=n?1:r(a)}}}function TL(e){return function(t,n){var r=e(t=+t,n=+n);return function(a){return a<=0?t:a>=1?n:r(a)}}}function kL(e,t,n,r){var a=e[0],o=e[1],i=t[0],u=t[1];return o<a?(a=n(o,a),i=r(u,i)):(a=n(a,o),i=r(i,u)),function(f){return i(a(f))}}function VL(e,t,n,r){var a=Math.min(e.length,t.length)-1,o=new Array(a),i=new Array(a),u=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<a;)o[u]=n(e[u],e[u+1]),i[u]=r(t[u],t[u+1]);return function(f){var c=co(e,f,1,a)-1;return i[c](o[c](f))}}function hl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function ki(e,t){var n=b9,r=b9,a=xo,o=!1,i,u,f;function c(){return i=Math.min(n.length,r.length)>2?VL:kL,u=f=null,h}function h(v){return(u||(u=i(n,r,o?CL(e):e,a)))(+v)}return h.invert=function(v){return(f||(f=i(r,n,_c,o?TL(t):t)))(+v)},h.domain=function(v){return arguments.length?(n=xc.call(v,D0),c()):n.slice()},h.range=function(v){return arguments.length?(r=ho.call(v),c()):r.slice()},h.rangeRound=function(v){return r=ho.call(v),a=V0,c()},h.clamp=function(v){return arguments.length?(o=!!v,c()):o},h.interpolate=function(v){return arguments.length?(a=v,c()):a},c()}function y9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bo(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function or(e){return e=bo(Math.abs(e)),e?e[1]:NaN}function w9(e,t){return function(n,r){for(var a=n.length,o=[],i=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(a-=u,a+u)),!((f+=u+1)>r));)u=e[i=(i+1)%e.length];return o.reverse().join(t)}}function _9(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var DL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ua(e){if(!(t=DL.exec(e)))throw new Error("invalid format: "+e);var t;return new Sc({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ua.prototype=Sc.prototype;function Sc(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Sc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function S9(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var N0;function M9(e,t){var n=bo(e,t);if(!n)return e+"";var r=n[0],a=n[1],o=a-(N0=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+bo(e,Math.max(0,t+o-1))[0]}function E0(e,t){var n=bo(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}var P0={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:y9,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return E0(e*100,t)},r:E0,s:M9,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function L0(e){return e}var A9=Array.prototype.map,C9=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function T9(e){var t=e.grouping===void 0||e.thousands===void 0?L0:w9(A9.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?L0:_9(A9.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"-":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function c(v){v=ua(v);var b=v.fill,M=v.align,A=v.sign,D=v.symbol,C=v.zero,N=v.width,O=v.comma,B=v.precision,L=v.trim,P=v.type;P==="n"?(O=!0,P="g"):P0[P]||(B===void 0&&(B=12),L=!0,P="g"),(C||b==="0"&&M==="=")&&(C=!0,b="0",M="=");var R=D==="$"?n:D==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",G=D==="$"?r:/[%p]/.test(P)?i:"",$=P0[P],ue=/[defgprs%]/.test(P);B=B===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function re(U){var oe=R,Z=G,H,te,j;if(P==="c")Z=$(U)+Z,U="";else{U=+U;var X=U<0||1/U<0;if(U=isNaN(U)?f:$(Math.abs(U),B),L&&(U=S9(U)),X&&+U==0&&A!=="+"&&(X=!1),oe=(X?A==="("?A:u:A==="-"||A==="("?"":A)+oe,Z=(P==="s"?C9[8+N0/3]:"")+Z+(X&&A==="("?")":""),ue){for(H=-1,te=U.length;++H<te;)if(j=U.charCodeAt(H),48>j||j>57){Z=(j===46?a+U.slice(H+1):U.slice(H))+Z,U=U.slice(0,H);break}}}O&&!C&&(U=t(U,1/0));var ee=oe.length+U.length+Z.length,J=ee<N?new Array(N-ee+1).join(b):"";switch(O&&C&&(U=t(J+U,J.length?N-Z.length:1/0),J=""),M){case"<":U=oe+U+Z+J;break;case"=":U=oe+J+U+Z;break;case"^":U=J.slice(0,ee=J.length>>1)+oe+U+Z+J.slice(ee);break;default:U=J+oe+U+Z;break}return o(U)}return re.toString=function(){return v+""},re}function h(v,b){var M=c((v=ua(v),v.type="f",v)),A=Math.max(-8,Math.min(8,Math.floor(or(b)/3)))*3,D=Math.pow(10,-A),C=C9[8+A/3];return function(N){return M(D*N)+C}}return{format:c,formatPrefix:h}}var Mc,Ac,Cc;I0({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function I0(e){return Mc=T9(e),Ac=Mc.format,Cc=Mc.formatPrefix,Mc}function z0(e){return Math.max(0,-or(Math.abs(e)))}function R0(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(or(t)/3)))*3-or(Math.abs(e)))}function O0(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,or(t)-or(e))+1}function k9(e,t,n){var r=e[0],a=e[e.length-1],o=ra(r,a,t??10),i;switch(n=ua(n??",f"),n.type){case"s":{var u=Math.max(Math.abs(r),Math.abs(a));return n.precision==null&&!isNaN(i=R0(o,u))&&(n.precision=i),Cc(n,u)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=O0(o,Math.max(Math.abs(r),Math.abs(a))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=z0(o))&&(n.precision=i-(n.type==="%")*2);break}}return Ac(n)}function pl(e){var t=e.domain;return e.ticks=function(n){var r=t();return pc(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){return k9(t(),n,r)},e.nice=function(n){var r=t(),a=r.length-1,o=n??10,i=r[0],u=r[a],f=ra(i,u,o);return f&&(f=ra(Math.floor(i/f)*f,Math.ceil(u/f)*f,o),r[0]=Math.floor(i/f)*f,r[a]=Math.ceil(u/f)*f,t(r)),e},e}function Vi(){var e=ki(_c,ia);return e.copy=function(){return hl(e,Vi())},pl(e)}var EL=1e3,PL=EL*60,LL=PL*60,B0=LL*24,ipe=B0*7,upe=B0*30,lpe=B0*365;function en(e){return e.match(/.{6}/g).map(function(t){return"#"+t})}var IL=en("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var zL=en("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6");var RL=en("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9");var OL=en("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");var BL=Ti(Yt(300,.5,0),Yt(-240,.5,1));var FL=Ti(Yt(-100,.75,.35),Yt(80,1.5,.8)),HL=Ti(Yt(260,.75,.35),Yt(80,1.5,.8)),Tpe=Yt();function Tc(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var YL=Tc(en("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),WL=Tc(en("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),qL=Tc(en("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),GL=Tc(en("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function la(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function F0(e){return e.length===1&&(e=$L(e)),{left:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var o=r+a>>>1;e(t[o],n)<0?r=o+1:a=o}return r},right:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var o=r+a>>>1;e(t[o],n)>0?a=o:r=o+1}return r}}}function $L(e){return function(t,n){return la(e(t),n)}}var V9=F0(la),UL=V9.right,XL=V9.left;var D9=Array.prototype,QL=D9.slice,KL=D9.map;var Nge=Math.sqrt(50),Ege=Math.sqrt(10),Pge=Math.sqrt(2);function Vc(e,t){var n=-1,r=e.length,a,o;if(t==null){for(;++n<r;)if((o=e[n])!=null&&o>=o){a=o;break}for(;++n<r;)(o=e[n])!=null&&o>a&&(a=o)}else{for(;++n<r;)if((o=t(e[n],n,e))!=null&&o>=o){a=o;break}for(;++n<r;)(o=t(e[n],n,e))!=null&&o>a&&(a=o)}return a}function Dc(e,t){var n=0,r=e.length,a,o=-1;if(t==null)for(;++o<r;)(a=+e[o])&&(n+=a);else for(;++o<r;)(a=+t(e[o],o,e))&&(n+=a);return n}var iI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L9=function(t){return t},E9=function(t){for(var n=[],r=0,a=t.length;r<a;r++)n[r]=t[a-r-1];return n},P9=function(t,n){t.each(function(){for(var r=d0(this),a=r.text().split(/\s+/).reverse(),o,i=[],u=0,f=1.2,c=r.attr("y"),h=parseFloat(r.attr("dy"))||0,v=r.text(null).append("tspan").attr("x",0).attr("dy",h+"em");o=a.pop();)i.push(o),v.text(i.join(" ")),v.node().getComputedTextLength()>n&&i.length>1&&(i.pop(),v.text(i.join(" ")),i=[o],v=r.append("tspan").attr("x",0).attr("dy",f+h+"em").text(o))})},uI=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1],r=arguments[2],a=arguments[3],o=arguments[4];if((typeof n>"u"?"undefined":iI(n))==="object"){if(n.length===0)return t;for(var i=n.length;i<t.length;i++)n.push(t[i]);return n}else if(typeof n=="function"){for(var u=[],f=t.length,c=0;c<f;c++)u.push(n({i:c,genLength:f,generatedLabels:t,domain:r,range:a,labelDelimiter:o}));return u}return t},lI=function(t,n,r){var a=[];if(n.length>1)a=n;else for(var o=t.domain(),i=(o[o.length-1]-o[0])/(n-1),u=0;u<n;u++)a.push(o[0]+u*i);var f=a.map(r);return{data:a,labels:f,feature:function(h){return t(h)}}},fI=function(t,n,r){var a=t.range().map(function(o){var i=t.invertExtent(o);return n(i[0])+" "+r+" "+n(i[1])});return{data:t.range(),labels:a,feature:L9}},sI=function(t){return{data:t.domain(),labels:t.domain(),feature:function(r){return t(r)}}},cI=function(t,n,r){t.call("cellover",r,n)},dI=function(t,n,r){t.call("cellout",r,n)},mI=function(t,n,r){t.call("cellclick",r,n)},ot={d3_drawShapes:function(t,n,r,a,o,i){t==="rect"?n.attr("height",r).attr("width",a):t==="circle"?n.attr("r",o):t==="line"?n.attr("x1",0).attr("x2",a).attr("y1",0).attr("y2",0):t==="path"&&n.attr("d",i)},d3_addText:function(t,n,r,a,o){n.append("text").attr("class",a+"label");var i=t.selectAll("g."+a+"cell text."+a+"label").data(r).text(L9);return o&&t.selectAll("g."+a+"cell text."+a+"label").call(P9,o),i},d3_calcType:function(t,n,r,a,o,i){var u=t.invertExtent?fI(t,o,i):t.ticks?lI(t,r,o):sI(t),f=t.range&&t.range()||t.domain();return u.labels=uI(u.labels,a,t.domain(),f,i),n&&(u.labels=E9(u.labels),u.data=E9(u.data)),u},d3_filterCells:function(t,n){var r=t.data.map(function(i,u){return{data:i,label:t.labels[u]}}).filter(n),a=r.map(function(i){return i.data}),o=r.map(function(i){return i.label});return t.data=t.data.filter(function(i){return a.indexOf(i)!==-1}),t.labels=t.labels.filter(function(i){return o.indexOf(i)!==-1}),t},d3_placement:function(t,n,r,a,o,i){n.attr("transform",r),a.attr("transform",o),t==="horizontal"&&a.style("text-anchor",i)},d3_addEvents:function(t,n){t.on("mouseover.legend",function(r){cI(n,r,this)}).on("mouseout.legend",function(r){dI(n,r,this)}).on("click.legend",function(r){mI(n,r,this)})},d3_title:function(t,n,r,a){if(n!==""){var o=t.selectAll("text."+r+"legendTitle");o.data([n]).enter().append("text").attr("class",r+"legendTitle"),t.selectAll("text."+r+"legendTitle").text(n),a&&t.selectAll("text."+r+"legendTitle").call(P9,a);var i=t.select("."+r+"legendCells"),u=t.select("."+r+"legendTitle").nodes().map(function(c){return c.getBBox().height})[0],f=-i.nodes().map(function(c){return c.getBBox().x})[0];i.attr("transform","translate("+f+","+u+")")}},d3_defaultLocale:{format:fc,formatPrefix:sc},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function Nc(){var e=Vi(),t="rect",n=15,r=15,a=10,o=2,i=[5],u=void 0,f=[],c="",h=!1,v="",b=ot.d3_defaultLocale,M=ot.d3_defaultFormatSpecifier,A=10,D="middle",C=ot.d3_defaultDelimiter,N=void 0,O="vertical",B=!1,L=void 0,P=void 0,R=dc("cellover","cellout","cellclick");function G($){var ue=ot.d3_calcType(e,B,i,f,b.format(M),C),re=$.selectAll("g").data([e]);re.enter().append("g").attr("class",c+"legendCells"),u&&ot.d3_filterCells(ue,u);var U=$.select("."+c+"legendCells").selectAll("."+c+"cell").data(ue.data),oe=U.enter().append("g").attr("class",c+"cell");oe.append(t).attr("class",c+"swatch");var Z=$.selectAll("g."+c+"cell "+t+"."+c+"swatch").data(ue.data);ot.d3_addEvents(oe,R),U.exit().transition().style("opacity",0).remove(),Z.exit().transition().style("opacity",0).remove(),Z=Z.merge(Z),ot.d3_drawShapes(t,Z,r,n,a,L);var H=ot.d3_addText($,oe,ue.labels,c,N);U=oe.merge(U);var te=H.nodes().map(function(K){return K.getBBox()}),j=Z.nodes().map(function(K){return K.getBBox()});h?Z.attr("class",function(K){return c+"swatch "+ue.feature(K)}):t=="line"?Z.style("stroke",ue.feature):Z.style("fill",ue.feature);var X=void 0,ee=void 0,J=D=="start"?0:D=="middle"?.5:1;O==="vertical"?function(){var K=te.map(function(le,ce){return Math.max(le.height,j[ce].height)});X=function(ce,ne){var me=Dc(K.slice(0,ne));return"translate(0, "+(me+ne*o)+")"},ee=function(ce,ne){return"translate( "+(j[ne].width+j[ne].x+A)+", "+(j[ne].y+j[ne].height/2+5)+")"}}():O==="horizontal"&&(X=function(le,ce){return"translate("+ce*(j[ce].width+o)+",0)"},ee=function(le,ce){return"translate("+(j[ce].width*J+j[ce].x)+`,
          `+(j[ce].height+j[ce].y+A+8)+")"}),ot.d3_placement(O,U,X,H,ee,D),ot.d3_title($,v,c,P),U.transition().style("opacity",1)}return G.scale=function($){return arguments.length?(e=$,G):e},G.cells=function($){return arguments.length?(($.length>1||$>=2)&&(i=$),G):i},G.cellFilter=function($){return arguments.length?(u=$,G):u},G.shape=function($,ue){return arguments.length?(($=="rect"||$=="circle"||$=="line"||$=="path"&&typeof ue=="string")&&(t=$,L=ue),G):t},G.shapeWidth=function($){return arguments.length?(n=+$,G):n},G.shapeHeight=function($){return arguments.length?(r=+$,G):r},G.shapeRadius=function($){return arguments.length?(a=+$,G):a},G.shapePadding=function($){return arguments.length?(o=+$,G):o},G.labels=function($){return arguments.length?(f=$,G):f},G.labelAlign=function($){return arguments.length?(($=="start"||$=="end"||$=="middle")&&(D=$),G):D},G.locale=function($){return arguments.length?(b=_i($),G):b},G.labelFormat=function($){return arguments.length?(M=so($),G):G.locale().format(M)},G.labelOffset=function($){return arguments.length?(A=+$,G):A},G.labelDelimiter=function($){return arguments.length?(C=$,G):C},G.labelWrap=function($){return arguments.length?(N=$,G):N},G.useClass=function($){return arguments.length?(($===!0||$===!1)&&(h=$),G):h},G.orient=function($){return arguments.length?($=$.toLowerCase(),($=="horizontal"||$=="vertical")&&(O=$),G):O},G.ascending=function($){return arguments.length?(B=!!$,G):B},G.classPrefix=function($){return arguments.length?(c=$,G):c},G.title=function($){return arguments.length?(v=$,G):v},G.titleWidth=function($){return arguments.length?(P=$,G):P},G.textWrap=function($){return arguments.length?(textWrap=$,G):textWrap},G.on=function(){var $=R.on.apply(R,arguments);return $===R?G:$},G}function I9(){var e=Vi(),t="path",n=15,r=15,a=10,o=5,i=[5],u=void 0,f=[],c="",h="",v=ot.d3_defaultLocale,b=ot.d3_defaultFormatSpecifier,M="middle",A=10,D=ot.d3_defaultDelimiter,C=void 0,N="vertical",O=!1,B=void 0,L=dc("cellover","cellout","cellclick");function P(R){var G=ot.d3_calcType(e,O,i,f,v.format(b),D),$=R.selectAll("g").data([e]);u&&ot.d3_filterCells(G,u),$.enter().append("g").attr("class",c+"legendCells");var ue=R.select("."+c+"legendCells").selectAll("."+c+"cell").data(G.data),re=ue.enter().append("g").attr("class",c+"cell");re.append(t).attr("class",c+"swatch");var U=R.selectAll("g."+c+"cell "+t+"."+c+"swatch");ot.d3_addEvents(re,L),ue.exit().transition().style("opacity",0).remove(),U.exit().transition().style("opacity",0).remove(),U=U.merge(U),ot.d3_drawShapes(t,U,r,n,a,G.feature);var oe=ot.d3_addText(R,re,G.labels,c,C);ue=re.merge(ue);var Z=oe.nodes().map(function(K){return K.getBBox()}),H=U.nodes().map(function(K){return K.getBBox()}),te=Vc(H,function(K){return K.height}),j=Vc(H,function(K){return K.width}),X=void 0,ee=void 0,J=M=="start"?0:M=="middle"?.5:1;N==="vertical"?function(){var K=Z.map(function(le,ce){return Math.max(te,le.height)});X=function(ce,ne){var me=Dc(K.slice(0,ne));return"translate(0, "+(me+ne*o)+" )"},ee=function(ce,ne){return"translate( "+(j+A)+`,
              `+(H[ne].y+H[ne].height/2+5)+")"}}():N==="horizontal"&&(X=function(le,ce){return"translate( "+ce*(j+o)+",0)"},ee=function(le,ce){return"translate( "+(H[ce].width*J+H[ce].x)+`,
              `+(te+A)+")"}),ot.d3_placement(N,ue,X,oe,ee,M),ot.d3_title(R,h,c,B),ue.transition().style("opacity",1)}return P.scale=function(R){return arguments.length?(e=R,P):e},P.cells=function(R){return arguments.length?((R.length>1||R>=2)&&(i=R),P):i},P.cellFilter=function(R){return arguments.length?(u=R,P):u},P.shapePadding=function(R){return arguments.length?(o=+R,P):o},P.labels=function(R){return arguments.length?(f=R,P):f},P.labelAlign=function(R){return arguments.length?((R=="start"||R=="end"||R=="middle")&&(M=R),P):M},P.locale=function(R){return arguments.length?(v=_i(R),P):v},P.labelFormat=function(R){return arguments.length?(b=so(R),P):P.locale().format(b)},P.labelOffset=function(R){return arguments.length?(A=+R,P):A},P.labelDelimiter=function(R){return arguments.length?(D=R,P):D},P.labelWrap=function(R){return arguments.length?(C=R,P):C},P.orient=function(R){return arguments.length?(R=R.toLowerCase(),(R=="horizontal"||R=="vertical")&&(N=R),P):N},P.ascending=function(R){return arguments.length?(O=!!R,P):O},P.classPrefix=function(R){return arguments.length?(c=R,P):c},P.title=function(R){return arguments.length?(h=R,P):h},P.titleWidth=function(R){return arguments.length?(B=R,P):B},P.on=function(){var R=L.on.apply(L,arguments);return R===L?P:R},P}var U9=ze(Re());var R9=`<span id="up-arrow">&#9650;</span>
<span id="page-text"></span>
<span id="down-arrow">&#9660;</span>
`;function O9(e){let t=e.select("g.legendCells"),n=e.node().getBoundingClientRect();if(!er(n,t.node().getBoundingClientRect()))return;let r=e.select(".legend");t.selectAll(".label").text((a,o,i)=>{let u=i[o];if(er(n,u.getBoundingClientRect())){let f=pI(u,r,n);return`${a.substring(0,f-3)}...`}else return a})}function pI(e,t,n){let r=e.getBoundingClientRect(),a=t.node().createSVGPoint(),o=3;return a.x=n.right-r.left-o,a.y=0,e.getCharNumAtPosition(a)}var yo=10;function fa(e,t,n){let r=fe(vi(e).getContainer()).node().getBoundingClientRect(),a=e.getBoundingClientRect(),o={top:a.top+n-yo,right:a.right+t+yo,bottom:a.bottom+n+yo,left:a.left+t-yo},i={x:t,y:n};return[{edge:"right",dimension:"x"},{edge:"left",dimension:"x"},{edge:"top",dimension:"y"},{edge:"bottom",dimension:"y"}].forEach(f=>{if(er(r,o,f.edge)){let c=o[f.edge]-r[f.edge];i[f.dimension]=i[f.dimension]-c}}),i}var H0="resize.for-dragging";function B9(){let e=!0,t=null,n=r=>{let a=r.node(),o=a.getRootNode().host.closest("perspective-viewer");a.style.cursor="move",t.legend&&(a.style.left=t.legend.left,a.style.top=t.legend.top);let i=li().on("drag",function(u){let f=fa(this,u.dx,u.dy);this.style.left=`${this.offsetLeft+f.x}px`,this.style.top=`${this.offsetTop+f.y}px`;let c={left:this.style.left,top:this.style.top};t.legend={...t.legend,...c},e=xI(a)?vI(a):gI(a,e)});i.on("end",function(u){fe(window).on(H0,null),o?.dispatchEvent(new Event("perspective-config-update"))}),r.call(i)};return n.settings=(...r)=>r.length?(t=r[0],n):t,n}function gI(e,t){return t!==!1&&fe(window).on(H0,function(){let n=fa(e,0,0);e.style.left=`${e.offsetLeft+n.x}px`,e.style.top=`${e.offsetTop+n.y}px`}),!1}function vI(e){return fe(window).on(H0,null),e.style.left="auto",!0}function xI(e){let t=e.getBoundingClientRect(),n=fe(Zr(e)).node().getBoundingClientRect(),r=5;return t.right+yo+r>=n.right&&t.top-yo-r<=n.top}var F9="horizontal-drag-handle",H9="vertical-drag-handle",bI="corner-drag-handle",W9="dragHandles",Y9=0,sa="resize";function q9(){let e=9,t=3,n=null,r={height:100,width:100},a={height:null,width:null},o=[],i=(h,v)=>o.filter(b=>b.event===h).forEach(b=>b.execute(v)),u=h=>{if(wI(h))return;let v={left:ne=>i(sa,{horizontal:te(ne),vertical:!1}),top:ne=>i(sa,{horizontal:!1,vertical:X(ne)}),right:ne=>i(sa,{horizontal:j(ne),vertical:!1}),bottom:ne=>i(sa,{horizontal:!1,vertical:ee(ne)}),topleft:ne=>i(sa,{horizontal:te(ne),vertical:X(ne)}),topright:ne=>i(sa,{horizontal:j(ne),vertical:X(ne)}),bottomright:ne=>i(sa,{horizontal:j(ne),vertical:ee(ne)}),bottomleft:ne=>i(sa,{horizontal:te(ne),vertical:ee(ne)})},b=h.node();n.legend&&(b.style.height=n.legend.height,b.style.width=n.legend.width);let M=b.getBoundingClientRect(),A=h.append("svg").attr("id",W9).attr("width",M.width).attr("height",M.height),D=A.append("g"),C=ne=>ne==="left"||ne==="right",N={left:0,top:e,right:M.width-e,bottom:e},O={left:e,top:0,right:e,bottom:M.height-e},B=["left","top","right","bottom"],[L,P,R,G]=B.map(ne=>D.append("rect").attr("id",`drag${ne}`).attr("class",C(ne)?H9:F9).attr("y",O[ne]).attr("x",N[ne]).attr("height",C(ne)?M.height-e*2:e).attr("width",C(ne)?e:M.width-e*2).attr("fill",C(ne)?"lightgreen":"lightblue").attr("fill-opacity",Y9).style("z-index",t).attr("cursor",C(ne)?"ew-resize":"ns-resize").call(li().on("drag",v[ne]))),$=ne=>`${ne[0]}${ne[1]}`,ue={topleft:"nwse",topright:"nesw",bottomright:"nwse",bottomleft:"nesw"},re=[["top","left"],["top","right"],["bottom","right"],["bottom","left"]],[U,oe,Z,H]=re.map(ne=>D.append("rect").attr("id",`drag${$(ne)}`).attr("class",`${bI} ${ne[0]} ${ne[1]}`).attr("height",e).attr("width",e).attr("fill","red").attr("fill-opacity",Y9).style("z-index",t).attr("cursor",`${ue[$(ne)]}-resize`).call(li().on("drag",v[$(ne)])));ce("height","y",G),ce("width","x",R),le(A);function te(ne){let me=c(fa(L.node(),ne.x,0).x,A,"width",(Me,Oe)=>Me-Oe);return b.style.left=`${b.offsetLeft+me}px`,b.style.width=`${b.offsetWidth-me}px`,J(),K(R,me,"width","x")}function j(ne){let me=-c(fa(R.node(),ne.dx,0).x,A,"width",(Me,Oe)=>Me+Oe);return f(me,"x",R,ne)?!1:(b.style.width=`${b.offsetWidth-me}px`,J(),K(R,me,"width","x"))}function X(ne){let me=c(fa(P.node(),0,ne.y).y,A,"height",(Me,Oe)=>Me-Oe);return b.style.top=`${b.offsetTop+me}px`,b.style.height=`${b.offsetHeight-me}px`,J(),K(G,me,"height","y")}function ee(ne){let me=-c(fa(G.node(),0,ne.dy).y,A,"height",(Me,Oe)=>Me+Oe);return f(me,"y",G,ne)?!1:(b.style.height=`${b.offsetHeight-me}px`,J(),K(G,me,"height","y"))}function J(){let ne={top:b.style.top,left:b.style.left,height:b.style.height,width:b.style.width};n.legend={...n.legend,...ne}}function K(ne,me,Me,Oe){return SI(A,Me,me),_I(ne,Oe,me),yI(A,me,Me,Me==="height"?H9:F9),le(A),me!=0}function le(ne){U.attr("y",0),oe.attr("y",0).attr("x",ne.attr("width")-e),Z.attr("y",ne.attr("height")-e).attr("x",ne.attr("width")-e),H.attr("y",ne.attr("height")-e).attr("x",0)}function ce(ne,me,Me){!!a[ne]&&a[ne]<M[ne]&&(b.style[ne]=`${a[ne]}px`,K(Me,M[ne]-a[ne],ne,me))}};u.on=(h,v)=>(o.push({event:h,execute:v}),u),u.zIndex=h=>(t=h,u),u.settings=(...h)=>h.length?(n=h[0],u):n,u.minWidth=h=>(r.width=h,a.width&&(a.width=Math.max(r.width,a.width)),u),u.minHeight=h=>(r.height=h,a.height&&(a.height=Math.max(r.height,a.height)),u),u.handleWidth=h=>(e=h,u),u.maxWidth=h=>(a.width=h,r.width=Math.min(r.width,a.width),u),u.maxHeight=h=>(a.height=h,r.height=Math.min(r.height,a.height),u);function f(h,v,b,M){let A=(C,N,O,B)=>C<0&&B[N]<Number(O.attr(N)),D=(C,N,O,B)=>C>0&&B[N]>Number(O.attr(N));return A(h,v,b,M)||D(h,v,b,M)}function c(h,v,b,M){let A=M(Number(v.attr(b)),h);if(A<r[b]){let D=r[b]-A;return M(h,D)}if(!!a[b]&&A>a[b]){let D=a[b]-A;return M(h,D)}return h}return u}var yI=(e,t,n,r)=>{e.selectAll(`.${r}`).each((o,i,u)=>{let f=u[i];fe(f).attr(n,f.getBoundingClientRect()[n]-t)})},wI=e=>e.select(`#${W9}`).size()>0,_I=(e,t,n)=>e.attr(t,Number(e.attr(t))-n),SI=(e,t,n)=>e.attr(t,e.node().getBoundingClientRect()[t]-n);var G9=16,$9=20,Y0=(e,t)=>{let n=e||Nc(),r=[],a=1,o,i=t.legend&&t.legend.pageIndex?t.legend.pageIndex:0,u=()=>{},f=B9().settings(t),c,h=L=>{r=n.scale().domain(),c=q9().settings(t).maxHeight(r.length*G9+$9).on("resize",()=>v(L)),c(L),f(L),v(L)},v=L=>{C(L),b(L),M(L),O9(L)},b=L=>{let P=O(L);P.style("display",a<=1?"none":"block"),P.select("#page-text").text(`${i+1}/${a}`),P.select("#up-arrow").attr("class",i===0?"disabled":"").on("click",()=>{i>0&&(A(i-1),v(L))}),P.select("#down-arrow").attr("class",i>=a-1?"disabled":"").on("click",()=>{i<a-1&&(A(i+1),v(L))})},M=L=>{a>1&&n.cellFilter(D()),L.select("g.legendCells").remove();let P=B(L);P.call(n);let R=L.select("g.legendCells").node().getBBox();P.attr("height",R.height+$9),u(L)},A=L=>{i=L,t.legend={...t.legend,pageIndex:i}},D=()=>(L,P)=>P>=o*i&&P<o*i+o,C=L=>{let P=L.node().getBoundingClientRect(),R=Math.floor(P.height/G9)-1;o=R<r.length?R-1:R,a=N(R),i=Math.min(i,a-1)},N=L=>Math.ceil(r.length/L),O=L=>ft(L,".legend-controls",()=>L.append("g").attr("class","legend-controls").html(R9)),B=L=>ft(L,".legend",()=>L.append("svg").attr("class","legend"));return h.decorate=(...L)=>L.length?(u=L[0],h):u,(0,U9.rebindAll)(h,n),h};var X9=e=>Y0(Nc().shape("circle").shapeRadius(6),e),MI=e=>Y0(I9().shapePadding(1).labelOffset(3),e),It=()=>W0(X9),gl=()=>W0(MI,Q9),j9=()=>W0(X9,Q9);function Q9(e){if(!e)return null;let t=e.domain(),n=e.range().map(r=>as().type(r)());return fn().domain(t).range(n)}function W0(e,t=void 0){let n={},r=null,a=null,o=i=>{if(r&&r.range().length>1){let u=e(n);u.scale(r).orient("vertical").on("cellclick",function(c){let h=this.__data__;n.hideKeys=n.hideKeys||[],n.hideKeys.includes(h)?n.hideKeys=n.hideKeys.filter(v=>v!==h):n.hideKeys.push(h),vi(this)._draw()}),u.labels(c=>{let h=String(c.domain[c.i]).split("|");return n.mainValues.length<=1&&h.length>1?h.slice(0,h.length-1).join("|"):c.domain[c.i]});let f=ft(i,"div.legend-container",()=>i.append("div"));u.decorate(c=>{let h=b=>n.hideKeys&&n.hideKeys.includes(b),v=c.select("g.legendCells").attr("transform","translate(20,20)").selectAll("g.cell");v.classed("hidden",h),v.append("title").html(b=>b),a&&v.select("circle, path").style("fill",b=>h(b)?null:a(b)).style("stroke",b=>h(b)?null:nr(a(b)))}),f.attr("class","legend-container").attr("borderbox-on-hover",!0).style("z-index","2").call(u)}};return o.settings=(...i)=>i.length===0?n:(n=i[0],o),o.scale=(...i)=>i.length?(r=t?t(i[0]):i[0],o):r,o.color=(...i)=>i.length?(a=i[0],o):a,o}function _n(e,t=void 0){let n=t||e.data;return(e.hideKeys?.length??0)>0?n.map(a=>{let o={...a};return e.hideKeys.forEach(i=>{delete o[i]}),o}):n}function Di(e){let t=e.data,n=e.hideKeys?.length??0,r=e.splitValues.length;return n>0?r===0?t.filter(a=>Object.values(a).reduce((o,i)=>o&&!e.hideKeys.includes(i),!0)):t.map(a=>{let o=Object.entries(a).filter(([i,u])=>!e.hideKeys.includes(na(i)));return Object.fromEntries(o)}):t}var ca=ze(Re()),AI=e=>t=>t.style("stroke-width","1.0").style("stroke",e?e.colorStyles.grid.gridLineColor:"#bbb"),CI=e=>t=>{t.strokeStyle=e?e.colorStyles.grid.gridLineColor:"#bbb",t.lineWidth=1},TI=e=>e.style("display","none"),kI=e=>t=>{t.lineWidth=1,t.strokeStyle=e?e.colorStyles.grid.gridLineColor:"#bbb"},pt=(e,t)=>{let n="both",r=!1,a=null,o=null,i=null,u=ca.seriesSvgMulti(),f=ca.annotationSvgGridline(),c=AI(t),h=TI,v=function(...b){r&&(u=ca.seriesCanvasMulti().context(i),f=ca.annotationCanvasGridline(),c=CI(t),h=kI(t));let M=u.xScale(a).yScale(o),A=n==="vertical"?h:c,D=n==="horizontal"?h:c,C=f.xDecorate(A).yDecorate(D);return M.series([C,e])(...b)};return v.orient=(...b)=>b.length?(n=b[0],v):n,v.canvas=(...b)=>b.length?(r=b[0],v):r,v.xScale=(...b)=>b.length?(a=b[0],v):a,v.yScale=(...b)=>b.length?(o=b[0],v):o,v.context=(...b)=>b.length?(i=b[0],v):i,v};var K9=ze(Re()),zt=()=>{let e=Us(),t=n=>{let r=e.pad(),a=e.padUnit(),o=1;switch(a){case"domain":break;case"percent":{o=n[1]-n[0];break}default:throw new Error("Unknown padUnit: "+a)}let i=n[0]-r[0]*o,u=n[1]+r[1]*o;return n[0]=n[0]>=0&&i<0?0:i,n[1]=n[1]<=0&&u>0?0:u,n};return t.pad=function(...n){return e.pad()},t.padUnit=function(...n){return e.padUnit()},K9.rebindAll(t,e),t};var Z9=`<button id="zoom-reset">Reset zoom</button>
<button id="one-year">1 Year</button>
<button id="six-months">6 Months</button>
<button id="one-month">1 Month</button>
`;var gt=()=>{let e=null,t=null,n=null,r=null,a=null,o=null,i=!1,u=!1,f=()=>{};function c(M){let A=`d3fc-${u?"canvas":"svg"}.plot-area`;if(n||a){let D=r&&r.domain()[0]instanceof Date,C=Hs().on("zoom",O=>{let{transform:B}=O;t.zoom={k:B.k,x:B.x,y:B.y},h(B),M.call(e);let L=B.k===1&&B.x===0&&B.y===0,P=v(M).style("display",L?"none":"");P.select("#zoom-reset").on("click",()=>M.select(A).call(C.transform,Zn));let R=P.select("#one-year").style("display",D?"":"none"),G=P.select("#six-months").style("display",D?"":"none"),$=P.select("#one-month").style("display",D?"":"none");if(D){let ue=re=>()=>{let U=new Date(n.domain()[0]),oe=new Date(U);re(U,oe);let Z=r.range(),H=(Z[1]-Z[0])/(r(oe)-r(U)),te=-r(U)*H,j=0;if(a){let X=a.domain().reduce((ee,J)=>ee+J)/2;j=-o(X)*H+a(X)}M.select(A).call(C.transform,Zn.translate(te,j).scale(H))};R.on("click",ue((re,U)=>U.setYear(re.getFullYear()+1))),G.on("click",ue((re,U)=>U.setMonth(re.getMonth()+6))),$.on("click",ue((re,U)=>U.setMonth(re.getMonth()+1)))}}),N=e.decorate();e.decorate((O,B)=>{if(N(O,B),!i){i=!0;let L=O.select(A),P=u?window.devicePixelRatio:1;L.on("measure.zoom-range",R=>{if(r&&r.range([0,R.detail.width/P]),o&&o.range([0,R.detail.height/P]),t.zoom){let G=Zn.translate(t.zoom.x,t.zoom.y).scale(t.zoom.k);L.call(C.transform,G)}}).call(C)}})}M.call(e)}c.chart=(...M)=>M.length?(e=M[0],c):e,c.settings=(...M)=>M.length?(t=M[0],c):t,c.xScale=(...M)=>M.length?(n=b(M[0]),r=n?n.copy():null,c):n,c.yScale=(...M)=>{if(!M.length)return a;if(a=b(M[0]),o=a?a.copy():null,o){let A=o.domain();o.domain([A[1],A[0]])}return c},c.canvas=(...M)=>M.length?(u=M[0],c):u,c.onChange=(...M)=>M.length?(f=M[0],c):f;let h=M=>{let A={...M};if(n&&(n.domain(M.rescaleX(r).domain()),A.xDomain=n.domain()),a){let D=M.rescaleY(o).domain();a.domain([D[1],D[0]]),A.yDomain=a.domain()}f(A)},v=M=>ft(M,".zoom-controls",()=>M.append("div").attr("class","zoom-controls").style("display","none").html(Z9)),b=M=>M&&M.nice?M:null;return c};function eM(e,t){let n=nc(t,_n(t)),r=tr(t),a=It().settings(t).scale(r),o=ec(t,r).orient("horizontal"),i=J9.seriesSvgMulti().mapping((v,b)=>v[b]).series(n.map(()=>o)),u=$e(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[0]).excludeType(qe.ordinal).include([0]).paddingStrategy(zt())(n),f=$e(t).excludeType(qe.linear).settingName("crossValues").valueName("crossValue").orient("vertical")(n),c=yn(u,f).plotArea(pt(i,t).orient("horizontal"));c.yPaddingInner&&(c.yPaddingInner(.5),c.yPaddingOuter(.25),o.align("left")),c.xNice&&c.xNice();let h=gt().chart(c).settings(t).yScale(f.scale);e.datum(n).call(h),e.call(a)}eM.plugin={name:"X Bar",category:"X Chart",max_cells:1e3,max_columns:50,render_warning:!0,initial:{names:["X Axis"]}};var tM=eM;var fM=ze(Re());var oM=(e,t)=>{if(!nM(e)||!nM(t))return;let n=rM(e),r=rM(t);n>r?t[0]=aM(t,n):e[0]=aM(e,r)},nM=e=>e.length===2&&!isNaN(e[0])&&!isNaN(e[1])&&e[0]!==e[1],rM=e=>(0-e[0])/(e[1]-e[0]),aM=(e,t)=>t*e[1]/(t-1);var iM=ze(Re());var uM=e=>{let t=[],n=!1,r,a=i=>{i.text("");let u=iM.dataJoin("span","splitter-label").key(h=>h),f=!n&&t.length===1,c=r&&e.splitValues.length===0;u(i,t).classed("disabled",f).text(h=>h.name).style("color",h=>c?nr(r(h.name)):void 0).on("click",(h,v)=>{f||(n?e.splitMainValues=e.splitMainValues.filter(b=>b!=v.name):e.splitMainValues=[v.name].concat(e.splitMainValues||[]),h.target.getRootNode().host.closest("perspective-viewer")?.dispatchEvent(new Event("perspective-config-update")),o(i))})},o=i=>{let u=vi(i.node());u._container.innerHTML="",u._draw()};return a.labels=(...i)=>i.length?(t=i[0],a):t,a.alt=(...i)=>i.length?(n=i[0],a):n,a.color=(...i)=>i.length?(r=i[0],a):r,a};var da=(e,t,n=DI)=>{let r,a,o,i=e.splitMainValues||[],u=h=>{let v=h.split("|");return i.includes(v[v.length-1])},f=e.mainValues.some(h=>u(h.name));a=f?n(t,h=>!u(h)):t,o=f?n(t,u):null;let c=h=>{if(e.mainValues.length===1)return;let v=e.mainValues.map((D,C)=>({index:C,name:D.name})),b=v.filter(D=>!u(D.name)),M=v.filter(D=>u(D.name)),A=()=>uM(e).color(r);h.select(".y-label.left-label").call(A().labels(b)),h.select(".y-label.right-label").call(A().labels(M).alt(!0))};return c.color=(...h)=>h.length?(r=h[0],c):r,c.haveSplit=()=>f,c.data=(...h)=>h.length?(a=h[0],c):a,c.altData=(...h)=>h.length?(o=h[0],c):o,c},DI=(e,t)=>e.map(n=>n.filter(r=>t(r.key))),q0=(e,t)=>e.map(n=>t(n.key)?n:n.map(r=>Object.assign({},r,{mainValue:null}))),lM=(e,t)=>e.map(n=>q0(n,t));function sM(e,t){let n=nc(t,_n(t)),r=tr(t),a=It().settings(t).scale(r),o=ec(t,r).orient("vertical"),i=fM.seriesSvgMulti().mapping((D,C)=>D[C]).series(n.map(()=>o)),u=$e(t).excludeType(qe.linear).settingName("crossValues").valueName("crossValue")(n),f=$e(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).excludeType(qe.ordinal).orient("vertical").include([0]).paddingStrategy(zt()),c=t.mainValues.length>1?lM:q0,h=da(t,n,c).color(r),v=f(h.data()),b=h.haveSplit()?i:pt(i,t).orient("vertical"),M=yn(u,v).axisSplitter(h).plotArea(b);M.xPaddingInner&&(M.xPaddingInner(.5),M.xPaddingOuter(.25),o.align("left")),M.yNice&&M.yNice();let A=gt().chart(M).settings(t).xScale(u.scale);if(h.haveSplit()){let D=f(h.altData());oM(v.domain,D.domain),M.yDomain(v.domain).altAxis(D)}e.datum(h.data()).call(A),e.call(a)}sM.plugin={name:"Y Bar",category:"Y Chart",max_cells:1e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var cM=sM;var hM=ze(Re());var dM=ze(Re());function Ni(e,t){let n=dM.seriesSvgLine(),r=e.data.length*(e.data?.length>0?Object.keys(e.data[0]).length-(e.crossValues?.length>0?1:0):0),a=Math.max(1,Math.min(3,Math.floor(e.size.width/r/2)));return n=n.decorate(o=>{o.style("stroke",i=>nr(t(i[0]&&i[0].key))).style("stroke-width",a)}),n.crossValue(o=>o.crossValue).mainValue(o=>o.mainValue)}function mM(e,t){let n=wn(e);return t.map((r,a)=>Object.keys(r).filter(o=>o!=="__ROW_PATH__").map(o=>({key:o,crossValue:n(r,a),mainValue:r[o],row:r})))}var Ec=function(e){let t=[];for(let n of e)for(let r=0;r<n.length;r++)n[r].mainValue!==null&&(t[r]=t[r]||[],t[r].push(n[r]));return t};var Pc=ze(Re());var G0=(e,t,n=Math.min)=>{let r=i=>i.reduce((u,f)=>{let c=a(f);return c&&(!u||n(u.value,c.value)===c.value)?c:u},null),a=i=>{if(Array.isArray(i))return r(i);let u=t(i);return u!==null?{item:i,value:u}:null},o=r(e);return o?o.item:null};var jt=()=>{let e=ta().alwaysShow(!0),t=null,n=null,r=null,a=null,o=!1,i=null,u="crossValue",f="mainValue",c=null,h=1,v=A=>{let D=`d3fc-${o?"canvas":"svg"}.plot-area`;if(t||n){let C=null,N=Pc.pointer().on("point",O=>{let B=O.length?M(O[0]):null;C=B?[B.data]:[];let L=B?B.scale:n;b(A,C,L)});A.select(D).on("measure.nearbyTip",()=>b(A,[])).on("click",()=>{C.length&&nl(A.node(),C[0],e.settings())}).call(N)}},b=(A,D,C=n)=>{let N=A.select("d3fc-svg.plot-area svg").selectAll("circle.nearbyTip").data(D);N.exit().remove(),N.enter().append("circle").attr("class","nearbyTip").merge(N).attr("r",O=>a?h*Math.sqrt(a(O.size)):10).attr("transform",O=>`translate(${t(O[u])},${C(O[f])})`).style("stroke","none").style("fill",O=>r&&O.key&&io(r(O.key))),e(N)},M=A=>{let D=O=>B=>B[f]===void 0||B[f]===null||B[u]===void 0||B[u]===null?null:Math.sqrt(Math.pow(t(B[u])-A.x,2)+Math.pow(O(B[f])-A.y,2)),C=D(n),N=G0(i,C,Math.min);if(c){let O=D(c.yScale),B=G0(c.data,O,Math.min);return C(N)<=O(B)?{data:N,scale:n}:{data:B,scale:c.yScale}}return{data:N,scale:n}};return v.scaleFactor=(...A)=>A.length?(h=A[0],v):h,v.xScale=(...A)=>A.length?(t=A[0],v):t,v.yScale=(...A)=>A.length?(n=A[0],v):n,v.color=(...A)=>A.length?(r=A[0],v):r,v.size=(...A)=>A.length?(a=A[0]?A[0].copy().range([40,4e3]):null,v):a,v.canvas=(...A)=>A.length?(o=A[0],v):o,v.data=(...A)=>A.length?(i=A[0],v):i,v.xValueName=(...A)=>A.length?(u=A[0],v):u,v.yValueName=(...A)=>A.length?(f=A[0],v):f,v.altDataWithScale=(...A)=>A.length?(c=A[0],v):c,v.settings=(...A)=>A.length?(e.settings(A[0]),v):e.settings(),Pc.rebindAll(v,e),v};function pM(e,t){let n=mM(t,_n(t)),r=tr(t),a=It().settings(t).scale(r),o=hM.seriesSvgRepeat().series(Ni(t,r)).orient("horizontal"),i=zt().pad([.1,.1]).padUnit("percent"),u=da(t,Ec(n)).color(r),f=$e(t).excludeType(qe.linear).settingName("crossValues").valueName("crossValue")(n),c=$e(t).settingName("mainValues").valueName("mainValue").memoValue(u.haveSplit()?null:t.axisMemo[0]).orient("vertical").paddingStrategy(i),h=c(u.data()),v=u.haveSplit()?o:pt(o,t).orient("vertical"),b=yn(f,h).axisSplitter(u).plotArea(v);b.yNice&&b.yNice();let M=gt().chart(b).settings(t).xScale(f.scale),A=jt().settings(t).xScale(f.scale).yScale(h.scale).color(r).data(n);if(u.haveSplit()){let C=c(u.altData());b.altAxis(C),A.data(u.data()).altDataWithScale({yScale:C.scale,data:u.altData()})}let D=u.data();e.datum(D).call(M),e.call(A),e.call(a)}pM.plugin={name:"Y Line",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var gM=pM;var _M=ze(Re());var vM=ze(Re());var $0=Math.sqrt(3),NI={draw:function(e,t){let n=Math.sqrt(t/($0*3));e.moveTo(0,n*2),e.lineTo(-$0*n,-n),e.lineTo($0*n,-n),e.closePath()}},EI=[jn,$a,Ua,ja,Xa,Qa,Ka],U0={circle:jn,square:ja,cross:$a,diamond:Ua,star:Xa,triangle:Qa,wye:Ka,nabla:NI};function vl(e){return e.length>1?fn().domain(e).range(EI):null}var PI=8,LI=1;function xM(e,t,n,r,a,o,i=1){let u=(0,vM.seriesCanvasPoint)().crossValue(f=>f.x).mainValue(f=>f.y);return o&&u.type(f=>o(f.row[t])),n&&u.size(f=>Math.round(i*n(f.size))),u.decorate((f,c)=>{let h=r(c.colorValue),v=e.colorStyles?.opacity;if(a){let{type:b}=e.mainValues.find(A=>A.name===a),M=Sr(b,c.row[a]);if(M!==null){f.fillStyle=e.textStyles.color,f.font=e.textStyles.font;let A=0;n&&(A=Math.sqrt(i*n(c.size)/Math.PI)*LI);let D=A+PI;f.fillText(M,D,4)}}f.strokeStyle=nr(h),f.fillStyle=io(h,v)}),u}function bM(e,t){let n=[...new Set(tc(e,t))];return vl(n)}function yM(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=[];return Object.keys(t).forEach(r=>{if(r!=="__ROW_PATH__"){let a=na(r);n.includes(a)||n.push(a)}}),vl(n)}function wM(e,t){let n=e.mainValues.length;return t.map(r=>{let a=Object.keys(r).filter(i=>i!=="__ROW_PATH__"),o=new Array(a.length/n);for(let i=0;i<a.length/n;i++)o[i]={key:na(a[i*n]),crossValue:r[a[i*n]],mainValue:r[a[i*n+1]],row:r};return o})}function SM(e,t){let n=Ec(wM(t,Di(t))),r=O4(t),a=yM(t),o=null;r.domain().length>=2&&(o=j9().settings(t).scale(a).color(r));let i=_M.seriesSvgRepeat().series(Ni(t,r)).orient("horizontal"),u=zt().pad([.1,.1]).padUnit("percent"),f=$e(t).settingName("mainValues").settingValue(t.mainValues[0].name).valueName("crossValue").memoValue(t.axisMemo[0]).paddingStrategy(u),h=$e(t).settingName("mainValues").settingValue(t.mainValues[1].name).valueName("mainValue").memoValue(t.axisMemo[1]).orient("vertical").paddingStrategy(u)(n),v=f(n),b=pt(i,t).orient("vertical"),M=yn(v,h).xLabel(t.mainValues[0].name).yLabel(t.mainValues[1].name).plotArea(b);M.xNice&&M.xNice(),M.yNice&&M.yNice();let A=gt().chart(M).settings(t).xScale(v.scale).yScale(h.scale),D=jt().settings(t).xScale(v.scale).yScale(h.scale).color(r).data(n);e.datum(n).call(A),e.call(D),o&&e.call(o)}SM.plugin={name:"X/Y Line",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Tooltip"]},selectMode:"toggle"};var MM=SM;var xl=ze(Re());var AM=ze(Re());function CM(e,t){let n=AM.seriesSvgArea();return n=n.decorate(r=>{r.style("fill",a=>t(a[0].key)).style("opacity",.5)}),n.crossValue(r=>r.crossValue).mainValue(r=>r.mainValue).baseValue(r=>r.baseValue)}function TM(e,t){let n=wn(e);return t.map((r,a)=>{let o={};return Object.keys(r).filter(i=>i!=="__ROW_PATH__").map(i=>{let u=i.split("|"),f=u[u.length-1],c=o[f]||0,h=c+r[i];return o[f]=h,{key:i,crossValue:n(r,a),mainValue:h,baseValue:c,row:r}})})}function kM(e,t){let n=TM(t,_n(t)),r=tr(t),a=It().settings(t).scale(r),o=xl.seriesSvgRepeat().series(CM(t,r).orient("vertical")),i=xl.seriesSvgRepeat().series(Ni(t,r)).orient("vertical"),u=xl.seriesSvgMulti().series([o,i]),f=$e(t).excludeType(qe.linear).settingName("crossValues").valueName("crossValue")(n),c=$e(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).excludeType(qe.ordinal).orient("vertical").include([0]).paddingStrategy(zt()),h=da(t,n).color(r),v=c(h.data()),b=h.haveSplit()?u:pt(u,t).orient("vertical"),M=yn(f,v).axisSplitter(h).plotArea(b);M.yNice&&M.yNice();let A=gt().chart(M).settings(t).xScale(f.scale),D=jt().settings(t).xScale(f.scale).yScale(v.scale).color(r).data(n);if(h.haveSplit()){let C=c(h.altData());M.altAxis(C),D.data(h.data()).altDataWithScale({yScale:C.scale,data:h.altData()})}e.datum(h.data()).call(A),e.call(D),e.call(a)}kM.plugin={name:"Y Area",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var VM=kM;var PM=ze(Re());var DM=ze(Re());function NM(e,t,n,r){let a=DM.seriesSvgPoint().size(100),o=e.colorStyles&&e.colorStyles.opacity;return r&&a.type(r(t)),a.decorate(i=>{i.style("stroke",u=>nr(n(u.colorValue||t))).style("fill",u=>io(n(u.colorValue||t),o))}),a.crossValue(i=>i.crossValue).mainValue(i=>i.mainValue)}function EM(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=Object.keys(t).filter(r=>r!=="__ROW_PATH__");return vl(n)}function LM(e,t){let n=F4(t,_n(t)),r=EM(t),a=tr(t),o=gl().settings(t).scale(r).color(a),i=PM.seriesSvgMulti().mapping((C,N)=>C[N]).series(n.map(C=>NM(t,C.key,a,r))),u=zt().pad([.05,.05]).padUnit("percent"),f=$e(t).excludeType(qe.linear).settingName("crossValues").valueName("crossValue")(n),c=$e(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).orient("vertical").paddingStrategy(u),h=da(t,n).color(a),v=c(h.data()),b=h.haveSplit()?i:pt(i,t).orient("vertical"),M=yn(f,v).axisSplitter(h).plotArea(b);M.yNice&&M.yNice();let A=gt().chart(M).settings(t).xScale(f.scale),D=jt().settings(t).xScale(f.scale).yScale(v.scale).color(a).data(n);if(h.haveSplit()){let C=c(h.altData());M.altAxis(C),D.data(h.data()).altDataWithScale({yScale:C.scale,data:h.altData()})}e.datum(h.data()).call(A),e.call(D),o&&e.call(o)}LM.plugin={name:"Y Scatter",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var IM=LM;function zM(e,t){return lo(e,t,{excludeEmpty:!0}).map(n=>II(e,n))}function II(e,t){let n=wn(e),r=t.map((a,o)=>({crossValue:n(a,o),mainValues:e.mainValues.map(i=>a[i.name]),x:a[e.mainValues[0].name],y:a[e.mainValues[1].name],colorValue:e.realValues[2]?a[e.realValues[2]]:void 0,size:e.realValues[3]?a[e.realValues[3]]:void 0,key:t.key,row:a}));return r.key=t.key,r}function RM(e,t,n,r){return Wn().domain(OM(t,n,r))}function ma(e,t,n,r=null){let a=OM(t,n,r),o=e.colorStyles.gradient.full;if(a[0]>=0)o=e.colorStyles.gradient.positive;else if(a[1]<=0)o=e.colorStyles.gradient.negative;else{let u=Math.max(-a[0],a[1]);a=[-u,u]}let i=zI(o);return $o(i).domain(a)}var OM=(e,t,n)=>n||Kg().valueName(t).pad([0,0])(e),zI=e=>{let t=e.slice(1).map((n,r)=>nt(e[r][1],n[1]));return n=>{let r=e.findIndex((u,f)=>f<e.length-1&&n<=e[f+1][0]&&n>u[0]);if(r===-1)return n<=e[0][0]?e[0][1]:e[e.length-1][1];let a=t[r],[o]=e[r],[i]=e[r+1];return a((n-o)/(i-o))}};var ha=ze(Re());function pa(){let e=null;function t(n){let r=ft(n,"div.legend-container",()=>n.append("div").attr("class","legend-container legend-color").style("z-index","2")),{width:a,height:o}=r.node().getBoundingClientRect(),i=Cn().domain([0,1]).range([0,a]),u=e.copy().nice().domain(),f=ha.extentLinear().pad([.1,.1]).padUnit("percent")(u),[c,h]=f,v=Ws(c,h,(h-c)/o),b=Wn().domain(f).range([o,0]),M=ha.autoBandwidth(ha.seriesSvgBar()).xScale(i).yScale(b).crossValue(0).baseValue((P,R)=>v[Math.max(0,R-1)]).mainValue(P=>P).decorate(P=>{P.selectAll("path").style("fill",R=>e(R))}),A=u[0]<0&&u[1]>0?0:Math.round((u[1]+u[0])/2),D=[...u,A],C=Xs(c,h),N=ha.axisRight(b).tickValues(D).tickSizeOuter(0).tickFormat(P=>C(P)),O=ft(r,"svg",()=>r.append("svg")).style("width",a).style("height",o),B=ft(O,"g",()=>O.append("g")).datum(v).call(M),L=Math.abs(B.node().getBBox().x);ft(O,"#legend-axis",()=>O.append("g").attr("id","legend-axis")).attr("transform",`translate(${L})`).datum(v).call(N).select(".domain").attr("visibility","hidden")}return t.scale=(...n)=>n.length?(e=n[0],t):e,t}function Ei(){let e="element-prefix-unset",t=null,n=null,r=null,a=null,o=null,i=null,u=!0,f=null,c=h=>{let v=ft(h,"div.outer-container",()=>h.append("div").attr("class","outer-container").style("width",`calc(100% - ${f??0})`).style("height",`calc(100% - ${f??0})`).style("padding-left",f??0)),b=ft(v,"div.inner-container",()=>v.append("div").attr("class","inner-container")),M=v.node().getBoundingClientRect(),A=M.height,D=M.width-(o?70:0),C=300,N=h.datum(),O=Math.max(1,Math.min(N.length,Math.floor(D/C))),B=Math.ceil(N.length/O);i={width:D/Math.max(O,1),height:Math.min(A,Math.max(A/B,D/Math.max(O,1)))},A/B>i.height*.75&&(i.height=A/B),N.length>1?(b.style("grid-template-columns",`repeat(${O}, ${100/O}%)`),b.style("grid-template-rows",`repeat(${B}, ${i.height}px)`)):(b.style("grid-template-columns","repeat(1, 100%)"),b.style("grid-template-rows","repeat(1, 100%)")),r=b.selectAll(`div.${e}-container`).data(N,L=>L.split),r.exit().remove(),n=r.enter().append("div").attr("class",`${e}-container`),a=n.append("div").attr("class","title-container").style("text-align","center").attr("display","inline-block").append("text").attr("class","title").style("text-align","left"),u?t=n.append("svg").append("g").attr("class",e):t=n.append("div").attr("class",e)};return c.padding=(...h)=>h.length?(f=h[0],c):f,c.svg=(...h)=>h.length?(u=h[0],c):u,c.elementsPrefix=(...h)=>h.length?(e=h[0],c):e,c.chartContainer=()=>t,c.chartEnter=()=>n,c.chartDiv=()=>r,c.chartTitle=()=>a,c.containerSize=()=>i,c}var BM=ze(Re());function RI([e,t],[n,r]){let a=(r-t)/(n-e),o=r-a*n;return function(i){let u=i.node(),f=Math.min(u.clientWidth,u.clientHeight);return Math.min(r,Math.max(t,a*f+o))}}function Lc(){let e=null,t=null,n=null,r=null,a=o=>{let u=!!e.realValues[2],f=e.realValues[4],c=e.realValues[3]?RM(e,t,"size").range([10,1e4]):null,h=e.realValues[5],v=RI([600,.1],[1600,1])(o),b=BM.seriesCanvasMulti().mapping((P,R)=>P[R]).series(t.map(()=>xM(e,f,c,n,h,r,v))),M=()=>$e(e).settingName("mainValues").paddingStrategy(zt()).pad([.1,.1]),A=M().settingValue(e.mainValues[0].name).memoValue(e.axisMemo[0]).valueName("x")(t),D=M().orient("vertical").settingValue(e.mainValues[1].name).memoValue(e.axisMemo[1]).valueName("y")(t),[C,N]=e.splitValues.length===0?[e.mainValues[0].name,e.mainValues[1].name]:["",""],O=bi(A,D).xLabel(C).yLabel(N).plotArea(pt(b,e).canvas(!0));O.xNice&&O.xNice(),O.yNice&&O.yNice();let B=gt().chart(O).settings(e).xScale(A.scale).yScale(D.scale).canvas(!0),L=jt().scaleFactor(v).settings(e).canvas(!0).xScale(A.scale).xValueName("x").yValueName("y").yScale(D.scale).color(!u&&n).size(c).data(t);o.datum(t).call(B),o.call(L)};return a.settings=(...o)=>o.length?(e=o[0],a):e,a.data=(...o)=>o.length?(t=o[0],a):t,a.color=(...o)=>o.length?(n=o[0],a):n,a.symbols=(...o)=>o.length?(r=o[0],a):r,a}function OI(e,t){if(!t)return;let n=e.realValues[4],r=e.mainValues.find(f=>f.name===n)?.type,a=t.domain(),o=t.range(),i=o.length;for(let[f,c]of a.entries())o[f]=o[f%i];let u=e.columns_config?.[n]?.symbols??{};return Object.entries(u).forEach(([f,c])=>{let h=U0[c]??jn,v=a.findIndex(b=>{switch(r){case"date":case"datetime":return new Date(b).valueOf()===new Date(f).valueOf();default:return String(b)===String(f)}});o[v]=h}),t.range(o),t}function Ic(e,t){let n=t.realValues[2],r=!!n,a=t.mainValues.find(v=>v.name===n)?.type==="string",o=null,i=null,u=t.realValues[4],f=bM(t,u),c=OI(t,f),h=zM(t,Di(t));if(r&&a?u?(t.splitValues.length>0?o=oo(t,h):o=oo(t,h[0]),i=gl().settings(t).scale(c)):(o=R4(t,n),i=It().settings(t).scale(o)):r?(o=ma(t,h,"colorValue"),i=pa().scale(o)):(o=Nn().settings(t).domain([""])(),i=gl().settings(t).scale(c)),t.splitValues.length!==0){let v=Ei().svg(!1).elementsPrefix("xy-scatter");v=v.padding("2.5em"),e.append("div").attr("class","multi-xlabel").append("p").text(t.mainValues[0].name),e.append("div").attr("class","multi-ylabel").append("p").text(t.mainValues[1].name).style("transform","rotate(-90deg)").style("text-wrap","nowrap"),e=e.datum(h),e.call(v);let A=v.chartContainer(),D=v.chartEnter(),C=v.chartDiv(),N=v.chartTitle(),O=v.containerSize();N.each((B,L,P)=>fe(P[L]).text(B.key)),D.merge(C).attr("transform",`translate(${O.width/2}, ${O.height/2})`).each(function(B){let L=fe(this);Lc().settings(t).data([B]).color(o).symbols(c)(L)})}else Lc().settings(t).data(h).color(o).symbols(c)(e);i&&e.call(i)}Ic.plugin={name:"X/Y Scatter",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Color","Size","Symbol","Label","Tooltip"]},selectMode:"toggle"};Ic.can_render_column_styles=(e,t)=>e==="string"&&t==="Symbol";Ic.column_style_controls=(e,t)=>e==="string"&&t==="Symbol"?{symbols:{keys:"row",values:Object.keys(U0)}}:null;var FM=Ic;var zc=ze(Re());function HM(e,t){let n=zc.seriesCanvasHeatmap();return n.decorate((r,a)=>{r.fillStyle=t(a.colorValue)}),zc.autoBandwidth(n).xValue(r=>r.crossValue).yValue(r=>r.mainValue).colorValue(r=>r.colorValue).colorInterpolate(t.interpolator()).widthFraction(1)}function YM(e,t){let n=wn(e),r=hi(e).excludeType(qe.linear).settingName("splitValues")(),a=[];return t.forEach((o,i)=>{let u=n(o,i);Object.keys(o).filter(f=>f!=="__ROW_PATH__").forEach(f=>{let c=BI(f);a.push({crossValue:u,mainValue:r===qe.time?new Date(c):c,colorValue:o[f],row:o})})}),a}function BI(e){let t=e.split("|");return t.pop(),t.join("|")}function WM(e,t){let n=YM(t,_n(t)),r=ma(t,n,"colorValue"),a=HM(t,r),o=pa().scale(r),i=$e(t).excludeType(qe.linear).settingName("crossValues").valueName("crossValue")(n),u=$e(t).excludeType(qe.linear).settingName("splitValues").valueName("mainValue").modifyDomain(v=>!isNaN(v[0])?v.reverse():v).orient("vertical")(n),f=bi(i,u).plotArea(pt(a,t).canvas(!0));f.xPaddingInner&&(f.xPaddingInner(0),f.xPaddingOuter(0),a.xAlign("right")),f.yPaddingInner&&(f.yPaddingInner(0),f.yPaddingOuter(0),a.yAlign("top"));let c=gt().chart(f).settings(t).xScale(i.scale).yScale(u.scale).canvas(!0),h=jt().settings(t).canvas(!0).xScale(i.scale).yScale(u.scale).color(r).data(n);e.datum(n).call(c),e.call(o),e.call(h)}WM.plugin={name:"Heatmap",category:"Hierarchial Chart",max_cells:5e4,max_columns:500,render_warning:!0,initial:{names:["Color"]}};var qM=WM;var UM=ze(Re());var Rc=ze(Re());function GM(e,t){return lo(e,t,{excludeEmpty:!0}).map(n=>FI(e,n))}function FI(e,t){let n=wn(e),r=o=>t[o<t.length-1?o+1:o][e.realValues[0]],a=t.map((o,i)=>{let u=e.realValues[0]?o[e.realValues[0]]:void 0,f=e.realValues[1]?o[e.realValues[1]]:r(i);return{crossValue:n(o,i),mainValues:e.mainValues.map(c=>o[c.name]),openValue:u,closeValue:f,highValue:e.realValues[2]?o[e.realValues[2]]:Math.max(u,f),lowValue:e.realValues[3]?o[e.realValues[3]]:Math.min(u,f),key:t.key,row:o}});return a.key=t.key,a}var Pi=ze(Re());var HI=e=>e.closeValue>=e.openValue;function $M(e,t,n){let r=n.domain(),a=Nn().domain(r).settings(e).defaultColors([e.colorStyles["series-2"]]).mapFunction(uo(.5))(),o=Nn().settings(e).domain(r)(),i=t().crossValue(c=>c.crossValue).openValue(c=>c.openValue).highValue(c=>c.highValue).lowValue(c=>c.lowValue).closeValue(c=>c.closeValue).decorate((c,h)=>{let v=HI(h)?n(h.key):a(h.key);c.fillStyle=v,c.strokeStyle=v}),u=Pi.seriesCanvasLine().mainValue(c=>c.bollinger.average).crossValue(c=>c.crossValue).decorate((c,h)=>{c.strokeStyle=o(h[0].key)}),f=Pi.seriesCanvasArea().mainValue(c=>c.bollinger.upper).baseValue(c=>c.bollinger.lower).crossValue(c=>c.crossValue).decorate((c,h)=>{c.fillStyle=uo(.25)(o(h[0].key))});return Pi.seriesCanvasMulti().series([f,i,u])}function YI(e){return function(t,n){let r=GM(n,Di(n)),a=Rc.indicatorBollingerBands().value(N=>N.openValue),o=r.map(N=>{let O=a(N);return N.map((B,L)=>Object.assign({bollinger:O[L]},B))}),i=r.map(N=>N.key).concat(n.hideKeys?n.hideKeys:[]).sort(),u=Nn().domain(i).settings(n).mapFunction(uo(1))(),f=It().settings(n).scale(i.length>1?u:null),c=$M(n,e,u),h=Rc.seriesCanvasMulti().mapping((N,O)=>N[O]).series(o.map(()=>c)),v=zt().pad([.1,.1]).padUnit("percent"),b=$e(n).settingName("crossValues").valueName("crossValue")(o),M=$e(n).settingName("mainValues").valueNames(["lowValue","highValue"]).memoValue(n.axisMemo[1]).orient("vertical").paddingStrategy(v)(o),A=bi(b,M).plotArea(pt(h,n).orient("vertical").canvas(!0));A.yNice&&A.yNice();let D=gt().chart(A).settings(n).xScale(b.scale).onChange(N=>{let O=o.map(B=>B.filter(L=>L.crossValue>=N.xDomain[0]&&L.crossValue<=N.xDomain[1]));A.yDomain(M.domainFunction(O))}).canvas(!0),C=jt().settings(n).xScale(b.scale).yScale(M.scale).yValueName("closeValue").color(u).data(o).canvas(!0);t.datum(o).call(D),t.call(C),t.call(f)}}var Oc=YI;var XM=Oc(UM.seriesCanvasOhlc);XM.plugin={name:"OHLC",category:"Y Chart",max_cells:3500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Open","Close","High","Low","Tooltip"]},selectMode:"toggle"};var jM=XM;var QM=ze(Re());var KM=Oc(QM.seriesCanvasCandlestick);KM.plugin={name:"Candlestick",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Open","Close","High","Low","Tooltip"]},selectMode:"toggle"};var ZM=KM;function JM(e,t){if(e.realValues.length>1&&e.realValues[1]!==null){let n=e.realValues[1];if(e.mainValues.find(r=>r.name===n)?.type==="string"){let r=t.map(a=>a.data).filter(a=>a.height>0).map(a=>eA(a)).reduce((a,o)=>a.concat(o));return oo(e,r)}else return ma(e,null,null,b4(t.map(r=>r.extents)))}}function eA(e,t=[]){return e.children&&e.children.length>0?e.children.forEach(n=>t.concat(eA(n,t))):e.data.color&&t.push(e.data.color),t}function Bc(e){let t={},n=e.realValues.map(a=>a===null?null:e.mainValues.find(o=>o.name===a));return e.data.forEach((a,o)=>{let i=Array.isArray(a.__ROW_PATH__)?a.__ROW_PATH__:[];qI(a).forEach(f=>{let c;t[f]||(t[f]=[]),c=t[f],i.forEach((h,v)=>{let b=c.find(M=>M.name===h);if(b||(b={name:h,children:[]},c.push(b)),e.realValues.length>1&&e.realValues[1]!==null){let M=v===i.length-1,A=Li(M?a:e.agg_paths[o][v+1]||a,e.mainValues[1],f);A!==void 0&&(b.color=A)}if(e.realValues.length>2&&e.realValues[2]!==null){b.tooltip=[];for(let M=2;M<e.realValues.length;++M)b.tooltip.push(Li(a,n[M],f))}if(v===i.length-1){if(b.name=i.slice(-1)[0],e.crossValues.length===0)b.size=Li(a,e.mainValues[0],"");else if(i.length===e.crossValues.length){let M=Li(a,e.mainValues[0],f);b.size=M>0?M:0}}c=b.children})})}),Object.entries(t).map(a=>{let o={name:"root",children:a[1]},i=Qr(o).sum(f=>f.size),u=Gg().size([2*Math.PI,i.height+1])(i);return u.each(f=>{f.current=f,f.mainValues=e.realValues.length===1||e.realValues[1]===null&&e.realValues[2]===null?f.value:[f.value,f.data.color].concat(f.data.tooltip||[]).filter(c=>c!==void 0),f.crossValue=f.ancestors().slice(0,-1).reverse().map(c=>c.data.name),f.key=a[0],f.label=Sr(e.crossValues[f.depth-1<0?0:f.depth-1]?.type||e.mainValues[0].type,f.data.name)}),{split:a[0],data:u,extents:WI(e,a)}})}var Li=(e,t,n)=>n.length?e[`${n}|${t.name}`]:e[t.name];function WI(e,[t,n]){if(e.realValues.length>1&&e.realValues[1]!==null){let r=Math.min(...e.data.map(o=>Li(o,e.mainValues[1],t))),a=Math.max(...n.map(o=>o.color));return[r,a]}}function qI(e){let t=[];return Object.keys(e).forEach(n=>{if(n!=="__ROW_PATH__"){let r=n.split("|").slice(0,-1).join("|");t.includes(r)||t.push(r)}}),t}var Fc=e=>Jf().startAngle(t=>t.x0).endAngle(t=>t.x1).padAngle(t=>Math.min((t.x1-t.x0)/2,.005)).padRadius(e).innerRadius(t=>Math.max(1,(t.y0-1)*e)).outerRadius(t=>Math.max((t.y0-1)*e,(t.y1-1)*e-1)),Tr=e=>e.y0>=1&&e.x1>e.x0;var bl=e=>e.y1<=3&&e.y0>=1&&(e.y1-e.y0)*(e.x1-e.x0)>.06;function Hc(e,t){let n=(e.x0+e.x1)/2*180/Math.PI,r=(e.y0-1+(e.y1-1))/2*t;return`rotate(${n-90}) translate(${r},0) rotate(${n<180?0:180})`}function tA(e,t){let n=this.getBBox().width;if(n>t){let r=e.label,a=fe(this);for(;n>t;)r=r.substring(0,r.length-1),a.text(()=>r),n=this.getBBox().width;a.text(()=>`${r.substring(0,r.length-3).replace(/\s+$/,"")}...`)}}var nA=(e,t,n,r,a,o,i,u,f)=>(c,h)=>{f.sunburstLevel[u]=c.data.name,c.parent?(n.datum(c.parent),n.style("cursor","pointer"),r.html(`&#8682; ${c.label}`)):(n.datum(e),n.style("cursor","default"),r.html("")),e.each(b=>b.target={x0:Math.max(0,Math.min(1,(b.x0-c.x0)/(c.x1-c.x0)))*2*Math.PI,x1:Math.max(0,Math.min(1,(b.x1-c.x0)/(c.x1-c.x0)))*2*Math.PI,y0:Math.max(0,b.y0-c.depth),y1:Math.max(0,b.y1-c.depth)});let v=t.transition().duration(h?0:750);a.transition(v).tween("data",b=>{let M=nt(b.current,b.target);return A=>b.current=M(A)}).filter(function(b){return+this.getAttribute("fill-opacity")||Tr(b.target)}).attr("fill-opacity",b=>Tr(b.target)?1:0).attr("user-select",b=>Tr(b.target)?"initial":"none").style("pointer-events",b=>Tr(b.target)?"initial":"none").attrTween("d",b=>()=>Fc(i)(b.current)),o.filter(function(b){return+this.getAttribute("fill-opacity")||bl(b.target)}).transition(v).attr("fill-opacity",b=>+bl(b.target)).attrTween("transform",b=>()=>Hc(b.current,i))};function rA(){let e=null,t=null,n=null,r=null,a=null,o=i=>{let u=i.selectAll("g.segment").data(n.descendants().slice(1)),f=u.enter().append("g").attr("class","segment");f.append("path"),f.append("text").attr("class","segment").attr("dy","0.35em");let c=f.merge(u),h=c.select("path").attr("fill-opacity",D=>Tr(D.current)?1:0).attr("user-select",D=>Tr(D.current)?"initial":"none").style("pointer-events",D=>Tr(D.current)?"initial":"none").attr("d",D=>Fc(a)(D.current));r&&h.style("fill",D=>r(D.data.color));let v=c.select("text").attr("fill-opacity",D=>+bl(D.current)).attr("transform",D=>Hc(D.current,a)).text(D=>D.label).each(function(D){tA.call(this,D,a)}),b=i.select("text.parent"),M=i.select("circle").attr("r",a).datum(n),A=nA(n,i,M,b,h,v,a,t,e);if(e.sunburstLevel){let D=n.descendants().find(C=>C.data.name===e.sunburstLevel[t]);D&&A(D,!0)}else e.sunburstLevel={};M.on("click",D=>A(D,!1)),h.filter(D=>D.children).style("cursor","pointer").on("click",D=>A(D,!1))};return o.settings=(...i)=>i.length?(e=i[0],o):e,o.split=(...i)=>i.length?(t=i[0],o):t,o.data=(...i)=>i.length?(n=i[0],o):n,o.color=(...i)=>i.length?(r=i[0],o):r,o.radius=(...i)=>i.length?(a=i[0],o):a,o}function aA(e,t){let n=Bc(t),r=JM(t,n),a=Ei().elementsPrefix("sunburst");if(e.datum(n).call(a),r){let h=t.realValues[1];if(t.mainValues.find(v=>v.name===h)?.type==="string"){let v=It().settings(t).scale(r);e.call(v)}else{let v=pa().scale(r);e.call(v)}}let o=a.chartContainer(),i=a.chartEnter(),u=a.chartDiv(),f=a.chartTitle(),c=a.containerSize();f.each((h,v,b)=>fe(b[v]).text(h.split)),o.append("circle").attr("fill","none").style("pointer-events","all"),o.append("text").attr("class","parent"),i.merge(u).select("svg").select("g.sunburst").attr("transform",`translate(${c.width/2}, ${c.height/2})`).each(function({split:h,data:v}){let b=fe(this),M=this.parentNode,{width:A,height:D}=M.getBoundingClientRect(),C=(Math.min(A,D)-24)/Math.max(2,t.crossValues.length*2);rA().settings(t).split(h).data(v).color(r).radius(C)(b),ta().settings(t)(b.selectAll("g.segment"))})}aA.plugin={name:"Sunburst",category:"Hierarchial Chart",max_cells:7500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var oA=aA;function iA(e,t){if(e.realValues.length<1||e.realValues[1]===null||e.realValues[1]===void 0)return;let n=e.realValues[1],r=t.filter(a=>a.height>0).map(a=>uA(a)).reduce((a,o)=>a.concat(o));if(e.mainValues.find(a=>a.name===n)?.type==="string")return oo(e,r);{let a=Math.min(...r),o=Math.max(...r);return ma(e,null,null,[a,o])}}function uA(e,t=[]){return e.children&&e.children.length>0?e.children.forEach(n=>t.concat(uA(n,t))):e.data.color&&t.push(e.data.color),t}var lA=7,Yc=e=>!!(e.target&&e.target.textAttributes),Wc=(e,t,n)=>{e.selectAll("text").each(function(a,o){let i=XI(a,t,n);this.style=i});let r=wl(e);GI(r),X0(r)},fA=e=>{e.each((t,n,r)=>{fe(r[n]).selectAll("text").attr("dx",t.target.textAttributes.dx).attr("dy",t.target.textAttributes.dy).attr("style",t.target.textAttributes.style)})},X0=e=>{let r=o=>o.getBoundingClientRect(),a=[];e.selectAll("text").filter((o,i,u)=>fe(u[i]).attr("style")===wo.high).each((o,i,u)=>a.push(u[i])),e.selectAll("text").filter((o,i,u)=>fe(u[i]).attr("style")===wo.low).each((o,i,u)=>{let f=u[i];a.filter(c=>a0("x",r(c),r(f))&&a0("y",r(c),r(f),-2)).forEach(()=>fe(f).attr("dy",Number(fe(f).attr("dy"))+14))})},sA=e=>fe(e).style("opacity",yl[fe(e).attr("class")]),cA=e=>fe(e).style("opacity",null),yl={top:1,mid:.7,lower:0},wl=e=>e.filter((t,n,r)=>fe(r[n]).selectAll("text").attr("style")!==wo.zero),qc=e=>e.selectAll("text").each((t,n,r)=>$I(r[n])),GI=e=>e.selectAll("text").each((t,n,r)=>dA(r[n])),dA=e=>{let t=fe(e),n=e.getBoundingClientRect();t.attr("dx",0-n.width/2).attr("dy",0+n.height/4)},$I=e=>{let n=e.parentNode.childNodes[0],r=e.getBBox(),a=n.getBBox();UI(e,a,r)||fe(e).attr("style",fe(e).attr("style"))},UI=(e,t,n)=>{let r=Math.min(t.height/n.height,t.width/n.width);if(r<1){let a=parseInt(fe(e).style("font-size")),o=Math.floor(a*r);return a>lA&&o>lA?(fe(e).style("font-size",`${o}px`),dA(e)):(fe(e).style("font-size",null),fe(e).style("opacity","0")),!0}return!1},XI=(e,t,n)=>{if(!n.filter(r=>r!=="").every(r=>e.crossValue.includes(r)))return wo.zero;switch(e.depth){case t+1:return wo.high;case t+2:return wo.low;default:return wo.zero}},wo={high:"font-size:14px;z-index:5;pointer-events: none;",low:"font-size:8px;opacity:0.7;z-index:4;",zero:"font-size:0px;opacity:0;z-index:4;"};var Gc=(e,t)=>{let n=$g().size([e,t]).paddingInner(r=>1+2*(r.height-1));return n.tile(Ug),n};var jI=(e,t)=>t.every(n=>e.crossValue.includes(n));function j0(e,t,n,r,a,o){QI(e,t,n,r,a),e.mapLevel[r].levelRoot=!0,KI(e,o.node().getBoundingClientRect().width,o.node().getBoundingClientRect().height,r),hA(n,r)}function mA(e,t){e.each(n=>{n.mapLevel=[],n.mapLevel[0]={x0:n.x0,x1:_o(n)+n.x0,y0:n.y0,y1:So(n)+n.y0,visible:!0,opacity:1}}),t.mapLevel[0].levelRoot=!0,hA(e,0)}var $c=(e,t)=>{e.each((n,r,a)=>{let o=fe(a[r]).selectAll("text");n.mapLevel[t].textAttributes={dx:o.attr("dx"),dy:o.attr("dy"),class:o.attr("class"),"font-size":o.style("font-size")}})};function QI(e,t,n,r,a){let o={x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0},i={width:a.x1-a.x0,height:a.y1-a.y0},u={width:i.width/o.width,height:i.height/o.height};n.each(f=>{let c=(f.x0-o.x)*u.width,h=(f.y0-o.y)*u.height,v=_o(f)*u.width,b=So(f)*u.height,M=jI(f,t)&&f.data.name!==t[r-1];f.mapLevel[r]={x0:c,x1:v+c,y0:h,y1:b+h,visible:M,opacity:M?1:0}}),e.mapLevel[r].levelRoot=!0}function KI(e,t,n,r){let i=Gc(t,n)(Qr(e.data).sum(f=>f.size)).descendants(),u=e.descendants();i.forEach((f,c)=>{u[c].mapLevel[r].x0=i[c].x0,u[c].mapLevel[r].x1=i[c].x1,u[c].mapLevel[r].y0=i[c].y0,u[c].mapLevel[r].y1=i[c].y1})}function hA(e,t){e.selectAll("text").each((n,r,a)=>{let o=fe(a[r]),i=fe(a[r]).datum(),u=o.attr("class");i.mapLevel[t].textLockedAt={opacity:yl[u]}})}function pA(e,t,n,r,a,o,i,u,f){if(r.treemapLevel>0){let c=i.crossValue;K0(i,e,t,n,r,a,o,i,0,c,u,f,1,!1),r.treemapRoute.slice(1,r.treemapRoute.length).forEach(h=>{let v=t.filter(M=>M.crossValue===h).datum(),b=v.crossValue;j0(v,b,t,v.depth,i,a),K0(v,e,t,n,r,a,o,i,v.depth,b,u,f,1,!1)})}}function Z0(e,t,n,r,a,o,i,u,f,c){if(!e.children)return;a.treemapLevel<e.depth?a.treemapRoute.push(e.crossValue):a.treemapRoute.pop(),a.treemapLevel=e.depth;let h=e.crossValue;(!e.mapLevel[a.treemapLevel]||!e.mapLevel[a.treemapLevel].levelRoot)&&j0(e,h,n,a.treemapLevel,u,o),K0(e,t,n,r,a,o,i,u,a.treemapLevel,h,f,c)}function K0(e,t,n,r,a,o,i,u,f,c,h,v,b=500,M=!0){let A=e.parent,D=i.transition("main transition").duration(b).ease(Es);n.each(N=>N.target=N.mapLevel[f]),Yc(e)||tz(n,h),n.transition(D).tween("data",N=>{let O=nt(N.current,N.target);return B=>N.current=O(B)}).styleTween("opacity",N=>()=>N.current.opacity).attrTween("pointer-events",N=>()=>N.target.visible?"all":"none"),t.transition(D).filter(N=>N.target.visible).styleTween("x",N=>()=>`${N.current.x0}px`).styleTween("y",N=>()=>`${N.current.y0}px`).styleTween("width",N=>()=>`${N.current.x1-N.current.x0}px`).styleTween("height",N=>()=>`${N.current.y1-N.current.y0}px`),r.transition(D).filter(N=>N.target.visible).attrTween("x",N=>()=>N.current.x0+_o(N.current)/2).attrTween("y",N=>()=>N.current.y0+So(N.current)/2).end().catch(()=>Q0(n)).then(()=>{Yc(e)||(X0(C),qc(C),ZI(r,i,b),M&&$c(n,f),Q0(n,h))}).catch(N=>{console.error("Exception completing promises after main transition",N),Q0(n,h)}),Yc(e)?fA(n):(r.each((N,O,B)=>sA(B[O])),Wc(n,f,c));let C=wl(n);A?h.hide(!1).text(e.label).onClick(()=>{Z0(A,t,n,r,a,o,i,u,h,v);let N=o.node().getRootNode().host.parentElement;nl(N,A,v)})():h.hide(!0)()}async function ZI(e,t,n=400){let r=t.transition("text fade transition").duration(n).ease(Es);await e.transition(r).filter(a=>a.target.visible).tween("data",(a,o,i)=>{let u=i[o],f=nt(JI(a),ez(u));return c=>a.current.opacity=f(c)}).styleTween("opacity",a=>()=>a.current.opacity).end().catch(a=>console.error("Exception in text fade transition",a)).then(()=>e.each((a,o,i)=>cA(i[o])))}var JI=e=>e.target.textLockedAt.opacity,ez=e=>yl[fe(e).attr("class")],tz=(e,t)=>{t.deactivate(!0),e.each((n,r,a)=>{fe(a[r]).selectAll("rect").style("pointer-events","none")})},Q0=(e,t=void 0)=>{t&&t.deactivate(!1),e.each((n,r,a)=>{fe(a[r]).selectAll("rect").style("pointer-events",null)})};var gA=`<button id="goto-parent">Goto parent</button>
`;function vA(e){let t=null,n=null,r=!0,a=!1,o=ft(e,".parent-controls",()=>e.append("div").attr("class","parent-controls").style("display",r?"none":"").html(gA)),i=()=>{o.style("display",r?"none":"").select("#goto-parent").style("pointer-events",a?"none":null).html(`\u21EA ${n}`).on("click",()=>t())};return i.deactivate=(...u)=>{if(!u.length)return a;a=u[0];let f=o.select("#goto-parent");return a?f.style("pointer-events","none"):f.style("pointer-events",null),i},i.hide=(...u)=>u.length?(r=u[0],i):r,i.text=(...u)=>u.length?(n=u[0],i):n,i.onClick=(...u)=>u.length?(t=u[0],i):t,i}var Uc={leaf:"leafnode",branch:"branchnode",root:"rootnode"},_o=e=>e.x1-e.x0,So=e=>e.y1-e.y0,rz=(e,t)=>t.depth===e,xA=(e,t)=>t.depth===0?Uc.root:rz(e,t)?Uc.leaf:Uc.branch;function bA(){let e=null,t=null,n=null,r=null,a=null,o=null,i=u=>{o=vA(a),o();let f=n.height;e.treemapLevel||(e.treemapLevel=0),e.treemapRoute||(e.treemapRoute=[]),Gc(a.node().getBoundingClientRect().width,a.node().getBoundingClientRect().height)(n);let h=u.selectAll("g").data(n.descendants()),v=h.enter().append("g");v.append("rect"),v.append("text");let b=v.merge(h).sort((C,N)=>N.depth-C.depth),M=b.select("rect").attr("class",C=>`treerect ${xA(f,C)}`).style("x",C=>C.x0).style("y",C=>C.y0).style("width",C=>_o(C)).style("height",C=>So(C));M.style("fill",C=>xA(f,C)===Uc.leaf?C.data.color?r(C.data.color):t.colorStyles.series:"transparent");let A=b.filter(C=>C.value!==0).select("text").attr("x",C=>C.x0+_o(C)/2).attr("y",C=>C.y0+So(C)/2).text(C=>C.label),D=M.filter(C=>C.crossValue.length===0).datum();mA(b,D),Wc(b,0,[]),qc(wl(b)),$c(b,0),e.treemapRoute.length===0&&e.treemapRoute.push(D.crossValue),M.filter(C=>C.children).on("click",(C,N)=>Z0(N,M,b,A,e,a,u,D,o,t)),pA(M,b,A,e,a,u,D,o,t)};return i.settings=(...u)=>u.length?(e=u[0],t=u[1],i):e,i.data=(...u)=>u.length?(n=u[0],i):n,i.color=(...u)=>u.length?(r=u[0],i):r,i.container=(...u)=>u.length?(a=u[0],i):a,i}function yA(e,t){t.treemaps||(t.treemaps={});let n=Bc(t),r=iA(t,n.map(f=>f.data));r&&this._container.classList.add("has-legend");let a=Ei().elementsPrefix("treemap");if(e.datum(n).call(a),r){let f=t.realValues[1];if(t.mainValues.find(c=>c.name===f)?.type==="string"){let c=It().settings(t).scale(r);e.call(c)}else{let c=pa().scale(r);e.call(c)}}let o=a.chartEnter(),i=a.chartDiv();a.chartTitle().each((f,c,h)=>fe(h[c]).text(f.split)),o.merge(i).select("svg").select("g.treemap").each(function({split:f,data:c}){let h=fe(this);t.treemaps[f]||(t.treemaps[f]={}),bA().settings(t.treemaps[f],t).data(c).container(fe(fe(this.parentNode).node().parentNode)).color(r)(h),ta().settings(t).centered(!0)(h.selectAll("g"))})}yA.plugin={type:"Treemap",name:"Treemap",category:"Hierarchial Chart",max_cells:3e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var wA=yA;var az=[tM,cM,gM,MM,VM,IM,FM,jM,ZM,wA,oA,qM],J0=az;var SA=ze(_A()),tv=(e,t)=>{if(!t.colorStyles){let n={scheme:[],gradient:{},interpolator:{},grid:{}},r=uz(e);n.series=r("--d3fc-local-series");for(let o=1;;o++){let i=`series-${o}`,u=r(`--d3fc-local-${i}`);if(!u)break;n[i]=u,n.scheme.push(u)}n.opacity=oz(n.series),n.grid.gridLineColor=r`--d3fc-gridline--color`,["full","positive","negative"].forEach(o=>{let i=r(`--d3fc-local-${o}--gradient`);n.gradient[o]=lz(i,n.opacity)}),t.colorStyles=n}if(!t.textStyles){let n=window.getComputedStyle(e),r=n.getPropertyValue("color"),a=`12px ${n.getPropertyValue("font-family")}`;t.textStyles={color:r,font:a}}},oz=e=>kt(e).opacity,iz=(e,t)=>{let n=kt(`#${e}`);return n.opacity=t,n+""},uz=e=>{let t=getComputedStyle(e);return n=>t?.getPropertyValue(n)},lz=(e,t)=>{let n=SA.parse(e)[0].colorStops;return n.map((r,a)=>[r.length?r.length.value/100:a/(n.length-1),iz(r.value,t)]).sort((r,a)=>r[0]-a[0])};var MA=':host .chart{--d3fc-local-full--gradient:var(--d3fc-full--gradient,linear-gradient(#4d342f 0%,#e4521b 22.5%,#feeb65 42.5%,#f0f0f0 50%,#dcedc8 57.5%,#42b3d5 67.5%,#1a237e 100%));--d3fc-local-positive--gradient:var(--d3fc-positive--gradient,linear-gradient(#dcedc8 0%,#42b3d5 35%,#1a237e 100%));--d3fc-local-negative--gradient:var(--d3fc-negative--gradient,linear-gradient(#feeb65 100%,#e4521b 70%,#4d342f 0%));--d3fc-local-series:var(--d3fc-series,rgba(31,119,180,0.5));--d3fc-local-series-1:var(--d3fc-series-1,#0366d6);--d3fc-local-series-2:var(--d3fc-series-2,#ff7f0e);--d3fc-local-series-3:var(--d3fc-series-3,#2ca02c);--d3fc-local-series-4:var(--d3fc-series-4,#d62728);--d3fc-local-series-5:var(--d3fc-series-5,#9467bd);--d3fc-local-series-6:var(--d3fc-series-6,#8c564b);--d3fc-local-series-7:var(--d3fc-series-7,#e377c2);--d3fc-local-series-8:var(--d3fc-series-8,#7f7f7f);--d3fc-local-series-9:var(--d3fc-series-9,#bcbd22);--d3fc-local-series-10:var(--d3fc-series-10,#17becf);}:host .chart .series{fill:var(--d3fc-local-series);}:host .chart .series-1{fill:var(--d3fc-local-series-1);}:host .chart .series-2{fill:var(--d3fc-local-series-2);}:host .chart .series-3{fill:var(--d3fc-local-series-3);}:host .chart .series-4{fill:var(--d3fc-local-series-4);}:host .chart .series-5{fill:var(--d3fc-local-series-5);}:host .chart .series-6{fill:var(--d3fc-local-series-6);}:host .chart .series-7{fill:var(--d3fc-local-series-7);}:host .chart .series-8{fill:var(--d3fc-local-series-8);}:host .chart .series-9{fill:var(--d3fc-local-series-9);}:host .chart .series-10{fill:var(--d3fc-local-series-10);}:host{user-select:none;}:host .chart{position:absolute;box-sizing:border-box;left:0;top:0;width:100%;height:100%;padding:12px;overflow:hidden;}:host .chart.heatmap d3fc-group.cartesian-chart,:host .chart.treemap d3fc-group.cartesian-chart{grid-template-columns:minmax(0em,max-content)auto 1fr auto minmax(0em,max-content);grid-template-rows:minmax(0em,max-content)auto 1fr auto minmax(0em,max-content);}:host .chart .chart-label{display:none;}:host .chart.heatmap{padding-right:120px;}:host .chart.xyscatter{padding:0;font-size:14px;}:host .chart.xyscatter d3fc-group:first-child{padding:16px;padding-top:0px;width:calc(100% - 32px);height:calc(100% - 16px);}:host .chart.xyscatter .multi-xlabel{position:absolute;bottom:0;height:2.5em;width:100%;display:flex;justify-content:center;align-items:center;background:var(--d3fc-legend--background);}:host .chart.xyscatter .multi-ylabel{position:absolute;top:0;width:2.5em;height:100%;display:flex;justify-content:center;align-items:center;background:var(--d3fc-legend--background);}:host .chart.xyscatter .outer-container{height:100%;}:host .chart.xyscatter .inner-container{display:inline-grid;overflow-y:auto;width:calc(100% - 16px);height:100%;padding:0;margin:0;}:host .chart.xyscatter .inner-container div{overflow:hidden;}:host .chart.xyscatter .inner-container text.segment,:host .chart.xyscatter .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.xyscatter .inner-container div.xy-scatter-container{margin:5px 0;}:host .chart.sunburst{padding:0;font-size:14px;}:host .chart.sunburst .outer-container{height:100%;}:host .chart.sunburst .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto;}:host .chart.sunburst .inner-container div{overflow:hidden;}:host .chart.sunburst .inner-container .sunburst-container:not(:only-child) svg{transform:translate(0,-27px);}:host .chart.sunburst .inner-container svg{width:100%;height:100%;}:host .chart.sunburst .inner-container path{fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host .chart.sunburst .inner-container text.segment,:host .chart.sunburst .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.sunburst .inner-container div.title-container{margin-top:5px;}:host .chart.has-legend{padding-right:120px;}:host .chart.treemap .treemap-container{position:relative;}:host .chart.treemap .treemap-container:not(:only-child){width:calc(100% - 12px);height:calc(100% - 12px);}:host .chart.treemap .outer-container{height:100%;}:host .chart.treemap .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto;}:host .chart.treemap .inner-container div{overflow:hidden;}:host .chart.treemap .inner-container svg{width:100%;height:100%;}:host .chart.treemap .inner-container .treerect{stroke:var(--d3fc-treedata-axis--lines,var(--d3fc-axis--lines,white));fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host .chart.treemap .inner-container .treerect:hover{cursor:pointer;stroke:var(--d3fc-treedata--hover-highlight,black);stroke-opacity:1;}:host .chart.treemap .inner-container .rootnode{opacity:0;pointer-events:none;z-index:0;}:host .chart.treemap .inner-container .branchnode{opacity:0;}:host .chart.treemap .inner-container .branchnode:hover{fill-opacity:0.1;opacity:1;fill:var(--d3fc-treedata--hover-highlight,black);}:host .chart.treemap .inner-container .leafnode{fill-opacity:0.8;}:host .chart.treemap .inner-container .leafnode:hover{fill-opacity:0.5;}:host .chart.treemap .inner-container #hidden{opacity:0;pointer-events:none;z-index:0;}:host .chart.treemap .inner-container .top{font-size:14px;z-index:5;pointer-events:none;}:host .chart.treemap .inner-container .mid{font-size:8px;opacity:0.7;z-index:4;}:host .chart.treemap .inner-container .lower{font-size:0px;opacity:0;z-index:4;}:host .chart.treemap .inner-container text{fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.treemap .inner-container text.title{dominant-baseline:hanging;}:host .chart.treemap .inner-container .parent-controls{position:absolute;top:12px;right:auto;left:30px;width:auto;z-index:4;transition:box-shadow 1s;}:host .chart.treemap .inner-container .parent-controls:hover{box-shadow:2px 2px 6px#000;transition:box-shadow 0.2s;}:host .chart .x-label{height:1.2em!important;line-height:1em!important;}:host .chart .x-label,:host .chart .y-label{color:var(--d3fc-label--color,inherit);font-size:14px;}:host .chart d3fc-canvas.plot-area{display:none;}:host .chart.xyscatter d3fc-canvas.plot-area,:host .chart.xyline d3fc-canvas.plot-area,:host .chart.ohlc d3fc-canvas.plot-area,:host .chart.candlestick d3fc-canvas.plot-area,:host .chart.heatmap d3fc-canvas.plot-area{display:block;}:host .chart .y-axis text,:host .chart .x-axis text{fill:var(--d3fc-axis-ticks--color,rgb(80,80,80));font-size:11px;}:host .chart .y-axis path,:host .chart .x-axis path{stroke:var(--d3fc-axis--lines,rgb(180,210,225));}:host .chart .splitter-label{display:inline-block;margin:0 10px;cursor:pointer;}:host .chart .splitter-label::after{margin-left:5px;color:var(--d3fc-axis--lines,rgb(180,210,225));}:host .chart .splitter-label:hover::after{color:var(--d3fc-axis-ticks--color,rgb(80,80,80));}:host .chart .splitter-label.disabled::after{color:rgba(80,80,80,0.3);}:host .chart .splitter-label.disabled{cursor:default;}:host .chart .y-label.left-label .splitter-label::after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:16px;height:12px;-webkit-mask-image:var(--sort-desc-icon--mask-image);mask-image:var(--sort-desc-icon--mask-image);}:host .chart .y-label.right-label .splitter-label::after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:16px;height:12px;-webkit-mask-image:var(--sort-asc-icon--mask-image);mask-image:var(--sort-asc-icon--mask-image);}:host .chart.ybar .y-axis path,:host .chart.yline .y-axis path,:host .chart.xyline .y-axis path,:host .chart.xyline .x-axis path,:host .chart.yarea .y-axis path,:host .chart.yscatter .y-axis path,:host .chart.xyscatter .y-axis path,:host .chart.xyscatter .x-axis path,:host .chart.xbar .x-axis path{visibility:hidden;}:host .chart .y-label{white-space:nowrap;}:host .chart .nearbyTip{fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host #dragHandles{position:absolute;top:0px;right:0px;left:auto;pointer-events:none;}:host #dragHandles rect{pointer-events:all;}:host .label rect{fill:none;}:host .legend-container{position:absolute;top:12px;right:12px;left:auto;width:150px;height:280px;}:host .legend-container.legend-color{width:90px;height:150px;}:host .legend-container[borderbox-on-hover="true"]{transition:box-shadow 1s;}:host .legend-container[borderbox-on-hover="true"]:hover{background-color:var(--d3fc-legend--background,#ffffff);transition:box-shadow 0.2s,background-color 0.2s;}:host .legend-container .legend{font-size:8pt;width:100%;}:host .legend-container .legend .cell{cursor:pointer;}:host .legend-container .legend .cell path{fill:var(--d3fc-series,rgba(31,119,180,0.5));stroke:var(--d3fc-series,rgb(31,119,180));}:host .legend-container .legend .cell.hidden path{fill:rgba(204,204,204,0.5);stroke:rgb(204,204,204);}:host .legend-container .legend .cell.hidden circle{fill:rgb(204,204,204)!important;}:host .legend-container text{fill:var(--d3fc-legend--text,rgb(51,51,51));}:host .legend-container .label:hover{fill:rgb(34,160,206);}:host .legend-container #legend-axis path{stroke:var(--d3fc-legend--text,rgb(51,51,51));}:host .legend-container .legend-controls{margin-left:12px;}:host .legend-container .legend-controls #up-arrow,:host .legend-container .legend-controls #down-arrow{cursor:pointer;color:rgb(31,119,180);}:host .legend-container .legend-controls #up-arrow.disabled,:host .legend-container .legend-controls #down-arrow.disabled{cursor:default;color:rgb(51,51,51);}:host .heatmap .legend-container.legend-color{height:200px;}:host .treemap .legend-container.legend-color{height:200px;}:host .treemap .legend-container:not(.legend-color){width:100px;}:host .zoom-controls{position:absolute;top:10px;left:0;width:100%;text-align:center;}:host .zoom-controls button{-webkit-appearance:none;background:var(--plugin--background,rgb(247,247,247));border:1px solid var(--inactive--color,rgb(204,204,204));color:var(--d3fc-label--color,inherit);font-size:12px;padding:8px;opacity:0.5;cursor:pointer;}:host .zoom-controls button:hover{opacity:1;}:host .parent-controls{position:absolute;top:30px;right:145px;width:100%;text-align:right;}:host .parent-controls button{-webkit-appearance:none;background:rgb(247,247,247);border:1px solid rgb(204,204,204);padding:10px;opacity:0.5;cursor:pointer;}:host .parent-controls button:hover{background:rgb(230,230,230);}:host div.tooltip{position:absolute;text-align:left;font-size:12px;font-weight:300;white-space:nowrap;padding:0.5em;background:var(--d3fc-tooltip--background,#ffffff);color:var(--d3fc-tooltip--color,black);border:1px solid var(--d3fc-tooltip--border-color,#777777);box-shadow:var(--d3fc-tooltip--box-shadow,none);pointer-events:none;}:host div.tooltip ul{margin:0;padding:0;list-style-type:none;}';var AA={initial:{type:"number",count:1,names:[]},selectMode:"select"},sz=`${MA}${cz()}`,nv=["crossValues","mainValues","realValues","splitValues","filter","data","size","colorStyles","textStyles","agg_paths","treemaps","axisMemo","columns_config"];function cz(){let e=document.querySelector("head").querySelectorAll("style"),t=[];return e.forEach(n=>{n.innerText.indexOf("d3fc-")!==-1&&t.push(n.innerText)}),t.join("")}async function dz(e){await customElements.get("perspective-viewer").registerPlugin(e)}function CA(...e){let t=new Set(e.length>0?e:J0.map(n=>n.plugin.name));J0.forEach(n=>{if(t.has(n.plugin.name)){let r=n.plugin.name.toLowerCase().replace(/[ \t\r\n\/]*/g,""),a=`perspective-viewer-d3fc-${r}`;customElements.define(a,class extends HTMLElement{constructor(){super();this._chart=null,this._settings=null,this.render_warning=!0}connectedCallback(){this._initialized||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>${sz}</style>`,this.shadowRoot.innerHTML+='<div id="container" class="chart"></div>',this._container=this.shadowRoot.querySelector(".chart"),this._initialized=!0)}get name(){return n.plugin.name}get category(){return n.plugin.category}get select_mode(){return n.plugin.selectMode||"select"}get min_config_columns(){return n.plugin.initial?.count||AA.initial.count}get config_column_names(){return n.plugin.initial?.names||AA.initial.names}get max_cells(){return n.plugin.max_cells||4e3}set max_cells(i){n.plugin.max_cells=i}get max_columns(){return n.plugin.max_columns||50}set max_columns(i){n.plugin.max_columns=i}can_render_column_styles(i,u){return n.can_render_column_styles?.call(this,i,u)}column_style_controls(i,u){return n.column_style_controls?.call(this,i,u)}async render(){var i=document.createElement("canvas"),u=this.shadowRoot.querySelector("#container");i.width=u.offsetWidth,i.height=u.offsetHeight;let f=i.getContext("2d");f.fillStyle=window.getComputedStyle(this).getPropertyValue("--plugin--background")||"white",f.fillRect(0,0,i.width,i.height);let c=window.getComputedStyle(this).getPropertyValue("color"),h=Array.from(this.shadowRoot.querySelectorAll("svg:not(#dragHandles)"));for(let A of h.reverse()){var v=document.createElement("img");let D=0;v.width=A.parentElement?A.parentElement.offsetWidth:D,v.height=A.parentElement?A.parentElement.offsetHeight:D;let C=A.cloneNode(!0);C.hasAttribute("viewBox")||C.setAttribute("viewBox",`0 0 ${v.width} ${v.height}`),C.setAttribute("xmlns","http://www.w3.org/2000/svg");for(let O of C.querySelectorAll("text"))O.setAttribute("fill",c);var b=new XMLSerializer().serializeToString(C);b=b.replace(/[^\x00-\x7F]/g,"");let N=new Promise((O,B)=>{v.onload=O,v.onerror=B});try{v.src=`data:image/svg+xml;base64,${btoa(b)}`,await N}catch{let B=new Promise((L,P)=>{v.onload=L,v.onerror=P});v.src=`data:image/svg+xml;utf8,${b}`,await B}f.drawImage(v,A.parentNode.offsetLeft,A.parentNode.offsetTop,v.width,v.height)}let M=Array.from(this.shadowRoot.querySelectorAll("canvas"));for(let A of M.reverse())f.drawImage(A,A.parentNode.offsetLeft,A.parentNode.offsetTop,A.width/window.devicePixelRatio,A.height/window.devicePixelRatio);return await new Promise(A=>i.toBlob(D=>A(D)),"image/png")}async draw(i,u,f){if(this.offsetParent===null){this._staged_view=[i,u,f];return}this._staged_view=void 0,this._settings&&(this._settings.axisMemo=[[1/0,-1/0],[1/0,-1/0]]),await this.update(i,u,f,!0)}async update(i,u,f,c=!1){if(this.offsetParent===null)return;let h=this.parentElement,v,b,M=n.plugin.name!=="Sunburst";u&&f?v=i.to_columns_string({end_row:f,end_col:u,leaves_only:M}):u?v=i.to_columns_string({end_col:u,leaves_only:M}):f?v=i.to_columns_string({end_row:f,leaves_only:M}):v=i.to_columns_string({leaves_only:M}),b=await Promise.all([h.save(),h.getTable().then(K=>K.schema()),i.expression_schema(!1),i.schema(!1),v,i.get_config()]);let[A,D,C,N,O,B]=b,L=JSON.parse(O),P=Object.keys(L),R={row(K){let le={};for(let ce of P)le[ce]=L[ce][K];return le}};this.config=A;let G=this.config.columns,$=function(K){let le=D[K];return le||(le=C[K]),le},{columns:ue,group_by:re,split_by:U,filter:oe}=B,Z=L[Object.keys(L)[0]]||[],H=re.length>0?Z.reduce((K,le,ce)=>{let ne=R.row(ce);if(ne.__ROW_PATH__&&ne.__ROW_PATH__.length==re.length)K.agg_paths.push(K.aggs.slice()),K.rows.push(ne);else{let me=ne.__ROW_PATH__.filter(Me=>Me!==void 0).length;K.aggs[me]=ne,K.aggs=K.aggs.slice(0,me+1)}return K},{rows:[],aggs:[],agg_paths:[]}):{rows:Z.map((K,le)=>R.row(le))},te=(K,le)=>re.length?K:{...K,__ROW_PATH__:[le]},j=H.rows.map(te),X={realValues:G,crossValues:re.map(K=>({name:K,type:$(K)})),mainValues:ue.map(K=>({name:K,type:N[K]})),splitValues:U.map(K=>({name:K,type:$(K)})),filter:oe,data:j,agg_paths:H.agg_paths,...this.config.plugin_config};this._chart=n;let ee={set:(K,le,ce)=>(nv.includes(le)||this._container&&this._container.dispatchEvent(new Event("perspective-plugin-update",{bubbles:!0,composed:!0})),K[le]=ce,!0)},J=[[1/0,-1/0],[1/0,-1/0]];this._settings=new Proxy({axisMemo:J,...this._settings,...X},ee),this._settings.splitMainValues&&this._settings.splitMainValues.length>=ue.length&&(this._settings.splitMainValues=[]),tv(this._container,this._settings),c&&(this._container.innerHTML=""),this._draw(),await new Promise(K=>requestAnimationFrame(K))}async clear(){this._container&&(this._container.innerHTML="")}_draw(){if(this.offsetParent!==null){let i=fe(this._container),u=`chart ${r}`;this._settings.size=this._container.getBoundingClientRect(),this._settings.data.length>0?this._chart(i.attr("class",u),this._settings):i.attr("class",`${u} disabled`)}}async resize(i){if(this.offsetParent!==null)if(this._settings?.data!==void 0)this._draw();else{let[u,f,c]=this._staged_view;this._staged_view=void 0,this.draw(u,f,c)}}async restyle(i,u,f){let c=this._settings;c&&(delete c.colorStyles,delete c.textStyles,this.isConnected&&(tv(this._container,this._settings),this.resize(i)))}async delete(){this._container.innerHTML=""}getContainer(){return this._container}save(){let i={...this._settings};return nv.forEach(u=>{delete i[u]}),i}restore(i,u){let f={};for(let c of nv)this._settings?.[c]!==void 0&&(f[c]=this._settings?.[c]);this._settings={...f,...i,columns_config:u}}}),customElements.whenDefined("perspective-viewer").then(()=>dz(a))}})}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector);CA();
//# sourceMappingURL=perspective-viewer-d3fc.js.map
